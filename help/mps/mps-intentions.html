<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>Intentions - Help | MPS</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body data-id="Intentions.html"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search MPS Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>MPS 2019.2 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="primary" value="primary_default" selected>Default</option><option data-group="primary" value="primary_default_for_gnome">Default for GNOME</option><option data-group="primary" value="primary_default_for_kde">Default for KDE</option><option data-group="primary" value="primary_default_for_xwin">Default for XWin</option><option data-group="primary" value="primary_eclipse">Eclipse</option><option data-group="primary" value="primary_eclipse_mac_os_x">Eclipse (Mac OS X)</option><option data-group="primary" value="primary_emacs">Emacs</option><option data-group="primary" value="primary_jbuilder">JBuilder</option><option data-group="primary" value="primary_mac_os_x">Mac OS X</option><option data-group="primary" value="primary_mac_os_x_10.5_">Mac OS X 10.5+</option><option data-group="primary" value="primary_netbeans">NetBeans</option><option data-group="primary" value="primary_visual_studio">Visual Studio</option><option data-group="secondary" value="secondary_default">Default</option><option data-group="secondary" value="secondary_default_for_gnome">Default for GNOME</option><option data-group="secondary" value="secondary_default_for_kde">Default for KDE</option><option data-group="secondary" value="secondary_default_for_xwin">Default for XWin</option><option data-group="secondary" value="secondary_eclipse">Eclipse</option><option data-group="secondary" value="secondary_eclipse_mac_os_x">Eclipse (Mac OS X)</option><option data-group="secondary" value="secondary_emacs">Emacs</option><option data-group="secondary" value="secondary_jbuilder">JBuilder</option><option data-group="secondary" value="secondary_mac_os_x">Mac OS X</option><option data-group="secondary" value="secondary_mac_os_x_10.5_">Mac OS X 10.5+</option><option data-group="secondary" value="secondary_netbeans">NetBeans</option><option data-group="secondary" value="secondary_visual_studio">Visual Studio</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Intentions.html" id="mps-intentions.xml">Intentions</h1>   <p id="52f490f1">Intentions are a very good example of how MPS enables language authors to smoothen the user experience of people using their language. Intentions provide fast access to the most used operations with syntactical constructions of a language, such as "negate boolean", "invert if condition", "create-from-usage", etc. If you've ever used IntelliJ IDEA's intentions or similar features of any modern IDEs, you will find MPS intentions very familiar.</p>   <h2 id="usingintentions">Using intentions</h2>   <p id="748d8e60">      <figure><img alt="intentions menu" title="intentions menu" src="/help/img/idea/2019.2/intentions-menu.PNG" id="d2253dc4" width="343" height="166"></figure>   </p>   <p id="2cfe5c77">Like in IDEA, if there are available intentions applicable to the code at the current position, a light bulb is shown. To view the list of avaliable intentions, press Alt+Enter or click the light bulb. To apply an intention, either click it or select it and press Enter. This will trigger the intention and alter the code accordingly.&nbsp;<br>       <i id="28d4d487">Example: list of applicable intentions</i>   </p>   <p id="77885add">The intentions menu usually contains 1 up to 20 items, sorted by labeled groups. It is click-friendlier than the Cell Menu as it shows all available items. Keyboard-only use is convenient though. Mouse-only use possible, yet requires waiting for the&nbsp;light-bulb&nbsp;icon to appear.&nbsp;While the intentions menu is open, you may start typing to filter the list elements in a tolerant, gap-respecting search. It is initially unfiltered unlike the code completion menu.</p>   <p id="c57072bd">Open it with <i id="328498d8">Alt + Enter</i> or clicking on the "shortly-appearing"&nbsp;light-bulb&nbsp;icon at the left hand side of the current line. Type to filter. Select an item with arrow keys or hovering it. Finish with <i id="bbe88553">Enter</i> or a&nbsp;single&nbsp;click. Aborting it works the same as the cell menu,&nbsp;with <i id="99ce7b1b">Escape</i>, clicking outside the menu, or changing to another application.</p>         <br>      <h3 id="intentiontypes">Intention types</h3>   <p id="24303071">All intentions are "shortcuts" of a sort, bringing some operations on node structure closer to the user. Two kinds of intentions can be distinguished: regular intentions (possibly with parameters) and "surround with" intentions.<br> Generally speaking, there is no technical difference between these types of intentions. They only differ in how they are typically used by the user.</p>   <p id="d9f50e7e">      <b id="200a91c5">regular intentions</b>&nbsp;are listed on the intentions list (the light bulb) and they directly perform transformations on a node without asking the user for parameters customizing the operations.</p>   <p id="4d7d444e">      <b id="15407a03">"surround with" intentions</b>&nbsp;are used to implement a special kind of transformation - surrounding some node(s) with another construct (e.g. "surround with parenthesis"). These intentions are not offered to the users unless they press&nbsp;<i id="8f857ba7">ctrl-alt-T</i>&nbsp;(the&nbsp;<i id="d1a1b3c9">surround with</i>&nbsp;command) on a node. Neither they are shown in general intentions pop-up menu.</p>   <p id="45dabf3e">      <b id="673c37ec">Universal Intention&nbsp;</b>is a new experimental feature introduced in 3.4, which allows to unify intentions and parameterized intentions. In addition, it allows to add methods and other class members to intention and has a more java-like editor. As the feature is still in an experimental stage, we decided not to replace the old functionality fully. We still recommend you to use the old intentions, but those, who like the new editor better, can experiment with the new ones. The structure of the universal intention is very similar to the old intentions and using them is very straightforward.</p>   <h3 id="commonintentionstructure">Common Intention Structure</h3>   <div class="table-wrapper"><table width="100%" id="501ed9e4"><thead><tr id="78d83dec" class="ijRowHead"><th id="cb577343">            <h4 id="name">name</h4>         </th><th id="d94d3059">            <p id="6f645b84">The name of an intention. You can choose any name you like, the only obvious constraint being that names must be unique in scope of the model.&nbsp;</p>         </th></tr></thead><tbody><tr id="353d30b9" class="ijRowOdd"><td id="4233e792">            <h4 id="forconcept">for concept</h4>         </td><td id="620dcd27">            <p id="ee794f57">Intention will be tested for applicability only to nodes that are instances of this concept and its subconcepts.</p>         </td></tr><tr id="4bb10181" class="ijRowEven"><td id="78c69e1d">            <h4 id="availableinchildnodes">available in child nodes</h4>         </td><td id="c7b35de9">            <p id="56671fd8">Suppose N is a node for which the intention can be applied. If this flag is set to false, intention will be visible only when the cursor is over the node N itself. If set to true, it will be also visible in N's descendants (but still will be applied to N)</p>         </td></tr><tr id="f2857793" class="ijRowOdd"><td id="1b7ec206">            <h4 id="childfilter">child filter</h4>         </td><td id="0fabd99c">            <p id="16abdf5c">Used to show an intention only in some children. E.g. "make method final" intention is better not to be shown inside method's body, but preferrably to be shown in the whole header, including "public" child.</p>         </td></tr><tr id="8fe5a58e" class="ijRowEven"><td id="5000941a">            <h4 id="description">description</h4>         </td><td id="2013360f">            <p id="08b970f1">The value returned by this function is what users will see in the list of intentions.</p>         </td></tr><tr id="241ccd35" class="ijRowOdd"><td id="0e98b6db">            <h4 id="isapplicable">isApplicable</h4>         </td><td id="cf6c564b">            <p id="741d0386">Intentions that have passed the "for concept" test are tested for applicability to the current node. If this method returns "true," the intention is shown in the list and can be applied. Otherwise the intention is not shown in the list. The&nbsp;<b id="9150cd32">node</b>&nbsp;argument of this method is guaranteed to be an instance of the concept specified in "for concept" or one of its subconcepts.</p>         </td></tr><tr id="75c36db5" class="ijRowEven"><td id="f2f448f2">            <h4 id="execute">execute</h4>         </td><td id="8f07326e">            <p id="386b39e7">This method performs a code transformation. It is guaranteed that the&nbsp;<b id="13461658">node</b>&nbsp;parameter has passed the "for concept" and "is applicable" tests.</p>         </td></tr></tbody></table></div>   <h4 id="regularintentions">Regular Intentions</h4>   <p id="96e601c7">      <b id="ae12a073">is error intention</b>&nbsp;- This flag is responsible for an intention's presentation. It distinguishes two types of intentions - "error" intentions which correct some errors in the code (e.g. a missing 'cast') and "regular" intentions, which are intended to help the user perform some genuine code transformations. To visually distinguish the two types, error intentions are shown with a red bulb, instead of an orange one, and are placed above regular intentions in the applicable intentions list.</p>   <h4 id="parameterizedregularintentions">Parameterized regular intentions</h4>   <p id="8573da94">Intentions can sometimes be very close to one another. They may all need to perform the same transformation with a node, just slightly differently. E.g. all "Add ... macro" intentions in the generator ultimately add a macro, but the added macro itself is different for different intentions. This is the case when&nbsp;<b id="2d2b1fc8">parameterized intention</b>&nbsp;is needed. Instead of creating separate intentions, you create a single intention and allow for its parametrization. The intention has a&nbsp;<b id="6a4ee37b">parameter</b>&nbsp;function, which returns a list of parameter values. Based on the list, a number of intentions are created, each with a diferent parameter value. The parameter values can then be accessed in almost every intention's method.</p>   <aside class="tip sideblock" data-title="" rel="8573da94" id="2bae69e8">      <p id="d084c681">You don't have an access to the&nbsp;<i id="3dcdfef1">parameter</i>&nbsp;in the&nbsp;<i id="6ca96288">isApplicable</i>&nbsp;function. This is because of performance reasons. As&nbsp;<i id="abcb0fc9">isApplicable</i>&nbsp;is executed very often and delays would quickly become noticeable by the user, you should perform only base checks in&nbsp;<i id="d10f2f7c">isApplicable</i>. All parameter-dependent checks should be performed in the&nbsp;<i id="3ff9c3e7">parameter</i>&nbsp;function, and if a check was not passed, this parameter should not be returned</p>   </aside>   <h4 id="surroundwith-intentions">Surround With - Intentions</h4>   <p id="0e9698ac">This type of intentions is very similar to regular intentions and all the mentioned details apply to these intentions as well.</p>   <h3 id="wheretostoremyintentions?">Where to store my intentions?</h3>   <p id="4c26cb51">You can create intentions in any model by importing the intentions language. However, MPS collects intentions only from the&nbsp;<b id="7ab616b6">Intentions</b>&nbsp;language aspects. If you want your intentions to be used by the MPS intentions subsystem, they must be stored in the&nbsp;<b id="b374b6d9">Intentions</b>&nbsp;aspect of your language.</p><div class="last-modified" data-skip-index="skip">Last modified: 30 August 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="typesystem-debugging.html">Typesystem Debugging</a><a class="navigation-links__next" href="data-flow.html">Data flow</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>