<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>建筑商-帮助| MPS</title><link rel="stylesheet" href="/resources.jetbrains.com/storage/help-app/v3/app.css"></head><body  data-id="Builders.html"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索MPS帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>MPS 2019.2帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option value="primary_default" data-group="primary" selected>默认</option><option value="primary_default_for_gnome" data-group="primary">GNOME的默认设置</option><option value="primary_default_for_kde" data-group="primary">KDE的默认值</option><option value="primary_default_for_xwin" data-group="primary">XWin的默认设置</option><option value="primary_eclipse" data-group="primary">日食</option><option value="primary_eclipse_mac_os_x" data-group="primary">Eclipse（Mac OS X）</option><option value="primary_emacs" data-group="primary">埃马克斯</option><option value="primary_jbuilder" data-group="primary">JBuilder的</option><option value="primary_mac_os_x" data-group="primary">Mac OS X</option><option value="primary_mac_os_x_10.5_" data-group="primary">Mac OS X 10.5以上</option><option value="primary_netbeans" data-group="primary">NetBeans</option><option value="primary_visual_studio" data-group="primary">视觉工作室</option><option value="secondary_default" data-group="secondary">默认</option><option value="secondary_default_for_gnome" data-group="secondary">GNOME的默认设置</option><option value="secondary_default_for_kde" data-group="secondary">KDE的默认值</option><option value="secondary_default_for_xwin" data-group="secondary">XWin的默认设置</option><option value="secondary_eclipse" data-group="secondary">日食</option><option value="secondary_eclipse_mac_os_x" data-group="secondary">Eclipse（Mac OS X）</option><option value="secondary_emacs" data-group="secondary">埃马克斯</option><option value="secondary_jbuilder" data-group="secondary">JBuilder的</option><option value="secondary_mac_os_x" data-group="secondary">Mac OS X</option><option value="secondary_mac_os_x_10.5_" data-group="secondary">Mac OS X 10.5以上</option><option value="secondary_netbeans" data-group="secondary">NetBeans</option><option value="secondary_visual_studio" data-group="secondary">视觉工作室</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 id="builders.xml" data-toc="Builders.html">建筑商</h1>   <p id="3f708296">构建器允许用户以更方便的方式构造对象和对象层次结构。无需手动实例化层次结构中的每个对象并一一设置其属性，而是使用专用的构建器，可以以更简洁和直观的方式创建相同的数据结构。</p>   <p id="ec26cf3a">例如，假设我们正在盖房子。</p>   <div class="code-block" data-lang="none">房屋h =新房屋（）； h.houseType = HouseType.detached;地址address = new Address（）; address.street =“ Na Lysinach”; address.number =“ 10”; address.city =“布拉格”; address.zipCode =“ 23459”; h.locate（地址）;列表<room>房间=新的阵列</room>列表<room><room>（0）; rooms.add（new Room（“ livingroom”，25））; rooms.add（new Room（“ kitchen”，18））; rooms.add（new Room（“ bedroom”，20））; rooms.add（new Room（“ hall”，12））; rooms.add（new Room（“ bedroom”，15））; h.rooms =房间； h.moveIn（6）; println（h）;</room></room></div>   <p id="cb3ce367">房屋需要一个地址，该地址本身包含数个项目，一堆房间，每个房间都需要几个属性，依此类推。</p>   <p id="4d21abee">生成器为您提供了语法上的捷径，而不是繁琐的方式：<br>   </p>   <div class="code-block" data-lang="none">房屋=新屋{居民：6；类型：HouseType.detached;地址{街道：“ Na Lysinach”；数字：“ 10”;城市：“布拉格”； zipCode：“ 23459”; }房间{名称：“客厅”；大小：25; }房间{名称：“厨房”；大小：18; }房间{名称：“卧室”；大小：20; }房间{名称：“大厅”；大小：12; } room（“ bedroom”，15）};</div>   <p id="fc18dcdc">查看代码，您可以快速掌握创建的对象图的结构，因为代码的结构本身反映了创建的对象之间的依赖关系。生成器彼此嵌套，可以容纳属性。然后，构建器的属性值和相互嵌套都将转换为幕后构建的对象层次结构。</p>  <p id="5bceb29b">MPS作为某些语言的一部分，将一些便捷的生成器直接带到您的家中-JavaBeans，XML，XMLSchema或XMLQuery是最著名的用户。</p>   <h2 id="buildingbuilders">建筑商</h2>   <p id="9eed7a4f">要构建自己的构建器，首先需要调用<i id="91adf5c2">New-> jmbaseLanguage.builders。SimpleBuilders</i> 。现在，您为参与层次结构的每种对象类型定义构建器。这些构建器拥有自己的属性和子代，他们从中构建所需的数据结构。要坚持我们之前的“房屋建筑”示例，请查看以下示例：</p>   <div class="code-block" data-lang="none">builders houseBuilders扩展<no extendsbuilder="">{根builder house（）扩展<no extends="">{类型：房屋创建：new House（）子地址{附加parent.locate（child）; }儿童室{附加parent.rooms.add（child）; }属性居民：int {set parent.moveIn（value）; }属性类型：HouseType {set parent.houseType = value; }}生成器的address（）扩展<no extends="">{类型：地址创建：new Address（）< <children>>属性street：字符串{set parent.street = value; }属性编号：字符串{set parent.number = value; }属性city：字符串{set parent.city = value; }属性zipCode：字符串{设置parent.zipCode =值； }}生成器room（）扩展<no extends="">{类型：Room创建：new Room（）< <children>>属性名称：字符串{set parent.name = value; }属性大小：int {set parent.size = value; }} builder room（字符串名称，整数大小）扩展<no extends="">{类型：Room创建：new Room（名称，大小）< <children>> < <properties>>}}</properties></children></no></children></no></children></no></no></no></div>   <p id="b436fb47">我们为<i id="7d261f24">Room</i>类和<i id="bae7253b">Address</i>类定义了一个生成<i id="8ddddbf1">器</i> ，还为<i id="9b51d1a1">House</i>类定义了<i id="38e1144a">根生成器</i> 。<i id="949ad8b9">根构建器</i>与普通<i id="6f822542">构建</i> <i id="949ad8b9">器</i>不同，可以在<i id="a6f3bb6a">new</i>关键字之后直接在用户代码中使用。还要注意，我们有两个用于<i id="5c581a74">Room</i>类的构建器。第一个定义允许属性嵌套在<i id="00bdd508">room</i>块内，而第二个定义允许两个属性直接作为<i id="27935490">room</i>方法调用的参数。这两种方法当然可以组合在一个构建器中。</p>   <p id="1e0c461b">在我们的案例中， <i id="af5d77d9">House</i> ， <i id="85826b39">Room</i>和<i id="208a9e92">Address</i>类是具有方法和属性的普通类。在构建器中操作的属性的方法和设置器必须对构建器可见。在典型情况下，“包”可见性将起作用。为了给您一个示例，请参见下面示例中的<i id="c80877e3">House</i>类定义。</p>   <div class="code-block" data-lang="none">公共类房屋扩展<none>工具<none>{< <static fields="">> < <static initializer="">>私有地址地址； private int numberOFPeople; public HouseType houseType {get; <no visibility="">设置；}公共列表<room>室{get; <no visibility="">set;} < <initializer>> public House（）{ <no statements="">} public void moveIn（int people）{this.numberOFPeople = people; } public voidlocate（Address address）{this.address = address; } public int numberOfInhabitants（）{返回this.numberOFPeople; } public String toString（）{返回“ House for” + numberOFPeople +“位于+地址的人。？toString（）; } < <static methods="">> < <nested classifiers="">>}</nested></static></no></initializer></no></room></no></static></static></none></none></div><div class="last-modified" data-skip-index="skip">上次修改时间：2019年8月30日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="type-extension-methods.html">类型扩展方法</a> <a class="navigation-links__next" href="other-languages.html">其他语言</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>