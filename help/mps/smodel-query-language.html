<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>SModel Query language - Help | MPS</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body data-id="SModel+Query+language.html"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search MPS Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>MPS 2019.2 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="primary" value="primary_default" selected>Default</option><option data-group="primary" value="primary_default_for_gnome">Default for GNOME</option><option data-group="primary" value="primary_default_for_kde">Default for KDE</option><option data-group="primary" value="primary_default_for_xwin">Default for XWin</option><option data-group="primary" value="primary_eclipse">Eclipse</option><option data-group="primary" value="primary_eclipse_mac_os_x">Eclipse (Mac OS X)</option><option data-group="primary" value="primary_emacs">Emacs</option><option data-group="primary" value="primary_jbuilder">JBuilder</option><option data-group="primary" value="primary_mac_os_x">Mac OS X</option><option data-group="primary" value="primary_mac_os_x_10.5_">Mac OS X 10.5+</option><option data-group="primary" value="primary_netbeans">NetBeans</option><option data-group="primary" value="primary_visual_studio">Visual Studio</option><option data-group="secondary" value="secondary_default">Default</option><option data-group="secondary" value="secondary_default_for_gnome">Default for GNOME</option><option data-group="secondary" value="secondary_default_for_kde">Default for KDE</option><option data-group="secondary" value="secondary_default_for_xwin">Default for XWin</option><option data-group="secondary" value="secondary_eclipse">Eclipse</option><option data-group="secondary" value="secondary_eclipse_mac_os_x">Eclipse (Mac OS X)</option><option data-group="secondary" value="secondary_emacs">Emacs</option><option data-group="secondary" value="secondary_jbuilder">JBuilder</option><option data-group="secondary" value="secondary_mac_os_x">Mac OS X</option><option data-group="secondary" value="secondary_mac_os_x_10.5_">Mac OS X 10.5+</option><option data-group="secondary" value="secondary_netbeans">NetBeans</option><option data-group="secondary" value="secondary_visual_studio">Visual Studio</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="SModel+Query+language.html" id="smodel-query-language.xml">SModel Query language</h1>   <h2 id="smodel.querylanguage">smodel.query language</h2>   <p id="f6f80861">The&nbsp;<i id="80a24154">jetbrains.mps.lang.smodel.query</i> language enables the same type of queries that the <b id="225fc1bd">         MPS Console      </b> uses:</p>   <p id="fabe25f6">      <figure><a class="lightbox" href="/help/img/idea/2019.2/console-query.png"><img alt="console query" title="console query" src="/help/img/idea/2019.2/console-query.png" id="c72162b3" width="500" height="192"></a></figure>   </p>   <p id="0be040de">This language is allowed to be used inside&nbsp;<b id="a1702496">with</b>-statement, which constraints the scope, on which queries are performed.</p>   <p id="4cccbea0">      <figure><img alt="smodelquery1" title="smodelquery1" src="/help/img/idea/2019.2/smodelquery1.png" id="2eb571f5" width="938" height="101"></figure>   </p>   <p id="b9e85278">&nbsp;</p>   <p id="ff061448">The scope can be constrained to a project, module, model or a sequence of these.</p>   <h3 id="operationparameters">Operation parameters</h3>   <p id="e94c2a8f">The behavior of smodel.query operations can be slightly changed using operation parameters, which can be specified after the operation name.&nbsp;</p>   <p id="1202badd">      <figure><img alt="smodelquery2" title="smodelquery2" src="/help/img/idea/2019.2/smodelquery2.png" id="7069d2cf" width="938" height="107"></figure>   </p>   <p id="ca01f302">Possible parameters include:</p>   <p id="ef3e9655">      <b id="315796cb">scope</b> - Each command operates in the scope specified in the surrounding&nbsp;<b id="5d177296">with</b>-statement. The <b id="5dbc64da">scope</b> parameter changes the operating scope for a single command.</p>   <p id="6bbf7091">      <b id="8d4794bd">exact</b> -&nbsp;can be used in <b id="730485d0">#instances</b> operations to find instances of the concept specified, excluding instances of descendant concepts</p>   <p id="a8e7d7fd">&nbsp;</p>   <h3 id="scopespecification">Scope specification</h3>   <p id="62c04204">Scope on which queries are performed can be specified explicitly for single query using <b id="8a40ef5b">scope</b> parameter This option overrides scope derived from <b id="1965d76c">with</b> statement.</p>   <p id="cf3e5edc">The scope parameter can consist of sequence of models or modules, or can be an arbitrary expression of type SearchScope.</p>   <p id="f1919e76">      <figure><img alt="smodelquery3" title="smodelquery3" src="/help/img/idea/2019.2/smodelquery3.png" id="8036f942" width="938" height="96"></figure>      <br>   </p>   <p id="4445c9ad">When the&nbsp;<b id="947d0c9c">scope</b> parameter of a query is not specified, the query is performed on the scope constructed by the enclosing <b id="1dcf7f4b">with</b> statement. To avoid confusion, nested <b id="2eb73006">with</b> statements are not supported. <b id="d2218f0b">With</b> statements can construct a scope from a model, a module, a sequence of those, from a project of from an existing SearchScope object.<br>       <br> Scope constructed by the&nbsp;<b id="91c5697a">with</b> statement include only editable models so that modifying operations can be safely performed within that scope.</p>   <p id="4d988831">      <figure><img alt="smodelquery4" title="smodelquery4" src="/help/img/idea/2019.2/smodelquery4.png" id="bfeac437" width="938" height="117"></figure>      <br>   </p>   <aside class="note " data-title="" rel="4d988831" id="a529da04">      <p id="36d164be">When scope is set explicitly as query parameter, query uses it as is and does not throw away read only models, so the two following queries show different behavior: <figure><img alt="smodelquery5" title="smodelquery5" src="/help/img/idea/2019.2/smodelquery5.png" id="bfcc5a41" width="938" height="141"></figure>         <br>      </p>   </aside>   <p id="d308e097">      <b id="0892cc1d">Using smodel queries in console plugin</b>   </p>   <p id="1eec7884">Queries can be used in&nbsp;the console without the wrapping <b id="13bcaa86">with</b> statement. Default scope there for queries that do not specify it explicitly contains all editable models in the current project. Also, some additional options are available when specifying the scope explicitly.<br>      <br>   </p>   <h3 id="queriesdefinedinthesmodel.querylanguage">Queries defined in the smodel.query language</h3>   <p id="902bc2cb">      <b id="4ec6b800">#instances</b> - fast search for instances of a specified concept</p>   <p id="78859186">      <b id="ae6ec2f9">#usages</b>&nbsp;- fast search for usages of a specified node</p>   <p id="6fc6d694">      <b id="a71b20d0">#modules</b>&nbsp;- all modules in scope</p>   <p id="5f49b821">      <b id="a5841c51">#models</b> -&nbsp;all models in scope</p>   <p id="4cda2c5c">      <b id="87551917">#nodes</b>&nbsp;-&nbsp;all nodes in scope</p>   <p id="b2ce7f68">      <b id="e5935040">#references</b>&nbsp;-&nbsp;all references in scope</p>   <p id="6981663f">&nbsp;</p><div class="last-modified" data-skip-index="skip">Last modified: 30 August 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="smodel-language-queries-references.html">SModel language Queries References</a><a class="navigation-links__next" href="open-api-accessing-models-from-code.html">Open API - accessing models from code</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>