<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>基本概念-帮助|帮助MPS</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body  data-id="Basic+notions.html"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索MPS帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>MPS 2019.2帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option value="primary_default" data-group="primary" selected>默认</option><option value="primary_default_for_gnome" data-group="primary">GNOME的默认设置</option><option value="primary_default_for_kde" data-group="primary">KDE的默认值</option><option value="primary_default_for_xwin" data-group="primary">XWin的默认设置</option><option value="primary_eclipse" data-group="primary">日食</option><option value="primary_eclipse_mac_os_x" data-group="primary">Eclipse（Mac OS X）</option><option value="primary_emacs" data-group="primary">埃马克斯</option><option value="primary_jbuilder" data-group="primary">JBuilder的</option><option value="primary_mac_os_x" data-group="primary">Mac OS X</option><option value="primary_mac_os_x_10.5_" data-group="primary">Mac OS X 10.5以上</option><option value="primary_netbeans" data-group="primary">NetBeans</option><option value="primary_visual_studio" data-group="primary">视觉工作室</option><option value="secondary_default" data-group="secondary">默认</option><option value="secondary_default_for_gnome" data-group="secondary">GNOME的默认设置</option><option value="secondary_default_for_kde" data-group="secondary">KDE的默认值</option><option value="secondary_default_for_xwin" data-group="secondary">XWin的默认设置</option><option value="secondary_eclipse" data-group="secondary">日食</option><option value="secondary_eclipse_mac_os_x" data-group="secondary">Eclipse（Mac OS X）</option><option value="secondary_emacs" data-group="secondary">埃马克斯</option><option value="secondary_jbuilder" data-group="secondary">JBuilder的</option><option value="secondary_mac_os_x" data-group="secondary">Mac OS X</option><option value="secondary_mac_os_x_10.5_" data-group="secondary">Mac OS X 10.5以上</option><option value="secondary_netbeans" data-group="secondary">NetBeans</option><option value="secondary_visual_studio" data-group="secondary">视觉工作室</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 id="basic-notions.xml" data-toc="Basic+notions.html">基本概念</h1>   <p id="bce49f71">本章介绍了MPS的基本概念： <i id="b5044fd5">节点</i> ， <i id="1ae6b34f">概念</i>和<i id="c1ee2aea">语言</i> 。这些是正确理解MPS工作原理的关键。它们只有与其他元素结合在一起才有意义，因此我们必须一起讨论它们。本节旨在为您提供每个元素的精髓。有关更多详细信息，您可以考虑查看有关节点，概念（结构语言）和语言（项目结构）的部分。</p>   <h3 id="abstractsyntaxtree(ast)">抽象语法树（AST）</h3>   <p id="5a15d77b">MPS避免使用文本形式，从而使其与许多其他语言工作台区分开来。您的程序始终以AST表示。您将代码编辑为AST，然后将其另存为AST，然后也将其编译为AST。这使您可以避免定义语法并为您的语言构建解析器。相反，您可以根据AST节点的类型及其相互关系的规则来定义语言。在MPS编辑器中使用的几乎所有内容都是<b id="f7c23229">AST节点</b> ，它属于抽象语法树（AST）。在本文档中，我们使用较短的名称， <b id="f2c37541">节点</b> ，为AST节点。</p>   <p id="c49d5134">      </p><figure><a class="lightbox" href="/help/img/idea/2019.2/AST.png"><img alt="AST" title="AST" src="/help/img/idea/2019.2/AST.png" id="396c2f03" width="900" height="1422"></a></figure>   <p></p>   <h3 id="projectionaleditor">投影编辑</h3>   <p id="c10a7f6e">MPS中的编辑器直接操作AST。无需解析，因为代码始终以树形式表示。编辑器以语言作者设计的方式向用户展示AST：</p>   <p id="d8c5f699">      </p><figure><a class="lightbox" href="/help/img/idea/2019.2/DSGN-5911-sliders-MPS-b-04.png"><img alt="DSGN 5911滑块MPS b 04" title="DSGN 5911滑块MPS b 04" src="/help/img/idea/2019.2/DSGN-5911-sliders-MPS-b-04.png" id="cdda9866" width="700" height="1025"></a></figure>   <p></p>   <p id="f789a26b">一种语言可以有多个演示文稿，在这种情况下，用户可以选择在任何给定时刻应用代码可视化。</p>   <p id="da1606f7">      </p><figure><a class="lightbox" href="/help/img/idea/2019.2/DSGN-5911-sliders-MPS-b-06.png"><img alt="DSGN 5911滑块MPS b 06" title="DSGN 5911滑块MPS b 06" src="/help/img/idea/2019.2/DSGN-5911-sliders-MPS-b-06.png" id="58b7a40b" width="900" height="1025"></a></figure>   <p></p>   <p id="bc650bf4">所有用户操作（包括在键盘上键入字符）都将转换为编辑器操作，然后由AST的相应节点进行处理。</p>   <h3 id="node">节点</h3>   <p id="a3fbc6ce">节点形成一棵树。每个节点都有一个<b id="1dc81c69">父</b>节点（根节点除外）， <b id="34f68cbf">子</b>节点， <b id="7f5a042b">属性</b>和对其他节点的<b id="8c5509e3">引用</b> 。</p>   <p id="cf7a36bb">      </p><figure><img alt="基本概念" title="基本概念" src="/help/img/idea/2019.2/basicNotions.png" id="bdea26b5" width="640" height="547"></figure>   <p></p>   <p id="66058ec7">AST节点被组织成<b id="11ab104a">模型</b> 。没有父<b id="56e26be9">节点的节点</b>称为<b id="56e26be9">根节点</b> 。这些是语言的最高要素。例如，在<i id="172edfc7">BaseLanguage</i> （Java的MPS对应版本）中，根节点是类，接口和枚举。</p>      <h3 id="concept">概念</h3>   <p id="3d58b3c0">节点之间可以有很大的不同。每个节点都存储对其声明及其<b id="5297c91d">概念</b>的引用。一个概念设置了连接节点的<i id="265fb367">“类型”</i> 。它定义了节点的类，并在该类中铸造了节点的结构。它指定节点实例可以具有哪些子代，属性和引用。概念声明形成继承层次结构。如果一个概念扩展了另一个概念，则它将继承其父代的所有子代，属性和引用。<br>由于MPS中的所有内容都围绕AST，因此概念声明本身就是AST节点。实际上，它们是特定概念<i id="74ca3912">ConceptDeclaration的</i>实例。</p>   <p id="8778e321">      </p><figure><img alt="概念" title="概念" src="/help/img/idea/2019.2/concepts.png" id="1dad017b" width="578" height="341"></figure>   <p></p>   <h3 id="language">语言</h3>   <p id="d195d546">MPS中的语言是带有一些附加信息的一组概念。附加信息包括与语言相关的编辑器，完成菜单，意图，类型系统，数据流等详细信息。此信息构成了几种语言方面。<br>显然，一种语言可以扩展另一种语言。扩展语言可以将扩展语言中定义的任何概念用作其子代或引用的类型，并且其概念可以从扩展语言的任何概念继承。您会看到，MPS中的语言构成了完全可重用的组件。</p>   <h3 id="generator">发电机</h3>   <p id="af640d31">语言允许用户创建存储在<b id="e46ffef2">模型中的</b>代码，而<b id="aa2be28e">生成器</b>可以将这些源模型转换为目标模型。生成器在AST模型上执行<b id="0face650">模型到模型的</b>转换。目标模型使用与源模型不同的语言，并具有一个或多个目的：</p>   <ul class="list _ul"><li class="list__item" id="b0d5ad64"><p>可以转换为文本源文件，然后使用标准编译器（Java，C等）进行编译</p></li><li class="list__item" id="4e6c61c1"><p>可以转换为文本文档并按原样使用（配置，文档-属性文件，xml，pdf，html，乳胶）</p></li><li class="list__item" id="6e6076d8"><p>可以直接解释</p></li><li class="list__item" id="7d7a5bf5"><p>可用于代码分析或通过第三方工具（CBMS，状态机可达性分析等）进行正式验证</p></li><li class="list__item" id="b9c7631a"><p>可以用于真实系统的仿真</p></li></ul>   <p id="79cea49f">生成器通常依赖于<b id="d9ba9c58">域框架</b> -生成的代码调用或继承的一组库。该框架编码所需解决方案的稳定部分，而可变部分包含在实际生成的代码中。</p>   <p id="649ba181">      </p><figure><a class="lightbox" href="/help/img/idea/2019.2/Domain-framework.png"><img alt="领域框架" title="领域框架" src="/help/img/idea/2019.2/Domain-framework.png" id="fd3ea61c" width="500" height="1100"></a></figure>   <p></p>   <p id="260e819a">MPS中的生成是分阶段进行的-一个生成器的输出可以成为管道中另一个生成器的输入。可选的<b id="da415349">模型到文本</b>转换阶段（ <b id="e3c31e63">TextGen</b> ）可以随后以文本格式生成代码。这种分阶段的方法有助于弥合原始问题域和技术实现域之间潜在的巨大语义鸿沟。它还鼓励重复使用发电机。</p>   <p id="91aedd35">      <a href="mps-project-structure.html">下一个</a> </p><div class="last-modified" data-skip-index="skip">上次修改时间：2019年8月30日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="mps-faq.html">常见问题</a> <a class="navigation-links__next" href="mps-project-structure.html">MPS项目结构</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>