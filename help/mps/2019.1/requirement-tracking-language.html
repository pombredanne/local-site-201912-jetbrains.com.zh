<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta name="robots" content="noindex"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/resources.jetbrains.com/storage/help-app/v2/analytics.js"></script><meta charset="UTF-8"><title>Requirement tracking language - Help | MPS</title><link rel="stylesheet" href="/resources.jetbrains.com/storage/help-app/v2/app.css"></head><body data-id="Requirement+tracking+language.html"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search MPS Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>MPS 2019.1 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="primary" value="primary_default" selected>Windows/Linux Default</option><option data-group="primary" value="primary_default_for_gnome">GNOME</option><option data-group="primary" value="primary_default_for_kde">KDE</option><option data-group="primary" value="primary_default_for_xwin">XWin</option><option data-group="primary" value="primary_emacs">Emacs</option><option data-group="primary" value="primary_visual_studio">Visual Studio</option><option data-group="primary" value="primary_netbeans">NetBeans</option><option data-group="primary" value="primary_eclipse">Eclipse</option><option data-group="secondary" value="secondary_mac_os_x_10.5_">Default (Mac OS X 10.5+)</option><option data-group="secondary" value="secondary_mac_os_x">Mac OS X</option><option data-group="secondary" value="secondary_eclipse_mac_os_x">Eclipse (Mac OS X)</option><option data-group="secondary" value="secondary_intellij_idea_classic_os_x">IntelliJ IDEA Classic (Mac OS X)</option><option data-group="secondary" value="secondary_xcode">Xcode</option><option data-group="secondary" value="secondary_visual_studio">Visual Studio</option><option data-group="secondary" value="secondary_resharper">ReSharper</option><option data-group="secondary" value="secondary_resharper_osx">ReSharper (Mac OS X)</option><option data-group="secondary" value="secondary_emacs">Emacs (Mac OS X)</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Requirement+tracking+language.html" id="requirement-tracking-language.xml">Requirement tracking language</h1>   <p id="b9a92ca7">This cookbook will guide you through the Requirement tracking sample project. &nbsp;This sample projects implements language-agnostic requirement tracking. Along the way it illustrates several useful language constructs:</p>   <ul class="list _ul"><li class="list__item" id="73603811"><p>         <b id="78008859">Node attributes</b> to annotate nodes of different languages</p></li><li class="list__item" id="9669c600"><p>         <b id="0d507a44">Multiple editors</b> (presentations) per concept and switching between them with editor hints</p></li><li class="list__item" id="98f0559a"><p>         <b id="512976dc">Programmatic access</b> to the selected editor hints as well as programmatic selection of an editor</p></li><li class="list__item" id="e6e8321e"><p>         <b id="fdb2ca1f">Reference scoping</b> to avoid repetition in collections of references</p></li></ul>   <p id="730afe5a">The Requirement tracking sample project comes bundled with MPS, so you'll find it among the other sample projects in your home directory.</p>         <figure><a class="lightbox" href="/help/img/idea/2019.1/welcome.png"><img alt="welcome" title="welcome" src="/help/img/idea/2019.1/welcome.png" id="71b18d09" width="500" height="968"></a></figure>      <p id="8fccc66c">&nbsp;</p>         <ul data-skip-index="skip"><li class="list__item"><a href="#purpose">Purpose</a></li><li class="list__item"><a href="#keyhighlights">Key highlights</a></li><li class="list__item"><a href="#projectstructure">Project structure</a></li><li class="list__item"><a href="#requirementdefinitionslanguage">RequirementDefinitions language</a></li><li class="list__item"><a href="#specificationsolution">Specification solution</a></li><li class="list__item"><a href="#projectcodesolution">ProjectCode solution</a></li><li class="list__item"><a href="#traceslanguage">Traces language</a></li></ul>      <h2 id="purpose">Purpose</h2>   <p id="6fa5e91c">Most of software as well as other project start with requirement gathering. During this phase the client specifies the desired functionality of the system that should be built. The specification is then used by the developers to lead their decisions during the implementation phase. Typically the specification is written in some form of textual documents, while software is delivered as code. This approach suffers from several limitations:</p>   <ul class="list _ul"><li class="list__item" id="e7be067b"><p>Tracking which piece of code implements which requirements becomes tedious manual work with high probability of errors.</p></li><li class="list__item" id="b30dd97f"><p>Answering questions like "Which requirement mandates a particular piece of code" or "Where in code is a particular requirement implemented" is not instant and automated.</p></li><li class="list__item" id="67eef391"><p>Analysis of impact of individual requirements on software modules is not trivial.</p></li><li class="list__item" id="a807450a"><p>When a requirement changes, listing all impacted pieces of code is not reliable.</p></li></ul>   <p id="a754fb86">The Requirement Tracking sample illustrates a possible automated solution to requirement tracking, which handles all the listed deficiencies of manual tracking.</p>         <figure><a class="lightbox" href="/help/img/idea/2019.1/image2018-9-12-11-23-3.png"><img alt="image2018 9 12 11 23 3" title="image2018 9 12 11 23 3" src="/help/img/idea/2019.1/image2018-9-12-11-23-3.png" id="79261386" width="600" height="722"></a></figure>      <p id="d2cbc6a3">Code, be it XML, Java or any other MPS language, is annotated with requirement traces - brief summaries of the requirements implemented by that particular piece of code. The requirement traces can be attached to nodes on any granularity level - to a class, method or a statement, for example.</p>         <figure><a class="lightbox" href="/help/img/idea/2019.1/image2018-9-12-11-24-43.png"><img alt="image2018 9 12 11 24 43" title="image2018 9 12 11 24 43" src="/help/img/idea/2019.1/image2018-9-12-11-24-43.png" id="060315f6" width="600" height="690"></a></figure>      <p id="ddadf934">The requirement traces can be added, edited and removed at will.</p>         <figure><a class="lightbox" href="/help/img/idea/2019.1/image2018-9-12-11-31-47.png"><img alt="image2018 9 12 11 31 47" title="image2018 9 12 11 31 47" src="/help/img/idea/2019.1/image2018-9-12-11-31-47.png" id="57169866" width="500" height="684"></a></figure>      <p id="11d352b9">Intentions are utilised to add/remove requirement traces to nodes.</p>         <figure><a class="lightbox" href="/help/img/idea/2019.1/image2018-9-12-11-42-16.png"><img alt="image2018 9 12 11 42 16" title="image2018 9 12 11 42 16" src="/help/img/idea/2019.1/image2018-9-12-11-42-16.png" id="360360bd" width="300" height="358"></a></figure>      <p id="fb0361f1">Since the requirements have not been written in some text editor external to MPS, but in MPS using a language designed specifically for writing requirements, the standard&nbsp;<b id="75409ef0">Go To Declaration</b> (Control/Cmd + B) action will open the referenced requirement in the editor and the user can quickly navigate to the full description of the requirement.</p>         <figure><a class="lightbox" href="/help/img/idea/2019.1/image2018-9-12-11-32-57.png"><img alt="image2018 9 12 11 32 57" title="image2018 9 12 11 32 57" src="/help/img/idea/2019.1/image2018-9-12-11-32-57.png" id="4300c051" width="500" height="632"></a></figure>      <p id="75fc668c">      <b id="db8f4c95">Show Usages</b>&nbsp;<i id="b57b4c79">(Alt + F7)</i> for a particular requirement will bring up a list of all places in code, from where the requirement is referred to with a requirement trace:</p>         <figure><a class="lightbox" href="/help/img/idea/2019.1/image2018-9-12-11-35-26.png"><img alt="image2018 9 12 11 35 26" title="image2018 9 12 11 35 26" src="/help/img/idea/2019.1/image2018-9-12-11-35-26.png" id="375dac38" width="500" height="1008"></a></figure>      <p id="2a9cc8ab">The requirement traces can be made visible or hidden through the standard MPS mechanism for handling multiple projections/editors - editor hints:</p>         <figure><a class="lightbox" href="/help/img/idea/2019.1/image2018-9-12-11-27-42.png"><img alt="image2018 9 12 11 27 42" title="image2018 9 12 11 27 42" src="/help/img/idea/2019.1/image2018-9-12-11-27-42.png" id="d874637a" width="300" height="736"></a></figure>      <p id="2b90f8fb">When the&nbsp;<b id="7cd149de">ShowTraces</b> hint is not selected, no requirement traces are shown to the user.</p>   <h2 id="keyhighlights">Key highlights</h2>   <ul class="list _ul"><li class="list__item" id="464760fe"><p>         <b id="5031edb9">Specifications</b> are written in MPS, so that they are well structured and referencable from code. They can be generated into plain text documents. If additional generators are provided, the specification could be generated into PDF or other text formats.</p></li><li class="list__item" id="ba417a8d"><p>         <b id="b10fb0de">Requirement traces</b> refer to the particular entries in the specification, show a summary of the referred requirement entry and allow navigation.</p></li><li class="list__item" id="b5ea864a"><p>         <b id="27ef5890">Any node</b>&nbsp;in <b id="ccec8b4f">any language</b> can have requirement traces attached - BaseLanguage and XML were two example languages given, but any DSL code could be annotated just as well, e.g. Kaja.</p></li></ul>         <figure><a class="lightbox" href="/help/img/idea/2019.1/image2018-9-12-11-49-58.png"><img alt="image2018 9 12 11 49 58" title="image2018 9 12 11 49 58" src="/help/img/idea/2019.1/image2018-9-12-11-49-58.png" id="f53f00c3" width="500" height="572"></a></figure>      <h2 id="projectstructure">Project structure</h2>         <figure><a class="lightbox" href="/help/img/idea/2019.1/image2018-9-12-11-51-33.png"><img alt="image2018 9 12 11 51 33" title="image2018 9 12 11 51 33" src="/help/img/idea/2019.1/image2018-9-12-11-51-33.png" id="f88f72bf" width="500" height="354"></a></figure>      <ul class="list _ul"><li class="list__item" id="bf4ff555"><p>The <b id="d4b60c26">RequirementDefinitions</b> languages enables users to write their requirements/specifications in MPS. A simple TextGen defined in that language generates plain text files containing the requirements.</p></li><li class="list__item" id="643ae6fb"><p>The <b id="1f1c338b">Specification</b> solution is an example of requirements specification. The requirements are organized into models by their respective concerned sub-systems.</p></li><li class="list__item" id="6e7175ff"><p>The&nbsp;<b id="e0c3413d">ProjectCode</b>&nbsp;solution simulates the actual code of a project that must conform to the specification contained in the&nbsp;<b id="93fe91b2">Specification</b>&nbsp;solution. The code is organized by functionality into models. Each model imports the relevant specification models from the&nbsp;<b id="5e4875f9">Specification</b>&nbsp;solution. The code, both Java and XML is annotated with requirement traces. The traces are only visible, when the&nbsp;<i id="83003689">ShowTraces</i>&nbsp;editor hint is pushed. With intentions additional traces can be added or removed.</p></li><li class="list__item" id="518b5ece"><p>The <b id="0b5c4c99">Traces</b> languages defines an attribute that can be attached to any node (BaseConcept). The attribute holds references to the requirement entries in the requirement specifications. <b id="4db5dd61">Two editors</b> are available - a default one, which only shows the original code, and a "ShowTraces" one, which displays the requirement traces next to the code. "Push hints" can be used to switch between the two editors. An <b id="4936c63a">intention</b> is available to attach/detach the attribute to nodes. When the <i id="bc3a3422">RequirementTrace</i> attribute is being added through the intention to a node, the "ShowTraces" editor hint is selected programmatically, so that the user can instantly see the requirement traces in the code. <b id="9d1af7cd">Multiple traces</b> can be specified for an attribute. <b id="3d63b16a">Scoping</b> for <i id="8c6c4037">RequirementEntryReference</i> ensures that the user cannot enter a specific trace multiple times for the same attribute.</p></li></ul>   <h3 id="requirementdefinitionslanguage">RequirementDefinitions language</h3>   <p id="856f5f24">This language must be imported by solutions that should contain requirement specifications. The language introduces two concepts with editors and textgen.</p>         <figure><a class="lightbox" href="/help/img/idea/2019.1/image2018-9-13-13-17-40.png"><img alt="image2018 9 13 13 17 40" title="image2018 9 13 13 17 40" src="/help/img/idea/2019.1/image2018-9-13-13-17-40.png" id="137df590" width="500" height="938"></a></figure>      <p id="3ad1d015">The <i id="b61ebe2e">Entry</i>&nbsp;concept uses the&nbsp;<i id="362c1db1">jetbrains.mps.lang.text</i> language to allow free text editing in the description part.&nbsp;Custom presentation is defined for&nbsp;<i id="de9cb227">Entry</i>&nbsp;to accommodate for the optional reference id value, which may be absent.</p>   <h3 id="specificationsolution">Specification solution</h3>         <figure><a class="lightbox" href="/help/img/idea/2019.1/image2018-9-12-12-8-47.png"><img alt="image2018 9 12 12 8 47" title="image2018 9 12 12 8 47" src="/help/img/idea/2019.1/image2018-9-12-12-8-47.png" id="de33f7be" width="500" height="378"></a></figure>      <p id="a0ad6421">This solution uses the&nbsp;<i id="5710a8f3">RequirementDefinition</i> language to define requirements for a hypothetical system. The requirements are split into two models:</p>   <ul class="list _ul"><li class="list__item" id="7d022117"><p>         <b id="ac76d26f">coreRequirements</b> - to specify the business logic of the future system</p></li><li class="list__item" id="adbb4394"><p>         <b id="ba9b833a">uiRequirements</b> - to specify the user interface of the application</p></li></ul>   <p id="ffbf8637">Within each model multiple specification documents can be created.</p>         <figure><a class="lightbox" href="/help/img/idea/2019.1/image2018-9-12-12-11-45.png"><img alt="image2018 9 12 12 11 45" title="image2018 9 12 12 11 45" src="/help/img/idea/2019.1/image2018-9-12-12-11-45.png" id="2a4332e4" width="500" height="286"></a></figure>      <p id="f04d8978">Each document contains a collection of requirement entries, each of which has a&nbsp;<b id="57bcca29">name</b>,&nbsp;<b id="f6391942">description</b> and an optional&nbsp;<b id="73c7129c">reference id</b>.</p>         <figure><a class="lightbox" href="/help/img/idea/2019.1/image2018-9-12-12-13-31.png"><img alt="image2018 9 12 12 13 31" title="image2018 9 12 12 13 31" src="/help/img/idea/2019.1/image2018-9-12-12-13-31.png" id="ce4c972b" width="500" height="642"></a></figure>      <p id="98e749aa">The specification models have to import at least two languages -&nbsp;<i id="5c94308a">jetbrains.mps.samples.requirementTracking.RequirementDefinition</i> and&nbsp;<i id="f63913ea">jetbrains.mps.lang.text</i>.</p>         <figure><a class="lightbox" href="/help/img/idea/2019.1/image2018-9-12-12-18-35.png"><img alt="image2018 9 12 12 18 35" title="image2018 9 12 12 18 35" src="/help/img/idea/2019.1/image2018-9-12-12-18-35.png" id="7e9e767a" width="500" height="672"></a></figure>      <h3 id="projectcodesolution">ProjectCode solution</h3>   <p id="d45b1a4e">The&nbsp;<b id="47f12870">ProjectCode</b> solution contains the actual implementation of the system. The project consists of three models, each of them hypothetically implements a different part of the system.</p>         <figure><a class="lightbox" href="/help/img/idea/2019.1/image2018-9-12-12-24-52.png"><img alt="image2018 9 12 12 24 52" title="image2018 9 12 12 24 52" src="/help/img/idea/2019.1/image2018-9-12-12-24-52.png" id="503e252e" width="500" height="580"></a></figure>      <p id="a1a66b09">On top of the languages used for development the models must import the&nbsp;<i id="c3cdca47">Traces</i> language in order to define requirement traces.</p>         <figure><a class="lightbox" href="/help/img/idea/2019.1/image2018-9-12-12-26-43.png"><img alt="image2018 9 12 12 26 43" title="image2018 9 12 12 26 43" src="/help/img/idea/2019.1/image2018-9-12-12-26-43.png" id="524460b5" width="500" height="670"></a></figure>      <p id="604df219">The <b id="730ddd25">Dependencies</b> of the models must hold the models of the&nbsp;<b id="c74a1eae">Specification</b> solution, the requirements of which are relevant for code in the model. The&nbsp;<b id="0a230762">persistence</b> model, for example, depends on&nbsp;<i id="2061ac58">coreRequirements</i>.</p>         <figure><a class="lightbox" href="/help/img/idea/2019.1/image2018-9-12-12-29-44.png"><img alt="image2018 9 12 12 29 44" title="image2018 9 12 12 29 44" src="/help/img/idea/2019.1/image2018-9-12-12-29-44.png" id="fd7ca1e1" width="500" height="674"></a></figure>      <p id="0138a16e">The&nbsp;<b id="2099ce38">ui</b> model depends on&nbsp;<i id="469455a4">uiRequirements</i>.</p>         <figure><a class="lightbox" href="/help/img/idea/2019.1/image2018-9-12-12-30-54.png"><img alt="image2018 9 12 12 30 54" title="image2018 9 12 12 30 54" src="/help/img/idea/2019.1/image2018-9-12-12-30-54.png" id="55348589" width="500" height="666"></a></figure>      <p id="7a261e2f">This allows requirement traces to be inserted into code. An intention is available to add/remove traces to a node.</p>         <figure><a class="lightbox" href="/help/img/idea/2019.1/image2018-9-12-12-33-32.png"><img alt="image2018 9 12 12 33 32" title="image2018 9 12 12 33 32" src="/help/img/idea/2019.1/image2018-9-12-12-33-32.png" id="188386a0" width="500" height="560"></a></figure>      <p id="61eb4c2b">The traces can then be edited directly.</p>         <figure><a class="lightbox" href="/help/img/idea/2019.1/image2018-9-12-12-34-18.png"><img alt="image2018 9 12 12 34 18" title="image2018 9 12 12 34 18" src="/help/img/idea/2019.1/image2018-9-12-12-34-18.png" id="4264364b" width="500" height="684"></a></figure>      <h3 id="traceslanguage">Traces language</h3>   <p id="a24ae2ae">The <i id="578d5250">Traces</i> language glues together the specifications and code. It contains two concepts:</p>   <ul class="list _ul"><li class="list__item" id="4a8c4071"><p>         <i id="55752a26">RequirementEntryReference</i> - a smart reference to a single requirement document entry</p></li><li class="list__item" id="5c89cce1"><p>         <i id="91c66868">RequirementTrace</i> - a node attribute that can be attached to any node (<i id="ed810d47">BaseConcept</i>) and holds a collection of&nbsp;<i id="3c024ed2">RequirementEntryReferences</i>.</p></li></ul>         <figure><a class="lightbox" href="/help/img/idea/2019.1/image2018-9-12-12-14-24.png"><img alt="image2018 9 12 12 14 24" title="image2018 9 12 12 14 24" src="/help/img/idea/2019.1/image2018-9-12-12-14-24.png" id="5ce278d9" width="500" height="1012"></a></figure>      <p id="3d28863f">The header of the&nbsp;<i id="bc036c29">RequirementTrace</i> concept defines:</p>   <ul class="list _ul"><li class="list__item" id="f327a1e0"><p>         <b id="7148b334">multiple: false</b> - cardinality of the attribute is 0..1 (at most one can be attached to a node)</p></li><li class="list__item" id="cbf9f608"><p>         <b id="756cd127">role:</b> requirement trace - to access the attribute from code, "node.@requirement trace" will be used</p></li><li class="list__item" id="49fdb87f"><p>         <b id="86fbf00f">attributed concept:</b> BaseConcept - it can be applied to&nbsp;<i id="210ad1b4">BaseConcept</i>      </p></li></ul>         <figure><a class="lightbox" href="/help/img/idea/2019.1/image2018-9-12-12-40-37.png"><img alt="image2018 9 12 12 40 37" title="image2018 9 12 12 40 37" src="/help/img/idea/2019.1/image2018-9-12-12-40-37.png" id="001d84dc" width="500" height="706"></a></figure>      <aside class="tip sideblock" data-title="" rel="dd3e77c2" id="4921be71">      <p id="8965c62f">While the sample language is intentionally generic and can be used for any language, you could consider creating a variant of <i id="81f6347f">RequirementTrace</i> tailored for your own language. Typically you would extend <i id="b7f25756">RequirementTrace</i>, provide your own intention to add/remove it to code elements and narrow the list of attributed concepts to only those concepts that you want to allow tracing for.</p>               <figure><a class="lightbox" href="/help/img/idea/2019.1/image2018-9-12-13-1-23.png"><img alt="image2018 9 12 13 1 23" title="image2018 9 12 13 1 23" src="/help/img/idea/2019.1/image2018-9-12-13-1-23.png" id="ba422b4b" width="500" height="410"></a></figure>            <p id="d19bf21f">This sample definition would only allow traces on nodes that implement the hypothetical <i id="5a8bb8a1">ICanTraceRequirement</i>s concept interface.</p>   </aside>   <p id="d20697c7">      <i id="e9cdbd52">RequirementTrace</i> provides two editors:</p>   <ul class="list _ul"><li class="list__item" id="025f8836"><p>The&nbsp;<b id="03705623">default</b> editor only shows the attributed node, which makes the requirement traces invisible</p></li><li class="list__item" id="c0ff5750"><p>The&nbsp;<b id="0f268fb3">ShowTraces</b> editor shows the traces next to the attributed node</p></li></ul>   <p id="9908685e">The&nbsp;<i id="4421b7c2">ToggleRequirementTrace</i> intention not only adds/removes traces, but also activates the&nbsp;<b id="8142ad98">ShowTraces</b> editor hint, when a trace is added, so that the traces become visible, if they were not prior to invoking the intention. This is a natural usability feature.</p>   <p id="0c8e05cb">The&nbsp;<i id="abcf792d">RequirementEntryReference</i> editor uses the customized presentation of&nbsp;<i id="690f4fa7">Entry</i> to optionally show the reference id.&nbsp;<i id="804849b3">RequirementEntryReference</i> implements scoping in a way that filters out the requirements already referred to from the same requirement trace.</p>         <figure><a class="lightbox" href="/help/img/idea/2019.1/image2018-9-13-13-16-55.png"><img alt="image2018 9 13 13 16 55" title="image2018 9 13 13 16 55" src="/help/img/idea/2019.1/image2018-9-13-13-16-55.png" id="66a5c2db" width="800" height="1064"></a></figure>      <p id="8350e986">&nbsp;</p>   <p id="01edea14">&nbsp;</p>   <p id="978d6053">&nbsp;</p><div class="last-modified" data-skip-index="skip">Last modified: 5 July 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="description-comments.html">Description comments</a><a class="navigation-links__next" href="commenting-out-nodes.html">Commenting out nodes</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/resources.jetbrains.com/storage/help-app/v2/app.js"></script></body></html>