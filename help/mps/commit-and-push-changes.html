<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>Commit and push changes - Help | MPS</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body data-id="Commit and push changes" data-section-switcher="[Windows or Linux;macOS]"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search MPS Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>MPS 2019.2 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="primary" value="primary_default" selected>Default</option><option data-group="primary" value="primary_default_for_gnome">Default for GNOME</option><option data-group="primary" value="primary_default_for_kde">Default for KDE</option><option data-group="primary" value="primary_default_for_xwin">Default for XWin</option><option data-group="primary" value="primary_eclipse">Eclipse</option><option data-group="primary" value="primary_eclipse_mac_os_x">Eclipse (Mac OS X)</option><option data-group="primary" value="primary_emacs">Emacs</option><option data-group="primary" value="primary_jbuilder">JBuilder</option><option data-group="primary" value="primary_mac_os_x">Mac OS X</option><option data-group="primary" value="primary_mac_os_x_10.5_">Mac OS X 10.5+</option><option data-group="primary" value="primary_netbeans">NetBeans</option><option data-group="primary" value="primary_visual_studio">Visual Studio</option><option data-group="secondary" value="secondary_default">Default</option><option data-group="secondary" value="secondary_default_for_gnome">Default for GNOME</option><option data-group="secondary" value="secondary_default_for_kde">Default for KDE</option><option data-group="secondary" value="secondary_default_for_xwin">Default for XWin</option><option data-group="secondary" value="secondary_eclipse">Eclipse</option><option data-group="secondary" value="secondary_eclipse_mac_os_x">Eclipse (Mac OS X)</option><option data-group="secondary" value="secondary_emacs">Emacs</option><option data-group="secondary" value="secondary_jbuilder">JBuilder</option><option data-group="secondary" value="secondary_mac_os_x">Mac OS X</option><option data-group="secondary" value="secondary_mac_os_x_10.5_">Mac OS X 10.5+</option><option data-group="secondary" value="secondary_netbeans">NetBeans</option><option data-group="secondary" value="secondary_visual_studio">Visual Studio</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 data-toc="Commit and push changes" id="Commit_and_push_changes.xml">Commit and push changes</h1>    <p id="20003506">        After you've <a href="set-up-a-git-repository.html#add-new-files">added new files to the Git        repository</a>, or modified files that are        already under Git version control and you are happy with their current state, you can share the results of your work.        This involves <a href="#commit">committing</a> them locally to record the snapshot of your repository to the project history,        and then <a href="#push">pushing</a> them to the remote repository so that they become available to others.    </p>    <div class="chapter"><h2 id="commit" data-toc="Commit and push changes#commit">Commit changes locally</h2>        <section class="procedure-steps"><ol class="list _decimal"><li class="list__item" id="invoke-commit-dialog">                <p id="b7323747">                    Select the files you want to commit or an entire changelist in the <span class="control">Local Changes</span> view and                    press <kbd data-primary_default="Ctrl+K" data-primary_default_for_gnome="Ctrl+K" data-primary_default_for_kde="Ctrl+K" data-primary_default_for_xwin="Ctrl+K" data-primary_eclipse="N/A" data-primary_eclipse_mac_os_x="N/A" data-primary_emacs="Ctrl+K" data-primary_jbuilder="Ctrl+K" data-primary_mac_os_x="⌘+K" data-primary_mac_os_x_10.5_="⌘+K" data-primary_netbeans="N/A" data-primary_visual_studio="Ctrl+K" data-secondary_default="⌃K" data-secondary_default_for_gnome="⌃K" data-secondary_default_for_kde="⌃K" data-secondary_default_for_xwin="⌃K" data-secondary_eclipse="N/A" data-secondary_eclipse_mac_os_x="N/A" data-secondary_emacs="⌃K" data-secondary_jbuilder="⌃K" data-secondary_mac_os_x="⌘K" data-secondary_mac_os_x_10.5_="⌘K" data-secondary_netbeans="N/A" data-secondary_visual_studio="⌃K">Ctrl+K</kbd> or click <img class="inline-icon-16" src="/help/img/idea/2019.2/icons.actions.commit.svg@2x.png" width="16" alt="Commit button">                    on the toolbar.                </p>                <p id="049d0248">                    The <span class="control">Commit Changes</span> dialog opens that lists all files that have been modified since the last commit, and all                    newly added unversioned files.                </p>            </li><li class="list__item" id="commit-message">                <p id="3cfab35f">                    Enter a commit message. <a name="commit_message_pane_toolbar"></a>        <p id="01c38225">            You can click <img class="inline-icon-16" src="/help/img/idea/2019.2/icons.general.messageHistory@2x.png" width="16" alt="Message history"> to choose from the list of recent commit messages.        </p>                    </p>                <p id="34d79967">                    You can <a href="edit-project-history.html#reword-commit">edit the commit message</a>                    before you've pushed a commit.                </p>                <aside class="tip sideblock" data-title="" rel="34d79967" id="commit_message_rules">                    <p id="b9d95fcc">                        To customize commit message rules <a name="open_settings"></a>                in the <span class="control">Settings/Preferences</span> dialog (<kbd data-primary_default="Ctrl+Alt+S" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_default_for_xwin="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-primary_eclipse_mac_os_x="⌘+Comma" data-primary_emacs="Ctrl+Alt+S" data-primary_jbuilder="N/A" data-primary_mac_os_x="⌘+Comma" data-primary_mac_os_x_10.5_="⌘+Comma" data-primary_netbeans="Ctrl+Alt+S" data-primary_visual_studio="Alt+F7" data-secondary_default="⌃⌥S" data-secondary_default_for_gnome="⌃⌥S" data-secondary_default_for_kde="⌃⌥S" data-secondary_default_for_xwin="⌃⌥S" data-secondary_eclipse="⌃⌥S" data-secondary_eclipse_mac_os_x="⌘," data-secondary_emacs="⌃⌥S" data-secondary_jbuilder="N/A" data-secondary_mac_os_x="⌘," data-secondary_mac_os_x_10.5_="⌘," data-secondary_netbeans="⌃⌥S" data-secondary_visual_studio="⌥F7">Ctrl+Alt+S</kbd>)                            choose <span class="control">Version Control | Commit Dialog</span>. There is also a quick-fix and the                        <span class="keyword">Reformat</span> action that wrap a long line or reformat the message.                    </p>                </aside>            </li><li class="list__item" id="f7bf0552">                <p id="5bffcb8c">                    If necessary, select the <span class="control">Before Commit</span> actions you want                    MPS to perform before committing the selected files to the local repository.                 </p>            </li><li class="list__item" id="1a52a141">                <p id="548e72f3">                    Select the following options in the <span class="control">Git</span> section if necessary:                </p>                <ul class="list _bullet"><li class="list__item" id="commit-author"><p>                        <span class="control">Author</span>: if you are committing changes made by another person, you can specify the author of these changes.                    </p></li><li class="list__item" id="3f9f47a8"><p>                        <span class="control">Amend commit</span>: adds local changes to the latest commit (see                        <a href="edit-project-history.html#amend-commit">Combine staged changes with the                            previous commit (amend commit)</a> for details).                    </p></li><li class="list__item" id="4379a7bb">                        <p id="fa05db15"><span class="control">Sign-off commit</span>: <a name="signoff_commit"></a>        select if you want to sign off your commit to certify that the changes you are about to check in have been        made by you, or that you take the responsibility for the code you're committing.        <p id="0bc49579">            When this option is enabled, the following line is automatically added at the end of the commit message:            <span class="emphasis">Signed off by: &lt;username&gt;</span>        </p>                            </p>                    </li></ul>            </li><li class="list__item" id="click_commit">                <p id="ccd4cd81">                    Click the <span class="control">Commit button</span> or hover the mouse over this button to display the available commit options:                </p>                <ul class="list _bullet"><li class="list__item" id="b59e9510">                        <p id="f9ab40f6"><span class="control">Commit and Push</span>: <a href="">push</a> the                        changes to the remote repository                        immediately after the commit.                        </p>                        <p id="6fd22c8c">                            You can also press <kbd data-primary_default="Ctrl+Alt+K" data-primary_default_for_gnome="Ctrl+Alt+K" data-primary_default_for_kde="Ctrl+Alt+K" data-primary_default_for_xwin="Ctrl+Alt+K" data-primary_eclipse="Ctrl+Alt+K" data-primary_eclipse_mac_os_x="Alt+⌘+K" data-primary_emacs="Ctrl+Alt+K" data-primary_jbuilder="Ctrl+Alt+K" data-primary_mac_os_x="Alt+⌘+K" data-primary_mac_os_x_10.5_="Alt+⌘+K" data-primary_netbeans="Ctrl+Alt+K" data-primary_visual_studio="Ctrl+Alt+K" data-secondary_default="⌃⌥K" data-secondary_default_for_gnome="⌃⌥K" data-secondary_default_for_kde="⌃⌥K" data-secondary_default_for_xwin="⌃⌥K" data-secondary_eclipse="⌃⌥K" data-secondary_eclipse_mac_os_x="⌥⌘K" data-secondary_emacs="⌃⌥K" data-secondary_jbuilder="⌃⌥K" data-secondary_mac_os_x="⌥⌘K" data-secondary_mac_os_x_10.5_="⌥⌘K" data-secondary_netbeans="⌃⌥K" data-secondary_visual_studio="⌃⌥K">Ctrl+Alt+K</kbd> to invoke the <span class="control">Commit and Push</span> action from the                            <span class="control">Commit</span> dialog.                        </p>                    </li><li class="list__item" id="80201dbe"><p>                        <span class="control">Create Patch</span>: <a href="use-patches.html">generate a patch</a>                        based on the changes you are about to commit. In the <span class="control">Create Patch</span> dialog that opens,                        type the name of the patch file and specify whether you need a reverse patch.                    </p></li><li class="list__item" id="17ea2dc7"><p>                        <span class="control">Remote Run</span>: <a href="http://confluence.jetbrains.com/display/TCDL/Remote+Run" data-external="true" target="_blank" rel="noopener noreferrer">run your personal build</a>. This option                        is only available when you are logged in to <a href="https://www.jetbrains.com/teamcity/" data-external="true" target="_blank" rel="noopener noreferrer">TeamCity</a>.                        Refer to <a href="https://confluence.jetbrains.com/display/TCDL/IntelliJ+Platform+Plugin" data-external="true" target="_blank" rel="noopener noreferrer">TeamCity plugin documentation</a>                        for details.                    </p></li></ul>            </li></ol></section>                        <div class="chapter"><h3 id="partial_commit">Commit part of a file</h3>            <p id="9dcfd712">                Sometimes when you make changes that are related to a specific task, you also apply other unrelated code modifications                that affect the same file. Including all such changes into one commit may not be a good option, since it would                be more difficult to review, <a href="undo-changes.html#revert-commit">revert</a>,                <a href="apply-changes-from-one-branch-to-another.html#cherry-pick">cherry-pick</a> them,                and so on.            </p>            <p id="a8056457">                MPS lets you commit such changes separately in one of the following ways:            </p>                <ul class="list _bullet"><li class="list__item" id="2c258ce9">                        <p id="529439a4">                        <a href="#select_chunks_in_commit_changes_dialog">select modified code chunks</a>,  that you want to include in a                        commit right in the <span class="control">Commit Changes</span> dialog and leave other changes pending so that you can commit them later.                        </p>                    </li><li class="list__item" id="0a7050e6">                        <p id="0aea9118">                        <a href="#put_changes_into_difference_changelists">put different code chunks into different changelists</a> on the fly, when you edit code,                        and then commit these changelists separately.                        </p>                                                        </li></ul>            <section class="procedure-steps"><h3 id="select_chunks_in_commit_changes_dialog">Select chunks you want to commit</h3><ol class="list _decimal"><li class="list__item" id="dc6b6590"><p>                    <a href="#invoke-commit-dialog">Invoke</a> the <span class="control">Commit Changes</span> dialog.                </p></li><li class="list__item" id="82661fe8"><p>                    Click <span class="control">Diff</span> to display the differences between the repository                    version and the local version of the selected file.                </p></li><li class="list__item" id="selective_commit">                    <p id="55f418ae">                    Select the checkbox next to each chunk of modified or newly added code that you want to commit, and leave other changes                    unselected:                    </p>                    <figure><img alt="Partial commit dialog" title="Partial commit dialog" src="/help/img/idea/2019.2/partial_commit_dialog.png" id="8739d5f4" width="815" height="499"></figure>                                                                    </li><li class="list__item" id="ac044606"><p>                    Click <span class="control">Commit</span>. Unselected changes will stay in the current changelist, so that you can commit them separately.                </p></li></ol></section>            <section class="procedure-steps"><h3 id="put_changes_into_difference_changelists">Put changes into difference changelists</h3><ol class="list _decimal"><li class="list__item" id="4452ca9f"><p>                    When you make a change to a file in the editor, click the corresponding                    <a href="set-up-a-git-repository.html#track_changes_editor">change marker</a> in the                    gutter.                </p></li><li class="list__item" id="0918a4ad"><p>                    In the toolbar that appears, select the target changelist for the modified code chunk (or create a new changelist):                    <figure><img alt="Partial commit changelists" title="Partial commit changelists" src="/help/img/idea/2019.2/partial_commit_changelists.png" id="62c60650" width="579" height="100"></figure>                </p></li><li class="list__item" id="df8e149d"><p>Commit each changelist separately.</p></li></ol></section><aside class="tip sideblock" data-title="" rel="put_changes_into_difference_changelists" id="dde8a083">                <p id="eb8ca273">                    You can also create a new changelist and                    <a href="work-on-several-features-simultaneously.html#changelists">make it active</a>,                    then all changes that you make after that will fall into that changelist, while any modifications you                    made before that will stay where they are.                </p>            </aside>        </div>    </div>    <div class="chapter"><h2 id="push" data-toc="Commit and push changes#push">Push changes to a remote repository</h2>        <p id="88225dd8">            Before pushing your changes, <a href="sync-with-a-remote-repository.html">sync with the remote</a> and            make sure your local copy of the            repository is up-to-date to avoid conflicts.        </p>        <p id="sync_first">            MPS allows you to upload changes from the current branch to its            <a href="http://schacon.github.com/git/git-branch.html" data-external="true" target="_blank" rel="noopener noreferrer">tracked branch</a> or to any other remote branch.        </p>        <section class="procedure-steps"><ol class="list _decimal"><li class="list__item" id="quick-doc">                <p id="bae94fee">                    Press <kbd data-primary_default="Ctrl+Shift+K" data-primary_default_for_gnome="Ctrl+Shift+K" data-primary_default_for_kde="Ctrl+Shift+K" data-primary_default_for_xwin="Ctrl+Shift+K" data-primary_eclipse="Ctrl+Shift+K" data-primary_eclipse_mac_os_x="Shift+⌘+K" data-primary_emacs="Ctrl+Shift+K" data-primary_jbuilder="Ctrl+Shift+K" data-primary_mac_os_x="Shift+⌘+K" data-primary_mac_os_x_10.5_="Shift+⌘+K" data-primary_netbeans="Ctrl+Shift+K" data-primary_visual_studio="Ctrl+Shift+K" data-secondary_default="⌃⇧K" data-secondary_default_for_gnome="⌃⇧K" data-secondary_default_for_kde="⌃⇧K" data-secondary_default_for_xwin="⌃⇧K" data-secondary_eclipse="⌃⇧K" data-secondary_eclipse_mac_os_x="⇧⌘K" data-secondary_emacs="⌃⇧K" data-secondary_jbuilder="⌃⇧K" data-secondary_mac_os_x="⇧⌘K" data-secondary_mac_os_x_10.5_="⇧⌘K" data-secondary_netbeans="⌃⇧K" data-secondary_visual_studio="⌃⇧K">Ctrl+Shift+K</kbd> or choose <span class="control">VCS | Git | Push</span> from the main menu.                    The <span class="control">Push Commits dialog</span> opens showing all Git repositories (for multi-repository projects)                    and listing all commits made in the current branch in each repository since the last push.                </p>                <p id="27448dd1">                    If you have a project that uses multiple repositories that are not controlled synchronously, only the                    current repository is selected by default (for details on how to enable synchronous repositories control, refer to                    <a href="settings-version-control-git.html">Version Control Settings: Git</a>).                </p>                                    </li><li class="list__item" id="04ab65fd"><p>                If there are no remotes in the repository, the <span class="control">Define remote</span> link appears. Click this link and specify the remote name                and URL in the dialog that opens.                It will be saved and you can edit it later via <span class="control">VCS | Git | Remotes</span>                (for details, see <a href="set-up-a-git-repository.html#add-remote">Add a remote repository</a>).            </p></li><li class="list__item" id="edit-options">                <p id="9c68d38d">                    If you want to modify the target branch where you want to push, you can click the branch name. The label turns                    into a text field where you can type an existing branch name, or create a new branch.                    You can also click the <span class="control">Edit all targets</span> link in the bottom-right corner to edit all branch names simultaneously.                </p>                <p id="7b4641f3">                    Note that you cannot change the local branch: the current branch for each selected repository will be pushed.                </p>                                    </li><li class="list__item" id="zip">                <p id="01dcfa94">                If you want to preview changes before pushing them, select the required commit. The right-hand pane shows                the changes included in the selected commit. You can use the toolbar buttons to examine the commit details.                </p>                <a name="zip_changes"></a>                        </li><li class="list__item" id="9025d18d">                <p id="cad27c49">                    Click the <span class="control">Push</span> button when ready and select which operation you want to perform from the drop-down menu:                    <span class="control">Push</span>                    or <span class="control">Force push</span>.                </p>                <a name="Git_force_push"></a>        <p id="b9870cff">These choice options are only available if the <span class="control">Allow force push</span>            option is enabled (see <a href="settings-version-control-git.html">Version Control Settings: Git</a>), otherwise,            you can only perform the <code class="code">push</code> operation.        </p>                </li></ol></section>                <section class="procedure-steps"><h3 id="45905190">Update your working copy if push is rejected</h3><p id="update_when_push_rejected">                If <span class="control">push</span> is rejected because your working copy is outdated,                MPS displays the <span class="control">Push Rejected</span> dialog, provided that the                <span class="control">Auto-update if push of the current branch was rejected</span> option                in the <a href="settings-version-control-git.html">Git settings</a> page of the <span data-section="Windows or Linux" class="control">Settings</span>                <span data-section="macOS" class="control">Preferences</span> dialog is not selected. Do the following:            </p><ol class="list _decimal"><li class="list__item" id="5b033b57"><p>                If your project uses several Git repositories, specify which of them you want to update. If you want                to update all repositories, no matter whether <span class="control">push</span> was rejected for them or not,                select the <span class="control">Update not rejected repositories as well</span> option. If this option is cleared, only                the affected repositories will be updated.            </p></li><li class="list__item" id="1844a3a3">                <p id="934a1b7d">                    If you want MPS to apply the update procedure silently the next time push is rejected using the update method you                    choose in this dialog, select the <span class="control">Remember the update method choice and silently update in the future</span> option.                </p>                <p id="5c2cc702">                    After you leave this dialog, the <span class="control">Auto-update if push of the current branch was rejected</span> checkbox                    in the <a href="settings-version-control-git.html">Git settings</a> page of the <span data-section="Windows or Linux" class="control">Settings</span>                    <span data-section="macOS" class="control">Preferences</span> dialog will be selected, and the applied update method will become the default one.                </p>                <p id="dff1cc19">                    To change the update strategy, deselect this option to invoke the <span class="control">Push Rejected</span> dialog the next time                    push of the current branch is rejected, apply a different update procedure, and select the                    <span class="control">Remember the update method choice</span> option once again.                </p>            </li><li class="list__item" id="update-method"><p>                Select the update method (<a href="http://schacon.github.io/git/git-rebase.html" data-external="true" target="_blank" rel="noopener noreferrer">rebase</a> or <a href="http://schacon.github.io/git/git-merge.html" data-external="true" target="_blank" rel="noopener noreferrer">merge</a>) by                clicking the <span class="control">Rebase</span> or <span class="control">Merge</span> button respectively.            </p></li></ol></section>        <div class="chapter"><h3 id="force-push">When do I need to use force push?</h3>            <p id="f8268f9d">                When you run <span class="control">push</span>, Git will refuse to complete the operation if the remote repository has                changes that you are missing and that you are going to overwrite with your local copy of the repository.                Normally, you need to perform <a href="sync-with-a-remote-repository.html#pull">pull</a> to synchronize with the remote before you update it with your changes.            </p>            <p id="heads">                The <code class="code">--force push</code> command disables this check and lets you overwrite the remote repository, thus                erasing its history and causing data loss.            </p>            <p id="rebase">                A possible situation when you may still need to perform <code class="code">--force push</code> is when you rebase a pushed branch                and then want to push it to the remote server. In this case, when you try to push,                Git will reject your changes because the remote ref is not an ancestor of the local ref. If you perform <span class="control">pull</span> in this                situation, you will end up with two copies of the branch which you then need to merge.            </p>            <p id="2f71a527">                If you decide to force push the rebased branch and you are working in a team, make sure that:                <ul class="list _bullet"><li class="list__item" id="c5673d4c"><p>                        Nobody has pulled your branch and done some local changes to it                    </p></li><li class="list__item" id="679cd097"><p>                        All pending changes have been committed and pushed                    </p></li><li class="list__item" id="d811d24a"><p>                        You have the latest changes for that branch                    </p></li></ul>            </p>        </div>    </div><div class="last-modified" data-skip-index="skip">Last modified: 30 August 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="sync-with-a-remote-repository.html">Sync with a remote repository</a><a class="navigation-links__next" href="investigate-changes.html">Investigate changes</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>