<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>Using the MPS Debugger - Help | MPS</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body data-id="Using+MPS+Debugger.html"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search MPS Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>MPS 2019.2 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="primary" value="primary_default" selected>Default</option><option data-group="primary" value="primary_default_for_gnome">Default for GNOME</option><option data-group="primary" value="primary_default_for_kde">Default for KDE</option><option data-group="primary" value="primary_default_for_xwin">Default for XWin</option><option data-group="primary" value="primary_eclipse">Eclipse</option><option data-group="primary" value="primary_eclipse_mac_os_x">Eclipse (Mac OS X)</option><option data-group="primary" value="primary_emacs">Emacs</option><option data-group="primary" value="primary_jbuilder">JBuilder</option><option data-group="primary" value="primary_mac_os_x">Mac OS X</option><option data-group="primary" value="primary_mac_os_x_10.5_">Mac OS X 10.5+</option><option data-group="primary" value="primary_netbeans">NetBeans</option><option data-group="primary" value="primary_visual_studio">Visual Studio</option><option data-group="secondary" value="secondary_default">Default</option><option data-group="secondary" value="secondary_default_for_gnome">Default for GNOME</option><option data-group="secondary" value="secondary_default_for_kde">Default for KDE</option><option data-group="secondary" value="secondary_default_for_xwin">Default for XWin</option><option data-group="secondary" value="secondary_eclipse">Eclipse</option><option data-group="secondary" value="secondary_eclipse_mac_os_x">Eclipse (Mac OS X)</option><option data-group="secondary" value="secondary_emacs">Emacs</option><option data-group="secondary" value="secondary_jbuilder">JBuilder</option><option data-group="secondary" value="secondary_mac_os_x">Mac OS X</option><option data-group="secondary" value="secondary_mac_os_x_10.5_">Mac OS X 10.5+</option><option data-group="secondary" value="secondary_netbeans">NetBeans</option><option data-group="secondary" value="secondary_visual_studio">Visual Studio</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Using+MPS+Debugger.html" id="using-mps-debugger.xml">Using the MPS Debugger</h1>   <h2 id="usingmpsdebugger">Debugging</h2>   <p id="4f1125ef">The MPS Debugger provides an API to create debuggers for custom languages. Java Debugger plugin, included into MPS distribution, allows user to debug programs which are written in languages which are finally generated into Base Language/Java. We use this plugin below to illustrate MPS Debugger features, which all are available to other lagnuages via API.</p>   <p id="ccc5981b">      <ul data-skip-index="skip"><li class="list__item"><a href="#usingmpsdebugger">Debugging</a></li><li class="list__item"><a href="#execution">Execution</a></li><li class="list__item"><a href="#creatinganinstanceofrunconfiguration">Creating an instance of run configuration</a></li><li class="list__item"><a href="#debugginglanguagedefinitions">Debugging language definitions</a></li><li class="list__item"><a href="#debuggingaconfiguration">Debugging a configuration</a></li><li class="list__item"><a href="#breakpoints">Breakpoints</a></li><li class="list__item"><a href="#settingabreakpoint">Setting a breakpoint</a></li><li class="list__item"><a href="#viewingbreakpointsviabreakpointsdialog.">Viewing breakpoints via breakpoints dialog.</a></li><li class="list__item"><a href="#examiningastateofaprogramatabreakpoint">Examining a state of a program at a breakpoint</a></li><li class="list__item"><a href="#runtime">Runtime</a></li><li class="list__item"><a href="#controllingexecutionofaprogram">Controlling execution of a program</a></li><li class="list__item"><a href="#expressions">Expressions</a></li><li class="list__item"><a href="#expressionevaluation">Expression evaluation</a></li><li class="list__item"><a href="#watches">Watches</a></li></ul>   </p>   <h3 id="execution">Execution</h3>   <p id="7c900f25">We start with description of how to debug a java application. If a user has a class with main method, a Java Application run configuration should be used to run/debug such a program.</p>   <h4 id="creatinganinstanceofrunconfiguration">Creating an instance of run configuration</h4>   <p id="521aae2e">A <b id="b60f3330">Java Application</b>&nbsp;or an <b id="e01b1a04">MPS instance</b> run configurations can be created for a class with a main method or an MPS project, respectively. Go to Run -&gt; Edit Configurations menu and press a button with "+" as shown at the picture below:</p>   <p id="7322c8e6">      <figure><a class="lightbox" href="/help/img/idea/2019.2/Debug1.png"><img alt="Debug1" title="Debug1" src="/help/img/idea/2019.2/Debug1.png" id="b7c04b51" width="700" height="1008"></a></figure>   </p>   <p id="150f00e6">A menu appears, choose Java Application from it and a new Java Application configuration will be created:</p>   <p id="2d4e3034">      <figure><a class="lightbox" href="/help/img/idea/2019.2/Debug2.png"><img alt="Debug2" title="Debug2" src="/help/img/idea/2019.2/Debug2.png" id="56aee055" width="400" height="492"></a></figure>   </p>   <p id="aa2babb5">If you select <b id="a8af63ea">Java Application</b>, you will be able to specify the Java class to run, plus a few optional configuration parameters:</p>   <p id="3106dad3">      <figure><a class="lightbox" href="/help/img/idea/2019.2/Debug3.png"><img alt="Debug3" title="Debug3" src="/help/img/idea/2019.2/Debug3.png" id="719c51de" width="700" height="1008"></a></figure>   </p>   <p id="76d70020">A name should be given to each run configuration, and a main node i.e. a class with a main method should be specified. Also VM and program parameters may be specified in a configuration. Look at Run Configuration chapter to learn more about run configurations.</p>   <h4 id="debugginglanguagedefinitions">Debugging language definitions</h4>   <p id="b854c7ce">Select&nbsp;<b id="db909942">MPS instance</b>, if you want to debug MPS language definition code. MPS will start <b id="64024d42">a new instance of MPS</b> with a project that uses your language (it could also be the current project) and you will set breakpoints and debug in your original MPS instance.</p>   <p id="5408c80c">In the <b id="c7e502e3">Debug configuration</b>&nbsp;dialog you need to indicate, which MPS project to open in the new MPS instance - either the current one by checking the <b id="bc611e03">Open current project</b>&nbsp;check-box, or any project you specify in the field below. You could also leave both empty and create/open a project from he menu once the new MPS instance starts.</p>   <p id="e68d4553">      <figure><a class="lightbox" href="/help/img/idea/2019.2/Debug4.png"><img alt="Debug4" title="Debug4" src="/help/img/idea/2019.2/Debug4.png" id="d96aa080" width="700" height="1010"></a></figure>   </p>   <h4 id="debuggingaconfiguration">Debugging a configuration</h4>   <p id="79c2eb06">To debug a run configuration, select it from configurations menu and then press the&nbsp;<b id="4a05d63c">Debug</b> button. The debugger starts, and the <b id="836534c9">Debugger tool window</b> appears below.</p>   <p id="94c42ec6">      <figure><a class="lightbox" href="/help/img/idea/2019.2/Debug6.png"><img alt="Debug6" title="Debug6" src="/help/img/idea/2019.2/Debug6.png" id="3327b574" width="900" height="1308"></a></figure>   </p>   <p id="6994c93f">There are two tabs in a tool: one is for the console view and other for the debugger view. In the console an application's output is shown.</p>   <h3 id="breakpoints">Breakpoints</h3>   <p id="534a5a9e">Next section describes breakpoints usage.</p>   <h4 id="settingabreakpoint">Setting a breakpoint</h4>   <p id="1e7bd764">A breakpoint can be set on a statement, field or exception. To set or remove a breakpoint, press Ctrl-F8 on a node in the editor or click on a left margin near a node. A breakpoint is marked with a red bubble on the left margin, a pink line inside the editor and a red frame around a node for the breakpoint. Exception breakpoints are created from the breakpoints dialog.</p>   <p id="f97fc68e">When the program is stared, breakpoints on which debugger can not stop are specially highlighted.</p>   <p id="96aa93c6">      <figure><img alt="cantstop" title="cantstop" src="/help/img/idea/2019.2/cantstop.png" id="0a84dbde" width="308" height="71"></figure>   </p>   <p id="9e4ffc0e">When debugger stops at a breakpoint, the current breakpoint line is marked blue, and the actual node for the breakpoint is decorated with black frame around it.</p>   <p id="e86715c3">      <figure><img alt="stop on breakpoint" title="stop on breakpoint" src="/help/img/idea/2019.2/stop-on-breakpoint.png" id="8a4f8db4" width="541" height="126"></figure>   </p>   <p id="fd2b3d07">If the cell for a node on which the program is stopped is inside a table, table cell is highlighted instead of a line.</p>   <h4 id="viewingbreakpointsviabreakpointsdialog.">Viewing breakpoints via breakpoints dialog.</h4>   <p id="a720b752">All breakpoints set in the project could be viewed via Breakpoints dialog.</p>   <p id="cf10f2a7">      <figure><img alt="breakpoints view" title="breakpoints view" src="/help/img/idea/2019.2/breakpoints-view.png" id="e50f3f7b" width="603" height="311"></figure>   </p>   <p id="7bb375ae">Java breakpoints features include:</p>   <ul class="list _ul"><li class="list__item" id="ececa385"><p>field watchpoints;</p></li><li class="list__item" id="98598f94"><p>exception breakpoints;</p></li><li class="list__item" id="d57f02d5"><p>suspend policy for java breakpoints;</p></li><li class="list__item" id="03dedee9"><p>relevant breakpoint data (like thrown exception or changed field value) is displayed in variables tree.</p></li></ul>   <h4 id="examiningastateofaprogramatabreakpoint">Examining a state of a program at a breakpoint</h4>   <p id="fc2bacb7">When at a breakpoint, a Debugger tab can be used to examine a state of a program. There are three panels available:</p>   <ul class="list _ul"><li class="list__item" id="d1214d21"><p>a "Frames" panel with a list of stack frames for a thread, selected using a combo box;</p></li><li class="list__item" id="5f36cb52"><p>a "Variable" tree which shows watchables (variables, parameters, fields and static fields) visible in the selected stack frame;</p></li><li class="list__item" id="5c3f2afd"><p>a "Watches" panel with list of watches and their values.</p></li></ul>   <p id="14ee4a1c">      <figure><img alt="debug tool debug" title="debug tool debug" src="/help/img/idea/2019.2/debug-tool-debug.png" id="01c97541" width="903" height="248"></figure>   </p>   <p id="d852b9ef">In java debugger "Copy Value" action is available from the context menu of the variable tree.</p>   <p id="1853e7ad">      <figure><img alt="copyvalue" title="copyvalue" src="/help/img/idea/2019.2/copyvalue.png" id="cb74665c" width="506" height="120"></figure>   </p>   <h3 id="runtime">Runtime</h3>   <h4 id="controllingexecutionofaprogram">Controlling execution of a program</h4>   <ul class="list _ul"><li class="list__item" id="0fff0a55"><p>To step over, use Run -&gt; Step Over or F8.</p></li><li class="list__item" id="aaaef5d5"><p>To step out from a method, use Run -&gt; Step Out or Shift-F8.</p></li><li class="list__item" id="ed9d440d"><p>To step into a method call, use Run -&gt; Step Into or F7.</p></li><li class="list__item" id="e206db8d"><p>To resume program execution, use Resume button or Run -&gt; Resume or F9.</p></li><li class="list__item" id="cebe84fc"><p>To pause a program manually, use Pause button or Run -&gt; Pause. When paused manually, that is, not at a breakpoint, info about variables is unavailable.</p></li></ul>   <p id="f5d0c11d">There is a toolbar in Debugger window from where stepping actions are available.</p>   <p id="e6573224">      <figure><img alt="toolbar" title="toolbar" src="/help/img/idea/2019.2/toolbar.png" id="f3e1c618" width="477" height="99"></figure>   </p>   <h3 id="expressions">Expressions</h3>   <h4 id="expressionevaluation">Expression evaluation</h4>   <p id="52ffd726">MPS Java debugger allows user to evaluate expressions during debug, using info from program stack. It is called low-level evaluation, because user is only allowed to use pure java variables/fields from generated code, not entities from high-level source code.</p>   <p id="1e6bba4a">To activate evaluation mode, a program should be stopped at a breakpoint. Press Alt-F8, and a dialog appears.<br> In a dialog there's a MPS Editor with a statement list inside it. Some code may be written there, which uses variables and fields from stack frame. To evaluate this code, press Evaluate button. The evaluated value will appear in a tree view below.</p>   <p id="a5438cbd">      <figure><img alt="evaluate" title="evaluate" src="/help/img/idea/2019.2/evaluate.png" id="809203c9" width="436" height="255"></figure>   </p>   <p id="98cd28a2">To evaluate a piece of code from the editor, select it and press Alt+F8, and the code will be copied to the evaluation window.</p>   <p id="b4ad7b1d">      <figure><img alt="evaluateselection" title="evaluateselection" src="/help/img/idea/2019.2/evaluateselection.png" id="3752bc96" width="672" height="337"></figure>   </p>   <h4 id="watches">Watches</h4>   <p id="189f93a0">Watches API and low-level watches for java debugger are implemented. "Low-level" means that user can write expressions using variables, available on the stack. To edit a watch, a so-called "context"(used variables, static context type and this type) must be specified. If the stack frame is available at the moment, context is filled automatically.</p>   <p id="a573af9e">      <figure><img alt="Edit watch" title="Edit watch" src="/help/img/idea/2019.2/Edit_watch.png" id="6935fb6c" width="500" height="265"></figure>   </p>   <p id="7c714fae">Watches can be viewed in "Watches" tree in "Debug" tool window. Watches could be created, edited and removed via context menu or toolbar buttons.</p>   <p id="f8da8545">      <figure><img alt="Watches tree" title="Watches tree" src="/help/img/idea/2019.2/Watches_tree.png" id="f7a4dc3a" width="396" height="151"></figure>   </p><div class="last-modified" data-skip-index="skip">Last modified: 30 August 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="debugger-api.html">Debugger API</a><a class="navigation-links__next" href="testing-languages.html">Testing languages</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>