<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>Behavior - Help | MPS</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body data-id="Behavior.html"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search MPS Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>MPS 2019.2 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="primary" value="primary_default" selected>Default</option><option data-group="primary" value="primary_default_for_gnome">Default for GNOME</option><option data-group="primary" value="primary_default_for_kde">Default for KDE</option><option data-group="primary" value="primary_default_for_xwin">Default for XWin</option><option data-group="primary" value="primary_eclipse">Eclipse</option><option data-group="primary" value="primary_eclipse_mac_os_x">Eclipse (Mac OS X)</option><option data-group="primary" value="primary_emacs">Emacs</option><option data-group="primary" value="primary_jbuilder">JBuilder</option><option data-group="primary" value="primary_mac_os_x">Mac OS X</option><option data-group="primary" value="primary_mac_os_x_10.5_">Mac OS X 10.5+</option><option data-group="primary" value="primary_netbeans">NetBeans</option><option data-group="primary" value="primary_visual_studio">Visual Studio</option><option data-group="secondary" value="secondary_default">Default</option><option data-group="secondary" value="secondary_default_for_gnome">Default for GNOME</option><option data-group="secondary" value="secondary_default_for_kde">Default for KDE</option><option data-group="secondary" value="secondary_default_for_xwin">Default for XWin</option><option data-group="secondary" value="secondary_eclipse">Eclipse</option><option data-group="secondary" value="secondary_eclipse_mac_os_x">Eclipse (Mac OS X)</option><option data-group="secondary" value="secondary_emacs">Emacs</option><option data-group="secondary" value="secondary_jbuilder">JBuilder</option><option data-group="secondary" value="secondary_mac_os_x">Mac OS X</option><option data-group="secondary" value="secondary_mac_os_x_10.5_">Mac OS X 10.5+</option><option data-group="secondary" value="secondary_netbeans">NetBeans</option><option data-group="secondary" value="secondary_visual_studio">Visual Studio</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Behavior.html" id="behavior.xml">Behavior</h1>   <p id="3afa246c">During syntax tree manipulation, common operations are often extracted to utility methods in order to simplify the task and reuse functionality. It is possible to extract such utilities into static methods or create node wrappers holding the utility code in virtual methods. However, in MPS a better solution is available: the <i id="5a074983">behavior</i> language aspect. It makes it possible to create virtual and non-virtual instance methods, static methods, and concept instance constructors on nodes.</p>      <h2 id="conceptinstancemethods">Concept instance methods</h2>   <p id="a46730e3">A Concept instance method is a method, which can be invoked on any specified concept <b id="96f81802">instance</b>. They can be both <i id="8269215c">virtual</i> and <i id="b059d2ee">non-virtual</i>. While <i id="0995abab">virtual</i> methods can be <b id="54256682">overridden</b> in extending concepts, <i id="69d06df9">non-virtual</i> ones cannot. Also a virtual concept method can be declared abstract, forcing the inheritors to provide an implementation.</p>   <p id="ce55fe02">Concept instance methods can be implemented both in concept declarations and in concept interfaces. This may lead to some method resolution issues. When MPS needs to decide, which virtual method to invoke in the inheritance hierarchy, the following method resolution order (MRO) algorithm is applied:</p>   <ul class="list _ul"><li class="list__item" id="9036ec2e"><p>If the current concept implements a matching method, invoke it. Return the computed value.</p></li><li class="list__item" id="63297f1f"><p>Invoke the algorithm recursively for an extended concept, if there is one. In case of success return the computed value.</p></li><li class="list__item" id="cf59b1a5"><p>Invoke the algorithm recursively for all implemented concept interfaces in the order of their definition in the&nbsp;<b id="f737df42">implements</b>&nbsp;section. The first found interface implementing the method is used. In case of success return the computed value.</p></li><li class="list__item" id="6ad31a49"><p>Return a failure.</p></li></ul>   <h3 id="overridingbehaviormethods">Overriding behavior methods</h3>   <p id="fd1fff4b">In order to override a method inherited from a super-concept, use the&nbsp;<i id="d38544f3">Control/Cmd + O</i> keyboard shortcut to invoke the&nbsp;<b id="dbcfa021">Override</b> dialog. There you can select the method to override. By typing the name of the desired method to override you narrow down the list of methods.</p>      <h2 id="conceptconstructors">Concept constructors</h2>   <p id="e7f834c9">When a concept instance is created, it is often useful to initialize some properties/references/children to the default values. This is what concept constructors can be used for. The code inside the concept construction is invoked on each instantiation of a new node of a particular concept.</p>   <p id="704d2256">A Behavior constructor will be called when</p>   <ul class="list _ul"><li class="list__item" id="43806cb1"><p>creating nodes with&nbsp;<b id="23e7fbf9">add new initialized()</b>,&nbsp;<b id="81b34a28">set new initialized()</b>&nbsp;and similar methods from&nbsp;<code class="code">j.m.lang.actions</code>&nbsp;and&nbsp;<code class="code">j.m.lang.smodel</code>      </p></li><li class="list__item" id="b7aa3c9a"><p>creating a node with&nbsp;<code class="code">new node&lt;Car&gt;()</code>      </p></li></ul>   <p id="f3ed42b8">Using quotation like&nbsp;&lt;Car()&gt; will&nbsp;<b id="40169a7a">not</b>&nbsp;call the Behaviors constructor. Consider using the&nbsp;<a href="quotations.html">smodel constructor</a>&nbsp;instead.</p>   <aside class="tip sideblock" data-title="" rel="f3ed42b8" id="e616a323">      <p id="90b6f72b">The node's constructor is invoked before the node gets attached to the model. Therefore it is pointless to investigate the node's&nbsp;<b id="b070dd89">parent</b>,&nbsp;<b id="7b73bdba">ancestors</b>,&nbsp;<b id="5f705ee9">children</b>&nbsp;or&nbsp;<b id="da3c3ad1">descendants</b>&nbsp;in the behaviour constructor. These calls will always evaluate to&nbsp;<i id="e230fd1d">null</i>. You should define&nbsp;<b id="cbe5153b">NodeFactories</b>&nbsp;(<a href="editor-actions.html">Editor Actions</a>) in order to have your nodes initialized with values depending on their context within the model.</p>   </aside>      <h2 id="conceptstaticmethods">Concept static methods</h2>   <p id="03883efc">Some utility methods do not belong to concept instances and so should not be created as instance methods. For concept-wide functionality, MPS provides static concept methods. See also <a href="constraints.html">Constraints</a>   </p>   <h2 id="callingbehaviormethodsonnullnodes/concepts">Calling behavior methods on null nodes/concepts</h2>   <p id="d220c673">When a behavior method is invoked on a null object that represents a node or a concept, the call does not result in a NullPointerException. Instead, a null value is returned, provided the return type of the invoked method is a ClassifierType or a StringType. For a PrimitiveType, the default value of that type is returned.</p><div class="last-modified" data-skip-index="skip">Last modified: 30 August 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="constraints.html">Constraints</a><a class="navigation-links__next" href="typesystem.html">Typesystem</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>