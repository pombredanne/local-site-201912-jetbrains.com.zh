<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>Find usages - Help | MPS</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body data-id="Find+usages.html"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search MPS Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>MPS 2019.2 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="primary" value="primary_default" selected>Default</option><option data-group="primary" value="primary_default_for_gnome">Default for GNOME</option><option data-group="primary" value="primary_default_for_kde">Default for KDE</option><option data-group="primary" value="primary_default_for_xwin">Default for XWin</option><option data-group="primary" value="primary_eclipse">Eclipse</option><option data-group="primary" value="primary_eclipse_mac_os_x">Eclipse (Mac OS X)</option><option data-group="primary" value="primary_emacs">Emacs</option><option data-group="primary" value="primary_jbuilder">JBuilder</option><option data-group="primary" value="primary_mac_os_x">Mac OS X</option><option data-group="primary" value="primary_mac_os_x_10.5_">Mac OS X 10.5+</option><option data-group="primary" value="primary_netbeans">NetBeans</option><option data-group="primary" value="primary_visual_studio">Visual Studio</option><option data-group="secondary" value="secondary_default">Default</option><option data-group="secondary" value="secondary_default_for_gnome">Default for GNOME</option><option data-group="secondary" value="secondary_default_for_kde">Default for KDE</option><option data-group="secondary" value="secondary_default_for_xwin">Default for XWin</option><option data-group="secondary" value="secondary_eclipse">Eclipse</option><option data-group="secondary" value="secondary_eclipse_mac_os_x">Eclipse (Mac OS X)</option><option data-group="secondary" value="secondary_emacs">Emacs</option><option data-group="secondary" value="secondary_jbuilder">JBuilder</option><option data-group="secondary" value="secondary_mac_os_x">Mac OS X</option><option data-group="secondary" value="secondary_mac_os_x_10.5_">Mac OS X 10.5+</option><option data-group="secondary" value="secondary_netbeans">NetBeans</option><option data-group="secondary" value="secondary_visual_studio">Visual Studio</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Find+usages.html" id="find-usages.xml">Find usages</h1>   <p id="e4a1a5c0">In MPS, any model consists of nodes. Nodes can have many types of relations. These relations may be expressed in a node structure (e.g. "class descendants" relation on classes) or not (e.g. "overriding method" relation on methods). Find Usages is a tool to display some specifically related nodes for a given node.</p>   <p id="783e38d9">In MPS, the Find Usages system is fully customizable - you can write your own entities, so-called <b id="31e5fc53">finders</b>, which represent algorithms for finding related nodes. For every type of relation there is a corresponding finder.</p>   <p id="a0bfa52b">This is how "find usages" result looks like:</p>   <p id="47944d26">      <figure><img alt="Findx1" title="Findx1" src="/help/img/idea/2019.2/Findx1.png" id="c8c40bf2" width="500" height="606"></figure>   </p>   <h3 id="usingfindusagessubsystem">Using Find Usages Subsystem</h3>   <p id="e6352620">You can press Alt+F7 on a node (no matter where - in the editor or in the project tree) to see what kind of usages MPS can search for.</p>   <p id="e7cf7f4a">You can also right-click a node and select "Find Usages" to open the "Find usages" window.</p>   <p id="fd376bef">      <figure><img alt="Image2018 45" title="Image2018 45" src="/help/img/idea/2019.2/Image2018_45.png" id="b62886e5" width="1025" height="473"></figure>   </p>   <p id="ceeb7637">The Find usages window adopts to the node under caret. For behavior methods, for example, it gives the users to select "Overridden Methods" and "Overriding Methods".</p>   <p id="078e1395">      <figure><img alt="Image2018 11" title="Image2018 11" src="/help/img/idea/2019.2/Image2018_11.png" id="7696110f" width="977" height="451"></figure>   </p>   <p id="a9cb2e37">      <b id="86ba0d19">&nbsp;Finders -</b> select the categories of usages you want to search for</p>   <p id="0c0d9132">      <b id="7ee5b86b">&nbsp;Scope -</b> this lets you select <i id="31056aa6">where</i> you want to search for usages - in concrete model, module, current project or everywhere.</p>   <p id="f61d8c6f">      <b id="3570856f">&nbsp;View Options -</b> additional view options</p>   <p id="91367e73">After adjusting your search, click OK to run it. Results will be shown in the Find Usages Tool as shown above.</p>   <h3 id="finders">Finders</h3>   <p id="d5cfad17">To implement your own mechanism for finding related nodes, you should become familiar with Finders. For every relation there is a specific Finder that provides all the information about the search process.</p>   <h4 id="wheretostoremyfinders?">Where to store my finders?</h4>   <p id="024a3374">Finders can be created in any model by importing findUsages language. However, MPS collects finders only from <b id="456bfc24">findUsages</b> language aspects. So, if you want your finder to be used by the MPS Find Usages subsystem, it must be stored in the <b id="8587b9e6">findUsages</b> aspect of your language.</p>   <h4 id="finderstructure">Finder structure</h4>   <div class="table-wrapper"><table width="100%" id="7c5b1700"><thead><tr id="6cde35d2" class="ijRowHead"><th id="8a1b0262">            <h4 id="name">name</h4>         </th><th id="900499ea">            <p id="9bd340d7">The name of a finder. You can choose any name you want, the only obvious constraint being that the names must be unique in the scope of the model.</p>         </th></tr></thead><tbody><tr id="87fa62fe" class="ijRowOdd"><td id="3179443b">            <h4 id="forconcept">for concept</h4>         </td><td id="528fb932">            <p id="7b8c30be">Finder will be tested for applicability only to those nodes that are instances of this concept and its subconcepts.</p>         </td></tr><tr id="95a7d947" class="ijRowEven"><td id="615faf70">            <h4 id="description">description</h4>         </td><td id="bb7af88c">            <p id="465eba5d">This string represents the finder in the list of finders. Should be rather short.</p>         </td></tr><tr id="8556c557" class="ijRowOdd"><td id="9e208c44">            <h4 id="longdescription">long description</h4>         </td><td id="ec28d81e">            <p id="8d7dbd40">If it's not clear from the description string what exactly the finder does, you can add a long description, which will be shown as a tooltip for the finder in the list of finders.</p>         </td></tr><tr id="c490194f" class="ijRowEven"><td id="d046e44e">            <h4 id="isvisible">is visible</h4>         </td><td id="78b4d9c8">            <p id="ce83d316">Determines whether the finder is visible for the current node. For example, a finder that finds ancestor classes of some class should not be visible when this class has no parent.</p>         </td></tr><tr id="cbd63196" class="ijRowOdd"><td id="2251a018">            <h4 id="isapplicable">is applicable</h4>         </td><td id="bbdd10f7">            <p id="266c0277">Finders that have passed <b id="563a832c">for concept</b> are tested for applicability to the current node. If this method returns true, the finder is shown in the list of available finders; otherwise it is not shown. The <b id="be0d2ff6">node</b> argument of this method is guaranteed to be an instance of the concept specified in "for concept" or its subconcepts. <br> Please note the difference between <b id="33a8afc3">is visible</b> and <b id="80e9577c">is applicable</b>. The first one is responsible only for viewing. The second one represents a "valid call" contract between the finder and its caller. This is important because we have an <b id="d5589dab">execute</b> statement in findUsagesLanguage, which will be described later. See <i id="5a5f12b3">execute</i> section below for details.</p>         </td></tr><tr id="446f9ef7" class="ijRowEven"><td id="be3751f0">            <h4 id="find">find</h4>         </td><td id="5b78dad4">            <p id="8c51cc31">This method should find given node usages in a given scope. For each found usage, use the <b id="ee90a7cc">add result</b> statement to register it.</p>         </td></tr><tr id="aee5ace5" class="ijRowOdd"><td id="f6b498e9">            <h4 id="searchednodes">searched nodes</h4>         </td><td id="cb424a07">            <p id="67734893">This method returns nodes for which the finder searched. These nodes are shown in <b id="ea12d043">searched nodes</b> subtree in the tool. <br> For each node to display, use the <b id="0db31957">add node</b> statement to register it.</p>         </td></tr><tr id="6da074da" class="ijRowEven"><td id="efa6aead">            <h4 id="getcategory">get category</h4>         </td><td id="a9549507">            <p id="09e00175">There are a number of variants to group found nodes in the tool. One of them is grouping by category, that is given for every found node by the finder that has found it. This method gives a category to each node found by this finder.</p>         </td></tr></tbody></table></div>   <h4 id="whatdoesthempsfindusagessubsystemdoautomatically?&nbsp;">What does the MPS Find Usages subsystem do automatically?Â </h4>   <ul class="list _ul"><li class="list__item" id="03cc518f"><p>Stores search options between multiple invocations and between MPS runs</p></li><li class="list__item" id="449ddc78"><p>Stores search results between MPS runs</p></li><li class="list__item" id="a37f110e"><p>Automatically handles deleted nodes</p></li><li class="list__item" id="a55b1fcd"><p>All the visualization and operations with found nodes is done by the subsystem, not by finders</p></li></ul>   <h3 id="specificstatements">Specific Statements</h3>   <h4 id="execute">execute</h4>   <p id="bfa1282f">Finders can be reused thanks to the <b id="86f08928">execute</b> statement. The execution of this statement consists of 2 steps: validating the search query (checking <b id="3832a8b2">for concept</b> and <b id="f18250ff">isApplicable</b>), and executing the <b id="773ba871">find</b> method. That's where you can see the difference between <b id="4f79f76e">isApplicable</b> and <b id="d02a5256">isShown</b>. If you use <b id="b13f7970">isApplicable</b> for cases when the finder should be applicable, but not shown, you can get an error when using this finder in the <b id="238d01aa">execute</b> statement.</p>   <h4 id="executeasynchronously">execute asynchronously</h4>   <p id="86936bdc">Furthermore, in order to execute a finder asynchronously one needs to use a special <i id="6b63b5a7">OnEachNodeFoundByExpression</i>, which represents a simple finder invocation with a callback which is executed for each found node.</p>   <p id="30b15359">      <figure><img alt="Image2018 25" title="Image2018 25" src="/help/img/idea/2019.2/Image2018_25.png" id="b6e0c9b2" width="981" height="554"></figure>   </p>   <p id="8bf9b0ba">Examples</p>   <p id="42d57185">You can see some finder examples in jetbrains.mps.baseLanguage.findUsages</p>   <p id="ea335531">You can also find all finders by going to the FinderDeclaration concept (Ctrl+N, type "FinderDeclaration", then press ENTER) and finding all instances of this concept (Alt+F7, check instances, then check Global Scope).</p><div class="last-modified" data-skip-index="skip">Last modified: 30 August 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="extension-support.html">Extension support</a><a class="navigation-links__next" href="run-configurations.html">Run Configurations</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>