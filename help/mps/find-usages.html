<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>查找用法-帮助| MPS</title><link rel="stylesheet" href="/resources.jetbrains.com/storage/help-app/v3/app.css"></head><body  data-id="Find+usages.html"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索MPS帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>MPS 2019.2帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option value="primary_default" data-group="primary" selected>默认</option><option value="primary_default_for_gnome" data-group="primary">GNOME的默认设置</option><option value="primary_default_for_kde" data-group="primary">KDE的默认值</option><option value="primary_default_for_xwin" data-group="primary">XWin的默认设置</option><option value="primary_eclipse" data-group="primary">日食</option><option value="primary_eclipse_mac_os_x" data-group="primary">Eclipse（Mac OS X）</option><option value="primary_emacs" data-group="primary">埃马克斯</option><option value="primary_jbuilder" data-group="primary">JBuilder的</option><option value="primary_mac_os_x" data-group="primary">Mac OS X</option><option value="primary_mac_os_x_10.5_" data-group="primary">Mac OS X 10.5以上</option><option value="primary_netbeans" data-group="primary">NetBeans</option><option value="primary_visual_studio" data-group="primary">视觉工作室</option><option value="secondary_default" data-group="secondary">默认</option><option value="secondary_default_for_gnome" data-group="secondary">GNOME的默认设置</option><option value="secondary_default_for_kde" data-group="secondary">KDE的默认值</option><option value="secondary_default_for_xwin" data-group="secondary">XWin的默认设置</option><option value="secondary_eclipse" data-group="secondary">日食</option><option value="secondary_eclipse_mac_os_x" data-group="secondary">Eclipse（Mac OS X）</option><option value="secondary_emacs" data-group="secondary">埃马克斯</option><option value="secondary_jbuilder" data-group="secondary">JBuilder的</option><option value="secondary_mac_os_x" data-group="secondary">Mac OS X</option><option value="secondary_mac_os_x_10.5_" data-group="secondary">Mac OS X 10.5以上</option><option value="secondary_netbeans" data-group="secondary">NetBeans</option><option value="secondary_visual_studio" data-group="secondary">视觉工作室</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 id="find-usages.xml" data-toc="Find+usages.html">查找用法</h1>   <p id="e4a1a5c0">在MPS中，任何模型都由节点组成。节点可以具有多种类型的关系。这些关系可以表达为节点结构（例如，关于类的“类后代”关系）（例如，关于方法的“覆盖方法”关系）。查找用法是一种工具，用于显示给定节点的一些特定相关的节点。</p>   <p id="783e38d9">在MPS中，“查找用法”系统是完全可定制的-您可以编写自己的实体，即所谓的<b id="31e5fc53">查找器</b> ，它们表示用于查找相关节点的算法。对于每种关系类型，都有一个对应的查找器。</p>   <p id="a0bfa52b">这是“查找用法”结果的样子：</p>   <p id="47944d26">      </p><figure><img alt="查找x1" title="查找x1" src="/help/img/idea/2019.2/Findx1.png" id="c8c40bf2" width="500" height="606"></figure>   <p></p>   <h3 id="usingfindusagessubsystem">使用查找用法子系统</h3>   <p id="e6352620">您可以在节点上按Alt + F7键（无论在编辑器还是项目树中的任何位置），以查看MPS可以搜索哪种用法。</p>   <p id="e7cf7f4a">您也可以右键单击节点，然后选择“查找用法”以打开“查找用法”窗口。</p>   <p id="fd376bef">      </p><figure><img alt="Image2018 45" title="Image2018 45" src="/help/img/idea/2019.2/Image2018_45.png" id="b62886e5" width="1025" height="473"></figure>   <p></p>   <p id="ceeb7637">“查找用法”窗口采用插入符号下的节点。例如，对于行为方法，它使用户可以选择“替代方法”和“替代方法”。</p>   <p id="078e1395">      </p><figure><img alt="Image2018 11" title="Image2018 11" src="/help/img/idea/2019.2/Image2018_11.png" id="7696110f" width="977" height="451"></figure>   <p></p>   <p id="a9cb2e37">      查找器<b id="86ba0d19">-</b>选择要搜索的用法类别</p>   <p id="0c0d9132">      <b id="7ee5b86b">范围-</b>这可以让你选择<i id="31056aa6">你</i>要搜索的用途-混凝土模型，模块，当前项目或随处可见。</p>   <p id="f61d8c6f">      <b id="3570856f">查看选项-</b>其他查看选项</p>   <p id="91367e73">调整搜索后，单击“确定”运行它。结果将显示在“查找用法”工具中，如上所示。</p>   <h3 id="finders">发现者</h3>   <p id="d5cfad17">为了实现自己的查找相关节点的机制，您应该熟悉Finders。对于每个关系，都有一个特定的Finder提供有关搜索过程的所有信息。</p>   <h4 id="wheretostoremyfinders?">在哪里存储我的发现者？</h4>   <p id="024a3374">可以通过导入findUsages语言以任何模型创建查找器。但是，MPS仅从<b id="456bfc24">findUsages</b>语言方面收集发现者。因此，如果您希望MPS查找用法子系统使用查找器，则必须将其存储在语言的<b id="8587b9e6">findUsages</b>方面。</p>   <h4 id="finderstructure">查找器结构</h4>   <div class="table-wrapper"><table width="100%" id="7c5b1700"><thead><tr id="6cde35d2" class="ijRowHead"><th id="8a1b0262">            <h4 id="name">名称</h4>         </th><th id="900499ea">            <p id="9bd340d7">查找器的名称。您可以选择任何名称，唯一明显的限制是名称在模型范围内必须唯一。</p>         </th></tr></thead><tbody><tr id="87fa62fe" class="ijRowOdd"><td id="3179443b">            <h4 id="forconcept">对于概念</h4>         </td><td id="528fb932">            <p id="7b8c30be">Finder将仅针对作为该概念及其子概念实例的那些节点进行适用性测试。</p>         </td></tr><tr id="95a7d947" class="ijRowEven"><td id="615faf70">            <h4 id="description">描述</h4>         </td><td id="bb7af88c">            <p id="465eba5d">此字符串表示查找器列表中的查找器。应该比较短。</p>         </td></tr><tr id="8556c557" class="ijRowOdd"><td id="9e208c44">            <h4 id="longdescription">详细描述</h4>         </td><td id="ec28d81e">            <p id="8d7dbd40">如果从描述字符串中不清楚查找器的功能，则可以添加一个较长的描述，该描述将作为查找器的工具提示显示在查找器列表中。</p>         </td></tr><tr id="c490194f" class="ijRowEven"><td id="d046e44e">            <h4 id="isvisible">可见</h4>         </td><td id="78b4d9c8">            <p id="ce83d316">确定查找器对于当前节点是否可见。例如，当某个类没有父类时，查找器将无法显示该类的祖先类。</p>         </td></tr><tr id="cbd63196" class="ijRowOdd"><td id="2251a018">            <h4 id="isapplicable">适用</h4>         </td><td id="bbdd10f7">            <p id="266c0277">已经通过<b id="563a832c">概念</b>验证的查找器将测试其对当前节点的适用性。如果此方法返回true，则将在可用查找器列表中显示该查找器；否则，将显示该查找器。否则未显示。确保此方法的<b id="be0d2ff6">node</b>参数是“针对概念”或其子概念中指定的概念的实例。<br>请注意，两者之间的区别<b id="33a8afc3">是可见的</b> ， <b id="80e9577c">并且适用</b> 。第一个仅负责查看。第二个代表发现者与其呼叫者之间的“有效呼叫”合同。这很重要，因为我们在findUsagesLanguage中有一条<b id="d5589dab">execute</b>语句，稍后将对其进行描述。有关详细信息，请参见下面的<i id="5a5f12b3">执行</i>部分。</p>         </td></tr><tr id="446f9ef7" class="ijRowEven"><td id="be3751f0">            <h4 id="find">找</h4>         </td><td id="5b78dad4">            <p id="8c51cc31">此方法应在给定范围内找到给定的节点用法。对于找到的每种用法，请使用<b id="ee90a7cc">添加结果</b>语句进行注册。</p>         </td></tr><tr id="aee5ace5" class="ijRowOdd"><td id="f6b498e9">            <h4 id="searchednodes">搜索的节点</h4>         </td><td id="cb424a07">            <p id="67734893">此方法返回查找器为其搜索的节点。这些节点显示在工具的<b id="ea12d043">搜索节点</b>子树中。<br>对于要显示的每个节点，请使用<b id="0db31957">add node</b>语句进行注册。</p>         </td></tr><tr id="6da074da" class="ijRowEven"><td id="efa6aead">            <h4 id="getcategory">取得类别</h4>         </td><td id="a9549507">            <p id="09e00175">有很多变种可以对工具中找到的节点进行分组。其中之一是按类别分组，即由找到它的发现者为每个找到的节点给出。此方法为该查找器找到的每个节点提供一个类别。</p>         </td></tr></tbody></table></div>   <h4 id="whatdoesthempsfindusagessubsystemdoautomatically? ">MPS查找使用情况子系统会自动执行什么操作？</h4>   <ul class="list _ul"><li class="list__item" id="03cc518f"><p>在多个调用之间以及在MPS运行之间存储搜索选项</p></li><li class="list__item" id="449ddc78"><p>在MPS运行之间存储搜索结果</p></li><li class="list__item" id="a37f110e"><p>自动处理已删除的节点</p></li><li class="list__item" id="a55b1fcd"><p>具有找到的节点的所有可视化和操作都是由子系统完成的，而不是由查找程序完成的</p></li></ul>   <h3 id="specificstatements">具体声明</h3>   <h4 id="execute">执行</h4>   <p id="bfa1282f">借助<b id="86f08928">execute</b>语句，可以重复使用查找器。该语句的执行包括两个步骤：验证搜索查询（检查<b id="3832a8b2">concept</b>和<b id="f18250ff">isApplicable</b> ），以及执行<b id="773ba871">find</b>方法。在那可以看到<b id="4f79f76e">isApplicable</b>和<b id="d02a5256">isShown</b>之间的区别。如果在发现程序应适用但未显示的情况下使用<b id="b13f7970">isApplicable</b> ，则在<b id="238d01aa">execute</b>语句中使用此发现程序时会出错。</p>   <h4 id="executeasynchronously">异步执行</h4>   <p id="86936bdc">此外，为了异步执行查找程序，需要使用一种特殊的<i id="6b63b5a7">OnEachNodeFoundByExpression</i> ，该<i id="6b63b5a7">OnEachNodeFoundByExpression</i>表示一个简单的查找程序调用，并为每个找到的节点执行一个回调。</p>   <p id="30b15359">      </p><figure><img alt="Image2018 25" title="Image2018 25" src="/help/img/idea/2019.2/Image2018_25.png" id="b6e0c9b2" width="981" height="554"></figure>   <p></p>   <p id="8bf9b0ba">例子</p>   <p id="42d57185">您可以在jetbrains.mps.baseLanguage.findUsages中看到一些查找器示例</p>   <p id="ea335531">您还可以通过转到FinderDeclaration概念（Ctrl + N，键入“ FinderDeclaration”，然后按Enter）并找到该概念的所有实例（Alt + F7，检查实例，然后检查全局范围）来查找所有查找器。</p><div class="last-modified" data-skip-index="skip">上次修改时间：2019年8月30日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="extension-support.html">扩展支持</a> <a class="navigation-links__next" href="run-configurations.html">运行配置</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>