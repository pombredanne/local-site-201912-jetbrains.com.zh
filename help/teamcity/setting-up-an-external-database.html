<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/resources.jetbrains.com/storage/help-app/v2/analytics.js"></script><title>设置外部数据库-帮助|帮助团队城市</title><link rel="stylesheet" href="/resources.jetbrains.com/storage/help-app/v2/app.css"></head><body  data-id="Setting up an External Database" data-breadcrumbs="teamcity-documentation.md|TeamCity Documentation/installation-and-upgrade.md|Installation and Upgrade/setting-up-an-external-database.md|Setting up an External Database/setting-up-teamcity-with-ms-sql-server.md|Setting up TeamCity with MS SQL Server/configuring-utf8-character-set-for-mysql.md|Configuring UTF8 Character Set for MySQL/using-aws-aurora-database-cluster.md|Using AWS Aurora Database Cluster" data-main-title="Setting up an External Database" data-edit-url="https://github.com/JetBrains/teamcity-documentation/edit/2019.1/topics/setting-up-an-external-database.md"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索TeamCity帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>TeamCity 2019.1帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 id="setting-up-an-external-database.md" data-toc="Setting up an External Database">设置外部数据库</h1><p id="5c405293">TeamCity将构建历史记录，用户，构建结果以及一些运行时数据存储在SQL数据库中。另请参见“ <a href="manual-backup-and-restore.html">手动备份和还原”</a>页面上存储位置的<a href="manual-backup-and-restore.html">说明</a> 。</p><p id="681448be">如果使用<a href="#Default-Internal-Database">不建议用于生产</a>的内部数据库评估了TeamCity，请参阅<a href="migrating-to-an-external-database.html">迁移到外部数据库</a> 。</p><p id="6aadea35">当前正在使用的数据库显示在<b id="53580a51">管理| “</b> <i id="fa1550c0">数据库”</i>字段中的“ <b id="53580a51">全局设置”</b>页面，并且在服务器启动时在teamcity-server.log中也有提及。 <code class="code">HSQL*</code>表示正在使用内部数据库。</p><p id="65f79ec7">在此页：</p><p id="a8be1c3c"></p><ul class="list" data-skip-index="skip"><li class="list__item"><a href="#SettingupanExternalDatabase-DefaultInternalDatabase">默认内部数据库</a></li><li class="list__item"><a href="#SettingupanExternalDatabase-SelectingExternalDatabaseEngine">选择外部数据库引擎</a><ul class="list _bullet"><li class="list__item"><a href="#SettingupanExternalDatabase-SupportedDatabases">支持的数据库</a></li></ul></li><li class="list__item"><a href="#SettingupanExternalDatabase-GeneralSteps">一般步骤</a></li><li class="list__item"><a href="#SettingupanExternalDatabase-Database-specificSteps">特定于数据库的步骤</a><ul class="list _bullet"><li class="list__item"><a href="#SettingupanExternalDatabase-MySQL">的MySQL</a><ul class="list _bullet"><li class="list__item"><a href="#SettingupanExternalDatabase-OnMySQLserverside">在MySQL服务器端</a></li><li class="list__item"><a href="#SettingupanExternalDatabase-OnTeamCityserverside(withMySQL)">在TeamCity服务器端（使用MySQL）</a></li></ul></li><li class="list__item"><a href="#SettingupanExternalDatabase-PostgreSQL">PostgreSQL的</a><ul class="list _bullet"><li class="list__item"><a href="#SettingupanExternalDatabase-OnPostgreSQLserverside">在PostgreSQL服务器端</a></li><li class="list__item"><a href="#SettingupanExternalDatabase-OnTeamCityserverside(withPostgreSQL)">在TeamCity服务器端（使用PostgreSQL）</a></li></ul></li><li class="list__item"><a href="#SettingupanExternalDatabase-Oracle">甲骨文</a><ul class="list _bullet"><li class="list__item"><a href="#SettingupanExternalDatabase-OnOracleserverside">在Oracle服务器端</a></li><li class="list__item"><a href="#SettingupanExternalDatabase-OnTeamCityserverside(withOracle)">在TeamCity服务器端（使用Oracle）</a></li></ul></li><li class="list__item"><a href="#SettingupanExternalDatabase-MicrosoftSQLServer">Microsoft SQL服务器</a><ul class="list _bullet"><li class="list__item"><a href="#SettingupanExternalDatabase-OnMSSQLserverside">在MS SQL服务器端</a></li><li class="list__item"><a href="#SettingupanExternalDatabase-OnTeamCityserverside(withMSSQL)">在TeamCity服务器端（带有MS SQL）</a></li><li class="list__item"><a href="#SettingupanExternalDatabase-jTDSdriver">jTDS驱动程序</a></li></ul></li></ul></li><li class="list__item"><a href="#SettingupanExternalDatabase-DatabaseConfigurationProperties">数据库配置属性</a></li></ul><p></p><a name="DefaultInternalDatabase"></a><a name="Default-Internal-Database"></a><div class="chapter"><h2 id="SettingupanExternalDatabase-DefaultInternalDatabase">默认内部数据库</h2><p id="ef360d7b">在第一次TeamCity运行时，默认情况下建议使用基于HSQLDB数据库引擎的内部数据库。内部数据库仅适合评估目的；它开箱即用，不需要其他设置。</p><p id="b0cb2719">但是，我们强烈建议在生产环境中将外部数据库用作后端TeamCity数据库。外部数据库通常更可靠并提供更好的性能：内部数据库可能崩溃并丢失所有数据（例如，在“磁盘空间不足”的情况下）。而且，内部数据库在大型数据集（例如，数据库存储文件超过200Mb）上可能会变得非常慢。另请注意，如果您使用内部数据库，我们的支持不涵盖任何性能或数据库数据丢失问题。</p><p id="f6bb71e4">简而言之， <b id="fa250356">不要将内部HSQLDB数据库用于生产TeamCity实例</b> 。当您开始依赖TeamCity服务器中存储的数据时，请<a href="migrating-to-an-external-database.html">迁移到外部数据库</a> 。</p></div><a name="SelectingExternalDatabaseEngine"></a><a name="Selecting-External-Database-Engine"></a><div class="chapter"><h2 id="SettingupanExternalDatabase-SelectingExternalDatabaseEngine">选择外部数据库引擎</h2><p id="a81dc1de">通常，您应该使用更适合您的环境并且可以在组织中更好地维护/配置的数据库。尽管我们努力确保TeamCity在所有受支持的数据库下均能正常运行，但是在TeamCity产生的高负载下，其中的一些问题可能会浮出水面。</p><p id="1be5d7ad">您可能还需要估计<a href="how-to.html#Estimate-External-Database-Capacity">所需的数据库容量</a> 。</p><a name="SupportedDatabases"></a><a name="Supported-Databases"></a><div class="chapter"><h3 id="SettingupanExternalDatabase-SupportedDatabases">支持的数据库</h3><p id="e0a023f9">TeamCity支持以下数据库：</p><ul class="list _ul"><li class="list__item" id="b96e204a"><p>的MySQL</p></li><li class="list__item" id="9b560662"><p>PostgreSQL的</p></li><li class="list__item" id="080f55f0"><p>甲骨文</p></li><li class="list__item" id="b67f823b"><p>MS SQL</p></li></ul></div></div><a name="GeneralSteps"></a><a name="General-Steps"></a><div class="chapter"><h2 id="SettingupanExternalDatabase-GeneralSteps">一般步骤</h2><ol class="list _decimal"><li class="list__item" id="dc8b0a25"><p>配置要由TeamCity使用的外部数据库（请参阅下面<a href="#Database-specific-Steps">的特定</a>于<a href="#Database-specific-Steps">数据库的部分</a> ）。</p></li><li class="list__item" id="75b649df"><p>通过<a href="installing-and-configuring-the-teamcity-server.html#Starting-TeamCity-server">第一个TeamCity服务器启动时</a>的表单或通过手动配置<a href="#Database-Configuration-Properties">数据库连接设置</a>来配置与<a href="#Database-Configuration-Properties">数据库的连接</a> 。<br><b id="6ead4d85">请注意</b> ，TeamCity假定拥有数据库模式的所有权。数据库结构是在首次启动时创建的，并在升级到新的TeamCity版本期间进行了积极的修改。TeamCity正常工作时，架构不会更改。<br>除对所有表的常规<b id="7369ffcd">读/写权限</b>外，TeamCity使用的用户帐户还应具有在其架构中<b id="b5c31021">创建新表，修改和删除现有表的</b> <b id="7369ffcd">权限</b> 。</p></li><li class="list__item" id="5b7dc923"><p>您可能还需要<b id="6ddc978a">下载数据库的JDBC驱动程序</b> 。<br>根据许可条款，TeamCity不捆绑驱动程序<code class="code">.jar</code>外部数据库的文件。您将需要下载Java JDBC驱动程序并放入适当的<code class="code">.jar</code>文件（请参阅下面的特定于驱动程序的部分）从文件放入< <a href="teamcity-data-directory.html">TeamCity数据目录</a> > / lib / jdbc目录。<br>请注意<code class="code">.jar</code>文件的编译Java版本不得大于用于运行TeamCity的Java版本，否则您可能会看到<code class="code">Unsupported major.minor version</code>与数据库驱动程序类有关的错误。</p></li></ol><aside class="note " rel="9b8e0bce" id="5280bb9b" data-title=""><p id="4c66fdeb">如果将Amazon Aurora数据库集群用作TeamCity数据库服务器，请参阅<a href="using-aws-aurora-database-cluster.html">其他信息</a> 。</p></aside></div><a name="Database-specificSteps"></a><a name="Database-specific-Steps"></a><div class="chapter"><h2 id="SettingupanExternalDatabase-Database-specificSteps">特定于数据库的步骤</h2><p id="d047fa35">以下部分描述了数据库服务器和TeamCity服务器上的必需配置。</p><a name="MySQL"></a><a name="MySQL"></a><div class="chapter"><h3 id="SettingupanExternalDatabase-MySQL">的MySQL</h3><p id="e0d104c6"><a href="supported-platforms-and-environments.html#Supported-Databases">支持的版本</a></p><a name="OnMySQLserverside"></a><a name="On-MySQL-server-side"></a><div class="chapter"><h4 id="SettingupanExternalDatabase-OnMySQLserverside">在MySQL服务器端</h4><p id="82a36fd4">建议的数据库服务器设置：</p><ul class="list _ul"><li class="list__item" id="462d06bb"><p>使用InnoDB存储引擎</p></li><li class="list__item" id="caa4615d"><p>使用<a href="configuring-utf8-character-set-for-mysql.html">UTF-8字符集</a></p></li><li class="list__item" id="3c520972"><p>使用区分大小写的排序规则</p></li><li class="list__item" id="27f818d4"><p>使用以下命令确保运行TeamCity的JVM的时区与MySQL实例的时区相同。 <code class="code">my.cnf</code>文件或通过在操作系统级别配置时区</p></li><li class="list__item" id="2740f1ee"><a href="how-to.html#Configure-Newly-Installed-MySQL-Server">另请参阅有关MySQL服务器设置的建议</a></li></ul><p id="f3507a73">必须为TeamCity使用的MySQL用户帐户授予对TeamCity数据库的所有权限。这可以通过从MySQL控制台执行以下SQL命令来完成：</p><div class="code-block" data-lang="none">创建数据库<database-name>整理utf8_bin;创建<user-name>由“ <password>”</password>标识的</user-name>用户<user-name><password>；授予<database-name>。*的</database-name>所有特权<database-name><user-name>；将*。*上的过程授予<user-name>；</user-name></user-name></database-name></password></user-name></database-name></div></div><a name="OnTeamCityserverside(withMySQL)"></a><a name="On-TeamCity-server-side-(with-MySQL)"></a><div class="chapter"><h4 id="SettingupanExternalDatabase-OnTeamCityserverside(withMySQL)">在TeamCity服务器端（使用MySQL）</h4><p id="ffecb675">JDBC驱动程序安装：</p><ol class="list _decimal"><li class="list__item" id="e3597a87"><p>从<a href="http://dev.mysql.com/downloads/connector/j/" rel="noopener noreferrer" data-external="true" target="_blank">http://dev.mysql.com/downloads/connector/j/</a>下载MySQL JDBC驱动程序。确保使用与服务器兼容的版本。对于高于8的版本，应使用驱动程序版本8。如果MySQL服务器版本为5.5或更高版本，则JDBC驱动程序版本应至少为5.1.23。</p></li><li class="list__item" id="650da780"><p>地点<code class="code">mysql-connector-java-*-bin.jar</code>从下载的档案中进入< <a href="teamcity-data-directory.html">TeamCity数据目录</a> > / lib / jdbc目录（如果存在，则删除那里的现有文件）。继续执行TeamCity设置。</p></li></ol></div></div><a name="PostgreSQL"></a><a name="PostgreSQL"></a><div class="chapter"><h3 id="SettingupanExternalDatabase-PostgreSQL">PostgreSQL的</h3><p id="d292fa8c"><a href="supported-platforms-and-environments.html#Supported-Databases">支持的版本</a></p><a name="OnPostgreSQLserverside"></a><a name="On-PostgreSQL-server-side"></a><div class="chapter"><h4 id="SettingupanExternalDatabase-OnPostgreSQLserverside">在PostgreSQL服务器端</h4><ol class="list _decimal"><li class="list__item" id="159faa67">在PostgreSQL中为TeamCity创建一个空数据库。<ul class="list _ul"><li class="list__item" id="77878e86"><p>确保将数据库设置为使用UTF8。</p></li><li class="list__item" id="260cb3d6"><p>向TeamCity使用该数据库的用户帐户授予修改此数据库的权限。</p></li></ul></li><li class="list__item" id="edf11e7e"><a href="how-to.html#Configure-Newly-Installed-PostgreSQL-Server">另请参阅有关PostgreSQL服务器设置的建议</a></li></ol><p id="f0434ff3">TeamCity没有指定将用于其表的模式。默认情况下，PostgreSQL在“ public” <a href="https://www.postgresql.org/docs/9.1/static/ddl-schemas.html" rel="noopener noreferrer" data-external="true" target="_blank">模式中</a>创建表（“ public”是模式的名称）。TeamCity也可以与其他PostgreSQL模式一起使用。要切换到其他架构，请执行以下操作：</p><p id="69f2ffa5">创建一个与用户名完全相同的架构。可以使用<code class="code">pgAdmin</code>工具或使用以下SQL：</p><div class="code-block" data-lang="none">创建纲要teamcity授权teamcity；</div><p id="7b33f18c">模式必须为空（不能包含任何表）。</p></div><a name="OnTeamCityserverside(withPostgreSQL)"></a><a name="On-TeamCity-server-side-(with-PostgreSQL)"></a><div class="chapter"><h4 id="SettingupanExternalDatabase-OnTeamCityserverside(withPostgreSQL)">在TeamCity服务器端（使用PostgreSQL）</h4><p id="5381057a">下载所需的<a href="http://jdbc.postgresql.org/download.html#current" rel="noopener noreferrer" data-external="true" target="_blank">PostgreSQL JDBC42驱动程序</a> ，并将其放置在< <a href="teamcity-data-directory.html">TeamCity数据目录</a> > / lib / jdbc目录中（如果有的话，删除那里的现有文件）。继续执行TeamCity设置。</p><p id="6e8a7226">对于2018.1.2之前的TeamCity，请设置<code class="code">connectionProperties.autosave=conservative</code> <a href="#Database-Configuration-Properties">数据库属性文件中的，</a>以解决PostgreSQL JDBC驱动程序的<a href="https://github.com/pgjdbc/pgjdbc/pull/451" rel="noopener noreferrer" data-external="true" target="_blank">此问题</a> 。</p></div></div><a name="Oracle"></a><a name="Oracle"></a><div class="chapter"><h3 id="SettingupanExternalDatabase-Oracle">甲骨文</h3><p id="116b7d28"><a href="supported-platforms-and-environments.html#Supported-Databases">支持的版本</a></p><a name="OnOracleserverside"></a><a name="On-Oracle-server-side"></a><div class="chapter"><h4 id="SettingupanExternalDatabase-OnOracleserverside">在Oracle服务器端</h4><p id="2bafee39">为TeamCity创建一个Oracle用户帐户/架构。</p><aside class="tip sideblock" rel="2bafee39" id="41f80513" data-title=""><p id="966c84da">TeamCity使用主要字符集（char，varchar，clob）存储内部文本数据，使用国家字符集（nchar2，nvarchar，nclob）存储用户输入和来自外部系统（如VCS，NTLM等）的数据。</p></aside><ul class="list _ul"><li class="list__item" id="df297710"><p>确保数据库实例的国家字符集为UTF或Unicode。</p></li><li class="list__item" id="60691501"><p>授予<code class="code">CREATE SESSION</code> ， <code class="code">CREATE TABLE</code>对TeamCity将使用其帐户使用该数据库的用户的权限。</p></li></ul><p id="10d452d6">在第一次连接时，TeamCity将在用户的架构中创建所有必要的表和索引。（注意：TeamCity永远不会尝试访问其他架构，即使它们可以访问）</p><aside class="note " rel="10d452d6" id="1ef335a4" data-title=""><p id="e75ac282">确保TeamCity用户具有访问表空间的配额。</p></aside></div><a name="OnTeamCityserverside(withOracle)"></a><a name="On-TeamCity-server-side-(with-Oracle)"></a><div class="chapter"><h4 id="SettingupanExternalDatabase-OnTeamCityserverside(withOracle)">在TeamCity服务器端（使用Oracle）</h4><p id="430b36e6">1。获取Oracle JDBC驱动程序。支持的驱动程序版本为11.1和更高版本。放置以下文件：</p><ul class="list _ul"><li class="list__item" id="c528722e"><p><code class="code">ojdbc8.jar</code> （要么<code class="code">ojdbc6.jar</code> ， <code class="code">ojdbc7.jar</code>取决于您的数据库版本）</p></li><li class="list__item" id="aa213132"><p><code class="code">orai18n.jar</code> （如果在驱动程序版本中缺少，则可以省略）到< <a href="teamcity-data-directory.html">TeamCity Data Directory</a> > / lib / jdbc目录中（如果有的话，删除那里的现有文件）。</p></li></ul><aside class="note " rel="39b3e0dd" id="37a8f3b8" data-title=""><p id="1354b879">Oracle JDBC驱动程序必须与Oracle服务器兼容。</p></aside><p id="588a0141">强烈建议您在Oracle服务器安装中找到驱动程序。如果需要，请与您的DBA联系以获得文件。或者，从<a href="http://www.oracle.com/technetwork/database/features/jdbc/index-091264.html" rel="noopener noreferrer" data-external="true" target="_blank">Oracle网站</a>下载Oracle JDBC驱动程序。确保驱动程序版本与您的Oracle服务器兼容。</p><p id="5b4aec04">2。继续执行TeamCity设置。</p></div></div><a name="MicrosoftSQLServer"></a><a name="Microsoft-SQL-Server"></a><div class="chapter"><h3 id="SettingupanExternalDatabase-MicrosoftSQLServer">Microsoft SQL服务器</h3><p id="0f1f7a73"><a href="supported-platforms-and-environments.html#Supported-Databases">支持的版本</a></p><p id="51223a35">有关分步说明，请参见<a href="setting-up-teamcity-with-ms-sql-server.html">专用页面</a> 。当前部分提供设置所需的关键详细信息。</p><a name="OnMSSQLserverside"></a><a name="On-MS-SQL-server-side"></a><div class="chapter"><h4 id="SettingupanExternalDatabase-OnMSSQLserverside">在MS SQL服务器端</h4><aside class="note " rel="SettingupanExternalDatabase-OnMSSQLserverside" id="c8c1b2f5" data-title=""><p id="50d9555d">TeamCity使用主要字符集（char，varchar，text）存储内部文本数据，使用国家字符集（nchar，nvarchar，ntext）存储用户输入和来自外部系统（如VCS，NTLM等）的数据。</p></aside><ol class="list _decimal"><li class="list__item" id="35dd13d8"><p>创建一个新的数据库。作为主要归类，请使用区分大小写的归类（归类名称以<code class="code">_CS_AS</code> ）对应于您的语言环境。</p></li><li class="list__item" id="bbace4ed"><p>创建一个TeamCity用户，并确保该用户是数据库的所有者（授予用户dbo权限），这将使该用户能够修改数据库架构。对于SSL连接，请确保MS SQL Server版本和Java的TeamCity版本兼容。我们建议使用SQL Server的最新更新。</p></li><li class="list__item" id="bc9f8174"><p>分配足够的事务日志空间，具体取决于将使用服务器的强度。推荐的设置不少于1Gb。</p></li><li class="list__item" id="7938c6c4"><p>确保SQL Server浏览器正在运行。</p></li><li class="list__item" id="a2876d83"><p>确保为SQL Server实例启用了TCP / IP协议。</p></li></ol></div><a name="OnTeamCityserverside(withMSSQL)"></a><a name="On-TeamCity-server-side-(with-MS-SQL)"></a><div class="chapter"><h4 id="SettingupanExternalDatabase-OnTeamCityserverside(withMSSQL)">在TeamCity服务器端（带有MS SQL）</h4><ol class="list _decimal"><li class="list__item" id="a853ddfb"><p>下载<a href="https://www.microsoft.com/en-us/download/details.aspx?id=56615" rel="noopener noreferrer" data-external="true" target="_blank">Microsoft JDBC驱动程序v6.4 +</a> （ <code class="code">sqljdbc_6.*.x</code>包）从Microsoft <a href="https://docs.microsoft.com/en-us/sql/connect/jdbc/download-microsoft-jdbc-driver-for-sql-server" rel="noopener noreferrer" data-external="true" target="_blank">下载中心</a> 。</p></li><li class="list__item" id="72dc5edf"><p>将下载的软件包解压缩到一个临时目录中。</p></li><li class="list__item" id="892b4505"><p>复制<code class="code">mssql-jdbc-*.jre8.jar</code>从刚刚下载的软件包进入< <a href="teamcity-data-directory.html">TeamCity数据目录</a> > / lib / jdbc目录（如果存在，则删除那里的现有文件）。MS SQL集成安全性（Windows身份验证）需要安装<code class="code">sqljdbc_auth.dll</code>从驱动程序包中按照<a href="setting-up-teamcity-with-ms-sql-server.html#integratedSecurityAuth">说明进行操作</a> 。</p></li><li class="list__item" id="1dfb96a2"><p>继续执行TeamCity设置。</p></li></ol></div><a name="jTDSdriver"></a><a name="jTDS-driver"></a><div class="chapter"><h4 id="SettingupanExternalDatabase-jTDSdriver">jTDS驱动程序</h4><p id="72d27fb5">不建议使用jTDS JDBC驱动程序。使用驱动程序时，至少存在使用Unicode字符的已知问题。</p><p id="01b82f59">如果您使用驱动程序（ <code class="code">jtds</code>文字出现在<code class="code">connectionUrl</code>的<code class="code">database.properties</code> ），强烈建议切换本机驱动程序。</p><p id="0e4944b0">切换的适当步骤是：</p><ul class="list _ul"><li class="list__item" id="1d098b83"><p>创建包括数据库的服务器<a href="teamcity-data-backup.html">备份</a></p></li><li class="list__item" id="604aaca7"><p>停止服务器并将服务器配置为使用本机Microsoft JDBC驱动程序，如上节所述</p></li><li class="list__item" id="833a8c8f"><p>将数据库从备份还原到新的MS SQL数据库中</p></li><li class="list__item" id="34f0a1c1"><p>运行服务器</p></li></ul></div></div></div><a name="DatabaseConfigurationProperties"></a><a name="Database-Configuration-Properties"></a><div class="chapter"><h2 id="SettingupanExternalDatabase-DatabaseConfigurationProperties">数据库配置属性</h2><p id="51328420">数据库连接设置存储在< <a href="teamcity-data-directory.html">TeamCity数据目录</a> > /config/database.properties文件中。该文件是Java <a href="http://en.wikipedia.org/wiki/.properties" rel="noopener noreferrer" data-external="true" target="_blank">属性文件</a> 。您可以修改它以指定数据库连接所需的属性。</p><p id="632df952">对于所有受支持的数据库，位于< <a href="teamcity-data-directory.html">TeamCity数据目录</a> > / config目录中的<a href="teamcity-data-directory.html#.dist-Template-Configuration-Files">模板文件</a>具有特定于数据库的属性。这些文件具有以下命名格式： <code class="code">database.<database_type>.properties.dist</code>可用作所需设置的参考。</p><p id="6b707ebd">TeamCity使用Apache DBCP进行数据库连接池。有关配置属性的详细描述，请参考<a href="http://commons.apache.org/dbcp/configuration.html" rel="noopener noreferrer" data-external="true" target="_blank">Apache Commons文档</a> 。</p><hr id="97be87e5"><p id="72fb15a5"><b id="3c22f226">也可以看看：</b></p><p id="41bf3cdf"><b id="5ecec20b">安装和升级</b> ： <a href="common-problems.html">与数据库有关的常见问题</a> <a href="migrating-to-an-external-database.html">迁移到外部数据库</a><br><b id="a13b2af8">概念</b> ： <a href="teamcity-data-directory.html">TeamCity数据目录</a><br><b id="f4c9f7c5">管理员指南</b> ： <a href="teamcity-data-backup.html">TeamCity数据备份</a></p><hr id="bca2757a"><p id="a89df521"><br></p><p id="9850afac"><br></p><p id="03925e90"><br></p><p id="bef807c9"><br></p><p id="f68a01e8"><br></p><p id="10ed3028"><br></p><p id="3c3cf7aa"><br></p><p id="f280940d"><br></p><p id="1898f019"><br></p><p id="eecaac11"><br></p></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/resources.jetbrains.com/storage/help-app/v2/app.js"></script></body></html>