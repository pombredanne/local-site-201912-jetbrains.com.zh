<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v2/analytics.js"></script><title>Accessing Server by HTTP - Help | TeamCity</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v2/app.css"></head><body data-id="Accessing Server by HTTP" data-breadcrumbs="teamcity-documentation.md|TeamCity Documentation/extending-teamcity.md|Extending TeamCity/accessing-server-by-http.md|Accessing Server by HTTP" data-main-title="Accessing Server by HTTP" data-edit-url="https://github.com/JetBrains/teamcity-documentation/edit/2019.1/topics/accessing-server-by-http.md"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search TeamCity Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>TeamCity 2019.1 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Accessing Server by HTTP" id="accessing-server-by-http.md">Accessing Server by HTTP</h1><aside class="warning " data-title="" rel="accessing-server-by-http.md" id="01213a31"><p id="0fc01d59">Use the TeamCity <a href="rest-api.html">REST API</a> for accessing the server from scripts. This section is <b id="be687e53">obsolete</b> and preserved for <b id="62464cc1">backward-compatibility</b> with previous TeamCity versions and for some specific functionality.</p></aside><p id="bf77c8a5">The examples below assume that your server web UI is accessible via <a href="http://teamcity.jetbrains.com:8111/" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity.jetbrains.com:8111/</a> URL.</p><p id="c61a463f">The TeamCity server supports basic HTTP authentication allowing users to access certain web server pages and perform actions from various scripts. Consult the manual for the client tool/library on how to supply basic HTTP credentials when issuing a request.</p><p id="4086d9e5">Use the valid TeamCity server username and password to use basic HTTP authentication. Appropriate user permissions are required to perform the actions.</p><aside class="tip sideblock" data-title="" rel="4086d9e5" id="5e62d148"><p id="d4e2d30c">You may want to <a href="using-https-to-access-teamcity-server.html">configure</a> the server to use HTTPS as username and password are passed in insecure form during basic HTTP authentication.</p></aside><p id="500f53b8">To force using a basic HTTP authentication instead of redirecting to the login page if no credentials are supplied, prepend a path in the usual TeamCity URL with "<code class="code">/httpAuth</code>". For example:</p><div class="code-block" data-lang="bash">http://teamcity.jetbrains.com:8111/httpAuth/action.html?add2Queue=MyBuildConf

</div><p id="245efdee">The HTTP authentication can be useful when <a href="patterns-for-accessing-build-artifacts.html#Obtaining-Artifacts-from-a-Build-Script">downloading build artifacts</a> and triggering a build.</p><p id="911836cc">If you have <i id="53e8becb">Guest</i> user enabled, it can be used to perform the action too. Use "<code class="code">/guestAuth</code>" before the URL path to perform the action on Guest user behalf. For example:</p><div class="code-block" data-lang="bash">http://teamcity.jetbrains.com:8111/guestAuth/action.html?add2Queue=MyBuildConf

</div><aside class="tip sideblock" data-title="" rel="0b42de2e" id="07d0070b"><p id="6ac40bd1">Make sure the user used to perform the authentication (or <i id="89791cb2">Guest</i> user) has appropriate role to perform the necessary operation.</p></aside><a name="TriggeringaBuildFromScript"></a><a name="Triggering-a-Build-From-Script"></a><h3 id="AccessingServerbyHTTP-TriggeringaBuildFromScript">Triggering a Build From Script</h3><aside class="warning " data-title="" rel="AccessingServerbyHTTP-TriggeringaBuildFromScript" id="0040d0d3"><p id="d1111e53">Use the TeamCity <a href="rest-api.html#Triggering-a-Build">REST API</a> to trigger a build. The section below is <b id="8657adf0">obsolete</b> and preserved for compatibility purposes only.</p></aside><p id="c1b1166e">To trigger a build, send the <code class="code">HTTP POST</code> request for the URL performing basic HTTP authentication:</p><div class="code-block" data-lang="bash">
http://&lt;server address&gt;/httpAuth/action.html?add2Queue=&lt;build configuration ID&gt;

</div><p id="cf49d017">Some tools (for example, <a href="http://www.gnu.org/software/wget/" data-external="true" target="_blank" rel="noopener noreferrer">Wget</a>) support the following syntax for the basic HTTP authentication:</p><div class="code-block" data-lang="bash">http://&lt;user name&gt;:&lt;user password&gt;@&lt;server address&gt;/httpAuth/action.html?add2Queue=&lt;build configuration Id&gt;

</div><p id="3ba09f08">Example:</p><div class="code-block" data-lang="bash">http://testuser:testpassword@teamcity.jetbrains.com:8111/httpAuth/action.html?add2Queue=MyBuildConf

</div><p id="6357a93c">You can trigger a build on a specific agent passing additional <code class="code">agentId</code> parameter with the agent's Id. You can get the agent Id from the URL of the Agent's details page: <b id="bb352060">Agents | &lt;agent name&gt;</b>. For example, you can infer that agent's Id equals "2", if its details page has the following URL:</p><div class="code-block" data-lang="bash">http://teamcity.jetbrains.com:8111/agentDetails.html?id=2

</div><p id="679aaee3">To trigger a build on two agents at the same time, use the following URL:</p><div class="code-block" data-lang="bash">http://testuser:testpassword@teamcity.jetbrains.com:8111/httpAuth/action.html?add2Queue=MyBuildConf&amp;agentId=1&amp;agentId=2

</div><p id="a9fc8149">To trigger a build on all enabled and compatible agents, use <code class="code">allEnabledCompatible</code> as agent ID:</p><div class="code-block" data-lang="bash">http://testuser:testpassword@teamcity.jetbrains.com:8111/httpAuth/action.html?add2Queue=MyBuildConf&amp;agentId=allEnabledCompatible

</div><a name="TriggeringaCustomBuild"></a><a name="Triggering-a-Custom-Build"></a><h4 id="AccessingServerbyHTTP-TriggeringaCustomBuild">Triggering a Custom Build</h4><p id="d627b0ed">TeamCity allows you to trigger a build with customized parameters. You can select particular build agent to run the build, define additional properties and environment variables, and select the particular sources revision (by specifying the last change to include in the build) to run the build with. These customizations will affect only the single triggered build and will not affect other builds of the build configuration.</p><p id="fb8c2f94">To trigger a build on a specific change inclusively, use the following URL:</p><div class="code-block" data-lang="bash">http://testuser:testpassword@teamcity.jetbrains.com:8111/httpAuth/action.html?add2Queue=MyBuildConf&amp;modificationId=11112

</div><p id="e42c92db"><code class="code">modificationId</code> â€” modification/change internal id which can be obtained from the web diff URL.</p><p id="6e6f324d">To trigger a build with custom parameters (system properties and environment variables), use:</p><div class="code-block" data-lang="bash">http://testuser:testpassword@teamcity.jetbrains.com:8111/httpAuth/action.html?add2Queue=MyBuildConf&amp;name=&lt;full property name1&gt;&amp;value=&lt;value1&gt;&amp;name=&lt;full property name2&gt;&amp;value=&lt;value2&gt;

</div><p id="bf3d296a">Where <code class="code">&lt;full property name&gt;</code> is a full property name with system./env. prefix or no prefix to define configuration parameter. Note that previous TeamCity versions used different syntax for this action. That syntax is still supported for compatibility reason, though.</p><p id="1bc60965">To move build to the top of the queue, add the following to the query string: <code class="code">&amp;moveToTop=true</code></p><p id="c94dc4c0">To run a personal build, add <code class="code">&amp;personal=true</code> to the query string.</p><p id="a729d98a">To run a build on a feature branch:</p><div class="code-block" data-lang="bash">http://testuser:testpassword@teamcity.jetbrains.com/httpAuth/action.html?add2Queue=bt10&amp;branchName=master

</div><hr id="0c46bb62"></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v2/app.js"></script></body></html>