<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v2/analytics.js"></script><title>Configuring General Settings - Help | TeamCity</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v2/app.css"></head><body data-id="Configuring General Settings" data-breadcrumbs="teamcity-documentation.md|TeamCity Documentation/administrator-s-guide.md|Administrator's Guide/managing-projects-and-build-configurations.md|Managing Projects and Build Configurations/creating-and-editing-build-configurations.md|Creating and Editing Build Configurations/configuring-general-settings.md|Configuring General Settings" data-main-title="Configuring General Settings" data-edit-url="https://github.com/JetBrains/teamcity-documentation/edit/2019.1/topics/configuring-general-settings.md"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search TeamCity Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>TeamCity 2019.1 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Configuring General Settings" id="configuring-general-settings.md">Configuring General Settings</h1><p id="795154b2">When creating a build configuration, specify the following settings:</p><div class="table-wrapper"><table width="100%" id="2076f76b"><thead><tr id="09d64c95" class="ijRowHead"><th id="d3582f7c"><a name="Setting"></a><a name="Setting"></a><h4 id="ConfiguringGeneralSettings-Setting">Setting</h4></th><th id="b1768470"><a name="Description"></a><a name="Description"></a><h4 id="ConfiguringGeneralSettings-Description">Description</h4></th></tr></thead><tbody><tr id="f5979e65" class="ijRowOdd"><td id="7696c4ab"><a name="Name"></a><a name="Name"></a><h4 id="ConfiguringGeneralSettings-Name">Name</h4></td><td id="b175f426"><p id="060c0186">The configuration name</p></td></tr><tr id="fac953ef" class="ijRowEven"><td id="12509a8a"><a name="BuildConfigurationID"></a><a name="Build-Configuration-ID"></a><h4 id="ConfiguringGeneralSettings-BuildConfigurationID">Build Configuration ID</h4></td><td id="4934abc4"><p id="a71eefdb">A unique <a href="identifier.html">ID</a> of the configuration across all build configurations and templates in the system automatically generated from the build configuration name, but can also be set manually.<br>Make sure you give a globally unique id to the build configuration and prefix it with the project id.<br>After a build configuration is created, its ID can be changed and it is highly recommended to make corresponding changes to the bookmarked links to the web UI and calls to <a href="rest-api.html">REST API</a> using the ID.</p></td></tr><tr id="17a28ee8" class="ijRowOdd"><td id="5167bb59"><a name="Description"></a><a name="Description"></a><h4 id="ConfiguringGeneralSettings-Description2">Description</h4></td><td id="c55e5ec5"><p id="697b5262">Optional description for the build configuration.</p></td></tr><tr id="efe87c3f" class="ijRowEven"><td id="a0d18c53"><a name="BuildNumberFormat"></a><a name="Build-Number-Format"></a><h4 id="ConfiguringGeneralSettings-BuildNumberFormat">Build Number Format</h4></td><td id="e0c01cc7"><p id="915970e7">A pattern which is resolved and assigned to the <a href="#Build-Number-Format">Build Number</a> on the build start.</p></td></tr><tr id="12b6b25f" class="ijRowOdd"><td id="8e93ee4f"><a name="BuildCounter"></a><a name="Build-Counter"></a><h4 id="ConfiguringGeneralSettings-BuildCounter">Build Counter</h4></td><td id="735972ea"><p id="1ee3b16e">Specify the counter to be used in build numbering. Each build increases the build counter by 1. Use the <i id="7f82ec29">Reset</i> link to restore the counter value to 1.</p></td></tr><tr id="b93c7267" class="ijRowEven"><td id="494cf781"><a name="publish-artifacts"></a><a name="ConfiguringGeneralSettings-publish-artifacts"></a><a name="PublishArtifacts"></a><a name="Publish-Artifacts"></a><h4 id="ConfiguringGeneralSettings-PublishArtifacts">Publish Artifacts</h4></td><td id="48cfd735"><p id="9c059278">Select when to publish artifacts:</p><ul class="list _ul"><li class="list__item" id="9320a68d"><p>"<i id="e6c461fd">Even if build fails</i>" (default): publish artifacts at the last step of a build if all previous steps have been completed, successfully or not.</p></li><li class="list__item" id="7e268414"><p>"<i id="af2b5f86">Only if build status is successful</i>": publish artifacts at the last step of a build if all previous steps have been completed successfully. TeamCity checks the current build status on the server before publishing artifacts.</p></li><li class="list__item" id="c6a545e8"><p>"<i id="f0aa18c8">Always, even if build stop command was issued</i>": publish artifacts for all builds, even for interrupted ones (for example, after the <code class="code">stop</code> command was issued or after the time-out, specified in the build failure conditions).</p></li></ul><p id="232118a3">This setting does not affect artifacts publishing configured in a <a href="build-script-interaction-with-teamcity.html#Publishing-Artifacts-while-the-Build-is-Still-in-Progress">build script</a>.</p><aside class="note " data-title="" rel="232118a3" id="6dd38db3"><p id="6035f9e7">If the <code class="code">stop</code> command is issued during the artifacts publishing, the publishing operation will be stopped regardless of the selected option.</p></aside></td></tr><tr id="13ec35e3" class="ijRowOdd"><td id="56baf532"><p id="1a6d750f"><a href="#Artifact-Paths">Artifact Paths</a></p></td><td id="7b014e94"><p id="50258e46">Patterns to define artifacts of a build. After the first build is run, you can browse the agent <a href="build-checkout-directory.html">checkout directory</a> to configure artifacts paths.</p></td></tr><tr id="e2d9ed6d" class="ijRowEven"><td id="84bdef94"><p id="f5293aae"><a href="#Build-Options">Build Options</a></p></td><td id="0e0db4d2"><p id="8d69ab06">Specify additional options for the builds of this build configuration.</p><ul class="list _ul"><li class="list__item" id="597940a8"><a href="#Hanging-Build-Detection">Hanging Build Detection</a></li><li class="list__item" id="fac67b63"><a href="#Allow-Triggering-Personal-Builds">Allow Triggering Personal Builds</a></li><li class="list__item" id="63443b31"><a href="#Enable-Status-Widget">Enable Status Widget</a><ul class="list _ul"><li class="list__item" id="5f9ac74c"><a href="#HTML-Status-Widget">HTML Status Widget</a></li></ul></li><li class="list__item" id="2f708433"><a href="#Limit-Number-of-Simultaneously-Running-Builds">Limit Number of Simultaneously Running Builds</a></li></ul></td></tr></tbody></table></div><a name="BuildNumberFormat"></a><a name="Build-Number-Format"></a><h3 id="ConfiguringGeneralSettings-BuildNumberFormat2">Build Number Format</h3><p id="1b23b228">In the <b id="5bd7494c">Build number format</b> field you can specify a pattern which is resolved and assigned to the <a href="build-number.html">Build Number</a> on the build start.</p><p id="54bc966a">The following substitutions are supported in the pattern:</p><div class="table-wrapper"><table width="100%" id="35ac28c5"><thead><tr id="e2fed840" class="ijRowHead"><th id="11018d4f"><p id="04497910">Pattern</p></th><th id="5d03514d"><p id="cd4e6bcf">Description</p></th></tr></thead><tbody><tr id="074b8d8f" class="ijRowOdd"><td id="4533df37"><p id="3372b380"><code class="code">%build.counter%</code></p></td><td id="f1460d1d"><p id="b8c3981b">the build counter unique for each build configuration. It is maintained by TeamCity and will resolve to a next integer value on each new build start. The current value of the counter can be edited in the <a href="#Build-Counter">Build counter</a> field.</p></td></tr><tr id="e05d7c66" class="ijRowEven"><td id="8058517e"><p id="f86bbc09"><code class="code">%build.vcs.number.&lt;VCS_root_name&gt;%</code></p></td><td id="381c3aeb"><p id="e7978627">the revision used for the build of the VCS root with <code class="code">&lt;VCS_root_name&gt;</code> name. <a href="predefined-build-parameters.html">Read more</a> on the property.</p></td></tr><tr id="d798f722" class="ijRowOdd"><td id="fc01c86b"><p id="3521474d"><code class="code">%property.name%</code></p></td><td id="b294989a"><p id="63299cad">a value of the build property with the corresponding name. All the <a href="predefined-build-parameters.html">Predefined Build Parameters</a> are supported (including <a href="predefined-build-parameters.html#Configuration-Parameters">Reference-only server properties</a>).</p></td></tr></tbody></table></div><aside class="tip sideblock" data-title="" rel="35ac28c5" id="9f02717b"><p id="05e3f6df"><b id="9e9ece83">A build number format example:</b></p><p id="038afe04"><code class="code">1.0.%build.counter%.%build.vcs.number.My_Project_svn%</code></p></aside><p id="ea9e39c3">Though not required, it is still highly recommended to ensure the build numbers are unique. Please include the build counter in the build number and do not reset the build counter to lesser values. It is also possible to change the build number from within your build script. For details, refer to <a href="build-script-interaction-with-teamcity.html#Reporting-Build-Number">Build Script Interaction with TeamCity</a>.</p><a name="ArtifactPaths"></a><a name="Artifact-Paths"></a><h3 id="ConfiguringGeneralSettings-ArtifactPaths">Artifact Paths</h3><p id="43db4c15"><a href="build-artifact.html">Build artifacts</a> are files produced by the build which are stored on TeamCity server and can be downloaded from the TeamCity web UI or used as artifact dependencies by other builds. On the <b id="cbc85a1a">General Settings</b> page of the build configuration, you can specify patterns for the files on the agent which will be uploaded to the server after the build.</p><p id="7187e4b3">If you have a finished build on an agent, you can use the checkout directory browser <img alt="chechoutdirBrowser.png" title="chechoutdirBrowser.png" src="/help/img/teamcity/2019.1/chechoutdirBrowser.png" id="e5025b1a" width="22" height="24" class="inline-icon-22"> (which lists the checkout directory content on the agent) and select artifacts from the tree. TeamCity will place the paths to them into the input field.</p><p id="2f855363">The <b id="f43bdadf">Artifact Paths</b> field supports relative (to the build checkout directory) and absolute paths. Using relative paths is recommended. You can specify exact file paths or patterns, one per line or comma-separated. Patterns support the "<code class="code">*</code>" and "<code class="code">**</code>" wildcards (see below). Each line can be of the form <code class="code">[+:]source [=&gt; target]</code> to include and <code class="code">-:source [=&gt; target]</code> to exclude files or directories to publish as build artifacts. The parts enclosed in square brackets are optional. Rules are grouped by the right part and are applied in the order of appearance:</p><div class="code-block" data-lang="bash">
+:**/* =&gt; target_directory
-:**/folder1 =&gt; target_directory

</div><p id="c1f34763">will tell TeamCity to publish all files except for folder1 into the <code class="code">target_directory</code>.</p><p id="cd8cc412">Line format description:</p><div class="code-block" data-lang="bash">
file_name|directory_name|wildcard [ =&gt; target_directory|target_archive ]

</div><p id="0bda4d43">Note that although absolute paths are supported in the source part, it is recommended to use paths relative to the <a href="build-checkout-directory.html">build checkout directory</a>.</p><ul class="list _ul"><li class="list__item" id="35197d7f"><p><code class="code">file_name</code> — to publish the file. The name should be relative to the <a href="build-checkout-directory.html">Build Checkout Directory</a>.</p></li><li class="list__item" id="0613ce52"><p><code class="code">directory_name</code> — to publish all the files and subdirectories within the directory specified. The directory name should be a path relative to the <a href="build-checkout-directory.html">Build Checkout Directory</a>. The files will be published preserving the directories structure under the directory specified (the directory itself will not be included).</p></li><li class="list__item" id="1e524737"><p><code class="code">wildcard</code> — to publish files matching <a href="wildcards.html">Ant-like wildcard</a> pattern (only "<code class="code">*</code>" and "<code class="code">**</code>" wildcards are supported). The wildcard should represent a path relative to the build checkout directory. The files will be published preserving the structure of the directories matched by the wildcard (directories matched by "static" text will not be created). That is, TeamCity will create directories starting from the first occurrence of the wildcard in the pattern.</p></li><li class="list__item" id="d538c56d"><p>You can use <a href="configuring-build-parameters.html">build parameters</a> in the artifacts specification. For example, use <code class="code">mylib-%system.build.number%.zip</code> to refer to a file with the build number in the name.</p></li></ul><p id="13f096b7">The optional part starting with the <code class="code">=&gt;</code> symbols and followed by the target directory name can be used to publish the files into the specified target directory. If the target directory is omitted, the files are published in the root of the build artifacts. You can use "<code class="code">.</code>" (dot) as a reference to the build checkout directory.<br>The target paths cannot be absolute. Non-relative paths will produce errors during the build.</p><ul class="list _ul"><li class="list__item" id="b5d758a7"><p><code class="code">target_directory</code> — (optional) the directory in the resulting build's artifacts that will contain the files determined by the left part of the pattern.</p></li><li class="list__item" id="f064c3b3"><p><code class="code">target_archive</code> —  (optional) the path to the archive to be created by TeamCity by packing build artifacts determined in the left part of the pattern. TeamCity treats the right part of the pattern as <code class="code">target\_archive</code> whenever it ends with a <a href="patterns-for-accessing-build-artifacts.html#Obtaining-Artifacts-from-an-Archive">supported archive extension</a>, i.e. <code class="code">.zip</code>, <code class="code">.7z</code>, <code class="code">.jar</code>, <code class="code">.tar.gz</code>, or <code class="code">.tgz</code>.</p></li></ul><a name="Examples:"></a><a name="Examples:"></a><h4 id="ConfiguringGeneralSettings-Examples:">Examples:</h4><ul class="list _ul"><li class="list__item" id="e068baab"><p><code class="code">install.zip</code> — publish file named install.zip in the build artifacts</p></li><li class="list__item" id="a6fd215e"><p><code class="code">dist</code> — publish the content of the dist directory</p></li><li class="list__item" id="4f4f1f16"><p><code class="code">target/*.jar</code> — publish all jar files in the target directory</p></li><li class="list__item" id="32a805a9"><p><code class="code">target/**/*.txt=&gt; docs</code> — publish all the txt files found in the target directory and its subdirectories. The files will be available in the build artifacts under the docs directory.</p></li><li class="list__item" id="293d7ff7"><p><code class="code">reports =&gt; reports, distrib/idea*.zip</code> — publish reports directory as reports and files matching <code class="code">idea*.zip</code> from the <code class="code">distrib</code> directory into the artifacts root.</p></li><li class="list__item" id="e9a25409"><p>Relative paths inside a zip archive can be used, if needed: <code class="code">results\result1\Dir1\Dir2 =&gt; archive.zip!results/result1/Dir1</code></p></li><li class="list__item" id="29e4822e">The same target_archive name can be used multiple times, for example:<ul class="list _ul"><li class="list__item" id="051a5d8d"><code class="code">+:*/*.html =&gt; report.zip</code></li><li class="list__item" id="057fdd72"><code class="code">+:*/*.css =&gt; report.zip!/css/</code></li><li class="list__item" id="99d1f817"><code class="code">-:*/*.txt =&gt; report.zip</code></li></ul></li></ul><p id="5b1ac32f"><a name="buildOptions"></a><a name="ConfiguringGeneralSettings-buildOptions"></a></p><a name="BuildOptions"></a><a name="Build-Options"></a><h3 id="ConfiguringGeneralSettings-BuildOptions">Build Options</h3><p id="189c9542">The following options are available to build configurations:</p><a name="HangingBuildDetection"></a><a name="Hanging-Build-Detection"></a><h4 id="ConfiguringGeneralSettings-HangingBuildDetection">Hanging Build Detection</h4><p id="931740ca">Select the <b id="5567acac">Enable hanging build detection</b> option to detect probably "hanging" builds. A build is considered to be "hanging" if its run time significantly exceeds estimated <b id="d121e224">average run time</b> and the build has not send any messages since the estimation was exceeded. To properly detect hanging builds, TeamCity has to estimate the average time builds run based on several builds. Thus, if you have a new build configuration, it may make sense to enable this feature after a couple of builds have run, so that TeamCity would have enough information to estimate the average run time.</p><a name="AllowTriggeringPersonalBuilds"></a><a name="Allow-Triggering-Personal-Builds"></a><h4 id="ConfiguringGeneralSettings-AllowTriggeringPersonalBuilds">Allow Triggering Personal Builds</h4><p id="3cdfe5c3">You can restrict running <a href="personal-build.html">personal builds</a> by unchecking the <b id="09a65dba">allow triggering personal builds</b> option (on by default).</p><a name="EnableStatusWidget"></a><a name="Enable-Status-Widget"></a><h4 id="ConfiguringGeneralSettings-EnableStatusWidget">Enable Status Widget</h4><p id="f83787b9">This option enables retrieving the status and basic details of the last build in the build configuration without requiring any user authentication. Note that this also allows getting the status of any specific build in the build configuration (however, builds cannot be listed and no other information except the build status (<code class="code">success/failure/internal error/cancelled</code>) is available).</p><p id="cde8f13a">The status can be retrieved via the HTML status widget described below, or via a single icon with the help of <a href="rest-api.html#Build-Status-Icon">REST API</a>.</p><a name="HTMLStatusWidget"></a><a name="HTML-Status-Widget"></a><h4 id="ConfiguringGeneralSettings-HTMLStatusWidget">HTML Status Widget</h4><p id="761027c0">This feature allows you to get an overview of the current project status on your company's website, wiki, Confluence or any other web page.When the <b id="90026d63">Enable status widget</b> option is enabled, an HTML snippet can be included into an external web page and will display the current build configuration status.For build status icon as a single image, check <a href="rest-api.html#Build-Status-Icon">REST build status icon</a>.</p><p id="e87cdedf">The following build process information is provided by the status widget:</p><ul class="list _ul"><li class="list__item" id="830f12f3"><p>The latest build results,</p></li><li class="list__item" id="74183c5e"><p>Build number,</p></li><li class="list__item" id="4d0c055a"><p>Build status,</p></li><li class="list__item" id="e51311b8"><p>Link to the latest build artifacts. The status widget doesn't require users log in to TeamCity.</p></li></ul><p id="01372412">When the feature is enabled, you need to include the following snippets of code in the web page source:</p><ul class="list _ul"><li class="list__item" id="4a053077"><p id="ca5e605c">Add this code sample in the <code class="code">&lt;head&gt;</code> section (or alternatively, add the <code class="code">withCss=true</code> parameter to <i id="2a52f198">externalStatus.html</i>):</p><div class="code-block" data-lang="bash">&lt;style type="text/css"&gt;
@import "&lt;TeamCity_server_URL&gt;/css/status/externalStatus.css";
&lt;/style&gt;
</div></li><li class="list__item" id="1fafd1b6"><p id="d56e80fb">Insert this code sample where you want to display the build configuration status:</p><div class="code-block" data-lang="bash">&lt;script type="text/javascript" src="&lt;TeamCity_server_URL&gt;/externalStatus.html?js=1"&gt;
&lt;/script&gt;

</div></li><li class="list__item" id="9d72ef11"><p id="f05532c2">If you prefer to use plain HTML instead of javascript, omit the <b id="fdbb17ef">js=1</b> parameter and use iframe instead of the script:</p><div class="code-block" data-lang="bash">&lt;iframe src="&lt;TeamCity_server_URL&gt;/externalStatus.html"/&gt;
</div></li><li class="list__item" id="36b4d7c0"><p id="375ec1f7">If you want to include default CSS styles without modifying the <code class="code">&lt;head&gt;</code> section, add the <b id="e1b2f393">withCss=true</b> parameterTo provide up-to-date status information on specific build configurations, use the following parameter in the URL as many times as needed:</p><div class="code-block" data-lang="bash">&amp;buildTypeId=&lt;external build configuration ID&gt;

</div></li></ul><p id="41b9e36b">It is also possible to show the status of all projects build configurations by replacing <code class="code">"&amp;buildTypeId=&lt;external build configuration ID&gt;"</code> with <code class="code">"&amp;projectId=&lt;external project ID&gt;"</code>. You can select a combination of these parameters to display the needed projects and build configurations on your web page.</p><p id="a8ca1384">You can also download and customize the <code class="code">externalStatus.css</code> file (for example, you can disable some columns by using <code class="code">display: none</code>; See comments in <code class="code">externalStatus.css</code>). But in this case, you must <i id="e5ff37de">not</i> include the <b id="62c992a1">withCss=true</b> parameter, but provide the CSS styles explicitly, preferably in the <code class="code">&lt;head&gt;</code> section, instead.</p><p id="173db697">Enabling the status widget also allows non-logged in users to get the RSS feed for the build configuration.</p><a name="LimitNumberofSimultaneouslyRunningBuilds"></a><a name="Limit-Number-of-Simultaneously-Running-Builds"></a><h4 id="ConfiguringGeneralSettings-LimitNumberofSimultaneouslyRunningBuilds">Limit Number of Simultaneously Running Builds</h4><p id="68302219">Specify the number of builds of the same configuration that can run simultaneously on all agents. This option helps avoid the situation, when all of the agents are busy with the builds of a single project. Enter 0 to allow an unlimited number of builds to run simultaneously.</p><hr id="35767fef"><p id="f5841fa3"><b id="50e0870b">See also:</b></p><p id="e4763ff4"><b id="399e444a">Concepts</b>: <a href="build-configuration.html">Build Configuration </a></p><hr id="be5d9c60"></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v2/app.js"></script></body></html>