<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v2/analytics.js"></script><title>Mapping External Links in Comments - Help | TeamCity</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v2/app.css"></head><body data-id="Mapping External Links in Comments" data-breadcrumbs="teamcity-documentation.md|TeamCity Documentation/administrator-s-guide.md|Administrator's Guide/integrating-teamcity-with-other-tools.md|Integrating TeamCity with Other Tools/mapping-external-links-in-comments.md|Mapping External Links in Comments" data-main-title="Mapping External Links in Comments" data-edit-url="https://github.com/JetBrains/teamcity-documentation/edit/2019.1/topics/mapping-external-links-in-comments.md"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search TeamCity Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>TeamCity 2019.1 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Mapping External Links in Comments" id="mapping-external-links-in-comments.md">Mapping External Links in Comments</h1><p id="b2f6be6c">TeamCity allows mapping patterns in VCS change comments to arbitrary HTML pieces using regular expression search and replace patterns. One of the most common usages is to map an issue ID mentioning into a hyperlink to the issue page in the issue tracking system.</p><p id="7db7464b"><b id="d6e23f26">To configure mapping:</b></p><ol class="list _decimal"><li class="list__item" id="d40c7ee1"><p>Navigate to the file &lt;<a href="teamcity-data-directory.html">TeamCity Data Directory</a>&gt;\config\main-config.xml.</p></li><li class="list__item" id="1673ee25"><p>Locate section <code class="code">&lt;comment-transformation&gt;</code>, or create one under the <code class="code">&lt;server&gt;</code> tag, if it doesn't exist (you may refer to the <code class="code">main-config.dtd</code> file for the XML structure definition).</p></li><li class="list__item" id="09860e49"><p>Specify the search and replace patterns. For example, you can use the following pattern for enabling JIRA integration:</p></li></ol><div class="code-block" data-lang="markup">
&lt;server&gt;
...
   &lt;comment-transformation&gt;
     &lt;transformation-pattern
       search="(&gt;|\(|\s|^)([A-Z]+-\d+)(\b|$)"
       replace="$1&amp;lt;a target=&amp;quot;_blank&amp;quot; title=&amp;quot;Click to open this issue a new window&amp;quot; href=&amp;quot;
       http://www.jetbrains.net/jira/browse/$2&amp;quot;&amp;gt;$2&amp;lt;/a&amp;gt;$3"
       description="JetBrains Jira issue link" /&gt;
   &lt;/comment-transformation&gt;
...
&lt;/server&gt;

</div><p id="1c38a5d9">TeamCity can apply several patterns to a single piece of text, if they do not intersect (match different string segments).</p><aside class="note " data-title="" rel="1c38a5d9" id="2346aef0"><p id="72e0186c">Search &amp; replace patterns have <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/util/regex/Pattern.html" data-external="true" target="_blank" rel="noopener noreferrer">java.util.regex.Pattern</a> syntax.</p></aside><hr id="a713bc1a"></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v2/app.js"></script></body></html>