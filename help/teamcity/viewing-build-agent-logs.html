<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v2/analytics.js"></script><title>Viewing Build Agent Logs - Help | TeamCity</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v2/app.css"></head><body data-id="Viewing Build Agent Logs" data-breadcrumbs="teamcity-documentation.md|TeamCity Documentation/administrator-s-guide.md|Administrator's Guide/teamcity-configuration-and-maintenance.md|TeamCity Configuration and Maintenance/build-agents-configuration-and-maintenance.md|Build Agents Configuration and Maintenance/viewing-build-agent-logs.md|Viewing Build Agent Logs" data-main-title="Viewing Build Agent Logs" data-edit-url="https://github.com/JetBrains/teamcity-documentation/edit/2019.1/topics/viewing-build-agent-logs.md"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search TeamCity Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>TeamCity 2019.1 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Viewing Build Agent Logs" id="viewing-build-agent-logs.md">Viewing Build Agent Logs</h1><p id="97de23e2">On this page:</p><p id="3cd1b34b"><ul class="list" data-skip-index="skip"><li class="list__item"><a href="#ViewingBuildAgentLogs-LogFiles">Log Files</a></li><li class="list__item"><a href="#ViewingBuildAgentLogs-GenericDebugLogging">Generic Debug Logging</a></li><li class="list__item"><a href="#ViewingBuildAgentLogs-VCSDebugLogging">VCS Debug Logging</a></li><li class="list__item"><a href="#ViewingBuildAgentLogs-SpecificDebugLogging">Specific Debug Logging</a></li><li class="list__item"><a href="#ViewingBuildAgentLogs-AdvancedLoggingConfiguration">Advanced Logging Configuration</a></li></ul></p><p id="2dc9704e">To analyze agent-specific cases, there are internal log files saved by the TeamCity agent process into <code class="code">&lt;TeamCity agent home&gt;/logs</code> directory on the agent machine.</p><p id="2be62564">When the agent is connected to TeamCity server, you can <b id="57c19c0a">browse and download</b> the agent logs in TeamCity web UI, on the <b id="bf962ac6">Agent Logs</b> tab for an agent.</p><p id="49799c76">If you need to customize the logigng, see below.</p><a name="LogFiles"></a><a name="Log-Files"></a><div class="chapter"><h2 id="ViewingBuildAgentLogs-LogFiles">Log Files</h2><p id="aae23641">TeamCity uses <a href="http://logging.apache.org/log4j" data-external="true" target="_blank" rel="noopener noreferrer">Log4j</a> for internal logging of events. The default build agent Log4j configuration file is <code class="code">&lt;agent home&gt;/conf/teamcity-agent-log4j.xml</code>.<br>See the comments in the file for enabling the DEBUG mode: you will need to increase the value in <code class="code">&lt;param name="maxBackupIndex"..."</code> node and insert <code class="code">&lt;priority value="DEBUG"/&gt;</code> nodes into <code class="code">&lt;category&gt;</code> elements. Build agent logs are placed into <code class="code">&lt;agent home&gt;/logs</code> directory. Normally, you do not need to restart the agent for the updated logging configuration to be applied.</p><div class="table-wrapper"><table width="100%" id="60b010a3"><thead><tr id="83f621c9" class="ijRowHead"><th id="f1110284"><p id="cba58490">File name</p></th><th id="dd38457c"><p id="aefbb23a">Description</p></th></tr></thead><tbody><tr id="d7582b9b" class="ijRowOdd"><td id="4e266e20"><p id="1e56c08c"><code class="code">teamcity-agent.log</code></p></td><td id="a53df965"><p id="a5e4c760">General build agent log</p></td></tr><tr id="a392ddc8" class="ijRowEven"><td id="8b80f132"><p id="b95fa514"><code class="code">teamcity-build.log</code></p></td><td id="0a22a7aa"><p id="b0b424db"><code class="code">stdout</code> and <code class="code">stderr</code> output of builds run by the agent</p></td></tr><tr id="d7b6e177" class="ijRowOdd"><td id="10e0b31a"><p id="56d017d2"><code class="code">teamcity-vcs.log</code></p></td><td id="900141cc"><p id="a121483f">VCS-related logging (for checkout mode "Automatically on agent")</p></td></tr><tr id="5cf8ac7c" class="ijRowEven"><td id="b7d5b7cb"><p id="ac47776c"><code class="code">upgrade.log</code></p></td><td id="464301e3"><p id="dbcc6a42">log of the build agent upgrade (logged by the upgrading process)</p></td></tr><tr id="aef558cb" class="ijRowOdd"><td id="2e26ed7d"><p id="7f00b08b"><code class="code">launcher.log</code></p></td><td id="9a8cf002"><p id="505b81d8">log of the agent's monitoring/launching process</p></td></tr><tr id="ae6c462f" class="ijRowEven"><td id="2ebb1024"><p id="e5913230"><code class="code">wrapper.log</code></p></td><td id="024b03cb"><p id="cb5635ae">(only present when the agent is run as Windows service or by Java Service Wrapper) output of the process build agent launching process</p></td></tr></tbody></table></div></div><a name="GenericDebugLogging"></a><a name="Generic-Debug-Logging"></a><div class="chapter"><h2 id="ViewingBuildAgentLogs-GenericDebugLogging">Generic Debug Logging</h2><p id="13406ff6">To enable general debug logging on agent, change the <code class="code">jetbrains.buildServer</code> category logging priority in the <code class="code">&lt;agent home&gt;/conf/teamcity-agent-log4j.xml</code> file:</p><div class="code-block" data-lang="markup">&lt;category name="jetbrains.buildServer"&gt;
    &lt;priority value="DEBUG"/&gt;
    &lt;appender-ref ref="ROLL"/&gt;
&lt;/category&gt;

</div><p id="fed17e38">Then, see <code class="code">teamcity-agent.log*</code> files.<br>To turn the debug mode off, make the line <code class="code">&lt;priority value="INFO"/&gt;</code>.</p></div><a name="VCSDebugLogging"></a><a name="VCS-Debug-Logging"></a><div class="chapter"><h2 id="ViewingBuildAgentLogs-VCSDebugLogging">VCS Debug Logging</h2><p id="c8e81067">To enable detailed VCS logging on agent, change the VCS category logging priority in the <code class="code">&lt;agent home&gt;/conf/teamcity-agent-log4j.xml</code> file:</p><div class="code-block" data-lang="markup">&lt;category name="jetbrains.buildServer.VCS"&gt;
    &lt;priority value="DEBUG"/&gt;
    &lt;appender-ref ref="ROLL.VCS"/&gt;
&lt;/category&gt;

</div><p id="b7685b64">Then, see <code class="code">teamcity-vcs.log*</code> files.<br>To turn debug mode off, make the line <code class="code">&lt;priority value="INFO"/&gt;</code>.</p></div><a name="SpecificDebugLogging"></a><a name="Specific-Debug-Logging"></a><div class="chapter"><h2 id="ViewingBuildAgentLogs-SpecificDebugLogging">Specific Debug Logging</h2><p id="0a8d08a1">To get dump of the data sent from the agent to the server, enable agent XML-RPC log, by uncommenting the line below in the <code class="code">&lt;agent home&gt;/conf/teamcity-agent-log4j.xml</code> file.</p><div class="code-block" data-lang="markup">&lt;category name="jetbrains.buildServer.XMLRPC"&gt;
    &lt;!--&lt;priority value="DEBUG"/&gt;--&gt;
    &lt;appender-ref ref="ROLL.XMLRPC"/&gt;
&lt;/category&gt;

</div><p id="1ded6b90">Then, see <code class="code">teamcity-xmlrpc.log</code>.<br>To turn it off, make the line <code class="code">&lt;priority value="INFO"/&gt;</code>.</p></div><a name="AdvancedLoggingConfiguration"></a><a name="Advanced-Logging-Configuration"></a><div class="chapter"><h2 id="ViewingBuildAgentLogs-AdvancedLoggingConfiguration">Advanced Logging Configuration</h2><p id="bd8fd2f5">You can configure location of the logs by altering the value of the <code class="code">teamcity_logs</code>property (passed to JVM via <code class="code">-D</code> option). You can also change the Log4j configuration file location by changing the value of the <code class="code">log4j.configuration</code> property. See the corresponding documentation <a href="configuring-build-agent-startup-properties.html">section</a> on how to pass the options.</p><p id="628e354d">For additional options on tweaking logging, refer to the <a href="teamcity-server-logs.html#Changing-Logging-Configuration">TeamCity Server Logs</a> page.</p><hr id="ba64d61d"><p id="60302cf5"><b id="5a8d6df7">See also:</b></p><p id="3d34196e"><b id="02f6457f">Administrator's Guide</b>: <a href="teamcity-server-logs.html">TeamCity Server Logs</a><br><b id="3c9b3851">Troubleshooting</b>: <a href="reporting-issues.html">Reporting Issues</a></p><hr id="583500a5"></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v2/app.js"></script></body></html>