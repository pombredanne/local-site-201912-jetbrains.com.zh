<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v2/analytics.js"></script><title>TeamCity Maintenance Mode - Help | TeamCity</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v2/app.css"></head><body data-id="TeamCity Maintenance Mode" data-breadcrumbs="teamcity-documentation.md|TeamCity Documentation/installation-and-upgrade.md|Installation and Upgrade/teamcity-maintenance-mode.md|TeamCity Maintenance Mode" data-main-title="TeamCity Maintenance Mode" data-edit-url="https://github.com/JetBrains/teamcity-documentation/edit/2019.1/topics/teamcity-maintenance-mode.md"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search TeamCity Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>TeamCity 2019.1 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="TeamCity Maintenance Mode" id="teamcity-maintenance-mode.md">TeamCity Maintenance Mode</h1><p id="079c4337">If you see the TeamCity Maintenance page on the TeamCity startup, that means this TeamCity instance requires technical maintenance before TeamCity can start. For security reasons it is to be performed by a <b id="d395161e">system administrator</b> who has administrative access to the environment where the TeamCity server is installed. In most cases this page appears if the data format expected by the TeamCity installation doesn't correspond to the data format in the Data Directory or the database; for example, during <a href="upgrade.html">Upgrade</a> TeamCity will display this page before converting the data to a newer format. If you do <b id="0ee15fbb">not</b> have access to the computer where TeamCity is installed, inform your system administrator that TeamCity requires technical maintenance.</p><p id="2867fcb7">If you are a TeamCity system administrator, to confirm that enter the <i id="583f3827">Token</i> into the corresponding field on this page. This token can be found in the <code class="code">teamcity-server.log</code> file under <code class="code">&lt;</code><a href="teamcity-server-logs.html"><code class="code">TeamCity home&gt;/logs</code></a>.</p><p id="315e21f4">After you have provided this token, you can review the details on what kind of maintenance is required. The need in technical maintenance may be caused, for example, by one of the following:</p><ul class="list _ul"><li class="list__item" id="e6fd3a77"><a href="#TeamCity-Data-Upgrade">TeamCity Data Upgrade</a></li></ul><ul class="list _ul"><li class="list__item" id="de4ed92e"><a href="#TeamCity-Data-Format-is-Newer">TeamCity Data Format is Newer</a></li><li class="list__item" id="68adfe44"><a href="#TeamCity-Startup-Error">TeamCity Startup Error</a></li><li class="list__item" id="4498c27e"><a href="#TeamCity-Database-Creation">TeamCity Database Creation</a></li></ul><a name="TeamCityDataUpgrade"></a><a name="TeamCity-Data-Upgrade"></a><div class="chapter"><h2 id="TeamCityMaintenanceMode-TeamCityDataUpgrade">TeamCity Data Upgrade</h2><p id="67fec26a">When updating your TeamCity instance to a new feature release, the newly installed version of TeamCity checks if the TeamCity Data Directory and database use the same data format as required by the TeamCity version. If the newer version requires data conversion, this page is displayed with data format details. Please, review them carefully to ensure that the Data Directory and the database locations are indeed those meant to be used by the server.</p><p id="72b66e37">If you haven't backed up your data before, do it at this point by using the option on the page (available when upgrading from TeamCity 6.0 or higher). Note that the backup process can take time, especially with large TeamCity installations. Other ways to create the backup are detailed in the <a href="teamcity-data-backup.html">TeamCity Data Backup</a> section.</p><p id="774c3148">Once TeamCity converts the data, downgrade won't be possible. If you need to return to an earlier TeamCity version, you will be able to do that only by restoring the data from a corresponding backup.</p><p id="8aa94164">When you are sure you have backed up your data, click <b id="252fb70b">Upgrade</b>.</p></div><a name="TeamCityDataFormatisNewer"></a><a name="TeamCity-Data-Format-is-Newer"></a><div class="chapter"><h2 id="TeamCityMaintenanceMode-TeamCityDataFormatisNewer">TeamCity Data Format is Newer</h2><p id="21676bd8">TeamCity has detected that the data format corresponds to more recent TeamCity version than you try to run.  Since downgrade is not supported, TeamCity cannot start until you provide the data that matches the format of the TeamCity version you want to run. To do so, please restore the required data from backup. Refer to the <a href="restoring-teamcity-data-from-backup.html">Restoring TeamCity Data from Backup</a> page for the instructions.</p></div><a name="TeamCityStartupError"></a><a name="TeamCity-Startup-Error"></a><div class="chapter"><h2 id="TeamCityMaintenanceMode-TeamCityStartupError">TeamCity Startup Error</h2><p id="11b46c14">If on TeamCity startup a critical error was encountered, this page will display the error message.  Please, fix the error cause and restart the TeamCity server.</p></div><a name="TeamCityDatabaseCreation"></a><a name="TeamCity-Database-Creation"></a><div class="chapter"><h2 id="TeamCityMaintenanceMode-TeamCityDatabaseCreation">TeamCity Database Creation</h2><p id="b46ac5f2">If you see this screen when <a href="setting-up-an-external-database.html">settings up TeamCity with an external database</a> or <a href="migrating-to-an-external-database.html">after migrating to an external database</a>, click <b id="a38a632a">Proceed</b> to create a new database for TeamCity.</p><hr id="26600f65"><p id="1a5df816"><b id="fb113c3a">See also:</b></p><p id="8547a681"><b id="26fc323f">Installation and Upgrade</b>: <a href="upgrade.html">Upgrade</a><br><b id="07eb2306">Administrator's Guide</b>: <a href="teamcity-data-backup.html">TeamCity Data Backup</a></p><hr id="1de7de67"></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v2/app.js"></script></body></html>