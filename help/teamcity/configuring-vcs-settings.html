<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v2/analytics.js"></script><title>配置VCS设置-帮助|团队城市</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v2/app.css"></head><body  data-id="Configuring VCS Settings" data-breadcrumbs="teamcity-documentation.md|TeamCity Documentation/administrator-s-guide.md|Administrator's Guide/managing-projects-and-build-configurations.md|Managing Projects and Build Configurations/configuring-vcs-settings.md|Configuring VCS Settings/configuring-vcs-roots.md|Configuring VCS Roots/guess-settings-from-repository-url.md|Guess Settings from Repository URL/clearcase.md|ClearCase/cvs.md|CVS/git.md|Git/ssh-keys-management.md|SSH Keys Management/mercurial.md|Mercurial/perforce.md|Perforce/perforce-vcs-compatibility.md|Perforce VCS Compatibility/perforce-workspace-handling-in-teamcity.md|Perforce Workspace Handling in TeamCity/perforce-streams-as-feature-branches.md|Perforce Streams as feature branches/starteam.md|StarTeam/subversion.md|Subversion/team-foundation-server.md|Team Foundation Server/sourcegear-vault.md|SourceGear Vault/visual-sourcesafe.md|Visual SourceSafe/configuring-vcs-post-commit-hooks-for-teamcity.md|Configuring VCS Post-Commit Hooks for TeamCity/working-with-feature-branches.md|Working with Feature Branches/branch-filter.md|Branch Filter/vcs-checkout-rules.md|VCS Checkout Rules/vcs-checkout-mode.md|VCS Checkout Mode" data-main-title="Configuring VCS Settings" data-edit-url="https://github.com/JetBrains/teamcity-documentation/edit/2019.1/topics/configuring-vcs-settings.md"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索TeamCity帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>TeamCity 2019.1帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 id="configuring-vcs-settings.md" data-toc="Configuring VCS Settings">配置VCS设置</h1><p id="91ade3c9">在此页：</p><p id="7530cde7"></p><ul class="list" data-skip-index="skip"><li class="list__item"><a href="#ConfiguringVCSSettings-VCSSettingsOverview">VCS设置概述</a></li><li class="list__item"><a href="#ConfiguringVCSSettings-AttachVCSRoot">附加VCS根</a><ul class="list _bullet"><li class="list__item"><a href="#ConfiguringVCSSettings-ConfigureCheckoutRules">配置结帐规则</a></li></ul></li><li class="list__item"><a href="#ConfiguringVCSSettings-ConfiguringCheckoutOptionsforBuildConfiguration">配置构建配置的签出选项</a><ul class="list _bullet"><li class="list__item"><a href="#ConfiguringVCSSettings-CheckoutSettings">结帐设定</a></li><li class="list__item"><a href="#ConfiguringVCSSettings-ChangesCalculationSettings">更改计算设置</a></li><li class="list__item"><a href="#ConfiguringVCSSettings-BranchFilter">分支过滤器</a></li></ul></li><li class="list__item"><a href="#ConfiguringVCSSettings-OtherVCS-RelatedSettings">其他与VCS相关的设置</a></li></ul><p></p><a name="VCSSettingsOverview"></a><a name="VCS-Settings-Overview"></a><div class="chapter"><h2 id="ConfiguringVCSSettings-VCSSettingsOverview">VCS设置概述</h2><p id="6a4b6fc0">版本控制系统（VCS）是用于跟踪项目源文件的修订的系统。它也被称为SCM（源代码管理）或版本控制系统。现成的TeamCity支持以下VCS： <a href="git.html">Git</a> ， <a href="subversion.html">Subversion</a> ， <a href="mercurial.html">Mercurial</a> ， <a href="perforce.html">Perforce</a> ， <a href="team-foundation-server.html">Team Foundation Server</a> ， <a href="cvs.html">CVS</a> ， <a href="starteam.html">StarTeam</a> ， <a href="clearcase.html">ClearCase</a> ， <a href="sourcegear-vault.html">SourceGear Vault</a> ， <a href="visual-sourcesafe.html">Visual SourceSafe</a> 。</p><p id="b727e517">与版本控制系统的连接由TeamCity <a href="vcs-root.html">VCS根目录</a>定义。TeamCity中的项目或<a href="build-configuration.html">构建配置</a>可以附加一个或多个VCS根目录。构建配置还可以通过诸如<a href="vcs-checkout-rules.html">Checkout Rules之</a>类的其他checkout选项来定义构建的工作空间。</p><p id="fd301be0">TeamCity始终从服务器端监视存储库以检测更改并将其显示在UI中。根据指定的<a href="vcs-checkout-mode.html">VCS Checkout模式</a> ，实际的存储库检出也可以在代理端进行。</p><p id="f49ba1a0">TeamCity针对每个VCS根分别执行VCS相关的操作，因此建议以相同的设置重用VCS根。</p><p id="412f2233">在VCS根目录中使用<a href="configuring-build-parameters.html#Using-Build-Parameters-in-Build-Configuration-Settings">参数引用时</a> ，TeamCity将对每个“ VCS根实例”执行与VCS相关的操作，其中“实例”是引用解析后唯一的一组VCS根参数。将参数添加到VCS根目录不会减少执行的VCS操作的数量，而只是允许更有效地共享设置。</p></div><a name="AttachVCSRoot"></a><a name="Attach-VCS-Root"></a><div class="chapter"><h2 id="ConfiguringVCSSettings-AttachVCSRoot">附加VCS根</h2><p id="accf573c">在项目或构建配置的“ <b id="f68f4b8a">版本控制设置”</b>页面上配置VCS设置：您可以将现有<a href="configuring-vcs-roots.html">VCS根目录</a>附加到您的项目/构建配置，或创建要附加的新<a href="configuring-vcs-roots.html">VCS根目录</a> 。这是VCS参数设置的主要部分。 VCS根目录是对项目源所在的版本控制系统的描述。<a href="configuring-vcs-roots.html">在此处</a>了解有关VCS根目录和配置详细信息的更多信息。</p><a name="ConfigureCheckoutRules"></a><a name="Configure-Checkout-Rules"></a><div class="chapter"><h3 id="ConfiguringVCSSettings-ConfigureCheckoutRules">配置结帐规则</h3><p id="aa4dd47c">当附加了多个VCS根目录或只需要检出一部分存储库时，请为VCS根目录指定<a href="vcs-checkout-rules.html">检出规则</a> ，以提供控制源检出的高级可能性。使用规则，您可以在签出期间排除路径和/或将路径映射到Build Agent上的其他位置。</p></div></div><a name="ConfiguringCheckoutOptionsforBuildConfiguration"></a><a name="Configuring-Checkout-Options-for-Build-Configuration"></a><div class="chapter"><h2 id="ConfiguringVCSSettings-ConfiguringCheckoutOptionsforBuildConfiguration">配置构建配置的签出选项</h2><a name="CheckoutSettings"></a><a name="Checkout-Settings"></a><div class="chapter"><h3 id="ConfiguringVCSSettings-CheckoutSettings">结帐设定</h3><div class="table-wrapper"><table width="100%" id="983a8ae1"><thead><tr id="467d2b7e" class="ijRowHead"><th id="691e9585"><p id="765ee4ae">设置</p></th><th id="b565d0ae"><p id="a6fa43fa">描述</p></th></tr></thead><tbody><tr id="1d703f7e" class="ijRowOdd"><td id="6f02aaa7"><p id="b2cd76ee">VCSСheckout模式</p></td><td id="d598999e"><p id="52c92713">要定义项目源如何到达代理，请使用<a href="vcs-checkout-mode.html">VCS Checkout Mode</a>选项。</p></td></tr><tr id="397efba5" class="ijRowEven"><td id="18106099"><p id="d17a83ea">Сheckout目录</p></td><td id="4ca98c73"><p id="fb16d3bd"><a href="build-checkout-directory.html">Build Checkout目录</a>是TeamCity代理计算机上的目录，所有生成的所有源都被检入到其中。</p></td></tr><tr id="eff7dc59" class="ijRowOdd"><td id="88c8de2f"><p id="226663b4">干净的构建</p></td><td id="3e64ebaf"><p id="66491b8e">定义是否要在构建之前清除checkout目录中的所有文件。有关详细信息，请参见<a href="clean-checkout.html">清理结帐</a> 。</p></td></tr></tbody></table></div></div><a name="ChangesCalculationSettings"></a><a name="Changes-Calculation-Settings"></a><div class="chapter"><h3 id="ConfiguringVCSSettings-ChangesCalculationSettings">更改计算设置</h3><p id="f4a272fd"><b id="513b697a">自TeamCity 2017.1起</b> ，此部分以前称为“显示设置”，已重命名为“更改”计算设置<b id="513b697a">。</b></p><div class="table-wrapper"><table width="100%" id="6a4a9863"><thead><tr id="8d2cba6e" class="ijRowHead"><th id="cdcfe91e"><p id="66f6732f">设置</p></th><th id="592a99f2"><p id="9129d0b9">描述</p></th></tr></thead><tbody><tr id="d2a85653" class="ijRowOdd"><td id="6a728017"><p id="fe6f477a">显示快照依赖项的更改</p></td><td id="26505730"><p id="0dc3f152">配置TeamCity是否将<b id="27b4e260"><a href="build-dependencies-setup.html#show-changes-from-dependencies">显示快照依赖项的更改</a></b> 。这也会影响计划触发器中未决更改的处理。</p></td></tr><tr id="966e42ef" class="ijRowEven"><td id="26a34c8f"><p id="1c66f924">从其他分支中排除默认分支更改</p></td><td id="6c677c0c"><a name="excludeDefaultBranch"></a><a name="ConfiguringVCSSettings-excludeDefaultBranch"></a><p id="07d680ce">默认情况下，当在功能分支中显示挂起的更改或在分支上构建的更改时，TeamCity还将在<a href="working-with-feature-branches.html#Default-branch">默认分支中</a>包含更改（直到<a href="working-with-feature-branches.html#Default-branch">默认分支中</a>的构建）。这允许跟踪在默认分支而不是功能分支中修复了破坏构建的提交的情况。</p><p id="5f2c1784">但是，对于具有多个团队同时在许多不同分支上工作的大型项目，这意味着，例如，默认分支中的提交破坏了构建或如果执行了推力。</p><p id="900bb0a0">如果只想查看功能分支中的更改，请选中此框以排除默认分支中的更改，使其不显示在其他分支中。</p></td></tr></tbody></table></div></div><a name="BranchFilter"></a><a name="Branch-Filter"></a><div class="chapter"><h3 id="ConfiguringVCSSettings-BranchFilter">分支过滤器</h3><p id="83ec9238">从TeamCity 2019.1开始，您可以使用<a href="branch-filter.html">分支过滤器</a>来限制可用于构建配置的分支集。默认情况下，没有限制。</p></div></div><a name="OtherVCS-RelatedSettings"></a><a name="Other-VCS-Related-Settings"></a><div class="chapter"><h2 id="ConfiguringVCSSettings-OtherVCS-RelatedSettings">其他与VCS相关的设置</h2><ul class="list _ul"><li class="list__item" id="38777e0e"><p>如果要在新更改检测时启动构建，请配置<a href="configuring-vcs-triggers.html">VCS触发器</a> 。</p></li><li class="list__item" id="09d485f0"><p>此外，您可以通过<a href="vcs-labeling.html">VCS标签</a>构建功能将用于特定构建的源的标签添加到版本控制系统中。</p></li></ul><hr id="8dd596b2"><p id="1a514493"><b id="60234fe4">也可以看看：</b></p><p id="b7059953"><b id="7e4adad9">管理员指南</b> ： <a href="configuring-vcs-roots.html">配置VCS根目录</a> | <a href="vcs-checkout-rules.html">VCS结帐规则</a> | <a href="vcs-checkout-mode.html">VCS Checkout模式</a> | <a href="vcs-labeling.html">VCS标签</a></p><hr id="0ca7b094"></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v2/app.js"></script></body></html>