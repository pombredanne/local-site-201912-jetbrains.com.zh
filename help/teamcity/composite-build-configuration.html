<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v2/analytics.js"></script><title>Composite Build Configuration - Help | TeamCity</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v2/app.css"></head><body data-id="Composite Build Configuration" data-breadcrumbs="teamcity-documentation.md|TeamCity Documentation/concepts.md|Concepts/composite-build-configuration.md|Composite Build Configuration" data-main-title="Composite Build Configuration" data-edit-url="https://github.com/JetBrains/teamcity-documentation/edit/2019.1/topics/composite-build-configuration.md"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search TeamCity Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>TeamCity 2019.1 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Composite Build Configuration" id="composite-build-configuration.md">Composite Build Configuration</h1><p id="ff32cdee">TeamCity provides the <b id="5a5a7dd6">Composite</b> type of build configuration.</p><p id="68999a84">The purpose of the composite build configuration is to aggregate results from several other builds combined by <b id="9258da32">snapshot dependencies</b> and present them in a single place. To some extent, a composite build can be viewed as a build which consists of several parts which can be executed in parallel on different agents. All these parts will have a synchronized snapshot of the source code and the results can be seen in a single place.</p><p id="2019d617">When <a href="creating-and-editing-build-configurations.html">creating a build configuration</a>, you can specify <i id="4d13cb80">Composite</i> as its type and specify its snapshot dependencies: the build configurations whose builds results the current composite one will aggregate.</p><p id="57ade298">There are important differences between composite builds and regular builds with snapshot dependencies:</p><ul class="list _ul"><li class="list__item" id="70093062"><p>A composite build does not occupy an agent; as a result, some settings which require an agent (for example, build steps or requirements) are not applicable.</p></li><li class="list__item" id="ded0b909">A composite build often acts as a <b id="c6d7fe0e">single</b> build regardless of the number of dependencies:<ul class="list _ul"><li class="list__item" id="eee634fe"><p>A composite build is shown as <i id="c7bb3885">running</i> at the time when the first dependency of the build chain starts, and is shown as <i id="87343710">finished</i> only when the last dependency finishes.</p></li><li class="list__item" id="48ad8c81"><p>If a composite build is stopped or removed from the queue, all its dependencies, that is the whole build chain, are stopped/removed as well.</p></li><li class="list__item" id="73ac8148"><p>It is possible to limit the number of running composite builds, but in case with a composite build it will affect the build and all its dependencies: if the limit is set to 1 and a composite build is already running, another composite build with all its dependencies will wait in the queue until the current one finishes.</p></li><li class="list__item" id="85e106ed"><p>A composite build aggregates results from dependencies (for example, all of the tests) and shows all failed/muted or ignored tests of the chain in a single place, the same applies to code coverage or results of code inspection/code duplicates analysis.</p></li><li class="list__item" id="48929c6f"><p>The status line of the composite builds reflects the current chain state: the number of running/queued/finished or failed dependencies.</p></li><li class="list__item" id="20d24318"><p>The progress indicator of the composite build reflects all of the dependencies, so it actually shows when the whole chain is going to finish.</p></li></ul></li><li class="list__item" id="73b97163"><p>A composite build does not have its own artifacts. However, you can make it display the artifacts published by its parts (dependencies) via artifact dependencies.</p></li></ul><a name="Clean-upofCompositeBuildArtifacts"></a><a name="Clean-up-of-Composite-Build-Artifacts"></a><h3 id="CompositeBuildConfiguration-Clean-upofCompositeBuildArtifacts">Clean-up of Composite Build Artifacts</h3><p id="f79f99fd">Composite builds only display the artifacts published by its parts via artifact dependencies, which means —Åomposite builds do not have their own artifacts (except for internal artifacts). To enforce a certain clean-up policy for artifacts of a composite build,  you need to have the same clean-up rules for all its parts.</p><hr id="709122b2"></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v2/app.js"></script></body></html>