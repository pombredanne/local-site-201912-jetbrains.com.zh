<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v2/analytics.js"></script><title>SMB Upload - Help | TeamCity</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v2/app.css"></head><body data-id="SMB Upload" data-breadcrumbs="teamcity-documentation.md|TeamCity Documentation/administrator-s-guide.md|Administrator's Guide/managing-projects-and-build-configurations.md|Managing Projects and Build Configurations/creating-and-editing-build-configurations.md|Creating and Editing Build Configurations/configuring-build-steps.md|Configuring Build Steps/deployers.md|Deployers/smb-upload.md|SMB Upload" data-main-title="SMB Upload" data-edit-url="https://github.com/JetBrains/teamcity-documentation/edit/2019.1/topics/smb-upload.md"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search TeamCity Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>TeamCity 2019.1 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="SMB Upload" id="smb-upload.md">SMB Upload</h1><p id="5d078426">SMB upload enables TeamCity to upload files/directories to Windows shares via Server Message Block (SMB) protocol.</p><p id="2540ed9f">The settings common for all runners are described in <a href="configuring-build-steps.html">Configuring Build Steps</a>; this page details the SMB Upload settings.</p><aside class="tip sideblock" data-title="" rel="2540ed9f" id="27820307"><p id="3e8b6251">The fields below support <a href="predefined-build-parameters.html">parameter references</a>: any text between percentage signs (%) is considered a reference to a property by TeamCity. To prevent TeamCity from treating the text in the percentage signs as a property reference, use two percentage signs to escape them: for example, if you want to pass <code class="code">"%Y%m%d%H%M%S"</code> into the build, change it to <code class="code">"%%Y%%m%%d%%H%%M%%S"</code>.</p></aside><div class="table-wrapper"><table class="  _layout-fixed" width="100%" id="2e77558c"><thead><tr id="e96082dd" class="ijRowHead"><th width="200" id="fcb12654"><p id="fd02cf23">Option</p></th><th id="259609b7"><p id="4b0f930c">Description</p></th></tr></thead><tbody><tr id="26909866" class="ijRowOdd"><td id="8077ad97"><p id="4501d582"><b id="15b575b5">Deployment Target</b></p></td><td id="8842e28d"></td></tr><tr id="8908e656" class="ijRowEven"><td id="5ccaa21a"><p id="10677c4b">Target URL</p></td><td id="a63f493f"><p id="3640cc33">The URL should point to a host + share at least. Subdirectories are allowed here and will be created if missing. Valid examples:</p><div class="code-block" data-lang="bash">\\host\share_name
\\host\share_name\some\path
\\host\c$\Temp

</div></td></tr><tr id="0f3e7807" class="ijRowOdd"><td id="fb12a22c"><p id="f168b381">Name resolution</p></td><td id="fce7d0c9"><p id="4df89c4a">The <b id="0576df02">DNS only name resolution</b> allows switching  JCIFS to "DNS-only" mode. May fix perfomance or out of memory exceptions (see <a href="https://bitbucket.org/nskvortsov/deployer/issue/20/out-of-memory-exception" data-external="true" target="_blank" rel="noopener noreferrer">this bitbucket issue</a> for details). Is equivalent to following JCIFS settings:</p><div class="code-block" data-lang="bash">-Djcifs.resolveOrder=DNS
-Djcifs.smb.client.dfs.disabled=true

</div></td></tr><tr id="7a9c679b" class="ijRowEven"><td id="6c49d8b3"><p id="38459a4d"><b id="1e1ddfce">Deployment Credentials</b></p></td><td id="eec69fbf"></td></tr><tr id="c2df48fa" class="ijRowOdd"><td id="682695f6"><p id="0408f79b">Username</p></td><td id="e2b61ecc"><p id="74e5f9fa">Specify the username</p></td></tr><tr id="111deeed" class="ijRowEven"><td id="206e8dd1"><p id="ce0ca092">Password</p></td><td id="3320fde6"><p id="0f373816">Specify the password</p></td></tr><tr id="353a2884" class="ijRowOdd"><td id="2fd77727"><p id="4a992443">Domain</p></td><td id="00b2ccb1"><p id="126674cd">Specify the <b id="fff237d8">domain</b></p></td></tr><tr id="b2befd72" class="ijRowEven"><td id="85519833"><p id="96ee8288"><b id="f10a4934">Deployment Source</b></p></td><td id="67c72b9c"></td></tr><tr id="4646cdcd" class="ijRowOdd"><td id="25615019"><p id="231695af">Path to sources</p></td><td id="8a9e21c4"><p id="b37a7560">Specify the deployment sources as a newline- or comma-separated list of paths to files/directories.</p><p id="e84eef61">The field supports <a href="wildcards.html#Antlike-Wildcards">Ant-style wildcard patterns</a> (for example, <code class="code">dir/**/*.zip</code>).<br>You can also specify a target directory to be created using the <code class="code">file =&gt; directory</code> pattern (for example, <code class="code">*.zip =&gt; winFiles,unix/distro.tgz =&gt; linuxFiles</code> will create the <code class="code">winFiles</code> and <code class="code">linuxFiles</code> directories, and respectively put the declared files inside them).</p></td></tr></tbody></table></div><hr id="01ae1269"></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v2/app.js"></script></body></html>