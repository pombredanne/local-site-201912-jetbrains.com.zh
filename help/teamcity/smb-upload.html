<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v2/analytics.js"></script><title>SMB上传-帮助|团队城市</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v2/app.css"></head><body  data-id="SMB Upload" data-breadcrumbs="teamcity-documentation.md|TeamCity Documentation/administrator-s-guide.md|Administrator's Guide/managing-projects-and-build-configurations.md|Managing Projects and Build Configurations/creating-and-editing-build-configurations.md|Creating and Editing Build Configurations/configuring-build-steps.md|Configuring Build Steps/deployers.md|Deployers/smb-upload.md|SMB Upload" data-main-title="SMB Upload" data-edit-url="https://github.com/JetBrains/teamcity-documentation/edit/2019.1/topics/smb-upload.md"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索TeamCity帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>TeamCity 2019.1帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 id="smb-upload.md" data-toc="SMB Upload">SMB上传</h1><p id="5d078426">SMB上传使TeamCity可以通过服务器消息块（SMB）协议将文件/目录上传到Windows共享。</p><p id="2540ed9f">在<a href="configuring-build-steps.html">配置构建步骤</a>中介绍了所有运行程序的通用设置。此页面详细介绍了SMB上载设置。</p><aside class="tip sideblock" rel="2540ed9f" id="27820307" data-title=""><p id="3e8b6251">支持<a href="predefined-build-parameters.html">参数引用的</a>以下字段：TeamCity将百分号（％）之间的任何文本视为对属性的引用。为了防止TeamCity将百分比符号中的文本作为属性引用，请使用两个百分比符号对其进行转义：例如，如果要传递<code class="code">"%Y%m%d%H%M%S"</code>进入构建，将其更改为<code class="code">"%%Y%%m%%d%%H%%M%%S"</code> 。</p></aside><div class="table-wrapper"><table class="  _layout-fixed" width="100%" id="2e77558c"><thead><tr id="e96082dd" class="ijRowHead"><th width="200" id="fcb12654"><p id="fd02cf23">选项</p></th><th id="259609b7"><p id="4b0f930c">描述</p></th></tr></thead><tbody><tr id="26909866" class="ijRowOdd"><td id="8077ad97"><p id="4501d582"><b id="15b575b5">部署目标</b></p></td><td id="8842e28d"></td></tr><tr id="8908e656" class="ijRowEven"><td id="5ccaa21a"><p id="10677c4b">目标网址</p></td><td id="a63f493f"><p id="3640cc33">该网址至少应指向主机+共享。此处允许子目录，如果缺少子目录将被创建。有效的例子：</p><div class="code-block" data-lang="bash">\\ host \ share_name \\ host \ share_name \ some \ path \\ host \ c $ \ Temp</div></td></tr><tr id="0f3e7807" class="ijRowOdd"><td id="fb12a22c"><p id="f168b381">名称解析</p></td><td id="fce7d0c9"><p id="4df89c4a"><b id="0576df02">仅DNS名称解析</b>允许将JCIFS切换到“仅DNS”模式。可能会修复性能或内存不足异常（有关详细信息，请参见此<a href="https://bitbucket.org/nskvortsov/deployer/issue/20/out-of-memory-exception" rel="noopener noreferrer" data-external="true" target="_blank">bitbucket问题</a> ）。等效于以下JCIFS设置：</p><div class="code-block" data-lang="bash">-Djcifs.resolveOrder = DNS -Djcifs.smb.client.dfs.disabled = true</div></td></tr><tr id="7a9c679b" class="ijRowEven"><td id="6c49d8b3"><p id="38459a4d"><b id="1e1ddfce">部署凭证</b></p></td><td id="eec69fbf"></td></tr><tr id="c2df48fa" class="ijRowOdd"><td id="682695f6"><p id="0408f79b">用户名</p></td><td id="e2b61ecc"><p id="74e5f9fa">指定用户名</p></td></tr><tr id="111deeed" class="ijRowEven"><td id="206e8dd1"><p id="ce0ca092">密码</p></td><td id="3320fde6"><p id="0f373816">指定密码</p></td></tr><tr id="353a2884" class="ijRowOdd"><td id="2fd77727"><p id="4a992443">域</p></td><td id="00b2ccb1"><p id="126674cd">指定<b id="fff237d8">域</b></p></td></tr><tr id="b2befd72" class="ijRowEven"><td id="85519833"><p id="96ee8288"><b id="f10a4934">部署来源</b></p></td><td id="67c72b9c"></td></tr><tr id="4646cdcd" class="ijRowOdd"><td id="25615019"><p id="231695af">来源途径</p></td><td id="8a9e21c4"><p id="b37a7560">将部署源指定为文件/目录路径的换行符或逗号分隔列表。</p><p id="e84eef61">该字段支持<a href="wildcards.html#Antlike-Wildcards">Ant样式的通配符模式</a> （例如， <code class="code">dir/**/*.zip</code> ）。<br>您也可以使用以下命令指定要创建的目标目录<code class="code">file => directory</code>模式（例如， <code class="code">*.zip => winFiles,unix/distro.tgz => linuxFiles</code>将创建<code class="code">winFiles</code>和<code class="code">linuxFiles</code>目录，并将声明的文件分别放入其中）。</p></td></tr></tbody></table></div><hr id="01ae1269"></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v2/app.js"></script></body></html>