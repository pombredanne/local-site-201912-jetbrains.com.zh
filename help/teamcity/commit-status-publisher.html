<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v2/analytics.js"></script><title>Commit Status Publisher - Help | TeamCity</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v2/app.css"></head><body data-id="Commit Status Publisher" data-breadcrumbs="teamcity-documentation.md|TeamCity Documentation/administrator-s-guide.md|Administrator's Guide/managing-projects-and-build-configurations.md|Managing Projects and Build Configurations/creating-and-editing-build-configurations.md|Creating and Editing Build Configurations/adding-build-features.md|Adding Build Features/commit-status-publisher.md|Commit Status Publisher" data-main-title="Commit Status Publisher" data-edit-url="https://github.com/JetBrains/teamcity-documentation/edit/2019.1/topics/commit-status-publisher.md"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search TeamCity Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>TeamCity 2019.1 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Commit Status Publisher" id="commit-status-publisher.md">Commit Status Publisher</h1><p id="b77e27f2">Commit status publisher is a <a href="adding-build-features.html">build feature</a> which allows TeamCity to automatically send build statuses of your commits to an external system. The feature is implemented as an <a href="https://github.com/JetBrains/commit-status-publisher" data-external="true" target="_blank" rel="noopener noreferrer">open-source plugin</a> bundled with TeamCity.</p><p id="f06ca42c">The supported systems are:</p><ul class="list _ul"><li class="list__item" id="c5f57924"><p>JetBrains Upsource</p></li><li class="list__item" id="13aba370"><p>GitHub (the build statuses for pull requests are supported as well)</p></li><li class="list__item" id="338dad0f"><p>GitLab</p></li><li class="list__item" id="a41d527a"><p>TFS/VSTS-hosted Git (supported statuses: Pending, Succeeded, Failed, Error)</p></li><li class="list__item" id="8bac436f"><p>Atlassian Bitbucket Server (formerly Stash) and Atlassian Bitbucket Cloud</p></li><li class="list__item" id="ef88f20f"><p>Gerrit Code Review tool 2.6+</p></li></ul><a name="Provider-specificConfguration"></a><a name="Provider-specific-Confguration"></a><div class="chapter"><h2 id="CommitStatusPublisher-Provider-specificConfguration">Provider-specific Confguration</h2><a name="GitLab"></a><a name="GitLab"></a><div class="chapter"><h3 id="CommitStatusPublisher-GitLab">GitLab</h3><p id="de9f2b46">If you use a recent version of GitLab (&gt;= 9.0), it is recommended to use the GitLab URL of the following format: <code class="code">http[s]://&lt;hostname&gt;[:&lt;port&gt;]/api/v4</code> as GitLab <a href="https://about.gitlab.com/2018/01/22/gitlab-10-4-released/#api-v3" data-external="true" target="_blank" rel="noopener noreferrer">stops supporting</a> the v3 API in GitLab 11. If you have <code class="code">/api/v3</code> in your current TeamCity configurations, they may stop working with GitLab 11+, so consider changing the server URL to <code class="code">api/v4</code>.</p><p id="94272490">For older versions of GitLab, use the GitLab URL of the format <code class="code">http[s]://&lt;hostname&gt;[:&lt;port&gt;]/api/v3</code>.</p></div><a name="Bitbucket"></a><a name="Bitbucket"></a><div class="chapter"><h3 id="CommitStatusPublisher-Bitbucket">Bitbucket</h3><p id="a7420387">Make sure that the <a href="configuring-server-url.html">TeamCity server URL</a> is FQDN, for example, <a href="http://myteamcity.domain.com:8111" data-external="true" target="_blank" rel="noopener noreferrer">http://myteamcity.domain.com:8111</a>. Short names, for example, <a href="http://myteamcity:8111" data-external="true" target="_blank" rel="noopener noreferrer">http://myteamcity:8111</a> are rejected by the Bitbucket API.<br>For Bitbucket Cloud team accounts, it is possible to use the team name as the username, and the API key as the password.</p></div><a name="Gerrit"></a><a name="Gerrit"></a><div class="chapter"><h3 id="CommitStatusPublisher-Gerrit">Gerrit</h3><p id="63a80bd2">Commit Status Publisher in TeamCity 2018.1 supports Gerrit versions 2.6+. For configuring integration with earlier Gerrit versions please contact our <a href="https://confluence.jetbrains.com/display/TW/Feedback" data-external="true" target="_blank" rel="noopener noreferrer">support</a>.</p></div><a name="TFS/VSTS"></a><a name="TFS/VSTS"></a><div class="chapter"><h3 id="CommitStatusPublisher-TFS/VSTS">TFS/VSTS</h3><p id="42b2bb2d">In 2019, Visual Studio Team Services and Team Foundation Server have been renamed to Azure DevOps Services and Azure DevOps Server.</p><p id="9c20b961">Personal Access Tokens can be used for authentication. If a <a href="integrating-teamcity-with-vcs-hosting-services.html#Connecting-to-Azure-DevOps-Services">VSTS connection</a> is configured, the personal access token can be automatically filled from the project connection.</p></div></div><a name="UsingCommitStatusPublisher"></a><a name="Using-Commit-Status-Publisher"></a><div class="chapter"><h2 id="CommitStatusPublisher-UsingCommitStatusPublisher">Using Commit Status Publisher</h2><ol class="list _decimal"><li class="list__item" id="433364ed"><p><a href="adding-build-features.html">Add the build feature</a> to your build configuration.</p></li><li class="list__item" id="95fcd30c"><p>Use the default <b id="e3b109bb">All attached VCS roots</b> option if you want Commit Status Publisher to attempt publishing statuses for commits in all attached VCS roots or select a single repository for publishing build statuses.</p></li><li class="list__item" id="9bd4831e"><p>Select your system as the publisher, and specify its connection details and credentials.</p></li><li class="list__item" id="8ed8f592"><p>Test the connection</p></li><li class="list__item" id="de94f3a0"><p>Save your settings.</p></li></ol></div><a name="Example:ConfiguringPullRequestsStatusPublishingtoGitHub"></a><a name="Example:-Configuring-Pull-Requests-Status-Publishing-to-GitHub"></a><div class="chapter"><h2 id="CommitStatusPublisher-Example:ConfiguringPullRequestsStatusPublishingtoGitHub">Example: Configuring Pull Requests Status Publishing to GitHub</h2><p id="9ad959c6">The example below demonstrates how to configure sending the status of builds with changes included in your pull request from TeamCity to GitHub.</p><ol class="list _decimal"><li class="list__item" id="426c5e5d"><p>Use <a href="pull-requests.html">pull requests build feature</a> to configure pull requests branches. Alternatively you can make the branches available by configuring the <a href="working-with-feature-branches.html">branch specification</a> in your VCS Root while ensuring that it includes pull requests branches (see also related <a href="http://blog.jetbrains.com/teamcity/2013/02/automatically-building-pull-requests-from-github-with-teamcity/" data-external="true" target="_blank" rel="noopener noreferrer">blog post</a>).</p></li><li class="list__item" id="508dee8d"><a href="adding-build-features.html">Add</a> the Commit Status Publisher build feature:<ul class="list _ul"><li class="list__item" id="ec28f1c4"><p>Use the default <b id="cd92f7b0">All attached VCS roots</b> option to publish statuses for commits in all attached VCS roots</p></li><li class="list__item" id="fc3edf0a"><p>Select GitHub as the publisher and specify its connection details and credentials and test the connection:</p></li></ul></li></ol><p id="5fe6fbfd"><figure><img alt="Testing connection to GitHub" title="Testing connection to GitHub" src="/help/img/teamcity/2019.1/CommitStatusPublisher.png" id="30d627ee" width="556" height="674"></figure></p><ol class="list _decimal" start="3"><li class="list__item" id="10add333"><p>Save your settings.</p></li><li class="list__item" id="1bb569ae">Commit changes to your source code and create a pull request in GitHub, then run a build with your changes in TeamCity. The Commit Status Publisher will inform you on the status of the build with your pull request changes:<ul class="list _ul"><li class="list__item" id="adde647f">It will show you whether the check is:<ul class="list _ul"><li class="list__item" id="bdb4ba77"><p>in progress <img alt="progress.png" title="progress.png" src="/help/img/teamcity/2019.1/progress.png" id="373e0637" width="14" height="11" class="inline-icon-14"></p></li><li class="list__item" id="fb361e73"><p>failed <img alt="Failed.png" title="Failed.png" src="/help/img/teamcity/2019.1/Failed.png" id="247bd95f" width="15" height="12" class="inline-icon-15"></p></li><li class="list__item" id="7f16ad31"><p>successful <img alt="Successful.png" title="Successful.png" src="/help/img/teamcity/2019.1/Successful.png" id="15438df6" width="17" height="14" class="inline-icon-17"></p></li></ul></li><li class="list__item" id="02121843"><p>hovering over the commit status will display the build summary</p></li><li class="list__item" id="1a7e0fda"><p>clicking the build status sign or the Details link will open the <a href="working-with-build-results.html">build results</a> page in TeamCity:</p></li></ul></li></ol><p id="cef936ab"><figure><img alt="Pull Requests | Conversation" title="Pull Requests | Conversation" src="/help/img/teamcity/2019.1/InfoonHover.png" id="be180e8f" width="550" height="776"></figure></p><p id="82a13dbb">This information is also available on the Commits tab of your pull request details:</p><p id="e2c5d009"><figure><img alt="Pull Requests | Commits" title="Pull Requests | Commits" src="/help/img/teamcity/2019.1/CommitsTab.png" id="6aa12232" width="600" height="431"></figure></p><p id="1b556b8e">Similarly to the previous page, clicking the build status icon opens the <a href="working-with-build-results.html">build results</a> page in the TeamCity web UI:</p><p id="f26b44d4"><figure><img alt="Build results" title="Build results" src="/help/img/teamcity/2019.1/BuildResults.PNG" id="ae7fe1f4" width="1054" height="531"></figure></p><hr id="f9c47ec1"></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v2/app.js"></script></body></html>