<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v2/analytics.js"></script><title>角色和权限-帮助|团队城市</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v2/app.css"></head><body  data-id="Role and Permission" data-breadcrumbs="teamcity-documentation.md|TeamCity Documentation/concepts.md|Concepts/role-and-permission.md|Role and Permission" data-main-title="Role and Permission" data-edit-url="https://github.com/JetBrains/teamcity-documentation/edit/2019.1/topics/role-and-permission.md"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索TeamCity帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>TeamCity 2019.1帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 id="role-and-permission.md" data-toc="Role and Permission">角色和权限</h1><p id="b77df44b">通过为用户分配不同的<i id="789e0a26">角色</i>来处理用户访问级别，从而授予他们各自的<i id="cd2519b9">权限</i> 。</p><p id="3fa29446"><i id="75d27c59">权限</i>是执行特定操作（例如，运行构建或修改构建配置设置）的<i id="e0bee545">授权</i> 。<br><i id="7ab4f1fe">角色</i>是可以授予一个或所有项目中的用户的一组<i id="0baf7e2b">权限</i> ，从而控制对项目的访问以及Web UI中的各种功能。</p><p id="1981deec">在此页：</p><p id="53185160"></p><ul class="list" data-skip-index="skip"><li class="list__item"><a href="#RoleandPermission-AuthorizationMode">授权方式</a></li><li class="list__item"><a href="#RoleandPermission-ChangingAuthorizationMode">更改授权模式</a></li><li class="list__item"><a href="#RoleandPermission-SimpleAuthorizationMode">简单授权模式</a></li><li class="list__item"><a href="#RoleandPermission-Per-ProjectAuthorizationMode">每个项目的授权模式</a></li><li class="list__item"><a href="#RoleandPermission-Project-levelAgentManagementPermissions">项目级代理管理权限</a></li></ul><p></p><a name="AuthorizationMode"></a><a name="Authorization-Mode"></a><div class="chapter"><h2 id="RoleandPermission-AuthorizationMode">授权方式</h2><p id="db0f5f54">TeamCity授权支持两种模式： <b id="9578c641">简单</b>和<b id="08d3e176">每个项目</b> 。</p><ul class="list _ul"><li class="list__item" id="4a4aaac3"><p>在<b id="0072564a">简单</b>模式下，只有三种类型的授权级别：访客，登录用户和管理员。</p></li><li class="list__item" id="ddffcc87"><p>在<b id="e2b84365">每个项目</b>模式下，您可以在项目或服务器范围内为用户分配角色。角色中的权限集是可编辑的。</p></li></ul><p id="b4835d3c">在项目级别授予的角色中的权限会自动传播到该项目的所有子项目中。<br>“ <b id="43068b01">查看项目”和“所有父项目”</b>权限不仅允许查看项目（及其子项目），还允许查看其父项目。</p></div><a name="ChangingAuthorizationMode"></a><a name="Changing-Authorization-Mode"></a><div class="chapter"><h2 id="RoleandPermission-ChangingAuthorizationMode">更改授权模式</h2><p id="dd55dbbb">除非明确配置，否则在TeamCity Professional中使用简单授权模式，在TeamCity Enterprise中使用每个项目。<br>要更改授权模式，请转到“ <b id="2377585a">管理” |“</b>更改” <b id="2377585a">。身份验证</b>并启用/禁用“ <i id="5d5da2eb">启用每个项目的权限”</i>选项。</p></div><a name="SimpleAuthorizationMode"></a><a name="Simple-Authorization-Mode"></a><div class="chapter"><h2 id="RoleandPermission-SimpleAuthorizationMode">简单授权模式</h2><div class="table-wrapper"><table width="100%" id="1afe44bb"><thead><tr id="2334b258" class="ijRowHead"><th id="16e927a8"><p id="ca755707">角色</p></th><th id="b7b6284f"><p id="0ba34661">描述</p></th></tr></thead><tbody><tr id="a7a9ffa7" class="ijRowOdd"><td id="5d73d466"><p id="28c3346a">管理员</p></td><td id="5ffe3c91"><p id="85ea8473">用户无限制；对应于每个项目授权模式中的<a href="#system-administrator">系统管理员</a>角色。</p></td></tr><tr id="ec7593a4" class="ijRowEven"><td id="059c3c5a"><p id="87e2b2e5">登录用户</p></td><td id="efd5c9f7"><p id="6bb54ded">对应于按项目授权模式为所有项目授予的默认<a href="#project-developer">项目开发者</a>角色。</p></td></tr><tr id="9bc93fc2" class="ijRowOdd"><td id="fc6d1001"><p id="bf6387af">来宾用户</p></td><td id="e4575495"><p id="172cb840">对应于在每个项目授权模式下为所有项目授予的默认<a href="#project-viewer">Project Viewer</a>角色。</p></td></tr></tbody></table></div></div><a name="Per-ProjectAuthorizationMode"></a><a name="Per-Project-Authorization-Mode"></a><div class="chapter"><h2 id="RoleandPermission-Per-ProjectAuthorizationMode">每个项目的授权模式</h2><p id="7e30c1a4">管理员根据每个项目将角色分配给用户：用户在不同的项目中可以具有不同的角色，因此权限基于项目。用户可以在特定项目或所有可用项目中扮演角色，或者根本没有角色。您可以<a href="managing-users-and-user-groups.html">将用户帐户与一组角色相关联</a> 。角色也可以授予用户组。这意味着该角色将自动授予组中包括的所有用户（直接或通过其他组）。</p><p id="8c80a976">您可以在<b id="2e59afbc">管理|管理中</b>添加角色并为其分配权限<b id="2e59afbc">。角色</b> 。点击任意角色下的<b id="71818c7c">添加权限</b>以查看所有可用权限的列表，选择所需的权限，然后点击<b id="139f7627">添加</b> 。要添加多个权限，请在选择它们时按住<b id="2f0db01a">CTRL</b>键。</p><p id="21838db5">默认情况下，TeamCity提供以下每个项目角色：</p><div class="table-wrapper"><table width="100%" id="3ab53018"><thead><tr id="b09196d9" class="ijRowHead"><th id="dfe96e76"><p id="1e90e0bb">角色</p></th><th id="4f7799bb"><p id="1021c811">描述</p></th></tr></thead><tbody><tr id="026d33c7" class="ijRowOdd"><td id="f0054602"><a name="system-administrator"></a><a name="RoleandPermission-system-administrator"></a><p id="c3885d42"><b id="0d2ef043">系统管理员</b></p></td><td id="29e07285"><p id="64a93aec">没有权限限制，并且具有所有<a href="#project-administrator">项目管理员的</a>权限。创建和管理用户帐户，授权构建代理，设置项目和构建配置，编辑TeamCity服务器设置，管理TeamCity许可证，配置服务器数据清理规则，更改VCS根目录等等。</p></td></tr><tr id="602c51c2" class="ijRowEven"><td id="6ff4d8a8"><a name="project-viewer"></a><a name="RoleandPermission-project-viewer"></a><p id="1424d2eb"><b id="6a014c3a">项目查看器</b></p></td><td id="b507f451"><p id="988aff8a">对项目具有只读访问权限，并且只能<i id="c95bf758">查看</i>该项目，其父项目和子项目。没有<a href="build-agents-configuration-and-maintenance.html#Viewing-TeamCity-agents-details">查看代理详细信息的</a>权限。</p></td></tr><tr id="85d5611e" class="ijRowOdd"><td id="5f6d2c45"><a name="project-administrator"></a><a name="RoleandPermission-project-administrator"></a><p id="d76955cc"><b id="2cd29c3e">专案管理员</b></p></td><td id="d5eb5ffd"><p id="36044341">可以自定义项目的常规设置和构建配置的设置，为项目用户分配角色，创建子项目。拥有所有<a href="#project-developer">项目开发人员的</a>权限。</p><p id="ae4ff86c"><b id="b332c814">在TeamCity 10之前</b> ，此角色包括<a href="#agent-manager">代理管理器</a>角色。<br><b id="a6f69386">从TeamCity 10开始</b> ， <a href="#Project-level-Agent-Management-Permissions">项目级代理管理权限</a>取代了继承的代理管理器角色。如果在升级到版本10或更高版本后，旧的设置（在TeamCity 10之前设置的设置）保留在TeamCity安装中，我们建议从项目管理员角色中手动排除代理管理器角色，并配置代理管理权限。</p></td></tr><tr id="15ee170d" class="ijRowEven"><td id="4ead118b"><a name="project-developer"></a><a name="RoleandPermission-project-developer"></a><p id="c4678455"><b id="3ab57fe0">项目开发商</b></p></td><td id="46e263dd"><p id="6171c767">通常将更改提交到项目。可以开始/停止构建，在构建队列中对构建进行重新排序，标记构建源，查看代理详细信息，开始调查失败的构建。</p></td></tr><tr id="c09ac612" class="ijRowOdd"><td id="b113d0a6"><a name="agent-manager"></a><a name="RoleandPermission-agent-manager"></a><p id="2c32fee0"><b id="cb4742ab">代理商经理</b></p></td><td id="6589a9ed"><p id="1f6be1f8">可以自定义和管理<a href="build-agent.html">构建代理</a> ，更改运行配置策略， <a href="build-agents-configuration-and-maintenance.html#Enabling/Disabling-Agents-via-UI">启用/禁用</a>构建代理以及<a href="build-queue.html#Pausing/Resuming-Build-Queue">暂停/恢复构建队列</a> 。</p><p id="178b23e9"><b id="0ad501ac">在TeamCity 10.0之前</b> ，此角色已包含在“ <a href="#project-administrator">项目管理员”</a>角色中。<b id="e775efea">从TeamCity 10开始</b> ， <a href="#Project-level-Agent-Management-Permissions">引入了</a>项目级代理管理权限。</p></td></tr></tbody></table></div><p id="f055a38d">启用每个项目的权限后，服务器管理员可以在TeamCity管理Web UI中使用权限的任意组合来修改角色，删除角色或添加新角色，或者通过修改<code class="code">roles-config.xml</code>文件存储在< <a href="teamcity-data-directory.html">TeamCity数据目录</a> > / config目录中。将角色分配给用户时，Web UI中的“ <i id="4affaaea">查看角色权限”</i>链接会根据其当前配置显示每个角色的权限列表。</p></div><a name="Project-levelAgentManagementPermissions"></a><a name="Project-level-Agent-Management-Permissions"></a><div class="chapter"><h2 id="RoleandPermission-Project-levelAgentManagementPermissions">项目级代理管理权限</h2><p id="1556f999">TeamCity具有以下项目级别的权限，可以在代理上执行任务：</p><ul class="list _ul"><li class="list__item" id="0eba4590"><p>启用/禁用与项目关联的代理</p></li><li class="list__item" id="418b5a70"><p>启动/停止项目的云代理</p></li><li class="list__item" id="ae5484b6"><p>更改项目的代理运行配置策略</p></li><li class="list__item" id="98c7a821"><p>管理项目代理计算机（例如，重新启动，查看代理日志）</p></li><li class="list__item" id="a8b7c536"><p>删除项目代理</p></li><li class="list__item" id="b6b16059"><p>授权项目代理</p></li></ul><aside class="tip sideblock" rel="81a0fba6" id="10837b66" data-title=""><p id="602c0b3b">拥有<i id="2447416c">“授权项目代理”</i>权限以及为代理程序池设置的<a href="agent-pools.html#Managing-Agent-Pools">最大代理程序数</a> ，您可以通过一种方式设置系统，该方法允许项目管理员运行新的代理程序并将其授权/添加到他们的池中，而无需使用全局系统管理员。</p></aside><p id="7557dab2">默认情况下，所有项目级代理管理权限都添加到“ <a href="#project-administrator">项目管理员”</a>角色中。</p><p id="822785b1">用户可以在属于某个<a href="agent-pools.html">池的</a>所有代理上执行由这些权限之一控制的任务，前提是该权限已授予与该池关联的所有项目中的用户。例如，如果在与池相关联的<b id="ce9b1bb5">所有项目</b>中<b id="ce9b1bb5">均</b>授予了许可，则在某些项目<i id="8a56e8ae">中具有“启用/禁用与项目关联的代理”</i>权限的用户可以启用或禁用属于相关项目池的代理。</p><hr id="af7355bd"><p id="850337bc"><b id="04031b18">也可以看看：</b></p><p id="d0ee21b1"><b id="5ac7edf7">概念</b> ： <a href="user-account.html">用户帐户</a><br><b id="a18d0dd6">管理员指南</b> ： <a href="enabling-guest-login.html">启用访客登录</a> | <a href="managing-users-and-user-groups.html">管理用户和用户组</a></p><hr id="3403e5ab"></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v2/app.js"></script></body></html>