<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v2/analytics.js"></script><title>Known Issues - Help | TeamCity</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v2/app.css"></head><body data-id="Known Issues" data-breadcrumbs="teamcity-documentation.md|TeamCity Documentation/troubleshooting.md|Troubleshooting/known-issues.md|Known Issues" data-main-title="Known Issues" data-edit-url="https://github.com/JetBrains/teamcity-documentation/edit/2019.1/topics/known-issues.md"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search TeamCity Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>TeamCity 2019.1 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Known Issues" id="known-issues.md">Known Issues</h1><p id="2f04bf5b">This page contains a list of workarounds for known issues in TeamCity.</p><p id="99b0d5be"><ul class="list" data-skip-index="skip"><li class="list__item"><a href="#KnownIssues-AgentrunningasWindowsServiceLimitations">Agent running as Windows Service Limitations</a><ul class="list _bullet"><li class="list__item"><a href="#KnownIssues-Security-relatedissues">Security-related issues</a></li><li class="list__item"><a href="#KnownIssues-Windowsservicelimitations">Windows service limitations</a><ul class="list _bullet"><li class="list__item"><a href="#KnownIssues-IssueswithautomatedGUIandbrowsertesting">Issues with automated GUI and browser testing</a></li><li class="list__item"><a href="#KnownIssues-RunningautomatedGUItestsandusingRDP">Running automated GUI tests and using RDP</a></li><li class="list__item"><a href="#KnownIssues-Issueswith.NETSelenium">Issues with .NET Selenium</a></li></ul></li><li class="list__item"><a href="#KnownIssues-Earlystartoftheservicebeforeotherresourcesareinitialized">Early start of the service before other resources are initialized</a></li></ul></li><li class="list__item"><a href="#KnownIssues-java.lang.OutOfMemoryError:unabletocreatenewnativethreaderror">java.lang.OutOfMemoryError: unable to create new native thread error</a></li><li class="list__item"><a href="#KnownIssues-ClearingBrowserCahes">Clearing Browser Caсhes</a></li><li class="list__item"><a href="#KnownIssues-LoggingwithLog4jinYourTests">Logging with Log4j in Your Tests</a></li><li class="list__item"><a href="#KnownIssues-AgentServiceCanExitonUserLogoutunderWindowsx64">Agent Service Can Exit on User Logout under Windows x64</a></li><li class="list__item"><a href="#KnownIssues-FailedBuildCanbeReportedasaSuccessfulOneWithMaven2.0.7">Failed Build Can be Reported as a Successful One With Maven 2.0.7</a></li><li class="list__item"><a href="#KnownIssues-ConflictingSoftware">Conflicting Software</a></li><li class="list__item"><a href="#KnownIssues-Subversionissues">Subversion issues</a><ul class="list _bullet"><li class="list__item"><a href="#KnownIssues-svn:E175002:Receivedfatalalert:badrecordmac">svn: E175002: Received fatal alert: bad_record_mac</a></li><li class="list__item"><a href="#KnownIssues-Subversion-relatedJVMCrashes">Subversion-related JVM Crashes</a></li></ul></li><li class="list__item"><a href="#KnownIssues-NUnit2.4.6Performance">NUnit 2.4.6 Performance</a></li><li class="list__item"><a href="#KnownIssues-StarTeamPerformance">StarTeam Performance</a></li><li class="list__item"><a href="#KnownIssues-Perforce2009.2PerformanceonWindows">Perforce 2009.2 Performance on Windows</a></li><li class="list__item"><a href="#KnownIssues-Wrongtimesforbuildscheduledtriggering(Timezoneissues)">Wrong times for build scheduled triggering (Timezone issues)</a></li><li class="list__item"><a href="#KnownIssues-UpgradingIntelliJIDEAMayAffectActivePre-TestedCommits">Upgrading IntelliJ IDEA May Affect Active Pre-Tested Commits</a></li><li class="list__item"><a href="#KnownIssues-OtherJavaApplicationsRunningontheSameServer">Other Java Applications Running on the Same Server</a></li><li class="list__item"><a href="#KnownIssues-TheServerDoesNotStartClaimingtheDatabaseisinUse">The Server Does Not Start Claiming the Database is in Use</a></li><li class="list__item"><a href="#KnownIssues-SlowdownloadfromTeamCityserver">Slow download from TeamCity server</a></li><li class="list__item"><a href="#KnownIssues-FailuretopublishartifactstoserverbehindIISreverseproxy">Failure to publish artifacts to server behind IIS reverse proxy</a></li><li class="list__item"><a href="#KnownIssues-PrereleasepackagesarenotvisibleintheTeamCityNuGetfeed">Prerelease packages are not visible in the TeamCity NuGet feed</a></li><li class="list__item"><a href="#KnownIssues-PackagesindexingisslowinTeamCityNuGetfeed">Packages indexing is slow in TeamCity NuGet feed</a></li><li class="list__item"><a href="#KnownIssues-SSLproblemswhenconnectingtoHTTPSfromTeamCity(handshakealert:unrecognizedname)">SSL problems when connecting to HTTPS from TeamCity (handshake alert: unrecognized_name)</a></li><li class="list__item"><a href="#KnownIssues-SSLproblemsconnectingMSSQLServerandTeamCity">SSL problems connecting MS SQL Server and TeamCity</a></li><li class="list__item"><a href="#KnownIssues-DistortedConfigurationWindowDuringAgentReinstallation">Distorted Configuration Window During Agent Reinstallation</a></li><li class="list__item"><a href="#KnownIssues-WindowsDockerContainers">Windows Docker Containers</a><ul class="list _bullet"><li class="list__item"><a href="#KnownIssues-InformationaboutinstalledDockerserverOSonWindowsmissingonAgent">Information about installed Docker server OS on Windows missing on Agent</a></li><li class="list__item"><a href="#KnownIssues-LinuxDockerContainersunderWindows">Linux Docker Containers under Windows</a></li><li class="list__item"><a href="#KnownIssues-ProblemswithalocaltimeinWindowscontainers">Problems with a local time in Windows containers</a></li><li class="list__item"><a href="#KnownIssues-&#34;Accessisdenied&#34;or&#34;Accesstothepathisdenied&#34;problemoncontainerstart">"Access is denied" or "Access to the path is denied" problem on container start</a></li></ul></li><li class="list__item"><a href="#KnownIssues-dotCoverdoesnotsupportWindowsNanoServer">dotCover does not support Windows Nano Server</a></li><li class="list__item"><a href="#KnownIssues-Xcode10isunabletocleanartifactsincustomoutputdirectory">Xcode 10 is unable to clean artifacts in custom output directory</a></li><li class="list__item"><a href="#KnownIssues-IssuesperTeamCityversions">Issues per TeamCity versions</a><ul class="list _bullet"><li class="list__item"><a href="#KnownIssues-2019.1.4KnownIssues">2019.1.4 Known Issues</a><ul class="list _bullet"><li class="list__item"><a href="#KnownIssues-UnavailableDefaultCredentialProviderChainoptionforAmazonECR">Unavailable Default Credential Provider Chain option for Amazon ECR</a></li><li class="list__item"><a href="#KnownIssues-MissingpackagesinNuGetfeed">Missing packages in NuGet feed</a></li></ul></li></ul></li></ul></p><a name="AgentrunningasWindowsServiceLimitations"></a><a name="Agent-running-as-Windows-Service-Limitations"></a><div class="chapter"><h2 id="KnownIssues-AgentrunningasWindowsServiceLimitations">Agent running as Windows Service Limitations</h2><p id="67cb2dff">When a TeamCity build agent is installed as a Windows service, there may appear various "Permission denied" or "Access denied" errors during the build process, see details below.</p><a name="Security-relatedissues"></a><a name="Security-related-issues"></a><div class="chapter"><h3 id="KnownIssues-Security-relatedissues">Security-related issues</h3><p id="e6a4f566">The user account used by the service is required to have sufficient permissions to perform the build and <a href="setting-up-and-running-additional-build-agents.html">manage the service</a>. If you run the TeamCity agent service under the SYSTEM account, do the following:</p><ol class="list _decimal"><li class="list__item" id="f9057e0c"><p><a href="setting-up-and-running-additional-build-agents.html#Changing-Communication-Protocol">Change</a> SYSTEM for a usual user account with necessary permissions granted.</p></li><li class="list__item" id="35a202c3"><p>Restart the service.</p></li></ol></div><a name="Windowsservicelimitations"></a><a name="Windows-service-limitations"></a><div class="chapter"><h3 id="KnownIssues-Windowsservicelimitations">Windows service limitations</h3><p id="e14bfc4d">As a Windows service, the TeamCity agent and the build processes are not able to access network shares and mapped drives.</p><p id="f35bfd91">To overcome these restrictions, run TeamCity agent <a href="setting-up-and-running-additional-build-agents.html#Starting-the-Build-Agent">via console</a>.</p><a name="IssueswithautomatedGUIandbrowsertesting"></a><a name="Issues-with-automated-GUI-and-browser-testing"></a><div class="chapter"><h4 id="KnownIssues-IssueswithautomatedGUIandbrowsertesting">Issues with automated GUI and browser testing</h4><p id="e6375b9f">These problems include errors running tests headless, issues with the interaction of the TeamCity agent with the Windows desktop, and so on.</p><aside class="tip sideblock" data-title="" rel="e6375b9f" id="6d4dba20"><p id="38e156d2">Note that there is a Windows limitation to accessing a remote computer via mstsc: the desktop of the remote machine will be locked on RDP disconnect, which will cause issues running tests. The VNC protocol allows you to remote control another machine without locking it.To run GUI tests and be able to use RDP, see the <a href="#Running-automated-GUI-tests-and-using-RDP">workaround</a> below.</p></aside><p id="c57f2926">To resolve / avoid these:</p><ol class="list _decimal"><li class="list__item" id="935b5ebf"><p>Run TeamCity agent <a href="setting-up-and-running-additional-build-agents.html#Starting-the-Build-Agent">via console</a>.</p></li><li class="list__item" id="4abd63e4"><p>Configure the build agent machine not to launch a screensaver locking the desktop.</p></li><li class="list__item" id="ffadf308"><p>Configure the TeamCity agent to start <a href="setting-up-and-running-additional-build-agents.html#Starting-the-Build-Agent">automatically</a> (for example, configure an automatic user logon on Windows start and then configure the TeamCity agent start (via agent.bat start) on the user logon).</p></li></ol><p id="0741060c">For graphical tests the build agent cannot be started as a service and it is recommended to configure the build agent launch with a 1 minute delay after the user auto-logon, e.g. using the <code class="code">bin\agent.bat start</code> command in the task scheduler and configuring the delay there.</p></div><a name="RunningautomatedGUItestsandusingRDP"></a><a name="Running-automated-GUI-tests-and-using-RDP"></a><div class="chapter"><h4 id="KnownIssues-RunningautomatedGUItestsandusingRDP">Running automated GUI tests and using RDP</h4><p id="300ea780">RDP uses its own video driver overriding the one from the machine's video card for the session. Redirecting the session to console will unload the Windows graphical drivers. This can be done  by adding the following step to your build configuration prior to your tests (the example below is for PowerShell, but other languages (DOS, Python) can be used too):</p><div class="code-block" data-lang="bash">$sessionInfo=((quser $env:USERNAME | select -Skip 1) -split '\s+')
if ($sessionInfo[1] -like "rdp-tcp*") { tscon $sessionInfo[2] /dest:console }

</div><p id="320dc0d9">where "<code class="code">quser [current username]</code>" lists all the connections to that machine for the user, either console or graphical.<br>The one listed as <code class="code">rdp-tcp#*</code> is the remote desktop connection which can be redirected to the console using "<code class="code">tscon [connection id] /dest:console</code>".</p><aside class="note " data-title="" rel="320dc0d9" id="779f4d82"><p id="ace8f34f">An unsupervised computer with a running desktop permanently logged into a user session might be considered a network security threat, as access to it can be difficult to trace. Therefore, it is recommended to run automated GUI and browser tests on a virtual machine isolated from sensitive corporate network resources, e.g. on a machine not included in a Windows domain.</p></aside></div><a name="Issueswith.NETSelenium"></a><a name="Issues-with-.NET-Selenium"></a><div class="chapter"><h4 id="KnownIssues-Issueswith.NETSelenium">Issues with .NET Selenium</h4><p id="31bd7ad9">When a TeamCity agent is started as a Windows service and automated tests for .NET applications use Selenium WebDriver, the tests may fail due to browser drivers limitations. As a solution, consider starting the agent <a href="setting-up-and-running-additional-build-agents.html#Manual-Start">manually</a>.</p></div></div><a name="Earlystartoftheservicebeforeotherresourcesareinitialized"></a><a name="Early-start-of-the-service-before-other-resources-are-initialized"></a><div class="chapter"><h3 id="KnownIssues-Earlystartoftheservicebeforeotherresourcesareinitialized">Early start of the service before other resources are initialized</h3><p id="ed86f2e2">To handle this, consider using the <b id="71ed23ca">Automatic (Delayed Start)</b> option of the service settings or configure <a href="http://youtrack.jetbrains.com/issue/TW-32987#comment=27-608269" data-external="true" target="_blank" rel="noopener noreferrer">service dependencies</a>.</p><p id="7657dbb7">For more investigation steps, see the <a href="common-problems.html#Build-works-locally-but-fails-or-misbehaves-in-TeamCity">Common Problems</a> page.</p></div></div><a name="java.lang.OutOfMemoryError:unabletocreatenewnativethreaderror"></a><a name="java.lang.OutOfMemoryError:-unable-to-create-new-native-thread-error"></a><div class="chapter"><h2 id="KnownIssues-java.lang.OutOfMemoryError:unabletocreatenewnativethreaderror">java.lang.OutOfMemoryError: unable to create new native thread error</h2><p id="1393be29">If your TeamCity server is running on SUSE® Linux Enterprise (or using systemd Daemon), the <b id="b43a4bc8">java.lang.OutOfMemoryError: unable to create new native thread error</b> may be caused by the <a href="https://www.kernel.org/doc/Documentation/cgroup-v1/pids.txt" data-external="true" target="_blank" rel="noopener noreferrer">cgroup process number controller</a> feature limiting the number of processes and the amount of threads in a cgroup to 512 by default.</p><p id="ea419c7c">Increasing the limit (e.g. to 4096) on the TeamCity server should solve the issue.</p><p id="efd0595e">See also this <a href="https://www.elastic.co/blog/we-are-out-of-memory-systemd-process-limits" data-external="true" target="_blank" rel="noopener noreferrer">external posting</a>.</p></div><a name="ClearingBrowserCahes"></a><a name="Clearing-Browser-Ca-hes"></a><div class="chapter"><h2 id="KnownIssues-ClearingBrowserCahes">Clearing Browser Caсhes</h2><p id="2cd37b2f">There is a web UI-related issue which some our users have encountered (and it cannot be reproduced on other computers) which is tied to the cached versions of content. If you have come across such problem, make sure your browser does not use cached versions of content by <a href="http://en.wikipedia.org/wiki/Wikipedia:Bypass_your_cache" data-external="true" target="_blank" rel="noopener noreferrer">clearing browser caches</a>.</p></div><a name="LoggingwithLog4jinYourTests"></a><a name="Logging-with-Log4j-in-Your-Tests"></a><div class="chapter"><h2 id="KnownIssues-LoggingwithLog4jinYourTests">Logging with Log4j in Your Tests</h2><p id="d71997d7">If you use Log4j logging in your tests, in some cases you may miss the Log4j output from your logs. In such cases do the following:</p><ul class="list _ul"><li class="list__item" id="8a9052cc"><p id="a74f2ab5">Use Log4j 1.2.12</p></li><li class="list__item" id="e6965c2c"><p id="2b66340e">For Log4j 1.2.13+, add the <code class="code">"Follow=true"</code> parameter for the console appender used in Log4j configuration:</p><div class="code-block" data-lang="bash">&lt;appender name="CONSOLE" class="org.apache.log4j.ConsoleAppender"&gt;
  &lt;param name="Follow" value="true"/&gt;
&lt;/appender&gt;
</div></li></ul></div><a name="AgentServiceCanExitonUserLogoutunderWindowsx64"></a><a name="Agent-Service-Can-Exit-on-User-Logout-under-Windows-x64"></a><div class="chapter"><h2 id="KnownIssues-AgentServiceCanExitonUserLogoutunderWindowsx64">Agent Service Can Exit on User Logout under Windows x64</h2><p id="8c7b172f">The used version of <a href="http://wrapper.tanukisoftware.org/" data-external="true" target="_blank" rel="noopener noreferrer">Java Service Wrapper</a> does not fully support Windows 64 and this causes agent launcher process to be killed on user logout. The agent itself will be function until the next restart (server upgrade or agent properties change).</p></div><a name="FailedBuildCanbeReportedasaSuccessfulOneWithMaven2.0.7"></a><a name="Failed-Build-Can-be-Reported-as-a-Successful-One-With-Maven-2.0.7"></a><div class="chapter"><h2 id="KnownIssues-FailedBuildCanbeReportedasaSuccessfulOneWithMaven2.0.7">Failed Build Can be Reported as a Successful One With Maven 2.0.7</h2><p id="ad021db3">This is a known bug in this version of Maven. Consider using any later version.<br>In case it's not possible, you can patch <code class="code">mvn.bat</code> yourself by replacing the fragment at line 148 of <code class="code">mvn.bat</code>:</p><div class="code-block" data-lang="bash">:error
set ERROR_CODE=1

</div><p id="ac9c7348">with the following one:</p><div class="code-block" data-lang="bash">:error
if "%OS%"=="Windows_NT" @endlocal
set ERROR_CODE=1

</div></div><a name="ConflictingSoftware"></a><a name="Conflicting-Software"></a><div class="chapter"><h2 id="KnownIssues-ConflictingSoftware">Conflicting Software</h2><p id="8e8a103e">Most common indicators of conflicting software are errors like "Access is denied", "Permission denied" or java.io.FileNotFoundException mentioning the file that is present and is writable by the user the agent/build runs under. Also, certain software running in background (like antiviruses) can significantly slow down build agent operations like sources checkout, artifact publishing or even build running.</p><p id="9a3bd1cd">Certain antivirus software like Kaspersky Internet Security can result in Java process crashes or other misbehavior like inability to access files. For example, see <a href="http://jetbrains.net/tracker/issue/TW-7138" data-external="true" target="_blank" rel="noopener noreferrer">the issue</a>.</p><p id="8cfdc21f">ESET antivirus can also slow down Ant/IntelliJ IDEA project builds a great deal (slowing down TCP connections to localhost on agent).</p><p id="022673c4">If you run antivirus on the TeamCity server or agent machines and get disk access errors or experience degraded performance, disable or better completely uninstall the antivirus software before investigating the issue and reporting the issue to JetBrains.</p><p id="64e51e58">It is recommended to exclude entire TeamCity server home and <a href="teamcity-data-directory.html">TeamCity Data Directory</a> from the background checks and perform periodical checks there in the well-known maintenance window so that those do not affect server performance much. On TeamCity agent, it is recommended to exclude TeamCity agent home from the background checks.</p><p id="9f8063f1">There might be problems with the Windows Indexing Service, so disable various indexing services. See <a href="http://youtrack.jetbrains.net/issue/TW-10033#comment=27-82484" data-external="true" target="_blank" rel="noopener noreferrer">the related issue</a> for more details. Windows System Restore Feature might also need disabling.</p><p id="40891284">Do not install software with background indexing like WinCVS, TortoiseCVS, TortoiseSVN, and other Tortoise* products. This applies to server and also to agents if you use agent-side checkout.</p><p id="44d93128">Skype software is known to:</p><ul class="list _ul"><li class="list__item" id="4b5885dd"><p>use port 80 on the system so you might not be able to utilize a TeamCity server on the default port 80.</p></li><li class="list__item" id="78349f62"><p>corrupt layout of pages displayed in Internet Explorer. Internet Explorer Skype plugin is to blame. (<a href="http://youtrack.jetbrains.net/issue/TW-13052" data-external="true" target="_blank" rel="noopener noreferrer">TW-13052</a>).</p></li></ul></div><a name="Subversionissues"></a><a name="Subversion-issues"></a><div class="chapter"><h2 id="KnownIssues-Subversionissues">Subversion issues</h2><a name="svn:E175002:Receivedfatalalert:badrecordmac"></a><a name="svn:-E175002:-Received-fatal-alert:-bad-record-mac"></a><div class="chapter"><h3 id="KnownIssues-svn:E175002:Receivedfatalalert:badrecordmac">svn: E175002: Received fatal alert: bad_record_mac</h3><p id="90a2beca">Add a system property <code class="code">-Dsvnkit.http.sslProtocols=SSLv3,TLS</code> on the build server (see <a href="configuring-teamcity-server-startup-properties.html">Configuring TeamCity Server Startup Properties</a>).<br>If you use checkout on agent, add this property <a href="configuring-build-agent-startup-properties.html">on build agent</a> as well.</p></div><a name="Subversion-relatedJVMCrashes"></a><a name="Subversion-related-JVM-Crashes"></a><div class="chapter"><h3 id="KnownIssues-Subversion-relatedJVMCrashes">Subversion-related JVM Crashes</h3><p id="a5ba4685">If JVM crashes while executing SVN-related code (e.g. under org.tmatesoft.svn package), you can try to disable it using one of the options:</p><ul class="list _ul"><li class="list__item" id="69a27323"><p>Passing <code class="code">-Dsvnkit.useJNA=false</code> JVM option to the crashing process (server or agent)</p></li><li class="list__item" id="f8e74046"><p>Making NTLM support less prioritative by passing the <code class="code">-Dsvnkit.http.methods=Basic,Digest,NTLM</code> JVM option.<br>Anyway, upgrading the JVM used to the <a href="http://java.sun.com/javase/downloads" data-external="true" target="_blank" rel="noopener noreferrer">latest available version</a> is recommended.</p></li></ul></div></div><a name="NUnit2.4.6Performance"></a><a name="NUnit-2.4.6-Performance"></a><div class="chapter"><h2 id="KnownIssues-NUnit2.4.6Performance">NUnit 2.4.6 Performance</h2><p id="9ad3dd11">Due to an issue in NUnit 2.4.6, its performance may be slower than NUnit 2.4.1. For additional information, refer to the corresponding issue in our issue tracker: <a href="http://www.jetbrains.net/tracker/issue/TW-4709" data-external="true" target="_blank" rel="noopener noreferrer">TW-4709</a></p></div><a name="StarTeamPerformance"></a><a name="StarTeam-Performance"></a><div class="chapter"><h2 id="KnownIssues-StarTeamPerformance">StarTeam Performance</h2><p id="4600ee14">Using StarTeam SDK 9.0 instead of StarTeam SDK 9.3 on the TeamCity server can significantly improve VCS performance when there is a slow connection between TeamCity and StarTeam servers.</p></div><a name="Perforce2009.2PerformanceonWindows"></a><a name="Perforce-2009.2-Performance-on-Windows"></a><div class="chapter"><h2 id="KnownIssues-Perforce2009.2PerformanceonWindows">Perforce 2009.2 Performance on Windows</h2><p id="59dff911">If you run Perforce 2009.2 on Windows you may experience significant slow down. This is an issue with P4 server running on Windows. Refer to corresponding <a href="http://kb.perforce.com/article/1175/20092-server-performance-on-windows" data-external="true" target="_blank" rel="noopener noreferrer">section</a> in Perforce documentation.</p></div><a name="Wrongtimesforbuildscheduledtriggering(Timezoneissues)"></a><a name="Wrong-times-for-build-scheduled-triggering-(Timezone-issues)"></a><div class="chapter"><h2 id="KnownIssues-Wrongtimesforbuildscheduledtriggering(Timezoneissues)">Wrong times for build scheduled triggering (Timezone issues)</h2><p id="753ec998">Make sure you use the latest update for Java 8 installation available for your platform (e.g. OpenJDK 8 by <a href="https://adoptopenjdk.net/" data-external="true" target="_blank" rel="noopener noreferrer">AdoptOpenJDK</a>).</p></div><a name="UpgradingIntelliJIDEAMayAffectActivePre-TestedCommits"></a><a name="Upgrading-IntelliJ-IDEA-May-Affect-Active-Pre-Tested-Commits"></a><div class="chapter"><h2 id="KnownIssues-UpgradingIntelliJIDEAMayAffectActivePre-TestedCommits">Upgrading IntelliJ IDEA May Affect Active Pre-Tested Commits</h2><p id="b17a65f4">Before you upgrade to IntelliJ IDEA X (or other IntelliJ X platform products), make sure you do not have active pre-tested commits, otherwise they will not be able to be committed after upgrade. This is only relevant if you use directory-based IDEA project (project files are stored under <code class="code">.idea</code> directory).</p></div><a name="OtherJavaApplicationsRunningontheSameServer"></a><a name="Other-Java-Applications-Running-on-the-Same-Server"></a><div class="chapter"><h2 id="KnownIssues-OtherJavaApplicationsRunningontheSameServer">Other Java Applications Running on the Same Server</h2><p id="e2c3c964">If other web applications are available via the same hostname, a session cookie conflict can occur. This usually is visible via random user logouts or losing session-level data. (e.g. <a href="http://youtrack.jetbrains.net/issue/TW-12654" data-external="true" target="_blank" rel="noopener noreferrer">TW-12654</a>). To resolve this, you can use different host names when accessing the applications.</p></div><a name="TheServerDoesNotStartClaimingtheDatabaseisinUse"></a><a name="The-Server-Does-Not-Start-Claiming-the-Database-is-in-Use"></a><div class="chapter"><h2 id="KnownIssues-TheServerDoesNotStartClaimingtheDatabaseisinUse">The Server Does Not Start Claiming the Database is in Use</h2><p id="2648f95e">Only a single TeamCity server can work with one database, which is checked on the TeamCity server start.</p><p id="c9351e39">"<code class="code">The Database is in Use</code>" error on the start-up is reported in either of the following cases:</p><ul class="list _ul"><li class="list__item" id="496b23d2"><p>An attempt to start more than one TeamCity server connected to the same database</p></li><li class="list__item" id="b92f63f2"><p>A second TeamCity instance detected</p></li><li class="list__item" id="b01b58bb"><p>The internal HSQL database is being used by another application</p></li></ul><p id="719af52e">The error is most probably caused by the fact that there is another running TeamCity installation which is connected to the same database. Сheck that the <a href="setting-up-an-external-database.html">database properties</a> are correct and there is no other TeamCity server using the same database.</p><p id="fadd89b5"><b id="51f5d8e9">In TeamCity 8.0 and earlier</b>, if all the settings are correct, the error can occur when the TeamCity server or the database server has been shut down incorrectly. The resolution depends on the database type:</p><ul class="list _ul"><li class="list__item" id="39fe447f"><p><b id="033c5ffd">MySQL</b>: restart the MySQL server and then start TeamCity again.</p></li><li class="list__item" id="06297add"><p><b id="577c437e">PostgreSQL</b>, <b id="7ca05777">Oracle</b>, <b id="99a4e0d2">MS SQL</b>: kill the connections from the incorrectly shut down TeamCity, and then start TeamCity again.</p></li><li class="list__item" id="356d7025"><p>Internal database (<b id="dff161ec">HSQL</b>): remove the <code class="code">buildserver.lck</code> file from the  &lt;<a href="teamcity-home-directory.html">TeamCity Home</a>&gt;\system directory, and then start TeamCity again.</p></li></ul></div><a name="SlowdownloadfromTeamCityserver"></a><a name="Slow-download-from-TeamCity-server"></a><div class="chapter"><h2 id="KnownIssues-SlowdownloadfromTeamCityserver">Slow download from TeamCity server</h2><p id="fa5b4f67">If you experience slow speed when downloading artifacts from TeamCity, try checking the speed on the server machine, downloading from localhost.If the speed is OK for the localhost, the issue can be in the network configuration or OS/hardware settings when combined with TeamCity (Tomcat) settings.</p><p id="169b4814">Make sure &lt;<a href="teamcity-home-directory.html">TeamCity Home</a>&gt;\conf\server.xml file corresponds to the file included in TeamCity distribution (can be checked in .tar.gz distribution).If you have the following "Connector" node (ports numbers can be different):</p><div class="code-block" data-lang="bash">&lt;Connector port="8111" protocol="HTTP/1.1"
               connectionTimeout="60000"
               redirectPort="8543"
               useBodyEncodingForURI="true"
    /&gt;

</div><p id="fc77c721">change it to:</p><div class="code-block" data-lang="bash">&lt;Connector port="8111" protocol="org.apache.coyote.http11.Http11NioProtocol"
                connectionTimeout="60000"
                redirectPort="8543"
                useBodyEncodingForURI="true"
                socket.txBufSize="64000"
                socket.rxBufSize="64000"
                tcpNoDelay="1"
                                /&gt;

</div><p id="5df16ed8">and restart TeamCity server.</p><p id="f45816f9">If this does not help with the download speed, to investigate the case, you might need to find an administrator with appropriate network-related issues investigation skills to look into the case.</p></div><a name="FailuretopublishartifactstoserverbehindIISreverseproxy"></a><a name="Failure-to-publish-artifacts-to-server-behind-IIS-reverse-proxy"></a><div class="chapter"><h2 id="KnownIssues-FailuretopublishartifactstoserverbehindIISreverseproxy">Failure to publish artifacts to server behind IIS reverse proxy</h2><p id="7de0e325">This problem is only relevant to configurations that involve an IIS reverse proxy between the build server and agents. Sometimes a build agent can be found in infinite loop trying to publish build artifacts to the server. The build log looks like this:</p><div class="code-block" data-lang="bash">[11:15:05]Publishing artifacts
[11:15:05][Publishing artifacts] Collecting files to publish: [toZip/** =&gt; artifact.zip]
[11:15:06][Publishing artifacts] Creating archive artifact.zip (9s)
[11:15:06][Creating archive artifact.zip] Creating C:\BuildAgent\temp\buildTmp\ZipPreprocessor2847146024236637664\artifact.zip
[11:15:15][Creating archive artifact.zip] Archive was created, file size 32142324 bytes
[11:15:15][Publishing artifacts] Sending toZip/**
[11:15:25][Publishing artifacts] Sending toZip/**
[11:15:39][Publishing artifacts] Sending toZip/**
[11:15:48][Publishing artifacts] Sending toZip/**
[11:16:01][Publishing artifacts] Sending toZip/**
[11:16:16][Publishing artifacts] Sending toZip/**

</div><p id="301a4249">meanwhile teamcity-agent.log is filled with 404 responses from IIS:</p><div class="code-block" data-lang="bash">[2012-08-01 12:04:55,514]   WARN -    jetbrains.buildServer.AGENT - &lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;
&lt;head&gt;
&lt;meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"/&gt;
&lt;title&gt;404 - File or directory not found.&lt;/title&gt;
&lt;style type="text/css"&gt;
&lt;!--
body{margin:0;font-size:.7em;font-family:Verdana, Arial, Helvetica, sans-serif;background:#EEEEEE;}
fieldset{padding:0 15px 10px 15px;}

</div><p id="e02af0ba">The most common cause for this is <code class="code">maxAllowedContentLength</code> setting (in IIS) is either</p><ul class="list _ul"><li class="list__item" id="7c4a4129"><p>set to too small value, or</p></li><li class="list__item" id="728ba185"><p>left unconfigured and so defaults to 30000000 bytes (&lt;30 Mb)</p></li></ul><p id="42409200">So any artifact larger than <code class="code">maxAllowedContentLength</code> is discarded by IISCheck the settings value and try to rerun your build</p></div><a name="PrereleasepackagesarenotvisibleintheTeamCityNuGetfeed"></a><a name="Prerelease-packages-are-not-visible-in-the-TeamCity-NuGet-feed"></a><div class="chapter"><h2 id="KnownIssues-PrereleasepackagesarenotvisibleintheTeamCityNuGetfeed">Prerelease packages are not visible in the TeamCity NuGet feed</h2><p id="08510b51"><b id="e83a2fcf">Problem</b>: Prerelease packages are not visible in the TeamCity NuGet feed.</p><p id="9ddffd67"><b id="5aadb1ae">Cause</b>: NuGet clients <b id="8efd206b">prior to version 3</b> fail to list prerelease packages if the package version violates <a href="http://docs.nuget.org/create/versioning#user-content-prerelease-versions" data-external="true" target="_blank" rel="noopener noreferrer">the required format</a>.</p><p id="4208bf1e"><b id="4a176904">Solution</b>: Delete build artifacts whose versions violate  <a href="http://docs.nuget.org/create/versioning#user-content-prerelease-versions" data-external="true" target="_blank" rel="noopener noreferrer">the required format</a>.</p></div><a name="PackagesindexingisslowinTeamCityNuGetfeed"></a><a name="Packages-indexing-is-slow-in-TeamCity-NuGet-feed"></a><div class="chapter"><h2 id="KnownIssues-PackagesindexingisslowinTeamCityNuGetfeed">Packages indexing is slow in TeamCity NuGet feed</h2><p id="44b09b66"><b id="f60a547c">Problem</b>: After TeamCity server host machine move or upgrade to the TeamCity 2017.1 build metadata can be reset.</p><p id="1dd7129f"><b id="6244c0d2">Cause</b>: The TeamCity NuGet feed relies on build metadata, and packages re-indexing can take a lot of time depending on the number of packages and the idle time of the TeamCity server.</p><p id="a940f986"><b id="d9779d57">Solution</b>: To speed up build metadata re-indexing, specify the following <a href="configuring-teamcity-server-startup-properties.html">internal properties</a>:</p><div class="code-block" data-lang="bash">teamcity.buildIndexer.indexPackSize=1000
teamcity.buildIndexer.packSleepDurationMs=10

</div><p id="9b0acf9c">To check the metadata indexing progress, look for lines similar to the ones below in the <a href="teamcity-server-logs.html">teamcity-server.log</a> file:</p><div class="code-block" data-lang="bash">INFO - .index.BuildIndexer (metadata) - Enqueued next 100 builds for indexing, builds left: 7064, last build id: 8142

</div><p id="c8bc509b">After re-indexing is complete, remove these internal properties.</p></div><a name="SSLproblemswhenconnectingtoHTTPSfromTeamCity(handshakealert:unrecognizedname)"></a><a name="SSL-problems-when-connecting-to-HTTPS-from-TeamCity-(handshake-alert:-unrecognized-name)"></a><div class="chapter"><h2 id="KnownIssues-SSLproblemswhenconnectingtoHTTPSfromTeamCity(handshakealert:unrecognizedname)">SSL problems when connecting to HTTPS from TeamCity (handshake alert: unrecognized_name)</h2><p id="85122973">This problem may happen when changing JVM from 1.6 to 1.7 and connecting some incorrectly configured HTTPS servers.The problem and workaround for it are described <a href="http://youtrack.jetbrains.com/issue/TW-30210" data-external="true" target="_blank" rel="noopener noreferrer">in this issue</a>.</p></div><a name="SSLproblemsconnectingMSSQLServerandTeamCity"></a><a name="SSL-problems-connecting-MS-SQL-Server-and-TeamCity"></a><div class="chapter"><h2 id="KnownIssues-SSLproblemsconnectingMSSQLServerandTeamCity">SSL problems connecting MS SQL Server and TeamCity</h2><p id="b835dd23">Since MS SQL Server always establishes an SSL connection between the jdbc client (the TeamCity application) and the server, connection problems may occur (SQL exception: Connection reset).</p><p id="1e539140"><b id="e57e83ad">Affected  MS SQL versions</b></p><p id="3b51cc35">Any version <i id="3c6d4a49">prior to the ones listed below</i>:</p><ul class="list _ul"><li class="list__item" id="a1608cd4"><p>SQL Server 2012 Production version and later</p></li><li class="list__item" id="dbad8db0"><p>SQL Server 2008 Service Pack 3 Cumulative Update 4</p></li><li class="list__item" id="0644c4f7"><p>SQL Server 2008R2 Service Pack 1 Cumulative Update 6</p></li><li class="list__item" id="24aa56d8"><p>SQL Server 2008R2 Service Pack 2</p></li></ul><p id="b14df188"><b id="e0535c98">Cause</b>: The problem is caused by the Java 1.6 update addressing <a href="https://www.cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2011-3389" data-external="true" target="_blank" rel="noopener noreferrer">this security vulnerability</a>.</p><p id="aaffe306"><b id="f71e7b5a">Solution</b>: Microsoft SQL Server upgrade is recommended.</p><p id="0f5434bc"><b id="8b407299">Workarounds:</b> If Microsoft SQL Server upgrade is not possible for some reason, TeamCity can be set up to use older Microsoft SQL Server versions with the database connection still SSL- or TLS-encrypted.</p><aside class="warning " data-title="" rel="0f5434bc" id="0be32ee6"><p id="3287ad39">Any of the two workarounds listed below will make the connection between TeamCity and the database server vulnerable</p></aside><ul class="list _ul"><li class="list__item" id="ba7130ba"><p>Continue using a block cipher such as <code class="code">AES_128_CBC</code> or <code class="code">3DES_EDE_CBC</code>, but disable CBC protection via <code class="code">-Djsse.enableCBCProtection=false</code> Java command-line option (that can be added to <code class="code">TEAMCITY_SERVER_OPTS</code> environment variable, as described <a href="configuring-teamcity-server-startup-properties.html#JVM-Options">here</a>.The <code class="code">jsse.enableCBCProtection</code> Java system property is also available in all <i id="1b7aa6eb">OpenJDK</i> 8 versions and <i id="287d516b">IBM J9</i> <a href="https://www.ibm.com/support/knowledgecenter/SSYKE2_8.0.0/com.ibm.java.security.component.80.doc/security-component/jsse2Docs/beast.html" data-external="true" target="_blank" rel="noopener noreferrer">8.0.0 SR1</a> and later.Secure connection between <i id="a323bf07">TeamCity</i> and <i id="d1e2728e">Microsoft SQL Server</i> would be stable but still vulnerable to <a href="https://www.cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2011-3389" data-external="true" target="_blank" rel="noopener noreferrer">CVE-2011-3389</a> also known as <i id="fca0708f">BEAST</i>.</p></li><li class="list__item" id="2d7b4ac5"><p>Fall back to a stream cipher (which is not susceptible to <i id="d7db3935">BEAST</i>) such as <code class="code">RC4_128</code>. This will render the connection vulnerable to <a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=cve-2015-2808" data-external="true" target="_blank" rel="noopener noreferrer">CVE-2015-2808</a>.</p></li></ul><p id="21015602">Try running with antivirus software uninstalled before reporting the issue to JetBrains. For example, see <a href="http://jetbrains.net/tracker/issue/TW-7138" data-external="true" target="_blank" rel="noopener noreferrer">the issue</a>.</p></div><a name="DistortedConfigurationWindowDuringAgentReinstallation"></a><a name="Distorted-Configuration-Window-During-Agent-Reinstallation"></a><div class="chapter"><h2 id="KnownIssues-DistortedConfigurationWindowDuringAgentReinstallation">Distorted Configuration Window During Agent Reinstallation</h2><p id="e792473c">When installing a TeamCity agent via a <a href="setting-up-and-running-additional-build-agents.html#Installing-via-Windows-installer">Windows agent installer</a> on top of the already installed agent with a different version of Java, the "<i id="d34b288e">Configure Build Agent Properties</i>" installation window might appear distorted.</p><p id="669a1f9f"><b id="472722a5">This issue has been fixed in TeamCity 2019.1.5</b>.</p><p id="40f3ab57">To workaround this issue without upgrading to 2019.1.5, uninstall the previously installed agent version before installing a new agent into the same directory.<br>To uninstall the agent, invoke <code class="code">Uninstall.exe</code> in the <a href="agent-home-directory.html">Agent Home Directory</a>, clear all the "<i id="6e99ac9b">Remove...</i>" checkboxes to keep the agent logs and configuration, and click <b id="1a3dcec5">Uninstall</b>. After the successful uninstallation, you can proceed with installing the new agent version via the agent installer.</p></div><a name="WindowsDockerContainers"></a><a name="Windows-Docker-Containers"></a><div class="chapter"><h2 id="KnownIssues-WindowsDockerContainers">Windows Docker Containers</h2><p id="2c45e598">Problems common to TeamCity Docker container images.</p><ul class="list _ul"><li class="list__item" id="7a8e22cb"><p id="34e6db37">Since Windows 10 version 1803 with <a href="https://support.microsoft.com/en-us/help/4340917/windows-10-update-kb4340917" data-external="true" target="_blank" rel="noopener noreferrer">KB4340917</a> it's possible to use port mapping from containers to localhost. For previous Windows versions it works for the non-localhost IP address associated with this machine and you can access a running application via the machine's hostname or determine the IP address via the <code class="code">ipconfig</code> command. Note that the <code class="code">netstat -an</code> command may not show that the port is open on any IP address, while in fact it can work. This is also a known problem of Docker on Windows.</p></li><li class="list__item" id="60c5c7c4"><p id="f07003d7">On Windows 10, the memory allocated per container is 1GB by default. To increase this value, use the following memory options:</p><div class="code-block" data-lang="bash">    docker run ... -m 2GB -e TEAMCITY_SERVER_MEM_OPTS="-Xmx2g -XX:ReservedCodeCacheSize=350m"

</div></li><li class="list__item" id="ec5bf9b2"><p id="67433484">On Windows 10 containers work via Hyper-V and may experience problems with network and other subsystems. To diagnose these problems, execute the following PowerShell script:</p><div class="code-block" data-lang="bash">    Invoke-WebRequest https://aka.ms/Debug-ContainerHost.ps1 -UseBasicParsing | Invoke-Expression

</div></li><li class="list__item" id="1892985e"><p id="9a682ced">When starting a TeamCity server from a Windows Docker image, make sure to grant <code class="code">Authenticated Users</code> <b id="8ce39845">Full control</b> over the directories used as volumes. <a href="https://github.com/docker/for-win/issues/1058" data-external="true" target="_blank" rel="noopener noreferrer">See the related issue</a>.</p></li><li class="list__item" id="9a9937ed"><p id="1f95234f">When starting a Windows Docker container with the directory <code class="code">C:/BuildAgent/work</code> mapped as a volume to the container host, Git for Windows fails with a following error: "Invalid path '/ContainerMappedDirectories': No such file or directory". The workaround is not to add <code class="code">C:/BuildAgent/work</code> as a volume.</p></li></ul><p id="29a9b452">To analyze the script output, refer to the <a href="https://github.com/MicrosoftDocs/Virtualization-Documentation/tree/master/windows-server-container-tools/Debug-ContainerHost" data-external="true" target="_blank" rel="noopener noreferrer">following documents</a>. If it shows that there are problems with the container network subsystem, try resetting it using the <a href="https://github.com/MicrosoftDocs/Virtualization-Documentation/tree/master/windows-server-container-tools/CleanupContainerHostNetworking" data-external="true" target="_blank" rel="noopener noreferrer">cleanup scripts</a>.</p><p id="485879a9">More details on troubleshooting Docker for Windows are available in the <a href="https://docs.docker.com/docker-for-windows/troubleshoot/" data-external="true" target="_blank" rel="noopener noreferrer">Docker</a> and <a href="https://docs.microsoft.com/en-us/virtualization/windowscontainers/troubleshooting" data-external="true" target="_blank" rel="noopener noreferrer">Microsoft</a> documentation.</p><a name="InformationaboutinstalledDockerserverOSonWindowsmissingonAgent"></a><a name="Information-about-installed-Docker-server-OS-on-Windows-missing-on-Agent"></a><div class="chapter"><h3 id="KnownIssues-InformationaboutinstalledDockerserverOSonWindowsmissingonAgent">Information about installed Docker server OS on Windows missing on Agent</h3><p id="9df20bb3">On Windows 10, the Docker server depends on Hyper-V service and its start may take a significant amount of time. To resolve the issue, configure the TCBuildAgent Windows service to depend on the Docker for Windows Service, "com.docker.service" by default.</p></div><a name="LinuxDockerContainersunderWindows"></a><a name="Linux-Docker-Containers-under-Windows"></a><div class="chapter"><h3 id="KnownIssues-LinuxDockerContainersunderWindows">Linux Docker Containers under Windows</h3><p id="284d91a3">Since <b id="eba93362">TeamCity 2017.2,</b> the <a href="docker-wrapper.html">Docker Wrapper</a> works on Windows when Windows-based containers are started.</p><p id="c177062c">If a Linux container is started on a Windows machine, TeamCity displays the error message "Starting Linux Docker containers under Windows is not supported. To avoid this problem, add the <a href="integrating-teamcity-with-docker.html#Parameters-Reported-by-Agent"><code class="code">teamcity.agent.jvm.os.name</code></a> does not contain Windows <a href="agent-requirements.html">agent requirement</a>.</p><p id="b5f4558e">If you need to support a use case when the Docker wrapper runs Linux containers under Windows platform, vote for the /comment on <a href="https://youtrack.jetbrains.com/issue/TW-51820" data-external="true" target="_blank" rel="noopener noreferrer">TW-51820</a>.</p></div><a name="ProblemswithalocaltimeinWindowscontainers"></a><a name="Problems-with-a-local-time-in-Windows-containers"></a><div class="chapter"><h3 id="KnownIssues-ProblemswithalocaltimeinWindowscontainers">Problems with a local time in Windows containers</h3><p id="ba7b0be4">When using Windows Docker containers, there is an issue with <a href="https://youtrack.jetbrains.com/issue/TW-53474" data-external="true" target="_blank" rel="noopener noreferrer">incorrect time in Windows containers</a> when the system time in a container goes out of sync with the time on the host machine. It could cause problems in integrations where response time is significant (for example, OAuth tokens).</p><p id="be00e3a1">To address it, upgrade your host machine to Windows Server 2019 / Windows 10 1809 and use TeamCity docker images <a href="https://youtrack.jetbrains.com/issue/TW-58161" data-external="true" target="_blank" rel="noopener noreferrer">compatible with Windows containers 1809</a>.</p></div><a name="&#34;Accessisdenied&#34;or&#34;Accesstothepathisdenied&#34;problemoncontainerstart"></a><a name="&#34;Access-is-denied&#34;-or-&#34;Access-to-the-path-is-denied&#34;-problem-on-container-start"></a><div class="chapter"><h3 id="KnownIssues-&#34;Accessisdenied&#34;or&#34;Accesstothepathisdenied&#34;problemoncontainerstart">"Access is denied" or "Access to the path is denied" problem on container start</h3><p id="cca74bb5">When Docker is starting Windows containers with <b id="e73412a4">process isolation</b>, it uses a Windows user account which lacks the write access to the directory with Docker volumes. In this case, build agents may fail to start due to the "<i id="8c7dd65d">Access to the path is denied</i>" or "<i id="661a1d94">Access is denied</i>" error.</p><p id="b5d36f49">To resolve this issue, grant the "Full control" permission to the "Authenticated Users" group for the <code class="code">%\PROGRAMDATA%\docker\volumes</code> directory.</p></div></div><a name="dotCoverdoesnotsupportWindowsNanoServer"></a><a name="dotCover-does-not-support-Windows-Nano-Server"></a><div class="chapter"><h2 id="KnownIssues-dotCoverdoesnotsupportWindowsNanoServer">dotCover does not support Windows Nano Server</h2><p id="8f015b1e">If you try to run dotCover on an agent with the Nano Server OS, the build will fail with an exit error "<i id="6b6ba30a">Process exited with code -1073741515</i>". Instead of Nano Server, consider using <a href="https://docs.microsoft.com/en-us/windows-server/administration/server-core/what-is-server-core" data-external="true" target="_blank" rel="noopener noreferrer">Server Core</a> which is an alternative minimal installation option of Windows Server.</p></div><a name="Xcode10isunabletocleanartifactsincustomoutputdirectory"></a><a name="Xcode-10-is-unable-to-clean-artifacts-in-custom-output-directory"></a><div class="chapter"><h2 id="KnownIssues-Xcode10isunabletocleanartifactsincustomoutputdirectory">Xcode 10 is unable to clean artifacts in custom output directory</h2><p id="bcf48d45">If you use a custom output directory for Xcode, note that on upgrading to Xcode 10, TeamCity builds with the Xcode Project build runner might fail with the error: "<i id="aab6acf8">Could not delete &lt;directory&gt; because it was not created by the build system and it is not a subfolder of derived data."</i></p><p id="71d7e449">This is caused by the following Xcode 10 known issue:<br>When performing <code class="code">xcodebuild clean</code> on a project that uses a customized build location outside the derived data directory, and that has older build products produced prior to Xcode 10, Xcode might report an error indicating that it won't delete directories not created by the new build system. (40427159)<br>See <a href="https://developer.apple.com/documentation/xcode_release_notes/xcode_10_release_notes/build_system_release_notes_for_xcode_10" data-external="true" target="_blank" rel="noopener noreferrer">Xcode documentation</a> for details.</p><p id="f36266c0">To resolve this issue, we suggest that you use Xcode 11 instead. To workaround this issue in Xcode 10, you can either clean the output directory manually or try using the previous build system by passing <code class="code">-UseNewBuildSystem=NO</code> to command line parameters.</p></div><a name="IssuesperTeamCityversions"></a><a name="Issues-per-TeamCity-versions"></a><div class="chapter"><h2 id="KnownIssues-IssuesperTeamCityversions">Issues per TeamCity versions</h2><a name="2019.1.4KnownIssues"></a><a name="2019.1.4-Known-Issues"></a><div class="chapter"><h3 id="KnownIssues-2019.1.4KnownIssues">2019.1.4 Known Issues</h3><a name="UnavailableDefaultCredentialProviderChainoptionforAmazonECR"></a><a name="Unavailable-Default-Credential-Provider-Chain-option-for-Amazon-ECR"></a><div class="chapter"><h4 id="KnownIssues-UnavailableDefaultCredentialProviderChainoptionforAmazonECR">Unavailable Default Credential Provider Chain option for Amazon ECR</h4><p id="4f78216d"><i id="6d0ccf51">This issue has been fixed in TeamCity 2019.1.5.</i></p><p id="0e0d9cd6">Due to recent changes in our Docker Support plugin, the "<a href="https://docs.aws.amazon.com/sdk-for-java/v1/developer-guide/credentials.html#credentials-default" data-external="true" target="_blank" rel="noopener noreferrer">Default credential provider chain</a>" option becomes unavailable in the Amazon ECR connection settings.</p><p id="32eb1274">If this option was previously enabled in some ECR connection and you make any changes to this connection, the state of this option will be automatically set to <code class="code">false</code>. When any build will try to use this connection, it will fail to start with the "<i id="39798493">Access key cannot be null</i>" error.</p><p id="915fcb32">To workaround this problem without upgrading to 2019.1.5, download the fixed Docker Support plugin from the <a href="https://youtrack.jetbrains.com/issue/TW-62595#focus=streamItem-27-3749459.0-0" data-external="true" target="_blank" rel="noopener noreferrer">related issue</a> and upload it on the <b id="b6b977c7">Server Administration | Plugins List</b> page.</p></div><a name="MissingpackagesinNuGetfeed"></a><a name="Missing-packages-in-NuGet-feed"></a><div class="chapter"><h4 id="KnownIssues-MissingpackagesinNuGetfeed">Missing packages in NuGet feed</h4><p id="e316d111"><i id="72edf918">This issue has been fixed in TeamCity 2019.1.5.</i></p><p id="d27f950f">In certain cases, when a build is supposed to create and publish several NuGet packages to a NuGet feed, and the package indexing is enabled, some packages might not be published to the feed. This problem is caused by recent changes in <a href="nuget-packages-indexer.html">NuGet Packages Indexer</a>.</p><p id="33830dca">To workaround this problem without upgrading to 2019.1.5, download the fixed NuGet Support plugin from the <a href="https://youtrack.jetbrains.com/issue/TW-62545#focus=streamItem-27-3754398.0-0" data-external="true" target="_blank" rel="noopener noreferrer">related issue</a> and upload it on the <b id="661f4aa6">Server Administration | Plugins List</b> page.</p><hr id="8269c6ee"><p id="705a409e"><br></p><p id="bfb550d0"><br></p><p id="708e69bd"><br></p><p id="ab1df8ce"><br></p><p id="536bc0c1"><br></p><p id="2513f951"><br></p><p id="8d50f0e5"><br></p><p id="0e72d693"><br></p><p id="acf785b2"><br></p><p id="2cbead0f"><br></p></div></div></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v2/app.js"></script></body></html>