<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v2/analytics.js"></script><title>Branch Remote Run Trigger - Help | TeamCity</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v2/app.css"></head><body data-id="Branch Remote Run Trigger" data-breadcrumbs="teamcity-documentation.md|TeamCity Documentation/administrator-s-guide.md|Administrator's Guide/managing-projects-and-build-configurations.md|Managing Projects and Build Configurations/creating-and-editing-build-configurations.md|Creating and Editing Build Configurations/configuring-build-triggers.md|Configuring Build Triggers/branch-remote-run-trigger.md|Branch Remote Run Trigger" data-main-title="Branch Remote Run Trigger" data-edit-url="https://github.com/JetBrains/teamcity-documentation/edit/2019.1/topics/branch-remote-run-trigger.md"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search TeamCity Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>TeamCity 2019.1 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Branch Remote Run Trigger" id="branch-remote-run-trigger.md">Branch Remote Run Trigger</h1><p id="d1294983">A <i id="86178958">Branch Remote Run Trigger</i> automatically starts a new <a href="personal-build.html">Personal Build</a> each time TeamCity detects changes in particular branches of the VCS roots of the build configuration. At the moment, the Trigger supports only Git and Mercurial VCSes.</p><p id="b716dfa8">For non-personal builds off branches, see <a href="working-with-feature-branches.html">Working with Feature Branches</a>. When <code class="code">branch specification</code> is configured for a VCS root, Branch Remote Run Trigger only processes branches not matched by the specification.</p><p id="812f47ce">A trigger monitors branches with names that match specific patterns.<br>Default patterns are:</p><ul class="list _ul"><li class="list__item" id="cf57f350"><p>for Git repositories: <code class="code">refs/heads/remote-run/*</code></p></li><li class="list__item" id="85a75522"><p>for Mercurial repositories: <code class="code">remote-run/*</code></p></li></ul><p id="1c218927">These branches are regular version control branches and TeamCity does not manage them (i.e. if you no longer need the branch you would need to delete the branch using regular version control means).</p><p id="8f45acf9">By default, TeamCity triggers a personal build for the user detected in the last commit of the branch. You might also specify TeamCity user in the name of the branch. To do that, use a placeholder <code class="code">TEAMCITY_USERNAME</code> in the pattern and your TeamCity username in the name of the branch. For example, the pattern <code class="code">remote-run/TEAMCITY_USERNAME/*</code> will match a branch <code class="code">remote-run/joe/my_feature</code> and start a personal build for the TeamCity user <code class="code">joe</code> (if such user exists).</p><aside class="note " data-title="" rel="8f45acf9" id="9f433a04"><p id="1b83d4e2">At the moment there is no UI to show what's going on inside the trigger, so the only way to troubleshoot it is to look inside <code class="code">teamcity-remote-run.log</code>. To see a more detailed log, enable <code class="code">debug-vcs</code> logging preset on the <b id="4d74899f">Administration | Diagnostics</b> page.</p></aside><p id="ed6be58c">In order to trigger a build branch should have at least one new commit comparing to the main branch.</p><a name="Example:Runapersonalbuildfromacommandline."></a><a name="Example:-Run-a-personal-build-from-a-command-line."></a><h3 id="BranchRemoteRunTrigger-Example:Runapersonalbuildfromacommandline.">Example: Run a personal build from a command line.</h3><a name="Git"></a><a name="Git"></a><h4 id="BranchRemoteRunTrigger-Git">Git</h4><div class="code-block" data-lang="bash">
% cd &lt;your local git repo&gt;
% git branch
* master
% git checkout -b my_feature
Switched to a new branch 'my_feature'
//code, commit; code, commit
% git push origin +HEAD:remote-run/my_feature

</div><p id="ff16d8c6">With the default pattern (<code class="code">refs/heads/remote-run/*</code>) command <code class="code">git branch -r</code> will list your personal branches. If you want to hide them, change the pattern to <code class="code">refs/remote-run/*</code> and push your changes to branches like <code class="code">refs/remote-run/my_feature</code>. In this case your branches are not listed by the above command, although you can see them anyway using <code class="code">git ls-remote &lt;url of git repository&gt;</code>.</p><a name="Mercurial"></a><a name="Mercurial"></a><h4 id="BranchRemoteRunTrigger-Mercurial">Mercurial</h4><div class="code-block" data-lang="bash">% cd &lt;your local hg repo&gt;
% hg branch
default
% hg branch remote-run/my_feature
marked working directory as branch remote-run/my_feature
//code, commit; code, commit
% hg push -b remote-run/my_feature --new-branch

</div><a name="Limitations"></a><a name="Limitations"></a><h3 id="BranchRemoteRunTrigger-Limitations">Limitations</h3><p id="9d235035">If your build configuration has more than one VCS root which support branch remote-run, and you push changes to all of them, TeamCity will start several personal builds with changes from one VCS root each.</p><hr id="1f86eb29"><p id="ef7e9890"><b id="a854cdb4">See also:</b></p><p id="062776b8"><b id="b5c48d3b">Administrator's Guide</b>: <a href="git.html">Git</a> | <a href="mercurial.html">Mercurial</a></p><hr id="5e51e629"></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v2/app.js"></script></body></html>