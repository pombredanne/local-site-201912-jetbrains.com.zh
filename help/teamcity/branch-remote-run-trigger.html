<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v2/analytics.js"></script><title>分支远程运行触发器-帮助团队城市</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v2/app.css"></head><body  data-id="Branch Remote Run Trigger" data-breadcrumbs="teamcity-documentation.md|TeamCity Documentation/administrator-s-guide.md|Administrator's Guide/managing-projects-and-build-configurations.md|Managing Projects and Build Configurations/creating-and-editing-build-configurations.md|Creating and Editing Build Configurations/configuring-build-triggers.md|Configuring Build Triggers/branch-remote-run-trigger.md|Branch Remote Run Trigger" data-main-title="Branch Remote Run Trigger" data-edit-url="https://github.com/JetBrains/teamcity-documentation/edit/2019.1/topics/branch-remote-run-trigger.md"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索TeamCity帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>TeamCity 2019.1帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 id="branch-remote-run-trigger.md" data-toc="Branch Remote Run Trigger">分支远程运行触发器</h1><p id="d1294983">每当TeamCity在构建配置的VCS根目录的特定分支中检测到更改时，分支<i id="86178958">远程运行触发器都会</i>自动启动新的<a href="personal-build.html">个人构建</a> 。目前，触发器仅支持Git和Mercurial VCSes。</p><p id="b716dfa8">对于非个人的分支分支构建，请参阅<a href="working-with-feature-branches.html">使用要素分支</a> 。什么时候<code class="code">branch specification</code>如果为VCS根配置了分支，则“分支远程运行触发器”仅处理规范不匹配的分支。</p><p id="812f47ce">触发器监视名称与特定模式匹配的分支。<br>默认模式是：</p><ul class="list _ul"><li class="list__item" id="cf57f350"><p>对于Git存储库：<code class="code">refs/heads/remote-run/*</code></p></li><li class="list__item" id="85a75522"><p>对于Mercurial存储库：<code class="code">remote-run/*</code></p></li></ul><p id="1c218927">这些分支是常规版本控制分支，而TeamCity不对其进行管理（即，如果您不再需要该分支，则需要使用常规版本控制手段删除该分支）。</p><p id="8f45acf9">默认情况下，TeamCity会为在分支的最后一次提交中检测到的用户触发个人构建。您也可以在分支名称中指定TeamCity用户。为此，请使用占位符<code class="code">TEAMCITY_USERNAME</code>在模式中，在分支名称中输入您的TeamCity用户名。例如图案<code class="code">remote-run/TEAMCITY_USERNAME/*</code>将匹配一个分支<code class="code">remote-run/joe/my_feature</code>并为TeamCity用户启动个人构建<code class="code">joe</code> （如果存在该用户）。</p><aside class="note " rel="8f45acf9" id="9f433a04" data-title=""><p id="1b83d4e2">目前，没有UI可以显示触发器内部发生的情况，因此解决该问题的唯一方法是查看内部<code class="code">teamcity-remote-run.log</code> 。要查看更详细的日志，请启用<code class="code">debug-vcs</code> <b id="4d74899f">管理</b>上的日志记录预设<b id="4d74899f">|诊断</b>页面。</p></aside><p id="ed6be58c">为了触发构建分支，与主分支相比，至少应有一个新的提交。</p><a name="Example:Runapersonalbuildfromacommandline."></a><a name="Example:-Run-a-personal-build-from-a-command-line."></a><h3 id="BranchRemoteRunTrigger-Example:Runapersonalbuildfromacommandline.">示例：从命令行运行个人版本。</h3><a name="Git"></a><a name="Git"></a><h4 id="BranchRemoteRunTrigger-Git">吉特</h4><div class="code-block" data-lang="bash">％cd <your local="" git="" repo="">％git branch * master％git checkout -b my_feature切换到新的分支'my_feature'//编码，提交；代码，提交％git push origin + HEAD：remote-run / my_feature</your></div><p id="ff16d8c6">使用默认模式（ <code class="code">refs/heads/remote-run/*</code> ）命令<code class="code">git branch -r</code>将列出您的个人分支机构。如果要隐藏它们，请将图案更改为<code class="code">refs/remote-run/*</code>并将您的更改推送到分支<code class="code">refs/remote-run/my_feature</code> 。在这种情况下，您的分支没有被上述命令列出，尽管您仍然可以使用<code class="code">git ls-remote <url of git repository></code> 。</p><a name="Mercurial"></a><a name="Mercurial"></a><h4 id="BranchRemoteRunTrigger-Mercurial">水银</h4><div class="code-block" data-lang="bash">％cd <your local="" hg="" repo="">％hg分支默认％hg分支remote-run / my_feature将工作目录标记为分支remote-run / my_feature //代码，提交；代码，提交％hg push -b remote-run / my_feature --new-branch</your></div><a name="Limitations"></a><a name="Limitations"></a><h3 id="BranchRemoteRunTrigger-Limitations">局限性</h3><p id="9d235035">如果您的构建配置具有多个支持分支机构远程运行的VCS根目录，并且您将更改推入了所有这些，则TeamCity将启动多个个人构建，每个更改均来自一个VCS根目录。</p><hr id="1f86eb29"><p id="ef7e9890"><b id="a854cdb4">也可以看看：</b></p><p id="062776b8"><b id="b5c48d3b">管理员指南</b> ： <a href="git.html">Git</a> | <a href="mercurial.html">水银</a></p><hr id="5e51e629"></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v2/app.js"></script></body></html>