<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v2/analytics.js"></script><title>Agent Pools - Help | TeamCity</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v2/app.css"></head><body data-id="Agent Pools" data-breadcrumbs="teamcity-documentation.md|TeamCity Documentation/administrator-s-guide.md|Administrator's Guide/teamcity-configuration-and-maintenance.md|TeamCity Configuration and Maintenance/build-agents-configuration-and-maintenance.md|Build Agents Configuration and Maintenance/agent-pools.md|Agent Pools" data-main-title="Agent Pools" data-edit-url="https://github.com/JetBrains/teamcity-documentation/edit/2019.1/topics/agent-pools.md"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search TeamCity Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>TeamCity 2019.1 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Agent Pools" id="agent-pools.md">Agent Pools</h1><p id="fbea9db1">On this page:</p><p id="d1f15281"><ul class="list" data-skip-index="skip"><li class="list__item"><a href="#AgentPools-Concept">Concept</a></li><li class="list__item"><a href="#AgentPools-RequiredPermissions">Required Permissions</a></li><li class="list__item"><a href="#AgentPools-ManagingAgentPools">Managing Agent Pools</a></li></ul></p><a name="Concept"></a><a name="Concept"></a><div class="chapter"><h2 id="AgentPools-Concept">Concept</h2><p id="d28cdfa9">Instead of having one common set of agents, you can break them into separate groups called <i id="b20f32b3">agent pools</i>. A pool is a named set of agents to which you can assign projects.</p><ul class="list _ul"><li class="list__item" id="2f47304e"><p>An agent can belong to <b id="dd6508e1">one pool only</b>.</p></li><li class="list__item" id="3e6d2e12"><p>A project can use <b id="b588d5dd">several pools</b> for its builds.</p></li></ul><p id="fbdd8b24">The number of agents authorized by the TeamCity server is limited by the number of <a href="licensing-policy.html#Number-of-Agents">agent licenses</a>. By default, all newly authorized agents are included into the <b id="d9e9c1b6">Default pool</b>.</p><p id="4edbd94a">With the help of agent pools you can bind specific agents to specific projects. Project builds can be run only on build agents from the pools assigned to the project. Agent pools can also help to calculate the required agents capacity.</p><p id="be0d7a88">You can find all agent pools configured in TeamCity at the <b id="8881c5f0">Agents | Pools</b> tab.</p></div><a name="RequiredPermissions"></a><a name="Required-Permissions"></a><div class="chapter"><h2 id="AgentPools-RequiredPermissions">Required Permissions</h2><p id="cd277ee3">To be able to add/remove pools and set maximum number of agents in the pool, you need to have the <i id="976084da">"Manage agent pools"</i> permission granted to the System Administrator and Agent Manager <a href="role-and-permission.html">roles</a> in the default TeamCity <a href="role-and-permission.html#Per-Project-Authorization-Mode">per-project authorization mode</a>.</p><p id="eeab0a8a">Assigning and unassigning projects and agents to/from pools is restricted by the <i id="30e7a630">"Change agent pools associated with project"</i> permission, which by default is a part of the Project administrator role. Users can perform the operations on the pool only if they have the <i id="ca6ffe78">"Change agent pools associated with project"</i> permission for <b id="a56e5121">all projects</b> associated with <b id="d356a7cd">all pools</b> affected by the operation.</p><p id="cdfe8931">See also related <a href="role-and-permission.html#Project-level-Agent-Management-Permissions">agent management permissions</a>.</p></div><a name="ManagingAgentPools"></a><a name="Managing-Agent-Pools"></a><div class="chapter"><h2 id="AgentPools-ManagingAgentPools">Managing Agent Pools</h2><p id="a10a6a2c">The <b id="6d5d65df">Agents | Pools</b> tab allows managing pools in TeamCity.</p><p id="a18d5086">To create a new agent pool, specify its name.</p><p id="ce21751a">By default, a pool can contain an unlimited number of agents. You can set a maximum number of agents in the pool (not applicable for the Default pool). If the maximum number of agents is reached, Team–°ity will not allow adding any new agents to this pool. This includes moving agents from other pools and automatic authorization of cloud agents. New cloud agents will not start if the target pool is full.</p><p id="ce00cc71">To populate a pool with agents, click <b id="30e12f9a">Assign agents</b> and select them from the list. Since an agent can belong to one pool only, assigning it to a pool will remove it from its previous pool. If this may cause compatibility problems, TeamCity will give you a warning. Removing an agent from a custom pool will return it to the Default pool. You can also assign cloud agents to a specific pool when adding an image to a cloud profile.</p><aside class="note " data-title="" rel="ce00cc71" id="90a999d4"><p id="9842c8e2">Only the cloud agent images configured in the <code class="code">&lt;Root&gt;</code> project can be moved using <b id="3683bc71">Assign agents</b>. To assign a pool to a cloud agent, configure it using <a href="agent-cloud-profile.html">Agent Cloud profile</a>, in the cloud image details.</p></aside><p id="26417291">When you have configured agent pools, you can:</p><ul class="list _ul"><li class="list__item" id="15aaf270"><p>Filter the build queue by pools.</p></li><li class="list__item" id="835adb25"><p>Use grouping by pool on the <a href="viewing-agents-workload.html">Agent Matrix and Agent Statistics</a> pages.</p></li></ul><hr id="3f259cfc"><p id="4b607cfe"><b id="42111097">See also:</b></p><p id="72bd52eb"><b id="3834a81e">Concepts</b>: <a href="build-agent.html">Build Agent</a> | <a href="agent-requirements.html">Agent Requirements</a><br><b id="ff419e22">Administrator's Guide</b>: <a href="viewing-agents-workload.html">Viewing Agents Workload</a></p><hr id="e2f8ac0b"></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v2/app.js"></script></body></html>