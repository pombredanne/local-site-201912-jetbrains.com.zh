<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/resources.jetbrains.com/storage/help-app/v2/analytics.js"></script><title>代理池-帮助|团队城市</title><link rel="stylesheet" href="/resources.jetbrains.com/storage/help-app/v2/app.css"></head><body  data-id="Agent Pools" data-breadcrumbs="teamcity-documentation.md|TeamCity Documentation/administrator-s-guide.md|Administrator's Guide/teamcity-configuration-and-maintenance.md|TeamCity Configuration and Maintenance/build-agents-configuration-and-maintenance.md|Build Agents Configuration and Maintenance/agent-pools.md|Agent Pools" data-main-title="Agent Pools" data-edit-url="https://github.com/JetBrains/teamcity-documentation/edit/2019.1/topics/agent-pools.md"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索TeamCity帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>TeamCity 2019.1帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 id="agent-pools.md" data-toc="Agent Pools">代理商池</h1><p id="fbea9db1">在此页：</p><p id="d1f15281"></p><ul class="list" data-skip-index="skip"><li class="list__item"><a href="#AgentPools-Concept">概念</a></li><li class="list__item"><a href="#AgentPools-RequiredPermissions">所需权限</a></li><li class="list__item"><a href="#AgentPools-ManagingAgentPools">管理代理池</a></li></ul><p></p><a name="Concept"></a><a name="Concept"></a><div class="chapter"><h2 id="AgentPools-Concept">概念</h2><p id="d28cdfa9">您可以将它们分成称为“ <i id="b20f32b3">代理池”的</i>单独组，而不必使用一组通用的代理。池是您可以为其分配项目的一组命名的代理。</p><ul class="list _ul"><li class="list__item" id="2f47304e"><p>一个代理只能属于<b id="dd6508e1">一个池</b> 。</p></li><li class="list__item" id="3e6d2e12"><p>一个项目可以使用<b id="b588d5dd">多个池</b>进行构建。</p></li></ul><p id="fbdd8b24">TeamCity服务器授权的<a href="licensing-policy.html#Number-of-Agents">代理</a>数量受<a href="licensing-policy.html#Number-of-Agents">代理许可证</a>数量的限制。默认情况下，所有新授权的代理都包含在“ <b id="d9e9c1b6">默认”池中</b> 。</p><p id="4edbd94a">借助代理程序池，您可以将特定的代理程序绑定到特定的项目。项目构建只能在分配给项目的池中的构建代理上运行。代理程序池还可以帮助计算所需的代理程序容量。</p><p id="be0d7a88">您可以在“ <b id="8881c5f0">代理商” |“</b>团队”中找到在TeamCity中配置的所有代理商池<b id="8881c5f0">。池</b>选项卡。</p></div><a name="RequiredPermissions"></a><a name="Required-Permissions"></a><div class="chapter"><h2 id="AgentPools-RequiredPermissions">所需权限</h2><p id="cd277ee3">为了能够添加/删除池并设置池中的最大代理数，您需要在默认的TeamCity <a href="role-and-permission.html#Per-Project-Authorization-Mode">每个项目授权模式下</a>授予“系统管理员”和“代理管理器” <a href="role-and-permission.html">角色</a>的<i id="976084da">“管理代理池”</i>权限。</p><p id="eeab0a8a">向/从池分配和取消分配项目和代理受<i id="30e7a630">“更改与项目关联的代理池”</i>权限的限制，该权限默认是项目管理员角色的一部分。用户只有对与受该操作影响的<b id="d356a7cd">所有池</b>关联的<b id="a56e5121">所有项目</b>都具有<i id="ca6ffe78">“更改与项目关联的代理池”</i>权限，才能对<b id="d356a7cd">池</b>执行操作。</p><p id="cdfe8931">另请参阅相关的<a href="role-and-permission.html#Project-level-Agent-Management-Permissions">代理管理权限</a> 。</p></div><a name="ManagingAgentPools"></a><a name="Managing-Agent-Pools"></a><div class="chapter"><h2 id="AgentPools-ManagingAgentPools">管理代理池</h2><p id="a10a6a2c"><b id="6d5d65df">代理商|池</b>选项卡允许在TeamCity中管理池。</p><p id="a18d5086">要创建新的代理程序池，请指定其名称。</p><p id="ce21751a">默认情况下，池可以包含无限数量的代理。您可以设置池中的最大代理数量（不适用于“默认”池）。如果达到了座席的最大数量，TeamСity将不允许向该池中添加任何新的座席。这包括从其他池中移出代理以及对云代理的自动授权。如果目标池已满，则新的云代理将不会启动。</p><p id="ce00cc71">要用代理填充池，请单击<b id="30e12f9a">分配代理</b> ，然后从列表中选择它们。由于代理只能属于一个池，因此将其分配给一个池会将其从其先前的池中删除。如果这可能导致兼容性问题，TeamCity将给您警告。从自定义池中删除代理会将其返回到默认池。在将映像添加到云配置文件时，您还可以将云代理分配给特定的池。</p><aside class="note " rel="ce00cc71" id="90a999d4" data-title=""><p id="9842c8e2">仅在<code class="code"><Root></code>可以使用<b id="3683bc71">Assign代理</b>移动项目。要将池分配给云代理，请使用“ <a href="agent-cloud-profile.html">代理云配置文件</a> ”在云映像详细信息中对其进行<a href="agent-cloud-profile.html">配置</a> 。</p></aside><p id="26417291">配置代理程序池后，您可以：</p><ul class="list _ul"><li class="list__item" id="15aaf270"><p>按池过滤构建队列。</p></li><li class="list__item" id="835adb25"><p>在“ <a href="viewing-agents-workload.html">代理矩阵”和“代理统计”</a>页面上按池使用分组。</p></li></ul><hr id="3f259cfc"><p id="4b607cfe"><b id="42111097">也可以看看：</b></p><p id="72bd52eb"><b id="3834a81e">概念</b> ： <a href="build-agent.html">生成代理</a> | <a href="agent-requirements.html">代理商要求</a><br><b id="ff419e22">管理员指南</b> ： <a href="viewing-agents-workload.html">查看代理工作量</a></p><hr id="e2f8ac0b"></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/resources.jetbrains.com/storage/help-app/v2/app.js"></script></body></html>