<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v2/analytics.js"></script><title>与TeamCity持续集成-帮助|帮助团队城市</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v2/app.css"></head><body  data-id="Continuous Integration with TeamCity" data-breadcrumbs="teamcity-documentation.md|TeamCity Documentation/getting-started-with-teamcity.md|Getting Started with TeamCity/continuous-integration-with-teamcity.md|Continuous Integration with TeamCity" data-main-title="Continuous Integration with TeamCity" data-edit-url="https://github.com/JetBrains/teamcity-documentation/edit/2019.1/topics/continuous-integration-with-teamcity.md"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索TeamCity帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>TeamCity 2019.1帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 id="continuous-integration-with-teamcity.md" data-toc="Continuous Integration with TeamCity">与TeamCity的持续集成</h1><p id="da446a46"></p><ul class="list" data-skip-index="skip"><li class="list__item"><a href="#ContinuousIntegrationwithTeamCity-WhatisContinuousIntegration?">什么是持续集成？</a></li><li class="list__item"><a href="#ContinuousIntegrationwithTeamCity-WhatisTeamCity?">什么是TeamCity？</a><ul class="list _bullet"><li class="list__item"><a href="#ContinuousIntegrationwithTeamCity-WhatcanyoudowithTeamCity?">您可以使用TeamCity做什么？</a></li></ul></li><li class="list__item"><a href="#ContinuousIntegrationwithTeamCity-BasicTeamCityconcepts">TeamCity基本概念</a><ul class="list _bullet"><li class="list__item"><a href="#ContinuousIntegrationwithTeamCity-BasicCIWorkflowinTeamCity">TeamCity的基本CI工作流程</a></li></ul></li></ul><p></p><a name="WhatisContinuousIntegration?"></a><a name="What-is-Continuous-Integration?"></a><div class="chapter"><h2 id="ContinuousIntegrationwithTeamCity-WhatisContinuousIntegration?">什么是持续集成？</h2><p id="7e9a2e0e">持续集成是一种软件开发实践，其中开发人员每天几次将代码更改提交到共享存储库中。每次提交后都进行自动构建，以确保新的更改可以很好地集成到现有代码库中，并及早发现问题。</p><p id="fad1448f">要了解有关持续集成基础的更多信息，请参阅<a href="http://www.martinfowler.com/articles/continuousIntegration.html" rel="noopener noreferrer" data-external="true" target="_blank">Martin Fowlers文章</a> 。</p></div><a name="WhatisTeamCity?"></a><a name="What-is-TeamCity?"></a><div class="chapter"><h2 id="ContinuousIntegrationwithTeamCity-WhatisTeamCity?">什么是TeamCity？</h2><p id="01050e3b">JetBrains TeamCity是面向开发人员和建筑工程师的用户友好型持续集成（CI）服务器， <a href="http://www.jetbrains.com/teamcity/buy/index.jsp" rel="noopener noreferrer" data-external="true" target="_blank">使用专业服务器许可证免费提供，</a>并且易于设置！</p><a name="WhatcanyoudowithTeamCity?"></a><a name="What-can-you-do-with-TeamCity?"></a><div class="chapter"><h3 id="ContinuousIntegrationwithTeamCity-WhatcanyoudowithTeamCity?">您可以使用TeamCity做什么？</h3><ul class="list _ul"><li class="list__item" id="8942fbdc"><p>在不同的平台和环境上同时运行并行构建</p></li><li class="list__item" id="841b4640"><p>优化代码集成周期，并确保您永远不会在存储库中破坏代码</p></li><li class="list__item" id="c55fbee9"><p>通过智能测试重新排序即时查看测试结果报告</p></li><li class="list__item" id="b9255ac6"><p>运行Java和.NET的代码覆盖率和重复查找程序</p></li><li class="list__item" id="2c49c75e"><p>自定义有关构建持续时间，成功率，代码质量和自定义指标的统计信息</p></li><li class="list__item" id="8474ac32"><p>以及更多。</p></li></ul><p id="a3d40924">要了解有关TeamCity主要功能的更多信息，请访问<a href="http://www.jetbrains.com/teamcity/features/index.html" rel="noopener noreferrer" data-external="true" target="_blank">JetBrains官方网站</a> 。</p><p id="aefb4bc2">可以在<a href="supported-platforms-and-environments.html">此处</a>找到受支持的平台和环境的完整列表。</p></div></div><a name="BasicTeamCityconcepts"></a><a name="Basic-TeamCity-concepts"></a><div class="chapter"><h2 id="ContinuousIntegrationwithTeamCity-BasicTeamCityconcepts">TeamCity基本概念</h2><p id="12f724a5">本节说明主要概念。完整列表可以在<a href="supported-platforms-and-environments.html">这里</a>找到。</p><p id="9996c41a"><b id="45f45a47">TeamCity构建系统</b>包括服务器和<b id="27d2b500">构建代理</b> 。</p><div class="table-wrapper"><table width="100%" id="b5091d18"><thead><tr id="9f7c7fbb" class="ijRowHead"><th id="37ca25f4"><p id="70418caf">概念</p></th><th id="0791dc97"><p id="f1aa1d35">描述</p></th></tr></thead><tbody><tr id="ddc4c983" class="ijRowOdd"><td id="2cfe30ef"><p id="8ecb299e"><b id="c77916a9">建立代理</b></p></td><td id="7423b1fe"><p id="11052b75">实际执行构建过程的软件。它与TeamCity服务器分开安装和配置，即，代理可以安装在单独的计算机上（物理或虚拟），并且可以运行与服务器相同的操作系统（OS）或不同的OS。在TeamCity中构建代理可以具有可能要在其上测试软件的不同平台，操作系统和预配置环境。可以在不同平台上同时运行不同类型的测试，因此开发人员可以获得更快的反馈和更可靠的测试结果。</p><aside class="note " rel="11052b75" id="8429b569" data-title=""><p id="c2899ff1">服务器和代理可以共存于同一台计算机上，但是出于生产目的，出于多种原因，建议将它们安装在不同的计算机上，其中服务器性能是最重要的。</p></aside></td></tr><tr id="ee315cad" class="ijRowEven"><td id="76924ca9"><p id="8b982268"><b id="faffea70">TeamCity服务器</b></p></td><td id="e411c852"><p id="e2a1d95f"><b id="44e28917">服务器</b>本身<b id="cf77cb40">不运行构建或测试：</b>服务器的工作是监视所有连接的构建代理，根据兼容性要求将<a href="build-queue.html">排队的构建分</a>发给代理，并报告结果。有关构建结果的所有信息（构建历史记录和所有与构建相关的数据（工件和构建日志除外），VCS更改，代理，构建队列，用户帐户和用户权限等）都存储在<a href="setting-up-an-external-database.html">数据库中</a> 。</p><aside class="note " rel="e2a1d95f" id="9f9b219e" data-title=""><p id="9e7ff7e7">服务器和代理可以共存于同一台计算机上，但是出于生产目的，出于多种原因，建议将它们安装在不同的计算机上，其中服务器性能是最重要的。</p></aside></td></tr><tr id="bdc75b2b" class="ijRowOdd"><td id="012a1711"><p id="ae744de8"><b id="c5fa4865">项目</b></p></td><td id="3507cb2d"><p id="573db9a5">TeamCity项目对应于软件项目或软件项目的特定版本/发行版。项目是构建配置的集合。</p></td></tr><tr id="b57fc9b8" class="ijRowEven"><td id="4bfccfac"><p id="195a6ce8"><b id="e0f4cdeb">构建配置</b></p></td><td id="a0a52537"><p id="a71087e7">定义构建过程的设置的组合。设置包括<b id="debc26b2">VCS根目录</b> ， <b id="a642f6b9">构建步骤</b> ， <b id="82866d32">构建触发器，</b>如下所述。</p></td></tr><tr id="6d59802b" class="ijRowOdd"><td id="52f6f38a"><p id="4124031a"><b id="002920b9">VCS根</b></p></td><td id="98f919f3"><p id="85053947">版本控制设置（到源，用户名，密码， <a href="vcs-checkout-mode.html">签出模式</a>和其他设置的路径）的集合，用于定义TeamCity如何与版本控制（SCM）系统通信以监视更改并获取构建源。</p></td></tr><tr id="f77a3178" class="ijRowEven"><td id="91cb5b95"><p id="70990614"><b id="2393b79b">建立步骤</b></p></td><td id="c6149d59"><p id="cfdca8f8">要执行的任务。每个构建步骤由a表示<a href="build-runner.html">构建转轮</a>提供集成与特定构建工具（如蚂蚁，摇篮，MSBuild的，等等），一个测试框架（例如NUnit的），或一个代码分析引擎。因此，在一个构建中，您可以执行几个步骤，依次调用测试工具，代码覆盖率，并例如编译项目。</p></td></tr><tr id="eb9dbac1" class="ijRowOdd"><td id="cc4d7dc9"><p id="27337a58"><b id="599826fe">建立触发</b></p></td><td id="9ff1af83"><p id="63e410d6">在某些事件上启动新构建的规则。例如，每次TeamCity在配置的<a href="vcs-root.html">VCS根目录中</a>检测到<b id="b3fbec51">更改</b>时， <a href="configuring-vcs-triggers.html">VCS触发器</a>将自动开始新的构建。</p></td></tr><tr id="b3e38e22" class="ijRowEven"><td id="fea37d66"><p id="da138408"><b id="3e0387c3">更改</b></p></td><td id="e27aabb5"><p id="80c4c0d3">您介绍的源代码的任何修改。如果已将更改提交给版本控制系统，但尚未包含在构建中，则将其视为特定构建配置的待定。</p></td></tr><tr id="2944cf4b" class="ijRowOdd"><td id="b8af758f"><p id="df6d8001"><b id="3782c601">建立</b></p></td><td id="b1ea9b93"><p id="00e9f0cb">指的是：创建应用程序版本的实际过程以及版本本身。触发构建过程后，将其放入<b id="d12c0ff9"><a href="build-queue.html">构建队列，</a></b>并在有可用代理运行时启动。构建完成后，构建代理将<b id="560e6360"><a href="build-artifact.html">Build Artifacts</a></b>发送到服务器。</p></td></tr><tr id="540f45a1" class="ijRowEven"><td id="5ccec29a"><p id="b5a279a1"><b id="36865928">建立列</b></p></td><td id="d348b7fc"><p id="bf720f17"><a href="configuring-build-triggers.html">触发</a>并等待开始的构建列表。代理闲置后，TeamCity会将它们分发给<a href="agent-requirements.html">兼容的</a>构建代理。在代理上启动时，已排队的构建已分配给代理。在构建队列中等待构建时，不会进行任何预分配。</p></td></tr><tr id="a4beb457" class="ijRowOdd"><td id="c8ef195f"><p id="650728b9"><b id="aaa565ab">建立文物</b></p></td><td id="9823794a"><p id="cab26e4d">生成的文件（例如，安装程序，WAR文件，报告，日志文件等）可以下载时使用。</p></td></tr></tbody></table></div><a name="BasicCIWorkflowinTeamCity"></a><a name="Basic-CI-Workflow-in-TeamCity"></a><div class="chapter"><h3 id="ContinuousIntegrationwithTeamCity-BasicCIWorkflowinTeamCity">TeamCity的基本CI工作流程</h3><p id="e4c7c4b2">为了了解服务器与代理之间的数据流，传递给代理的内容，TeamCity获得结果的方式和时间，让我们来看一个简单的构建生命周期。</p><ol class="list _decimal"><li class="list__item" id="fd19678f"><p>TeamCity服务器检测到VCS根目录中的更改并将其存储在数据库中。</p></li><li class="list__item" id="91375a47"><p>构建触发器将看到数据库中的更改，并将构建添加到队列中。</p></li><li class="list__item" id="a6783489"><p>服务器找到一个空闲的兼容构建代理，并将排队的构建分配给该代理。</p></li><li class="list__item" id="4fd13ba5"><p>代理执行构建步骤。在执行构建步骤时，构建代理将构建进度报告给TeamCity服务器，并将所有日志消息，测试报告，代码覆盖率结果等即时发送给服务器，因此您可以实时监视构建过程时间。</p></li><li class="list__item" id="9ec8e091"><p>完成构建后，构建代理会将<a href="build-artifact.html">Build Artifacts</a>发送到服务器。</p></li></ol><p id="7794db5d">现在，您可以继续<a href="installation-quick-start.html">TeamCity安装</a> 。</p><hr id="0c54fe03"></div></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v2/app.js"></script></body></html>