<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v2/analytics.js"></script><title>生成日志-帮助|团队城市</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v2/app.css"></head><body  data-id="Build Log" data-breadcrumbs="teamcity-documentation.md|TeamCity Documentation/concepts.md|Concepts/build-log.md|Build Log" data-main-title="Build Log" data-edit-url="https://github.com/JetBrains/teamcity-documentation/edit/2019.1/topics/build-log.md"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索TeamCity帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>TeamCity 2019.1帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 id="build-log.md" data-toc="Build Log">构建日志</h1><p id="ffc33219"><i id="dc3b1e4d">构建日志</i>是<i id="dc3b1e4d">构建</i>的增强控制台输出。它由构建期间发生的事件的结构化列表表示。通常，它包括有关TeamCity执行的操作的条目以及在构建过程中启动的流程的输出。TeamCity捕获流程输出并将其以内部格式存储，以允许分层显示。</p><p id="362e38e9"></p><ul class="list" data-skip-index="skip"></ul><p></p><a name="ViewingBuildLog"></a><a name="Viewing-Build-Log"></a><h3 id="BuildLog-ViewingBuildLog">查看构建日志</h3><p id="958f9082">可在“ <a href="working-with-build-results.html#Build-Log">构建结果”页面上</a>浏览特定构建的日志。</p><p id="fac4c6e8"><b id="cae232fd">树视图</b>是Web UI中提供的功能最强大的视图。默认情况下，显示所有消息。使用“查看”下拉菜单，您可以从所有消息分别切换到查看<b id="f0deb86e">错误</b> ，或者可以选择“ <b id="f50f7786">重要消息”</b>以查看按“错误”和“警告”状态过滤的日志。您也可以使用“详细”视图级别，并使用相应的链接下载原始构建日志。</p><p id="ad6784a2"><b id="7ee0691a">从TeamCity 10.0开始</b> ，可以通过选中“ <b id="057758bd">使用控制台视图”</b>复选框在构建日志中启用深色主题。</p><p id="2b243df4">您可以通过单击右上角的“ <i id="9e2c5721">下载完整的构建日志”</i>链接，以文本形式或从“构建结果”页面以.zip存档的形式<i id="9e2c5721">下载完整的构建日志</i> 。或者，您可以使用以下URL： <code class="code">http://teamcity:8111/httpAuth/downloadBuildLog.html?buildId=<id></code> 。也可以将构建日志下载为<code class="code">.zip</code>使用用户界面中相应的链接或通过以下URL发送文件： <code class="code">http://teamcity:8111/httpAuth/downloadBuildLog.html?buildId=&archived=true</code> 。</p><a name="BuildLogSize"></a><a name="Build-Log-Size"></a><h3 id="BuildLog-BuildLogSize">生成日志大小</h3><p id="612a8d26">建议保持较小的构建日志，并调整构建脚本，以免在输出中过多打印。大型构建日志很难在浏览器中查看，并且在构建运行时正在将TeamCity基础结构管道构建消息从代理加载到服务器。</p><p id="c1ff1a4c">建议仅在输出中打印了解构建进度和构建失败所需的消息。其余信息应流式传输到日志文件中，并且该文件应作为构建工件发布。一个“好的”构建日志大小最多为兆字节。</p><a name="PartialBuildLogDisplay"></a><a name="Partial-Build-Log-Display"></a><h4 id="BuildLog-PartialBuildLogDisplay">部分构建日志显示</h4><p id="80feb409"><b id="3881b70a">从TeamCity 2017.1开始</b> ，在打开大型构建日志时，TeamCity会显示其中的一部分以避免浏览器挂起。您可以通过单击相应的链接查看完整的构建日志。</p><p id="1770cc42">默认情况下，显示阈值设置为7M个字符，可以使用<code class="code">teamcity.buildLog.sizeThreshold.chars</code> <a href="configuring-teamcity-server-startup-properties.html">内部属性</a> （不适用于运行构建日志和带有状态的日志链接（例如，直接链接到消息）。</p><a name="ANSI-styleColoringinBuildLog"></a><a name="ANSI-style-Coloring-in-Build-Log"></a><h3 id="BuildLog-ANSI-styleColoringinBuildLog">生成日志中的ANSI样式着色</h3><p id="865620a0">TeamCity构建日志默认情况下呈现可单击的超链接并支持ANSI样式的转义颜色代码：如果您的工具生成彩色控制台输出，您将在TeamCity的构建日志中看到。有关<a href="https://youtrack.jetbrains.com/issue/TW-23760#comment=27-1021150" rel="noopener noreferrer" data-external="true" target="_blank">支持的序列</a>的<a href="https://youtrack.jetbrains.com/issue/TW-23760#comment=27-1021150" rel="noopener noreferrer" data-external="true" target="_blank">完整列表，</a>请参见相关的功能请求。</p><p id="b9fd2023">要禁用着色，请设置<code class="code">teamcity.buildLog.ansiColoring.enabled=false</code> <a href="configuring-teamcity-server-startup-properties.html#TeamCity-internal-properties">内部财产</a> 。</p><hr id="3d2d05bc"></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v2/app.js"></script></body></html>