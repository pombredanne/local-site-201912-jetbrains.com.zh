<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v2/analytics.js"></script><title>统计图表-帮助|团队城市</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v2/app.css"></head><body  data-id="Statistic Charts" data-breadcrumbs="teamcity-documentation.md|TeamCity Documentation/user-s-guide.md|User's Guide/statistic-charts.md|Statistic Charts" data-main-title="Statistic Charts" data-edit-url="https://github.com/JetBrains/teamcity-documentation/edit/2019.1/topics/statistic-charts.md"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索TeamCity帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>TeamCity 2019.1帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 id="statistic-charts.md" data-toc="Statistic Charts">统计图</h1><p id="65bd3157">在此页：</p><p id="bb27f3e3"></p><ul class="list" data-skip-index="skip"><li class="list__item"><a href="#StatisticCharts-ProjectStatistics">项目统计</a></li><li class="list__item"><a href="#StatisticCharts-BuildConfigurationStatistics">构建配置统计</a><ul class="list _bullet"><li class="list__item"><a href="#StatisticCharts-SuccessRate">成功率</a></li><li class="list__item"><a href="#StatisticCharts-BuildDuration(excludingthecheckouttime)">构建持续时间（不包括结帐时间）</a></li><li class="list__item"><a href="#StatisticCharts-TimeSpentinQueue">排队时间</a></li><li class="list__item"><a href="#StatisticCharts-TestCount">测试计数</a></li><li class="list__item"><a href="#StatisticCharts-ArtifactsSize">工件尺寸</a></li><li class="list__item"><a href="#StatisticCharts-TimetoFixTests">修复测试的时间</a></li><li class="list__item"><a href="#StatisticCharts-CodeCoverage">代码覆盖率</a></li><li class="list__item"><a href="#StatisticCharts-CodeDuplicates">代码重复</a></li><li class="list__item"><a href="#StatisticCharts-CodeInspection">代码检查</a></li></ul></li><li class="list__item"><a href="#StatisticCharts-TestsStatistics">测试统计</a></li><li class="list__item"><a href="#StatisticCharts-CustomCharts">自定义图表</a></li></ul><p></p><p id="477f1743">为了帮助您随时间跟踪项目状况和各个构建配置，TeamCity会收集其所有历史记录中的统计数据并将其显示为可视图表。统计图可以分为以下几类：</p><ul class="list _ul"><li class="list__item" id="d5752d6b"><p><a href="#Project-Statistics">Project</a> <b id="8a5eb02d">Home</b>上的<b id="8a5eb02d">项目</b> <a href="#Project-Statistics">级别统计</a>信息<b id="8a5eb02d">统计</b>标签。</p></li><li class="list__item" id="63186e85"><p><a href="#Build-Configuration-Statistics">生成配置级别的统计信息</a>可从“ <b id="6034f153">生成配置”主页</b> | <b id="2fa3a696">统计</b>标签。</p></li></ul><p id="164e7c61">无论在“统计信息”选项卡中选择了什么统计级别，您都可以：</p><ul class="list _ul"><li class="list__item" id="53f1e8a2"><p>使用分支过滤器仅查看来自指定分支的结果</p></li><li class="list__item" id="8de0dbb2"><p>使用以下命令以CSV格式下载每个图表数据： <img alt="下载。PNG" title="下载。PNG" src="/help/img/teamcity/2019.1/Download.PNG" id="2368febc" width="19" height="19" class="inline-icon-19">图标</p></li><li class="list__item" id="9fb130b0"><p>使用以下命令为每个图表配置Y轴设置<img alt="齿轮PNG" title="齿轮PNG" src="/help/img/teamcity/2019.1/Cog.PNG" id="980c3fb7" width="19" height="20" class="inline-icon-19">左上角的图标</p></li><li class="list__item" id="5d4a2575"><p>从<b id="7c8c693e">范围</b>下拉列表中为每种统计类型选择一个时间范围。</p></li><li class="list__item" id="dbc56340"><p>按数据系列（例如，代理名称或结果类型）过滤信息。</p></li><li class="list__item" id="511a3ad8"><p>通过选择<b id="6e8ca0e5">平均值</b>复选框查看平均值。</p></li><li class="list__item" id="54549290"><p>筛选出失败的构建，并使用未选中的“ <b id="93e7994d">显示失败”</b>选项仅显示成功的构建。</p></li><li class="list__item" id="61c8c70c"><p>将鼠标悬停在构建上时，查看构建摘要信息，并使用内部版本号链接导航到构建结果页面。</p></li></ul><aside class="note " rel="84110a41" id="f52ee5c1" data-title=""><p id="06178155">统计信息包括有关其所有历史记录中所有构建的信息。但是，根据清理策略，某些构建结果可能会被删除。在这种情况下，您只能查看有关构建的摘要信息，而不能跳转到构建结果页面。</p></aside><a name="ProjectStatistics"></a><a name="Project-Statistics"></a><div class="chapter"><h2 id="StatisticCharts-ProjectStatistics">项目统计</h2><p id="2c3d1b92">对于每个项目，TeamCity都提供可视化的图表，其中包含在整个项目历史中从项目中包括的所有构建配置中收集的统计信息。当相应的数据可用于该项目的配置的构建时，这些图表将显示项目中的构建配置的代码覆盖率，代码检查和代码重复的统计信息。</p><p id="d4507c5a">您可以通过以下方式调整项目级别的图表：</p><ul class="list _ul"><li class="list__item" id="aacac4d7"><a href="customizing-statistics-charts.html#Disabling-Charts-of-Particular-Type-on-Project-Level">禁用特定类型的图表</a></li><li class="list__item" id="6f1aa7f8"><a href="customizing-statistics-charts.html#Showing-Charts-Only-for-Specific-Build-Configurations-on-Project-Level">指定要在图表中使用的构建配置</a></li><li class="list__item" id="29908d49"><p><a href="custom-chart.html">添加自定义项目级图表</a> （单独的页面）</p></li><li class="list__item" id="7b7285db"><p><a href="customizing-statistics-charts.html">自定义预定义的项目级图表</a> （单独的页面）</p></li></ul></div><a name="BuildConfigurationStatistics"></a><a name="Build-Configuration-Statistics"></a><div class="chapter"><h2 id="StatisticCharts-BuildConfigurationStatistics">构建配置统计</h2><p id="76d2782a">统计信息也可在构建配置级别获得。这些图表显示了成功的构建速率，构建持续时间，构建花费在队列中的时间，修复测试所花费的时间，工件大小和测试计数。图表还显示了代码覆盖率，重复项和检查结果（如果这些结果包含在相应的构建配置中）。</p><p id="3a30f734"></p><figure><img alt="建立统计" title="建立统计" src="/help/img/teamcity/2019.1/BCStatistics_8.0.png" id="a0f431b7" width="900" height="972"></figure><p></p><p id="4785480e">也可以<a href="customizing-statistics-charts.html">添加自定义图表</a> 。与项目级别的图表不同，无法禁用构建配置级别的预定义图表。</p><p id="3016d6de">TeamCity自动生成的图表包括以下类型：</p><a name="SuccessRate"></a><a name="Success-Rate"></a><div class="chapter"><h3 id="StatisticCharts-SuccessRate">成功率</h3><p id="c6c69329">该图表跟踪所选时间段内的构建成功率。</p></div><a name="BuildDuration(excludingthecheckouttime)"></a><a name="Build-Duration-(excluding-the-checkout-time)"></a><div class="chapter"><h3 id="StatisticCharts-BuildDuration(excludingthecheckouttime)">构建持续时间（不包括结帐时间）</h3><p id="f1aafa91">此图表使查看者可以监视构建的持续时间。为了更好地了解构建持续时间的变化，请选择一个构建代理或具有类似处理器的构建代理。</p></div><a name="TimeSpentinQueue"></a><a name="Time-Spent-in-Queue"></a><div class="chapter"><h3 id="StatisticCharts-TimeSpentinQueue">排队时间</h3><p id="11e5aa55">此图表跟踪计划后实际开始构建所花费的时间。此信息有助于管理构建代理并确定构建配置的优先级。</p></div><a name="TestCount"></a><a name="Test-Count"></a><div class="chapter"><h3 id="StatisticCharts-TestCount">测试计数</h3><p id="40c4b408">绿色，灰色和红色点分别表示在构建中通过，被忽略或失败的测试（JUnit，NUnit，TestNG等）的数量。在单个构建中对同一测试的所有调用都计为一个测试。有关单个测试的信息可在构建结果页面上找到。</p></div><a name="ArtifactsSize"></a><a name="Artifacts-Size"></a><div class="chapter"><h3 id="StatisticCharts-ArtifactsSize">工件尺寸</h3><p id="3668ac55">该图表跟踪构建生成的所有工件的总大小。</p></div><a name="TimetoFixTests"></a><a name="Time-to-Fix-Tests"></a><div class="chapter"><h3 id="StatisticCharts-TimetoFixTests">修复测试的时间</h3><p id="32532864">当完成测试通过的后续构建完成时，报告完成修复的时间，该测试包含新失败的测试（这意味着度量可以在新构建完成时在完成的构建中更新）。时间计算为这些构建的开始时间之间的差。</p><p id="3e929c3a">此图表跟踪修复特定版本的测试所花费的最长时间。如果并非所有构建测试都已修复，则会显示红色垂直条纹。</p></div><a name="CodeCoverage"></a><a name="Code-Coverage"></a><div class="chapter"><h3 id="StatisticCharts-CodeCoverage">代码覆盖率</h3><p id="5def9112">蓝色，绿色，深青色和紫色点分别显示了测试涵盖的类块，线条和方法的百分比。</p></div><a name="CodeDuplicates"></a><a name="Code-Duplicates"></a><div class="chapter"><h3 id="StatisticCharts-CodeDuplicates">代码重复</h3><p id="34fb4c90">此图表跟踪在代码中发现的重复项的数量。</p></div><a name="CodeInspection"></a><a name="Code-Inspection"></a><div class="chapter"><h3 id="StatisticCharts-CodeInspection">代码检查</h3><p id="020e8fb1">此图表显示红色和黄色的点，分别跟踪发现的错误和警告的数量。</p></div></div><a name="TestsStatistics"></a><a name="Tests-Statistics"></a><div class="chapter"><h2 id="StatisticCharts-TestsStatistics">测试统计</h2><p id="e09aa562">您还可以找到特定测试的一些有用统计信息：“ <b id="bb2b408b">测试历史记录”</b>页面上的“ <b id="5619e217">测试持续时间”</b>图，它可以比较在此构建配置的构建上运行各个测试所花费的时间。有关更多详细信息，请参见<a href="working-with-build-results.html#Test-Duration-Graph">相关页面</a> 。</p></div><a name="CustomCharts"></a><a name="Custom-Charts"></a><div class="chapter"><h2 id="StatisticCharts-CustomCharts">自定义图表</h2><p id="96b99678">可以<a href="customizing-statistics-charts.html">自定义项目级别的图表</a>或/和配置自己的统计图表，例如。以显示总的构建持续时间，包括签出时间，所有构建阶段的持续时间，工件解析和工件发布或显示每个构建阶段持续时间的图表等。详细信息请参见<a href="https://plugins.jetbrains.com/docs/teamcity/custom-statistics.html" rel="noopener noreferrer" data-external="true" target="_blank">专用页面</a></p><hr id="eb0795ce"><p id="cf2267fb"><b id="8e0328ed">也可以看看：</b></p><p id="5b45bf80"><b id="a9ccd5fc">概念</b> ： <a href="build-configuration.html">构建配置</a> <a href="build-state.html">建立状态</a> <a href="change.html">更改</a><br><b id="aebb0b1e">管理员指南</b> ： <a href="customizing-statistics-charts.html">自定义统计图</a></p><hr id="904854e4"></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v2/app.js"></script></body></html>