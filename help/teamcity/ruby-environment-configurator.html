<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v2/analytics.js"></script><title>Ruby Environment Configurator-帮助|帮助团队城市</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v2/app.css"></head><body  data-id="Ruby Environment Configurator" data-breadcrumbs="teamcity-documentation.md|TeamCity Documentation/administrator-s-guide.md|Administrator's Guide/managing-projects-and-build-configurations.md|Managing Projects and Build Configurations/creating-and-editing-build-configurations.md|Creating and Editing Build Configurations/adding-build-features.md|Adding Build Features/ruby-environment-configurator.md|Ruby Environment Configurator" data-main-title="Ruby Environment Configurator" data-edit-url="https://github.com/JetBrains/teamcity-documentation/edit/2019.1/topics/ruby-environment-configurator.md"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索TeamCity帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>TeamCity 2019.1帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 id="ruby-environment-configurator.md" data-toc="Ruby Environment Configurator">Ruby环境配置器</h1><p id="72f62bfc"><i id="db238078">Ruby环境配置器</i>构建功能将Ruby解释器传递给所有构建步骤。构建功能将所选的Ruby解释器和gems bin目录添加到系统PATH环境变量，并在使用<a href="http://rvm.io/" rel="noopener noreferrer" data-external="true" target="_blank">RVM</a>解释器的情况下配置其他必要的环境变量。例如，在<a href="command-line.html">命令行</a>构建运行器中，您将能够直接使用诸如<i id="6370acd3">ruby</i> ， <i id="418918df">rake</i> ， <i id="6ea7a9f5">gem</i> ， <i id="56f3f223">bundle</i>等命令。因此，如果要在启动<a href="rake.html">Rake</a>构建运行器之前安装gems，则需要添加“ <a href="command-line.html">命令行”</a>构建步骤以启动自定义脚本，例如：</p><div class="code-block" data-lang="bash">gem install rake --no-ri --no-rdoc gem install捆绑程序--no-ri --no-rdoc</div><a name="RubyEnvironmentConfiguratorSettings"></a><a name="Ruby-Environment-Configurator-Settings"></a><div class="chapter"><h2 id="RubyEnvironmentConfigurator-RubyEnvironmentConfiguratorSettings">Ruby环境配置器设置</h2><div class="table-wrapper"><table class="  _layout-fixed" width="100%" id="cec021dc"><thead><tr id="6af2c6a7" class="ijRowHead"><th id="b8e52d15"><p id="8eaaa1fc">选项</p></th><th id="d6676081"><p id="b6ee27d0">描述</p></th></tr></thead><tbody><tr id="c7b05409" class="ijRowOdd"><td id="54a8d5fd"><p id="74c55125">Ruby解释器路径</p></td><td id="13c1a5e6"><p id="617371ae">Ruby解释器的路径。如果未指定，将在<code class="code">PATH</code> 。在此字段中，可以使用环境和系统变量的值。<br>例如：</p><div class="code-block" data-lang="none">％env.I_AM_DEFINED_IN_BUILDAGENT_CONFIGURATION％</div></td></tr><tr id="0cbd685a" class="ijRowEven"><td id="07e8727e"><p id="5c0e46ed">RVM解释器</p></td><td id="fd2d9976"><p id="3cd152ef">在此指定RVM解释器名称，以及在构建代理上配置的可选的宝石集。注意，解释器名称不能为空。如果未指定gemset，则将使用默认值。</p><p id="4224edb5">如果您不想使用该选项，则可以使用此选项。 <code class="code">.rvmrc</code>设置，例如在不同的ruby解释器上运行测试，而不是在<code class="code">.rvmrc</code>文件。</p></td></tr><tr id="22be6e6a" class="ijRowOdd"><td id="e19df9f3"><p id="d3eb968d">具有.rvmrc文件的RVM</p></td><td id="8e83970f"><p id="544f9681">在此指定路径<code class="code">.rvmrc</code>相对于checkout目录的文件。如果指定了文件，TeamCity将使用rvm-shell获取环境变量并将其传递到所有构建步骤。</p></td></tr><tr id="40200cc3" class="ijRowEven"><td id="849e25a8"><p id="64c8caf9">如果找不到Ruby解释器，则构建失败</p></td><td id="b068d3c0"><p id="8e5909bb">如果Ruby环境配置器由于在代理程序上找不到解释器而无法将Ruby解释器传递到步骤执行环境，请选中使构建失败的选项。</p></td></tr></tbody></table></div><hr id="81df1876"><p id="8f92c10c"><b id="a87e3ab4">也可以看看：</b></p><p id="d936d206"><b id="61261f9f">管理员指南</b> ： <a href="configuring-build-steps.html">配置构建步骤</a> | <a href="command-line.html">命令行</a> | <a href="rake.html">耙</a></p><hr id="f9cca5d6"></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v2/app.js"></script></body></html>