<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v2/analytics.js"></script><title>Subversion - Help | TeamCity</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v2/app.css"></head><body data-id="Subversion" data-breadcrumbs="teamcity-documentation.md|TeamCity Documentation/administrator-s-guide.md|Administrator's Guide/managing-projects-and-build-configurations.md|Managing Projects and Build Configurations/configuring-vcs-settings.md|Configuring VCS Settings/configuring-vcs-roots.md|Configuring VCS Roots/subversion.md|Subversion" data-main-title="Subversion" data-edit-url="https://github.com/JetBrains/teamcity-documentation/edit/2019.1/topics/subversion.md"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search TeamCity Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>TeamCity 2019.1 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Subversion" id="subversion.md">Subversion</h1><p id="6a68731d">This page contains descriptions of Subversion-specific fields and options available when setting up a VCS root.</p><p id="74e4ecc8">Common VCS Root properties are described <a href="configuring-vcs-roots.html#Common-VCS-Root-Properties">here</a>.</p><p id="e353d9d3">You do not need Subversion client to be installed on the TeamCity server or agents. TeamCity bundles the Java implementation of SVN client (<a href="http://svnkit.com/" data-external="true" target="_blank" rel="noopener noreferrer">SVNKit</a>).</p><a name="SVNConnectionSettings"></a><a name="SVN-Connection-Settings"></a><div class="chapter"><h2 id="Subversion-SVNConnectionSettings">SVN Connection Settings</h2><div class="table-wrapper"><table width="100%" id="12517e6f"><thead><tr id="ed37f422" class="ijRowHead"><th id="b757f3f9"><p id="d95b5039">Option</p></th><th id="d3cb297c"><p id="f8809ac4">Description</p></th></tr></thead><tbody><tr id="6403dd53" class="ijRowOdd"><td id="37721782"><p id="17b2607b">URL</p></td><td id="94f0e22b"><p id="15a0a6aa">Specify the SVN URL that points to the project sources.</p></td></tr><tr id="d3991dd4" class="ijRowEven"><td id="307ffed3"><p id="245f3701">Username</p></td><td id="573b58e4"><p id="213c2810">Specify the SVN user name.</p></td></tr><tr id="788e38c7" class="ijRowOdd"><td id="73b6c28b"><p id="0ac189d4">Password</p></td><td id="9ad4ab6b"><p id="7657779f">Specify the SVN password.</p></td></tr><tr id="50b3e3b5" class="ijRowEven"><td id="9954e227"><p id="164a06af">Configuration Directory</p></td><td id="d401ef2a"><p id="8e16a4cf">You can specify an alternative subversion configuration directory, or use the default one (recommended). This setting also applies to agent-side checkout. TeamCity does not store authentication in SVN configuration directory, but can read settings stored there.</p></td></tr><tr id="d12cfd60" class="ijRowOdd"><td id="364127e3"><p id="08cad179">Use default configuration directory</p></td><td id="b9eaeebe"><p id="351968c0">Check this option to make this the default configuration directory for the SVN connection.</p></td></tr><tr id="789cc181" class="ijRowEven"><td id="0da396c3"><p id="4d620f4f">Externals Support</p></td><td id="e9b90570"><p id="5330ceff">Check one of the following options to control the SVN externals processing.</p><ul class="list _ul"><li class="list__item" id="a347b1ff"><p>Full support (load changes and checkout) - when the option is selected, TeamCity will check out all configuration's sources (including the sources from the externals) and will gather and display information about externals' changes on the <a href="viewing-your-changes.html">Changes</a> tab.</p></li><li class="list__item" id="7c4eb815"><p>Checkout, but ignore changes - when the option is selected, TeamCity will check out the sources from externals but any changes in externals' source files will not be gathered and displayed on the <a href="viewing-your-changes.html">Changes</a> tab. You can use this option if you have several SVN externals and do not want to get information about any changes made in the externals' source files.</p></li></ul><aside class="note " data-title="" rel="d920cbe6" id="e3693eb1"><p id="9ef2ac64"><b id="c0ace9dd">Build revision number impact</b></p><p id="e7bd5d3a">If you use the "<i id="f53da9e6">Checkout, but ignore changes</i>" option, TeamCity will always use the latest repository revision as the revision for checkout (the same revision will be used for the <code class="code">build.vcs.number</code> parameter). For other two options, TeamCity takes the revision of the latest detected change as the revision for checkout.</p></aside><ul class="list _ul"><li class="list__item" id="ab90ee7e"><p>Ignore externals - when the option is selected, TeamCity will ignore any configured <code class="code">svn:externals</code> property, and thus TeamCity will not check for changes or check out any source file from the SVN externals.</p></li></ul><aside class="note " data-title="" rel="2b444802" id="b948c167"><p id="26e6cfb7"><b id="b15203a1">Subversion Repository UUID</b></p><p id="241970a6">TeamCity relies on Subversion repository UUID as an unique identifier of a repository. If you have 2 different repositories with the same UUID (due to repository copy) TeamCity may function incorrectly, for instance, wrong HEAD revision of an external repository can be checked out.</p></aside></td></tr><tr id="d124ddca" class="ijRowOdd"><td id="b6380a11"><p id="3223d101">HTTPS Connections: Accept non-trusted SSL certificates</p><p id="2fc9d0b3">(Enable non-trusted SSL certificate in 10.0)</p></td><td id="49780b3e"><p id="9525d853">When this option is enabled, TeamCity is able to connect to SVN servers without properly signed SSL certificate.</p></td></tr></tbody></table></div><aside class="note " data-title="" rel="12517e6f" id="69ea38d4"><p id="252ccde3">Note that if you have anonymous access for some path within SVN,the entered username will never be used to authenticate when accessing any of its subfolders. Anonymous access will be used instead. This rule only applies for <code class="code">svn://</code> and <code class="code">http(s)://</code> protocols; i.e. if you have a build configuration which uses a combination of this VCS Root + <a href="vcs-checkout-rules.html">VCS Checkout Rules</a> referencing a non-restricted path above the restricted one for another build configuration, changes under the restricted path will be ignored <i id="d18c5876">even</i> if you specify correct username/password for the VCS Root itself.</p></aside></div><a name="SSHsettings"></a><a name="SSH-settings"></a><div class="chapter"><h2 id="Subversion-SSHsettings">SSH settings</h2><div class="table-wrapper"><table width="100%" id="2320f2fa"><thead><tr id="3167d4e8" class="ijRowHead"><th id="d65ed1fe"><p id="19296d30">Option</p></th><th id="e86cab0d"><p id="333ba1f1">Description</p></th></tr></thead><tbody><tr id="32a9e979" class="ijRowOdd"><td id="f9d5e818"><p id="e80943bd">Private Key File Path</p></td><td id="23ce81b9"><p id="56c854aa">Specify the full path to the file that contains the OpenSSH-formatted private key.</p><p id="33257ac4">You can also specify an <a href="ssh-keys-management.html">SSH key uploaded to TeamCity</a></p></td></tr><tr id="9b2d4ef3" class="ijRowEven"><td id="2e86dcf3"><p id="2f78b299">Private Key File Password</p></td><td id="6eb0d850"><p id="012ff6e4">Enter the password to the SSH private key.</p></td></tr><tr id="f8e1039e" class="ijRowOdd"><td id="a80b9f97"><p id="f859e900">SSH Port</p></td><td id="68227973"><p id="f6f11dce">Specify the port used by SSH.</p></td></tr></tbody></table></div><p id="72870db3">Only the OpenSSH format is supported for the key. The key in a format unsupported by TeamCity has to be converted to the OpenSSH format (for example, a Putty private key  (<code class="code">*.ppk</code>) can be converted using <code class="code">PuTTYgen.exe</code>: see Conversions &gt; Export OpenSSH key).</p></div><a name="Checkoutonagentsettings"></a><a name="Checkout-on-agent-settings"></a><div class="chapter"><h2 id="Subversion-Checkoutonagentsettings">Checkout on agent settings</h2><div class="table-wrapper"><table width="100%" id="0ea35259"><thead><tr id="069ed436" class="ijRowHead"><th id="92c3b62f"><p id="075bf9c8">Option</p></th><th id="66d6b81e"><p id="945fe91d">Description</p></th></tr></thead><tbody><tr id="5734abad" class="ijRowOdd"><td id="c0f7cf96"><p id="e67f7226">Working copy format</p></td><td id="b672f2f8"><p id="9905e5ef">Select the format of the working copy. Available values for this option are 1.4 through 1.8 (current default).<br>This option defines the format version of Subversion files located in <code class="code">.svn</code> directories, when <a href="vcs-checkout-mode.html#agent-checkout">the checkout on agent mode</a> is used. The specified format is important in two cases:</p><ul class="list _ul"><li class="list__item" id="e2d00b7b"><p>If you run command-line <code class="code">svn</code> commands on the files checked out by TeamCity. For example, if your working copy has version 1.5, you will not be able to use Subversion 1.4 binaries to work with it.</p></li><li class="list__item" id="11c3e467"><p>If you use new Subversion features; for example, file-based externals which were added in Subversion 1.6. Thus, unless you set the working copy format to 1.6, the file-based externals will not be available in the <b id="bd12f236">checkout on agent</b> mode.</p></li></ul></td></tr><tr id="026ba26f" class="ijRowEven"><td id="bcb79e16"><p id="d4e201af">Revert before update</p></td><td id="0992d629"><p id="4c157a6a">If the option is selected, then TeamCity always runs the <code class="code">svn revert</code> command before updating sources; that is, it will revert all changes in versioned files located in the checkout directory. When the option is disabled and local modifications are detected during the update process, TeamCity runs the <code class="code">svn revert</code> after the update.<br>TeamCity does not delete non-versioned files in the working directory during the revert. For deleting non-versioned files, consider using <a href="build-files-cleaner-swabra.html">Swabra</a>.</p></td></tr></tbody></table></div></div><a name="Labelingsettings"></a><a name="Labeling-settings"></a><div class="chapter"><h2 id="Subversion-Labelingsettings">Labeling settings</h2><div class="table-wrapper"><table width="100%" id="21bd2778"><thead><tr id="0edfbccb" class="ijRowHead"><th id="1bfb2d0b"><p id="4dad9840">Option</p></th><th id="dec01d44"><p id="9bb26263">Description</p></th></tr></thead><tbody><tr id="059471ac" class="ijRowOdd"><td id="1a5e0781"><p id="39652d23">Labeling rules</p></td><td id="c45346cc"><p id="f6dffcba">Specify a newline-delimited set of rules that defines the structure of the repository. See the <a href="vcs-labeling.html#Subversion-Labeling-Rules">detailed format description</a> for more details.</p></td></tr></tbody></table></div></div><a name="AuthenticationforSVNexternals"></a><a name="Authentication-for-SVN-externals"></a><div class="chapter"><h2 id="Subversion-AuthenticationforSVNexternals">Authentication for SVN externals</h2><p id="ddbd755e">TeamCity does not allow specifying SVN externals authentication parameters explicitly, in user interface. To authenticate on the SVN externals server, the following approaches are used:</p><ul class="list _ul"><li class="list__item" id="d0c614d7"><p>authenticate using the same credentials (username/password) as for the main repository</p></li><li class="list__item" id="ea4f9542"><p>authenticate without explicit username/password. In this case, the credentials should be already available to the svn process (usually, they stored in subversion configuration directory). So, this require setting correct "Configuration Directory" or "Default Config Directory" option under <a href="#SVN-Connection-Settings">SVN Connection Settings</a></p></li></ul><p id="2198f400">When TeamCity has to connect to a SVN external, it uses the following sequence:</p><ul class="list _ul"><li class="list__item" id="2625d24b"><p>if the SVN external URL has the same prefix as the main repository (there is a match &gt; 20 characters), TeamCity tries the main repository credentials first, and in case of a failure tries to connect without the username/password (so they picked up from SVN configuration directory)</p></li><li class="list__item" id="75d528b3"><p>if the SVN external URL noticeably differs from the main repository, TeamCity tries to connect without the username/password, and in case of a failure, tries using the credentials from the main repository</p></li></ul></div><a name="Timeouts"></a><a name="Timeouts"></a><div class="chapter"><h2 id="Subversion-Timeouts">Timeouts</h2><p id="cf2f3f14">Sometimes, the SVN checkout operation for remote SVN servers may fail with a error like <code class="code">svn: E175002: timed out waiting for server</code>. Usually this can happen due to network slowness or the SVN server overload.The timeout values for the connection and for read operations can be configured.</p><a name="Connectiontimeout"></a><a name="Connection-timeout"></a><div class="chapter"><h3 id="Subversion-Connectiontimeout">Connection timeout</h3><p id="ea34718e">Connection timeout is applied when TeamCity creates a connection to the SVN server. The default timeout for this operation is <b id="4e5ca868">60 seconds</b>, and can be specified via the TeamCity internal property <code class="code">teamcity.svn.connect.timeout</code>, in seconds. The value of the property is set differently for server-side checkout and agent-side checkout:</p><ul class="list _ul"><li class="list__item" id="f9d4b51e"><p>Server-side operations – <a href="configuring-teamcity-server-startup-properties.html#TeamCity-internal-properties">configure internal property</a></p></li><li class="list__item" id="8f1b2948"><p>Agent-side checkout – <a href="configuring-build-agent-startup-properties.html#Agent-Properties">add start-up property</a></p></li></ul></div><a name="Readtimeout"></a><a name="Read-timeout"></a><div class="chapter"><h3 id="Subversion-Readtimeout">Read timeout</h3><p id="da955a07">The read timeout is used when a connection with the SVN server is established, and TeamCity is waiting for the data from the server. The value of the timeout depends on the SVN server access protocol.</p><a name="SubversionserveraccessviaHTTP/HTTPS(bothserver/agent)"></a><a name="Subversion-server-access-via-HTTP/HTTPS-(both-server/agent)"></a><div class="chapter"><h4 id="Subversion-SubversionserveraccessviaHTTP/HTTPS(bothserver/agent)">Subversion server access via HTTP/HTTPS (both server/agent)</h4><p id="4ec75375">For HTTP read timeout TeamCity uses the <code class="code">http-timeout</code> setting specified in the <code class="code">servers</code> file in the Subversion configuration directory. On Win32 systems, this directory is typically located the Application Data area of the user's profile directory. On Unix/Mac, this directory is usually named <code class="code">$HOME/.subversion</code> for the user account who runs the TeamCity server/agent.</p><p id="b97198dd">If not specified, the default value for the timeout is 1 hour.</p></div><a name="Subversionserveraccessviasvn://orsvnssh://"></a><a name="Subversion-server-access-via-svn://-or-svn-ssh://"></a><div class="chapter"><h4 id="Subversion-Subversionserveraccessviasvn://orsvnssh://">Subversion server access via svn:// or svn+ssh://</h4><p id="4c39ebd5">In this case the read timeout can be specified in seconds via the TeamCity internal property <code class="code">teamcity.svn.read.timeout</code>. The default value is 30 minutes. The value of the property is set differently for server-side checkout and agent-side checkout:</p><ul class="list _ul"><li class="list__item" id="d3b9155f"><p>Server-side operations – <a href="configuring-teamcity-server-startup-properties.html#TeamCity-internal-properties">configure internal property</a></p></li><li class="list__item" id="3200fb7c"><p>Agent-side checkout – <a href="configuring-build-agent-startup-properties.html#Agent-Properties">add start-up property</a></p></li></ul></div></div></div><a name="Miscellaneous"></a><a name="Miscellaneous"></a><div class="chapter"><h2 id="Subversion-Miscellaneous">Miscellaneous</h2><p id="5b17fd72">Directories are not considered changed when they have the <code class="code">svn:mergeinfo</code> Subversion property changes only. See <a href="http://youtrack.jetbrains.com/issue/TW-11452#comment=27-509638" data-external="true" target="_blank" rel="noopener noreferrer">details</a>.</p><hr id="3d8baf00"><p id="bbd753b0"><b id="34f4d5d3">See also:</b></p><p id="b9dc894b"><b id="4b78cea7">Administrator's Guide</b>: <a href="configuring-vcs-settings.html">Configuring VCS Settings</a> | <a href="vcs-checkout-mode.html">VCS Checkout Mode</a></p><hr id="358a8261"></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v2/app.js"></script></body></html>