<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v2/analytics.js"></script><title>NCover - Help | TeamCity</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v2/app.css"></head><body data-id="NCover" data-breadcrumbs="teamcity-documentation.md|TeamCity Documentation/administrator-s-guide.md|Administrator's Guide/managing-projects-and-build-configurations.md|Managing Projects and Build Configurations/creating-and-editing-build-configurations.md|Creating and Editing Build Configurations/configuring-unit-testing-and-code-coverage.md|Configuring Unit Testing and Code Coverage/configuring-.net-code-coverage.md|Configuring .NET Code Coverage/ncover.md|NCover" data-main-title="NCover" data-edit-url="https://github.com/JetBrains/teamcity-documentation/edit/2019.1/topics/ncover.md"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search TeamCity Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>TeamCity 2019.1 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="NCover" id="ncover.md">NCover</h1><p id="9f8e2f0a">TeamCity supports code coverage with NCover (1.x and 3.x) for NUnit tests run via TeamCity NUnit test runner, which can be configured in one of the following ways: web UI, <a href="teamcity-nunit-test-launcher.html">TeamCity NUnit Test Launcher</a>, <a href="nunit-for-msbuild.html">NUnit for MSBuild</a>, <a href="nunit-for-msbuild.html">NUnit for MSBuild</a>, <a href="nunit-for-nant-build-runner.html">NUnit for NAnt Build Runner</a>.</p><p id="a403a1a5">On this page:</p><p id="9cc468ab"><ul class="list" data-skip-index="skip"><li class="list__item"><a href="#NCover-ConfiguringNCover1.x">Configuring NCover 1.x</a></li><li class="list__item"><a href="#NCover-ConfiguringNCover3.x">Configuring NCover 3.x</a></li><li class="list__item"><a href="#NCover-ReportingNCoverResultsManually">Reporting NCover Results Manually</a></li></ul></p><p id="857febec"><b id="1a90da34">Important Notes</b></p><ul class="list _ul"><li class="list__item" id="255e0ab0"><p id="744c9d52">To launch coverage, NCover and NCoverExplorer should be installed on the agent where the coverage build will run.</p></li><li class="list__item" id="4e6b98db"><p id="5e71f893">You don't need to make any modifications to your build script to enable coverage.</p></li><li class="list__item" id="882d4368"><p id="80d833c7">You don't need to explicitly pass any of the NCover/NCoverExplorer arguments to the TeamCity NUnit test runner.</p></li><li class="list__item" id="f1afa524"><p id="f584fdaa">NCover supports .NET Framework 2.0 and 3.5 started under x86 platform (NCover 3.x also supports x64 platform and works with .NET Framework 4.0). Make sure, you use have specified the same platform both for NCover and NUnit.</p></li></ul><a name="ConfiguringNCover1.x"></a><a name="Configuring-NCover-1.x"></a><div class="chapter"><h2 id="NCover-ConfiguringNCover1.x">Configuring NCover 1.x</h2><p id="145aa145">Make sure your NUnit tests run under x86.</p><p id="2d2b2f62">To configure NCover 1.x:</p><ol class="list _decimal"><li class="list__item" id="0b4c3fef"><p>While creating/editing Build Configuration, go to the <b id="8e51cafb">Build Steps</b> page.</p></li><li class="list__item" id="92463e68"><p>Add one of the build steps that support NCover (<a href="net-process-runner.html">.NET Process Runner</a>, <a href="msbuild.html">MSBuild</a>, <a href="mspec.html">MSpec</a>, <a href="nant.html">NAnt</a>, <a href="nunit.html">NUnit</a>), configure unit tests.</p></li><li class="list__item" id="b03ad44a"><p>Select <b id="02ca8713">NCover (1.x)</b> in <b id="226f63a8">.NET coverage tool</b>.</p></li><li class="list__item" id="8c219a56"><p>Set up the NCover options - refer to the description of the available options below.</p></li></ol><div class="table-wrapper"><table width="100%" id="f3bdf1aa"><thead><tr id="f178711b" class="ijRowHead"><th id="9f83a3ef"><p id="3bcf5611">Option</p></th><th id="aac70284"><p id="b238e6b7">Description</p></th></tr></thead><tbody><tr id="5880ba36" class="ijRowOdd"><td id="1d8ff1e4"><p id="6e2f621d">Path to NCover</p></td><td id="f2e21b44"><p id="a95f0b76">Specify the path to NCover installed on the build agent, or use <code class="code">%system.ncover.v1.path%</code> to refer to the auto-detected NCover on the build agent.</p></td></tr><tr id="b2011a8d" class="ijRowEven"><td id="7277910e"><p id="c0ae9fab">Path to NCoverExplorer</p></td><td id="301dc672"><p id="93443b56">Specify the path to NCoverExplorer on the build agent.</p></td></tr><tr id="05b38c0c" class="ijRowOdd"><td id="ed377379"><p id="4f77e4c9">Additional NCover Arguments</p></td><td id="75fe222f"><p id="ec85d9d3">Type additional arguments to be passed to NCover.</p><aside class="note " data-title="" rel="ec85d9d3" id="5203dce8"><ul class="list _ul"><li class="list__item" id="cf10e687"><p>Do not enter the arguments that can be configured in the web UI.</p></li><li class="list__item" id="101adb05"><p>Do not specify the output path for the generated reports. It is configured automatically by TeamCity.</p></li></ul></aside></td></tr><tr id="5688f8de" class="ijRowEven"><td id="1f2eed79"><p id="9a12c604">Assemblies to Profile</p></td><td id="3aabb0c7"><p id="f12cc261">Specify new-line separated assembly names (without paths and extensions), or leave this field blank to profile all assemblies.<br>Equivalent to <code class="code">//a</code> NCover.Console option.</p></td></tr><tr id="5cf92985" class="ijRowOdd"><td id="d761b579"><p id="3841de42">Exclude Attributes</p></td><td id="f6ac5c0f"><p id="f3e7f05c">Specify the classes and methods with defined .NET attribute(s) to be excluded from the coverage statistics.<br>Equivalent to <code class="code">//ea</code> NCover.Console option</p></td></tr><tr id="a4fd9aae" class="ijRowEven"><td id="46ce0727"><p id="e6db40fd">Report Type</p></td><td id="74a052bc"><p id="60b94cbe">Select the report type. For the details, refer to <a href="http://docs.ncover.com/ref/2-0/ncoverexplorer-console/coverage-reporting#report" data-external="true" target="_blank" rel="noopener noreferrer">NCoverExplorer documentation</a>.</p></td></tr><tr id="402741c3" class="ijRowOdd"><td id="454e67b1"><p id="ed5a6c20">Sorting</p></td><td id="74c35463"><p id="444de840">Select the preferred sorting option. For the details, refer to <a href="http://docs.ncover.com/ref/2-0/ncoverexplorer-console/coverage-reporting#sort" data-external="true" target="_blank" rel="noopener noreferrer">NCoverExplorer documentation</a>.</p></td></tr><tr id="9c05177f" class="ijRowEven"><td id="432b80c3"><p id="09754dc7">Additional NCoverExplorer Arguments</p></td><td id="3198597a"><p id="015c864a">Specify additional arguments to be passed to NCoverExplorer. Do not enter here the output path for the reports, nor specify arguments, for which there are corresponding options in the UI.</p></td></tr></tbody></table></div></div><a name="ConfiguringNCover3.x"></a><a name="Configuring-NCover-3.x"></a><div class="chapter"><h2 id="NCover-ConfiguringNCover3.x">Configuring NCover 3.x</h2><p id="6e72433c">Make sure you use have specified the same platform both for NCover and NUnit.</p><p id="90172705">To configure NCover 3.x:</p><ol class="list _decimal"><li class="list__item" id="c3fb76b7"><p>While creating/editing Build Configuration, go to the Build Steps page.</p></li><li class="list__item" id="481a9c74"><p>Add one of the build steps that support NCover (<a href="net-process-runner.html">.NET Process Runner</a>, <a href="msbuild.html">MSBuild</a>, <a href="mspec.html">MSpec</a>, <a href="nant.html">NAnt</a>, <a href="nunit.html">NUnit</a>), configure unit tests.</p></li><li class="list__item" id="bdb8f875"><p>Select <b id="a038dc2e">NCover (3.x)</b> in <b id="a0aabccd">.NET coverage tool</b>.</p></li><li class="list__item" id="04f02245"><p>Set up the NCover options - refer to the description of the available options below.</p></li></ol><div class="table-wrapper"><table width="100%" id="69e25961"><thead><tr id="9e0a02e4" class="ijRowHead"><th id="766eead2"><p id="12e4a8eb">Option</p></th><th id="a8126294"><p id="bcb042fe">Description</p></th></tr></thead><tbody><tr id="10856584" class="ijRowOdd"><td id="36f3b7ae"><p id="8f6b2f19">Path to NCover 3</p></td><td id="b0f3f969"><p id="1d9bbe62">Specify the path to NCover. Alternatively, use <code class="code">%system.ncover.v3.x86.path%</code> or <code class="code">%system.ncover.v3.x64.path%</code> to refer to the auto-detected NCover 3 on the build agent.</p></td></tr><tr id="972a0ec9" class="ijRowEven"><td id="ab3c515e"><p id="83a0c6a9">Run NCover under</p></td><td id="1a4f7eaa"><p id="7e9317b3">Select the preferred platform to run the coverage under - x86 or x64. Make sure the selected platform agrees with the one used for NUnit tests.</p></td></tr><tr id="8f381553" class="ijRowOdd"><td id="4ca2f42c"><p id="487a7254">NCover Arguments</p></td><td id="e0ca8fe0"><p id="7a1ca3f0">Specify NCover arguments, i.e. assemblies to profile and coverage tool specific arguments. Do not enter here arguments, which can be specified in the UI, nor enter here output path for generated reports and NCover process parameters. Use <code class="code">//ias.*</code> to get coverage of all assemblies.</p></td></tr><tr id="1cc042d2" class="ijRowEven"><td id="f058c363"><p id="19dc3a6b">NCover Reporting Arguments</p></td><td id="f359d2d8"><p id="1ec1de32">Specify additional NCover reporting arguments, except for the output path. Use <code class="code">or FullCoverageReport:Html:{teamcity.report.path}</code> to get the report.</p></td></tr></tbody></table></div></div><a name="ReportingNCoverResultsManually"></a><a name="Reporting-NCover-Results-Manually"></a><div class="chapter"><h2 id="NCover-ReportingNCoverResultsManually">Reporting NCover Results Manually</h2><p id="ece637de">If .NET code coverage is collected by the build script and needs to be reported inside TeamCity (for example, <a href="rake.html">Rake</a>, or if you run tests via a test launcher other than TeamCity NUnit Test Launcher), there is a way to let TeamCity know about the coverage data. Read more in <a href="manually-configuring-reporting-coverage.html">Manually Configuring Reporting Coverage</a>.</p><hr id="76f90185"></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v2/app.js"></script></body></html>