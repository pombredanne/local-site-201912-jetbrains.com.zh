<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v2/analytics.js"></script><title>配置VCS根目录-帮助|帮助团队城市</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v2/app.css"></head><body  data-id="Configuring VCS Roots" data-breadcrumbs="teamcity-documentation.md|TeamCity Documentation/administrator-s-guide.md|Administrator's Guide/managing-projects-and-build-configurations.md|Managing Projects and Build Configurations/configuring-vcs-settings.md|Configuring VCS Settings/configuring-vcs-roots.md|Configuring VCS Roots/guess-settings-from-repository-url.md|Guess Settings from Repository URL/clearcase.md|ClearCase/cvs.md|CVS/git.md|Git/ssh-keys-management.md|SSH Keys Management/mercurial.md|Mercurial/perforce.md|Perforce/perforce-vcs-compatibility.md|Perforce VCS Compatibility/perforce-workspace-handling-in-teamcity.md|Perforce Workspace Handling in TeamCity/perforce-streams-as-feature-branches.md|Perforce Streams as feature branches/starteam.md|StarTeam/subversion.md|Subversion/team-foundation-server.md|Team Foundation Server/sourcegear-vault.md|SourceGear Vault/visual-sourcesafe.md|Visual SourceSafe/configuring-vcs-post-commit-hooks-for-teamcity.md|Configuring VCS Post-Commit Hooks for TeamCity" data-main-title="Configuring VCS Roots" data-edit-url="https://github.com/JetBrains/teamcity-documentation/edit/2019.1/topics/configuring-vcs-roots.md"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索TeamCity帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>TeamCity 2019.1帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 id="configuring-vcs-roots.md" data-toc="Configuring VCS Roots">配置VCS根</h1><p id="fd48bece">在此页：</p><p id="17098e59"></p><ul class="list" data-skip-index="skip"><li class="list__item"><a href="#ConfiguringVCSRoots-VCSRootsinTeamCity">TeamCity中的VCS根源</a><ul class="list _bullet"><li class="list__item"><a href="#ConfiguringVCSRoots-CommonVCSRootProperties">常见的VCS根属性</a></li></ul></li></ul><p></p><a name="VCSRoot"></a><p id="2436dd84"><a name="VCSRoots"></a><a name="ConfiguringVCSRoots-VCSRoots"></a></p><a name="VCSRootsinTeamCity"></a><a name="VCS-Roots-in-TeamCity"></a><div class="chapter"><h2 id="ConfiguringVCSRoots-VCSRootsinTeamCity">TeamCity中的VCS根源</h2><p id="a7ada55e"><i id="a578b29d">VCS根</i>定义了<a href="configuring-vcs-settings.html">与版本控制系统</a>的<a href="configuring-vcs-settings.html">连接</a> ，并由一组设置（到源，用户名，密码和其他设置的路径）组成，这些设置定义TeamCity如何与版本控制（SCM）系统通信以<a href="#Common-VCS-Root-Properties">监视更改</a>并获取源建立。VCS根目录可以附加到构建配置或模板。您可以将多个VCS根目录添加到构建配置或模板中，并通过<a href="vcs-checkout-rules.html">VCS Checkout Rules</a>指定存储库中要检出和目标路径的部分。</p><p id="51f3de43"><a name="SharedVCSRoots"></a><a name="ConfiguringVCSRoots-SharedVCSRoots"></a></p><p id="c702e830">VCS根目录是在项目中创建的，并且可用于该项目或其<a href="project.html#Settings-Propagation">子项目中</a>定义的所有构建配置。</p><p id="bc46dc91">您可以查看项目中配置的所有VCS根目录，并使用“ <b id="533e2614">项目设置”的“</b> <b id="ba2529d7">VCS根目录”</b>部分创建/编辑/删除/分离它们。<br>如果有人试图修改用于多个项目或构建配置中的VCS根目录，TeamCity将发出警告，告知对VCS根目录的更改可能会影响其他项目或构建配置。然后，提示用户保存更改并将其应用到所有受影响的项目和构建配置，或制作VCS根目录的副本以供特定的构建配置或项目使用。</p><p id="e5452a8d">在尝试创建新的VCS根目录时，TeamCity将检查该项目中是否存在其他具有相似设置的VCS根目录。如果存在此类VCS根，TeamCity建议使用它们。</p><p id="235ad997"><a name="CommonVCSRootProps"></a><a name="ConfiguringVCSRoots-CommonVCSRootProps"></a></p><p id="1c1fcba8">一旦配置了VCS根目录，TeamCity就会定期在版本控制系统中查询新更改，并在附加了根目录的<a href="build-configuration.html">Build Configurations</a>中显示更改。您可以设置构建配置以在每次TeamCity检测到任何构建配置的VCS根目录中的更改时触发新的构建，这适合大多数情况。当开始构建时，TeamCity从版本控制中获取更改的文件，并将更改应用于<a href="build-checkout-directory.html">Build Checkout Directory</a> 。</p><a name="CommonVCSRootProperties"></a><a name="Common-VCS-Root-Properties"></a><div class="chapter"><h3 id="ConfiguringVCSRoots-CommonVCSRootProperties">常见的VCS根属性</h3><div class="table-wrapper"><table width="100%" id="6481b396"><thead><tr id="604c6492" class="ijRowHead"><th id="c2838ea9"><p id="6b95c65b">属性</p></th><th id="2b41075d"><p id="fd10a808">描述</p></th></tr></thead><tbody><tr id="e06467d4" class="ijRowOdd"><td id="02602b6e"><p id="28cfb7ed">VCS类型</p></td><td id="918da9c8"><p id="2edb6074">TeamCity支持的版本控制系统的类型，例如Perforce，Subversion等。</p></td></tr><tr id="d9006782" class="ijRowEven"><td id="6413a579"><p id="9b4aecc5">VCS根名称</p></td><td id="701eda17"><p id="f0a51c76">在项目的所有VCS根目录中，VCS根目录的唯一名称。</p></td></tr><tr id="0f63b53c" class="ijRowOdd"><td id="c9144698"><a name="VCSRootID"></a><a name="ConfiguringVCSRoots-VCSRootID"></a><p id="adb5098b">VCS根ID</p></td><td id="d2475674"><a name="VCSRootID"></a><a name="ConfiguringVCSRoots-VCSRootID"></a><p id="184d89d4">系统中所有VCS根上的VCS根的唯一<a href="identifier.html">ID</a> 。VCS根ID可以在对VCS根参数和<a href="rest-api.html">REST API的</a>参数引用中使用。如果未指定，将从VCS根参数自动生成。</p></td></tr><tr id="dd8f9748" class="ijRowEven"><td id="71da008d"><p id="2fac04de">储存库网址</p></td><td id="cc448a1a"><p id="40473971">VCS存储库的URL。支持<a href="guess-settings-from-repository-url.html#VCS-URL-Formats">不同格式的</a> URL，例如： <code class="code">http(s)://</code> ， <code class="code">svn://</code> ， <code class="code">ssh://git@</code> ， <code class="code">git://</code>和其他以及Maven格式的URL。</p></td></tr><tr id="8870dab8" class="ijRowOdd"><td id="e9af96e7"><p id="80085556">最小检查间隔</p><a name="checkingInterval"></a><a name="ConfiguringVCSRoots-checkingInterval"></a></td><td id="b90521a1"><p id="673b1391">指定TeamCity多久轮询一次VCS存储库以获取VCS更改。默认情况下，使用全局预定义服务器设置，该设置可以在“ <b id="98691d3e">管理” |</b> “ <b id="98691d3e">管理”中</b>进行修改。 <b id="98691d3e">全局设置</b>页面。间隔时间从基于每个VCS根的最后一次轮询开始就开始。在这里，您可以为当前VCS根目录指定自定义间隔。</p><aside class="note " rel="673b1391" id="ac5bc60e" data-title=""><p id="57e41b5b">如果轮询太频繁，某些公共服务器可能会阻止访问。</p></aside><p id="6d189a60">如果TeamCity检测到使用<a href="configuring-vcs-post-commit-hooks-for-teamcity.html">VCS提交挂钩</a>来触发检查更改，则该间隔将自动增加到预定义的值（4小时）。如果定期检查发现通过提交挂钩未检测到更改，则将检查间隔重置为指定的最小值。</p></td></tr><tr id="8b64577e" class="ijRowEven"><td id="9f5de96d"><a name="svnRootSharing"></a><a name="ConfiguringVCSRoots-svnRootSharing"></a><p id="029f527c">属于项目</p></td><td id="c4d0b740"><p id="342a47d3">每个VCS根目录都属于某个项目，在此部分中，将显示该项目的名称。可以将VCS根目录移到所有子项目的公共父项目，构建配置和当前使用该根目录的模板。</p></td></tr></tbody></table></div><p id="850c5f85">有关VCS特定的配置详细信息，请参阅以下页面：</p><ul class="list _links" data-skip-index="skip"><li class="list__item"><a href="guess-settings-from-repository-url.html">从存储库URL猜测设置</a></li><li class="list__item"><a href="clearcase.html">ClearCase</a></li><li class="list__item"><a href="cvs.html">CVS</a></li><li class="list__item"><a href="git.html">吉特</a><ul class="list _links"><li class="list__item"><a href="ssh-keys-management.html">SSH密钥管理</a></li></ul></li><li class="list__item"><a href="mercurial.html">水银</a></li><li class="list__item"><a href="perforce.html">Perforce</a><ul class="list _links"><li class="list__item"><a href="perforce-vcs-compatibility.html">Perforce VCS兼容性</a></li><li class="list__item"><a href="perforce-workspace-handling-in-teamcity.html">TeamCity中的Perforce工作区处理</a></li><li class="list__item"><a href="perforce-streams-as-feature-branches.html">Perforce Streams作为功能分支</a></li></ul></li><li class="list__item"><a href="starteam.html">星际联盟</a></li><li class="list__item"><a href="subversion.html">颠覆</a></li><li class="list__item"><a href="team-foundation-server.html">Team Foundation服务器</a></li><li class="list__item"><a href="sourcegear-vault.html">SourceGear库</a></li><li class="list__item"><a href="visual-sourcesafe.html">可视SourceSafe</a></li><li class="list__item"><a href="configuring-vcs-post-commit-hooks-for-teamcity.html">为TeamCity配置VCS提交后挂接</a></li></ul><aside class="note " rel="d6abf3c8" id="c3fadd43" data-title=""><p id="1e392733">如果使用以下版本控制系统，请确保在VCS服务器，TeamCity服务器和TeamCity代理上同步系统时间（如果使用了代理端检出）：</p><ul class="list _ul"><li class="list__item" id="fdbfc798"><p>CVS</p></li><li class="list__item" id="4b114881"><p>StarTeam（如果禁用了审计或服务器版本早于9.0）</p></li><li class="list__item" id="631f6b0b"><p>通过外部连接到VCS根目录中定义的主存储库的Subversion存储库</p></li><li class="list__item" id="7f091aef"><p>VSS（所有VSS <a href="http://support.microsoft.com/kb/248240" rel="noopener noreferrer" data-external="true" target="_blank">客户端</a>和TeamCity服务器应具有同步时钟）</p></li></ul></aside><hr id="72668989"></div></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v2/app.js"></script></body></html>