<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v2/analytics.js"></script><title>重复查找器（ReSharper）-帮助|帮助团队城市</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v2/app.css"></head><body  data-id="viewpage.actionpageId113084077" data-breadcrumbs="teamcity-documentation.md|TeamCity Documentation/administrator-s-guide.md|Administrator's Guide/managing-projects-and-build-configurations.md|Managing Projects and Build Configurations/creating-and-editing-build-configurations.md|Creating and Editing Build Configurations/configuring-build-steps.md|Configuring Build Steps/duplicates-finder-resharper.md|Duplicates Finder (ReSharper)" data-main-title="Duplicates Finder (ReSharper)" data-edit-url="https://github.com/JetBrains/teamcity-documentation/edit/2019.1/topics/duplicates-finder-resharper.md"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索TeamCity帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>TeamCity 2019.1帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 id="duplicates-finder-resharper.md" data-toc="viewpage.actionpageId113084077">重复查找器（ReSharper）</h1><p id="629618aa">基于<a href="http://www.jetbrains.com/resharper/features/command-line.html" rel="noopener noreferrer" data-external="true" target="_blank">ReSharper命令行工具</a>的<b id="4f140753">Duplicates finder（ReSharper）</b>构建运行<b id="4f140753">器</b>旨在捕获相似的代码片段，并提供有关在Visual Studio 2003、2005、2008、2010、2012中发现的C＃和Visual Basic .NET代码重复块的报告。 ，2013和2015解决方案。</p><aside class="note " rel="629618aa" id="370cc9d5" data-title=""><p id="99603ef2">该运行程序要求将.NET Framework 4.6.1（或更高版本）安装在将运行构建的代理上。</p></aside><p id="73f62912">在此页：</p><p id="1654cb05"></p><ul class="list" data-skip-index="skip"><li class="list__item"><a href="#DuplicatesFinder(ReSharper)-Sources">资料来源</a></li><li class="list__item"><a href="#DuplicatesFinder(ReSharper)-JetBrainsReSharperCommandLineToolsSettings">JetBrains ReSharper命令行工具设置</a></li><li class="list__item"><a href="#DuplicatesFinder(ReSharper)-DuplicateSearcherSettings">重复的搜索器设置</a><ul class="list _bullet"><li class="list__item"><a href="#DuplicatesFinder(ReSharper)-BuildFailureConditions">构建失败条件</a></li></ul></li></ul><p></p><a name="Sources"></a><a name="Sources"></a><div class="chapter"><h2 id="DuplicatesFinder(ReSharper)-Sources">资料来源</h2><div class="table-wrapper"><table width="100%" id="55581c96"><thead><tr id="51882372" class="ijRowHead"><th id="227d1bd8"><p id="1367e09a">选项</p></th><th id="14f004e2"><p id="3947a343">描述</p></th></tr></thead><tbody><tr id="5494e64e" class="ijRowOdd"><td id="fa71e9ca"><p id="1f874646">包括</p></td><td id="5422eb1e"><p id="31f792bc">使用相对于结帐根的换行符分隔的类似Ant的通配符来指定要包含在重复搜索中的文件。<br>将解析Visual Studio解决方案文件，并替换为解决方案中所有项目的所有源文件。<br>例：<code class="code">src\MySolution.sln</code></p></td></tr><tr id="f6fac60f" class="ijRowEven"><td id="dc34bc52"><p id="8bf18ff2">排除</p></td><td id="dde35a6d"><p id="e9d5220c">输入以换行符分隔的类似Ant的通配符，以从重复搜索中排除文件（例如， <code class="code">*/generated{*}{}.cs</code> ）。条目应相对于结帐根目录。</p></td></tr></tbody></table></div></div><a name="JetBrainsReSharperCommandLineToolsSettings"></a><a name="JetBrains-ReSharper-Command-Line-Tools-Settings"></a><div class="chapter"><h2 id="DuplicatesFinder(ReSharper)-JetBrainsReSharperCommandLineToolsSettings">JetBrains ReSharper命令行工具设置</h2><div class="table-wrapper"><table width="100%" id="0e36d2b2"><thead><tr id="c47f493d" class="ijRowHead"><th id="c6959183"><p id="92f7f3cf">选项</p></th><th id="48d34354"><p id="dbba1243">描述</p></th></tr></thead><tbody><tr id="9e0df512" class="ijRowOdd"><td id="b6212122"><p id="c303a614">R＃CLT主目录</p></td><td id="d855b112"><p id="3ea4afbe">选择ReSharper命令行工具版本。您可以在“ <b id="9d34ba06"><a href="installing-agent-tools.html">管理” |“</a></b>检查”中查看已安装的JetBrains ReSharper命令行工具版本。 <b id="9d34ba06"><a href="installing-agent-tools.html">工具</a></b>页面。如果要使用特定的ReSharper版本运行ReSharper副本（例如，确保与Visual Studio中已安装的版本匹配），则可以使用此页面安装该工具的另一个版本，并且可以将默认版本更改为用过的。</p></td></tr></tbody></table></div></div><a name="DuplicateSearcherSettings"></a><a name="Duplicate-Searcher-Settings"></a><div class="chapter"><h2 id="DuplicatesFinder(ReSharper)-DuplicateSearcherSettings">重复的搜索器设置</h2><div class="table-wrapper"><table class="  _layout-fixed" width="100%" id="160600db"><thead><tr id="28727599" class="ijRowHead"><th id="aa73b834"><p id="f2e56b88">选项</p></th><th id="4d483ac8"><p id="74211a22">描述</p></th></tr></thead><tbody><tr id="3e0d3426" class="ijRowOdd"><td id="3ab5ae3d"><p id="d4b73e44">代码片段比较</p></td><td id="3b819ae4"><p id="600c4ed5">使用这些选项来定义搜索重复代码片段时应丢弃源代码的哪些元素。如果代码片段在结构上相似，但包含不同的变量，字段，方法，类型或文字，则可以认为它们是重复的。请参阅以下示例：</p></td></tr><tr id="21e56910" class="ijRowEven"><td id="a3887e3f"><p id="a7ffdf58">舍弃命名空间</p></td><td id="91c25dee"><p id="a46e94ad">如果选中此选项，则具有不同<i id="f9897fc3">名称空间规范的</i>相似内容将被识别为重复项。</p><div class="code-block" data-lang="bash">NLog。记录仪。GetInstance（）。Log（“ abcd”）;一个日志。记录仪。GetInstance（）。Log（“ abcd”）;</div></td></tr><tr id="6239ed02" class="ijRowOdd"><td id="e5105c29"><p id="1ce23017">舍弃文字</p></td><td id="d4639a29"><p id="1f6c2945">如果选中此选项，则具有不同文字的相似代码行将被识别为重复项。</p><div class="code-block" data-lang="bash">myStatusBar。SetText（“未登录”）; myStatusBar。SetText（“正在登录...”）;</div></td></tr><tr id="a4ff8e65" class="ijRowEven"><td id="39c7270a"><p id="b063ffb5">舍弃局部变量</p></td><td id="ac6c84d0"><p id="74422444">如果选中此选项，则具有不同局部变量名称的相似代码片段将被识别为重复项。</p><div class="code-block" data-lang="bash">整数= 5; + = 6;整数b = 5; b + = 6;</div></td></tr><tr id="5060af66" class="ijRowOdd"><td id="fc70f980"><p id="a09414b8">舍弃类别字段名称</p></td><td id="9f916483"><p id="fa192ff9">如果选中此选项，则具有不同字段名称的相似代码片段将被识别为重复项。</p><div class="code-block" data-lang="bash">安慰。WriteLine（myFoo）;安慰。WriteLine（myBar）; ...在包含类中声明了myFoo和myBar</div></td></tr><tr id="bbcb2a66" class="ijRowEven"><td id="db2ab9da"><p id="2d228c7d">丢弃类型</p></td><td id="f218e9af"><p id="2abc7d78">如果选中此选项，则具有不同类型名称的相似内容将被识别为重复项。这些包括所有可能的类型引用（如下所示）：</p><div class="code-block" data-lang="none">记录仪。GetInstance（“ text”）;其他实用程序。GetInstance（“ text”）; ...其中Logger和OtherUtility都是类型名称（因此，GetInstance是两个类中的静态方法）Logger a =（Logger）GetObject（“ object”）; OtherUtility a =（OtherUtility）GetObject（“ object”）; public int SomeMethod（string param）;公共无效SomeMethod（object [] param）;</div></td></tr><tr id="e6a449ec" class="ijRowOdd"><td id="d0f45c94"><p id="aee6dd07">忽略重复性低于的重复项</p></td><td id="2f5bb6e9"><p id="b1f9325c">使用此字段可以指定检测重复项时要考虑的最低级别的代码块复杂性。</p></td></tr><tr id="04ef11aa" class="ijRowEven"><td id="bc4db1e6"><p id="827d6353">通过打开评论来跳过文件</p></td><td id="3a007190"><p id="870ab3d9">输入以换行符分隔的关键字，以从重复搜索中排除文件开头注释中包含该关键字的文件。</p></td></tr><tr id="cca1e9f6" class="ijRowOdd"><td id="32c2f57e"><p id="e090aa93">按消息子字符串跳过区域</p></td><td id="d9a93d45"><p id="18795f04">输入以换行符分隔的关键字，这些关键字会排除重复搜索中邮件子字符串中包含该关键字的区域。例如，输入“生成的代码”将跳过包含“ Windows Form Designer生成的代码”的区域。</p></td></tr><tr id="c7b69261" class="ijRowEven"><td id="74d1c555"><p id="3a30bd74">启用调试输出</p></td><td id="f31d087a"><p id="21ea41e0">选中此选项可将调试消息包括在构建日志中，并发布包含其他日志的文件（ <code class="code">dotnet-tools-dupfinder.log</code> ）作为人工制品。</p></td></tr></tbody></table></div><a name="BuildFailureConditions"></a><a name="Build-Failure-Conditions"></a><div class="chapter"><h3 id="DuplicatesFinder(ReSharper)-BuildFailureConditions">构建失败条件</h3><p id="0d354fa1">如果构建中的重复项过多，则可以通过设置<a href="build-failure-conditions.html">构建失败条件</a>将其配置为失败。</p><hr id="0327cb0c"></div></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v2/app.js"></script></body></html>