<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v2/analytics.js"></script><title>What's New in TeamCity 2019.1 - Help | TeamCity</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v2/app.css"></head><body data-id="What's New in TeamCity 2019.1" data-breadcrumbs="teamcity-documentation.md|TeamCity Documentation/what-s-new-in-teamcity-2019.1.md|What's New in TeamCity 2019.1" data-main-title="What's New in TeamCity 2019.1" data-edit-url="https://github.com/JetBrains/teamcity-documentation/edit/2019.1/topics/what-s-new-in-teamcity-2019.1.md"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search TeamCity Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>TeamCity 2019.1 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="What's New in TeamCity 2019.1" id="what-s-new-in-teamcity-2019.1.md">What's New in TeamCity 2019.1</h1><p id="6ef81954"><ul class="list" data-skip-index="skip"><li class="list__item"><a href="#WhatsNewinTeamCity2019.1-NewTeamCitydocumentationwebsite">New TeamCity documentation website</a></li><li class="list__item"><a href="#WhatsNewinTeamCity2019.1-RevampedexperimentalTeamCityUI">Revamped experimental TeamCity UI</a></li><li class="list__item"><a href="#WhatsNewinTeamCity2019.1-SupportforGitLab">Support for GitLab</a><ul class="list _bullet"><li class="list__item"><a href="#WhatsNewinTeamCity2019.1-SupportforGitLabmergerequests">Support for GitLab merge requests</a></li></ul></li><li class="list__item"><a href="#WhatsNewinTeamCity2019.1-SupportforBitbucketServerpullrequests">Support for Bitbucket Server pull requests</a></li><li class="list__item"><a href="#WhatsNewinTeamCity2019.1-TeamCitymultinodesetupimprovements">TeamCity multinode setup improvements</a><ul class="list _bullet"><li class="list__item"><a href="#WhatsNewinTeamCity2019.1-Cachedconfigurationfilesonnodes">Cached configuration files on nodes</a></li></ul></li><li class="list__item"><a href="#WhatsNewinTeamCity2019.1-ImprovementsforAmazonspotinstances">Improvements for Amazon spot instances</a><ul class="list _bullet"><li class="list__item"><a href="#WhatsNewinTeamCity2019.1-AWSSpotFleetrequests">AWS Spot Fleet requests</a></li><li class="list__item"><a href="#WhatsNewinTeamCity2019.1-Otherimprovements">Other improvements</a></li></ul></li><li class="list__item"><a href="#WhatsNewinTeamCity2019.1-Buildartifactspublishingoptions">Build artifacts publishing options</a></li><li class="list__item"><a href="#WhatsNewinTeamCity2019.1-Golanguagesupport">Go language support</a></li><li class="list__item"><a href="#WhatsNewinTeamCity2019.1-Usingsnapshotdependencieswithoutsynchronizingrevisions">Using snapshot dependencies without synchronizing revisions</a></li><li class="list__item"><a href="#WhatsNewinTeamCity2019.1-BranchfilterforVCSofbuildconfiguration">Branch filter for VCS of build configuration</a></li><li class="list__item"><a href="#WhatsNewinTeamCity2019.1-Logoutofallsessions">Log out of all sessions</a></li><li class="list__item"><a href="#WhatsNewinTeamCity2019.1-Token-basedauthentication">Token-based authentication</a></li><li class="list__item"><a href="#WhatsNewinTeamCity2019.1-PermanenttokenforauthenticationinTeamCity-YouTrackintegration">Permanent token for authentication in TeamCity-YouTrack integration</a></li><li class="list__item"><a href="#WhatsNewinTeamCity2019.1-Cancelingbuildviaservicemessage">Canceling build via service message</a></li><li class="list__item"><a href="#WhatsNewinTeamCity2019.1-Fasteragentsupgrade">Faster agents upgrade</a></li><li class="list__item"><a href="#WhatsNewinTeamCity2019.1-SeparateMavenartifactrepositoryforallbuildsonagent">Separate Maven artifact repository for all builds on agent</a></li><li class="list__item"><a href="#WhatsNewinTeamCity2019.1-Otherimprovements2">Other improvements</a></li><li class="list__item"><a href="#WhatsNewinTeamCity2019.1-Knownissues">Known issues</a></li><li class="list__item"><a href="#WhatsNewinTeamCity2019.1-Fixedissues">Fixed issues</a></li><li class="list__item"><a href="#WhatsNewinTeamCity2019.1-Previousreleases">Previous releases</a></li></ul></p><a name="NewTeamCitydocumentationwebsite"></a><a name="New-TeamCity-documentation-website"></a><div class="chapter"><h2 id="WhatsNewinTeamCity2019.1-NewTeamCitydocumentationwebsite">New TeamCity documentation website</h2><p id="afd15702">We have reworked the documentation for TeamCity 2019.1 to create a better user experience and ensure a common look and feel across the documentation of all company products.</p><p id="0272e06f">The main product documentation is accessible on the <a href="https://www.jetbrains.com/help/teamcity/teamcity-documentation.html" data-external="true" target="_blank" rel="noopener noreferrer">new documentation website</a>.</p><p id="c2d8038b">The Plugin Development Help is now in a <a href="https://plugins.jetbrains.com/docs/teamcity/developing-teamcity-plugins.html" data-external="true" target="_blank" rel="noopener noreferrer">separate location</a> and its source files have been moved to the public <a href="https://github.com/JetBrains/teamcity-sdk-docs" data-external="true" target="_blank" rel="noopener noreferrer">GitHub repository</a> so our community can contribute to it.</p><p id="27b802db">The <a href="https://confluence.jetbrains.com/display/TW/Documentation" data-external="true" target="_blank" rel="noopener noreferrer">documentation for previous versions</a> is available in Confluence.</p></div><a name="RevampedexperimentalTeamCityUI"></a><a name="Revamped-experimental-TeamCity-UI"></a><div class="chapter"><h2 id="WhatsNewinTeamCity2019.1-RevampedexperimentalTeamCityUI">Revamped experimental TeamCity UI</h2><p id="64697305">The new TeamCity version comes with the reworked UI aiming at improving your experience with the product.</p><p id="fa533c1c"><figure><img alt="SakuraUI" title="SakuraUI" src="/help/img/teamcity/2019.1/SakuraUI.png" id="f21a02a9" width="1000px" height="1394"></figure></p><ul class="list _ul"><li class="list__item" id="6a53b825"><p id="bb3e9e10"><b id="647bc2f7">New Sidebar</b>: You can now easily access and search all your projects and build configurations from the sidebar, tag build configurations or whole projects as your favorites to see them at the top of the sidebar. New changes, build status, new tests, and running builds: all are now visible.</p></li><li class="list__item" id="07bd3bfe"><p id="5ed421a4">The reworked <b id="dd97c976">Project Home</b> page provides a dashboard-style view over your build configurations. Each configuration gets its own card which displays a histogram with up to 14 of the latest builds. The status, the build time as well as the time in the queue are also available. Clicking an individual card takes you to the overview of this build configuration.</p></li><li class="list__item" id="12e85b7f"><p id="c6c4eebc">Revamped <b id="1d51d302">Branches</b> Tab: Branches are now split into categories, and you can expand and collapse them as needed. This helps you keep an overview of your branches and browse them conveniently.<figure><img alt="SakuraBranches" title="SakuraBranches" src="/help/img/teamcity/2019.1/SakuraBranches.png" id="b4b48951" width="600" height="990"></figure></p></li><li class="list__item" id="e6f4c38c"><p id="466e2911">Expandable <b id="f23df8e3">build row</b>: now, TeamCity can show more about builds on a page, and if you need details on a particular build, clicking it will expand the row allowing more information.</p></li><li class="list__item" id="b8fbe240"><p id="dbbf2002">The new UI is in the <b id="2e644e97">experimental</b> stage, and you can switch to it using the icon in the upper right-hand corner of the screen. There is also a new setting in your profile enabling the experimental UI by default. As not all the features are supported by the new UI, it is easy to go back to the classic TeamCity style when needed.</p></li></ul></div><a name="SupportforGitLab"></a><a name="Support-for-GitLab"></a><div class="chapter"><h2 id="WhatsNewinTeamCity2019.1-SupportforGitLab">Support for GitLab</h2><p id="be4682fe">TamCity 2019.1 supports GitLab. It allows creating <a href="integrating-teamcity-with-vcs-hosting-services.html#Connecting-to-GitLab">connections</a> to <a href="https://about.gitlab.com/" data-external="true" target="_blank" rel="noopener noreferrer">GitLab.com</a> and <a href="https://about.gitlab.com/install/ce-or-ee/" data-external="true" target="_blank" rel="noopener noreferrer">GitLab CE/EE</a> so you could easily select a predefined GitLab repository when creating a new project or a build configuration.<br>To be able to authenticate to GitLab during the connection, register an <a href="https://docs.gitlab.com/ee/integration/oauth_provider.html" data-external="true" target="_blank" rel="noopener noreferrer">OAuth application</a> in GitLab with the <code class="code">api</code> and <code class="code">read_repository</code> scopes and generate a secret and an application ID.<br>Enter the secret and application ID, along with the GitLab server URL, when adding a new connection.</p><p id="d600dbb6"><figure><img alt="GitLabConnection" title="GitLabConnection" src="/help/img/teamcity/2019.1/GitLabConnection.png" id="25e89099" width="600" height="1045"></figure></p><a name="SupportforGitLabmergerequests"></a><a name="Support-for-GitLab-merge-requests"></a><div class="chapter"><h3 id="WhatsNewinTeamCity2019.1-SupportforGitLabmergerequests">Support for GitLab merge requests</h3><p id="d3ad8404">We've also added support for <a href="pull-requests.html#GitLab-Merge-Requests">GitLab merge requests</a>, so you can now set up TeamCity to automatically run a build on each merge request and approve it automatically if the build is successful.</p></div></div><a name="SupportforBitbucketServerpullrequests"></a><a name="Support-for-Bitbucket-Server-pull-requests"></a><div class="chapter"><h2 id="WhatsNewinTeamCity2019.1-SupportforBitbucketServerpullrequests">Support for Bitbucket Server pull requests</h2><p id="f8ce0052">Now the <a href="pull-requests.html">Pull Requests</a> build feature can detect pull requests created in Bitbucket Server.<br>To add a Bitbucket VCS root, select <i id="4f7507a3">Bitbucket Server</i> as a <i id="f4378d9c">VSC hosting type</i> and configure the connection parameters:</p><ul class="list _ul"><li class="list__item" id="99fe198c"><p>Authentication type: VCS root credentials or username/password</p></li><li class="list__item" id="ca82d9e1"><p>Filtration by target PR branches</p></li><li class="list__item" id="33f7b9ff"><p>Bitbucket Server's base URL</p></li></ul><p id="18a38c8e"><figure><img alt="PR BitbucketServer" title="PR BitbucketServer" src="/help/img/teamcity/2019.1/PR_BitbucketServer.png" id="c6194799" width="600" height="1072"></figure></p></div><a name="TeamCitymultinodesetupimprovements"></a><a name="TeamCity-multinode-setup-improvements"></a><div class="chapter"><h2 id="WhatsNewinTeamCity2019.1-TeamCitymultinodesetupimprovements">TeamCity multinode setup improvements</h2><p id="85b92b82">To improve scalability of TeamCity, we're working on the ability to set up a cluster, where the main node distributes different responsibilities among other nodes and also handles such tasks as upgrading, licensing, diagnostics, and server configuration. Such multinode setup implies that all secondary nodes are uniform and can perform all tasks in an interchangeable way.<br>In addition to the tasks that can already be performed by a secondary node, in this version secondary nodes can be assigned the “processing the build lifecycle” responsibility, which releases the main server from the build-related tasks, such as processing builds messages coming from agents, and allows you to significantly increase the number of agents.<br>As a result, it is possible to start a single secondary node and assign several responsibilities to it or distribute these responsibilities between several secondary nodes:</p><ul class="list _ul"><li class="list__item" id="8789a2ca"><p>VCS changes collecting</p></li><li class="list__item" id="abfaf7d3"><p>running builds processing</p></li><li class="list__item" id="8bcdd259"><p>serving as a read-only backup node: providing the user interface in the read-only mode</p></li></ul><a name="Cachedconfigurationfilesonnodes"></a><a name="Cached-configuration-files-on-nodes"></a><div class="chapter"><h3 id="WhatsNewinTeamCity2019.1-Cachedconfigurationfilesonnodes">Cached configuration files on nodes</h3><p id="2a9d55be">In a multinode setup, the TeamCity Data Directory is shared among secondary nodes via network. When a secondary node launches, it reads configuration files located in the shared Data Directory. In large setups with thousands of projects and build configurations, downloading lots of files from network storage can take a lot of time.<br>In TeamCity 2019.1, we have optimized this operation by creating a cache of configuration files stored under the node local Data Directory. The files are cached on the first node launch and then updated in runtime which makes the next launches faster.</p></div></div><a name="ImprovementsforAmazonspotinstances"></a><a name="Improvements-for-Amazon-spot-instances"></a><div class="chapter"><h2 id="WhatsNewinTeamCity2019.1-ImprovementsforAmazonspotinstances">Improvements for Amazon spot instances</h2><a name="AWSSpotFleetrequests"></a><a name="AWS-Spot-Fleet-requests"></a><div class="chapter"><h3 id="WhatsNewinTeamCity2019.1-AWSSpotFleetrequests">AWS Spot Fleet requests</h3><p id="563d1e7c">You can now configure <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/spot-fleet.html" data-external="true" target="_blank" rel="noopener noreferrer">spot fleets</a> (collections of instances) to run images, which allows cutting costs by always utilizing just enough instances.<br>To configure an allocation strategy for a spot fleet, open the AWS Management Console and go to <b id="8f8447c6">EC2 | Spot Requests | Request Spot Instances</b>. Here you can select the strategy, set the target capacity, add tags, and so on. Refer to <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/spot-fleet-requests.html" data-external="true" target="_blank" rel="noopener noreferrer">Spot Fleet Requests</a> for more information on the available parameters. When you are done, download the configuration as a JSON file.Now you can add this configuration to the settings of an Amazon image in TeamCity. Select '<i id="161aed57">Spot Instance Fleet</i>' in the '<i id="1228a9fd">Source</i>' drop-down list, insert the JSON configuration into the text area below, and save the new image configuration.</p><p id="b49d030a"><figure><img alt="SpotFleetConfig" title="SpotFleetConfig" src="/help/img/teamcity/2019.1/SpotFleetConfig.png" id="0e2989c5" width="600" height="1276"></figure></p><p id="7430a266">You can monitor the state of all running instances on the <b id="db08ad8e">Agents | Cloud</b> tab.</p></div><a name="Otherimprovements"></a><a name="Other-improvements"></a><div class="chapter"><h3 id="WhatsNewinTeamCity2019.1-Otherimprovements">Other improvements</h3><p id="297b9a6e">In accordance with how EC2 services manage instances, we have made the 'Max price' value optional for <a href="setting-up-teamcity-for-amazon-ec2.html#Amazon-EC2-Spot-Instances-support">spot instances</a> so they can be launched exactly like the on-demand ones.</p></div></div><a name="Buildartifactspublishingoptions"></a><a name="Build-artifacts-publishing-options"></a><div class="chapter"><h2 id="WhatsNewinTeamCity2019.1-Buildartifactspublishingoptions">Build artifacts publishing options</h2><p id="ff6aa2ac">Build artifacts may comprise distribution packages, log files, reports, and so on, taking up a lot of storage space. When a build fails often, you may want to restrict artifacts publishing to successful builds only in order to save disk space.<br>In other cases, you may need to investigate artifacts even if a build has been interrupted.<br>To support all these scenarios, we have added two new options for publishing artifacts to the General Settings of a build configuration.</p><p id="c4066e05">Now you can choose when to publish artifacts:</p><ul class="list _ul"><li class="list__item" id="719dba93"><p><i id="6a0de9dd">Even if build fails</i> (default): as in the previous versions of TeamCity, artifacts are published at the last step of a build if all previous steps have been completed, successfully or not. If the 'stop' command is issued, artifacts are not published.</p></li><li class="list__item" id="472edb9e"><p><i id="de6b2acb">Only if build status is successful</i> (<b id="76ddc844">new</b>): artifacts are published at the last step of a build if all previous steps have been completed successfully. TeamCity checks the current build status on the server before publishing artifacts.</p></li><li class="list__item" id="f207a979"><p><i id="417fc256">Always, even if build stop command was issued</i> (<b id="862d1144">new</b>): artifacts are published for all builds, even for interrupted ones (for example, after the 'stop' command was issued or after the time-out, specified in the build failure conditions).</p></li></ul></div><a name="Golanguagesupport"></a><a name="Go-language-support"></a><div class="chapter"><h2 id="WhatsNewinTeamCity2019.1-Golanguagesupport">Go language support</h2><p id="5a20edda">TeamCity now supports the Go language:</p><p id="a49f6649">To build Go projects:</p><ol class="list _decimal"><li class="list__item" id="176c1542"><p>Make sure a Go compiler is installed on an agent.</p></li><li class="list__item" id="b057ee0e"><p>Add the '<i id="b6af01b5">Golang</i>' build feature to a build configuration.</p></li></ol><p id="1f0bda81">To see Go tests in the TeamCity UI, run them with the  <code class="code">-json</code> flag added to the <a href="command-line.html">Command Line</a> build runner's script: <code class="code">go test -json</code> or add the <code class="code">env.GOFLAGS = -json</code> parameter to the build configuration.</p><p id="167bb234"><figure><img alt="GoEnvParameter" title="GoEnvParameter" src="/help/img/teamcity/2019.1/GoEnvParameter.png" id="0859c8b3" width="600" height="702"></figure></p><aside class="note " data-title="" rel="167bb234" id="db8926e1"><p id="fdbad796">Make sure you use only one of the methods to set the <code class="code">-json</code> flag. Setting it in both build parameters and the runner's script will make Go fail to build.</p></aside></div><a name="Usingsnapshotdependencieswithoutsynchronizingrevisions"></a><a name="Using-snapshot-dependencies-without-synchronizing-revisions"></a><div class="chapter"><h2 id="WhatsNewinTeamCity2019.1-Usingsnapshotdependencieswithoutsynchronizingrevisions">Using snapshot dependencies without synchronizing revisions</h2><p id="288c2fd5">In a TeamCity build chain, all builds linked via snapshot dependencies use the synchronized revision of the source code, but in some cases this may be undesirable.<br>In this version you can disable revision synchronization in a snapshot dependency via the <i id="ea6079e4">Enforce revision synchronization</i>  option, for example, when promoting an older build to a deployment build configuration. The build will be run using the latest deployment scripts.</p><p id="feafb692"><figure><img alt="EnforceRevisionSync" title="EnforceRevisionSync" src="/help/img/teamcity/2019.1/EnforceRevisionSync.png" id="11a7291d" width="600" height="721"></figure></p></div><a name="BranchfilterforVCSofbuildconfiguration"></a><a name="Branch-filter-for-VCS-of-build-configuration"></a><div class="chapter"><h2 id="WhatsNewinTeamCity2019.1-BranchfilterforVCSofbuildconfiguration">Branch filter for VCS of build configuration</h2><p id="b50d09f0">We have added a branch filter to the <a href="configuring-vcs-settings.html">version control settings</a> of a build configuration, similarly to filters in build triggers or test details. In the previous versions of TeamCity, VCS settings allowed disabling builds in the default branch only, but the branch filter offers a more flexible approach. To filter branches, use the syntax described in <a href="working-with-feature-branches.html">Configuring branches</a>.</p><p id="4805fdb7">The VCS branch filter is applied before any other branch filter and limits branches shown in the custom build dialog, branches visible to triggers, and changes from snapshot dependencies.</p></div><a name="Logoutofallsessions"></a><a name="Log-out-of-all-sessions"></a><div class="chapter"><h2 id="WhatsNewinTeamCity2019.1-Logoutofallsessions">Log out of all sessions</h2><p id="d0bf0878">If a user's password is compromised and Built-in Authentication is enabled on the TeamCity server, changing a user password does not mean that the user is logged out of all current sessions in progress, which is a potential security risk.<br>Now there is a new option in your user profile, <b id="f6d04ea1">Log out of all sessions</b>, forcing TeamCity to invalidate all user sessions with the user set, including the current one. The administrator account also has an option to force the user to log out of all sessions. It is also possible to log off all users using the corresponding option on the <b id="0be08b7c">Administration | Authentication</b> page.</p></div><a name="Token-basedauthentication"></a><a name="Token-based-authentication"></a><div class="chapter"><h2 id="WhatsNewinTeamCity2019.1-Token-basedauthentication">Token-based authentication</h2><p id="b1727bfd">In addition to basic authentication via credentials, TeamCity now supports authentication based on permanent access tokens. With tokens, you don't need to expose a user login and password in scripts. Tokens are also useful for the REST API authentication.<br>You can enable/disable the Token-Based Authentication module in the advanced mode of the <b id="e4fb6f99">Authentication</b> page:</p><p id="f93bd1fe"><figure><img alt="TokenAuth" title="TokenAuth" src="/help/img/teamcity/2019.1/TokenAuth.png" id="ff034e9b" width="1000px" height="1076"></figure></p></div><a name="PermanenttokenforauthenticationinTeamCity-YouTrackintegration"></a><a name="Permanent-token-for-authentication-in-TeamCity-YouTrack-integration"></a><div class="chapter"><h2 id="WhatsNewinTeamCity2019.1-PermanenttokenforauthenticationinTeamCity-YouTrackintegration">Permanent token for authentication in TeamCity-YouTrack integration</h2><p id="34e354f2">If you are using the TeamCity integration with YouTrack, you should know that the login-password authentication is deprecated and soon will no longer be supported by YouTrack.</p><p id="b4e7adf8">The TeamCity-YouTrack integration now supports for token-based authorization in REST API calls. It is recommended that you obtain a token and specify it in the connection settings to your issue tracker on the <b id="8aeb202f">Project Settings | Issue Trackers</b> page.</p></div><a name="Cancelingbuildviaservicemessage"></a><a name="Canceling-build-via-service-message"></a><div class="chapter"><h2 id="WhatsNewinTeamCity2019.1-Cancelingbuildviaservicemessage">Canceling build via service message</h2><p id="0f2d2ed5">When you need to cancel a build from a script, for example, a build cannot proceed normally due to the environment, or a build should be canceled form a subprocess, it is possible to do it via the TeamCity REST API passing the build ID, the server URL, as well as the authentication parameters (username and password) to the script.<br>Now TeamCity offers a more elegant way of using a service message to do that just add a line to your build script telling TeamCity to cancel the build. If required, you can re-add the build to the queue after canceling it:</p><div class="code-block" data-lang="bash">echo ##teamcity[buildStop comment='canceling comment' readdToQueue='true']

</div><p id="f6be5c9e">Read more about <a href="build-script-interaction-with-teamcity.html">TeamCity service messages</a>.</p></div><a name="Fasteragentsupgrade"></a><a name="Faster-agents-upgrade"></a><div class="chapter"><h2 id="WhatsNewinTeamCity2019.1-Fasteragentsupgrade">Faster agents upgrade</h2><p id="8f8dc0e1">Previously, build agents downloaded all available tools from the server right after the server upgrade, which could significantly load and slow down the server. To reduce the agents' requests impact on the server and speed up the agents' upgrade, agents now download tools from the server only when starting the first build that requests these tools. The downloaded tools are stored on agents so builds don't spend time on downloading them again.</p></div><a name="SeparateMavenartifactrepositoryforallbuildsonagent"></a><a name="Separate-Maven-artifact-repository-for-all-builds-on-agent"></a><div class="chapter"><h2 id="WhatsNewinTeamCity2019.1-SeparateMavenartifactrepositoryforallbuildsonagent">Separate Maven artifact repository for all builds on agent</h2><p id="df99314a">We have changed the <a href="maven.html#Local-Artifact-Repository-Settings">local artifact repository settings</a> selection for Maven and added an option to create a separate repository for all builds run by an agent.</p><p id="ecef3938">Here is what changed:</p><div class="table-wrapper"><table class=" wide" width="100%" id="cefa913c"><thead><tr id="dc4200a8" class="ijRowHead"><th id="abcaf51e"><p id="947833d5">Old option</p></th><th id="3f96f8d6"><p id="3714dc92">New option</p></th><th id="a5843834"><p id="65512205">Description</p></th></tr></thead><tbody><tr id="621e7aee" class="ijRowOdd"><td id="38b11656"><ul class="list _ul"></ul></td><td id="2730304a"><p id="b2417cf4">Per agent (default)</p></td><td id="8aae3b13"><p id="69560b88">Use a separate repository to store artifacts, produced by all builds run by an agent, under the agent system directory.</p></td></tr><tr id="12351a6f" class="ijRowEven"><td id="923bd88e"><p id="9a4f37fc">Enabled 'Use own local repository for this build configuration'</p></td><td id="116db8db"><p id="c876d7a0">Per build configuration</p></td><td id="eee21487"><p id="f39a4697">Use a separate repository to store artifacts, produced by all builds of the current build configuration.</p></td></tr><tr id="63591dfc" class="ijRowOdd"><td id="e166fb86"><p id="d7d5709d">Disabled 'Use own local repository for this build configuration'</p></td><td id="bccbd80c"><p id="a3bbf59d">Maven default</p></td><td id="36a6ba53"><p id="463d0b23">Use the default Maven repository location. The repository is shared between all build configurations and all agents on the machine.</p></td></tr></tbody></table></div></div><a name="Otherimprovements"></a><a name="Other-improvements"></a><div class="chapter"><h2 id="WhatsNewinTeamCity2019.1-Otherimprovements2">Other improvements</h2><ul class="list _ul"><li class="list__item" id="0e54bb6f"><p>If the '<i id="987c99e1">Docker Support</i>' feature is added to a build configuration, the TeamCity server will automatically add an agent requirement for an installed Docker, so the builds will run on compatible agents only.</p></li><li class="list__item" id="2604a25d"><p>Starting from this version, TeamCity supports Visual Studio 2019 in the related runners: <a href="visual-studio-sln.html">Visual Studio(sln)</a>, <a href="msbuild.html">MSBuild</a>, <a href="visual-studio-tests.html">Visual Studio Test</a>, <a href="inspections-resharper.html">Inspections(ReSharper)</a>, <a href="duplicates-finder-resharper.html">Duplicates Finder(ReSharper)</a>.</p></li><li class="list__item" id="0f432b2f"><p>Investigations Auto Assigner has got a new option, '<i id="9d5fde4a">On second failure</i>', which prevents user assignment for the flaky tests/problems. A user is assigned to investigate a failure only when the failure repeats itself the second time in a row.</p></li><li class="list__item" id="e4299db1"><p>New API for setting agent requirements based on build features.</p></li><li class="list__item" id="a3de8438"><p>The former <i id="b0fa551b">GitHub Pull Requests</i> plugin to <i id="d4beb6f5">Pull Requests</i>.</p></li><li class="list__item" id="b439defe"><p>The server startup performance has been improved.</p></li><li class="list__item" id="63d6c196"><p>The <b id="04a58482"><a href="investigating-and-muting-build-failures.html#Viewing-My-Investigations">My Investigations</a></b> page now displays failures in the currently running builds.</p></li><li class="list__item" id="9412e017"><p><a href="supported-platforms-and-environments.html#Supported-.NET-platform-build-runners">Build runners</a> now support .NET Framework 4.8.</p></li></ul></div><a name="Knownissues"></a><a name="Known-issues"></a><div class="chapter"><h2 id="WhatsNewinTeamCity2019.1-Knownissues">Known issues</h2><ul class="list _ul"><li class="list__item" id="6530ffd8"><p id="91b7ba29">When you use .NET CLI for running a build that tries to pass credentials via some NuGet command, you may receive one of the following errors.</p><ul class="list _ul"><li class="list__item" id="13e3a5fd"><p>If .NET Core SDK 2.x is installed but its version is earlier than 2.1.400:<br>"<i id="581df3c2">Could not load file or assembly 'System.Runtime, Version=&lt;version&gt;, Culture=neutral, PublicKeyToken=&lt;key&gt; or one of its dependencies. The system cannot find the file specified.</i>"</p></li><li class="list__item" id="54923e49"><p>If only .NET Core SDK 3.0 is installed on your server:<br>"<i id="31340111">A plugin was not found at path &lt;path&gt; if only dotnet version 3.0 is installed on an agent.</i>"</p></li></ul><p id="f34f443a">To fix any of these problems, we recommend installing .NET Core SDK 1.x and/or 2.1.400 or later additionally to your current SDK version.</p></li><li class="list__item" id="33c62f2f"><p id="ee23ce8c">If you use Docker images and Windows Server 2019 with process isolation, build agents may fail to start. To work around the issue, use the <code class="code">hyper-v</code> isolation for Docker containers:</p><div class="code-block" data-lang="bash">un --isolation=hyperv …
</div></li></ul></div><a name="Fixedissues"></a><a name="Fixed-issues"></a><div class="chapter"><h2 id="WhatsNewinTeamCity2019.1-Fixedissues">Fixed issues</h2><p id="64b04b0d"><a href="https://confluence.jetbrains.com/display/TW/TeamCity+2019.1+Release+Notes" data-external="true" target="_blank" rel="noopener noreferrer">Full list of fixed issues</a></p></div><a name="Previousreleases"></a><a name="Previous-releases"></a><div class="chapter"><h2 id="WhatsNewinTeamCity2019.1-Previousreleases">Previous releases</h2><p id="9cad8c1b"><a href="https://confluence.jetbrains.com/display/TCD18/What's+New+in+TeamCity+2018.2" data-external="true" target="_blank" rel="noopener noreferrer">What's New in TeamCity 2018.2</a></p><hr id="b56bb141"></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v2/app.js"></script></body></html>