<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v2/analytics.js"></script><title>Build Agent - Help | TeamCity</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v2/app.css"></head><body data-id="Build Agent" data-breadcrumbs="teamcity-documentation.md|TeamCity Documentation/concepts.md|Concepts/build-agent.md|Build Agent" data-main-title="Build Agent" data-edit-url="https://github.com/JetBrains/teamcity-documentation/edit/2019.1/topics/build-agent.md"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search TeamCity Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>TeamCity 2019.1 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Build Agent" id="build-agent.md">Build Agent</h1><p id="2dcf35f1">A TeamCity <i id="4e22acfc">Build Agent</i> is a piece of software which listens for the commands from the TeamCity server and starts the actual build processes. It is <a href="setting-up-and-running-additional-build-agents.html">installed and configured</a> separately from the TeamCity server. An agent can be installed on the same computer as the server or on a different machine (the latter is a preferred setup for server performance reasons); an agent can run the same operating system (OS) as the TeamCity server or a different OS.</p><p id="90358591"><ul class="list" data-skip-index="skip"></ul></p><p id="aedf8fda">A TeamCity build agent contains <a href="configuring-build-agent-startup-properties.html">two processes</a>:</p><ul class="list _ul"><li class="list__item" id="6de1c01c"><p>Agent Launcher — a Java process that launches the agent process</p></li><li class="list__item" id="ce78f7a4"><p>Agent — the main process for a Build Agent; runs as a child process for the agent launcher</p></li></ul><p id="242e8138">An Agent typically checks out the source code, downloads artifacts of other builds and runs the build process. An agent can run a single build at a time. The number of agents basically limits the number of parallel builds and environments in which your build processes are run.<br>An Agent can run builds of any compatible build configuration.</p><p id="3a4670fc">The TeamCity server monitors all the connected agents and assigns queued builds to the agents based on <a href="agent-requirements.html">compatibility requirements</a>, <a href="agent-pools.html">Agent Pools</a>, Build Configuration restrictions configured for an agent and the selection algorithm described <a href="build-queue.html">here</a>.</p><a name="BuildAgentStatus"></a><a name="Build-Agent-Status"></a><h3 id="BuildAgent-BuildAgentStatus">Build Agent Status</h3><p id="8511c215">In TeamCity, a build agent can have following statuses:</p><div class="table-wrapper"><table width="100%" id="f94dfab7"><thead><tr id="2d5b19df" class="ijRowHead"><th width="200" id="fa7f498f"><p id="ce9ad00e">Status</p></th><th id="efa7fda1"><p id="fb5193df">Description</p></th></tr></thead><tbody><tr id="20c99792" class="ijRowOdd"><td id="a62adbea"><p id="90a242b9"><b id="7b7875b0">Connected/ Disconnected</b></p></td><td id="4f912955"><p id="28330c89">An agent is connected if it is registered on the TeamCity server and responds to server commands, otherwise it is <b id="2a687447">disconnected</b>. This status is determined automatically.</p></td></tr><tr id="b51d80f8" class="ijRowEven"><td id="025c9ecf"><a name="agent-authorization"></a><a name="BuildAgent-agent-authorization"></a><p id="dd27388e"><b id="4a8e4238">Authorized/ Unauthorized</b></p></td><td id="60305171"><p id="2b19acdf">Agents are manually authorized via the web UI on the <b id="4b6b6fae">Agents</b> page (except for the agents from the machines launched by the <a href="teamcity-integration-with-cloud-solutions.html">cloud integrations</a>). Only authorized build agents can run builds. The number of authorized agents at any given time cannot exceed the number of <a href="licensing-policy.html#Number-of-Agents">agent licenses</a> entered on the server. When an agent is unauthorized, a license is freed and a different build agent can be authorized. Purchase additional licenses to expand the number of agents that can concurrently run builds. When a new agent is registered on the server for the first time, it is <b id="236d291b">unauthorized</b> by default and requires manual authorization to run the builds.</p><p id="8d409dfe">If a build agent is installed and running on the same computer as the TeamCity build server, it is authorized automatically.</p></td></tr><tr id="adcb95e5" class="ijRowOdd"><td id="7d79c6db"><a name="enable-agent"></a><a name="BuildAgent-enable-agent"></a><p id="25b08448"><b id="96c7d815">Enabled/ Disabled</b></p></td><td id="09a0caf8"><p id="db762dc4">Agents are manually enabled/disabled via the <a href="build-agents-configuration-and-maintenance.html#Enabling/Disabling-Agents-via-UI">web UI</a>. The TeamCity server only distributes builds to agents that are enabled.</p><p id="a018ec6e">Agent disabling does not affect (stop) the build which is currently running on the agent.</p><p id="479fe52b"><b id="173c89d2">Disabled</b> agents can still run builds when the build is assigned to a special agent (for example, by <a href="triggering-a-custom-build.html">triggering a custom build</a>). This feature is generally used to temporarily remove agents from the build grid to investigate agent-specific issues.</p></td></tr></tbody></table></div><p id="dcdff1e2">All agents connected to the server must have unique agent names.</p><p id="42d5af4d">Only users with certain roles can manage agents. See <a href="role-and-permission.html">Role and Permission</a> for more information.</p><p id="a5a1d7d3">For a build agent configuration, refer to the <a href="build-agent-configuration.html">Build Agent Configuration</a> section.</p><a name="AgentUpgrade"></a><a name="Agent-Upgrade"></a><h3 id="BuildAgent-AgentUpgrade">Agent Upgrade</h3><p id="6bc45a1d">A TeamCity agent is upgraded automatically when necessary. The process involves downloading new agent files from the TeamCity server and restarting the agent on the new files. In order to successfully accomplish this, the user under whose account the agent runs should have <a href="setting-up-and-running-additional-build-agents.html#Necessary-OS-and-environment-permissions">enough</a> permissions.</p><p id="bc4a460e">Typically, an agent upgrade happens when:</p><ul class="list _ul"><li class="list__item" id="9032e558"><p>the server is <a href="upgrade.html#Upgrading-TeamCity-Server">upgraded</a></p></li><li class="list__item" id="36c06e53"><p>an agent plugin is <a href="installing-additional-plugins.html">added</a> or <a href="https://plugins.jetbrains.com/docs/teamcity/plugins-packaging.html#PluginsPackaging-AgentUpgradeonUpdatingPlugins" data-external="true" target="_blank" rel="noopener noreferrer">updated</a> on the server</p></li><li class="list__item" id="7dde5614"><a href="installing-agent-tools.html">a new tool is installed</a></li></ul><hr id="3b0df22f"><p id="4e1bef69"><b id="b0cf64a8">See also:</b></p><p id="dccd85b0"><b id="6794f965">Concepts</b>: <a href="build-grid.html">Build Grid</a> | <a href="agent-work-directory.html">Agent Work Directory</a> | <a href="role-and-permission.html">Role and Permission</a><br><b id="2952c81f">Installation and Upgrade</b>: <a href="installation.html#Install-Additional-Build-Agents">Installing and Running Build Agents</a> | <a href="setting-up-and-running-additional-build-agents.html">Setting up and Running Additional Build Agents</a><br><b id="40712102">Administrator's Guide</b>: <a href="agent-pools.html">Agent Pools</a> | <a href="assigning-build-configurations-to-specific-build-agents.html">Assigning Build Configurations to Specific Build Agents</a> | <a href="licensing-policy.html">Licensing Policy</a></p><hr id="b0986b38"></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v2/app.js"></script></body></html>