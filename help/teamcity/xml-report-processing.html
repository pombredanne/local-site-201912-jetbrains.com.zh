<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/resources.jetbrains.com/storage/help-app/v2/analytics.js"></script><title>XML报表处理-帮助|帮助团队城市</title><link rel="stylesheet" href="/resources.jetbrains.com/storage/help-app/v2/app.css"></head><body  data-id="XML Report Processing" data-breadcrumbs="teamcity-documentation.md|TeamCity Documentation/administrator-s-guide.md|Administrator's Guide/managing-projects-and-build-configurations.md|Managing Projects and Build Configurations/creating-and-editing-build-configurations.md|Creating and Editing Build Configurations/adding-build-features.md|Adding Build Features/xml-report-processing.md|XML Report Processing" data-main-title="XML Report Processing" data-edit-url="https://github.com/JetBrains/teamcity-documentation/edit/2019.1/topics/xml-report-processing.md"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索TeamCity帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>TeamCity 2019.1帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 id="xml-report-processing.md" data-toc="XML Report Processing">XML报表处理</h1><p id="be678f43"><i id="714e208b">XML报表处理</i> <a href="adding-build-features.html">构建功能</a>允许使用TeamCity中外部工具生成的报表文件。TeamCity将解析磁盘上的指定文件，并将结果报告为生成结果。</p><p id="0d19f995">还可以通过<a href="build-script-interaction-with-teamcity.html#Importing-XML-Reports">服务消息</a>从构建内部启动报告解析。</p><p id="6c3850a3">XML报告处理支持以下测试框架：</p><ul class="list _ul"><li class="list__item" id="267df44f"><p>JUnit Ant任务</p></li><li class="list__item" id="89c7c75d"><p>Maven Surefire /故障安全插件</p></li><li class="list__item" id="78710afb"><p>NUnit-Console XML报告</p></li><li class="list__item" id="0aba1def"><p>TRX报告（适用于MSTest 2005-2015和VSTest 2012-2015。从TeamCity 10.0.4开始-支持两个引擎的2017版。）</p></li><li class="list__item" id="e7ab6781"><p>Google Test XML报告</p></li><li class="list__item" id="879f88ee"><p>CTest的XML输出</p></li></ul><p id="c299ef3e">和以下代码检查工具：</p><ul class="list _ul"><li class="list__item" id="e53e667b"><p>FindBugs（仅用于代码检查）：仅支持FindBugs本机格式（请参阅相应的<a href="https://findbugs.googlecode.com/svn/trunk/findbugs/etc/bugcollection.xsd" rel="noopener noreferrer" data-external="true" target="_blank">xsd</a> ）。<b id="04639d4b">不</b>支持由FindBugs Maven插件生成的XML报告：它具有完全不同的架构布局和元素。</p></li><li class="list__item" id="dc31a0a4"><p>PMD</p></li><li class="list__item" id="18c67dde"><p>Checkstyle</p></li><li class="list__item" id="50ba4558"><p>JSLint XML报告</p></li></ul><p id="0e4f4755">和下面的代码重复工具：</p><ul class="list _ul"><li class="list__item" id="f9586ec4"><p>PMD复制/粘贴检测器XML报告</p></li></ul><p id="f47a47f2">捆绑的XML Report Processing插件监视指定的报告路径，并且当检测到匹配文件时，将根据指定的报告类型对其进行解析。对于某些报告类型，支持对部分保存的文件进行解析，因此，一旦有第一个数据可用，就会开始报告，并且在写入磁盘时会报告更多数据。</p><p id="e03534f4">该插件仅考虑自构建开始以来已更新的文件（由上一个修改文件时间戳确定）。</p><a name="ConfiguringXMLReportProcessing"></a><a name="Configuring-XML-Report-Processing"></a><div class="chapter"><h2 id="XMLReportProcessing-ConfiguringXMLReportProcessing">配置XML报表处理</h2><p id="3f1abd25">将XML报表处理添加为<a href="adding-build-features.html">构建功能</a>并配置其设置：</p><ul class="list _ul"><li class="list__item" id="1f2c409c"><p>选择报告类型并以以下形式指定监视规则<code class="code">+|-:path</code>用逗号或换行符隔开。</p></li></ul><a name="OR-syntax-tip"></a><aside class="tip sideblock" rel="XMLReportProcessing-ConfiguringXMLReportProcessing" id="0c0aaf75" data-title=""><p id="60e10bdc">在这里， <i id="5fac753f" origin="teamcity-help">管道</i>符号<code class="code">|</code>代表<b id="decce59b" origin="teamcity-help">OR</b>命令，如正则表达式中一样：use <code class="code">+</code>用于包括， <b id="2741ce36" origin="teamcity-help">或</b> <code class="code">-</code>排除。</p></aside><aside class="note " rel="XMLReportProcessing-ConfiguringXMLReportProcessing" id="db0c0361" data-title=""><p id="bfcdd961">要进行处理，报告XML文件（或目录）必须位于checkout目录中，并且路径必须相对于<a href="build-checkout-directory.html">该目录</a> 。</p></aside><p id="946e5e87">没有的路径<code class="code">+|-:</code>前缀被视为包括。支持Ant样式的通配符，例如， <code class="code">dir/**.xml</code>表示所有带有<code class="code">.xml</code>下的扩展<code class="code">dir</code>目录）。</p><aside class="note " rel="946e5e87" id="e5b1d298" data-title=""><p id="074821ad">TeamCity在创建生成的报告后会一次加载它们：确保您的构建过程为每个测试集生成具有唯一名称的文件，而不会覆盖报告文件。此外，文件应在构建时间内具有修改时间戳，否则文件将被丢弃为“过时”（例如，假定已由先前的构建生成）。</p></aside><ul class="list _ul"><li class="list__item" id="d5e634e8"><p>选中“ <b id="eaaa7dac">详细输出”</b>选项以启用到构建日志的详细日志记录。</p></li><li class="list__item" id="25bacda6"><p>对于FindBugs报表处理，有必要在代理上指定FindBugs安装的路径。它将用于检索实际的错误模式，类别及其消息。</p></li><li class="list__item" id="29e83c83"><p>对于FindBugs，PMD和Checkstyle代码检查报告处理，您可以指定最大错误和警告限制，超过这些限制将导致构建失败。如果没有限制，请将这些字段留空。</p></li></ul></div><a name="DevelopmentLinks"></a><a name="Development-Links"></a><div class="chapter"><h2 id="XMLReportProcessing-DevelopmentLinks">开发链接</h2><p id="b7c095de">请参阅<a href="https://plugins.jetbrains.com/plugin/8908-xml-test-reporting" rel="noopener noreferrer" data-external="true" target="_blank">XML测试报告中的</a>插件页面。</p><hr id="2d2d4753"><p id="46cb9f05"><b id="09cb162f">也可以看看：</b></p><p id="26a240d9"><b id="dade8939">概念</b> ： <a href="build-runner.html">Build Runner</a> | <a href="testing-frameworks.html">测试框架</a></p><hr id="21e48bef"></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/resources.jetbrains.com/storage/help-app/v2/app.js"></script></body></html>