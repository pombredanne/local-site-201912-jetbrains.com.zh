<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v2/analytics.js"></script><title>Maven服务器端设置-帮助|帮助团队城市</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v2/app.css"></head><body  data-id="Maven Server-Side Settings" data-breadcrumbs="teamcity-documentation.md|TeamCity Documentation/administrator-s-guide.md|Administrator's Guide/maven-server-side-settings.md|Maven Server-Side Settings" data-main-title="Maven Server-Side Settings" data-edit-url="https://github.com/JetBrains/teamcity-documentation/edit/2019.1/topics/maven-server-side-settings.md"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索TeamCity帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>TeamCity 2019.1帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 id="maven-server-side-settings.md" data-toc="Maven Server-Side Settings">Maven服务器端设置</h1><a name="MavenSettingsResolutionontheServerSide"></a><a name="Maven-Settings-Resolution-on-the-Server-Side"></a><div class="chapter"><h2 id="MavenServer-SideSettings-MavenSettingsResolutionontheServerSide">服务器端的Maven设置解析</h2><p id="211ca860">TeamCity服务器在服务器端调用Maven，以实现诸如Maven依赖关系触发器之类的功能，并在“ Maven”构建配置选项卡上显示Maven模型。</p><p id="7a58939a">您可以使用<b id="0b5f553c">管理|</b>上传Maven设置<b id="0b5f553c">。项目设置| Maven设置</b>选项卡，然后在<a href="maven.html">Maven步骤</a>设置中选择一个上载的设置。</p><p id="a9bbc0d0">在此过程中，TeamCity使用通常的Maven逻辑来查找<code class="code">settings.xml</code>具有几个差异的文件（请参见下文）。</p><a name="GlobalSettings"></a><a name="Global-Settings"></a><div class="chapter"><h3 id="MavenServer-SideSettings-GlobalSettings">全局设置</h3><p id="7ed0d414">Maven <i id="2b719a03">全局级别的</i>设置从<code class="code">.xml</code> TeamCity服务器进程的默认Maven位置中的文件： <code class="code">${env.M2_HOME}/conf/settings.xml</code>要么<code class="code">${system.maven.home}/conf/settings.xml</code> 。<br>的全球价值<code class="code">M2_HOME</code>环境变量和<code class="code">maven.home</code> JVM选项用于TeamCity服务器进程。</p></div><a name="User-LevelSettings"></a><a name="User-Level-Settings"></a><div class="chapter"><h3 id="MavenServer-SideSettings-User-LevelSettings">用户级别设置</h3><p id="43a88328">在构建配置的Maven构建步骤的“ <b id="93b1b250">用户设置”选择</b> <a href="maven.html#User-Settings">部分</a>中定义了Maven <i id="e512e104">用户级</i>设置（如果有多个Maven步骤，则使用第一个中的设置）。</p><p id="8a81429e">提供以下选项：</p><div class="table-wrapper"><table width="100%" id="22c9e708"><thead><tr id="52eb03c8" class="ijRowHead"><th id="6ff345d1"><p id="be4b6c9a">值</p></th><th id="2a4cabb1"><p id="705710a2">描述</p></th></tr></thead><tbody><tr id="ce31e018" class="ijRowOdd"><td id="1d7023c8"><p id="b1cf0999"><default></default></p></td><td id="6eeafc91"><p id="29a4194d">TeamCity在以下位置搜索<code class="code">settings.xml</code>文件（按优先顺序列出）：</p><ol class="list _decimal"><li class="list__item" id="043432cf"><code class="code"><</code><a href="teamcity-data-directory.html"><code class="code">TeamCity Data Directory</code></a><code class="code">>/system/pluginData/maven/settings.xml</code></li><li class="list__item" id="26757fd1"><p><code class="code"><User Home>/.m2/settings.xml</code> （使用运行TeamCity服务器进程的用户的主目录）</p></li></ol></td></tr><tr id="bc983409" class="ijRowEven"><td id="06db488a"><p id="934ae159"><custom></custom></p></td><td id="58e51a39"><p id="54dd6cc1">文件的路径由用户提供。该文件在服务器和运行该版本的所有代理上均应可用。</p></td></tr><tr id="031170ee" class="ijRowOdd"><td id="e4204be0"><p id="93971b4a">上载的设置名称</p></td><td id="0a2da2bd"><p id="6bdd2446">TeamCity自动在服务器和代理上使用指定的文件内容。Maven的设置在项目级别定义： <b id="0d852792">项目设置</b> | <b id="c533be11">Maven设置</b>选项卡。设置存储在<code class="code"><</code> <a href="teamcity-data-directory.html"><code class="code">TeamCity Data Directory</code></a> <code class="code">>/config/projects/<projectID>/pluginData/mavenSettings</code>目录。</p><aside class="note " rel="6bdd2446" id="c28046f3" data-title=""><p id="91d6139b">这些设置在当前项目及其子项目中可用。要覆盖继承的设置，请在子项目中创建一个新的设置文件，其名称与继承的文件相同。</p></aside></td></tr></tbody></table></div><p id="580c126c">有关Maven设置的逻辑，请参阅相关的Maven <a href="http://maven.apache.org/settings.html" rel="noopener noreferrer" data-external="true" target="_blank">文档</a> 。</p><p id="f3576a87">可以在<a href="configuring-maven-triggers.html#Maven-Artifact-Dependency-Trigger">Maven Artifact Dependency Trigger中</a>配置用户级别的设置。</p><hr id="87d4de04"><p id="8090a3aa"><b id="89380bb8">也可以看看：</b></p><p id="59a10c67"><b id="bb1437a2">管理员指南</b> ： <a href="maven.html">Maven</a> | <a href="configuring-maven-triggers.html">Maven工件依赖触发器</a></p><hr id="d45ee0ed"></div></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v2/app.js"></script></body></html>