<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v2/analytics.js"></script><title>MSBuild - Help | TeamCity</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v2/app.css"></head><body data-id="MSBuild" data-breadcrumbs="teamcity-documentation.md|TeamCity Documentation/administrator-s-guide.md|Administrator's Guide/managing-projects-and-build-configurations.md|Managing Projects and Build Configurations/creating-and-editing-build-configurations.md|Creating and Editing Build Configurations/configuring-build-steps.md|Configuring Build Steps/msbuild.md|MSBuild" data-main-title="MSBuild" data-edit-url="https://github.com/JetBrains/teamcity-documentation/edit/2019.1/topics/msbuild.md"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search TeamCity Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>TeamCity 2019.1 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="MSBuild" id="msbuild.md">MSBuild</h1><p id="db59bf67">This page contains reference information for the <b id="50b4bd2b">MSBuild</b> build runner fields.</p><p id="d04e6255">On this page:</p><p id="92f9779e"><ul class="list" data-skip-index="skip"><li class="list__item"><a href="#MSBuild-GeneralBuildRunnerOptions">General Build Runner Options</a></li><li class="list__item"><a href="#MSBuild-CodeCoverage">Code Coverage</a></li><li class="list__item"><a href="#MSBuild-Implementationnotes">Implementation notes</a></li></ul></p><aside class="note " data-title="" rel="92f9779e" id="8dee37c4"><p id="0a990af1">The MSBuild runner requires .NET Framework or Mono installed on the build agent. <a href="http://blogs.msdn.com/b/visualstudio/archive/2013/07/24/msbuild-is-now-part-of-visual-studio.aspx" data-external="true" target="_blank" rel="noopener noreferrer">Microsoft Build Tools</a> 2013-2019 are supported.</p><p id="b079ecdc">Before setting up a build configuration to use MSBuild as the build runner, make sure you are using an XML build project file with the MSBuild runner.</p><p id="781971d3">To build a Microsoft Visual Studio solution file, you can use the <a href="visual-studio-sln.html">Visual Studio (sln)</a> build runner.</p></aside><a name="GeneralBuildRunnerOptions"></a><a name="General-Build-Runner-Options"></a><div class="chapter"><h2 id="MSBuild-GeneralBuildRunnerOptions">General Build Runner Options</h2><div class="table-wrapper"><table width="100%" id="34a5eb84"><thead><tr id="74d605a3" class="ijRowHead"><th id="1568e2ac"><p id="367a10e6">Option</p></th><th id="43dd548e"><p id="99794bf2">Description</p></th></tr></thead><tbody><tr id="5d454772" class="ijRowOdd"><td id="6839dd31"><p id="423897ec">Build file path</p></td><td id="dc990934"><p id="e7f68fe3">Specify the path to the solution to be built relative to the <a href="build-checkout-directory.html">build checkout directory</a>. For example, <code class="code">vs-addin\addin\addin.sln</code>.</p></td></tr><tr id="55a39e8d" class="ijRowEven"><td id="01d80ceb"><p id="efe96a3d">Working directory</p></td><td id="5a361183"><p id="1aa3c983">Optional. Specify the path to the <a href="build-working-directory.html">build working directory</a> if it differs from the build checkout directory.</p></td></tr><tr id="1500f956" class="ijRowOdd"><td id="f35f4ff8"><p id="ce72fcb8">MSBuild version</p></td><td id="386876d7"><p id="06f6d0bd">Select the MSBuild version: .NET Framework, Mono xbuild or Microsoft Build Tools.</p></td></tr><tr id="6287056c" class="ijRowEven"><td id="1452c460"><p id="d796c661">MSBuild ToolsVersion</p></td><td id="d7473203"><p id="65a35d4e">Specify here the version of tools that will be used to compile (equivalent to the <code class="code">/toolsversion:</code> commandline argument).</p><aside class="note " data-title="" rel="65a35d4e" id="4c476ad0"><p id="9392661b">MSBuild supports compilation to older versions, thus you may set <b id="84950ec1">MSBuild version</b> as 4.6.1 with <b id="c47a5dd8">MSBuild ToolsVersion</b> set to 2.0 to produce .NET 2.0 assemblies while running MSBuild from .NET Framework 4.6.1. For more information, refer to <a href="http://msdn.microsoft.com/en-us/library/bb383796(VS.100).aspx" data-external="true" target="_blank" rel="noopener noreferrer">this article</a></p></aside></td></tr><tr id="206b1792" class="ijRowOdd"><td id="7a292cba"><p id="549de39e">Run platform</p></td><td id="6a0d2e44"><p id="b35958e5">From the drop-down list select the desired execution mode on a x64 machine.</p></td></tr><tr id="cd9cb732" class="ijRowEven"><td id="1ab6abef"><p id="30b8e810">Targets</p></td><td id="bb6713f1"><p id="a23a98cb">A target is an arbitrary script for your project purposes. Enter targets separated by spaces. The available targets can be viewed in the Web UI by clicking the icon next to the field and added by checking the appropriate boxes.</p></td></tr><tr id="879bd1aa" class="ijRowOdd"><td id="6be00677"><p id="30d075b2">Command line parameters</p></td><td id="44e542a3"><p id="00ebed80">Specify any additional parameters for <code class="code">MSBuild.exe.</code></p></td></tr><tr id="ea3f051c" class="ijRowEven"><td id="47f6dac3"><p id="fcef54d3">Reduce test failure feedback time</p></td><td id="373df6ba"><p id="0687e251">Use this option to instruct TeamCity to run the tests which failed in the previous builds before others.</p></td></tr></tbody></table></div></div><a name="CodeCoverage"></a><a name="Code-Coverage"></a><div class="chapter"><h2 id="MSBuild-CodeCoverage">Code Coverage</h2><p id="6d622a96">To learn about configuring code coverage options, refer to the <a href="configuring-net-code-coverage.html">Configuring .NET Code Coverage</a> page.</p></div><a name="Implementationnotes"></a><a name="Implementation-notes"></a><div class="chapter"><h2 id="MSBuild-Implementationnotes">Implementation notes</h2><p id="99c6c559">MSBuild runner generates an MSBuild script that includes user's script. This script is used to add TeamCity-provided MSBuild tasks. Your MSBuild script will be included with the &lt;Import&gt; task. If you specified a Visual Studio solution file, it will be called from the &lt;MSBuild&gt; task. To disable it, set <code class="code">teamcity.msbuild.generateWrappingScript</code> to <code class="code">false</code>.</p><hr id="7edf618d"><p id="dd668f44"><b id="9c7ef673">See also:</b></p><p id="aa4a375e"><b id="8b14b0bf">Concepts</b>: <a href="build-runner.html">Build Runner</a> | <a href="build-checkout-directory.html">Build Checkout Directory</a><br><b id="6a1fb052">Administrator's Guide</b>: <a href="nunit-for-msbuild.html">NUnit for MSBuild</a> | <a href="msbuild-service-tasks.html">MSBuild Service Tasks</a></p><hr id="5e9d6b37"></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v2/app.js"></script></body></html>