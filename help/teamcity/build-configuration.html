<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/resources.jetbrains.com/storage/help-app/v2/analytics.js"></script><title>构建配置-帮助|团队城市</title><link rel="stylesheet" href="/resources.jetbrains.com/storage/help-app/v2/app.css"></head><body  data-id="Build Configuration" data-breadcrumbs="teamcity-documentation.md|TeamCity Documentation/concepts.md|Concepts/build-configuration.md|Build Configuration" data-main-title="Build Configuration" data-edit-url="https://github.com/JetBrains/teamcity-documentation/edit/2019.1/topics/build-configuration.md"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索TeamCity帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>TeamCity 2019.1帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 id="build-configuration.md" data-toc="Build Configuration">构建配置</h1><p id="a0239f34"><i id="e58a9602">构建配置</i>是用于启动构建并将UI中的构建顺序分组的设置的集合。构建配置的示例包括<i id="992bf133">分发</i> ， <i id="535c92e4">集成测试</i> ， <i id="5caad30e">准备发布分发</i> ， <i id="affebfed">“每晚”构建</i> 。</p><p id="76de2236">生成配置属于<a href="project.html">项目，</a>并且包含生成。您可以在其<a href="viewing-build-configuration-details.html">主页上</a>浏览构建配置的详细信息，并在<a href="creating-and-editing-build-configurations.html">编辑页面</a>上修改其设置。</p><p id="90424c3e">建议对每个构建顺序都有单独的构建配置（即在专用环境中执行指定任务）。这可以使适当的功能正常运行，例如检测新问题/失败的测试，首次失败/修复的测试状态，自动删除的调查等等。</p><p id="f92a4c32">要处理数量更多的构建配置，可以使用<a href="build-configuration-template.html">构建配置模板</a>和项目级<a href="configuring-build-parameters.html">参数</a> 。</p><p id="7557e456">在此页：</p><p id="a2060623"></p><ul class="list" data-skip-index="skip"><li class="list__item"><a href="#BuildConfiguration-BuildConfigurationSettings">构建配置设置</a></li><li class="list__item"><a href="#BuildConfiguration-BuildConfigurationTypes">构建配置类型</a></li><li class="list__item"><a href="#BuildConfiguration-BuildConfigurationState">构建配置状态</a><ul class="list _bullet"><li class="list__item"><a href="#BuildConfiguration-Pausing/Activatingasinglebuildconfiguration">暂停/激活单个构建配置</a></li><li class="list__item"><a href="#BuildConfiguration-Pausing/Activatingseveralbuildconfigurationsofaproject">暂停/激活项目的多个构建配置</a></li></ul></li><li class="list__item"><a href="#BuildConfiguration-BuildConfigurationStatus">构建配置状态</a><ul class="list _bullet"><li class="list__item"><a href="#BuildConfiguration-StatusDisplayforSetofBuildConfigurations">一组构建配置的状态显示</a></li></ul></li></ul><p></p><a name="BuildConfigurationSettings"></a><a name="Build-Configuration-Settings"></a><div class="chapter"><h2 id="BuildConfiguration-BuildConfigurationSettings">构建配置设置</h2><p id="02a7887e">构建配置设置包括：</p><ul class="list _ul"><li class="list__item" id="e1d0ddc8"><a href="configuring-general-settings.html">通用设置</a></li><li class="list__item" id="b3afdf29"><p><a href="vcs-root.html">版本控制设置</a> ，定义如何从VCS检索源代码，将其检出到何处等</p></li><li class="list__item" id="6effb2a3"><p><a href="configuring-build-steps.html">构建步骤</a> ，它们是按顺序运行的操作：例如，运行msbuild，脚本或单元测试</p></li><li class="list__item" id="c1137953"><p><a href="configuring-build-triggers.html">触发器</a> ，它们是定义何时开始新构建的规则</p></li><li class="list__item" id="76c26bc7"><p><a href="build-failure-conditions.html">失败条件，</a>指定何时将构建标记为失败</p></li><li class="list__item" id="19bcb71b"><p>其他<a href="adding-build-features.html">构建功能</a></p></li><li class="list__item" id="07c8a25d">依存关系：<ul class="list _ul"><li class="list__item" id="59e489c2"><p>对于<a href="snapshot-dependencies.html">快照依赖关系</a> ，TeamCity将在其依赖的构建开始时在源上运行所有依赖的构建</p></li><li class="list__item" id="9b911fa5"><p>对于<a href="artifact-dependencies.html">工件依赖关系</a> ，在开始构建之前，将下载此构建依赖的所有工件并将其放置在其配置的目标位置，然后由构建使用</p></li></ul></li><li class="list__item" id="092265ab"><p>允许共享设置的<a href="configuring-build-parameters.html">参数</a></p></li><li class="list__item" id="07d7e475"><p>代理要求，用于指定<a href="">构建配置</a>是否可以在特定的<a href="build-agent.html">构建代理</a>上运行。</p></li></ul><aside class="note " rel="5af08d4d" id="906682c8" data-title=""><p id="cb02cba9">构建配置设置和构建行为可能会根据构建配置的类型而有所不同。</p></aside></div><a name="BuildConfigurationTypes"></a><a name="Build-Configuration-Types"></a><div class="chapter"><h2 id="BuildConfiguration-BuildConfigurationTypes">构建配置类型</h2><p id="832e7cb9">TeamCity中存在以下构建配置类型：</p><ul class="list _ul"><li class="list__item" id="9e417efc"><p>定期的构建配置，定义适用于源代码的操作和规则；以上所有设置均适用</p></li><li class="list__item" id="cd2d0978"><p><a href="deployment-build-configuration.html">部署构建配置</a> ，它将其他构建的工件部署到某个环境</p></li><li class="list__item" id="12841392"><p><a href="composite-build-configuration.html">组合构建配置</a> ，它汇总了快照依赖关系组合的其他多个构建的结果，并在一个地方显示</p></li></ul></div><a name="BuildConfigurationState"></a><a name="Build-Configuration-State"></a><div class="chapter"><h2 id="BuildConfiguration-BuildConfigurationState">构建配置状态</h2><p id="4105d691">构建配置的特点是其状态在UI中可见，可以<i id="4b94527b">暂停</i>或<i id="4ce0bb08">激活</i> 。默认情况下，创建后，所有配置均处于活动状态，可以按如下所述手动暂停；如果<a href="archiving-projects.html">归档</a>了项目，则可以自动暂停。</p><p id="6835967c">如果构建配置被<i id="73729dd7">暂停</i> ，则会禁用其<a href="configuring-build-triggers.html">自动构建触发器</a> ，直到激活该配置。不过，您可以手动或作为<a href="build-chain.html">构建链</a>的一部分自动开始暂停的配置的<a href="build-chain.html">构建</a> 。此外，有关已暂停的构建配置的信息不会显示在“ <a href="viewing-your-changes.html">更改”</a>页面上。</p><p id="6700cee5">可以手动暂停项目的所有或选定的构建配置。</p><a name="Pausing/Activatingasinglebuildconfiguration"></a><a name="Pausing-/-Activating-a-single-build-configuration"></a><div class="chapter"><h3 id="BuildConfiguration-Pausing/Activatingasinglebuildconfiguration">暂停/激活单个构建配置</h3><p id="d719003c">在“ <b id="b5b3e4ab">构建配置设置”</b>或“ <b id="069db2d9">主页”</b>上：</p><ul class="list _ul"><li class="list__item" id="6c3bd401"><p>打开“ <b id="c5378035">操作”</b>菜单，单击“ <b id="ddc14287">暂停”</b> ，然后在“ <i id="3f3595cc">暂停”</i>对话框中输入您的评论（可选）。<br>要从生成<a href="build-queue.html">队列</a>中<i id="454ddd25">删除已</i>暂停的生成配置，请选中<i id="454ddd25">取消已排队的生成</i>框。单击<b id="6a7e189c">暂停</b>进行确认。</p></li><li class="list__item" id="4f60e0e6"><p>要激活暂停的构建配置，请在“ <b id="c71dc7a1">操作”</b>菜单中选择“ <b id="9e0bcd1b">激活</b> ”。</p></li></ul></div><a name="Pausing/Activatingseveralbuildconfigurationsofaproject"></a><a name="Pausing-/-Activating-several-build-configurations-of-a-project"></a><div class="chapter"><h3 id="BuildConfiguration-Pausing/Activatingseveralbuildconfigurationsofaproject">暂停/激活项目的多个构建配置</h3><p id="c369a4d8"><b id="1e70a8de">要暂停项目的几个构建配置</b> ：</p><ol class="list _decimal"><li class="list__item" id="e7dd42ef"><p>在“ <b id="1cef562b">项目设置”</b>页面上，打开“ <b id="23d3a7df">操作”</b>菜单，然后单击“ <b id="8e5328bd">暂停/激活”</b> 。</p></li><li class="list__item" id="15830bea"><p>在打开的对话框中，选择项目旁边的框以暂停其所有构建配置，或有选择地选中配置复选框：选中的构建配置将被暂停。</p></li><li class="list__item" id="dbb3c3e1"><p>添加可选注释。</p></li><li class="list__item" id="0793fa10"><p>要从<a href="build-queue.html">构建队列中</a>删除所有已暂停配置的<a href="build-queue.html">构建</a> ，请选中“ <i id="da27f93f">如果构建配置已暂停</i> ，则<i id="da27f93f">取消已排队的构建”</i>框。</p></li><li class="list__item" id="55906645"><p>点击<b id="e2c09aaf">应用</b> 。</p></li></ol><p id="264fa130">__要激活项目的多个构建配置：</p><ol class="list _decimal"><li class="list__item" id="1742b2a5"><p>在“ <b id="a51870c8">项目设置”</b>页面上，打开“ <b id="971da026">操作”</b>菜单，然后单击“ <b id="e591cc89">暂停/激活”</b> 。</p></li><li class="list__item" id="946f176c"><p>在打开的对话框中，清除项目旁边的框以激活其所有构建配置，或有选择地清除配置框：未选择的构建配置将被激活。</p></li><li class="list__item" id="ee9ec73c"><p>添加可选注释。</p></li><li class="list__item" id="8db65fb5"><p>点击<b id="11bea45a">应用</b> 。</p></li></ol></div></div><a name="BuildConfigurationStatus"></a><a name="Build-Configuration-Status"></a><div class="chapter"><h2 id="BuildConfiguration-BuildConfigurationStatus">构建配置状态</h2><p id="96982bc0">通常，构建配置状态反映了其最后完成的构建的状态。</p><p id="52226f54">请注意， <a href="personal-build.html">个人构建</a>不会影响构建配置状态。</p><p id="db60e04f">折叠详细信息后，您可以在“ <b id="0b121f74">项目”</b>页面（对于所有项目）或“ <b id="649d658b">项目主页”</b> （对于特定项目）上查看所有构建配置的状态。</p><p id="dd0c1b92">构建配置状态图标：</p><div class="table-wrapper"><table width="100%" id="a3106fe7"><thead><tr id="05f12925" class="ijRowHead"><th width="250" id="2072497a"><p id="82d8ba60">图标</p></th><th id="9cc66629"><p id="61b271a8">描述</p></th></tr></thead><tbody><tr id="8935bbc4" class="ijRowOdd"><td id="3d94e858"><p id="d93aa625"><img alt="Success.png" title="Success.png" src="/help/img/teamcity/2019.1/Successful.png" id="f94075a1" width="17" height="14" class="inline-icon-17"></p></td><td id="658a70eb"><p id="4e713aaa">默认分支上的最后一个构建成功执行。</p></td></tr><tr id="40c7d9ca" class="ijRowEven"><td id="4885d7e9"><p id="55095712"><img alt="Failed.png" title="Failed.png" src="/help/img/teamcity/2019.1/Failed.png" id="18282c75" width="15" height="12" class="inline-icon-15"></p></td><td id="46bfae4f"><p id="605cca3b">默认分支上的最后一个版本执行失败，或者当前正在运行的版本之一失败。当前至少有一个正在运行且失败的构建，即使最后完成的构建成功，构建配置状态也将更改为“失败”。</p></td></tr><tr id="4bb6c8f7" class="ijRowOdd"><td id="bd9ccc16"><p id="6d1fb649"><img alt="research.gif" title="research.gif" src="/help/img/teamcity/2019.1/investigate.gif" id="fb114c39" width="16" height="16" class="inline-icon-16"></p></td><td id="7a3a20b2"><p id="4fc6f7fc">表示有人已开始调查问题或已解决问题。 （请参阅<a href="investigating-and-muting-build-failures.html">调查和消除构建失败</a> ）。</p></td></tr><tr id="c1b19603" class="ijRowEven"><td id="beb55624"><p id="7fe28ed5"><i id="2203b17c">没有图示</i></p></td><td id="4ecd5265"><p id="650d4ffc">此配置没有完成的构建，状态未知。如果项目中的所有构建配置均未完成构建，则<img alt="NoBuildsProject.png" title="NoBuildsProject.png" src="/help/img/teamcity/2019.1/NoBuildsProject.png" id="b80b28a8" width="22" height="26" class="inline-icon-22">显示在项目名称旁边</p></td></tr><tr id="3bb3f542" class="ijRowOdd"><td id="024d9a0d"><p id="d14746f8"></p><figure><img alt="BCPaused.png" title="BCPaused.png" src="/help/img/teamcity/2019.1/BCPaused.png" id="923c5648" width="190" height="109"></figure><p></p></td><td id="7d6ea35b"><p id="9f91ea4b">构建配置已暂停；没有构建被触发。单击状态旁边的链接以查看暂停状态，并根据需要激活配置。</p></td></tr></tbody></table></div><a name="StatusDisplayforSetofBuildConfigurations"></a><a name="Status-Display-for-Set-of-Build-Configurations"></a><div class="chapter"><h3 id="BuildConfiguration-StatusDisplayforSetofBuildConfigurations">一组构建配置的状态显示</h3><p id="8ed37d2d">可以过滤出要在TeamCity或外部显示其状态的构建配置。</p><p id="48e24177">要在<b id="931736c3">TeamCity中</b>显示所选构建配置的状态：</p><ul class="list _ul"><li class="list__item" id="d09c09a7"><p>在“ <b id="a3f0bb9b">项目”</b>页面上配置可见项目以仅显示属于这些项目的构建配置的状态</p></li><li class="list__item" id="b064ecfc"><p>为TeamCity实现<a href="https://confluence.jetbrains.com/display/TCD18/Developing+TeamCity+Plugins" rel="noopener noreferrer" data-external="true" target="_blank">自定义Java插件</a> ，以使页面可作为TeamCity Web应用程序的一部分使用</p></li></ul><p id="e36c3418">要在<b id="ba813c5b">外部</b> （在公司的网站，Wiki，Confluence或任何其他网页上）显示一组构建配置的状态，您可以：</p><ul class="list _ul"><li class="list__item" id="477660ca"><p>使用<a href="configuring-general-settings.html#HTML-Status-Widget">外部状态小部件</a></p></li><li class="list__item" id="d45d060a"><p>使用<a href="rest-api.html#Build-Status-Icon">构建状态图标</a></p></li><li class="list__item" id="2396e33b"><p>使用任何可用的<a href="https://plugins.jetbrains.com/search?correctionAllowed=true&pr=teamcity&orderBy=relevance&tags=Notification%2FVisualizers&search=" rel="noopener noreferrer" data-external="true" target="_blank">可视化插件</a></p></li><li class="list__item" id="dab250e9"><p>实施一个单独的页面或应用程序，该页面或应用程序将通过TeamCity <a href="rest-api.html">REST API</a>获取构建配置状态</p></li></ul><hr id="75f9677c"><p id="c81bc9f6"><b id="8ba03c39">也可以看看：</b></p><p id="462c4f81"><b id="f4cc94d4">管理员指南</b> ： <a href="creating-and-editing-build-configurations.html">创建和编辑构建配置</a></p><hr id="1113da10"></div></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/resources.jetbrains.com/storage/help-app/v2/app.js"></script></body></html>