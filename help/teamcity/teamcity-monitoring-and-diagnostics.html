<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v2/analytics.js"></script><title>TeamCity Monitoring and Diagnostics - Help | TeamCity</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v2/app.css"></head><body data-id="TeamCity Monitoring and Diagnostics" data-breadcrumbs="teamcity-documentation.md|TeamCity Documentation/administrator-s-guide.md|Administrator's Guide/teamcity-configuration-and-maintenance.md|TeamCity Configuration and Maintenance/teamcity-monitoring-and-diagnostics.md|TeamCity Monitoring and Diagnostics" data-main-title="TeamCity Monitoring and Diagnostics" data-edit-url="https://github.com/JetBrains/teamcity-documentation/edit/2019.1/topics/teamcity-monitoring-and-diagnostics.md"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search TeamCity Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>TeamCity 2019.1 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="TeamCity Monitoring and Diagnostics" id="teamcity-monitoring-and-diagnostics.md">TeamCity Monitoring and Diagnostics</h1><p id="163927b8">TeamCity provides a variety of diagnostic tools and indicators to monitor and troubleshoot the server, which are accessible from the <b id="4a497b8e">Administration | Diagnostics</b> page.</p><p id="b9c274d3">The tools make it easier to identify and investigate problems and, if needed, <a href="reporting-issues.html">report issues</a> on your server.</p><p id="666b2a68">The following options are available to you:</p><p id="3b56a065"><ul class="list" data-skip-index="skip"><li class="list__item"><a href="#TeamCityMonitoringandDiagnostics-Troubleshooting">Troubleshooting</a><ul class="list _bullet"><li class="list__item"><a href="#TeamCityMonitoringandDiagnostics-CPU&amp;MemoryUsage">CPU &amp; Memory Usage</a></li><li class="list__item"><a href="#TeamCityMonitoringandDiagnostics-Troubleshooting2">Troubleshooting</a><ul class="list _bullet"><li class="list__item"><a href="#TeamCityMonitoringandDiagnostics-DebugLogging">Debug Logging</a></li><li class="list__item"><a href="#TeamCityMonitoringandDiagnostics-HangsandThreadDumps">Hangs and Thread Dumps</a></li><li class="list__item"><a href="#TeamCityMonitoringandDiagnostics-ServerRestart">Server Restart</a></li></ul></li><li class="list__item"><a href="#TeamCityMonitoringandDiagnostics-JavaConfiguration">Java Configuration</a></li></ul></li><li class="list__item"><a href="#TeamCityMonitoringandDiagnostics-VCSStatus">VCS Status</a></li><li class="list__item"><a href="#TeamCityMonitoringandDiagnostics-ServerLogs">Server Logs</a></li><li class="list__item"><a href="#TeamCityMonitoringandDiagnostics-InternalProperties">Internal Properties</a></li><li class="list__item"><a href="#TeamCityMonitoringandDiagnostics-LoggingPresets">Logging Presets</a></li><li class="list__item"><a href="#TeamCityMonitoringandDiagnostics-Caches">Caches</a></li><li class="list__item"><a href="#TeamCityMonitoringandDiagnostics-Search">Search</a></li><li class="list__item"><a href="#TeamCityMonitoringandDiagnostics-BrowseDataDirectory">Browse Data Directory</a></li></ul></p><a name="Troubleshooting"></a><a name="Troubleshooting"></a><div class="chapter"><h2 id="TeamCityMonitoringandDiagnostics-Troubleshooting">Troubleshooting</h2><p id="7f8083ce">This tab provides a number of indicators helping you to detect and address issues with the TeamCity server performance.</p><a name="CPU&amp;MemoryUsage"></a><a name="CPU-&amp;-Memory-Usage"></a><div class="chapter"><h3 id="TeamCityMonitoringandDiagnostics-CPU&amp;MemoryUsage">CPU & Memory Usage</h3><p id="0dcc3374">This section displays the data provided by the <a href="teamcity-memory-monitor.html">TeamCity Memory Monitor</a>, which regularly checks available memory and submits a warning if the <a href="reporting-issues.html#OutOfMemory-Problems">memory</a> or <a href="reporting-issues.html#Collecting-CPU-Profiling-Data-on-Server">CPU usage</a> grows too high. See also information on configuring <a href="installing-and-configuring-the-teamcity-server.html#Setting-Up-Memory-settings-for-TeamCity-Server">memory settings</a> for the TeamCity server.</p><p id="78762ff5">Depending on your operating system and Java settings, the list of displayed properties below may vary.</p><p id="88bbd1ac"><b id="6bcf6d01">CPU usage</b></p><ul class="list _ul"><li class="list__item" id="96b1e588"><p><b id="692ad61b">TeamCity process CPU usage</b> shows the CPU time used by the main TeamCity process averaged over a period of time. Other processes consuming CPU resources (databases, Maven server, VCS) are not included.</p></li><li class="list__item" id="72163f72"><p><b id="bb94d6e0">Garbage collection</b> shows the time spent on cleaning the server memory averaged over a period of time. High numbers over long periods of time usually indicate insufficient server memory.</p></li><li class="list__item" id="8933bbb9"><p><b id="ba4463f3">System load</b> displays CPU load information based upon the CPU queue length averaged over a period of time, i.e. the sum of the number of runnable entities queued to the available processors and the number of entities running on the available processors averaged over a period of time (1 minute)</p></li><li class="list__item" id="acc2b3d2"><p><b id="23b70c7e">Overall CPU usage</b> shows the recent CPU usage for the whole system with a value in the [0.0,1.0] interval. A value of 0.0 means that all CPUs were idle during the recent period of time, while a value of 1.0 means that all CPUs were actively running 100% of the time during the recent period</p></li></ul><p id="bf5b1edd"><b id="75923db6">Memory usage</b></p><ul class="list _ul"><li class="list__item" id="29452064"><p><b id="2ccf7c7f">Total heap</b>  displays the total amount of memory used by TeamCity to store all data, including temporary data about to be collected. Represents all heap memory pools (young and old generations) in terms of java. Garbage collection runs quickly and frequently.</p></li><li class="list__item" id="91f9da3a"><p><b id="8b0638bb">Data</b> shows the amount of memory used by TeamCity to store persistent data. Represents old generations only in terms of java. Garbage collection runs slowly and infrequently.</p></li></ul></div><a name="Troubleshooting"></a><a name="Troubleshooting"></a><div class="chapter"><h3 id="TeamCityMonitoringandDiagnostics-Troubleshooting2">Troubleshooting</h3><a name="DebugLogging"></a><a name="Debug-Logging"></a><div class="chapter"><h4 id="TeamCityMonitoringandDiagnostics-DebugLogging">Debug Logging</h4><p id="95866a85">This allows changing the internal TeamCity server <a href="teamcity-server-logs.html#Logging-related-Diagnostics-UI">logging settings</a>.</p></div><a name="HangsandThreadDumps"></a><a name="Hangs-and-Thread-Dumps"></a><div class="chapter"><h4 id="TeamCityMonitoringandDiagnostics-HangsandThreadDumps">Hangs and Thread Dumps</h4><p id="3d220011">The <a href="reporting-issues.html#Server-Thread-Dump">server thread dump</a> can be viewed in the browser or saved to a file.</p><p id="509f772e">If you experience memory problems, this section provides an option to dump a memory snapshot.</p></div><a name="ServerRestart"></a><a name="Server-Restart"></a><div class="chapter"><h4 id="TeamCityMonitoringandDiagnostics-ServerRestart">Server Restart</h4><p id="569e8475">This section, available <b id="e54948bf">since TeamCity 2017.2</b>, allows restarting the server from the UI.</p></div></div><a name="JavaConfiguration"></a><a name="Java-Configuration"></a><div class="chapter"><h3 id="TeamCityMonitoringandDiagnostics-JavaConfiguration">Java Configuration</h3><p id="926a3b89">This section informs you on the Java <a href="installing-and-configuring-the-teamcity-server.html#Java-Installation">installed on your server</a> and the configured <a href="configuring-teamcity-server-startup-properties.html#JVM-Options">JVM options</a>.</p></div></div><a name="VCSStatus"></a><a name="VCS-Status"></a><div class="chapter"><h2 id="TeamCityMonitoringandDiagnostics-VCSStatus">VCS Status</h2><p id="8ac98897">This tab displays the information on the monitored VCS roots, including their checking for changes status and duration.</p><p id="c02af11a">You can filter the available VCS roots by the checking for changes duration.</p></div><a name="ServerLogs"></a><a name="Server-Logs"></a><div class="chapter"><h2 id="TeamCityMonitoringandDiagnostics-ServerLogs">Server Logs</h2><p id="1381a571">This tab allows you to view and download the available <a href="teamcity-server-logs.html">TeamCity server logs</a>, as well as saved thread dumps and memory dumps.</p></div><a name="InternalProperties"></a><a name="Internal-Properties"></a><div class="chapter"><h2 id="TeamCityMonitoringandDiagnostics-InternalProperties">Internal Properties</h2><p id="30ab11a7">This tab displays the TeamCity <a href="configuring-teamcity-server-startup-properties.html#TeamCity-internal-properties">server internal properties</a> and allows modifying them.</p></div><a name="LoggingPresets"></a><a name="Logging-Presets"></a><div class="chapter"><h2 id="TeamCityMonitoringandDiagnostics-LoggingPresets">Logging Presets</h2><p id="77e8931e">TeamCity uses the <code class="code">log4j</code> library for <a href="teamcity-server-logs.html">logging</a> internal server activities. In this section you can view and download the available presets, as well as upload new presets, which can then be enabled on the <b id="5c868821">Diagnostics | Troubleshooting | <a href="#Debug-Logging">Debug Logging</a></b>.</p><p id="67119d97">It is also possible to change the logging configuration <a href="teamcity-server-logs.html#Changing-Logging-Configuration">manually</a>.</p></div><a name="Caches"></a><a name="Caches"></a><div class="chapter"><h2 id="TeamCityMonitoringandDiagnostics-Caches">Caches</h2><p id="281d571e">This tab shows you the caches of the TeamCity processes stored in &lt;<a href="teamcity-data-directory.html">TeamCity Data Directory</a>/&gt;/system/caches/system/caches. Resetting some caches is performed by the server during the clean-up automatically, but sometimes you might need to clear caches manually using  the reset link.</p><ul class="list _ul"><li class="list__item" id="3f9e317a"><p><code class="code">vcsContentCache</code> - TeamCity maintains vcsContentCache cache for the sources to optimize communications with the VCS server. The caches are reset during the cleanup time. To resolve problems with sources update, the caches may need to be reset manually.</p></li><li class="list__item" id="62073fcc"><p><code class="code">search</code> - resetting this cache is required when enabling <a href="search.html#Search-by-Build-Log">search by build log</a>.</p></li><li class="list__item" id="e2d21b79"><p><code class="code">git</code> - contains the bare clone of the remote <a href="git.html">Git</a> repository used by TeamCity.</p></li><li class="list__item" id="bfb889b8"><p><code class="code">buildsMetadata</code> - resetting this cache is required to <a href="common-problems.html#Problems-with-TeamCity-NuGet-Feed">reindex the TeamCity NuGet feed</a>.</p></li></ul></div><a name="Search"></a><a name="Search"></a><div class="chapter"><h2 id="TeamCityMonitoringandDiagnostics-Search">Search</h2><p id="1663dc14">Displays information on the TeamCity data index related to the <a href="search.html">search</a>.</p></div><a name="BrowseDataDirectory"></a><a name="Browse-Data-Directory"></a><div class="chapter"><h2 id="TeamCityMonitoringandDiagnostics-BrowseDataDirectory">Browse Data Directory</h2><p id="d84ed9dc">This tab shows the files in the <a href="teamcity-data-directory.html">TeamCity Data Directory</a> and allows you to upload new files.</p><hr id="58582f3a"></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v2/app.js"></script></body></html>