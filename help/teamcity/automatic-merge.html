<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/resources.jetbrains.com/storage/help-app/v2/analytics.js"></script><title>自动合并-帮助|团队城市</title><link rel="stylesheet" href="/resources.jetbrains.com/storage/help-app/v2/app.css"></head><body  data-id="Automatic Merge" data-breadcrumbs="teamcity-documentation.md|TeamCity Documentation/administrator-s-guide.md|Administrator's Guide/managing-projects-and-build-configurations.md|Managing Projects and Build Configurations/creating-and-editing-build-configurations.md|Creating and Editing Build Configurations/adding-build-features.md|Adding Build Features/automatic-merge.md|Automatic Merge" data-main-title="Automatic Merge" data-edit-url="https://github.com/JetBrains/teamcity-documentation/edit/2019.1/topics/automatic-merge.md"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索TeamCity帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>TeamCity 2019.1帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 id="automatic-merge.md" data-toc="Automatic Merge">自动合并</h1><p id="c79da757"><i id="0a27a019">自动合并</i>构建功能会跟踪与配置的过滤器匹配的分支中的构建，如果构建满足配置的条件（例如，构建成功），则将其合并到指定的目标分支中。<br>Git和Mercurial VCS根支持该功能，用于具有启用的<a href="working-with-feature-branches.html">功能分支的</a>构建配置。<br>TeamCity还允许<a href="working-with-feature-branches.html#Manual-branch-merging">手动</a>合并分支。</p><p id="8ff8ad18">在此页：</p><p id="57419cd3"></p><ul class="list" data-skip-index="skip"><li class="list__item"><a href="#AutomaticMerge-AutomaticMergeSettings">自动合并设置</a></li><li class="list__item"><a href="#AutomaticMerge-CascadingMerge">级联合并</a></li></ul><p></p><a name="AutomaticMergeSettings"></a><a name="Automatic-Merge-Settings"></a><div class="chapter"><h2 id="AutomaticMerge-AutomaticMergeSettings">自动合并设置</h2><p id="1173f408">检查<a href="adding-build-features.html">添加构建功能</a>以获取有关如何<a href="adding-build-features.html">添加构建功能</a>的注释。<br>此功能中使用的所有分支都<b id="5d8b624c">必须</b>存在于存储库中，并包含在当前构建配置的<b id="cc1fa41a">分支规范</b>中。</p><div class="table-wrapper"><table width="100%" id="1bbd5da4"><thead><tr id="38bd65ad" class="ijRowHead"><th id="6c0480d1"><p id="6002d917">选项</p></th><th id="fd6ab25f"><p id="617a2402">描述</p></th></tr></thead><tbody><tr id="9c840acc" class="ijRowOdd"><td id="8c6b7241"><p id="5b83d02b">观看分支中的构建</p></td><td id="fd18bec8"><p id="a71ffbe4">指定将合并其构建源的分支。在<a href="branch-filter.html">分支过滤器中</a>了解更多信息。</p></td></tr><tr id="cf2d35f5" class="ijRowEven"><td id="fc1ca6cf"><p id="111bb51a">合并到分支</p></td><td id="68ef5c3c"><p id="7c4e059d">源将合并到的目标分支的<a href="working-with-feature-branches.html#Logical-branch-name">逻辑名称</a> 。这里支持参数引用。分支<b id="160c2b6c">必须</b>存在于存储库中并包含在“ <b id="f95c65be">分支规范”中</b> 。</p></td></tr><tr id="b4aabc95" class="ijRowOdd"><td id="919790b1"><p id="79f31971">合并提交消息</p></td><td id="4e58b17c"><p id="77f9dd91">合并提交的消息。默认设置为<code class="code">Merge branch '%teamcity.build.branch%'</code> 。这里支持参数引用。</p></td></tr><tr id="be0c71c8" class="ijRowEven"><td id="36790732"><p id="7a7eb607">如果执行合并</p></td><td id="2caa1d30"><p id="fc582844">定义何时执行合并的条件（仅对于成功的构建，或者从分支构建是否不会向目标分支添加新问题）。</p></td></tr><tr id="7ffebcb0" class="ijRowOdd"><td id="6c13a462"><p id="126827fa">合并政策</p></td><td id="43d70d27"><p id="0a17256f">选择创建合并提交或进行快速合并。</p></td></tr><tr id="ebe62660" class="ijRowEven"><td id="c2b1e5d3"><p id="f4da69b9">运行政策</p></td><td id="c84b486d"><p id="a791bcf8">选择何时合并：</p><ul class="list _ul"><li class="list__item" id="30740ff7"><p><i id="d193888b">构建完成后合并</i> ：构建完成，然后合并开始。构建持续时间不包括合并时间。即使合并仍在进行中，相关的构建也可以开始。</p></li><li class="list__item" id="8341df9f"><p><i id="763baa02">在构建完成之前合并</i> ：仅在合并完成后才认为构建已完成。依赖的构建仅在合并完成后才开始。</p></li></ul></td></tr></tbody></table></div></div><a name="CascadingMerge"></a><a name="Cascading-Merge"></a><div class="chapter"><h2 id="AutomaticMerge-CascadingMerge">级联合并</h2><p id="89b14aa9">通过将几个这样的构建功能添加到构建配置中，可以定义级联合并操作。</p><p id="c2eb8858">例如，您要自动将所有要素分支合并到一个<code class="code">integration</code>分支，然后从<code class="code">integration</code>到默认分支。为此，您可以添加两个<i id="e8530860">自动合并</i>构建功能： <code class="code">+:feature-*</code>分支并合并为<code class="code">integration</code>分支和第二次观看<code class="code">+:integration</code>分支并合并为<code class="code">default</code>科。然后，构建配置应允许进行构建<code class="code">feature-*</code>和<code class="code">integration</code>分支机构。</p><p id="8b88f181">另请参阅相关的<a href="http://blog.jetbrains.com/teamcity/2013/10/automatic-merge/" rel="noopener noreferrer" data-external="true" target="_blank">TeamCity博客文章</a> 。</p><hr id="31312c9a"></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/resources.jetbrains.com/storage/help-app/v2/app.js"></script></body></html>