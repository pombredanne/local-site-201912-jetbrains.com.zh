<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v2/analytics.js"></script><title>Configuring TeamCity Server Startup Properties - Help | TeamCity</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v2/app.css"></head><body data-id="Configuring TeamCity Server Startup Properties" data-breadcrumbs="teamcity-documentation.md|TeamCity Documentation/administrator-s-guide.md|Administrator's Guide/teamcity-configuration-and-maintenance.md|TeamCity Configuration and Maintenance/configuring-teamcity-server-startup-properties.md|Configuring TeamCity Server Startup Properties/teamcity-tweaks.md|TeamCity Tweaks" data-main-title="Configuring TeamCity Server Startup Properties" data-edit-url="https://github.com/JetBrains/teamcity-documentation/edit/2019.1/topics/configuring-teamcity-server-startup-properties.md"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search TeamCity Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>TeamCity 2019.1 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Configuring TeamCity Server Startup Properties" id="configuring-teamcity-server-startup-properties.md">Configuring TeamCity Server Startup Properties</h1><p id="1c138ab7">Various aspects of TeamCity behavior can be customized through a set options passed on a TeamCity server start. These options fall into two categories: affecting Java Virtual Machine (JVM) and affecting TeamCity behavior.</p><aside class="note " data-title="" rel="1c138ab7" id="7865cc29"><p id="be3d9844">You do not need to specify any of the options unless you are advised to do by the TeamCity support team or you are confident in what you are doing.</p></aside><p id="0ae8ee3c">On this page:</p><p id="0f89af1d"><ul class="list" data-skip-index="skip"><li class="list__item"><a href="#ConfiguringTeamCityServerStartupProperties-TeamCityinternalproperties">TeamCity internal properties</a><ul class="list _bullet"><li class="list__item"><a href="#ConfiguringTeamCityServerStartupProperties-JVMOptions">JVM Options</a></li><li class="list__item"><a href="#ConfiguringTeamCityServerStartupProperties-StandardTeamCityStartupScripts">Standard TeamCity Startup Scripts</a></li></ul></li></ul></p><a name="TeamCityinternalproperties"></a><a name="TeamCity-internal-properties"></a><div class="chapter"><h2 id="ConfiguringTeamCityServerStartupProperties-TeamCityinternalproperties">TeamCity internal properties</h2><p id="0b80c45a">TeamCity has internal configuration properties which affect various aspects of the internal logic. These are normally meant for debugging, changing internal constants or enabling experimental behavior. Please do not change the internal properties unless asked by TeamCity support.</p><p id="623a6254">If you have internal properties customized, make sure to note this when you turn to the TeamCity support.</p><p id="c6734d36">Server administrators can review and edit internal properties in the TeamCity web UI: go to the <b id="8cd2a753">Administration | Server Administration | Diagnostics</b> page, select the <b id="39ff151e">Internal Properties</b> tab and click <b id="1c1a49d5">Edit internal properties</b>.<br>Many properties do not require the server restart, but some do. When the restart is required we usually note that specifically.</p><p id="7fac2822">The properties are stored in the <code class="code">&lt;</code><a href="teamcity-data-directory.html"><code class="code">TeamCity Data Directory</code></a><code class="code">&gt;/config/internal.properties</code> file. The file is a Java <a href="http://en.wikipedia.org/wiki/.properties" data-external="true" target="_blank" rel="noopener noreferrer">properties file</a>. Create the file and add a required property <code class="code">&lt;property name&gt;=&lt;property value&gt;</code> on a separate line.</p><p id="d61627ee">An alternative but obsolete way to add an internal property is to pass it as a <code class="code">-D&lt;name&gt;=&lt;value&gt;</code> JVM option (see the <a href="#JVM-Options">section below</a>).</p><a name="JVMOptions"></a><a name="JVM-Options"></a><div class="chapter"><h3 id="ConfiguringTeamCityServerStartupProperties-JVMOptions">JVM Options</h3><p id="6ad24bf7">If you need to pass additional JVM options to a TeamCity server (for example, <code class="code">-D</code> options mentioned at <a href="reporting-issues.html">Reporting Issues</a> or any non-<code class="code">-D</code> options like <code class="code">-X...</code>), the approach will depend on the way the server is run.<br>If you are using the <code class="code">.war</code> distribution, use the manual of your Web Application Server.<br>In all other cases, please refer to the next section.</p><p id="47df62e1">For general notes on the memory settings, please refer to <a href="installing-and-configuring-the-teamcity-server.html">Setting Up Memory settings for TeamCity Server</a>.</p><p id="a6c5ebdb">You will need to <a href="installing-and-configuring-the-teamcity-server.html">restart</a> the server for the changes to take effect.</p></div><a name="StandardTeamCityStartupScripts"></a><a name="Standard-TeamCity-Startup-Scripts"></a><div class="chapter"><h3 id="ConfiguringTeamCityServerStartupProperties-StandardTeamCityStartupScripts">Standard TeamCity Startup Scripts</h3><p id="7e63453b">If you run the server using the <code class="code">runAll</code> or <code class="code">teamcity-server</code> scripts or as a Windows service, you need to set the options via the OS <b id="4bed2b87"><a href="http://en.wikipedia.org/wiki/Environment_variable" data-external="true" target="_blank" rel="noopener noreferrer">environment variables</a></b> passed to the TeamCity server process:</p><ul class="list _ul"><li class="list__item" id="bee02c41"><p><code class="code">TEAMCITY_SERVER_MEM_OPTS</code> – server JVM memory options (for example, <code class="code">-Xmx750m</code>)</p></li><li class="list__item" id="bd1482b7"><p><code class="code">TEAMCITY_SERVER_OPTS</code> – additional server JVM options (for example, <code class="code">-Dteamcity.git.fetch.separate.process=false</code>)</p></li></ul><p id="f1aa30de">Make sure the environment variables are set for the user whose account is used to run TeamCity or as global environment variables. You might need to reboot the machine after the environment change for the changes to have effect.</p><hr id="84c3e841"><p id="e92f56de"><b id="c487e656">See also:</b></p><p id="25213e97"><b id="c96b1ea5">Concepts</b>: <a href="teamcity-data-directory.html">TeamCity Data Directory</a><br><b id="53d7d932">Administrator's Guide</b>: <a href="configuring-build-agent-startup-properties.html">Configuring Build Agent Startup Properties</a></p><hr id="ef88eacc"></div></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v2/app.js"></script></body></html>