<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/resources.jetbrains.com/storage/help-app/v2/analytics.js"></script><title>配置计划触发器-帮助|帮助团队城市</title><link rel="stylesheet" href="/resources.jetbrains.com/storage/help-app/v2/app.css"></head><body  data-id="Configuring Schedule Triggers" data-breadcrumbs="teamcity-documentation.md|TeamCity Documentation/administrator-s-guide.md|Administrator's Guide/managing-projects-and-build-configurations.md|Managing Projects and Build Configurations/creating-and-editing-build-configurations.md|Creating and Editing Build Configurations/configuring-build-triggers.md|Configuring Build Triggers/configuring-schedule-triggers.md|Configuring Schedule Triggers/builds-schedule.md|Builds Schedule" data-main-title="Configuring Schedule Triggers" data-edit-url="https://github.com/JetBrains/teamcity-documentation/edit/2019.1/topics/configuring-schedule-triggers.md"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索TeamCity帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>TeamCity 2019.1帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 id="configuring-schedule-triggers.md" data-toc="Configuring Schedule Triggers">配置计划触发器</h1><p id="e5fca540"></p><ul class="list" data-skip-index="skip"><li class="list__item"><a href="#ConfiguringScheduleTriggers-TriggeringConditions">触发条件</a><ul class="list _bullet"><li class="list__item"><a href="#ConfiguringScheduleTriggers-DateandTime">日期和时间</a><ul class="list _bullet"><li class="list__item"><a href="#ConfiguringScheduleTriggers-Examples">例子</a></li><li class="list__item"><a href="#ConfiguringScheduleTriggers-Briefdescriptionofthecronformatused">使用的cron格式的简要说明</a></li></ul></li><li class="list__item"><a href="#ConfiguringScheduleTriggers-VCSChanges">VCS变更</a></li><li class="list__item"><a href="#ConfiguringScheduleTriggers-VCSTriggerRules">VCS触发规则</a><ul class="list _bullet"><li class="list__item"><a href="#ConfiguringScheduleTriggers-GeneralSyntax">一般语法</a></li><li class="list__item"><a href="#ConfiguringScheduleTriggers-TriggerRulesExamples">触发规则范例</a></li></ul></li><li class="list__item"><a href="#ConfiguringScheduleTriggers-BuildChanges">建立变更</a></li></ul></li><li class="list__item"><a href="#ConfiguringScheduleTriggers-AdditionalOptions">附加选项</a><ul class="list _bullet"><li class="list__item"><a href="#ConfiguringScheduleTriggers-EnforceCleanCheckout">强制执行清洁结帐</a></li><li class="list__item"><a href="#ConfiguringScheduleTriggers-TriggerBuildonAllEnabledandCompatibleAgents">在所有已启用和兼容的代理上触发构建</a></li><li class="list__item"><a href="#ConfiguringScheduleTriggers-BuildQueueOptimizationSettings">构建队列优化设置</a></li><li class="list__item"><a href="#ConfiguringScheduleTriggers-BranchFilter">分支过滤器</a></li><li class="list__item"><a href="#ConfiguringScheduleTriggers-TriggerRulesandBranchFilterCombined">触发规则和分支过滤器结合</a></li></ul></li></ul><p></p><p id="4f284202"><i id="af87d8ba">计划触发器</i>允许您设置运行配置版本的时间。当前<b id="ec1fd49f">项目设置的</b> “ <b id="0c4e22ff"><a href="builds-schedule.html">构建时间表”</a></b>部分显示配置的构建时间。可以将多个计划触发器添加到构建配置中。</p><a name="TriggeringConditions"></a><a name="Triggering-Conditions"></a><div class="chapter"><h2 id="ConfiguringScheduleTriggers-TriggeringConditions">触发条件</h2><p id="0f8cfc8c">本部分中的设置定义了自动生成触发的时间和其他条件。您可以安排定期生成或为其设置特定的日期和时间。</p><a name="DateandTime"></a><a name="Date-and-Time"></a><div class="chapter"><h3 id="ConfiguringScheduleTriggers-DateandTime">日期和时间</h3><p id="744edd23">除了<b id="c9f7d7d6">每天</b>或<b id="0127b1f8">每周</b>在指定时间为特定时区触发构建之外，您还可以使用类似<a href="http://en.wikipedia.org/wiki/Cron#Operators" rel="noopener noreferrer" data-external="true" target="_blank">cron</a>的表达式来指定高级时间设置。此格式提供了更灵活的计划选项。</p><p id="10b329a8">TeamCity使用<a href="http://www.quartz-scheduler.org/" rel="noopener noreferrer" data-external="true" target="_blank">Quartz</a>处理cron表达式。请参阅下面的示例，或考虑使用<a href="http://www.cronmaker.com/" rel="noopener noreferrer" data-external="true" target="_blank">CronMaker</a>实用程序基于Quartz cron格式生成表达式。</p><a name="Examples"></a><a name="Examples"></a><div class="chapter"><h4 id="ConfiguringScheduleTriggers-Examples">例子</h4><div class="table-wrapper"><table class=" wide" width="100%" id="4a35e345"><thead><tr id="0d5db76b" class="ijRowHead"><th id="ab6fffea"></th><th id="8d25eb69"><p id="c3123aa7">每2小时：30</p></th><th id="cef1c94c"><p id="54c5c6cc">每天晚上11:45</p></th><th id="87fd51d1"><p id="838fb079">每个星期日的1:00 AM</p></th><th id="283f9125"><p id="09bb2e43">一个月的每个最后一天的10:00 AM和10:00 PM</p></th></tr></thead><tbody><tr id="b553607e" class="ijRowOdd"><td id="84493e5a"><p id="28794dc5">秒</p></td><td id="18e42ca7"><p id="60c60f70">0</p></td><td id="266b9f5d"><p id="c9248e3f">0</p></td><td id="cf42df7e"><p id="85ae8290">0</p></td><td id="217c09f9"><p id="bcb23c32">0</p></td></tr><tr id="5213eea9" class="ijRowEven"><td id="0d525772"><p id="d06291f0">分钟</p></td><td id="481c8921"><p id="eeb7a2be">30</p></td><td id="ebb62aee"><p id="355fce68">45</p></td><td id="2172f34c"><p id="87d01dee">0</p></td><td id="d82d96f5"><p id="b5386d5b">0</p></td></tr><tr id="ead26ac5" class="ijRowOdd"><td id="4c577af2"><p id="383e391a">小时</p></td><td id="22d19ce5"><p id="ff43d9e6">0/2</p></td><td id="589f76b7"><p id="3bc66f53">23</p></td><td id="ee1669b5"><p id="aaf9f948">1个</p></td><td id="8ce3d32e"><p id="86289411">10,22</p></td></tr><tr id="11b56e63" class="ijRowEven"><td id="51bd28c8"><p id="0c58a521">每月的一天</p></td><td id="5c075e76"><p id="fdf545ab">*</p></td><td id="7be67785"><p id="8d9c21cd">*</p></td><td id="f99a44f5"><p id="d34ce445">？</p></td><td id="53944668"><p id="36370fad">大号</p></td></tr><tr id="9db7e96d" class="ijRowOdd"><td id="5cb5a0c8"><p id="283542ee">月</p></td><td id="c3e54611"><p id="873c9709">*</p></td><td id="bd8b85cb"><p id="ff18949e">*</p></td><td id="27f37302"><p id="308a250b">*</p></td><td id="f740cd32"><p id="f459234e">*</p></td></tr><tr id="25ba0bfc" class="ijRowEven"><td id="308e1b60"><p id="f7230e24">星期几</p></td><td id="b86436e7"><p id="6ae91950">？</p></td><td id="9cf08c89"><p id="e132d091">？</p></td><td id="d72e04fb"><p id="7183c9a3">1个</p></td><td id="ca715461"><p id="8fa0b439">？</p></td></tr><tr id="41973c4d" class="ijRowOdd"><td id="00b23f6b"><p id="cc34b492">年份（可选）</p></td><td id="bf4a6bca"><p id="4350655f">*</p></td><td id="d7770ae5"><p id="acb06aa4">*</p></td><td id="97a97482"><p id="0d7274d4">*</p></td><td id="1aa4f1be"><p id="67d9df7b">*</p></td></tr></tbody></table></div><p id="87053558">另请参见<a href="http://www.quartz-scheduler.org/documentation/quartz-2.2.x/tutorials/tutorial-lesson-06.html" rel="noopener noreferrer" data-external="true" target="_blank">其他示例</a> 。</p></div><a name="Briefdescriptionofthecronformatused"></a><a name="Brief-description-of-the-cron-format-used"></a><div class="chapter"><h4 id="ConfiguringScheduleTriggers-Briefdescriptionofthecronformatused">使用的cron格式的简要说明</h4><p id="c3fd9084">Cron表达式由六个字段和一个用空格分隔的可选字段组成。这些字段分别描述如下：</p><div class="table-wrapper"><table class=" wide" width="100%" id="2463b471"><thead><tr id="d2ce3853" class="ijRowHead"><th id="fdba82f1"><p id="f3e2da27">栏位名称</p></th><th id="aa00d418"><p id="cb69d933">价值观</p></th><th id="36eedf08"><p id="261445b3">特殊字符</p></th></tr></thead><tbody><tr id="7800ef7b" class="ijRowOdd"><td id="22be0c54"><p id="fd129068">秒</p></td><td id="c6984160"><p id="a4847fc1">0-59</p></td><td id="474c433f"><p id="dfdd70d2">，-* /</p></td></tr><tr id="869a506a" class="ijRowEven"><td id="0356a980"><p id="d1431bed">分钟</p></td><td id="0a678c8f"><p id="1ea833b8">0-59</p></td><td id="086784a8"><p id="3e175bf6">，-* /</p></td></tr><tr id="112fcd06" class="ijRowOdd"><td id="ee7f1e4d"><p id="0eb3b34a">小时</p></td><td id="eb5350b7"><p id="5a172d72">0-23</p></td><td id="b1de3e4d"><p id="3f48daa2">，-* /</p></td></tr><tr id="ebb8a4aa" class="ijRowEven"><td id="743b02c8"><p id="7bae6b0e">每月的一天</p></td><td id="2301af52"><p id="00b6be2e">1-31</p></td><td id="4a3f1d4d"><p id="fad4a661">，-*？/ LW</p></td></tr><tr id="d20b215d" class="ijRowOdd"><td id="0490e2a2"><p id="7b18ba20">月</p></td><td id="0957ce9a"><p id="371f584c">JAN-DEC 1-12</p></td><td id="1a5cc76a"><p id="c1b2fbcf">，-* /</p></td></tr><tr id="2776b885" class="ijRowEven"><td id="a719db9f"><p id="30365a43">星期几</p></td><td id="50b9b473"><p id="7af6b3fe">1-7或SUN-SAT</p></td><td id="409171df"><p id="05e294aa">，-*？/ L＃</p></td></tr><tr id="a43d47b6" class="ijRowOdd"><td id="f106f069"><p id="0a850fbd">年份（可选）</p></td><td id="9691b3cb"><p id="48cee2c2">空，1970-2099</p></td><td id="412895e8"><p id="c214b606">，-* /</p></td></tr></tbody></table></div><p id="7ba2d05f">有关特殊字符的描述，请参考<a href="http://www.quartz-scheduler.org/documentation/quartz-2.2.x/tutorials/crontrigger.html#special-characters" rel="noopener noreferrer" data-external="true" target="_blank">Quartz CronTrigger教程</a> 。</p></div></div><a name="VCSChanges"></a><a name="VCS-Changes"></a><div class="chapter"><h3 id="ConfiguringScheduleTriggers-VCSChanges">VCS变更</h3><p id="fc462915">只有在有你的版本控制<b id="fccdb926">只是如果有挂起的变化</b>选项挂起更改通过使<b id="fccdb926">扳机</b> ，开始建立您可以限制时间表触发。此选项仅考虑新检测到的挂起更改：如果在创建触发器之前存在挂起的更改，则不会触发构建。</p></div><a name="VCSTriggerRules"></a><a name="VCS-Trigger-Rules"></a><div class="chapter"><h3 id="ConfiguringScheduleTriggers-VCSTriggerRules">VCS触发规则</h3><a name="vcs-trigger-rules"></a><p id="6acc9462">如果未指定触发规则，则在检测到构建配置的任何更改时触发构建。您可以通过更改VCS根设置并指定“ <a href="vcs-checkout-rules.html">签出规则”</a>来控制检测到哪些更改。</p><p id="fea4d66d">要限制触发构建的更改，请使用VCS触发规则。您可以在文本区域中手动添加这些规则（每行一个），或使用“ <b id="58232d4c" origin="teamcity-help">添加新规则”</b>选项来生成它们。</p><p id="68034e02"></p><figure><img alt="添加触发规则" title="添加触发规则" src="/help/img/teamcity/2019.1/addRule.png" id="ebe36188" width="450" height="610"></figure><p></p><p id="04f0e434">每个规则都以“ include”（以“ <code class="code">+</code> ”或“排除”（以“ <code class="code">-</code> ”）。</p><a name="GeneralSyntax"></a><a name="General-Syntax"></a><div class="chapter"><h4 id="ConfiguringScheduleTriggers-GeneralSyntax">一般语法</h4><a name="general-syntax"></a><p id="cf7b255b">单个规则的一般语法为：</p><div class="code-block" data-lang="bash">+ |-[：[user = VCS_username;] [root = VCS_root_id;] [comment = VCS_comment_regexp]]：Ant_like_wildcard</div><a name="OR-syntax-tip"></a><aside class="tip sideblock" rel="ConfiguringScheduleTriggers-GeneralSyntax" id="28d07090" data-title=""><p id="e7141de0">在这里， <i id="dfbbae09" origin="teamcity-help">管道</i>符号<code class="code">|</code>代表<b id="ffeee655" origin="teamcity-help">OR</b>命令，如正则表达式中一样：use <code class="code">+</code>用于包括， <b id="2297173d" origin="teamcity-help">或</b> <code class="code">-</code>排除。</p></aside><p id="a061f737">哪里：</p><ul class="list _ul"><li class="list__item" id="7d9e19b4"><p><b id="c4c9a4f9" origin="teamcity-help">Ant_like_wildcard</b> ：与更改的文件路径匹配的<a href="wildcards.html">通配符</a> 。只要<code class="code">*</code>和<code class="code">**</code>支持模式， <code class="code">?</code> <b id="9b8f4ae7" origin="teamcity-help">不</b>支持的模式。规则中的文件路径可以是相对的（不是以<code class="code">/</code>要么<code class="code">\</code> ）以匹配代理或绝对路径（以<code class="code">/</code> ），以匹配相对于VCS根的VCS路径。对于更改中的每个文件，找到最特定的规则（与最长文件路径匹配的规则）。如果存在至少一个具有匹配“包含”规则的文件或没有匹配“排除”规则的文件，则触发构建。</p></li><li class="list__item" id="9e542cbf"><p><b id="82185db5" origin="teamcity-help"><a href="managing-users-and-user-groups.html">VCS_username</a></b> ：如果指定，则仅将规则限制为具有相应<a href="managing-users-and-user-groups.html#VCS-Usernames">VCS username</a>的用户所做的更改。</p></li><li class="list__item" id="12489256"><p><b id="8a159bda" origin="teamcity-help">VCS_root_id</b> ：如果指定，则仅将规则限制为来自相应VCS根目录的更改。</p></li><li class="list__item" id="f091bb35"><p><b id="e7c0ffa7" origin="teamcity-help">VCS_comment_regexp</b> ：如果指定，则将规则仅限制为VCS注释中包含指定文本的更改。使用<a href="http://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html#sum" rel="noopener noreferrer" data-external="true" target="_blank">Java正则表达式</a>模式来匹配注释中的文本（请参见下面的示例）。如果注释文本包含匹配的文本部分，则规则匹配；否则，规则不匹配。为了匹配整个文本，请添加<code class="code">^</code>和<code class="code">$</code>特殊字符。</p></li></ul><aside class="tip sideblock" rel="ecec22ed" id="57186373" data-title=""><p id="88dbe886">指定规则时，请注意，一旦输入任何<code class="code">+</code>规则，TeamCity会将隐式默认值从“包括所有”更改为“排除所有”。<br>要包含所有文件，请使用<code class="code">+:.</code>规则。</p><p id="c088fa16">而且，规则是根据路径特定性进行排序的。如果您有明确的包含规则<code class="code">/some/path</code>和排除规则<code class="code">-:user=some_user:.</code>对于所有路径，提交到<code class="code">/some/path</code>从<code class="code">some_user</code>将被<b id="ab03f580" origin="teamcity-help">包括在内，</b>除非您立即为此用户和该路径添加特定的排除规则，例如<code class="code">-:user=some_user:/some/path/**</code></p></aside></div><a name="TriggerRulesExamples"></a><a name="Trigger-Rules-Examples"></a><div class="chapter"><h4 id="ConfiguringScheduleTriggers-TriggerRulesExamples">触发规则范例</h4><a name="trigger-rules-examples"></a><div class="table-wrapper"><table width="100%" id="b7ba172b"><thead><tr id="d0e7d9c7" class="ijRowHead"><th width="200" id="52cc28a7"><p id="c1228667">例</p></th><th id="5933cb1f"><p id="bbb8b575">描述</p></th></tr></thead><tbody><tr id="8c7a5dee" class="ijRowOdd"><td id="f808a006"><p id="d36d902e"><code class="code">+:.</code></p></td><td id="3d67e192"><p id="c509af7c">包括所有文件</p></td></tr><tr id="58b6e1bc" class="ijRowEven"><td id="97a4409b"><p id="625175b9"><code class="code">-:**.html</code></p></td><td id="db80d3a4"><p id="c1185e25">排除所有<code class="code">.html</code>文件触发构建。</p></td></tr><tr id="48b75b60" class="ijRowOdd"><td id="762629d5"><p id="9414dbb0"><code class="code">-:user=techwriter;root=InternalSVN:/misc/doc/*.xml</code></p></td><td id="cf24bde5"><p id="87aa8c23">排除由以下情况触发的构建<code class="code">.xml</code>由<a href="managing-users-and-user-groups.html#VCS-Usernames">VCS用户</a> “ techwriter”签入的文件<code class="code">misc/doc</code>名为<i id="2dc125b0" origin="teamcity-help">Internal SVN</i>的VCS根目录（在VCS设置中定义）。请注意，该路径是绝对路径（以“ /”开头），因此文件路径是从VCS根目录匹配的。</p></td></tr><tr id="01e74ab8" class="ijRowEven"><td id="325429c4"><p id="16686038"><code class="code">-:lib/**</code></p></td><td id="bb71e639"><p id="fb30877f">防止通过更新更新触发构建<code class="code">lib</code>生成源的目录（显示在代理上）。请注意，该路径是相对的，因此所有放置到目录中的文件（通过处理VCS根<a href="vcs-checkout-rules.html">检出规则</a> ）都不会触发构建。</p></td></tr><tr id="e3024f47" class="ijRowOdd"><td id="b79df102"><p id="375fe2dc"><code class="code">-:comment=minor:**</code></p></td><td id="b1123df8"><p id="ef31f6ee">如果更改检查在注释中包含单词“ minor”，则阻止构建触发。</p></td></tr><tr id="e5f41338" class="ijRowEven"><td id="1a5a991e"><p id="72b9a293"><code class="code">-:comment=^oops$:**</code></p></td><td id="52cade5f"><p id="32c3f22d">如果注释仅由单词“ oops”组成，则不会触发（根据<a href="http://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html#sum" rel="noopener noreferrer" data-external="true" target="_blank">Java正则表达式</a>原则） <code class="code">^</code>和<code class="code">$</code>在模式中代表字符串的开头和结尾）。</p></td></tr></tbody></table></div><p id="2aaae334"><a name="ConfiguringScheduleTriggers-WatchedBuild"></a><a name="ConfiguringScheduleTriggers-ConfiguringScheduleTriggers-WatchedBuild"></a></p></div></div><a name="BuildChanges"></a><a name="Build-Changes"></a><div class="chapter"><h3 id="ConfiguringScheduleTriggers-BuildChanges">建立变更</h3><p id="a5913126">计划触发器可以监视任何指定的构建配置中的构建，并且仅在自上次触发以来监视的构建已更改时才触发构建。您可以选择观看哪个版本：</p><ul class="list _ul"><li class="list__item" id="4acae324"><p>最后完成的版本</p></li><li class="list__item" id="65c61e1f"><p>上一次成功构建</p></li><li class="list__item" id="2df64065"><p>最后<a href="pinned-build.html">固定的版本</a></p></li><li class="list__item" id="aa6c4741"><p>最后完成的带有指定<a href="build-tag.html">构建标记的构建</a></p></li></ul><p id="5e25cc49">如果触发器在监视的配置中检测到满足所选特征的新构建，则会在自己的配置中将新构建排队。</p><p id="fd937224">触发器仅监视默认分支中的常规（而非<a href="personal-build.html">个人</a>或<a href="history-build.html">历史记录</a> ）构建。</p><p id="49b9032a">如果触发构建通过快照或工件的依赖依赖于观看的身材，选择“ <i id="9b4da66a">促进看着构建</i> ”选项，这样的TeamCity可以自动<a href="triggering-a-custom-build.html#Promoting-Build">提升</a>检测的构建到触发构建。否则，该构建将照常触发，并且与检测到的构建无关。</p></div></div><a name="AdditionalOptions"></a><a name="Additional-Options"></a><div class="chapter"><h2 id="ConfiguringScheduleTriggers-AdditionalOptions">附加选项</h2><a name="EnforceCleanCheckout"></a><a name="Enforce-Clean-Checkout"></a><div class="chapter"><h3 id="ConfiguringScheduleTriggers-EnforceCleanCheckout">强制执行清洁结帐</h3><p id="80b89132">启用“ <i id="a2fe7050">在构建之前删除checkout目录中的所有文件”</i>选项，以强制TeamCity在运行构建之前清除checkout目录中的所有文件。<br>此选项也可以应用于快照依赖项。在这种情况下，构建链的所有构建都将被迫使用<a href="clean-checkout.html">clean checkout</a> 。该选项还可以重建所有依赖项（除非通过自定义构建对话框提供了自定义依赖项，或者通过计划触发器升级了构建）。</p></div><a name="TriggerBuildonAllEnabledandCompatibleAgents"></a><a name="Trigger-Build-on-All-Enabled-and-Compatible-Agents"></a><div class="chapter"><h3 id="ConfiguringScheduleTriggers-TriggerBuildonAllEnabledandCompatibleAgents">在所有已启用和兼容的代理上触发构建</h3><p id="758e8f9a">使用此选项可以在所有启用并与构建配置兼容的代理上同时运行构建。在以下情况下，此选项可能很有用：</p><ul class="list _ul"><li class="list__item" id="18b0e96d"><p>运行用于维护代理目的的构建（例如，您可以创建配置以检查环境升级/更新后代理是否正常运行）</p></li><li class="list__item" id="763c079f"><p>在不同平台上运行构建（例如，您可以设置配置并为其指定许多安装了不同环境的兼容构建代理）</p></li></ul><a name="queue-optimization"></a></div><a name="BuildQueueOptimizationSettings"></a><a name="Build-Queue-Optimization-Settings"></a><div class="chapter"><h3 id="ConfiguringScheduleTriggers-BuildQueueOptimizationSettings">构建队列优化设置</h3><p id="f47a8a6b">默认情况下，TeamCity <a href="build-queue.html#Build-Queue-Optimization-by-TeamCity">优化构建队列</a> ：可以将已排队的构建替换为已开始的构建或更新的队列构建。您可以通过取消选中相应的框来禁用此默认行为。</p></div><a name="BranchFilter"></a><a name="Branch-Filter"></a><div class="chapter"><h3 id="ConfiguringScheduleTriggers-BranchFilter">分支过滤器</h3><p id="3fad4042">默认情况下，计划触发器适用于所有分支。</p><p id="e936aba0">在<a href="branch-filter.html">分支过滤器中</a>了解更多信息。</p></div><a name="TriggerRulesandBranchFilterCombined"></a><a name="Trigger-Rules-and-Branch-Filter-Combined"></a><div class="chapter"><h3 id="ConfiguringScheduleTriggers-TriggerRulesandBranchFilterCombined">触发规则和分支过滤器结合</h3><p id="24a761b1">触发器规则和分支过滤器通过<b id="b18a6ede">AND</b>进行组合，这意味着仅<b id="7b0e158a">在同时满足两个条件</b>时才触发构建。</p><p id="ee53da01">例如，如果您在触发规则字段中指定注释文本并提供分支规范，则仅当提交具有指定的文本并且也位于与分支过滤器匹配的分支中时，才会触发构建。</p><hr id="213f5570"></div></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/resources.jetbrains.com/storage/help-app/v2/app.js"></script></body></html>