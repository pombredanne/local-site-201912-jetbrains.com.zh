<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/resources.jetbrains.com/storage/help-app/v2/analytics.js"></script><title>NuGet安装程序-帮助|帮助团队城市</title><link rel="stylesheet" href="/resources.jetbrains.com/storage/help-app/v2/app.css"></head><body  data-id="NuGet Installer" data-breadcrumbs="teamcity-documentation.md|TeamCity Documentation/administrator-s-guide.md|Administrator's Guide/managing-projects-and-build-configurations.md|Managing Projects and Build Configurations/creating-and-editing-build-configurations.md|Creating and Editing Build Configurations/configuring-build-steps.md|Configuring Build Steps/nuget-installer.md|NuGet Installer" data-main-title="NuGet Installer" data-edit-url="https://github.com/JetBrains/teamcity-documentation/edit/2019.1/topics/nuget-installer.md"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索TeamCity帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>TeamCity 2019.1帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 id="nuget-installer.md" data-toc="NuGet Installer">NuGet安装程序</h1><p id="eb859706"><i id="4c756a00">NuGet Installer</i>构建运行器执行NuGet <a href="http://docs.nuget.org/docs/reference/package-restore#Command-Line_Package_Restore" rel="noopener noreferrer" data-external="true" target="_blank">命令行程序包还原</a> 。它还可以（可选）自动将软件包依赖关系更新为最新的依赖关系。</p><aside class="note " rel="eb859706" id="63e70ae7" data-title=""><p id="e4928a9d"><b id="113a583c" origin="teamcity-help">支持的操作系统</b></p><p id="4d547c64">默认情况下，运行Windows操作系统的构建代理支持NuGet构建运行程序。当代理上安装了<a href="http://www.mono-project.com/docs/getting-started/install/" rel="noopener noreferrer" data-external="true" target="_blank">Mono</a>时，将支持Linux和macOS（仅支持Mono 4.4.2+上的NuGet 3.3+）。</p></aside><aside class="note " rel="nuget-installer.md" id="9b383199" data-title=""><p id="3080a650">确保您从VCS（ <a href="configuring-vcs-settings.html">VCS设置</a> ）中检出的源包括名为<code class="code">packages</code>从您的解决方案文件夹。</p></aside><p id="185133f2">NuGet安装程序设置：</p><div class="table-wrapper"><table width="100%" id="2e89a3ab"><thead><tr id="dc23754e" class="ijRowHead"><th id="316e0426"><p id="9a95e7a5">选项</p></th><th id="3df3ac5d"><p id="03de04dc">描述</p></th></tr></thead><tbody><tr id="3c8ba21b" class="ijRowOdd"><td id="2924640d"><p id="7103ba87">NuGet.exe</p></td><td id="98ce1772"><p id="c84d1c58">从下拉列表中选择要使用的NuGet版本（您需要<a href="nuget.html">安装NuGet</a> ）或指定一个自定义路径来<code class="code">NuGet.exe</code> 。</p><aside class="note " rel="c84d1c58" id="e299b255" data-title=""><p id="4f7df902">根据所使用的NuGet.exe版本，需要在代理计算机上安装适当版本的.NET Framework：NuGet 2.8.6+需要.NET 4.5+，更早的NuGet版本需要.NET 4.0。</p></aside></td></tr><tr id="74979974" class="ijRowEven"><td id="c65b91c8"><p id="942cfc4f">解决方案文件的路径</p></td><td id="eee0fcef"><p id="56da9660">指定要在其中安装软件包的解决方案文件（.sln）的路径。</p></td></tr><tr id="637f5482" class="ijRowOdd"><td id="3bbead39"><p id="8d94f3a4">恢复模式</p></td><td id="bc67b7cb"><p id="a06e7310">选择<code class="code">NuGet.exe restore</code> （需要NuGet 2.7+）来还原整个解决方案的所有软件包。的<code class="code">NuGet.exe install</code>该命令用于为NuGet 2.7之前的版本还原软件包，但仅适用于单个<code class="code">packages.config</code>文件。</p></td></tr><tr id="476998e4" class="ijRowEven"><td id="ba1af41d"><p id="b98e8385">恢复选项</p></td><td id="5a49aa48"><p id="bdff0720">如果需要，请选择：</p><ul class="list _ul"><li class="list__item" id="552c2faa"><p><b id="4c9bb039">从软件包文件夹名称中排除版本</b> ：等效于<code class="code">-ExcludeVersion</code>的选项<code class="code">NuGet.exe install</code>命令。如果启用，目标文件夹将仅包含程序包名称，而不包含版本号。</p></li><li class="list__item" id="4092df3f"><p><b id="3a87633f">禁止从本地计算机缓存中查找软件包</b> ：等效于<code class="code">-NoCache</code>的选项<code class="code">NuGet.exe</code></p></li></ul></td></tr><tr id="6ca55af9" class="ijRowOdd"><td id="d35d6f51"><p id="a5445204">软件包来源</p></td><td id="814f2b9e"><p id="574978f4">指定NuGet软件包的来源。如果留为空白，则使用<a href="http://nuget.org/" rel="noopener noreferrer" data-external="true" target="_blank">http://nuget.org</a>搜索您的软件包。</p><p id="839df901">如果您使用的是<a href="using-teamcity-as-nuget-feed.html">TeamCity NuGet提要</a> ，请使用“魔术棒”图标选择它<img alt="magic-wand.png" title="magic-wand.png" src="/help/img/teamcity/2019.1/magic-wand.png" id="e8651d81" width="18" height="16" class="inline-icon-18">或从“ <b id="949c0aa2">项目设置”的“</b> <a href="using-teamcity-as-nuget-feed.html">NuGet提要”</a>部分手动指定URL。</p><p id="e02a9d69">如果您使用经过身份验证的提要中的软件包，请配置<a href="nuget-feed-credentials.html">NuGet提要凭据</a>构建功能。</p><p id="6255d9da">TeamCity允许您使用私有的NuGet提要进行身份验证。在<a href="nuget.html#Authentication-in-private-NuGet-Feeds">NuGet中</a>阅读更多内容。</p></td></tr><tr id="8de87e03" class="ijRowEven"><td id="89379643"><p id="726b82c7">更新包</p></td><td id="da6731e4"><p id="ae5b3e6f"><b id="812e1a75">使用NuGet update命令更新软件包</b> ：使用<code class="code">NuGet.exe update</code>命令以更新解决方案下的所有软件包。软件包版本和约束条件取自<code class="code">packages.config</code>文件。</p></td></tr><tr id="c1465f30" class="ijRowOdd"><td id="33016557"><p id="21dbc563">更新模式</p></td><td id="16373be4"><p id="58cf546f">选择以下之一：</p><ul class="list _ul"><li class="list__item" id="6d7a3664"><p><b id="d1f8a275">通过解决方案文件进行更新</b> -TeamCity使用Visual Studio解决方案文件（.sln）创建要安装的NuGet软件包的完整列表。此选项更新整个解决方案的软件包。</p></li><li class="list__item" id="942efa6d"><p><b id="a09ab919">通过packages.config更新</b> -选择以通过调用来更新软件包<code class="code">NuGet.exe update Packages.Config</code>每个<code class="code">packages.config</code>解决方案下的文件。</p></li></ul></td></tr><tr id="b020630b" class="ijRowEven"><td id="822c4654"><p id="1835e80c">更新选项</p></td><td id="3975d12a"><ul class="list _ul"><li class="list__item" id="28f826c1"><p><b id="1caaaf98">包括预发布软件包</b> ：等同于<code class="code">-Prerelease</code>的选项<code class="code">NuGet.exe update</code>命令</p></li><li class="list__item" id="6d88852c"><p><b id="d596fee7">执行安全更新</b> ：等效于<code class="code">-Safe</code>的选项<code class="code">NuGet.exe update</code>命令，查找与已安装软件包相同的主要版本和次要版本中具有最高可用版本的更新。</p></li></ul></td></tr></tbody></table></div><aside class="tip sideblock" rel="2e89a3ab" id="f5773c8c" data-title=""><p id="942acbc2">要在<a href="kotlin-dsl.html">Kotlin DSL中</a>查看NuGet安装程序的设置，请单击侧栏中的“ <b id="fdba454d">查看DSL</b> ”。</p></aside><p id="d27204bf">请参阅<a href="http://docs.nuget.org/docs/reference/command-line-reference" rel="noopener noreferrer" data-external="true" target="_blank">NuGet文档</a>以获取完整信息<code class="code">NuGet.exe</code>命令行参考。</p><p id="b5c20b4f">将NuGet安装程序运行程序添加到构建配置时，每个完成的构建都将具有<b id="04193a62">NuGet软件包</b>选项卡，其中列出了所使用的软件包。</p><hr id="f811b47d"><p id="fe22f42e"><b id="1aaa3711">也可以看看：</b></p><p id="891f9a9f"><b id="6831e303">相关博客文章</b> ： <a href="http://blog.jetbrains.com/teamcity/2013/08/nuget-package-restore-with-teamcity/" rel="noopener noreferrer" data-external="true" target="_blank">使用TeamCity还原NuGet软件包</a> 。<br><b id="49b615c1">管理员指南</b> ： <a href="nuget-pack.html">NuGet Pack</a> | <a href="nuget-publish.html">NuGet发布</a></p><hr id="bc7ff841"></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/resources.jetbrains.com/storage/help-app/v2/app.js"></script></body></html>