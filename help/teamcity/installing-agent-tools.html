<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v2/analytics.js"></script><title>Installing Agent Tools - Help | TeamCity</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v2/app.css"></head><body data-id="Installing Agent Tools" data-breadcrumbs="teamcity-documentation.md|TeamCity Documentation/installation-and-upgrade.md|Installation and Upgrade/installation.md|Installation/installing-agent-tools.md|Installing Agent Tools" data-main-title="Installing Agent Tools" data-edit-url="https://github.com/JetBrains/teamcity-documentation/edit/2019.1/topics/installing-agent-tools.md"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search TeamCity Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>TeamCity 2019.1 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Installing Agent Tools" id="installing-agent-tools.md">Installing Agent Tools</h1><p id="491a7ba1">In TeamCity an <i id="36bfa915">agent tool</i> (i.e. a set of files/a binary distribution) is a type of plugin without any classes loaded into the runtime; agent tools are used only to distribute binary files to agents.</p><p id="90d65b54">TeamCity allows you to install/remove additional tools on the server and distribute them to build agents on-demand.<br>In environments with many build agents you can centralize distribution of configuration files (for example, if you want to distribute a custom configuration file/library to all agents that require it) or remove a tool on agents at once.</p><p id="31deda65">The <b id="9cbe5b3a">Administration | Tools</b> page provides a unified interface to set up tools to be used by appropriate plugins. You can install different versions of a tool and/or change the default one. The tools will be automatically distributed to build agents that request them and used in the related runners.</p><p id="27850172">The following types of tools can be managed up via the <b id="6bb5064c">Administration | Tools</b> page:</p><ul class="list _ul"><li class="list__item" id="80035cfa"><p><b id="3f47398f">IntelliJ Inspections and Duplicates Engine</b> with the bundled version of IntelliJ IDEA set as default.</p></li><li class="list__item" id="d8afddae"><p><b id="0b3a87a2">JetBrains dotCover Command Line Tools</b> with the bundled version set as default. Used to collect code coverage for your .NET project.</p></li><li class="list__item" id="50cd8583"><p><b id="5f36a2fb">JetBrains ReSharper Command Line Tools</b>: by default the tools are bundled with TeamCity and are used by Inspections (.NET), Duplicates Finder (.NET) build runners to run code analysis.</p></li><li class="list__item" id="e2287961"><p><b id="6b5a601e">Maven</b>: several bundled versions are displayed, with 3.0.5 set as default.</p></li><li class="list__item" id="9f799da0"><p><b id="7c3b733f">NuGet.exe</b> used in NuGet specific build steps and NuGet Dependency Trigger. NuGet packages (<code class="code">.nupkg</code> files) with the <code class="code">tools/NuGet.exe</code> file inside are supported.</p></li><li class="list__item" id="2864b769"><p><b id="25d73045">NUnit 3</b>: different versions can be installed and the default version set/changed.</p></li><li class="list__item" id="ebf9bf79"><p><b id="92e82339">Sysinternals handle.exe</b> used to determine processes which hold files in the checkout directory on Windows agents.</p></li><li class="list__item" id="6c96fd31"><p><b id="ea36688a">Sysinternals psexec.exe</b> required for installing a TeamCity agent from a Windows server to a Windows host using Agent push.</p></li><li class="list__item" id="5d893422"><p>You can also upload <b id="eecc5f40">your own tool as a .zip archive</b>: the structure of the tool plugin is described on the <a href="https://plugins.jetbrains.com/docs/teamcity/plugins-packaging.html#Tools" data-external="true" target="_blank" rel="noopener noreferrer">Plugins Packaging page</a>. TeamCity will use the name of the zip file as the tool name on all agents. The zip file will be automatically unpacked on the agents to the directory with the same name.<br>When the first custom tool is installed, the <b id="061f8fbb">Zip Archive</b> section appears on the page. In this section, you can see all the tool usages, remove the tool, or install a new one.</p></li></ul><p id="2c1ef774">TeamCity places installed tools into the &lt;<a href="teamcity-data-directory.html">TeamCity Data Directory</a>&gt;/plugins/.tools and monitors the content of this folder.</p><p id="d6a364ad"><b id="75f9d786">Since TeamCity 2019.1</b>, agents download only tools <i id="1b27d3ad">required</i> by builds they run. This way, the agents can run undemanding builds right after the server upgrade, with no need to download all available tools at once, as it was before.<br>To set an installed tool as required in a build configuration, reference it via the <code class="code">%teamcity.tool.&lt;installed_tool_ID&gt;%</code> property somewhere inside the build configuration settings or <a href="configuring-build-parameters.html">parameters</a> (in any field that supports the <code class="code">%parameter%</code> format).<br>When you install a tool on the server, build agents restart and pick up the ID of this tool without downloading it. An agent will download the tool only when starting the first build that requests it. This ensures that agents download only required and compatible tools.<br>Once downloaded, the tools are stored on an agent so builds don't spend time on downloading them again.</p><p id="e9e6a1e4">To check that the tool appears on the agent, look for <code class="code">teamcity.tool.&lt;installed_tool_ID&gt;</code> in <a href="predefined-build-parameters.html#Agent-Properties">configuration parameters reported by the agent</a> in the TeamCity web UI.</p><p id="dbf13b25">If you delete a tool in the TeamCity web UI, each agent that have this tool installed will detect this, delete own copy of the tool, and restart.</p><hr id="f0f257ca"></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v2/app.js"></script></body></html>