<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/resources.jetbrains.com/storage/help-app/v2/analytics.js"></script><title>NuGet发布-帮助|帮助团队城市</title><link rel="stylesheet" href="/resources.jetbrains.com/storage/help-app/v2/app.css"></head><body  data-id="NuGet Publish" data-breadcrumbs="teamcity-documentation.md|TeamCity Documentation/administrator-s-guide.md|Administrator's Guide/managing-projects-and-build-configurations.md|Managing Projects and Build Configurations/creating-and-editing-build-configurations.md|Creating and Editing Build Configurations/configuring-build-steps.md|Configuring Build Steps/nuget-publish.md|NuGet Publish" data-main-title="NuGet Publish" data-edit-url="https://github.com/JetBrains/teamcity-documentation/edit/2019.1/topics/nuget-publish.md"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索TeamCity帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>TeamCity 2019.1帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 id="nuget-publish.md" data-toc="NuGet Publish">NuGet发布</h1><p id="b65b863d"><b id="3f241ab1">NuGet Publish</b>构建运行器旨在发布（ <code class="code">push</code> ）将您的NuGet包打包到给定的供稿（自定义或默认）。</p><aside class="tip sideblock" rel="b65b863d" id="174d91f3" data-title=""><p id="bcdf18d1">将TeamCity用作NuGet服务器时，有两种将包发布到feed的方法：</p><ul class="list _ul"><li class="list__item" id="fe9d1e9c"><p>作为<a href="nuget-pack.html">NuGet Pack</a>构建步骤的构建工件，使用“ <i id="d31b6c2c">发布创建的软件包以构建工件”</i>复选框-在这种情况下，您不需要NuGet Publish构建步骤</p></li><li class="list__item" id="0afbd077"><p>通过NuGet发布构建步骤</p></li></ul></aside><aside class="note " rel="nuget-publish.md" id="7a73960d" data-title=""><p id="0080504e"><b id="b289c8e4" origin="teamcity-help">支持的操作系统</b></p><p id="692c35a3">默认情况下，运行Windows操作系统的构建代理支持NuGet构建运行程序。当代理上安装了<a href="http://www.mono-project.com/docs/getting-started/install/" rel="noopener noreferrer" data-external="true" target="_blank">Mono</a>时，将支持Linux和macOS（仅支持Mono 4.4.2+上的NuGet 3.3+）。</p></aside><aside class="tip sideblock" rel="nuget-publish.md" id="e9a42de5" data-title=""><p id="64b5a8da">要在<a href="kotlin-dsl.html">Kotlin DSL中</a>查看NuGet安装程序的设置，请单击侧栏中的“ <b id="99306171">查看DSL</b> ”。</p></aside><p id="cc4a2b50">本页介绍NuGet发布运行器选项：</p><div class="table-wrapper"><table width="100%" id="5f3c734e"><thead><tr id="2c09dbdb" class="ijRowHead"><th id="e061d76f"><p id="ee6ee841">选项</p></th><th id="00904358"><p id="aef31708">描述</p></th></tr></thead><tbody><tr id="72a100b5" class="ijRowOdd"><td id="66ce7f89"><p id="d6233004">NuGet.exe</p></td><td id="4ce6c175"><p id="38f37084">从下拉列表中选择要使用的NuGet版本（您需要<a href="nuget.html">安装NuGet</a> ），或指定一个自定义路径来<code class="code">NuGet.exe</code> 。</p><aside class="note " rel="38f37084" id="6d8ea244" data-title=""><p id="7cbbe1f5">根据所使用的NuGet.exe版本，需要在代理计算机上安装适当版本的.NET Framework：NuGet 2.8.6+需要.NET 4.5+，更早的NuGet版本需要.NET 4.0。</p></aside></td></tr><tr id="6134d620" class="ijRowEven"><td id="3d8bbade"><p id="29826b30">配套</p></td><td id="81d1b4cb"><p id="69651b6d">指定以换行符分隔的NuGet包文件（.nupkg）列表，以发布到NuGet提要。单独列出软件包或使用通配符。</p></td></tr><tr id="9d908509" class="ijRowOdd"><td id="205c883a"><p id="68bfc0c9">API密钥</p></td><td id="7f622be3"><p id="c882cdb5">指定API密钥以访问NuGet软件包供稿。</p><p id="9543a4f4">要发布到TeamCity NuGet服务器，请指定<code class="code">%teamcity.nuget.feed.api.key%</code>参数。</p></td></tr><tr id="9b4ad426" class="ijRowEven"><td id="f3734a10"><p id="ee155614">包裹来源</p></td><td id="c24be5d6"><p id="f12aea55">指定目标NuGet软件包提要URL，以将软件包推送到<a href="http://nuget.org" rel="noopener noreferrer" data-external="true" target="_blank">nuget.org等</a> 。留空以让NuGet决定要使用的软件包存储库。如果您使用的是<a href="using-teamcity-as-nuget-feed.html">TeamCity NuGet提要</a> ，请使用“魔术棒”图标选择它<img alt="magic-wand.png" title="magic-wand.png" src="/help/img/teamcity/2019.1/magic-wand.png" id="1e8a69d5" width="18" height="16" class="inline-icon-18">或从“ <b id="f7a9695b">项目设置”的“</b> <a href="using-teamcity-as-nuget-feed.html">NuGet提要”</a>部分手动指定URL。</p><p id="0977d69a">如果您使用经过身份验证的提要，请配置<a href="nuget-feed-credentials.html">NuGet提要凭据</a>构建功能。</p><p id="94f7bde9">TeamCity允许您使用私有的NuGet提要进行身份验证。在<a href="nuget.html#Authentication-in-private-NuGet-Feeds">NuGet中</a>阅读更多内容。</p><a name="ReplacingexistingpackageversioninTeamCityinternalfeed"></a><a name="Replacing-existing-package-version-in-TeamCity-internal-feed"></a><h4 id="NuGetPublish-ReplacingexistingpackageversioninTeamCityinternalfeed">替换TeamCity内部提要中的现有软件包版本</h4><p id="91f612a7">当发布与TeamCity内部NuGet源中已存在的相同版本的软件包时，该软件包将被拒绝。要强制TeamCity服务器用新版本替换现有的NuGet软件包，请在“ <b id="6dde6c9d">项目设置”</b>页面上获取的供稿URL附加为<code class="code">?replace=true</code>参数，例如， <code class="code">http://<Teamcity URL>/httpAuth/app/nuget/feed/NuGet/default/v2?replace=true</code> 。</p></td></tr><tr id="cfb2f1eb" class="ijRowOdd"><td id="d816f2cc"><p id="e97741ca">命令行参数</p></td><td id="522c1b10"><p id="0b27e117">输入调用参数时要使用的其他参数<code class="code">nuget push</code>命令。</p></td></tr></tbody></table></div><hr id="596d8e38"><p id="a854c2aa"><b id="688ace4b">也可以看看：</b></p><p id="f1acabee"><b id="58737621">管理员指南</b> ： <a href="nuget-installer.html">NuGet安装程序</a> | <a href="nuget-pack.html">NuGet包</a></p><hr id="fb32d8b7"></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/resources.jetbrains.com/storage/help-app/v2/app.js"></script></body></html>