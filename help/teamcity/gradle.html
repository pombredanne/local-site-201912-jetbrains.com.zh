<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v2/analytics.js"></script><title>Gradle - Help | TeamCity</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v2/app.css"></head><body data-id="Gradle" data-breadcrumbs="teamcity-documentation.md|TeamCity Documentation/administrator-s-guide.md|Administrator's Guide/managing-projects-and-build-configurations.md|Managing Projects and Build Configurations/creating-and-editing-build-configurations.md|Creating and Editing Build Configurations/configuring-build-steps.md|Configuring Build Steps/gradle.md|Gradle" data-main-title="Gradle" data-edit-url="https://github.com/JetBrains/teamcity-documentation/edit/2019.1/topics/gradle.md"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search TeamCity Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>TeamCity 2019.1 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Gradle" id="gradle.md">Gradle</h1><p id="fd8c49a1">On this page:</p><p id="4f1fa159"><ul class="list" data-skip-index="skip"><li class="list__item"><a href="#Gradle-GradleParameters">Gradle Parameters</a><ul class="list _bullet"><li class="list__item"><a href="#Gradle-RunParameters">Run Parameters</a></li><li class="list__item"><a href="#Gradle-JavaParameters">Java Parameters</a></li><li class="list__item"><a href="#Gradle-Buildproperties">Build properties</a></li><li class="list__item"><a href="#Gradle-DockerSettings">Docker Settings</a></li><li class="list__item"><a href="#Gradle-CodeCoverage">Code Coverage</a></li></ul></li></ul></p><p id="08a776a0"><i id="b1fdf1ae">The Gradle Build Runner</i> runs <a href="http://www.gradle.org" data-external="true" target="_blank" rel="noopener noreferrer">Gradle</a> projects.</p><aside class="note " data-title="" rel="08a776a0" id="f3aee0ab"><p id="5fd7f1c4">To run builds with Gradle, you need to have Gradle 0.9-rc-1 or higher installed on all the agent machines. Alternatively, if you use the <a href="https://docs.gradle.org/3.3/userguide/gradle_wrapper.html" data-external="true" target="_blank" rel="noopener noreferrer">Gradle wrapper</a>, you need to have properly configured Gradle Wrapper scripts checked in to your Version Control.</p></aside><a name="GradleParameters"></a><a name="Gradle-Parameters"></a><div class="chapter"><h2 id="Gradle-GradleParameters">Gradle Parameters</h2><div class="table-wrapper"><table width="100%" id="68c9b00a"><thead><tr id="866515f0" class="ijRowHead"><th id="a182b408"><p id="902c65b4">Option</p></th><th id="1718da50"><p id="7b881840">Description</p></th></tr></thead><tbody><tr id="4614883d" class="ijRowOdd"><td id="b89db3ce"><p id="772c90ec">Gradle tasks</p></td><td id="750e0eaa"><p id="4448c97e">Specify Gradle task names separated by spaces. For example: <code class="code">:myproject:clean :myproject:build</code> or <code class="code">clean build</code>. If this field is left blank, the 'default' task is used. Note that TeamCity currently supports building Java projects with Gradle. Building Groovy/Scala/etc. projects has not been tested.</p></td></tr><tr id="5bdb6405" class="ijRowEven"><td id="ae801130"><p id="b9dee551">Incremental building</p></td><td id="5711fec9"><p id="68cb74b8">TeamCity can make use of the Gradle <code class="code">:buildDependents</code> <a href="http://www.gradle.org/docs/current/userguide/userguide_single.html#sec:multiproject_build_and_test" data-external="true" target="_blank" rel="noopener noreferrer">feature</a>. If the <b id="90f5185e">Incremental building</b> checkbox is enabled, TeamCity will detect Gradle modules affected by changes in the build, and start the <code class="code">:buildDependents</code> command for them only. This will cause Gradle to fully build and test only the modules affected by changes.</p></td></tr><tr id="749ab3b2" class="ijRowOdd"><td id="97954189"><p id="25243a8b">Gradle home path</p></td><td id="641f3688"><p id="37e2cee7">Specify here the path to the Gradle home directory (the parent of the <code class="code">bin</code> directory). If not specified, TeamCity will use the Gradle from an agent's <code class="code">GRADLE_HOME</code> environment variable. If you don't have Gradle installed on agents, you can use Gradle wrapper instead.</p></td></tr><tr id="c384bfb7" class="ijRowEven"><td id="d70a1e6b"><p id="ce8b1b88">Additional Gradle command line parameters</p></td><td id="115da7b5"><p id="1bbe214c">Optionally, specify the space-separated list of command line parameters to be passed to Gradle.</p></td></tr><tr id="36ea8bef" class="ijRowOdd"><td id="eaf716ea"><p id="e0e2a6b3">Gradle Wrapper</p></td><td id="1abc38b9"><p id="8669343f">If this checkbox is selected, TeamCity will look for Gradle Wrapper scripts in the checkout directory, and launch the appropriate script with Gradle tasks and additional command line parameters specified in the fields above. In this case, the Gradle specified in <b id="3e7fd911">Gradle home path</b> and the one installed on agent, are ignored.</p></td></tr></tbody></table></div><p id="2646aaa5"><a name="LaunchingParameters"></a><a name="Gradle-LaunchingParameters"></a></p><a name="RunParameters"></a><a name="Run-Parameters"></a><div class="chapter"><h3 id="Gradle-RunParameters">Run Parameters</h3><div class="table-wrapper"><table width="100%" id="40a5995c"><thead><tr id="1a583110" class="ijRowHead"><th id="1d75f7cd"><p id="4a694760">Option</p></th><th id="bb98efa3"><p id="47e2b3c0">Description</p></th></tr></thead><tbody><tr id="8c00a8d3" class="ijRowOdd"><td id="329ef81d"><p id="c660d8dd">Debug</p></td><td id="7e649208"><p id="91c02813">Selecting the <b id="44420a1b">Log debug messages</b> checkbox is equivalent to adding the <code class="code">-d</code> Gradle command line parameter.</p></td></tr><tr id="45afe413" class="ijRowEven"><td id="8f001858"><p id="9dda4267">Stacktrace</p></td><td id="926cd425"><p id="3f6f9362">Selecting the <b id="aa5febb0">Print stacktrace</b> check box is equivalent to adding the <code class="code">-s</code> Gradle command line parameter.</p></td></tr></tbody></table></div><a name="java-param"></a></div><a name="JavaParameters"></a><a name="Java-Parameters"></a><div class="chapter"><h3 id="Gradle-JavaParameters">Java Parameters</h3><div class="table-wrapper"><table class="  _layout-fixed" width="100%" id="c601826a"><thead><tr id="cda1ae1e" class="ijRowHead"><th id="782260db"><p id="53804779">Option</p></th><th id="c8aac6ba"><p id="13f36a2b">Description</p></th></tr></thead><tbody><tr id="23381d6d" class="ijRowOdd"><td id="14731248"><p id="19662c5d">JDK</p></td><td id="0530e4fe"><p id="3fb62b91">Select a JDK. <a href="predefined-build-parameters.html#Defining-Java-related-Environment-Variables">This section</a> details the available options. The default is <code class="code">JAVA_HOME</code> environment variable or the agent's own Java.</p></td></tr><tr id="10402162" class="ijRowEven"><td id="5539780a"><p id="c4606ae3">JDK home path</p></td><td id="169acd09"><p id="fe7bb656"><i origin="teamcity-help" id="371f7311">The option is available when &lt;Custom&gt; is selected above.</i> Use this field to specify the path to your custom JDK used to run the build. If the field is left blank, the path to JDK Home is read either from the <code class="code">JAVA_HOME</code> environment variable on agent the computer, or from the <code class="code">env.JAVA_HOME</code> property specified in the <a href="build-agent-configuration.html">build agent configuration</a> file (<code class="code">buildAgent.properties</code>). If these values are not specified, TeamCity uses the Java home of the build agent process itself.</p></td></tr><tr id="0412ff93" class="ijRowOdd"><td id="435720f8"><p id="4fb01e2e">JVM command line parameters</p></td><td id="3099cbb4"><p id="b85a970a">You can specify such JVM command line parameters, for example, <i origin="teamcity-help" id="48a592d0">maximum heap size</i> or parameters enabling <i origin="teamcity-help" id="134a9220">remote debugging</i>. These values are passed by the JVM used to run your build.<br>Example:</p><div class="code-block" data-lang="bash">-Xmx512m -Xms256m

</div></td></tr></tbody></table></div></div><a name="Buildproperties"></a><a name="Build-properties"></a><div class="chapter"><h3 id="Gradle-Buildproperties">Build properties</h3><p id="91dc3304">The TeamCity system parameters can be accessed in Gradle build scripts in the <a href="upgrade-notes.html#Gradle:-Breaking-change-compared-to-9.1.2">same way</a> as Gradle properties. The recommended way to reference properties is as follows:</p><div class="code-block" data-lang="bash">task printProperty &lt;&lt; {
    println "${project.ext['teamcity.build.id']}"
}

</div><p id="dac5a2a8">or if the system property's name is a legal Groovy name identifier (for example, <code class="code">system.myPropertyName = myPropertyValue</code>):</p><div class="code-block" data-lang="bash">task printProperty &lt;&lt; {
     println "$myPropertyName"
}

</div></div><a name="DockerSettings"></a><a name="Docker-Settings"></a><div class="chapter"><h3 id="Gradle-DockerSettings">Docker Settings</h3><p id="f02a44aa">In this section, you can specify a Docker image which will be <a href="docker-wrapper.html">used to run the build step</a>.</p><p id="9f4230e4"><a name="coverage"></a><a name="Gradle-coverage"></a></p></div><a name="CodeCoverage"></a><a name="Code-Coverage"></a><div class="chapter"><h3 id="Gradle-CodeCoverage">Code Coverage</h3><p id="3e8fa4db">Code coverage with <a href="intellij-idea.html">IDEA code coverage engine</a> and <a href="jacoco.html">JaCoCo</a> is supported.</p><hr id="d21937c1"><p id="9815aa4b"><b id="cdda2da5">See also:</b></p><p id="9f2ed113"><b id="9e40dd1f">Administrator's Guide</b>: <a href="intellij-idea.html">IntelliJ IDEA Code Coverage</a></p><hr id="365c2ff9"></div></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v2/app.js"></script></body></html>