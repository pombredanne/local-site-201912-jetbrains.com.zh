<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v2/analytics.js"></script><title>Branch Filter - Help | TeamCity</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v2/app.css"></head><body data-id="Branch Filter" data-breadcrumbs="teamcity-documentation.md|TeamCity Documentation/administrator-s-guide.md|Administrator's Guide/managing-projects-and-build-configurations.md|Managing Projects and Build Configurations/configuring-vcs-settings.md|Configuring VCS Settings/working-with-feature-branches.md|Working with Feature Branches/branch-filter.md|Branch Filter" data-main-title="Branch Filter" data-edit-url="https://github.com/JetBrains/teamcity-documentation/edit/2019.1/topics/branch-filter.md"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search TeamCity Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>TeamCity 2019.1 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Branch Filter" id="branch-filter.md">Branch Filter</h1><p id="08d5c1b5">If a VCS Root has branches configured, you can use the <i id="73c8b3aa">Branch Filter</i> option.</p><p id="b3af0b2c">On this page:</p><p id="e233e975"><ul class="list" data-skip-index="skip"><li class="list__item"><a href="#BranchFilter-BranchFilterUsage">Branch Filter Usage</a></li><li class="list__item"><a href="#BranchFilter-BranchFilterFormat">Branch Filter Format</a></li></ul></p><a name="BranchFilterUsage"></a><a name="Branch-Filter-Usage"></a><div class="chapter"><h2 id="BranchFilter-BranchFilterUsage">Branch Filter Usage</h2><p id="ebb261ee">The Branch Filter allows limiting branches used by TeamCity in various operations. Currently, the Branch Filter is available on the following TeamCity settings pages:</p><div class="table-wrapper"><table width="100%" id="1f645e56"><thead><tr id="1460b75c" class="ijRowHead"><th id="4d71ce24"><p id="104bce78">Settings</p></th><th id="afe33447"><p id="86815b83">Branch filter description</p></th></tr></thead><tbody><tr id="f7899ab0" class="ijRowOdd"><td id="e6625cca"><p id="de0ffdae"><a href="configuring-vcs-settings.html">Version Control Settings of a build configuration</a></p></td><td id="4856b611"><p id="205e7455">Limit the set of branches available for the build configuration. This branch filter is applied before any other branch filter and limits branches shown in the custom build dialog, as well as branches visible to triggers and build features.</p></td></tr><tr id="81134c72" class="ijRowEven"><td id="35317c81"><p id="5e8c76e8"><a href="configuring-finish-build-trigger.html">Finish Build Triggers</a></p></td><td id="72f9e9f4"><p id="9e27c801">Limit the set of branches to which builds the trigger should be applied to.</p></td></tr><tr id="92bdd683" class="ijRowOdd"><td id="00525f1f"><p id="d7d0eb85"><a href="configuring-vcs-triggers.html">VCS Triggers</a></p></td><td id="c82f814a"><p id="fdfc868e">Limit the set of branches the trigger should be applied to.</p></td></tr><tr id="74532ec5" class="ijRowEven"><td id="256cfda3"><p id="d5916a8f"><a href="configuring-schedule-triggers.html">Schedule Triggers</a></p></td><td id="c723c0d1"><p id="af978bcb">Limit the set of branches the trigger should be applied to.</p><ul class="list _ul"><li class="list__item" id="46343ff9"><p>If "<i id="e4f9bcf7">Trigger build only if there are pending changes</i>" is turned ON, then the trigger will add a build to the queue for all branches matched by the trigger branch filter where pending changes exist</p></li><li class="list__item" id="65d361a6"><p>If "<i id="e5bc30d9">Trigger build only if there are pending changes</i>" is turned OFF, then the trigger will add a build to the queue for all branches matched by the trigger branch filter regardless of the presence of pending changes there.</p></li></ul></td></tr><tr id="b6a7c8d7" class="ijRowOdd"><td id="9a6d48b9"><p id="52680690"><a href="vcs-labeling.html">‘VCS labeling’ build feature</a></p></td><td id="bdc8c918"><p id="0c0d3af2">Limit the set of branches to which builds the labels will be applied.</p></td></tr><tr id="475a965a" class="ijRowEven"><td id="44d953ae"><p id="0c16aebc"><a href="automatic-merge.html#Automatic-Merge-Settings">‘Automatic merge’ build feature</a></p></td><td id="4b53b7c0"><p id="312e8c9f">Limit the set of branches branches which builds’ sources will be merged.</p></td></tr><tr id="b6c6178e" class="ijRowOdd"><td id="105c7e3e"><p id="62eb1746"><a href="subscribing-to-notifications.html">Notification rules</a></p></td><td id="d54be8d1"><p id="10ca499e">Set a filter to receive alerts only on the builds from the specified branches. By default, only the default branch is monitored.</p></td></tr></tbody></table></div></div><a name="BranchFilterFormat"></a><a name="Branch-Filter-Format"></a><div class="chapter"><h2 id="BranchFilter-BranchFilterFormat">Branch Filter Format</h2><p id="8264c221">To filter branches, use a newline-delimited list of <code class="code">+|-:logical_branch_name</code> rules, where <code class="code">logical_branch_name</code> is the name displayed in the TeamCity UI (for example, <code class="code">master</code>).</p><a name="OR-syntax-tip"></a><aside class="tip sideblock" data-title="" rel="BranchFilter-BranchFilterFormat" id="85b648fc"><p id="1405691c">Here, the <i id="eeabe286">pipe</i> symbol <code class="code">|</code> represents the <b id="685443d5">OR</b> command, as in regular expressions: use <code class="code">+</code> for including, <b id="ec3133ed">OR</b> <code class="code">-</code> for excluding.</p></aside><p id="ddd05322">The <code class="code">+:</code> rules include the matching branches into the list of accepted branches, the <code class="code">-:</code> rules exclude the branches from the list.</p><p id="8c298294">Each rule can have one optional wildcard <code class="code">*</code> placeholder that matches one or more characters: <code class="code">+|-:name*</code> will match the branch <code class="code">name1</code> but <b id="bfcc696c">will not</b> match the branch <code class="code">name</code>, which will need to be added explicitly.</p><p id="b4b49fa7">You can use parameter references in the branch filter.</p><p id="f29824b9">When a single branch is matched by several lines of the branch filter, the most specific (least characters matched by a pattern) last rule applies. That is, if the filter contains an exact pattern matching the branch (i.e. a pattern without the <code class="code">*</code> wildcard), then the last such pattern is used.</p><p id="2b6c92a6">Other examples:</p><ul class="list _ul"><li class="list__item" id="14f63b49"><p id="775ade90">Only the default branch is accepted:</p><div class="code-block" data-lang="none">+:&lt;default&gt;

</div></li><li class="list__item" id="3007cd50"><p id="c77c1d61">All branches except the default one are accepted:</p><div class="code-block" data-lang="none">+:*
-:&lt;default&gt;

</div></li><li class="list__item" id="5666f79e"><p id="66f7cb99">Only branches with the <code class="code">feature-</code> prefix are accepted:</p><div class="code-block" data-lang="none">+:feature-*

</div></li><li class="list__item" id="5d4fbbec"><p id="8b024f6f">Empty branch filter (all branches are accepted):</p><div class="code-block" data-lang="none">+:*

</div></li></ul><hr id="5a4c35a3"></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v2/app.js"></script></body></html>