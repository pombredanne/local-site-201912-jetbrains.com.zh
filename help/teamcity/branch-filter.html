<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v2/analytics.js"></script><title>分支过滤器-帮助|团队城市</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v2/app.css"></head><body  data-id="Branch Filter" data-breadcrumbs="teamcity-documentation.md|TeamCity Documentation/administrator-s-guide.md|Administrator's Guide/managing-projects-and-build-configurations.md|Managing Projects and Build Configurations/configuring-vcs-settings.md|Configuring VCS Settings/working-with-feature-branches.md|Working with Feature Branches/branch-filter.md|Branch Filter" data-main-title="Branch Filter" data-edit-url="https://github.com/JetBrains/teamcity-documentation/edit/2019.1/topics/branch-filter.md"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索TeamCity帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>TeamCity 2019.1帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 id="branch-filter.md" data-toc="Branch Filter">分支过滤器</h1><p id="08d5c1b5">如果VCS根目录配置了分支，则可以使用“ <i id="73c8b3aa">分支过滤器”</i>选项。</p><p id="b3af0b2c">在此页：</p><p id="e233e975"></p><ul class="list" data-skip-index="skip"><li class="list__item"><a href="#BranchFilter-BranchFilterUsage">分支过滤器的用法</a></li><li class="list__item"><a href="#BranchFilter-BranchFilterFormat">分支过滤格式</a></li></ul><p></p><a name="BranchFilterUsage"></a><a name="Branch-Filter-Usage"></a><div class="chapter"><h2 id="BranchFilter-BranchFilterUsage">分支过滤器的用法</h2><p id="ebb261ee">分支过滤器允许限制TeamCity在各种操作中使用的分支。当前，可以在以下TeamCity设置页面上使用分支过滤器：</p><div class="table-wrapper"><table width="100%" id="1f645e56"><thead><tr id="1460b75c" class="ijRowHead"><th id="4d71ce24"><p id="104bce78">设定值</p></th><th id="afe33447"><p id="86815b83">分支过滤器说明</p></th></tr></thead><tbody><tr id="f7899ab0" class="ijRowOdd"><td id="e6625cca"><p id="de0ffdae"><a href="configuring-vcs-settings.html">构建配置的版本控制设置</a></p></td><td id="4856b611"><p id="205e7455">限制可用于构建配置的分支集。在任何其他分支过滤器之前应用此分支过滤器，并限制自定义构建对话框中显示的分支以及触发器和构建功能可见的分支。</p></td></tr><tr id="81134c72" class="ijRowEven"><td id="35317c81"><p id="5e8c76e8"><a href="configuring-finish-build-trigger.html">完成构建触发器</a></p></td><td id="72f9e9f4"><p id="9e27c801">限制应将触发器应用于其构建的分支集。</p></td></tr><tr id="92bdd683" class="ijRowOdd"><td id="00525f1f"><p id="d7d0eb85"><a href="configuring-vcs-triggers.html">VCS触发器</a></p></td><td id="c82f814a"><p id="fdfc868e">限制应将触发器应用于的分支集。</p></td></tr><tr id="74532ec5" class="ijRowEven"><td id="256cfda3"><p id="d5916a8f"><a href="configuring-schedule-triggers.html">安排触发器</a></p></td><td id="c723c0d1"><p id="af978bcb">限制应将触发器应用于的分支集。</p><ul class="list _ul"><li class="list__item" id="46343ff9"><p>如果将“ <i id="e4f9bcf7">仅在有待处理的更改时才触发构建</i> ”设置为“ ON”，则触发器将为与存在存在待处理的更改的触发器分支过滤器匹配的所有分支的队列添加构建</p></li><li class="list__item" id="65d361a6"><p>如果将“ <i id="e5bc30d9">仅当有待处理的更改时才触发构建</i> ”设置为OFF，则触发器将为与触发器分支过滤器匹配的所有分支添加构建到队列中，而不管那里是否存在待处理的更改。</p></li></ul></td></tr><tr id="b6a7c8d7" class="ijRowOdd"><td id="9a6d48b9"><p id="52680690"><a href="vcs-labeling.html">“ VCS标签”构建功能</a></p></td><td id="bdc8c918"><p id="0c0d3af2">限制将要应用标签的分支集。</p></td></tr><tr id="475a965a" class="ijRowEven"><td id="44d953ae"><p id="0c16aebc"><a href="automatic-merge.html#Automatic-Merge-Settings">“自动合并”构建功能</a></p></td><td id="4b53b7c0"><p id="312e8c9f">限制分支的集合，将合并构建源的分支。</p></td></tr><tr id="b6c6178e" class="ijRowOdd"><td id="105c7e3e"><p id="62eb1746"><a href="subscribing-to-notifications.html">通知规则</a></p></td><td id="d54be8d1"><p id="10ca499e">设置过滤器以仅接收来自指定分支的内部版本的警报。默认情况下，仅监视默认分支。</p></td></tr></tbody></table></div></div><a name="BranchFilterFormat"></a><a name="Branch-Filter-Format"></a><div class="chapter"><h2 id="BranchFilter-BranchFilterFormat">分支过滤格式</h2><p id="8264c221">要过滤分支，请使用以换行符分隔的列表<code class="code">+|-:logical_branch_name</code>规则，在哪里<code class="code">logical_branch_name</code>是在TeamCity UI中显示的名称（例如， <code class="code">master</code> ）。</p><a name="OR-syntax-tip"></a><aside class="tip sideblock" rel="BranchFilter-BranchFilterFormat" id="85b648fc" data-title=""><p id="1405691c">在这里， <i id="eeabe286">管道</i>符号<code class="code">|</code>代表<b id="685443d5">OR</b>命令，如正则表达式中一样：use <code class="code">+</code>用于包括， <b id="ec3133ed">或</b> <code class="code">-</code>排除。</p></aside><p id="ddd05322">的<code class="code">+:</code>规则包括将匹配的分支纳入接受的分支列表， <code class="code">-:</code>规则从列表中排除分支。</p><p id="8c298294">每个规则可以有一个可选的通配符<code class="code">*</code>匹配一个或多个字符的占位符： <code class="code">+|-:name*</code>将匹配分支<code class="code">name1</code>但<b id="bfcc696c">不</b>匹配分支<code class="code">name</code> ，这需要明确添加。</p><p id="b4b49fa7">您可以在分支过滤器中使用参数引用。</p><p id="f29824b9">当单个分支与分支过滤器的多行匹配时，将应用最具体的（与模式匹配的最少字符）最后一个规则。也就是说，如果过滤器包含与分支完全匹配的模式（即不包含<code class="code">*</code>通配符），则使用最后一个这样的模式。</p><p id="2b6c92a6">其他例子：</p><ul class="list _ul"><li class="list__item" id="14f63b49"><p id="775ade90">仅接受默认分支：</p><div class="code-block" data-lang="none">+： <default>

</default></div></li><li class="list__item" id="3007cd50"><p id="c77c1d61">接受除默认分支以外的所有分支：</p><div class="code-block" data-lang="none">+：*-： <default>

</default></div></li><li class="list__item" id="5666f79e"><p id="66f7cb99">仅分支与<code class="code">feature-</code>前缀被接受：</p><div class="code-block" data-lang="none">+：功能-*</div></li><li class="list__item" id="5d4fbbec"><p id="8b024f6f">空分支过滤器（接受所有分支）：</p><div class="code-block" data-lang="none">+：*</div></li></ul><hr id="5a4c35a3"></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v2/app.js"></script></body></html>