<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v2/analytics.js"></script><title>Ordering Build Queue - Help | TeamCity</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v2/app.css"></head><body data-id="Ordering Build Queue" data-breadcrumbs="teamcity-documentation.md|TeamCity Documentation/administrator-s-guide.md|Administrator's Guide/managing-projects-and-build-configurations.md|Managing Projects and Build Configurations/ordering-build-queue.md|Ordering Build Queue" data-main-title="Ordering Build Queue" data-edit-url="https://github.com/JetBrains/teamcity-documentation/edit/2019.1/topics/ordering-build-queue.md"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search TeamCity Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>TeamCity 2019.1 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Ordering Build Queue" id="ordering-build-queue.md">Ordering Build Queue</h1><p id="58f4fb98">This page lists the options to manage the queue builds manually. Automatic build queue optimization is detailed in the <a href="build-queue.html#Build-Queue-Optimization-by-TeamCity">separate section</a>.</p><p id="94ea0ad6">On this page:</p><p id="7dbd2c5a"><ul class="list" data-skip-index="skip"><li class="list__item"><a href="#OrderingBuildQueue-ManuallyReorderingBuildsinQueue">Manually Reordering Builds in Queue</a><ul class="list _bullet"><li class="list__item"><a href="#OrderingBuildQueue-MovingBuildstoTop">Moving Builds to Top</a></li></ul></li><li class="list__item"><a href="#OrderingBuildQueue-ManagingBuildPriorities">Managing Build Priorities</a></li><li class="list__item"><a href="#OrderingBuildQueue-RemovingBuildsFromBuildQueue">Removing Builds From Build Queue</a></li><li class="list__item"><a href="#OrderingBuildQueue-LimitingMaximumSizeofBuildQueue">Limiting Maximum Size of Build Queue</a></li></ul></p><a name="ManuallyReorderingBuildsinQueue"></a><a name="Manually-Reordering-Builds-in-Queue"></a><div class="chapter"><h2 id="OrderingBuildQueue-ManuallyReorderingBuildsinQueue">Manually Reordering Builds in Queue</h2><p id="d9348b15">To reorder builds in the <a href="build-queue.html">Build Queue</a>, you can drag them to the desired position.</p><a name="MovingBuildstoTop"></a><a name="Moving-Builds-to-Top"></a><div class="chapter"><h3 id="OrderingBuildQueue-MovingBuildstoTop">Moving Builds to Top</h3><ul class="list _ul"><li class="list__item" id="666ac630">For any queued build, do one of the following:<ul class="list _ul"><li class="list__item" id="b1132098"><p>on the <a href="build-queue.html">Build Queue</a> page, click the arrow button next to the build sequence number <img alt="moveToTop.png" title="moveToTop.png" src="/help/img/teamcity/2019.1/moveToTop.png" id="17db1f9d" width="22" height="23" class="inline-icon-22"> to move the build to the top of the queue.</p></li><li class="list__item" id="d2941ead"><p>click the build number or build status link anywhere in the UI, and, on the <a href="working-with-build-results.html">queued build </a>page, click the <b id="6df4bd2b">Actions</b> menu in the top right. Select the <b id="a497a2cc">Move to top</b> action. The queue position will change. For a composite build, the whole build chain will be moved to the top of the queue.</p></li></ul></li><li class="list__item" id="a3b3393e"><p>For a running composite build which has dependencies that have not yet started, click the build number or build status link anywhere in the UI, and, on the <a href="working-with-build-results.html">running build</a> page, click the <b id="70000529">Actions</b> menu in the top right. Select the <b id="b8aa4065">Move queued dependencies to top</b> action. All queued dependencies of this build will be moved to the top of the queue.</p></li></ul></div></div><a name="ManagingBuildPriorities"></a><a name="Managing-Build-Priorities"></a><div class="chapter"><h2 id="OrderingBuildQueue-ManagingBuildPriorities">Managing Build Priorities</h2><p id="51e67562">By default, builds are placed in the build queue in the order they are triggered: most recently triggered build is add to the bottom of the queue. It is possible to change build's priorities so that builds are inserted into the build queue at a position depending on their defined priority and the wait time of the currently queued builds.</p><p id="d8081f5f">In TeamCity you can control build priorities by creating <i id="97ed0761">Priority Classes</i>. A priority class is a set of build configurations with a specified priority (the higher the number, the higher the priority. For example, <code class="code">priority=2</code> is higher than <code class="code">priority=1</code>). The higher priority a configuration has, the higher place it gets when added to the Build Queue.<br>To access these settings, on the <b id="526e1dbd">Build Queue</b> tab, click the <b id="6eb8984c">Configure Build Priorities</b> link in the upper right corner of the page.</p><aside class="tip sideblock" data-title="" rel="d8081f5f" id="2da92fab"><p id="2c2afc5c">Note that only users with the <b id="5d61d810">System Administator</b> role can manage build priority classes.</p></aside><p id="dfeb5e1d">By default, there are two predefined priority classes: <i id="ae6c3244">Personal</i> and <i id="f357755f">Default</i>, both with <code class="code">priority=0</code>.</p><ul class="list _ul"><li class="list__item" id="296a0b0e"><p>All personal builds (<a href="remote-run.html">Remote Run</a> or <a href="pre-tested-delayed-commit.html">Pre-tested Commit</a>) are assigned to the <i id="95dc574a">Personal</i> priority class once they are added to the build queue. Note that you can change the priority for personal builds here.</p></li><li class="list__item" id="8397fe05"><p>The <i id="ffbdfe9f">Default</i> class includes all the builds not associated with any other class. This allows creating a class with priority lower than default and place some builds to the bottom of the queue.</p></li></ul><p id="a13658ae">To create a new priority class:</p><ol class="list _decimal"><li class="list__item" id="c5fe55d5"><p>Click <b id="43cf1891">Create new priority class</b>.</p></li><li class="list__item" id="24a29f56"><p>Specify its name, priority (in the range <code class="code">-100..100</code>) and additional description. Click <b id="d987cc14">Create</b>.</p></li><li class="list__item" id="99f772d1"><p>Click the <b id="3c700d61">Add configurations</b> link to specify which build configurations should have priority defined in this class.</p></li></ol><p id="2464447a">This setting is taken into account only when a build is added to the queue. To ensure that builds with lower priority always have a chance to run, TeamCity also considers how long each build is staying in the queue. This allows running a long awaiting build with lower priority before the recently added builds with higher priority. For a detailed explanation of this behavior, refer to the <a href="https://confluence.jetbrains.com/display/TW/Build+Queue+Priorities#BuildQueuePriorities-Algorithmdetails" data-external="true" target="_blank" rel="noopener noreferrer">algorithm description</a>.</p></div><a name="RemovingBuildsFromBuildQueue"></a><a name="Removing-Builds-From-Build-Queue"></a><div class="chapter"><h2 id="OrderingBuildQueue-RemovingBuildsFromBuildQueue">Removing Builds From Build Queue</h2><p id="2321973d">To remove build(s) from the queue, check the <b id="af1508c1">Remove</b> box next to the selected build and confirm the deletion. If a build to be removed from the queue is a part of a build chain, TeamCity shows the following message below comment field: "This build is a part of a build chain". Refer to the <a href="build-chain.html#Stopping/Removing-From-Queue-Builds-from-Build-Chain">Build Chain</a> description for details.</p><p id="744a4552">Also you can remove all your personal builds from the queue at once from the <b id="e8877914">Actions</b> menu.</p><p id="1924947b">You can also remove several builds of <a href="build-configuration.html#Pausing-/-Activating-several-build-configurations-of-a-project">paused build configurations</a> from the queue.</p></div><a name="LimitingMaximumSizeofBuildQueue"></a><a name="Limiting-Maximum-Size-of-Build-Queue"></a><div class="chapter"><h2 id="OrderingBuildQueue-LimitingMaximumSizeofBuildQueue">Limiting Maximum Size of Build Queue</h2><p id="28499caa">It is possible to limit the maximum number of builds in the queue. By default, the limit is set to 3000 builds. The default value can be changed using the <code class="code">teamcity.buildTriggersChecker.queueSizeLimit</code> <a href="configuring-teamcity-server-startup-properties.html#TeamCity-internal-properties">internal property</a>.</p><p id="b1ec96de">When the queue size reaches the limit, TeamCity will pause <a href="configuring-build-triggers.html">Configuring Build Triggers</a>. Automatic build triggering will be re-enabled once the queue size gets below limit. While triggering is paused, a warning message is shown to all of the users.</p><p id="b34bd58a">While <b id="e00dbe3d">automatic</b> triggering is paused, it is still possible to add builds to the queue <a href="triggering-a-custom-build.html">manually</a>.</p><hr id="ca65a4a4"><p id="13426a23"><b id="cecdd87e">See also:</b></p><p id="711b3022"><b id="df09f4cc">Concepts</b>: <a href="build-queue.html">Build Queue</a></p><hr id="e8f5fc1e"></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v2/app.js"></script></body></html>