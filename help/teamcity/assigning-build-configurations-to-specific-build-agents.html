<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v2/analytics.js"></script><title>Assigning Build Configurations to Specific Build Agents - Help | TeamCity</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v2/app.css"></head><body data-id="Assigning Build Configurations to Specific Build Agents" data-breadcrumbs="teamcity-documentation.md|TeamCity Documentation/administrator-s-guide.md|Administrator's Guide/assigning-build-configurations-to-specific-build-agents.md|Assigning Build Configurations to Specific Build Agents" data-main-title="Assigning Build Configurations to Specific Build Agents" data-edit-url="https://github.com/JetBrains/teamcity-documentation/edit/2019.1/topics/assigning-build-configurations-to-specific-build-agents.md"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search TeamCity Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>TeamCity 2019.1 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Assigning Build Configurations to Specific Build Agents" id="assigning-build-configurations-to-specific-build-agents.md">Assigning Build Configurations to Specific Build Agents</h1><p id="c75dbe43">It is sometimes necessary to manage the <a href="build-agent.html">Build Agents</a>' workload more effectively. For example, if the time-consuming performance tests are run, the Build Agents with low hardware resources may slow down. As a result, more builds will enter the <a href="build-queue.html">Build Queue</a>, and the feedback loop can become longer than desired. To avoid such situation, you can:</p><ol class="list _decimal"><li class="list__item" id="46f6fdf3"><p><a href="#Agent-pools">Establish a run configuration policy</a> for an agent, which defines the build configurations to run on this agent.</p></li><li class="list__item" id="0e81b812">Define special <a href="agent-requirements.html">Agent Requirements</a>, to restrict the pool of agents, on which a build configuration can run the builds. These requirements are:<ul class="list _ul"><li class="list__item" id="a207c464"><p><a href="#Agent-pools">Build Agent name</a>. If the name of a build agent is made a requirement, the build configuration will run builds on this agent only.</p></li><li class="list__item" id="3db2be77"><p><a href="#Agent-pools">Build Agent property</a>. If a certain property, for example, a capability to run builds of a certain configuration or an operating system, is made a requirement, the build configuration will run builds on the agents that meet this requirement.</p></li></ul></li></ol><ul class="list _ul"><li class="list__item" id="c677c481"><p>You can modify these parameters when setting up the project or build configuration, or at any moment you need. The changes you make to the build configurations are applied on the fly.</p></li><li class="list__item" id="978762a7"><p>You can specify a particular build agent to run a build on when <a href="triggering-a-custom-build.html">Triggering a Custom Build</a>.</p></li></ul><a name="Agentpools"></a><a name="Agent-pools"></a><div class="chapter"><h2 id="AssigningBuildConfigurationstoSpecificBuildAgents-Agentpools">Agent pools</h2><p id="8d5e3c9c">You could split agents into pools. Each project could be associated to a number of pools. See <a href="agent-pools.html">Agent Pools</a>.</p></div><a name="EstablishingaRunConfigurationPolicy"></a><a name="Establishing-a-Run-Configuration-Policy"></a><div class="chapter"><h2 id="AssigningBuildConfigurationstoSpecificBuildAgents-EstablishingaRunConfigurationPolicy">Establishing a Run Configuration Policy</h2><p id="d62e2cf4"><b id="8caaf23a">To establish a Build Agent's run configuration policy:</b></p><ol class="list _decimal"><li class="list__item" id="29d660a9"><p>Click the <b id="33a5fdd9">Agents</b> and select the desired build agent.</p></li><li class="list__item" id="8e357e23"><p>Click the <b id="55d2e3bf">Compatible Configurations</b> tab.</p></li><li class="list__item" id="ae774ffa"><p>Select <b id="04a41b97">Run selected configurations only</b> and tick the desired build configurations names to run on the build agent.</p></li></ol></div><a name="MakingBuildAgentNameandPropertyaBuildConfigurationRequirement"></a><a name="Making-Build-Agent-Name-and-Property-a-Build-Configuration-Requirement"></a><div class="chapter"><h2 id="AssigningBuildConfigurationstoSpecificBuildAgents-MakingBuildAgentNameandPropertyaBuildConfigurationRequirement">Making Build Agent Name and Property a Build Configuration Requirement</h2><p id="3acffb84"><b id="05b4742f">To make a build configuration run the builds on a build agent with the specified name and properties:</b></p><ol class="list _decimal"><li class="list__item" id="2cbe0db5"><p>Click <b id="a5be516f">Administration</b> and select the desired build configuration.</p></li><li class="list__item" id="8ee01a88"><p>Click Agent Requirements (see <a href="configuring-agent-requirements.html">Configuring Agent Requirements</a>).</p></li><li class="list__item" id="7228f548"><p>Click the <b id="a69013c6">Add requirement for a property</b> link, type the <code class="code">agent.name</code> property, set its condition to <b id="0feb8cee">equals</b> and specify the build agent's name.</p></li><li class="list__item" id="322775bf"><p>Click the <b id="45efd61a">Add requirement for a property</b> link and add the required property, condition, and value. For example, if you have several Linux-only builds, you can add the <code class="code">teamcity.agent.jvm.os.name</code> property and set the <b id="0fb24756">starts with</b> condition and the <code class="code">linux</code> value.</p></li></ol><aside class="tip sideblock" data-title="" rel="5f9c1dbf" id="81316195"><p id="2917b8f2">You can also use the condition <b id="c3bd0b5a">contains</b>, however, it may include more than one specific build agent (for example, a build configuration with a requirement <code class="code">agent.name</code> <b id="40b48c08">contains</b> <code class="code">Agent10</code>, will run on agents named <b id="48685722">Agent10</b>, <b id="cb372953">Agent10a</b>, and <b id="a839275c">Agent10b</b>).</p></aside><hr id="e3601b39"><p id="fa351d4e"><b id="1dd79097">See also:</b></p><p id="33d10cbb"><b id="2aaaa462">Concepts</b>: <a href="build-agent.html">Build Agent</a> | <a href="agent-requirements.html">Agent Requirements</a> | <a href="run-configuration-policy.html">Run Configuration Policy</a><br><b id="29650535">Administrator's Guide</b>: <a href="triggering-a-custom-build.html">Triggering a Custom Build</a></p><hr id="cdf9ceea"></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v2/app.js"></script></body></html>