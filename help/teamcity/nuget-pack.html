<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v2/analytics.js"></script><title>NuGet Pack-帮助|团队城市</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v2/app.css"></head><body  data-id="NuGet Pack" data-breadcrumbs="teamcity-documentation.md|TeamCity Documentation/administrator-s-guide.md|Administrator's Guide/managing-projects-and-build-configurations.md|Managing Projects and Build Configurations/creating-and-editing-build-configurations.md|Creating and Editing Build Configurations/configuring-build-steps.md|Configuring Build Steps/nuget-pack.md|NuGet Pack" data-main-title="NuGet Pack" data-edit-url="https://github.com/JetBrains/teamcity-documentation/edit/2019.1/topics/nuget-pack.md"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索TeamCity帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>TeamCity 2019.1帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 id="nuget-pack.md" data-toc="NuGet Pack">NuGet包</h1><p id="d7feb9e3"><b id="2ffe1001">NuGet Pack</b>构建运行器允许从给定的规范文件构建NuGet软件包。如果要发布此软件包，请添加<a href="nuget-publish.html">NuGet Publish</a>构建步骤。</p><aside class="note " rel="d7feb9e3" id="2f2eb3ff" data-title=""><p id="77291901"><b id="7acf18c5" origin="teamcity-help">支持的操作系统</b></p><p id="6a8ec0d2">默认情况下，运行Windows操作系统的构建代理支持NuGet构建运行程序。当代理上安装了<a href="http://www.mono-project.com/docs/getting-started/install/" rel="noopener noreferrer" data-external="true" target="_blank">Mono</a>时，将支持Linux和macOS（仅支持Mono 4.4.2+上的NuGet 3.3+）。</p></aside><aside class="tip sideblock" rel="nuget-pack.md" id="52310cc3" data-title=""><p id="8c062916">要在<a href="kotlin-dsl.html">Kotlin DSL中</a>查看NuGet安装程序的设置，请单击侧栏中的“ <b id="68e224ab">查看DSL</b> ”。</p></aside><p id="cb56b615">配置NuGet Pack运行程序的以下选项：</p><div class="table-wrapper"><table width="100%" id="bd3bd11b"><thead><tr id="54309392" class="ijRowHead"><th id="32122887"><p id="20747a36">选项</p></th><th id="8d67466e"><p id="45736810">描述</p></th></tr></thead><tbody><tr id="6da0b02d" class="ijRowOdd"><td id="df904532"><p id="064129fd">NuGet.exe</p></td><td id="0fdf9c02"><p id="7bcd74d9">从下拉列表中选择要使用的NuGet版本（您需要<a href="nuget.html">安装NuGet</a> ），或指定一个自定义路径来<code class="code">NuGet.exe</code> 。</p><aside class="note " rel="7bcd74d9" id="4915e2fe" data-title=""><p id="cb7fdf87">根据所使用的NuGet.exe版本，需要在代理计算机上安装适当版本的.NET Framework：NuGet 2.8.6+需要.NET 4.5+，更早的NuGet版本需要.NET 4.0。</p></aside></td></tr><tr id="44a5b429" class="ijRowEven"><td id="87ec6459"><p id="61043135">规格文件</p></td><td id="e634db24"><p id="ad2cad2e">输入路径<code class="code">csproj</code>要么<code class="code">nuspec</code>文件。您可以根据需要在此处指定任意多个规范文件。支持通配符。如果在此处指定csproj文件，则无需在spec文件中重新定义版本号和版权信息。</p></td></tr><tr id="459664f4" class="ijRowOdd"><td id="f8b34530"><p id="07d88e91">将项目文件优先于.nuspec</p></td><td id="5bdafb24"><p id="16044b05">选中复选框以使用项目文件（如果存在，即<code class="code">.csproj</code>要么<code class="code">.vbproj</code> ） <code class="code">.nuspec</code>文件。</p></td></tr><tr id="b4643efa" class="ijRowEven"><td id="df3ff9b2"><p id="6d47f798">版</p></td><td id="5ec5bb14"><p id="a4d39dd6">指定软件包版本。覆盖版本号中的<code class="code">nuspec</code>文件。您可以使用TeamCity变量<code class="code">%build.number%</code>这里。</p></td></tr><tr id="59ab8229" class="ijRowOdd"><td id="65e34945"><p id="ce10b8ee">基本目录</p></td><td id="66ce0088"><p id="1fdbed27">从下拉列表中选择一个选项，以指定目录中定义的文件所在的目录<code class="code">nuspec</code>文件所在的位置（路径在其中的目录<code class="code"><files></files></code>从<code class="code">nuspec</code>解决了，通常是一些<code class="code">bin</code>目录）。如果设置了“ <b id="644be502">使用显式目录”</b>并且将该字段留为空白，TeamCity将使用构建签出目录作为基本目录。</p></td></tr><tr id="fce95124" class="ijRowEven"><td id="d76f7cf4"><p id="9418d696">输出目录</p></td><td id="b34bc93d"><p id="2b0164dd">指定放置生成的NuGet包的路径。</p></td></tr><tr id="48ba411a" class="ijRowOdd"><td id="f0f2b393"><p id="1f690f40">lean输出目录</p></td><td id="0fa09a78"><p id="60eb1145">打包之前，请选中复选框以清洁目录。</p></td></tr><tr id="9764c569" class="ijRowEven"><td id="5f2ae4ff"><p id="71735cdb">发布创建的包以构建工件</p></td><td id="f4862e8f"><p id="6fb7460d">如果您将TeamCity用作NuGet存储库以将程序包发布到TeamCity的NuGet服务器，并能够将其用作常规TeamCity工件，请选中该框。</p></td></tr><tr id="fdf97d49" class="ijRowOdd"><td id="0f7678d3"><p id="1b2bd0c2">排除文件</p></td><td id="d182ae2c"><p id="3e17f83e">指定创建包时要排除的一个或多个通配符模式。等效于NuGet.exe <code class="code">-Exclude</code>论点。</p></td></tr><tr id="147fd203" class="ijRowEven"><td id="8f5382a9"><p id="f49d6b32">性质</p></td><td id="e838b5be"><p id="995cc0dc">用分号或换行符分隔的包创建属性列表。例如，要发布版本，请在此处定义<code class="code">Configuration=Release</code> 。</p></td></tr><tr id="997eda79" class="ijRowOdd"><td id="9cbe4aaa"><p id="6df6611d">选件</p></td><td id="307cd90d"><p id="ae04a97a"><b id="e7216504">创建工具包</b> –选中该框，将项目的输出文件放置到<b id="43fa07a3">工具</b>文件夹中。<br><b id="b1458561">包括源和符号</b> –选中该框以创建包含源和符号的软件包。当使用nuspec指定时，它将创建一个常规的NuGet软件包文件和相应的symbol软件包（将源发布到<a href="http://www.symbolsource.org/" rel="noopener noreferrer" data-external="true" target="_blank">Symbolsource所需</a> ）</p></td></tr><tr id="640c5761" class="ijRowEven"><td id="eba89631"><p id="f2a3d814">命令行参数</p></td><td id="f6be3132"><p id="7a027c3e">设置要传递给的其他命令行参数<code class="code">NuGet.exe</code> 。</p></td></tr></tbody></table></div><hr id="f9623b48"><p id="eb717774"><b id="ff6816a2">也可以看看：</b></p><p id="fed672bd"><b id="f20ee9a2">管理员指南</b> ： <a href="nuget-installer.html">NuGet安装程序</a> | <a href="nuget-publish.html">NuGet发布</a></p><hr id="aa49579f"></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v2/app.js"></script></body></html>