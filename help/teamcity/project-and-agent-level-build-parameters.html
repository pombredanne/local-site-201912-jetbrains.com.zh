<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v2/analytics.js"></script><title>项目和代理级别的构建参数-帮助|帮助团队城市</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v2/app.css"></head><body  data-id="Project and Agent Level Build Parameters" data-breadcrumbs="teamcity-documentation.md|TeamCity Documentation/administrator-s-guide.md|Administrator's Guide/managing-projects-and-build-configurations.md|Managing Projects and Build Configurations/creating-and-editing-build-configurations.md|Creating and Editing Build Configurations/configuring-build-parameters.md|Configuring Build Parameters/project-and-agent-level-build-parameters.md|Project and Agent Level Build Parameters" data-main-title="Project and Agent Level Build Parameters" data-edit-url="https://github.com/JetBrains/teamcity-documentation/edit/2019.1/topics/project-and-agent-level-build-parameters.md"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索TeamCity帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>TeamCity 2019.1帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 id="project-and-agent-level-build-parameters.md" data-toc="Project and Agent Level Build Parameters">项目和代理级别的构建参数</h1><p id="8897c497">除了在“构建配置”设置中定义<a href="configuring-build-parameters.html">构建参数外</a> ，还可以在项目或构建代理级别上定义它们。</p><p id="0c8ced34">在此页：</p><p id="8ac645ef"></p><ul class="list" data-skip-index="skip"><li class="list__item"><a href="#ProjectandAgentLevelBuildParameters-ProjectLevelBuildParameters">项目级别的构建参数</a></li><li class="list__item"><a href="#ProjectandAgentLevelBuildParameters-AgentLevelBuildParameters">座席级别构建参数</a></li></ul><p></p><a name="ProjectLevelBuildParameters"></a><a name="Project-Level-Build-Parameters"></a><div class="chapter"><h2 id="ProjectandAgentLevelBuildParameters-ProjectLevelBuildParameters">项目级别的构建参数</h2><p id="4d4f32c5">TeamCity允许您在一个位置定义项目，其<b id="d5d9ca7a">所有</b>子项目的构建参数以及构建配置：“ <b id="e0a9579f">项目设置”</b> >“ <b id="1e6eb309">参数”</b>选项卡。</p><p id="54fd90b3">请注意，如果在构建配置中定义了构建参数P，并且在项目级别上存在具有相同名称的构建参数，则适用以下试探法：</p><p id="dd072102"><b id="739ee8ec">情况1</b> ：项目A，来自项目A的构建配置。<br>在构建配置中定义的参数优先于在项目级别定义的具有相同名称的参数。</p><p id="b2726ba6"><b id="245ba959">情况2</b> ：项目A，项目A的模板T，项目A的构造配置，继承自模板T。<br>构建配置的参数优先于项目A中定义的具有相同名称的参数，而项目级别的参数优先于模板中定义的具有相同名称的参数。</p><p id="6247dda9"><b id="596db759">情况3</b> ：项目A1，项目A2，项目A1的模板T，项目A2的构建配置继承自模板T。<br>项目A2（一个构建配置所属的）的参数优先于模板中定义的具有相同名称的参数。</p><p id="b569d60d">您还可以仅为使用<b id="0f603fe7">相同VCS根</b>的项目的那些构建配置定义参数。为此，请创建一个名为<code class="code">teamcity.default.properties</code> ，然后将其检入VCS根目录。通过指定适当的<a href="configuring-vcs-settings.html#Configure-Checkout-Rules">签出规则，</a>确保文件直接显示在<a href="build-working-directory.html">构建工作目录中</a> 。可以通过以下方式自定义文件的名称和路径： <code class="code">teamcity.default.properties</code>构建配置的属性。</p><p id="6cb30693">以这种方式定义的属性在TeamCity Web UI中不可见，但直接传递给构建过程。</p><p id="f4b59eb2"><a name="agentSpecific"></a><a name="ProjectandAgentLevelBuildParameters-agentSpecific"></a></p></div><a name="AgentLevelBuildParameters"></a><a name="Agent-Level-Build-Parameters"></a><div class="chapter"><h2 id="ProjectandAgentLevelBuildParameters-AgentLevelBuildParameters">座席级别构建参数</h2><p id="b46bc097">要定义特定于代理的属性，请编辑构建代理的<code class="code">buildAgent.properties</code>文件（ <code class="code"><agent home>/conf/buildAgent.properties</code> ）。有关更多信息，请参阅“ <a href="predefined-build-parameters.html#Agent-Properties">特定</a>于<a href="predefined-build-parameters.html#Agent-Properties">代理的属性”</a>页面。</p><p id="7cae7d84">在定义系统属性和环境变量时<code class="code">teamcity.default.properties</code>要么<code class="code">buildAgent.properties</code>文件，请使用以下格式：</p><div class="code-block" data-lang="none">[环境|系统]。<property_name>= <property_value>

</property_value></property_name></div><p id="ed557625">例如： <code class="code">env.CATALINA_HOME=C:\tomcat_6.0.13</code> 。</p><hr id="c3d46bff"><p id="026461a1"><b id="a6fca74a">也可以看看：</b></p><p id="cd2ec235"><b id="4e7c3a4b">管理员指南</b> ： <a href="configuring-build-parameters.html">配置构建参数</a> | <a href="configuring-build-parameters.html">在构建配置中定义和使用构建参数</a> <a href="predefined-build-parameters.html">预定义的构建参数</a></p><hr id="abe3d87d"></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v2/app.js"></script></body></html>