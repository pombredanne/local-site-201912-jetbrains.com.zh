<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v2/analytics.js"></script><title>NUnit for NAnt Build Runner - Help | TeamCity</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v2/app.css"></head><body data-id="NUnit for NAnt Build Runner" data-breadcrumbs="teamcity-documentation.md|TeamCity Documentation/administrator-s-guide.md|Administrator's Guide/managing-projects-and-build-configurations.md|Managing Projects and Build Configurations/creating-and-editing-build-configurations.md|Creating and Editing Build Configurations/configuring-unit-testing-and-code-coverage.md|Configuring Unit Testing and Code Coverage/net-testing-frameworks-support.md|.NET Testing Frameworks Support/nunit-support.md|NUnit Support/nunit-for-nant-build-runner.md|NUnit for NAnt Build Runner" data-main-title="NUnit for NAnt Build Runner" data-edit-url="https://github.com/JetBrains/teamcity-documentation/edit/2019.1/topics/nunit-for-nant-build-runner.md"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search TeamCity Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>TeamCity 2019.1 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="NUnit for NAnt Build Runner" id="nunit-for-nant-build-runner.md">NUnit for NAnt Build Runner</h1><aside class="tip sideblock" data-title="" rel="nunit-for-nant-build-runner.md" id="efc63887"><p id="92c875cc">Supported NUnit versions: <b id="62c64aa1">2.2.10</b>, <b id="74e46502">2.4.1</b>, <b id="f5498c50">2.4.6</b>, <b id="97679c23">2.4.7</b>, <b id="c65bda19">2.4.8</b>, <b id="869c94cf">2.5.0</b>, <b id="85eb0a2a">2.5.2</b>, <b id="fdff58b6">2.5.3</b>, <b id="0465c636">2.5.4</b>, <b id="486cb242">2.5.5</b>, <b id="7a9cb4c2">2.5.6</b>, <b id="1ff50f50">2.5.7</b>, <b id="c1f6daa2">2.5.8</b>, <b id="286633b7">2.5.9</b>, <b id="db812bcb">2.5.10</b>, <b id="9c53a61d">2.6.0</b>, <b id="1dce794e">2.6.1</b>, <b id="b8ea2b61">2.6.2</b>, <b id="e37cc5f7">2.6.3</b>.</p></aside><p id="f40ccf8e">This section assumes, that you already have a NAnt build script with the configured <code class="code">nunit2</code> task in it, and want TeamCity to track test reports without making any changes to the existing build script. Otherwise, consider adding <a href="nunit.html">NUnit build runner</a> as one of the steps for your build configuration.</p><p id="cc4a676e">To track tests defined in a NAnt build via the standard <code class="code">nunt2</code> task, TeamCity provides a custom <a href="http://nant.sourceforge.net/nightly/latest/help/tasks/nunit2.html" data-external="true" target="_blank" rel="noopener noreferrer">task</a> implementation and automatically replaces the original <code class="code">&lt;nunit2&gt;</code> task with its own task. Thus when the build is triggered, TeamCity starts TeamCity NUnit Test Launcher using own implementation of <code class="code">&lt;nunit2&gt;</code>. This allows you to leave your build script without changes and receive on-the-fly test reports in TeamCity.</p><p id="52a2cd76">If you don't want TeamCity to replace the original <code class="code">nunit2</code> task, consider the following options:</p><ul class="list _ul"><li class="list__item" id="31bb939a"><p>Use NUnit console with TeamCity Addin for NUnit.</p></li><li class="list__item" id="50ca6b9a"><p>Import XML tests results via the XML Test Report plugin.</p></li><li class="list__item" id="cd61d782"><p>Use command-line TeamCity NUnit Test Launcher.</p></li><li class="list__item" id="8b9ed1b3"><p>Configure reporting tests manually via service messages.</p></li><li class="list__item" id="3bd45ed7"><p>To disable <code class="code">nunit2</code> task replacement, set <code class="code">teamcity.dotnet.nant.replaceTasks</code> <a href="configuring-build-parameters.html">system property</a> to <code class="code">false</code>.</p></li></ul><p id="d0f98af6">The <code class="code">nunt2</code> task implementation in TeamCity supports additional options that can be specified either as NAnt <code class="code">&lt;property&gt;</code> tasks in the build script, or as <b id="120b327b">System Properties</b> under <b id="4ea440b3">Build Configuration | Build Parameters</b>.</p><p id="95c18ff4">The following options are supported for the TeamCity <code class="code">&lt;nunit2&gt;</code> task implementation:</p><div class="table-wrapper"><table width="100%" id="a0cea2c5"><thead><tr id="cf0f74b0" class="ijRowHead"><th id="1217c2a0"><p id="a06eb45b">Property</p></th><th id="0c18df09"><p id="47962653">Description</p></th></tr></thead><tbody><tr id="860f3f82" class="ijRowOdd"><td id="ac236a4c"><p id="7c7761df"><code class="code">teamcity.dotnet.nant.nunit2.failonfailureatend</code></p></td><td id="da66af2d"><p id="01e9c4ae">Run <b id="edd8a1fc">all tests</b> regardless of the number of failed ones, and fails if at least one test has failed.</p></td></tr><tr id="93bfe9e4" class="ijRowEven"><td id="27746419"><p id="b1fccf50"><code class="code">teamcity.dotnet.nant.nunit2.platform</code></p></td><td id="dd779f8d"><p id="99905ba9">Sets desired runtime execution mode for .NET 2.0 on x64 machines. Supported values are <b id="e9509f52">x86</b>, <b id="484cb763">x64</b>, and <b id="2e740fee">ANY</b>(default).</p></td></tr><tr id="f88288ec" class="ijRowOdd"><td id="83811f49"><p id="d04725aa"><code class="code">teamcity.dotnet.nant.nunit2.platformVersion</code></p></td><td id="f29f5438"><p id="7bf4b055">Sets desired .NET Framework version. Supported values are <b id="ffbd6780">v1.1</b>, <b id="49f46976">v2.0</b>, <b id="f31fb484">v4.0</b>. Default value is equal to NAnt target framework</p></td></tr><tr id="47a19304" class="ijRowEven"><td id="bf461e11"><p id="d7e424c0"><code class="code">teamcity.dotnet.nant.nunit2.version</code></p></td><td id="78ec3e88"><p id="e093d0b6">Specifies which version of the NUnit runner to use. The value has to be specified in the following format: <code class="code">NUnit-&lt;version&gt;</code>.</p><p id="ac17ad4c">It is possible to have several versions of NUnit installed on an agent machine and use any of them in a build.</p></td></tr><tr id="abb03e6d" class="ijRowOdd"><td id="25674a84"><p id="8856f43d"><code class="code">teamcity.dotnet.nant.nunit2.addins</code></p></td><td id="70095f1c"><p id="386d8871">Specifies the list of third-party NUnit addins used for NAnt build runner.</p></td></tr><tr id="7fbdf09f" class="ijRowEven"><td id="fd339f5c"><p id="ca1b0e70"><code class="code">teamcity.dotnet.nant.nunit2.runProcessPerAssembly</code></p></td><td id="d967ed89"><p id="11d4d7c8">Set <b id="5eb0cb47">true</b> if you want to run each assembly in a new process.</p></td></tr></tbody></table></div><p id="02aadfc5">TeamCity NUnit test launcher will run tests in the .NET Framework, which is specified by NAnt target framework, i.e. on .NET Framework 1.1, 2.0 or 4.0 runtime. TeamCity also supports test categories for <code class="code">&lt;nunit2&gt;</code> task.</p><aside class="note " data-title="" rel="02aadfc5" id="7ff7a011"><p id="8831d798">Adding the listed properties to the NAnt build script makes it TeamCity dependent. To avoid this, specify properties as <b id="5febb250">System Properties</b> under <b id="eab5dc31">Build Configuration</b>, or consider adding <code class="code">&lt;if&gt;</code> task.</p></aside><aside class="tip sideblock" data-title="" rel="nunit-for-nant-build-runner.md" id="ed7c004e"><p id="191c4000">If you need TeamCity test runner to support third-party NUnit addins, refer to the <a href="nunit-addins-support.html">NUnit Addins Support</a> section for the details.</p></aside><a name="Examples"></a><a name="Examples"></a><h3 id="NUnitforNAntBuildRunner-Examples">Examples</h3><p id="a7a44b9e">Start tests form a single assembly files under x64 mode on .NET 2.0.</p><div class="code-block" data-lang="markup">&lt;property name="teamcity.dotnet.nant.nunit2.platform" value="x64" /&gt;
&lt;nunit2&gt;
    &lt;formatter type="Plain" /&gt;
    &lt;test assemblyname="MyProject.Tests.dll" /&gt;
&lt;/nunit2&gt;

</div><p id="2495a513">Run all tests from category C1, but not C2.</p><div class="code-block" data-lang="markup">&lt;nunit2 verbose="true" haltonfailure="false" failonerror="true"&gt;
         &lt;formatter type="Plain" /&gt;
          &lt;test&gt;
            &lt;assemblies&gt;
              &lt;include name="dll.dll" /&gt;
            &lt;/assemblies&gt;
            &lt;categories&gt;
               &lt;include name="C1" /&gt;
               &lt;exclude name="C2"/&gt;
            &lt;/categories&gt;
          &lt;/test&gt;
        &lt;/nunit2&gt;

</div><p id="536879f5">Explicitly specify the version on NUnit to run tests with.<br>Note, that in this case, the following property should be added <b id="f4e0a219">before</b> the <code class="code">nunit2</code> task call.</p><div class="code-block" data-lang="markup">&lt;property name="teamcity.dotnet.nant.nunit2.version" value="NUnit-2.4.10" /&gt;
&lt;nunit2&gt; &lt;!--....--&gt; &lt;/nunit2&gt;

</div><hr id="bae952b6"></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v2/app.js"></script></body></html>