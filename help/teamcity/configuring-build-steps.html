<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v2/analytics.js"></script><title>Configuring Build Steps - Help | TeamCity</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v2/app.css"></head><body data-id="Configuring Build Steps" data-breadcrumbs="teamcity-documentation.md|TeamCity Documentation/administrator-s-guide.md|Administrator's Guide/managing-projects-and-build-configurations.md|Managing Projects and Build Configurations/creating-and-editing-build-configurations.md|Creating and Editing Build Configurations/configuring-build-steps.md|Configuring Build Steps/working-with-meta-runner.md|Working with Meta-Runner/net-process-runner.md|.NET Process Runner/ant.md|Ant/command-line.md|Command Line/duplicates-finder-resharper.md|Duplicates Finder (ReSharper)/duplicates-finder-java.md|Duplicates Finder (Java)/fxcop.md|FxCop/gradle.md|Gradle/inspections.md|Inspections/inspections-resharper.md|Inspections (ReSharper)/intellij-idea-project.md|IntelliJ IDEA Project/ipr-deprecated.md|Ipr (deprecated)/maven.md|Maven/msbuild.md|MSBuild/mspec.md|MSpec/nant.md|NAnt/nuget-pack.md|NuGet Pack/nuget-publish.md|NuGet Publish/nuget-installer.md|NuGet Installer/nunit.md|NUnit/powershell.md|PowerShell/rake.md|Rake/simple-build-tool-scala.md|Simple Build Tool (Scala)/visual-studio-2003.md|Visual Studio 2003/visual-studio-sln.md|Visual Studio (sln)/visual-studio-tests.md|Visual Studio Tests/xcode-project.md|Xcode Project/deployers.md|Deployers/smb-upload.md|SMB Upload/ftp-upload.md|FTP Upload/ssh-upload.md|SSH Upload/container-deployer.md|Container Deployer/ssh-exec.md|SSH Exec/docker.md|Docker/docker-compose.md|Docker Compose/net-cli-dotnet.md|.NET CLI (dotnet)" data-main-title="Configuring Build Steps" data-edit-url="https://github.com/JetBrains/teamcity-documentation/edit/2019.1/topics/configuring-build-steps.md"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search TeamCity Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>TeamCity 2019.1 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Configuring Build Steps" id="configuring-build-steps.md">Configuring Build Steps</h1><p id="43b61778">When creating a build configuration, it is important to configure the sequence of build steps to be executed.</p><p id="aaacb195">Build steps are configured on the <b id="a6954c48">Build Steps</b> section of the <a href="creating-and-editing-build-configurations.html">Build Configuration Settings</a> page: the steps can be auto-detected by TeamCity or added manually.</p><p id="76dc864a">Each build step is represented by a <a href="build-runner.html">build runner</a> and provides integration with a specific build or test tool. You can add as many build steps to your build configuration as needed. For example, call a NAnt script before compiling VS solutions.</p><p id="856f227b">Build steps are invoked sequentially.</p><p id="fae4997a">The decision whether to run the next build step may depend on the exit status of the previous build steps and the current build status.</p><p id="b66930fc">The build step status is considered <i id="692f9289">failed</i> if the build process returned a non-zero exit code and the <b id="9690563e">Fail build if build process exit code is not zero</b> build failure condition is enabled (see <a href="build-failure-conditions.html">Build Failure Conditions</a>); otherwise build step is <i id="703a8c79">successful</i>.</p><p id="e28dffec">Note that the status of the build step and the build can be different. A build step can be successful, but the build can be failed because of another build failure condition, not based on the exit code (like failing a test or something else). On the other hand, if a build step has failed, the build will be failed too.</p><a name="Executionpolicy"></a><a name="Execution-policy"></a><h3 id="ConfiguringBuildSteps-Executionpolicy">Execution policy</h3><p id="066575ca">You can specify the step execution policy via the <b id="286a2b60">Execute step</b> option:</p><ul class="list _ul"><li class="list__item" id="2421dc50"><p><b id="36695cb5">Only if build status is successful</b>: before starting the step, the build agent requests the build status from the server, and skips the step if the status is failed. This considers the failure conditions processed by the server, like failure on test failures or on metric change. Note that this still can be not exact as some failure conditions are processed on the server asynchronously (<a href="https://youtrack.jetbrains.com/issue/TW-17015" data-external="true" target="_blank" rel="noopener noreferrer">TW-17015</a>)</p></li><li class="list__item" id="cab05f20"><p><b id="5993731a">If all previous steps finished successfully</b>: the build analyzes only the build step status on the build agent, and doesn't send a request to the server to check the build status and considers only important step failures.</p></li><li class="list__item" id="bcf633bb"><p><b id="e4542b90">Even if some of the previous steps failed</b>: select to make TeamCity execute this step regardless of the status of previous steps and status of the build.</p></li><li class="list__item" id="a063ec5b"><p><b id="304d2e29">Always, even if build stop command was issued</b>: select to ensure this step is always executed, even if the build was canceled by a user. For example, if you have two steps with this option configured, stopping the build during the first step execution will interrupt this step, while the second step will still run. Issuing the stop command for the second time will result in ignoring the execution policy: the build will be terminated.</p></li></ul><aside class="tip sideblock" data-title="" rel="e22dcd43" id="ee6936b0"><ul class="list _ul"><li class="list__item" id="d7f8a31d"><p>You can copy a build step from one build configuration to another from the original build configuration settings page.</p></li><li class="list__item" id="a33dff3f"><p>You can reorder build steps as needed. Note, that if you have a build configuration inherited from a template, you cannot reorder inherited build steps. However, you can insert custom build steps (not inherited) at any place and in any order, even before or between inherited build steps. Inherited build steps can be reordered in the original template only.</p></li><li class="list__item" id="462bfccc"><p>You can disable a build step temporarily or permanently, even if it is inherited from a build configuration template using the corresponding option in the last column of the Build Steps list.</p></li></ul></aside><a name="Bundledrunners"></a><a name="Bundled-runners"></a><h3 id="ConfiguringBuildSteps-Bundledrunners">Bundled runners</h3><p id="44ffa36f">For the details on configuring individual build steps, refer to:</p><ul class="list _links" data-skip-index="skip"><li class="list__item"><a href="working-with-meta-runner.html">Working with Meta-Runner</a></li><li class="list__item"><a href="net-process-runner.html">.NET Process Runner</a></li><li class="list__item"><a href="ant.html">Ant</a></li><li class="list__item"><a href="command-line.html">Command Line</a></li><li class="list__item"><a href="duplicates-finder-resharper.html">Duplicates Finder (ReSharper)</a></li><li class="list__item"><a href="duplicates-finder-java.html">Duplicates Finder (Java)</a></li><li class="list__item"><a href="fxcop.html">FxCop</a></li><li class="list__item"><a href="gradle.html">Gradle</a></li><li class="list__item"><a href="inspections.html">Inspections</a></li><li class="list__item"><a href="inspections-resharper.html">Inspections (ReSharper)</a></li><li class="list__item"><a href="intellij-idea-project.html">IntelliJ IDEA Project</a></li><li class="list__item"><a href="ipr-deprecated.html">Ipr (deprecated)</a></li><li class="list__item"><a href="maven.html">Maven</a></li><li class="list__item"><a href="msbuild.html">MSBuild</a></li><li class="list__item"><a href="mspec.html">MSpec</a></li><li class="list__item"><a href="nant.html">NAnt</a></li><li class="list__item"><a href="nuget-pack.html">NuGet Pack</a></li><li class="list__item"><a href="nuget-publish.html">NuGet Publish</a></li><li class="list__item"><a href="nuget-installer.html">NuGet Installer</a></li><li class="list__item"><a href="nunit.html">NUnit</a></li><li class="list__item"><a href="powershell.html">PowerShell</a></li><li class="list__item"><a href="rake.html">Rake</a></li><li class="list__item"><a href="simple-build-tool-scala.html">Simple Build Tool (Scala)</a></li><li class="list__item"><a href="visual-studio-2003.html">Visual Studio 2003</a></li><li class="list__item"><a href="visual-studio-sln.html">Visual Studio (sln)</a></li><li class="list__item"><a href="visual-studio-tests.html">Visual Studio Tests</a></li><li class="list__item"><a href="xcode-project.html">Xcode Project</a></li><li class="list__item"><a href="deployers.html">Deployers</a><ul class="list _links"><li class="list__item"><a href="smb-upload.html">SMB Upload</a></li><li class="list__item"><a href="ftp-upload.html">FTP Upload</a></li><li class="list__item"><a href="ssh-upload.html">SSH Upload</a></li><li class="list__item"><a href="container-deployer.html">Container Deployer</a></li><li class="list__item"><a href="ssh-exec.html">SSH Exec</a></li></ul></li><li class="list__item"><a href="docker.html">Docker</a></li><li class="list__item"><a href="docker-compose.html">Docker Compose</a></li><li class="list__item"><a href="net-cli-dotnet.html">.NET CLI (dotnet)</a></li></ul><hr id="96d41b3c"><p id="cead6d13"><b id="8e48e761">See also:</b></p><p id="1adc285c"><b id="40134529">Concepts</b>: <a href="build-runner.html">Build Runner</a></p><hr id="a0ee7701"></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v2/app.js"></script></body></html>