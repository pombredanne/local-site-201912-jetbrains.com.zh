<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v2/analytics.js"></script><title>Typed Parameters - Help | TeamCity</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v2/app.css"></head><body data-id="Typed Parameters" data-breadcrumbs="teamcity-documentation.md|TeamCity Documentation/administrator-s-guide.md|Administrator's Guide/managing-projects-and-build-configurations.md|Managing Projects and Build Configurations/creating-and-editing-build-configurations.md|Creating and Editing Build Configurations/configuring-build-parameters.md|Configuring Build Parameters/typed-parameters.md|Typed Parameters" data-main-title="Typed Parameters" data-edit-url="https://github.com/JetBrains/teamcity-documentation/edit/2019.1/topics/typed-parameters.md"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search TeamCity Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>TeamCity 2019.1 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Typed Parameters" id="typed-parameters.md">Typed Parameters</h1><p id="f18f333a">When adding a <a href="configuring-build-parameters.html">build parameter</a> (system property, environment variable or configuration parameter), you can extend its definition with a specification that will regulate parameter's control presentation and validation. This specification is the parameter's "meta" information that is used to display the parameter in the <a href="triggering-a-custom-build.html">Triggering a Custom Build</a> dialog. It allows making a custom build run more user-friendly and usable by non-developers. Consider a simple example. You have a build configuration in which you have a monstrous-looking build parameter that regulates if a build has to include a license or not; can be either true or false; and by default is false. It may be clear for a build engineer, which build parameter regulates license generation and which value it is to have, but it may not be obvious to a regular user.</p><p id="0ea93224">Using the build parameter's specification you can make your parameters more readable in the <b id="1efaa859">Run Custom Build</b> dialog.</p><p id="c46414e5">On this page:</p><p id="db6c46fc"><ul class="list" data-skip-index="skip"><li class="list__item"><a href="#TypedParameters-AddingParameterSpecification">Adding Parameter Specification</a></li><li class="list__item"><a href="#TypedParameters-ManuallyConfiguringParameterSpecification">Manually Configuring Parameter Specification</a></li><li class="list__item"><a href="#TypedParameters-CopyingParameterSpecification">Copying Parameter Specification</a></li><li class="list__item"><a href="#TypedParameters-ModifyingParameterSpecificationviaRESTAPI">Modifying Parameter Specification via REST API</a></li></ul></p><a name="AddingParameterSpecification"></a><a name="Adding-Parameter-Specification"></a><div class="chapter"><h2 id="TypedParameters-AddingParameterSpecification">Adding Parameter Specification</h2><p id="cf29936e">To add specification to a build parameter, click the <b id="dab387a8">Edit</b> button in the <b id="b825d858">Spec</b> area when editing/adding a build parameter.</p><p id="98711260">All parameters specifications support a number of common properties, such as:</p><ul class="list _ul"><li class="list__item" id="3092d9c0"><p><b id="1befb58c">Label</b>: some text that is shown near the control in the Run Custom Build dialog.</p></li><li class="list__item" id="63e898bb"><p><b id="b612e4a4">Description</b>: some text that is shown below the control containing an explanatory note of the control use.</p></li><li class="list__item" id="5aca4208"><p><b id="01fd93d2">Display</b>: If <i id="e2a97986">hidden</i> is specified, the parameter will not be shown in the <b id="ed58a079">Run Custom Build</b> dialog, but will be sent to a build; if <i id="f7ece94d">prompt</i> is specified, TeamCity will always require a review of the parameter value when clicking the <b id="df0c305c">Run</b> button (won't require the parameter if build is triggered automatically); if <i id="f05b855b">normal</i> is selected, the parameter will be shown as usual.</p></li><li class="list__item" id="9b2a71a6"><p><b id="48da808c">Read-only</b>: if the box if checked, it will be impossible to override the parameter with a different value</p></li><li class="list__item" id="83118340"><b id="968e36b5">Type</b>: Currently you can present parameters in following forms:<ul class="list _ul"><li class="list__item" id="5aef9c2e"><p>a simple text field with the ability to validate its value using regular expression;</p></li><li class="list__item" id="50332261"><p>a checkbox;</p></li><li class="list__item" id="b09a9fc0"><p>a select control;</p></li><li class="list__item" id="b2d362ae"><p>a password field.</p></li></ul></li></ul><p id="b2386076">The table below provides more details on each control type.</p><div class="table-wrapper"><table width="100%" id="3d853cac"><thead><tr id="499994be" class="ijRowHead"><th width="150" id="de5f46d0"><p id="249523ca">Type</p></th><th id="7cb8aedb"><p id="1db00043">Description</p></th></tr></thead><tbody><tr id="9fab678a" class="ijRowOdd"><td id="ff59d85d"><p id="1e4d0ac2">Text</p></td><td id="09ba4a65"><p id="3cc27ac3">The default. Represents a usual text string without any extra handling</p></td></tr><tr id="818c2a85" class="ijRowEven"><td id="84bdb84d"><p id="5c76d43b">Checkbox</p></td><td id="f7484cea"><p id="b981c334">True/false option represented by a checkbox</p></td></tr><tr id="2a7e2fa8" class="ijRowOdd"><td id="5c62c805"><p id="eee34aba">Select</p></td><td id="c8b42bb1"><p id="b6914eda">"Select one" or "select many" control to set the value to one of predefined settings</p></td></tr><tr id="58bcdbab" class="ijRowEven"><td id="7eac9be7"><p id="c5d38a9b">Password</p></td><td id="27869545"><p id="cf911447">This is designed to store passwords or other secure data in TeamCity settings. TeamCity makes the value of the password parameter never appear in the TeamCity web UI: it affects the settings screens and the <b id="453bcedd">Run Custom Build</b> dialog where password fields appear. Also, the value is replaced in the build's <b id="cfe12956">Parameters</b> tab and build log. The value is stored scrambled in the configuration files under TeamCity Data Directory. Please note that build log value hiding is implemented with simple search-and-replace, so if you have a trivial password of "123", all occurrences of "123" will be replaced, potentially exposing the password. Setting the parameter to type password does not guarantee that the raw value cannot be retrieved. Any project administrator can retrieve it and also any developer who can change the build script can in theory write malicious code to get the password.</p></td></tr></tbody></table></div><p id="48fa00ff">Depending on the specification's type, there are additional settings.</p><div class="table-wrapper"><table width="100%" id="51060686"><thead><tr id="a4d3e0ad" class="ijRowHead"><th width="150" id="c2aad497"></th><th id="c47aba5c"></th></tr></thead><tbody><tr id="1696343a" class="ijRowOdd"><td id="fd0de049"><p id="1d89b951">Text</p></td><td id="8a663f5e"><p id="c86a529c"><b id="035e6376">Allowed value</b> - choose the allowed value. For the <b id="0eb498e5">Regex</b> option, specify <b id="3270fd6f">Pattern</b>, a Java-style regular expression to validate the field value, as well as a <b id="a6993227">validation message</b>.</p></td></tr><tr id="b3110afd" class="ijRowEven"><td id="733582bf"><p id="f65b7dae">Checkbox</p></td><td id="f028bc5b"><p id="f2b19fbb"><b id="2ba7ed58">Checked value</b>/<b id="457ef55f">Unchecked value</b>: Specify values for the parameter to have depending on the checkbox's state.</p><p id="acaf36fa">It is recommended to <b id="38d6cbe7">specify the checked value</b> and keep the default value and the unchecked value of the parameter <b id="ba0f8222">the same</b>.</p><p id="db1a46c7">Depending on the way the build is triggered, the checkbox behavior will be as follows:</p><ul class="list _ul"><li class="list__item" id="61afd404"><p>if the build is triggered by an automatic trigger or by clicking the <b id="cb0899e9">Run</b> button (without the <a href="triggering-a-custom-build.html">run custom build</a> dialog), the default value is used</p></li><li class="list__item" id="e2a3ecc4"><p>if the build is triggered via the <a href="triggering-a-custom-build.html">run custom build</a> dialog without changing anything, the 'unchecked value' is used (if not empty); and if it is empty, the default value is used</p></li><li class="list__item" id="270e7e12"><p>if the build is triggered via the <a href="triggering-a-custom-build.html">run custom build</a> dialog with the box checked, the 'checked value' is used (if not empty); and if it is empty, the 'true' value is used</p></li></ul></td></tr><tr id="be5b6570" class="ijRowOdd"><td id="6c8e4507"><p id="287c3dbb">Select</p></td><td id="fe8959b5"><p id="4c75e87a">Check the <b id="632cf8e8">Allow multiple</b> box to enable multiple selection. In the <b id="0501aafa">Items</b> field specify a newline-separated list of items. Use the following syntax <code class="code">label =&gt; value</code> or <code class="code">value</code>.</p></td></tr></tbody></table></div></div><a name="ManuallyConfiguringParameterSpecification"></a><a name="Manually-Configuring-Parameter-Specification"></a><div class="chapter"><h2 id="TypedParameters-ManuallyConfiguringParameterSpecification">Manually Configuring Parameter Specification</h2><p id="c812568d">Alternatively, you can manually configure a specification using a specially formatted string with the syntax similar to the one used in service messages (<code class="code">typeName key='value'</code>).<br>For example, for text: <code class="code">text label='some label' regex='some pattern'</code>.</p></div><a name="CopyingParameterSpecification"></a><a name="Copying-Parameter-Specification"></a><div class="chapter"><h2 id="TypedParameters-CopyingParameterSpecification">Copying Parameter Specification</h2><p id="d572826d">If you start editing a parameter that has a specification, you can see a link to its raw value in the "Edit parameter" dialog. Click it to view the specification in its raw form (in the service message format). To use this specification in another build configuration, just copy it from here, and paste in another configuration.</p></div><a name="ModifyingParameterSpecificationviaRESTAPI"></a><a name="Modifying-Parameter-Specification-via-REST-API"></a><div class="chapter"><h2 id="TypedParameters-ModifyingParameterSpecificationviaRESTAPI">Modifying Parameter Specification via REST API</h2><p id="e58920c7">You can also view/edit typed parameters specification via <a href="rest-api.html#Typed-Parameters-Specification">REST API</a>.</p><hr id="8c1468a9"><p id="fa492805"><b id="c67c8837">See also:</b></p><p id="fcdc9bed"><b id="acb86c3b">Administrator's Guide</b>: <a href="configuring-build-parameters.html">Configuring Build Parameters</a> | <a href="configuring-build-parameters.html">Defining and Using Build Parameters in Build Configuration</a> | <a href="predefined-build-parameters.html">Predefined Build Parameters</a></p><hr id="4de306e8"></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v2/app.js"></script></body></html>