<html lang="en-US" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><meta charset="UTF-8"><title>按解决方案过滤服务器更改-帮助|帮助TeamCity加载项</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body  data-id="Filtering_by_Solution" data-disqus-id="Filtering_by_Solution_tca"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索TeamCity加载项帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>TeamCity加载项2019.2帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option value="rs" data-group="secondary">ReSharper 2.x / IntelliJ IDEA</option><option value="vs" data-group="primary" selected>视觉工作室</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 id="Filtering_by_Solution.xml" data-toc="Filtering_by_Solution">按解决方案过滤服务器更改</h1>        <p id="f55d44cf">      <span class="menupath" data-skip-index="skip">ReSharper | TeamCity |切换解决方案</span>      <br>      <kbd data-rs="Ctrl+Shift+Alt+T T" data-vs="Ctrl+Shift+Alt+T T">Ctrl+Shift+Alt+T T</kbd>      <br>          </p>      <p id="ba1d500e">TeamCity加载项允许过滤TeamCity服务器更改（您在TeamCity加载项选项中启用的对源代码管理系统所做的任何更改以及您的<a href="Personal_Build.html">个人构建</a> ），可以在“ <a href="Reference_TeamCity_My_Changes.html">我的更改”窗口</a>以及在TeamCity服务器上创建的dotCover快照：当前打开的解决方案都可以过滤这两个快照。</p>            <aside class="note " rel="Filtering_by_Solution.xml" id="336ca2e5" data-title="">            <p id="04a7e7a2">如果您的VCS用户名与TeamCity用户名不同，请确保在TeamCity用户帐户中<a href="https://confluence.jetbrains.com/display/TCDL/Managing+your+User+Account" rel="noopener noreferrer" data-external="true" target="_blank">配置</a>了您的VCS用户名。您还可以将鼠标悬停在TeamCity Web界面中的VCS用户名上，然后在弹出窗口中单击“ <span class="control">是我</span> ”。</p>        </aside>        <p id="f392e658">当您同时处理多个解决方案时，按解决方案过滤更改可以更轻松地查看更改。默认情况下，过滤服务器更改为关闭状态。要启用它，请按<kbd data-rs="Ctrl+Shift+Alt+T T" data-vs="Ctrl+Shift+Alt+T T">Ctrl+Shift+Alt+T T</kbd>或选择<span class="menupath" data-skip-index="skip">ReSharper | TeamCity |</span>在主菜单中<span class="menupath" data-skip-index="skip">切换按解决方案过滤</span> 。</p>    <p id="4e99ccd7">为了使TeamCity外接程序找到合适的配置来过滤您的更改或代码覆盖率数据，必须满足以下要求。</p>    <ul data-skip-index="skip"><li class="list__item"><a href="#ae2147ad">版本控制设置的要求</a></li><li class="list__item"><a href="#da3815c8">对TeamCity用户权限和设置的要求</a></li></ul>    <div class="chapter"><h2 id="ae2147ad" data-toc="Filtering_by_Solution#ae2147ad">版本控制设置的要求</h2>        <div class="chapter"><h3 id="75762922">区分大小写</h3>            <p id="6a7ee28e">版本控制设置区分大小写。确保以相同的方式配置本地版本控制设置和在TeamCity服务器上指定的设置。</p>        </div>        <div class="chapter"><h3 id="1bf6346b">结帐路径</h3>            <p id="4bce1552">如果TeamCity加载项找到适合个人构建的配置，但找不到解决方案来过滤您的更改的配置，则可能意味着TeamCity服务器上的签出路径指向的目录比本地设置所监视的目录更深。 。</p>            <p id="e8dd1ca2">例如，在本地将源根目录配置为<code class="code">A/B/C/**</code> ，而在TeamCity服务器上的构建配置中，您已将VCS根目录指定为<code class="code">A/B/C</code>并添加了诸如<code class="code">+:D=>..</code> 。这意味着TeamCity实际上监视路径<code class="code">A/B/C/D</code> 。</p>        </div>        <div class="chapter"><h3 id="081de9a4">例</h3>            <p id="e677399f">让我们考虑一个TeamCity加载项找不到合适的配置的典型情况及其解决方法。</p>            <div class="chapter"><h4 id="969a6216">无效的设置</h4>                <ul class="list _ul"><li class="list__item" id="63e0f8fb"><p>                        <b id="e0551460">版本控制</b> -在版本控制系统中，您具有以下目录： <code class="code">root/src with</code>来源和<code class="code">root/testsrc</code>与测试。</p></li><li class="list__item" id="334dbd82"><p>                        <b id="8b20debb">TeamCity服务器</b> -在TeamCity服务器上，您具有2个使用相同版本控制根的构建配置。配置的VCS根目录为<code class="code">root</code> 。<br>第一个构建配置会编译源代码，因此它有一个指定的签出规则指向<code class="code">root/src</code> 。<br>第二个构建配置运行测试，并指定了一个指向以下内容的签出规则： <code class="code">root/testsrc</code> 。</p></li><li class="list__item" id="aa24ba6a"><p>                        <b id="3f5b1473">开发人员的机器</b> -在您的机器上，您的结帐内容包括<code class="code">root</code> 。</p></li></ul>                <p id="127c0bf5">在这种情况下，TeamCity加载项将无法找到合适的配置，因为TeamCity监视目录中的配置位于结构的更深处。</p>            </div>            <div class="chapter"><h4 id="2241e78d">解决方法</h4>                <ul class="list _ul"><li class="list__item" id="39653056">                        <b id="8016950a">Perforce-</b>如果根目录是<code class="code">root</code> ，您应该添加2个视图：<ul class="list _ul"><li class="list__item" id="0422202d"><p>                                <code class="code">root/src</code> （包括）</p></li><li class="list__item" id="7e7251d2"><p>                                <code class="code">root/testsrc</code> （包括）</p></li></ul>                    </li><li class="list__item" id="1f28c726"><p>                        <b id="ce9b571d">Subversion-</b>在选项（ <span class="menupath" data-skip-index="skip">ReSharper | Options | TeamCity | Subversion</span> ）中打开Subversion设置，在“ <span class="control">搜索更改”</span>区域中，选择“ <span class="control">手动指定目录”</span> ，然后单击“ <span class="control">自动检测”</span> 。这将添加根目录。<br>单击<span class="control">添加</span>并指定<code class="code">root/src</code> 。<br>单击<span class="control">添加</span>并指定<code class="code">root/testsrc</code> 。</p></li><li class="list__item" id="2750ea57">                        <b id="a7e1a9a9">Team Foundation</b> Server-指定以下TFS映射：<ul class="list _ul"><li class="list__item" id="c1b5424c"><p>                                <code class="code">root/src</code> （活性）</p></li><li class="list__item" id="06ef7f12"><p>                                <code class="code">root/testsrc</code> （活性）</p></li></ul>                    </li></ul>            </div>        </div>    </div>    <div class="chapter"><h2 id="da3815c8" data-toc="Filtering_by_Solution#da3815c8">对TeamCity用户权限和设置的要求</h2>        <p id="d40563fd">如果您的版本控制设置配置正确，而TeamCity加载项仍然找不到合适的配置，则问题可能出在您对TeamCity服务器的用户权限上。您应该有权在TeamCity服务器上查看和运行相应构建配置的构建，以便能够从TeamCity加载项执行个人构建。</p>        <p id="2a60f58b">您可以在TeamCity Web UI的“ <span class="control">我的设置和工具”</span>页面上的不同TeamCity项目中查看您的角色和权限。如果您没有足够的权限来运行所需配置的构建，请与TeamCity管理员联系。</p>        <p id="985648a7">默认情况下，在TeamCity服务器上启用个人构建。但是，有一个<a href="https://confluence.jetbrains.com/display/TCDL/Configuring+General+Settings#ConfiguringGeneralSettings-AllowTriggeringPersonalBuilds" rel="noopener noreferrer" data-external="true" target="_blank">选项可以禁用个人构建</a> 。请确保在TeamCity服务器上启用了个人构建以进行所需的配置。</p>    </div><div class="last-modified" data-skip-index="skip">上次修改时间：2019年8月8日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="Analyzing_Changesets_Builds_Tests.html">分析服务器变更集，构建和测试</a> <a class="navigation-links__next" href="Introduction__Troubleshooting.html">故障排除</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>