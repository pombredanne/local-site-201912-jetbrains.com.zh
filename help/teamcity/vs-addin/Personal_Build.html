<html lang="en-US" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><meta charset="UTF-8"><title>个人构建，远程运行，预测试提交-帮助|帮助TeamCity加载项</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body  data-id="Personal_Build" data-disqus-id="Personal_Build_tca"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索TeamCity加载项帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>TeamCity加载项2019.2帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option value="rs" data-group="secondary">ReSharper 2.x / IntelliJ IDEA</option><option value="vs" data-group="primary" selected>视觉工作室</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 id="Personal_Build.xml" data-toc="Personal_Build">个人构建，远程运行，预测试提交</h1>    <p id="51d47dfd">使用集中式版本控制系统（其中功能分支不是工作流的一部分）时，通常有两个选择：</p>    <ul class="list _ul"><li class="list__item" id="57915308"><p>在将更改提交到主分支之前，构建解决方案并在本地运行测试。这样，您可以确保不会给存储库带来任何问题，但是您可能要花费大量时间等待构建和测试结束。</p></li><li class="list__item" id="1641011f"><p>将未经测试的更改提交到存储库的主分支，然后在生成服务器上运行生成和测试。这样，您可以在提交后继续工作，但是有破坏存储库的风险。</p></li></ul>    <p id="be730081">使用TeamCity加载项，您还有第三种选择-您可以快速创建一个<i id="6396fc93">个人构建</i> ，该<i id="6396fc93">构建</i>仅对您可见，并包括您选择的未提交的更改。<br>然后，您可以在TeamCity服务器上启动<i id="2a9c88b9">远程运行</i> -TeamCity加载项将为所选更改拍摄快照，将其发送到TeamCity服务器并开始您的个人构建和测试。请注意，这样做不会对VCS提交任何内容，并且可以在远程构建和测试更改的同时继续工作。<br>仅当您的个人构建成功后，您才能使用<i id="fcbefd95">预先测试的提交</i>选项自动提交更改。</p>    <aside class="note " rel="be730081" id="64024ec8" data-title="">        <p id="756f6a7c">如果项目的VCS是TFS，Perforce或Subversion，则可以运行个人版本。</p>    </aside>    <aside class="note " rel="Personal_Build.xml" id="dd11a078" data-title="">        <p id="3edf51a8">默认情况下，在TeamCity服务器上启用个人构建。但是，有一个<a href="https://confluence.jetbrains.com/display/TCDL/Configuring+General+Settings#ConfiguringGeneralSettings-AllowTriggeringPersonalBuilds" rel="noopener noreferrer" data-external="true" target="_blank">选项可以禁用个人构建</a> 。</p>    </aside>    <section class="procedure-steps"><h3 id="a01d3d33">在TeamCity服务器上运行个人版本</h3><ol class="list _decimal"><li class="list__item" id="12c10fa7"><p>选择<span class="menupath" data-skip-index="skip">ReSharper | TeamCity |</span>主菜单中的“ <span class="menupath" data-skip-index="skip">远程运行（本地更改）</span> ”。</p></li><li class="list__item" id="569a9e04"><p>在“ <a href="Reference_TeamCity_Local_Changes.html">本地更改”窗口中</a> ，选择要包含在远程版本中的更改。如果看不到某些更改，请单击“ <span class="control">重新收集本地更改”</span> <img alt="ThemedIcon刷新屏幕灰色" title="ThemedIcon刷新屏幕灰色" src="/help/img/dotnet/2019.2/ThemedIcon.Refresh.Screen.[Gray].png" id="a01c8864" width="16" height="16" class="inline-icon-16">在工具栏上</p></li><li class="list__item" id="a85fc4f7"><p>单击<span class="control">配置个人构建</span> <img alt="ThemedIcon RemoteRun屏幕呈灰色" title="ThemedIcon RemoteRun屏幕呈灰色" src="/help/img/dotnet/2019.2/ThemedIcon.RemoteRun.Screen.[Gray].png" id="1e0f73da" width="16" height="16" class="inline-icon-16">在工具栏上。这将打开“ <span class="control">个人构建”</span>对话框。</p><figure><img alt="TeamCity加载项：个人构建详细信息" title="TeamCity加载项：个人构建详细信息" src="/help/img/dotnet/2019.2/tca_personal_build.png" id="f98eb06a" width="556" height="353"></figure>        <p></p></li><li class="list__item" id="bd5ac110"><p>该对话框将显示在您的计算机上的Visual Studio中已修改其源代码的构建配置，以及与<a href="https://confluence.jetbrains.com/display/TCDL/Dependent+Build" rel="noopener noreferrer" data-external="true" target="_blank">快照有关的构建配置</a> 。如果TeamCity加载项的VCS设置和TeamCity服务器上的VCS根目录相同，并且<a href="Filtering_by_Solution.html">检出路径已正确配置</a> ，则会列出它们。选择要与更改一起运行的配置。</p></li><li class="list__item" id="a73a4e28"><p>（可选）您可以自定义每个构建配置。为此，右键单击所需的配置，然后选择“ <span class="control">自定义版本”</span>或单击相应的按钮<img alt="ThemedIcon CustomizeBuildSet屏幕灰色" title="ThemedIcon CustomizeBuildSet屏幕灰色" src="/help/img/dotnet/2019.2/ThemedIcon.CustomizeBuildSet.Screen.[Gray].png" id="4572dde2" width="16" height="16" class="inline-icon-16">在工具栏上。</p></li><li class="list__item" id="6ea721cf"><p>如果项目的VCS是TFS或Perforce，则可以在相应的选项卡上配置其他特定于VCS的设置。</p></li><li class="list__item" id="6b6b96c7"><p>输入您所做更改的注释，或从“ <span class="control">最近的注释”</span>下拉列表中选择以前的注释之一。</p></li><li class="list__item" id="adc4ba2b"><p>如果要在成功的构建中自动提交选定的更改，请选择“ <span class="control">预先测试的提交”</span> ，然后在“ <span class="control">提交条件”</span>选择器中选择成功构建的条件。<br>请注意，TeamCity外接程序将在开始个人构建时按原样提交所选更改。因此，您可以继续进行项目，并确保不会提交未经测试的更改。</p></li><li class="list__item" id="f7d65c17"><p>单击<span class="control">“运行”</span>以指定的参数开始您的个人构建。</p></li></ol></section>    <p id="93f07136">您可以通过两种方式监视个人构建的执行情况：</p>            <aside class="note " rel="Personal_Build.xml" id="3c71d634" data-title="">            <p id="d327c30a">如果您的VCS用户名不同于TeamCity用户名，请确保在TeamCity用户帐户中<a href="https://confluence.jetbrains.com/display/TCDL/Managing+your+User+Account" rel="noopener noreferrer" data-external="true" target="_blank">配置</a>了您的VCS用户名。您也可以将鼠标悬停在TeamCity Web界面中的VCS用户名上，然后在弹出窗口中单击“ <span class="control">是我</span> ”。</p>        </aside>        <ul class="list _ul"><li class="list__item" id="8b4a9da0"><p>在TeamCity服务器的Web界面上，使用相应的图标指定您的个人版本。例如，在下图中，失败的构建是个人的。</p><figure><img alt="在TeamCity Web UI中进行个人构建" title="在TeamCity Web UI中进行个人构建" src="/help/img/dotnet/2019.2/tca_personal_build_web.png" id="a80dbbc7" width="267" height="77"></figure>        <p></p></li><li class="list__item" id="43088d17"><p>选择<span class="menupath" data-skip-index="skip">ReSharper | TeamCity |</span>主菜单中的<span class="menupath" data-skip-index="skip">我的更改</span> ，并检查更改状态：</p><figure><img alt="TeamCity加载项：“我的更改”窗口" title="TeamCity加载项：“我的更改”窗口" src="/help/img/dotnet/2019.2/tca_myChanges_window.png" id="37c1ffd3" width="595" height="306"></figure>与TeamCity Web UI相似，对应于个人构建的更改用<a href="Reference_TeamCity_My_Changes.html#status_icons">特殊图标</a>指定。如有必要，您可以单击“ <span class="control">隐藏非个人用户”</span> <img alt="主题图标过滤器显示个人仅屏幕灰色" title="主题图标过滤器显示个人仅屏幕灰色" src="/help/img/dotnet/2019.2/ThemedIcon.FilterShowPersonalOnly.Screen.[Gray].png" id="b7ef671e" width="16" height="16" class="inline-icon-16">在工具栏上，因此列表中仅显示与个人版本相对应的更改。<br>您可以在相应的更改集下看到每个远程运行的简要摘要，然后单击以查看更多详细信息。该视图中的信息由TeamCity服务器提供。<br>如有必要，您可以在TeamCity服务器的Web UI中查看任何变更集或构建详细信息。为此，选择所需的项目，然后单击“ <span class="control">在Web中打开”。</span> <img alt="ThemedIcon OpenInBrowser屏幕呈灰色" title="ThemedIcon OpenInBrowser屏幕呈灰色" src="/help/img/dotnet/2019.2/ThemedIcon.OpenInBrowser.Screen.[Gray].png" id="6c982ae8" width="16" height="16" class="inline-icon-16">在工具栏上。<br>有关更多信息，请参见<a href="Analyzing_Changesets_Builds_Tests.html">分析服务器变更集，内部版本和测试</a> 。<p></p></li></ul><div class="last-modified" data-skip-index="skip">上次修改时间：2019年8月8日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__next" href="Analyzing_Changesets_Builds_Tests.html">分析服务器变更集，构建和测试的</a> <a class="navigation-links__prev" href="TeamCity_Getting_Started.html">入门</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>