<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v2/analytics.js"></script><title>Integrating TeamCity with VCS Hosting Services - Help | TeamCity</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v2/app.css"></head><body data-id="Integrating TeamCity with VCS Hosting Services" data-breadcrumbs="teamcity-documentation.md|TeamCity Documentation/administrator-s-guide.md|Administrator's Guide/integrating-teamcity-with-other-tools.md|Integrating TeamCity with Other Tools/integrating-teamcity-with-vcs-hosting-services.md|Integrating TeamCity with VCS Hosting Services" data-main-title="Integrating TeamCity with VCS Hosting Services" data-edit-url="https://github.com/JetBrains/teamcity-documentation/edit/2019.1/topics/integrating-teamcity-with-vcs-hosting-services.md"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search TeamCity Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>TeamCity 2019.1 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Integrating TeamCity with VCS Hosting Services" id="integrating-teamcity-with-vcs-hosting-services.md">Integrating TeamCity with VCS Hosting Services</h1><p id="2b4304ca">If you have an organization account in <a href="https://github.com/" data-external="true" target="_blank" rel="noopener noreferrer">GitHub</a>, <a href="https://enterprise.github.com/" data-external="true" target="_blank" rel="noopener noreferrer">GitHub Enterprise</a>, <a href="https://bitbucket.org/" data-external="true" target="_blank" rel="noopener noreferrer">Bitbucket Cloud</a>, <a href="https://about.gitlab.com/" data-external="true" target="_blank" rel="noopener noreferrer">GitLab.com</a>, or <a href="https://about.gitlab.com/install/ce-or-ee/" data-external="true" target="_blank" rel="noopener noreferrer">GitLab CE/EE</a>, you can connect TeamCity to these source code hosting services making it easier for the organization users to create new projects, <a href="https://confluence.jetbrains.com/display/TCD10/Git" data-external="true" target="_blank" rel="noopener noreferrer">Git</a> or <a href="https://confluence.jetbrains.com/display/TCD10/Mercurial" data-external="true" target="_blank" rel="noopener noreferrer">Mercurial</a> VCS roots, <a href="https://confluence.jetbrains.com/display/TCD10/GitHub" data-external="true" target="_blank" rel="noopener noreferrer">GitHub</a> or <a href="https://confluence.jetbrains.com/display/TCD10/Bitbucket" data-external="true" target="_blank" rel="noopener noreferrer">Bitbucket</a> issue tracker, which are now now supported out of the box.</p><p id="8beb16a9">It is also possible to connect TeamCity to <a href="https://visualstudio.microsoft.com/team-services/" data-external="true" target="_blank" rel="noopener noreferrer">Azure DevOps Services</a> making it really simple to set up projects which use VSTS repositories or issue tracker.</p><p id="97e8289e">On this page:</p><p id="ae526757"><ul class="list" data-skip-index="skip"><li class="list__item"><a href="#IntegratingTeamCitywithVCSHostingServices-ConfiguringConnections">Configuring Connections</a><ul class="list _bullet"><li class="list__item"><a href="#IntegratingTeamCitywithVCSHostingServices-ConnectingtoGitHub">Connecting to GitHub</a></li><li class="list__item"><a href="#IntegratingTeamCitywithVCSHostingServices-ConnectingtoBitbucket">Connecting to Bitbucket</a></li><li class="list__item"><a href="#IntegratingTeamCitywithVCSHostingServices-ConnectingtoGitLab">Connecting to GitLab</a></li><li class="list__item"><a href="#IntegratingTeamCitywithVCSHostingServices-ConnectingtoAzureDevOpsServices">Connecting to Azure DevOps Services</a></li></ul></li><li class="list__item"><a href="#IntegratingTeamCitywithVCSHostingServices-CreatingEntitiesfromURLinTeamCity">Creating Entities from URL in TeamCity</a></li></ul></p><a name="ConfiguringConnections"></a><a name="Configuring-Connections"></a><div class="chapter"><h2 id="IntegratingTeamCitywithVCSHostingServices-ConfiguringConnections">Configuring Connections</h2><p id="0ac7ccc7">Connections are created on the project level, a configured connection is accessible in the current project and in all of its subprojects. If you use global VCS hosting services like GitHub or Bitbucket Cloud, it makes sense to configure a single connection for the Root project. Or your organization administrator can create a parent project and a configure connection to GitHub there once, and the users will see a list of GitHub repositories URLs in the TeamCity web UI, which will make setting up subprojects a lot simpler for them.</p><p id="f1c7cf04">Connections are configured on the <b id="c7d8b6c4">Project Administration | Connections</b> page.</p><p id="39fd9e94"><figure><img alt="Adding a GitHub connection" title="Adding a GitHub connection" src="/help/img/teamcity/2019.1/projectConnections.png" id="4ed54f93" width="700" height="609"></figure></p><p id="841ffba0">You need to register your TeamCity application in your VCS hosting service using the information provided by TeamCity, enter the access details provided by the service in the TeamCity form, and log in to your VCS hosting service from TeamCity to authorize the TeamCity application in the VCS. See details below.</p><a name="ConnectingtoGitHub"></a><a name="Connecting-to-GitHub"></a><div class="chapter"><h3 id="IntegratingTeamCitywithVCSHostingServices-ConnectingtoGitHub">Connecting to GitHub</h3><p id="5a796fff">You need to configure a connection to your GitHub repository to create a <a href="creating-and-editing-projects.html#Creating-project-pointing-to-repository-URL">project from URL</a>, create a <a href="guess-settings-from-repository-url.html">VCS root from URL</a>, create a <a href="git.html">Git</a> VCS root or create <a href="github.html">GitHub</a> issue tracker.</p><p id="f24f4b66">To configure a GitHub connection:</p><ol class="list _decimal"><li class="list__item" id="60afe17e"><p>In <b id="aa8834be">Project Administration | Connections</b>, click <b id="a198018e">Add Connection</b>.</p></li><li class="list__item" id="36daf7d5"><p>Select <i id="4f202f2d">GitHub</i> as the connection type. The page that opens provides the parameters to be used when registering your TeamCity application in GitHub service.</p></li><li class="list__item" id="fca40a19">Click the <i id="c1f7355c">register application</i> link. The GitHub page opens.<br>You need to register TeamCity as an <a href="https://developer.github.com/v3/oauth/" data-external="true" target="_blank" rel="noopener noreferrer">OAuth application</a> in GitHub.<br>The following steps are performed in your GitHub account:<ul class="list _ul"><li class="list__item" id="df15bee1"><p>Log into your GitHub account. On the Register a new OAuth application page specify the name and an optional description, the homepage URL and the callback URL as provided by TeamCity.</p></li><li class="list__item" id="e6a12a7e"><p>Click <b id="67d6ba4d">Register application</b>.  The page is updated with Client ID and the client secret information for your TeamCity application.</p></li></ul></li><li class="list__item" id="a4f199e1"><p>Continue configuring the connection in TeamCity: on the Add Connection page that is open, specify the Client ID and the client secret.</p></li><li class="list__item" id="24acb384"><p>Save the connection settings.</p></li><li class="list__item" id="3bb5d8c4"><p>The connection is configured, and now a small GitHub icon becomes active in several places where a repository URL can be specified: <a href="creating-and-editing-projects.html#Creating-project-pointing-to-repository-URL">create project from URL</a>, <a href="guess-settings-from-repository-url.html">create VCS root from URL</a>, create <a href="git.html">Git</a> VCS root, create <a href="github.html">GitHub</a> issue tracker. Click the icon, log in to GitHub and authorize TeamCity. The authorized application will be granted full control of private repositories and the <i id="768ea705">Write repository hooks</i> permission.</p></li></ol></div><a name="ConnectingtoBitbucket"></a><a name="Connecting-to-Bitbucket"></a><div class="chapter"><h3 id="IntegratingTeamCitywithVCSHostingServices-ConnectingtoBitbucket">Connecting to Bitbucket</h3><p id="9a48ce20">You need to configure a connection to your public Bitbucket repository to create a <a href="creating-and-editing-projects.html#Creating-project-pointing-to-repository-URL">project from URL</a>, create a <a href="guess-settings-from-repository-url.html">VCS root from URL</a>, create a <a href="mercurial.html">Mercurial</a> VCS root, or create a <a href="bitbucket-cloud.html">Bitbucket</a> issue tracker.</p><p id="3957ead3">To configure a Bitbucket connection:</p><ol class="list _decimal"><li class="list__item" id="e13fbb39"><p>In <b id="9dab3f59">Project Administration | Connections</b>, click <b id="7ce29617">Add Connection</b>.</p></li><li class="list__item" id="96270262">Select <i id="74f5041d">Bitbucket</i> as the connection type.<br>The page that opens provides the parameters to be used when registering an OAuth consumer on Bitbucket Cloud. Click the <i id="183940a7">register application</i> link.<br>You need to create an <a href="https://confluence.atlassian.com/bitbucket/oauth-on-bitbucket-cloud-238027431.html#OAuthonBitbucketCloud-Createaconsumer" data-external="true" target="_blank" rel="noopener noreferrer">OAuth consumer</a> on Bitbucket Cloud. The following steps are performed in your Bitbucket account:<ol class="list _decimal"><li class="list__item" id="793a7ff9"><p>Log into your Bitbucket account, click your avatar and select <b id="378c40b3">Bitbucket settings</b> from the menu. The Account page appears.</p></li><li class="list__item" id="b291a807"><p>Click <b id="ab05f757">OAuth</b> from the menu bar. On the <b id="a4181f0d">Add OAuth consumer</b> page, specify the name and an optional description, the callback URL and the URL as provided by TeamCity.</p></li><li class="list__item" id="a89e429b"><p>Specify the set of permissions: TeamCity requires "<i id="8fb820ac">read</i>" access to your account and your repositories.</p></li><li class="list__item" id="d4f71fff"><p>Save your settings.</p></li><li class="list__item" id="573a018d"><p>On the page that opens, in the <b id="3e6c9395">OAth consumers</b> section, click the name of your TeamCity application to display the key and the secret.</p></li></ol></li><li class="list__item" id="ba716b31"><p>Continue configuring the connection in TeamCity: on the <b id="c990a5b3">Add Connection</b> page that is open, specify the key and secret.</p></li><li class="list__item" id="f3760560"><p>Save the connection settings.</p></li><li class="list__item" id="9d70d99a"><p>The connection is configured, and now a small Bitbucket icon becomes active in several places where a repository URL can be specified: <a href="creating-and-editing-projects.html#Creating-project-pointing-to-repository-URL">create project from URL</a>, <a href="guess-settings-from-repository-url.html">create VCS root from URL</a>, create <a href="mercurial.html">Mercurial</a> VCS root, create <a href="bitbucket-cloud.html">Bitbucket</a> issue tracker. Click the icon, log in to Bitbucket  and authorize TeamCity. TeamCity will be granted access to your public repositories. For <b id="d35310ba">private</b> repositories you'll still have to sign in to Bitbucket as it doesn't provide non-expiring access tokens. See the <a href="https://bitbucket.org/site/master/issues/11774/application-specific-passwords-or-tokens" data-external="true" target="_blank" rel="noopener noreferrer">related discussion</a>.</p></li></ol></div><a name="ConnectingtoGitLab"></a><a name="Connecting-to-GitLab"></a><div class="chapter"><h3 id="IntegratingTeamCitywithVCSHostingServices-ConnectingtoGitLab">Connecting to GitLab</h3><p id="aaabdad3">You need to configure a connection to your public GitLab repository to create a <a href="creating-and-editing-projects.html#Creating-project-pointing-to-repository-URL">project from URL</a> or create a <a href="guess-settings-from-repository-url.html">VCS root from URL</a>.</p><p id="c3f92929">To configure a GitLab connection in TeamCity:</p><ol class="list _decimal"><li class="list__item" id="c0453fe5"><p>In <b id="090528cf">Project Administration | Connections</b>, click <b id="6b92f137">Add Connection</b>.</p></li><li class="list__item" id="e64e20d4"><p>Select <i id="70c64469">GitLab.com</i> or <i id="ccfd9707">GitLab CE/EE</i> as the connection type.</p></li><li class="list__item" id="41863560"><p>TeamCity will display the <i id="26fe19e3">Redirect URL</i> required for registering an OAuth application in GitLab.<br>To register the application, follow <a href="https://docs.gitlab.com/ee/integration/oauth_provider.html" data-external="true" target="_blank" rel="noopener noreferrer">this instruction</a>. Insert the TeamCity <i id="daa773d6">Redirect URL</i> as <i id="b1c81fc0">Redirect URI</i> and select the <code class="code">api</code> <a href="https://docs.gitlab.com/ee/integration/oauth_provider.html#authorized-applications" data-external="true" target="_blank" rel="noopener noreferrer">scope</a>. Save your application, and copy the <b id="5d4e5a69">secret</b> and <b id="1aa569d5">application ID</b> generated by GitLab.</p></li><li class="list__item" id="344f20a4">Once ready, go back to configuring the connection in TeamCity and fill in the following fields:<ul class="list _ul"><li class="list__item" id="03ce6135"><i id="dae41c22">Application ID</i></li><li class="list__item" id="1cb1b149"><i id="b7c4ae35">Secret</i></li><li class="list__item" id="4e6357dc"><p><i id="7e610518">Server URL</i> (only for GitLab CE/EE)</p></li></ul></li><li class="list__item" id="44b69b90"><p>Save the connection settings.</p></li><li class="list__item" id="b62b34db"><p>The connection is configured, and now a small GitLab icon becomes active in several places where a repository URL can be specified: <a href="creating-and-editing-projects.html#Creating-project-pointing-to-repository-URL">create project from URL</a> and <a href="guess-settings-from-repository-url.html">create VCS root from URL</a>. Click the icon, sign in to GitLab, and authorize TeamCity. TeamCity will be granted access to your repositories.</p></li></ol><aside class="note " data-title="" rel="562ee6aa" id="a6cd3854"><p id="52fdead7">When creating a VCS root URL for GitLab, note that TeamCity will not extract credentials from the root URL, so you need to specify a username and password manually.</p></aside></div><a name="ConnectingtoAzureDevOpsServices"></a><a name="Connecting-to-Azure-DevOps-Services"></a><div class="chapter"><h3 id="IntegratingTeamCitywithVCSHostingServices-ConnectingtoAzureDevOpsServices">Connecting to Azure DevOps Services</h3><p id="ca84f092">You can configure a connection to your Azure DevOps Services (or Azure DevOps Server, formerly Team Foundation Server) to create a <a href="creating-and-editing-projects.html#Creating-project-pointing-to-repository-URL">project from URL</a>, create a <a href="guess-settings-from-repository-url.html">VCS root from URL</a>, create <a href="team-foundation-server.html">TFS</a> VCS root, or create <a href="team-foundation-work-items.html">Team Foundation Work Items</a> tracker.</p><p id="31390f83">To configure a connection to Azure DevOps Services, follow these steps:</p><ol class="list _decimal"><li class="list__item" id="47f5ecd4"><p>In <b id="7dbd22c3">Project Administration | Connections</b>, click <b id="a005ee71">Add Connection</b>.</p></li><li class="list__item" id="ec87acc7"><p>Select <i id="28ae96b5">Azure DevOps Services</i> as the connection type.<br>The page that opens provides the parameters to be used when connecting TeamCity to Azure DevOps Services.</p></li><li class="list__item" id="0a73c0e4"><p>Log in to your Azure DevOps Services account to create a personal access token with <i id="9a42f87a">All scopes</i> as described in the <a href="https://www.visualstudio.com/en-us/docs/setup-admin/team-services/use-personal-access-tokens-to-authenticate" data-external="true" target="_blank" rel="noopener noreferrer">Microsoft documentation</a>.</p></li><li class="list__item" id="a7a5684f">Continue configuring the connection in TeamCity: on the <b id="7b9b2c26">Add Connection</b> page that is open, specify<ul class="list _ul"><li class="list__item" id="047351e8"><p>the server URL in the <code class="code">https://{account}.visualstudio.com</code> format or your Team Foundation Server web portal as <code class="code">https://{server}:8080/tfs/</code></p></li><li class="list__item" id="d92a89ff"><p>your personal access token</p></li></ul></li><li class="list__item" id="cfb3f30c"><p>Save the connection settings.</p></li><li class="list__item" id="08ccf628"><p>The connection is configured, and now a small Azure DevOps Services icon becomes active in several places where a repository URL can be specified: <a href="creating-and-editing-projects.html#Creating-project-pointing-to-repository-URL">create project from URL</a>, <a href="guess-settings-from-repository-url.html">create VCS root from URL</a>, create <a href="team-foundation-server.html">TFS</a> VCS root, create <a href="team-foundation-work-items.html">Team Foundation Work Items</a> tracker. Click the icon, log in to Azure DevOps Services and authorize TeamCity. TeamCity will be granted full access to all of the resources that are available to you.<br><b id="f310bb35">Since TeamCity 2017.2 EAP1</b>, when configuring Commit Status Publisher for Git repositories hosted in TFS/VSTS, the personal access token can be filled out automatically if a VSTS project connection is configured.</p></li></ol><aside class="tip sideblock" data-title="" rel="a71e5374" id="2ef83f30"><p id="171d54b6">It is possible to configure several VSTS connections. In this case the server URL will be displayed next to the VSTS icon to distinguish the server in use.</p></aside></div></div><a name="CreatingEntitiesfromURLinTeamCity"></a><a name="Creating-Entities-from-URL-in-TeamCity"></a><div class="chapter"><h2 id="IntegratingTeamCitywithVCSHostingServices-CreatingEntitiesfromURLinTeamCity">Creating Entities from URL in TeamCity</h2><p id="9a5cbd48">Now creating entities from a URL in TeamCity is extremely easy: on clicking the GitHub, Bitbucket, GitLab, or VSTS icon, the list of repositories available to the current user is displayed (note that only public Bitbucket repositories will be available via the configured connection):</p><p id="5894a485"><figure><img alt="Available Bitbucket repositories" title="Available Bitbucket repositories" src="/help/img/teamcity/2019.1/ProjectConnectionBitbucket.png" id="c9151a6c" width="587" height="351"></figure></p><p id="706b88e4">You can select the URL and proceed with the configuration.</p><hr id="753834f7"></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v2/app.js"></script></body></html>