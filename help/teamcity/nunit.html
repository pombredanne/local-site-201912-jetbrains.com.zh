<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v2/analytics.js"></script><title>NUnit - Help | TeamCity</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v2/app.css"></head><body data-id="NUnit" data-breadcrumbs="teamcity-documentation.md|TeamCity Documentation/administrator-s-guide.md|Administrator's Guide/managing-projects-and-build-configurations.md|Managing Projects and Build Configurations/creating-and-editing-build-configurations.md|Creating and Editing Build Configurations/configuring-build-steps.md|Configuring Build Steps/nunit.md|NUnit" data-main-title="NUnit" data-edit-url="https://github.com/JetBrains/teamcity-documentation/edit/2019.1/topics/nunit.md"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search TeamCity Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>TeamCity 2019.1 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="NUnit" id="nunit.md">NUnit</h1><p id="28cff12e">The <i id="44783ff4">NUnit</i> build runner is intended to run NUnit tests right on the TeamCity server. However, there are other ways to report NUnit tests results to TeamCity, refer to the <a href="nunit-support.html">NUnit Support</a> page for the details.</p><aside class="tip sideblock" data-title="" rel="28cff12e" id="594bd387"><p id="b4d7e81f">Supported NUnit versions: <b id="1aad1978">2.2.10</b>, <b id="27efd1db">2.4.1</b>, <b id="f1c15582">2.4.6</b>, <b id="79ee4386">2.4.7</b>, <b id="3df8b33d">2.4.8</b>, <b id="385ce0f7">2.5.0</b>, <b id="c77c10fa">2.5.2</b>, <b id="c2cd291a">2.5.3</b>, <b id="a8e9d240">2.5.4</b>, <b id="e082f2e2">2.5.5</b>, <b id="02039dc6">2.5.6</b>, <b id="a4a057ed">2.5.7</b>, <b id="e9c14e35">2.5.8</b>, <b id="06618293">2.5.9</b>, <b id="830ef15d">2.5.10</b>, <b id="4df62442">2.6.0</b>, <b id="668b1108">2.6.1</b>, <b id="c646f30c">2.6.2</b>, <b id="f0884c26">2.6.3</b>.</p><p id="af3c495e"><b id="148a0305">Since TeamCity 9.1</b>, NUnit <b id="a6cdecb9">3.0 and above</b> is also supported.</p><p id="f6a97710">It is possible to have several versions of NUnit installed on an agent machine and use any of them in a build.</p></aside><aside class="warning " data-title="" rel="nunit.md" id="cd9825f5"><p id="ce6b1851">NUnit version <b id="1f2094b1">3.4.0</b> is <b id="d21b8b1b">not</b> supported by the NUnit build runner due to a problem in <a href="https://github.com/nunit/docs/wiki/Release-Notes#issues-resolved-1" data-external="true" target="_blank" rel="noopener noreferrer">NUnit</a>. Only version 3.4.0 was affected, other NUnit 3.x versions work fine with TeamCity.</p></aside><p id="57782249">Note that the NUnit runner supports only <a href="https://docs.microsoft.com/en-us/dotnet/framework/get-started/overview" data-external="true" target="_blank" rel="noopener noreferrer">.NET Framework</a>. To run tests for <a href="https://docs.microsoft.com/en-us/dotnet/framework/get-started/net-core-and-open-source" data-external="true" target="_blank" rel="noopener noreferrer">.NET Core</a> projects (and .NET Framework projects version 4.0 or later), use the .NET CLI (dotnet) build runner with the <a href="https://docs.microsoft.com/en-us/dotnet/core/tools/dotnet-test" data-external="true" target="_blank" rel="noopener noreferrer">test</a> command instead. Refer to the <a href="nunit-support.html#Framework-Compatibility">NUnit Support</a> page for details.</p><p id="9328b676">On this page:</p><p id="8c9eea4b"><ul class="list" data-skip-index="skip"><li class="list__item"><a href="#NUnit-NUnit3Requirements">NUnit 3 Requirements</a><ul class="list _bullet"><li class="list__item"><a href="#NUnit-InstallingNUnit">Installing NUnit</a></li><li class="list__item"><a href="#NUnit-InstallingExtensions">Installing Extensions</a></li></ul></li><li class="list__item"><a href="#NUnit-NUnitTestSettings">NUnit Test Settings</a></li><li class="list__item"><a href="#NUnit-CodeCoverage">Code Coverage</a></li></ul></p><p id="4c8735ce"><a name="NUnit3Extensions"></a><a name="NUnit-NUnit3Extensions"></a></p><a name="NUnit3Requirements"></a><a name="NUnit-3-Requirements"></a><div class="chapter"><h2 id="NUnit-NUnit3Requirements">NUnit 3 Requirements</h2><a name="InstallingNUnit"></a><a name="Installing-NUnit"></a><div class="chapter"><h3 id="NUnit-InstallingNUnit">Installing NUnit</h3><a name="installing-nunit"></a><p id="e0268011">To use the TeamCity NUnit build runner, install the <a href="https://www.nuget.org/packages/NUnit/" data-external="true" target="_blank" rel="noopener noreferrer">NUnit NuGet package</a> on TeamCity agents first <b id="89dcebb9">using one of the following options</b>:</p><ul class="list _ul"><li class="list__item" id="e83ef8ed"><p id="06b2d258">Add the NuGet Install build step as the first step of your build configuration.<br>For example, you can add a <a href="command-line.html">Command Line</a> build step before the NUnit build step which will install the <code class="code">NUnit.Console</code> NuGet package as follows:</p><div class="code-block" data-lang="bash">%teamcity.tool.NuGet.CommandLine.DEFAULT%tools\nuget.exe install NUnit.Console -version 3.6.0 -o packages

</div><p id="73bcebc0">Note that <code class="code">%teamcity.tool.NuGet.CommandLine.DEFAULT%</code> is a reference to the NuGet installed under the TeamCity agent.<br>You can install NuGet on agents from the <b id="0a48ff71">Administration | Tools</b> page, where you can also mark one of the installed NuGet versions as default.</p><p id="b71944a3">After that, the <code class="code">%teamcity.tool.NuGet.CommandLine.DEFAULT%</code> parameter reference should properly resolve to the NuGet installation path on the agent.<br>Then nunit3-console should appear under the packages directory.</p><p id="d7d6d14e">To run tests, in the next NUnit build step specify the NUnit path in the NUnit settings as <code class="code">packages\NUnit.ConsoleRunner.3.6.0\tools\nunit3-console.exe</code>.</p><p id="fa40e652"><i id="17f06c9c">or</i></p></li><li class="list__item" id="21f54222"><p id="f8480643">Install NUnit manually on all of the agents in some standard location and configure the path to <code class="code">nunit-console.exe</code> in your NUnit build step.</p></li></ul></div><a name="InstallingExtensions"></a><a name="Installing-Extensions"></a><div class="chapter"><h3 id="NUnit-InstallingExtensions">Installing Extensions</h3><p id="54dcfb2e">Starting from version 3.2.0, NUnit requires the <code class="code">NUnit.Extension.NUnitProjectLoader</code> extension to be installed on the TeamCity agent.<br>Starting from version 3.4.1, NUnit requires the <code class="code">NUnit.Extension.TeamCityEventListener</code> extension to be installed on the TeamCity agent.</p><p id="d39f7a16">The NUnit runner checks for the extensions, and if they are not found, in versions 3.2.0 and 3.2.1 the build will fail without a warning; since version 3.4.1 a message is displayed suggesting you install them.<br>The extensions can be installed in bulk using the <a href="https://www.nuget.org/packages/NUnit.Console" data-external="true" target="_blank" rel="noopener noreferrer">NUnit Console Version 3</a> NuGet package or as separate packages: <code class="code">NUnit.Extension.TeamCityEventListener</code> and <code class="code">NUnit.Extension.NUnitProjectLoader</code>.</p></div></div><a name="NUnitTestSettings"></a><a name="NUnit-Test-Settings"></a><div class="chapter"><h2 id="NUnit-NUnitTestSettings">NUnit Test Settings</h2><div class="table-wrapper"><table class="  _layout-fixed" width="100%" id="2164349f"><thead><tr id="22f6d6f6" class="ijRowHead"><th id="084cd68a"><p id="3b0f99d9">Setting</p></th><th id="f01c7332"><p id="628d341d">Description</p></th></tr></thead><tbody><tr id="ef834f23" class="ijRowOdd"><td id="bdf6cd9a"><a name="runner"></a><a name="NUnit-runner"></a><p id="aff0ba3d">NUnit runner</p></td><td id="70954013"><p id="5f7bdc35">Select the NUnit version to be used to run the tests. The set of available settings will vary depending on the selected version.</p></td></tr><tr id="1f42f167" class="ijRowEven"><td id="dbbb30c6"><a name="pathToNUnitConsoleTool"></a><a name="NUnit-pathToNUnitConsoleTool"></a><p id="5cc595b3">NUnit Console</p></td><td id="e4a14cf3"><p id="8d9ca0b1"><i id="ce934466">Available if NUnit 3.0 is selected</i>.</p><p id="5f5d21f9">Select a preinstalled console tool or specify a custom path to <code class="code">nunit3-console.exe</code>:</p><ul class="list _ul"><li class="list__item" id="10722cf9"><p><b id="f17e7e3e">prior to TeamCity 9.1.4</b>, specify the directory containing the console executable file</p></li><li class="list__item" id="5586f376"><p><b id="e6122438">since 9.1.4</b>, specify the path to the console executable file including the file name</p></li></ul></td></tr><tr id="c3b1bc53" class="ijRowOdd"><td id="96fdb6ab"><a name="workingDirectory"></a><a name="NUnit-workingDirectory"></a><p id="72f2b145">Working directory</p></td><td id="0648a3a1"><p id="6767439d"><i id="30d7b31f">Available if NUnit 3.0 is selected. Optional.</i></p><p id="968a0f40">Specify the path to the <a href="build-working-directory.html">build working directory</a> if it differs from the directory of the testing assembly.</p></td></tr><tr id="f3037b64" class="ijRowEven"><td id="28c8a20c"><a name="appConfigFile"></a><a name="NUnit-appConfigFile"></a><p id="dcffe32d">Path to application configuration file</p></td><td id="fc1dcc36"><p id="434e70bd"><i id="df26d9f3">Available if NUnit 3.0 is selected</i>.</p><p id="f880e978">Specifу the path to the application configuration file to be used when running tests. The path is absolute or relative to the <a href="build-checkout-directory.html">checkout directory</a>.</p></td></tr><tr id="daf0a31c" class="ijRowOdd"><td id="83c4960b"><a name="NUnit-cmdParameters"></a><a name="NUnit-NUnit-cmdParameters"></a><p id="554af27f">Additional command line parameters</p></td><td id="99b0d2aa"><p id="93ea7959"><i id="d6bf694a">Available if NUnit 3.0 is selected</i>.</p><p id="6314e71f">Enter <a href="https://github.com/nunit/docs/wiki/Console-Command-Line" data-external="true" target="_blank" rel="noopener noreferrer">additional command line parameters</a> to pass to <code class="code">nunit-console.exe</code>.</p></td></tr><tr id="85e72ed0" class="ijRowEven"><td id="a8fa864e"><p id="bb1a37b9">.NET Runtime</p></td><td id="296fe3e9"><p id="2b9e4534">From the <b id="9afe883d">Platform</b> drop-down menu, select the desired execution mode on an x64 machine. Supported values are: <code class="code">Auto (MSIL)</code>, <code class="code">x86</code>, and <code class="code">x64</code>.</p><p id="f540c48c">From the <b id="780a377f">Version</b> drop-down menu, select the required .NET Framework version. Supported values are: <code class="code">v2.0</code>, <code class="code">v4.0</code>; and <code class="code">auto</code>, <i id="6d6b40c9">available if NUnit 3.0 is selected</i>.<br><i id="074a2960">For NUnit 3.0</i>, if <code class="code">auto</code> is selected, tests will run under the framework they are compiled with.</p></td></tr><tr id="34b92d90" class="ijRowOdd"><td id="5346fc7d"><p id="6f580782">Run tests from</p></td><td id="e7f4bf62"><p id="151e0184">Specify the .NET assemblies where the NUnit tests to be run are stored. Multiple entries are comma-separated; usage of MSBuild wildcards is enabled. The paths to assembly files are absolute or relative to the <a href="build-checkout-directory.html">checkout directory</a>. In the following example, TeamCity will search for the tests assemblies in all project directories and run these tests.</p><div class="code-block" data-lang="bash">**\*.dll

</div><aside class="note " data-title="" rel="9b064bb4" id="28e77a75"><p id="d3a70e27">All these wildcards are specified relative to the checkout directory.</p></aside></td></tr><tr id="f3b0eaef" class="ijRowEven"><td id="f0e9239a"><p id="f5accde2">Do not run tests from</p></td><td id="198bb106"><p id="bcf8f504">Specify .NET assemblies that should be excluded from the list of assemblies to test. Multiple entries are comma-separated; usage of MSBuild wildcards is enabled. The paths to assembly files are absolute or relative to the <a href="build-checkout-directory.html">checkout directory</a>.<br>In the following example, TeamCity will omit tests specified in this directory.</p><div class="code-block" data-lang="bash">**\obj\**\*.dll

</div><aside class="note " data-title="" rel="e4178bbb" id="2c3c6aa8"><p id="c2def47b">All these wildcards are specified relative to the checkout directory.</p></aside></td></tr><tr id="110155e5" class="ijRowOdd"><td id="ca664253"><p id="6197e8e2">Include categories</p></td><td id="84aaf177"><p id="07a594ec">Specify NUnit categories of tests to be run. Multiple entries are comma-separated.<br><a href="teamcity-nunit-test-launcher.html#Category-Expression">Category expressions</a> are supported here as well; commas, semicolons, and new lines are treated as global <b id="a03ae817">or</b> operations (prior to the expression parsing). Since NUnit 3.0 <b id="2c3dc931">category expressions are not supported</b> and must be set via the command line as <a href="https://github.com/nunit/docs/wiki/Test-Selection-Language" data-external="true" target="_blank" rel="noopener noreferrer">described in the NUNit documentation</a>.</p></td></tr><tr id="5fa87bf7" class="ijRowEven"><td id="782edd27"><p id="ea3f8bbe">Exclude categories</p></td><td id="da61800d"><p id="19e1962d">Specify NUnit categories to be excluded from the tests to be run. Multiple entries are comma-separated.<br><a href="teamcity-nunit-test-launcher.html#Category-Expression">Category expressions</a> are supported here as well; commas, semicolons, and new lines are treated as global <b id="b6d7de7e">or</b> operations (prior to the expression parsing). Since NUnit 3.0 <b id="46bf3b53">category expressions are not supported</b> and must be set via the command line as <a href="https://github.com/nunit/docs/wiki/Test-Selection-Language" data-external="true" target="_blank" rel="noopener noreferrer">described in the NUNit documentation</a>.</p></td></tr><tr id="f367a535" class="ijRowOdd"><td id="c5af5b5d"><p id="6c264067">Run process per assembly</p></td><td id="31c3128c"><p id="772f6d6c">_Available for versions prior to <i id="48bcad3e"><a href="upgrade-notes.html#UpgradeNotes-Changesfrom9.1.5to9.1.6">NUnit 3.0</a> only</i>.</p><p id="f7eda595">Select this option if you want to run each assembly in a new process.</p></td></tr><tr id="311a5a53" class="ijRowEven"><td id="e7d8c648"><p id="f1d0b22a">Reduce test failure feedback time</p></td><td id="1e75e2bf"><p id="047c6c8d">Use this option to instruct TeamCity to run some tests before others.</p></td></tr></tbody></table></div></div><a name="CodeCoverage"></a><a name="Code-Coverage"></a><div class="chapter"><h2 id="NUnit-CodeCoverage">Code Coverage</h2><p id="c845dc58">To learn about configuring code coverage options, refer to the <a href="configuring-net-code-coverage.html">Configuring .NET Code Coverage</a> page.</p><p id="ba27f355"><b id="8293ad64">For NUnit 3.x</b>, only <a href="jetbrains-dotcover.html">JetBrains dotCover</a> is supported as a coverage tool.</p><hr id="73696733"><p id="7edb0370"><b id="66b5fe30">See also:</b></p><p id="939b5b3e"><b id="71b515ae">Administrator's Guide</b>: <a href="configuring-unit-testing-and-code-coverage.html">Configuring Unit Testing and Code Coverage</a> | <a href="nunit-support.html">NUnit Support</a> | <a href="getting-started-with-nunit.html">Getting Started with NUnit</a></p><hr id="7bb33712"></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v2/app.js"></script></body></html>