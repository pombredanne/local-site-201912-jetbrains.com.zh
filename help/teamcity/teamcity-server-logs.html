<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v2/analytics.js"></script><title>TeamCity Server Logs - Help | TeamCity</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v2/app.css"></head><body data-id="TeamCity Server Logs" data-breadcrumbs="teamcity-documentation.md|TeamCity Documentation/administrator-s-guide.md|Administrator's Guide/teamcity-configuration-and-maintenance.md|TeamCity Configuration and Maintenance/teamcity-server-logs.md|TeamCity Server Logs" data-main-title="TeamCity Server Logs" data-edit-url="https://github.com/JetBrains/teamcity-documentation/edit/2019.1/topics/teamcity-server-logs.md"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search TeamCity Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>TeamCity 2019.1 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="TeamCity Server Logs" id="teamcity-server-logs.md">TeamCity Server Logs</h1><p id="86552c58">On this page:</p><p id="1b1189c0"><ul class="list" data-skip-index="skip"><li class="list__item"><a href="#TeamCityServerLogs-GeneralLoggingDescription">General Logging Description</a></li><li class="list__item"><a href="#TeamCityServerLogs-Logging-relatedDiagnosticsUI">Logging-related Diagnostics UI</a></li><li class="list__item"><a href="#TeamCityServerLogs-ChangingLoggingConfiguration">Changing Logging Configuration</a><ul class="list _bullet"><li class="list__item"><a href="#TeamCityServerLogs-ChangingLoggingSettings">Changing Logging Settings</a></li></ul></li><li class="list__item"><a href="#TeamCityServerLogs-ReadingLogs">Reading Logs</a><ul class="list _bullet"><li class="list__item"><a href="#TeamCityServerLogs-GeneralLoggingConfiguration">General Logging Configuration</a></li></ul></li></ul></p><p id="2669fc6e">TeamCity Server keeps a log of internal activities that can be examined to investigate an issue with the server behavior or get internal error details.</p><p id="8770cafe">The logs are stored in plain text files in a disk directory on the TeamCity server machine (usually in <code class="code">&lt;</code><a href="teamcity-home-directory.html"><code class="code">TeamCity Server home</code></a><code class="code">&gt;/logs</code>). The files are appended with messages when TeamCity is running.</p><p id="d30e3d50">While the server is running, the logs can be viewed in the web UI on the <code class="code">Server Logs</code> tab of <b id="497da0a7">Administration | Diagnostics</b> section.</p><aside class="tip sideblock" data-title="" rel="d30e3d50" id="c1d79004"><p id="77f66b2b"><b id="bd6c7ea6">Enable Debug in Server Logs</b></p><p id="bd674d66">In the web UI, go to <b id="6b047160">Administration | Diagnostics</b> page. On the <b id="e14a68b4">Troubleshooting</b> tab, choose a logging preset, view logs under <b id="ce1c3472">Server Logs</b> subsection.</p><p id="99a79f9a">If it is not possible to enable debug logging mode from the TeamCity web UI, refer to <a href="#Changing-Logging-Configuration">Changing Logging Configuration</a> section to learn how to adjust logging options manually.</p></aside><a name="GeneralLoggingDescription"></a><a name="General-Logging-Description"></a><div class="chapter"><h2 id="TeamCityServerLogs-GeneralLoggingDescription">General Logging Description</h2><p id="765c1b14">TeamCity uses <a href="http://logging.apache.org/log4j" data-external="true" target="_blank" rel="noopener noreferrer">log4j library</a> for the logging and its settings can be <a href="#Changing-Logging-Configuration">customized</a>.</p><p id="5b47778c">By default, log files are located under the <code class="code">&lt;</code><a href="teamcity-home-directory.html"><code class="code">TeamCity Server home</code></a><code class="code">&gt;/logs</code> directory.</p><p id="f1b7725d">The most important log files are:</p><div class="table-wrapper"><table width="100%" id="8f05e331"><thead><tr id="1b250049" class="ijRowHead"><th id="984e619b"><p id="b6ba500c"><code class="code">teamcity-server.log</code></p></th><th id="3f75e8cc"><p id="e8241ced">General server log</p></th></tr></thead><tbody><tr id="63dd2400" class="ijRowOdd"><td id="34b2bd58"><p id="e92cb67d"><code class="code">teamcity-activities.log</code></p></td><td id="5d54ac0c"><p id="fb105249">Log of user-initiated and main build-related events</p></td></tr><tr id="2a0d434f" class="ijRowEven"><td id="a32407fc"><p id="ca4a2f90"><code class="code">teamcity-vcs.log</code></p></td><td id="67c152ca"><p id="2e943097">Log of <a href="configuring-vcs-roots.html">VCS</a>-related activity</p></td></tr><tr id="b90d6bfb" class="ijRowOdd"><td id="dc3c1aff"><p id="ef0ccdb0"><code class="code">teamcity-cleanup.log</code></p></td><td id="7c02d4ba"><p id="0bd650ff">contains <a href="clean-up.html">clean-up</a>-related log</p></td></tr><tr id="5ba11075" class="ijRowEven"><td id="d8da6eeb"><p id="20241b50"><code class="code">teamcity-notifications.log</code></p></td><td id="55a3e2a3"><p id="b19cfb6d"><a href="subscribing-to-notifications.html">Notifications</a>-related log</p></td></tr><tr id="fa333c7a" class="ijRowOdd"><td id="81ed3a35"><p id="7642b834"><code class="code">teamcity-clouds.log</code></p></td><td id="7bb53a9e"><p id="e6db6b36">(off by default) <a href="teamcity-integration-with-cloud-solutions.html">Cloud-integration</a>-related log</p></td></tr><tr id="f1ace2ab" class="ijRowEven"><td id="e1cf4c35"><p id="76a2178c"><code class="code">teamcity-sql.log</code></p></td><td id="8394301a"><p id="7a9385bb">(off by default) Log of SQL queries, see <a href="reporting-issues.html#Database-related-Slowdowns">details</a></p></td></tr><tr id="05ba68b2" class="ijRowOdd"><td id="6ff15906"><p id="515001f7"><code class="code">teamcity-http-auth.log</code></p></td><td id="4dfed357"><p id="2adf86ff">(off by default) Log with messages related to <a href="ntlm-http-authentication.html">NTLM</a> and other authentication for HTML requests</p></td></tr><tr id="2949d269" class="ijRowEven"><td id="43a694f8"><p id="411e24d1"><code class="code">teamcity-xmlrpc.log</code></p></td><td id="c57a9bce"><p id="f8182d16">(off by default) Log of messages sent by the server to agents and IDE plugins via XML-RPC</p></td></tr><tr id="fb81de99" class="ijRowOdd"><td id="b13d307e"><p id="2659293f"><code class="code">vcs-content-cache.log</code></p></td><td id="f76694dd"><p id="e453dbe6">(off by default) Log related to individual file content requests from VCS</p></td></tr><tr id="63cb91e1" class="ijRowEven"><td id="b8072e77"><p id="bec4f7c7"><code class="code">teamcity-rest.log</code></p></td><td id="64a5c3e1"><p id="60afe779">(off by default) <a href="rest-api.html">REST-API</a> related logging</p></td></tr><tr id="b19ecc13" class="ijRowOdd"><td id="1b135316"><p id="6b2516d7"><code class="code">teamcity-freemarker.log</code></p></td><td id="c180afda"><p id="c5a64305">(off by default) <a href="customizing-notifications.html">Notification templates</a> processing-related logging</p></td></tr><tr id="c8aa4ecf" class="ijRowEven"><td id="1969cf8b"><p id="aec02714"><code class="code">teamcity-agentPush.log</code></p></td><td id="99fe341b"><p id="1f0151b7">(off by default) Logging related to <a href="setting-up-and-running-additional-build-agents.html">agent push</a> operations</p></td></tr><tr id="2857039e" class="ijRowOdd"><td id="982e2e3d"><p id="60ffcd50"><code class="code">teamcity-remote-run.log</code></p></td><td id="eee59300"><p id="e907f22f">(off by default) Logging related to <a href="personal-build.html">personal builds</a> processing on the server</p></td></tr><tr id="79bf6368" class="ijRowEven"><td id="d471bc4c"><p id="b46fc187"><code class="code">teamcity-svn.log</code></p></td><td id="e36f900f"><p id="de6046a2">(off by default) <a href="subversion.html">SVN integration</a> log</p></td></tr><tr id="e97c2854" class="ijRowOdd"><td id="effeda21"><p id="da1c7dac"><code class="code">teamcity-tfs.log</code></p></td><td id="18332ae0"><p id="eb5f4122">(off by default) <a href="team-foundation-server.html">TFS integration</a> log</p></td></tr><tr id="7f4372ea" class="ijRowEven"><td id="46f6450f"><p id="9a2e89e6"><code class="code">teamcity-starteam.log</code></p></td><td id="8543e04e"><p id="31c98d3c">(off by default) <a href="starteam.html">StarTeam integration</a> log</p></td></tr><tr id="ad2ba2ee" class="ijRowOdd"><td id="2b59517e"><p id="c5f0bd0d"><code class="code">teamcity-clearcase.log</code></p></td><td id="537a8db4"><p id="889ed6a0">(off by default) <a href="clearcase.html">ClearCase integration</a> log</p></td></tr><tr id="92406be8" class="ijRowEven"><td id="ffc0bc5a"><p id="ff0b1a41"><code class="code">teamcity-ldap.log</code></p></td><td id="55aa58a7"><p id="d2e717f0"><a href="ldap-integration.html">LDAP</a>-related log</p></td></tr><tr id="2c76254a" class="ijRowOdd"><td id="c7612331"><p id="821edaed"><code class="code">teamcity-nuget.log</code></p></td><td id="531eda72"><p id="47f39ecf"><a href="nuget.html">NuGet</a>-related log</p></td></tr><tr id="f3bc4310" class="ijRowEven"><td id="47cc327b"><p id="9db82035"><code class="code">teamcity-maintenance.log</code></p></td><td id="8e73e021"><p id="3cd3cdef">(off by default) logs of back-up/ restore/ migration performed with <a href="migrating-to-an-external-database.html#Full-Migration">maintainDB tool</a></p></td></tr><tr id="ffa5b678" class="ijRowOdd"><td id="d7b6eb9a"><p id="a1c7808e"><code class="code">teamcity-maintenance-truncation.log</code></p></td><td id="16a7c4ed"><p id="06f69023">(off by default) contains extended information on possible data truncation during back-up/ restore/ migration performed with <a href="migrating-to-an-external-database.html">maintainDB tool</a></p></td></tr><tr id="5ad0a85a" class="ijRowEven"><td id="08b1bfaa"><p id="d53b7576"><code class="code">teamcity-versioned-settings.log</code></p></td><td id="fb17079c"><p id="4ececc86">(off by default) contains information on <a href="storing-project-settings-in-version-control.html">synchronization of the project settings</a> with the version control</p></td></tr><tr id="f5e247f3" class="ijRowOdd"><td id="2c15c656"><p id="5a381c15"><code class="code">teamcity-ws.log</code></p></td><td id="4857c4c2"><p id="fad94219">logs related to communication between browsers and the TeamCity server using the <a href="server-health.html#WebSocket-connection-issues">WebSocket connection</a></p></td></tr><tr id="95459dcf" class="ijRowEven"><td id="c0b7b4de"><p id="cbc32dd7"><code class="code">teamcity-issue-trackers.log</code></p></td><td id="d3f8915f"><p id="36c071e8">logs related to communication between TeamCity and configured <a href="integrating-teamcity-with-issue-tracker.html">issue tracker</a></p></td></tr></tbody></table></div><p id="8e0bd0c7">Other files can also be created on <a href="#Changing-Logging-Configuration">changing Logging Configuration</a>.</p><p id="9bb37123">Some of the files can have <code class="code">.N</code> extensions - that are files with previous logging messages copied on main file rotation. See <a href="#Changing-Logging-Settings"><code class="code">maxBackupIndex</code></a> for preserving more files.</p></div><a name="Logging-relatedDiagnosticsUI"></a><a name="Logging-related-Diagnostics-UI"></a><div class="chapter"><h2 id="TeamCityServerLogs-Logging-relatedDiagnosticsUI">Logging-related Diagnostics UI</h2><p id="5b5d5583">Users with System Administrator role can view and download the server logs right from the TeamCity UI using <b id="bf87c093">Administration | Diagnostics | Server Logs</b>.</p></div><a name="ChangingLoggingConfiguration"></a><a name="Changing-Logging-Configuration"></a><div class="chapter"><h2 id="TeamCityServerLogs-ChangingLoggingConfiguration">Changing Logging Configuration</h2><p id="49efc50a">While TeamCity is running, active logging settings can be changed by selecting between available <code class="code">logging presets</code>.</p><p id="2758a47f">The active logging preset is changed in the <b id="9380e1b6">Administration | Diagnostics</b> page, <b id="8931e4df">Troubleshooting</b>, <b id="5a4720af">Debug logging</b> subsection. Choosing a preset changes logging configuration immediately and the preset is preserved after a server restart, until changed on the page again. It is recommended to return to the "&lt;Default&gt;" once the necessary logs were collected.</p><p id="8196f781">The available presets are stored in the files with .xml extension under <code class="code">&lt;</code><a href="teamcity-data-directory.html"><code class="code">TeamCity Data Directory</code></a><code class="code">&gt;/config/_logging</code> directory. New files can be added into the directory and existing files can be modified (using <a href="teamcity-data-directory.html#.dist-Template-Configuration-Files">.dist convention</a>). New presets can also be uploaded via <b id="fc95d6c2">Diagnostics | Logging Presets</b>.</p><p id="55765e45">If it is not possible to enable debug logging mode via logging presets (for example, to get the logging during server initialization) or to make persistent changes to the logging, you can backup the <code class="code">conf/teamcity-server-log4j.xml</code> file and copy/rename the <code class="code">&lt;</code><a href="teamcity-data-directory.html"><code class="code">TeamCity Data Directory</code></a><code class="code">&gt;/config/_logging/debug-general.xml</code> file over <code class="code">conf/teamcity-server-log4j.xml</code> before the server start.</p><a name="ChangingLoggingSettings"></a><a name="Changing-Logging-Settings"></a><div class="chapter"><h3 id="TeamCityServerLogs-ChangingLoggingSettings">Changing Logging Settings</h3><p id="0d33c727">If you want to fine-tune the log4j configuration, you can edit <code class="code">&lt;</code><a href="teamcity-home-directory.html"><code class="code">TeamCity Server home</code></a><code class="code">&gt;/conf/teamcity-server-log4j.xml</code> file (for <code class="code">.war</code> TeamCity distribution, see the <a href="#General-Logging-Configuration">related section</a>). If the server is running, the log4j configuration file will be reloaded automatically and the logging configuration will be changed on the fly (some log4j restrictions still apply, so for a massive change consider restarting the server).</p><p id="39be0ca1">Most useful settings of log4j configuration:<br>To change the minimum log level to save in the file, tweak the <code class="code">value</code> attribute of the <code class="code">priority</code> element:</p><div class="code-block" data-lang="none">&lt;category ...&gt;
    &lt;priority value="INFO"/&gt;
...

</div><p id="a7117287">The logs are rotated by default. When debug is enabled, it makes sense to increase the <code class="code">value</code> attribute of <code class="code">maxBackupIndex</code> element to affect the number of preserved log files. While doing so, ensure there is sufficient free disk space available.</p><div class="code-block" data-lang="none">&lt;appender ...&gt;
    &lt;param name="maxBackupIndex" value="10"/&gt;
...

</div><p id="dcb29922">For detailed description of <code class="code">maxBackupIndex</code> and other supported attributes, see <a href="http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/RollingFileAppender.html" data-external="true" target="_blank" rel="noopener noreferrer">Class RollingFileAppender</a> in Apache documentation.</p></div></div><a name="ReadingLogs"></a><a name="Reading-Logs"></a><div class="chapter"><h2 id="TeamCityServerLogs-ReadingLogs">Reading Logs</h2><p id="f03f6f37">Each message has a timestamp and level (<code class="code">ERROR</code>, <code class="code">WARN</code>, <code class="code">INFO</code>, <code class="code">DEBUG</code>).</p><p id="10907c0d">Example:</p><div class="code-block" data-lang="bash">[2010-11-19 23:22:35,657] INFO - s.buildServer.SERVER - Agent vmWin2k3-3 has been registered with id 19, not running a build

</div><ul class="list _ul"><li class="list__item" id="29ebca4f"><p><code class="code">ERROR</code> means an operation failed and some data was lost or action not performed. Generally, there should be no ERRORs in the log.</p></li><li class="list__item" id="6206fced"><p><code class="code">WARN</code> generally means that an operation failed, but will be retried or the operation is considered not important. Some amount of WARNs is OK. But you can review the log for such warnings to better understand what is going OK and what is not.</p></li><li class="list__item" id="676c74a8"><p><code class="code">INFO</code> is an informational message that just reports on the current activities.</p></li><li class="list__item" id="ee14211d"><p><code class="code">DEBUG</code> is only useful for issue investigation, for example, to be analyzed by TeamCity developers.</p></li></ul><a name="GeneralLoggingConfiguration"></a><a name="General-Logging-Configuration"></a><div class="chapter"><h3 id="TeamCityServerLogs-GeneralLoggingConfiguration">General Logging Configuration</h3><p id="7287b796">By defaul,t TeamCity searches for log4j configuration in the <code class="code">.../conf/teamcity-server-log4j.xml</code> file (this resolves to <code class="code">&lt;</code><a href="teamcity-home-directory.html"><code class="code">TeamCity Server home</code></a><code class="code">&gt;/conf/teamcity-server-log4j.xml</code> for TeamCity <code class="code">.exe</code> and <code class="code">.tar.gz</code> distributions when run from <code class="code">bin</code>). If no such file is present, the default log4j configuration is used. The logs are saved to the <code class="code">../logs</code> directory by default.</p><p id="3b53715c">The configuration options values can be changed via the corresponding <code class="code">log4j.configuration</code> and <code class="code">teamcity_logs</code> JVM options or <a href="configuring-teamcity-server-startup-properties.html">internal properties</a>.<br>For example: <code class="code">log4j.configuration=file:../conf/teamcity-server-log4j.xml</code> and <code class="code">teamcity_logs=../logs/</code>.<br>Default values can be looked up in the <code class="code">bin/teamcity-server</code> script available in the .exe and tar.gz distributions.</p><p id="c32ee060">If you start TeamCity by the means other than the bundled <code class="code">teamcity-server</code> or <code class="code">runAll</code> scripts, make sure to pass the above-mentioned options to the server JVM. See also the <a href="installing-and-configuring-the-teamcity-server.html">recommendations</a> on installing TeamCity into not bundled web server.</p><p id="d84353e3">The default <code class="code">teamcity-server-log4j.xml</code> file content can be found in the <code class="code">.exe</code> and <code class="code">tar.gz</code> distributions. The one with debug enabled can be found under <code class="code">&lt;</code><a href="teamcity-data-directory.html"><code class="code">TeamCity Data Directory</code></a><code class="code">&gt;/config/_logging/debug-general.xml</code> name after server's first start. See also the sample <a href="https://confluence.jetbrains.com/download/attachments/113084044/teamcity-server-log4j.xml?version=1&amp;modificationDate=1362486616000&amp;api=v2" data-external="true" target="_blank" rel="noopener noreferrer">teamcity-server-log4j.xml</a> file.</p><hr id="48d6157c"><p id="87a81a1f"><b id="c4eb933a">See also:</b></p><p id="d2c90d51"><b id="8b7bf85d">Administrator's Guide</b>: <a href="viewing-build-agent-logs.html">Viewing Build Agent Logs</a><br><b id="b99b9735">Troubleshooting</b>: <a href="reporting-issues.html">Reporting Issues</a></p><hr id="a5218e26"></div></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v2/app.js"></script></body></html>