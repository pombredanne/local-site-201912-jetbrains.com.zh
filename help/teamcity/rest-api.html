<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v2/analytics.js"></script><title>REST API - Help | TeamCity</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v2/app.css"></head><body data-id="REST API" data-breadcrumbs="teamcity-documentation.md|TeamCity Documentation/extending-teamcity.md|Extending TeamCity/rest-api.md|REST API" data-main-title="REST API" data-edit-url="https://github.com/JetBrains/teamcity-documentation/edit/2019.1/topics/rest-api.md"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search TeamCity Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>TeamCity 2019.1 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="REST API" id="rest-api.md">REST API</h1><p id="222b67b7"><ul class="list" data-skip-index="skip"><li class="list__item"><a href="#RESTAPI-Generalinformation">General information</a><ul class="list _bullet"><li class="list__item"><a href="#RESTAPI-GeneralUsagePrinciples">General Usage Principles</a></li><li class="list__item"><a href="#RESTAPI-RESTAuthentication">REST Authentication</a></li><li class="list__item"><a href="#RESTAPI-Superuseraccess">Superuser access</a></li><li class="list__item"><a href="#RESTAPI-RESTAPIVersions">REST API Versions</a></li><li class="list__item"><a href="#RESTAPI-URLStructure">URL Structure</a></li><li class="list__item"><a href="#RESTAPI-Locator">Locator</a></li><li class="list__item"><a href="#RESTAPI-SupportedHTTPMethods">Supported HTTP Methods</a></li></ul></li><li class="list__item"><a href="#RESTAPI-ResponseFormats">Response Formats</a><ul class="list _bullet"><li class="list__item"><a href="#RESTAPI-FullandPartialResponses">Full and Partial Responses</a></li><li class="list__item"><a href="#RESTAPI-Logging">Logging</a></li><li class="list__item"><a href="#RESTAPI-CORSSupport">CORS Support</a></li><li class="list__item"><a href="#RESTAPI-APIClientRecommendations">API Client Recommendations</a></li></ul></li><li class="list__item"><a href="#RESTAPI-TeamCityDataEntitiesRequests">TeamCity Data Entities Requests</a><ul class="list _bullet"><li class="list__item"><a href="#RESTAPI-ProjectsandBuildConfiguration/TemplatesLists">Projects and Build Configuration/Templates Lists</a></li><li class="list__item"><a href="#RESTAPI-ProjectSettings">Project Settings</a></li><li class="list__item"><a href="#RESTAPI-ProjectFeatures">Project Features</a></li><li class="list__item"><a href="#RESTAPI-VCSRoots">VCS Roots</a><ul class="list _bullet"><li class="list__item"><a href="#RESTAPI-VCSrootinstancelocator">VCS root instance locator</a></li></ul></li><li class="list__item"><a href="#RESTAPI-BuildConfigurationAndTemplateSettings">Build Configuration And Template Settings</a><ul class="list _bullet"><li class="list__item"><a href="#RESTAPI-BuildConfigurationLocator">Build Configuration Locator</a></li></ul></li><li class="list__item"><a href="#RESTAPI-BuildRequests">Build Requests</a><ul class="list _bullet"><li class="list__item"><a href="#RESTAPI-BuildLocator">Build Locator</a></li><li class="list__item"><a href="#RESTAPI-QueuedBuilds">Queued Builds</a></li><li class="list__item"><a href="#RESTAPI-TriggeringaBuild">Triggering a Build</a></li><li class="list__item"><a href="#RESTAPI-Buildnodeexample">Build node example</a></li><li class="list__item"><a href="#RESTAPI-BuildTags">Build Tags</a></li><li class="list__item"><a href="#RESTAPI-BuildPinning">Build Pinning</a></li><li class="list__item"><a href="#RESTAPI-BuildCanceling/Stopping">Build Canceling/Stopping</a></li><li class="list__item"><a href="#RESTAPI-BuildArtifacts">Build Artifacts</a></li><li class="list__item"><a href="#RESTAPI-Authentication">Authentication</a></li><li class="list__item"><a href="#RESTAPI-OtherBuildRequests">Other Build Requests</a></li><li class="list__item"><a href="#RESTAPI-Changes">Changes</a></li><li class="list__item"><a href="#RESTAPI-Revisions">Revisions</a></li><li class="list__item"><a href="#RESTAPI-Snapshotdependencies">Snapshot dependencies</a></li><li class="list__item"><a href="#RESTAPI-Artifactdependencies">Artifact dependencies</a></li><li class="list__item"><a href="#RESTAPI-BuildParameters">Build Parameters</a></li><li class="list__item"><a href="#RESTAPI-BuildFields">Build Fields</a></li><li class="list__item"><a href="#RESTAPI-Statistics">Statistics</a></li><li class="list__item"><a href="#RESTAPI-BuildLog">Build Log</a></li></ul></li><li class="list__item"><a href="#RESTAPI-TestsandBuildProblems">Tests and Build Problems</a><ul class="list _bullet"><li class="list__item"><a href="#RESTAPI-MutedTestsandBuildProblems">Muted Tests and Build Problems</a></li></ul></li><li class="list__item"><a href="#RESTAPI-Investigations">Investigations</a></li><li class="list__item"><a href="#RESTAPI-Agents">Agents</a><ul class="list _bullet"><li class="list__item"><a href="#RESTAPI-AgentPools">Agent Pools</a></li><li class="list__item"><a href="#RESTAPI-AssigningProjectstoAgentPools">Assigning Projects to Agent Pools</a></li></ul></li><li class="list__item"><a href="#RESTAPI-Users">Users</a></li><li class="list__item"><a href="#RESTAPI-UserGroups">User Groups</a></li><li class="list__item"><a href="#RESTAPI-UserAccessTokens">User Access Tokens</a></li><li class="list__item"><a href="#RESTAPI-AuditRecords">Audit Records</a></li></ul></li><li class="list__item"><a href="#RESTAPI-Other">Other</a><ul class="list _bullet"><li class="list__item"><a href="#RESTAPI-DataBackup">Data Backup</a></li><li class="list__item"><a href="#RESTAPI-TypedParametersSpecification">Typed Parameters Specification</a></li><li class="list__item"><a href="#RESTAPI-BuildStatusIcon">Build Status Icon</a></li><li class="list__item"><a href="#RESTAPI-TeamCityLicensingInformationRequests">TeamCity Licensing Information Requests</a></li><li class="list__item"><a href="#RESTAPI-CCTray">CCTray</a></li></ul></li><li class="list__item"><a href="#RESTAPI-RequestExamples">Request Examples</a><ul class="list _bullet"><li class="list__item"><a href="#RESTAPI-RequestSendingTool">Request Sending Tool</a><ul class="list _bullet"><li class="list__item"><a href="#RESTAPI-Creatinganewproject">Creating a new project</a></li><li class="list__item"><a href="#RESTAPI-Makinguserasystemadministrator">Making user a system administrator</a></li></ul></li></ul></li></ul></p><a name="Generalinformation"></a><a name="General-information"></a><div class="chapter"><h2 id="RESTAPI-Generalinformation">General information</h2><p id="350aabc9">REST API is an open-source <a href="https://github.com/JetBrains/teamcity-rest" data-external="true" target="_blank" rel="noopener noreferrer">plugin</a> bundled <b id="35d90ec1">since TeamCity 5.0</b>.</p><p id="cca440a2">To use the REST API, an application makes an HTTP request to the TeamCity server and parses the response.</p><p id="0a4a87f5">The TeamCity REST API can be used for integrating applications with TeamCity and for those who want to script interactions with the TeamCity server. TeamCity's REST API allows accessing resources (entities) via URL paths.</p><aside class="tip sideblock" data-title="" rel="0a4a87f5" id="1e31bfa1"><p id="5fa1e1ba">The URL examples on this page assume that your TeamCity server web UI is accessible via the <a href="http://teamcity:8111" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111</a> URL.</p></aside><a name="GeneralUsagePrinciples"></a><a name="General-Usage-Principles"></a><div class="chapter"><h3 id="RESTAPI-GeneralUsagePrinciples">General Usage Principles</h3><p id="a894c859">This documentation is not a complete guide and will only provide some initial knowledge useful for using the API.</p><p id="47e2382a">You can start by opening <a href="http://teamcity:8111/app/rest/server" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/server</a> URL in your browser: this page will give you several pointers to explore the API.</p><p id="2327390c">Use <a href="http://teamcity:8111/app/rest/application.wadl" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/application.wadl</a> to get the full list of supported requests and names of parameters. This is the primary source of discovery for the supported requests and their parameters. The same data is also exposed in <a href="https://swagger.io/tools/open-source/getting-started/" data-external="true" target="_blank" rel="noopener noreferrer">Swagger</a> format via <a href="http://teamcity:8111/app/rest/swagger.json" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/swagger.json</a> endpoint.</p><p id="694fd562">Make sure you read through this section before using the API.</p><p id="3769cc44">For the list of supported <a href="#Locator">locator dimensions</a> included into the error response, use the <code class="code">$help</code> locator.</p><p id="87885313">Experiment and read the error messages returned: for the most part they should guide you to the right requests.</p><p id="233ed0f8">Suppose you want to know more on the agents and see (in  the <code class="code">/app/rest/server</code> response) that there is an <code class="code">/app/rest/agents</code> URL.</p><ul class="list _ul"><li class="list__item" id="07836ba9"><p>Try the <code class="code">/app/rest/agents/</code> request - see the authorized agent list, get the <code class="code">default</code> way of linking to an agent from the agent's element <code class="code">href</code> attribute.</p></li><li class="list__item" id="763a43e3"><p>Get individual agent details via the <code class="code">/app/rest/agents/id:10</code> URL (obtained from <code class="code">href</code> for one of the elements of the previous request).</p></li><li class="list__item" id="32e3b88c"><p>If you send a request to <code class="code">/app/rest/agents/$help</code>, or <code class="code">/app/rest/agents/aaa:bbb</code> (supplying unsupported locator dimension), you will get the list of the supported dimensions to find an agent via the agent's <a href="#Locator">locator</a>.</p></li><li class="list__item" id="0feca347"><p>Most of the attributes of the returned agent data (<code class="code">name</code>, <code class="code">connected</code>, <code class="code">authorized</code>) can be used as the <code class="code">&lt;field name&gt;</code> in the <code class="code">app/rest/agents/&lt;agentLocator&gt;/&lt;field name&gt;</code> request. Moreover, if you issue a request to the <code class="code">app/rest/agents/id:10/test</code> URL, you will get a list of the supported fields in the error message.</p></li></ul></div><a name="RESTAuthentication"></a><a name="REST-Authentication"></a><div class="chapter"><h3 id="RESTAPI-RESTAuthentication">REST Authentication</h3><p id="c2490ae3">You can authenticate yourself for the REST API in the following ways:</p><ul class="list _ul"><li class="list__item" id="a0806d09"><p>Since <b id="4ac34f6f">Teamcity 2019.1</b>, the preferred way to access REST API is by using the <a href="configuring-authentication-settings.html#Token-Based-Authentication">token-based HTTP authentication</a>. Provide your personal TeamCity access token generated on <b id="e2a1e5a3">My Settings &amp; Tools | Access Tokens</b> in the HTTP header <code class="code">Authorization: Bearer &lt;token-value&gt;</code>. For example:<div class="code-block" data-lang="bash">curl --header "Authorization: Bearer &lt;token-value&gt;" http://teamcity:8111/app/rest/builds
</div></p></li><li class="list__item" id="e5485a15"><p>Using basic HTTP authentication (it can be slow with certain authentications, see below). Provide a valid TeamCity username and password with the request. You can force basic auth by including <code class="code">httpAuth</code> before the <code class="code">/app/rest</code> part, e.g. <a href="http://teamcity:8111/httpAuth/app/rest/builds" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/httpAuth/app/rest/builds</a>.</p></li><li class="list__item" id="78e7413b"><p>Using access to the server as a <a href="guest-user.html">guest user</a> (if enabled) include <code class="code">guestAuth</code> before the <code class="code">/app/rest</code> part, e.g. <a href="http://teamcity:8111/guestAuth/app/rest/builds" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/guestAuth/app/rest/builds</a>.</p></li><li class="list__item" id="57621a06"><p>If you are checking REST <code class="code">GET</code> requests from within a browser, and you are logged in to TeamCity in the browser, you can just use <code class="code">/app/rest</code> URL, e.g. <a href="http://teamcity:8111/app/rest/builds" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/builds</a>.Authentication can be slow when a basic HTTP authentication with a non-built-in module is used. If you want to use basic HTTP authentication instead of token-based one, consider applying the <a href="http://youtrack.jetbrains.com/issue/TW-14209#comment=27-485445" data-external="true" target="_blank" rel="noopener noreferrer">session reuse approach</a> for reusing authentication between sequential requests.</p></li></ul><p id="dbb0d01c">If you perform a request from within a TeamCity build, for a limited set of build-related operations (like downloading artifacts) you can use values of <a href="artifact-dependencies.html#Build-level-authentication"><code class="code">teamcity.auth.userId/teamcity.auth.password</code></a> system properties as basic credentials (within TeamCity settings you can reference them as <code class="code">%system.teamcity.auth.userId%</code> and <code class="code">%system.teamcity.auth.password%</code>).</p><p id="6c23c202">Within a build, the request for current build details can look like:</p><div class="code-block" data-lang="bash">curl -u "%system.teamcity.auth.userId%:%system.teamcity.auth.password%" "%teamcity.serverUrl%/httpAuth/app/rest/builds/id:%teamcity.build.id%"
 

</div></div><a name="Superuseraccess"></a><a name="Superuser-access"></a><div class="chapter"><h3 id="RESTAPI-Superuseraccess">Superuser access</h3><p id="f0409e84">You can use the <a href="super-user.html">super user account</a> with REST API: just provide no username and the generated password logged into the server log.</p></div><a name="RESTAPIVersions"></a><a name="REST-API-Versions"></a><div class="chapter"><h3 id="RESTAPI-RESTAPIVersions">REST API Versions</h3><p id="38909b30">As REST API evolves from one TeamCity version to another, there can be incompatible changes in the protocol.</p><p id="97979236">Under the <a href="http://teamcity:8111/app/rest/" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/</a> or <a href="http://teamcity:8111/app/rest/latest" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/latest</a> URL the latest version is available. Under the <a href="http://teamcity:8111/app/rest/<version&gt;" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/&lt;version&gt;</a> URLs other versions CAN be available. Our general policy is to supply TeamCity with at least one previous version. The REST API protocol version is the TeamCity version where this protocl was first introduced.</p><p id="54c4fed5">For example, in TeamCity 2019.1 you can use <code class="code">2018.1</code> instead of <code class="code">&lt;version&gt;</code> to get the latest version of REST API or <code class="code">2017.2</code>, <code class="code">2017.1</code>, <code class="code">10.0</code>, <code class="code">9.1</code>, <code class="code">9.0</code>, <code class="code">8.1</code>, <code class="code">8.0</code> to get earlier versions of the protocol.</p><p id="8c2c6138">Breaking changes in the API are described in the related <a href="upgrade-notes.html">Upgrade Notes</a> section. Note that additions to the objects returned (such as new XML attributes or elements) are not considered major changes and do not cause the protocol version to increment. Also, the endpoints marked with <code class="code">Experimental</code> comment in <code class="code">application.wadl</code> may change without a special notice in future versions.</p><aside class="note " data-title="" rel="8c2c6138" id="c54b71bb"><p id="23896647">The examples on this page use the <code class="code">/app/rest</code> relative URL; replace it with the one containing the version if necessary.</p></aside></div><a name="URLStructure"></a><a name="URL-Structure"></a><div class="chapter"><h3 id="RESTAPI-URLStructure">URL Structure</h3><p id="16d57835">The general structure of the URL in the TeamCity API is <a href="http://teamcityserver:port/<authType&gt;/app/rest/<apiVersion&gt;/<restApiPath&gt;?<parameters&gt;" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcityserver:port/&lt;authType&gt;/app/rest/&lt;apiVersion&gt;/&lt;restApiPath&gt;?&lt;parameters&gt;</a></p><p id="23fc6125">where</p><ul class="list _ul"><li class="list__item" id="25173c87"><p><code class="code">teamcityserver</code> and <code class="code">port</code> define the server name and the port used by TeamCity. This page uses <a href="http://teamcity:8111/" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/</a> as an example URL.</p></li><li class="list__item" id="05028b3e"><p><code class="code">&lt;authType&gt;</code> (optional) is the <a href="#REST-Authentication">authentication type</a> to be used, this is generic TeamCity functionality.</p></li><li class="list__item" id="1c108ce2"><p><code class="code">app/rest</code> is the root path of the TeamCity REST API</p></li><li class="list__item" id="dbbc4e58"><p><code class="code">&lt;apiVersion&gt;</code> (optional) is a reference to a specific version of REST API.</p></li><li class="list__item" id="797423dc"><p><code class="code">&lt;restApiPath&gt;?&lt;parameters&gt;</code> is the REST API part of the URL.<br>A typical way to get multiple items is to use <code class="code">&lt;restApiPath&gt;</code> in the form of <code class="code">.../app/rest/&lt;items&gt;</code> (for example, "<code class="code">.../app/rest/builds</code>"). These URLs regularly accept the <a href="#Locator">locator</a> parameter which can filter the items returned. Individual items can regularly be addressed by a URL in the form of <code class="code">.../app/rest/&lt;items&gt;/&lt;item_locator&gt;</code>. This URL always returns a single item. If the <code class="code">&lt;item_locator&gt;</code> locator matches several items, the first one is returned. Both multiple and single items requests regularly support the <a href="#Full-and-Partial-Responses">fields</a> parameter.</p></li></ul></div><a name="Locator"></a><a name="Locator"></a><div class="chapter"><h3 id="RESTAPI-Locator">Locator</h3><p id="0122dd74">In a number of places, you can specify a filter string which defines what entities to filter/affect in the request. This string representation is referred to as "locator" in the scope of REST API.</p><p id="d70c4c86">The locators formats can be:</p><ul class="list _ul"><li class="list__item" id="6324bf1a"><p>single value: text without the following symbols: <code class="code">,:-( )</code></p></li><li class="list__item" id="10c77e92"><p>dimension allowing you to filter entities using multiple criteria: <code class="code">&lt;dimension1&gt;:&lt;value1&gt;,&lt;dimension2&gt;:&lt;value2&gt;,&lt;dimension3&gt;:(&lt;dimension3.1&gt;:&lt;value3.1&gt;,&lt;dimension3.2&gt;:&lt;value3.2&gt;)</code>Note that nested locators should be enclosed in parentheses. Refer to each entity description below for the most popular locator descriptions. If in doubt what a specific locator supports, send a request with "$help" as the locator value. In response you will get a textual description of what the locator supports. If a request with invalid locators is sent, the error messages often hint at the error and list the supported locator dimensions as well.</p></li></ul><aside class="note " data-title="" rel="d4efb54c" id="9311728e"><p id="4a4abab5">If the single value contains the "," symbol, it should be enclosed into parentheses: <code class="code">(&lt;value&gt;)</code>. The value of a dimension can also be encoded as Base64url ("URL and Filename safe type base64" from RFC4648) and sent as <code class="code">&lt;dimension&gt;:($base64:&lt;base64-encoded-value&gt;)</code> instead of <code class="code">&lt;dimension&gt;: &lt;value&gt;</code>.</p></aside><p id="c198892e">Examples:</p><ul class="list _ul"><li class="list__item" id="d1fae2b2"><p>Use <a href="http://teamcity:8111/app/rest/projects" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/projects</a> to get the list of projects.</p></li><li class="list__item" id="87d16f97"><p>Use <a href="http://teamcity:8111/app/rest/projects/<projectsLocator&gt;" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/projects/&lt;projectsLocator&gt;</a>, for example <a href="http://teamcity:8111/app/rest/projects/id:RESTAPIPlugin" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/projects/id:RESTAPIPlugin</a> (example ID is used) to get the full data for the REST API Plugin project.</p></li><li class="list__item" id="f319d3b9"><p>Use <a href="http://teamcity:8111/app/rest/buildTypes/id:bt284/builds?locator=<buildLocator&gt;" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/buildTypes/id:bt284/builds?locator=&lt;buildLocator&gt;</a>, for example <a href="http://teamcity:8111/app/rest/buildTypes/id:bt284/builds?locator=status:SUCCESS,tag:EAP" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/buildTypes/id:bt284/builds?locator=status:SUCCESS,tag:EAP</a> (example IDs are used) to get builds.</p></li><li class="list__item" id="870448d4"><p>Use <a href="http://teamcity:8111/app/rest/builds/?locator=<buildLocator&gt;" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/builds/?locator=&lt;buildLocator&gt;</a> to get builds by build locator.</p></li></ul></div><a name="SupportedHTTPMethods"></a><a name="Supported-HTTP-Methods"></a><div class="chapter"><h3 id="RESTAPI-SupportedHTTPMethods">Supported HTTP Methods</h3><ul class="list _ul"><li class="list__item" id="3988d5fe"><p>GET: retrieves the requested data. For example, <code class="code">.../app/rest/entities</code> usually retrieves a list of entities, <code class="code">.../app/rest/entities/&lt;entity locator&gt;</code> retrieves a single entity</p></li><li class="list__item" id="c3b8ee2d"><p>POST: creates the entity from the payload submitted. To create a new entity, one regularly needs to post a single entity data (i.e. as retrieved via GET) to the <code class="code">.../app/rest/entities</code> URL. When posting XML, be sure to specify the "<code class="code">Content\-Type: application/xml</code>" HTTP header.</p></li><li class="list__item" id="025c660a"><p>PUT: updates the data from the payload submitted. Accepts the same data format as retrieved via GET request to the same URL. Supported for some entities for URLs like <code class="code">.../app/rest/entities/&lt;entity locator&gt;</code></p></li><li class="list__item" id="7724ed7d"><p>DELETE: removes the data at the URL, for example, for the <code class="code">.../app/rest/entities/&lt;entity locator&gt;</code></p></li></ul></div></div><a name="ResponseFormats"></a><a name="Response-Formats"></a><div class="chapter"><h2 id="RESTAPI-ResponseFormats">Response Formats</h2><p id="363cbc28">The TeamCity REST APIs returns HTTP responses in the following formats according to the  HTTP "Accept" header:</p><div class="table-wrapper"><table class=" wide" width="100%" id="124c586a"><thead><tr id="836e807d" class="ijRowHead"><th id="0f01a98c"><p id="20729a21">Format</p></th><th id="5d637bd3"><p id="f5603184">Response Type</p></th><th id="fad7cb40"><p id="8232f3ca">HTTP "Accept" header value</p></th></tr></thead><tbody><tr id="02e7de3c" class="ijRowOdd"><td id="724bff1e"><p id="e83232d3">plain text</p></td><td id="333c0d06"><p id="78ef3f5d">single-value responses</p></td><td id="d6382760"><p id="87ad4c12">text/plain</p></td></tr><tr id="f569d2a0" class="ijRowEven"><td id="543c48b0"><p id="56b437e3">XML</p></td><td id="6fef02ee"><p id="bdb077b7">complex value responses</p></td><td id="56e5eb85"><p id="473bfeef">application/xml</p></td></tr><tr id="8faf81ac" class="ijRowOdd"><td id="da5be691"><p id="4eab02f8">JSON</p></td><td id="f74fdb20"><p id="4ea9dd58">complex value responses</p></td><td id="a20fa081"><p id="04d0e082">application/json</p></td></tr></tbody></table></div><a name="FullandPartialResponses"></a><a name="Full-and-Partial-Responses"></a><div class="chapter"><h3 id="RESTAPI-FullandPartialResponses">Full and Partial Responses</h3><p id="ad37007e">By default, when a list of entities is requested, only basic fields are included into the response. When a single entry is requested, all the fields are returned. The complex field values can be returned in full or basic form, depending on a specific entity.</p><p id="b01fdab6">It is possible to change the set of fields returned for XML and JSON responses for the majority of requests.This is done by supplying the <b id="b5cc72ad">fields</b> request parameter describing the fields of the top-level entity and sub-entities to return in the response. An example syntax of the parameter is: <code class="code">field,field2(field2_subfield1,field2_subfield1)</code>. This basically means "include <code class="code">field</code> and <code class="code">field2</code> of the top-level entity and for <code class="code">field2</code> include <code class="code">field2_subfield1</code> and <code class="code">field2_subfield1</code> fields". The order of the fields specification plays no role.</p><p id="30705258">Examples:</p><ul class="list _ul"><li class="list__item" id="e0e0e93a"><a href="http://teamcity.jetbrains.com/app/rest/buildTypes?locator=affectedProject:(id:TeamCityPluginsByJetBrains)&amp;fields=buildType(id,name,project)" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity.jetbrains.com/app/rest/buildTypes?locator=affectedProject:(id:TeamCityPluginsByJetBrains)&amp;fields=buildType(id,name,project)</a></li><li class="list__item" id="08d1328b"><a href="http://teamcity.jetbrains.com/app/rest/builds?locator=buildType:(id:bt345),count:10&amp;fields=count,build(number,status,statusText,agent,lastChange,tags,pinned)" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity.jetbrains.com/app/rest/builds?locator=buildType:(id:bt345),count:10&amp;fields=count,build(number,status,statusText,agent,lastChange,tags,pinned)</a></li></ul><p id="e2d4d11a">At this time, the response can sometimes include the fields/elements not specifically requested. This can change in the future versions, so it is recommended to specify all the fields/elements used by the client.</p></div><a name="Logging"></a><a name="Logging"></a><div class="chapter"><h3 id="RESTAPI-Logging">Logging</h3><p id="f6c6f16e">You can get details on errors and REST request processing in <code class="code">logs\teamcity-rest.log</code> <a href="teamcity-server-logs.html">server log</a>.</p><p id="5ef6ec68">You can get details on errors and REST request processing in <code class="code">logs\teamcity-rest.log</code> <a href="teamcity-server-logs.html">server log</a>.</p><p id="1232d62a">If you get an error in response to your request and want to investigate the reason, look into <a href="#Logging">rest-related server logs</a>.</p><p id="6b502902">To get details about each processed request, turn on debug logging (e.g. set Logging Preset to <code class="code">debug-rest</code> on the <a href="teamcity-monitoring-and-diagnostics.html#Debug-Logging">Administration/Diagnostics</a> page or modify the Log4J <code class="code">jetbrains.buildServer.server.rest</code> category).</p></div><a name="CORSSupport"></a><a name="CORS-Support"></a><div class="chapter"><h3 id="RESTAPI-CORSSupport">CORS Support</h3><p id="ee66f07c">The TeamCity REST API can be configured to allow <a href="http://en.wikipedia.org/wiki/Cross-origin_resource_sharing" data-external="true" target="_blank" rel="noopener noreferrer">cross-origin requests</a> using the <code class="code">rest.cors.origins</code> <a href="configuring-teamcity-server-startup-properties.html#TeamCity-internal-properties">internal property</a>.</p><p id="d91a7a75">To allow requests from a page loaded from a specific domain, add the page address (including the <b id="850106d4">protocol and port</b>, <b id="fe6d8db7">do not use wildcards</b>) to the comma-separated <a href="configuring-teamcity-server-startup-properties.html#TeamCity-internal-properties">internal property</a> <code class="code">rest.cors.origins</code>, for example, <code class="code">rest.cors.origins=http://myinternalwebpage.org.com:8080,https://myinternalwebpage.org.com</code>.</p><p id="cf463d3a">To enable support for a <a href="https://youtrack.jetbrains.com/issue/TW-27606" data-external="true" target="_blank" rel="noopener noreferrer">preflight OPTIONS request</a>:</p><ol class="list _decimal"><li class="list__item" id="7aae297b"><p>Add the <code class="code">rest.cors.optionsRequest.allowUnauthorized=true</code> <a href="configuring-teamcity-server-startup-properties.html#TeamCity-internal-properties">internal property</a>.</p></li><li class="list__item" id="b2622c76"><p><b id="a0da9c19">Restart</b> the TeamCity server.</p></li><li class="list__item" id="aec89f53"><p>Use the <code class="code">/app/rest/latest</code> URL for the requests.  Do not use <code class="code">/app/rest</code>, do not use the <code class="code">httpAuth</code> prefix.If that does not help, enable debug <a href="#Logging">logging</a> and look for related messages. If there are none, capture the browser traffic and messages to investigate the case.</p></li></ol></div><a name="APIClientRecommendations"></a><a name="API-Client-Recommendations"></a><div class="chapter"><h3 id="RESTAPI-APIClientRecommendations">API Client Recommendations</h3><p id="5a511f01">When developing a client using the REST API, consider the following recommendations:</p><ul class="list _ul"><li class="list__item" id="429abba5"><p>Make the root REST API URL configurable (e.g. allow specifying an alternative for <code class="code">app/rest/&lt;version&gt;</code> part of the URL). This will allow directing the client to another version of the API if necessary.</p></li><li class="list__item" id="52b662c8"><p>Ignore (do not error out) item's attributes and sub-items which are unknown to the client. New sub-items are sometimes added to the API without version change and this will ensure the client is not affected by the change.</p></li><li class="list__item" id="03d7fdee"><p>Set large (and make them configurable) request timeouts. Some API calls can take minutes, especially on a large server.</p></li><li class="list__item" id="ed6202ba"><p>Use HTTP sessions to make consecutive requests (use TCSESSIONID cookie returned from the first authenticated response instead of supplying raw credentials all the time). This saves time on authentication which can be significant for external authentication providers.</p></li><li class="list__item" id="38b38041"><p>Beware of partial answers when requesting list of items: some requests are paged by default. Value of the <code class="code">count</code> attribute in the response indicate the number of the items on the current page and there can be more pages available. If you need to process more (or all) items, read and process the <code class="code">nextHref</code> attribute of the response entity for items collections. If the attribute is present it means there might be more items when queried by the URL provided. Related locator dimensions are <code class="code">count</code> (page limit) and <code class="code">lookupLimit</code> (depth of search). Even when the returned <code class="code">count</code> is 0, it does not mean there are no more items if there is the "nextHref" attribute present.</p></li><li class="list__item" id="71317b77"><p>Do not increase the  <code class="code">lookupLimit</code> value in the locators without a second thought. Doing so has the direct effect of loading the server more and may require increased amounts of CPU and memory. It is assumed that those increasing the default limit understand the negative consequences for the server performance.</p></li><li class="list__item" id="df29d799"><p>Do not abuse the ability to execute automated requests for TeamCity API: do not query the API too frequently and restrict the data requested to only that necessary (using due <a href="#Locator">locators</a> and specifying necessary <a href="#Full-and-Partial-Responses">fields</a>). Check the server behavior under load from your requests. Make sure not to repeat the request frequently if it takes time to process the request.</p></li></ul></div></div><a name="TeamCityDataEntitiesRequests"></a><a name="TeamCity-Data-Entities-Requests"></a><div class="chapter"><h2 id="RESTAPI-TeamCityDataEntitiesRequests">TeamCity Data Entities Requests</h2><a name="ProjectsandBuildConfiguration/TemplatesLists"></a><a name="Projects-and-Build-Configuration/Templates-Lists"></a><div class="chapter"><h3 id="RESTAPI-ProjectsandBuildConfiguration/TemplatesLists">Projects and Build Configuration/Templates Lists</h3><p id="2f16a326">List of projects: <code class="code">GET</code> <a href="http://teamcity:8111/app/rest/projects" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/projects</a>.</p><p id="32beb401">Project details: <code class="code">GET</code> <a href="http://teamcity:8111/app/rest/projects/<projectLocator&gt;" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/projects/&lt;projectLocator&gt;</a>, where <code class="code">&lt;projectLocator&gt;</code> can be <code class="code">id:&lt;internal_project_id&gt;</code> or <code class="code">name:&lt;project%20name&gt;</code>.</p><p id="fde5321c">List of Build Configurations: <code class="code">GET</code> <a href="http://teamcity:8111/app/rest/buildTypes" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/buildTypes</a>.</p><p id="165b0e2c">List of Build Configurations of a project: <code class="code">GET</code> <a href="http://teamcity:8111/app/rest/projects/<projectLocator&gt;buildTypes" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/projects/&lt;projectLocator&gt;buildTypes</a>.</p><p id="1c40d27d">Get projects with sub-projects Build Configurations data and their order as configured by the specified user on the Overview page:</p><div class="code-block" data-lang="bash">GET http://teamcity:8111/app/rest/projects?locator=selectedByUser:current&amp;fields=count,project(id,parentProjectId,projects(count,project(id),$locator(selectedByUser:current)),buildTypes(count,buildType(id),$locator(selectedByUser:current)))
 

</div><p id="a017df3a">List of templates for a particular project: <code class="code">GET</code> <a href="http://teamcity:8111/app/rest/projects/<projectLocator&gt;/templates" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/projects/&lt;projectLocator&gt;/templates</a>.</p><p id="983c9a07">List of all the templates on the server: <code class="code">GET</code> <a href="http://teamcity:8111/app/rest/buildTypes?locator=templateFlag:true" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/buildTypes?locator=templateFlag:true</a>.</p></div><a name="ProjectSettings"></a><a name="Project-Settings"></a><div class="chapter"><h3 id="RESTAPI-ProjectSettings">Project Settings</h3><p id="d361e408">Get project details: <code class="code">GET</code> <a href="http://teamcity:8111/app/rest/projects/<projectLocator&gt;" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/projects/&lt;projectLocator&gt;</a>.</p><p id="f6d6218a">Delete a project: <code class="code">DELETE</code> <a href="http://teamcity:8111/app/rest/projects/<projectLocator&gt;" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/projects/&lt;projectLocator&gt;</a>.</p><p id="68a78ef6">Create a new empty project: POST plain text (name) to <a href="http://teamcity:8111/app/rest/projects/" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/projects/</a>.</p><p id="18a5ad76">Create (or copy) a project:</p><div class="code-block" data-lang="bash">POST XML &lt;newProjectDescription name='New Project Name' id='newProjectId' copyAllAssociatedSettings='true'&gt;&lt;parentProject locator='id:project1'/&gt;&lt;sourceProject locator='id:project2'/&gt;&lt;/newProjectDescription&gt;
 

</div><p id="9b742129">to <a href="http://teamcity:8111/app/rest/projects" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/projects</a>. Also see an <a href="https://confluence.jetbrains.com/display/TCD18/REST+API#RESTAPI-exampleNewProjectCurl" data-external="true" target="_blank" rel="noopener noreferrer">example</a>.</p><p id="cb79e034">Edit project parameters: <code class="code">GET/DELETE/PUT</code> <a href="http://teamcity:8111/app/rest/projects/<projectLocator&gt;/parameters/<parameter_name&gt;" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/projects/&lt;projectLocator&gt;/parameters/&lt;parameter_name&gt;</a> (produces XML, JSON and plain text depending on the "Accept" header, accepts plain text and XML and JSON). Also supported requests: <code class="code">.../parameters/&lt;parameter_name&gt;/name</code> and <code class="code">.../parameters/&lt;parameter_name&gt;/value</code>.</p><p id="7cf22768">Project name/description/archived status: <code class="code">GET/PUT</code> <a href="http://teamcity:8111/app/rest/projects/<projectLocator&gt;/<field_name&gt;" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/projects/&lt;projectLocator&gt;/&lt;field_name&gt;</a> (accepts/produces text/plain) where <code class="code">&lt;field_name&gt;</code> is one of <code class="code">name</code>, <code class="code">description</code>, <code class="code">archived</code>.</p><p id="1af6c312">Project's parent project: <code class="code">GET/PUT XML</code> <a href="http://teamcity:8111/app/rest/projects/<projectLocator&gt;/parentProject" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/projects/&lt;projectLocator&gt;/parentProject</a>.</p></div><a name="ProjectFeatures"></a><a name="Project-Features"></a><div class="chapter"><h3 id="RESTAPI-ProjectFeatures">Project Features</h3><p id="fc6316c5">Project features (for example, issue trackers, versioned settings, custom charts, shared resources and third-party report tabs) are exposed as entries under the "project" node and via dedicated requests.</p><p id="307bed6e">List of project features: <a href="http://teamcity:8111/app/rest/projects/<projectLocator&gt;/projectFeatures" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/projects/&lt;projectLocator&gt;/projectFeatures</a>.</p><p id="2677616a">To filter features, add <code class="code">?locator=&lt;projectFeaturesLocator&gt;</code> to the URL, for example to find all issue tracker features of GitHub type, use the locator <code class="code">type:IssueTracker,property(name:type,value:GithubIssues)</code>.</p><p id="425b1344">Create a feature: <code class="code">POST</code> to <code class="code">/projects/&lt;projectLocator&gt;/projectFeatures</code>.</p><p id="813552cf">Edit features: <code class="code">GET/DELETE/PUT</code> <a href="http://teamcity:8111/app/rest/projects/<projectLocator&gt;/projectFeatures/<featureId&gt;" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/projects/&lt;projectLocator&gt;/projectFeatures/&lt;featureId&gt;</a>.</p></div><a name="VCSRoots"></a><a name="VCS-Roots"></a><div class="chapter"><h3 id="RESTAPI-VCSRoots">VCS Roots</h3><p id="f5b4678d">List all VCS roots: <code class="code">GET</code> <a href="http://teamcity:8111/app/rest/vcs-roots" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/vcs-roots</a>.</p><p id="2f865e15">Add the <code class="code">locator=&lt;vcsRootLocator&gt;</code> parameter to list only the matched VCS roots.</p><p id="390475f3">Get details of a VCS root/delete a VCS root: <code class="code">GET/DELETE</code> <a href="http://teamcity:8111/app/rest/vcs-roots/<vcsRootLocator&gt;" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/vcs-roots/&lt;vcsRootLocator&gt;</a>, where <code class="code">&lt;vcsRootLocator&gt;</code> can be <code class="code">id:&lt;internal VCS root id&gt;</code> or other VCS root locator.</p><p id="f8f65835">Create a new VCS root: <code class="code">POST VCS root XML</code> (similar to the one retrieved by a GET request for VCS root details) to <a href="http://teamcity:8111/app/rest/vcs-roots" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/vcs-roots</a>.</p><p id="f2a46f62">Also supported:</p><ul class="list _ul"><li class="list__item" id="245d5182"><code class="code">GET/PUT</code> <a href="http://teamcity:8111/app/rest/vcs-roots/<vcsRootLocator&gt;/properties/<property_name&gt;" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/vcs-roots/&lt;vcsRootLocator&gt;/properties/&lt;property_name&gt;</a></li><li class="list__item" id="89a31662"><code class="code">GET/PUT</code> <a href="http://teamcity:8111/app/rest/vcs-roots/<vcsRootLocator&gt;/<field_name&gt;" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/vcs-roots/&lt;vcsRootLocator&gt;/&lt;field_name&gt;</a></li></ul><p id="8c684d43">where <code class="code">&lt;field_name&gt;</code> is <code class="code">id</code>, <code class="code">name</code>, <code class="code">project</code> (post the project locator to <code class="code">project</code> to associate a VCS root with a specific project).</p><p id="798a60e5">List <b id="e7d3cc3e">VCS root instances</b>: <code class="code">GET</code> <a href="http://teamcity:8111/app/rest/vcs-root-instances?locator=<vcsRootInstancesLocator&gt;" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/vcs-root-instances?locator=&lt;vcsRootInstancesLocator&gt;</a>.</p><p id="0cbb7118">A <a href="vcs-root.html">'VCS root'</a> is the setting configured in the TeamCity UI, a "VCS root instance" is an internal TeamCity entity which is derived from the "VCS root" to perform the actual VCS operation. If a VCS root has no %-references to parameters, a single VCS root corresponds to a single "VCS root instance". If a VCS root has %-reference to a parameter and the reference resolves to a different value when the VCS root is attached to different configurations or when custom builds are run, a single "VCS root" can generate several "VCS root instances".</p><p id="b26279c8"><b id="2869ff56">Since TeamCity 10.0</b>:</p><p id="204e8f33">There are two endpoints dedicated to being used in <a href="configuring-vcs-post-commit-hooks-for-teamcity.html">commit hooks</a> from the version control repositories: <code class="code">POST</code> <a href="http://teamcity:8111/app/rest/vcs-root-instances/checkingForChangesQueue?locator=<vcsRootInstancesLocator&gt;" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/vcs-root-instances/checkingForChangesQueue?locator=&lt;vcsRootInstancesLocator&gt;</a></p><p id="cb78b5ad">It schedules checking for changes for the matched VCS root instances and returns the list of VCS root instances matched (just like <code class="code">GET</code> <a href="http://teamcity:8111/app/rest/vcs-root-instances?locator=<vcsRootInstancesLocator&gt;" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/vcs-root-instances?locator=&lt;vcsRootInstancesLocator&gt;</a>): <code class="code">POST</code> <a href="http://teamcity:8111/app/rest/vcs-root-instances/commitHookNotification?locator=<vcsRootInstancesLocator&gt;" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/vcs-root-instances/commitHookNotification?locator=&lt;vcsRootInstancesLocator&gt;</a></p><p id="ba0967e9">It schedules checking for changes for the matched VCS root instances and returns plain-text human-readable message on the action performed, HTTP response 202 in case of successful operation.</p><p id="8c6c548e">Both perform the same action (put the VCS root instances matched by the <code class="code">&lt;locator&gt;</code>) to the queue for "checking for changes" process and differ only in responses they produce.</p><p id="3e21124f">Note that since the matched VCS root instances are the same as for <code class="code">../app/rest/vcs-root-instances?locator=&lt;locator&gt;</code> request and that means that by default <b id="5f87ec1e">only the first 100 are matched</b> and the rest are ignored. If this limit is reached, consider tweaking the <code class="code">&lt;locator&gt;</code> to match fewer instances (recommended) or increase the limit, for example by adding "<code class="code">,count:1000</code>" to the locator.</p><a name="VCSrootinstancelocator"></a><a name="VCS-root-instance-locator"></a><div class="chapter"><h4 id="RESTAPI-VCSrootinstancelocator">VCS root instance locator</h4><p id="78713cab">Some supported <code class="code">&lt;vcsRootInstancesLocator&gt;</code> from above:</p><ul class="list _ul"><li class="list__item" id="3fc1ff73"><p><code class="code">type:&lt;VCS root type&gt;</code> – VCS root instances of the specified version control (for example, "jetbrains.git", "mercurial", "svn").</p></li><li class="list__item" id="dcaf97b8"><p><code class="code">vcsRoot:(&lt;vcsRootLocator&gt;)</code> – VCS root instances corresponding to the VCS root matched by <code class="code">&lt;vcsRootLocator&gt;</code>.</p></li><li class="list__item" id="1d4546ce"><p><code class="code">buildType:(&lt;buildTypeLocator&gt;)</code> – VCS root instances attached to the matching build configuration.</p></li><li class="list__item" id="9a1a6864"><p><code class="code">property:(name:&lt;name&gt;,value:&lt;value&gt;,matchType:&lt;matching&gt;)</code> – VCS root instances with the property of name <code class="code">&lt;name&gt;</code> and value matching condition <code class="code">&lt;matchType&gt;</code> (for example, equals, contains) by the value <code class="code">&lt;value&gt;</code>.</p></li></ul></div></div><a name="BuildConfigurationAndTemplateSettings"></a><a name="Build-Configuration-And-Template-Settings"></a><div class="chapter"><h3 id="RESTAPI-BuildConfigurationAndTemplateSettings">Build Configuration And Template Settings</h3><p id="5775b80e">Build Configuration/Template details: <code class="code">GET</code> <a href="http://teamcity:8111/app/rest/buildTypes/<buildConfigurationLocator&gt;" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/buildTypes/&lt;buildConfigurationLocator&gt;</a>.</p><p id="9bc0062c">See details on the <a href="#Build-Configuration-Locator">Build Configuration Locator</a>.</p><p id="45557015">Note that there is no transaction, for example support for settings editing in TeamCity, so all the settings modified via REST API are taken into account at once. This can result in half-configured builds triggered and other issues. Make sure you pause a build configuration before changing its settings if this aspect is important for your case.</p><p id="2ce46590">To get aggregated status for several build configurations, see <a href="#Build-Status-Icon">Build Status Icon</a>  section.</p><p id="1a782a0c">Get/set paused build configuration state: <code class="code">GET/PUT</code> <a href="http://teamcity:8111/app/rest/buildTypes/<buildTypeLocator&gt;/paused" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/buildTypes/&lt;buildTypeLocator&gt;/paused</a> (put "true" or "false" text as text/plain).</p><p id="0c80df08">Build configuration settings: <code class="code">GET/DELETE/PUT</code> <a href="http://teamcity:8111/app/rest/buildTypes/<buildTypeLocator&gt;/settings/<setting_name&gt;" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/buildTypes/&lt;buildTypeLocator&gt;/settings/&lt;setting_name&gt;</a>.</p><p id="86fc076c">Build configuration parameters: <code class="code">GET/DELETE/PUT</code> <a href="http://teamcity:8111/app/rest/buildTypes/<buildTypeLocator&gt;/parameters/<parameter_name&gt;" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/buildTypes/&lt;buildTypeLocator&gt;/parameters/&lt;parameter_name&gt;</a>.</p><p id="613e57dd">It produces XML, JSON, and plain text depending on the "Accept" header, accepts plain text, XML, and JSON. The <code class="code">.../parameters/&lt;parameter_name&gt;/name</code> and <code class="code">.../parameters/&lt;parameter_name&gt;/value</code> requests are also supported.</p><p id="04a5c7db">Build configuration steps: <code class="code">GET/DELETE</code> <a href="http://teamcity:8111/app/rest/buildTypes/<buildTypeLocator&gt;/steps/<step_id&gt;" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/buildTypes/&lt;buildTypeLocator&gt;/steps/&lt;step_id&gt;</a>.</p><p id="c9d9d697">Create build configuration step: <code class="code">POST</code> <a href="http://teamcity:8111/app/rest/buildTypes/<buildTypeLocator&gt;/steps" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/buildTypes/&lt;buildTypeLocator&gt;/steps</a>.</p><p id="beeb7cb7">The XML/JSON posted is the same as retrieved by GET request to <code class="code">.../steps/&lt;step_id&gt;</code> except for the secure settings like password: these are not included into responses and should be supplied before POSTing back.`</p><p id="a2215df7">Features, triggers, agent requirements, artifact, and snapshot dependencies follow the same pattern as steps with URLs like:</p><ul class="list _ul"><li class="list__item" id="482def8a"><a href="http://teamcity:8111/app/rest/buildTypes/<buildTypeLocator&gt;/features/<id&gt;" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/buildTypes/&lt;buildTypeLocator&gt;/features/&lt;id&gt;</a></li><li class="list__item" id="1e21c3e3"><a href="http://teamcity:8111/app/rest/buildTypes/<buildTypeLocator&gt;/triggers/<id&gt;" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/buildTypes/&lt;buildTypeLocator&gt;/triggers/&lt;id&gt;</a></li><li class="list__item" id="a656897a"><a href="http://teamcity:8111/app/rest/buildTypes/<buildTypeLocator&gt;/agent-requirements/<id&gt;" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/buildTypes/&lt;buildTypeLocator&gt;/agent-requirements/&lt;id&gt;</a></li><li class="list__item" id="95af58c2"><a href="http://teamcity:8111/app/rest/buildTypes/<buildTypeLocator&gt;/artifact-dependencies/<id&gt;" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/buildTypes/&lt;buildTypeLocator&gt;/artifact-dependencies/&lt;id&gt;</a></li><li class="list__item" id="5a8985f3"><a href="http://teamcity:8111/app/rest/buildTypes/<buildTypeLocator&gt;/snapshot-dependencies/<id&gt;" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/buildTypes/&lt;buildTypeLocator&gt;/snapshot-dependencies/&lt;id&gt;</a></li></ul><p id="7ead943e"><b id="5e7ee9f6">Since TeamCity 10</b>, it is possible to disable/enable artifact dependencies and agent requirements.</p><p id="ac403c9a">Disable/enable an artifact dependency: <code class="code">PUT</code> <a href="http://teamcity:8111/app/rest/buildTypes/<buildTypeLocator&gt;/artifact-dependencies/<id&gt;/disabled" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/buildTypes/&lt;buildTypeLocator&gt;/artifact-dependencies/&lt;id&gt;/disabled</a>.</p><p id="482530b0">Put "true " or "false" text as text/plain.</p><p id="ed5f1a58">Disable/enable an agent requirement: <code class="code">PUT</code> <a href="http://teamcity:8111/app/rest/buildTypes/<buildTypeLocator&gt;/agent-requirements/<id&gt;/disabled" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/buildTypes/&lt;buildTypeLocator&gt;/agent-requirements/&lt;id&gt;/disabled</a>.</p><p id="b9c512c4">Put "true" or "false" text as text/plain.</p><p id="f889c87a">Build configuration VCS roots: <code class="code">GET/DELETE</code> <a href="http://teamcity:8111/app/rest/buildTypes/<buildTypeLocator&gt;/vcs-root-entries/<id&gt;" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/buildTypes/&lt;buildTypeLocator&gt;/vcs-root-entries/&lt;id&gt;</a>.</p><p id="527d4c46">Attach VCS root to a build configuration: <code class="code">POST</code> <a href="http://teamcity:8111/app/rest/buildTypes/<buildTypeLocator&gt;/vcs-root-entries" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/buildTypes/&lt;buildTypeLocator&gt;/vcs-root-entries</a>.</p><p id="4b684673">The XML/JSON posted is the same as retrieved by GET request to <a href="http://teamcity:8111/app/rest/buildTypes/<buildTypeLocator&gt;/vcs-root-entries/<id&gt;" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/buildTypes/&lt;buildTypeLocator&gt;/vcs-root-entries/&lt;id&gt;</a> except for the secure settings like password: these are not included into responses and should be supplied before POSTing back.</p><p id="777cea97">Create a new build configuration with all settings: <code class="code">POST</code> <a href="http://teamcity:8111/app/rest/buildTypes" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/buildTypes</a>.</p><p id="af860238">The XML/JSON posted is the same as retrieved by GET request. Note that <code class="code">/app/rest/project/XXX/buildTypes</code> still uses the previous version notation and accepts another entity.</p><p id="4477d90b">Create a new empty build configuration: <code class="code">POST</code> plain text (name) to <a href="http://teamcity:8111/app/rest/projects/<projectLocator&gt;/buildTypes" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/projects/&lt;projectLocator&gt;/buildTypes</a>.</p><p id="055a1f5a">Copy a build configuration:</p><div class="code-block" data-lang="bash">POST XML &lt;newBuildTypeDescription name='Conf Name' sourceBuildTypeLocator='id:XXX' copyAllAssociatedSettings='true' shareVCSRoots='false'/&gt;
 

</div><p id="6f630c75">to <a href="http://teamcity:8111/app/rest/projects/<projectLocator&gt;/buildTypes" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/projects/&lt;projectLocator&gt;/buildTypes</a>.</p><p id="62ea1375"><b id="2f64f789">Since TeamCity 2017.2</b>:</p><p id="e6a70803">Read, detach, and attach a build configuration from/to a template: <code class="code">GET/DELETE/POST/PUT</code> <a href="http://teamcity:8111/app/rest/buildTypes/<buildTypeLocator&gt;/templates" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/buildTypes/&lt;buildTypeLocator&gt;/templates</a>.</p><p id="6fb65fd3"><b id="a551fa68">Before 2017.2</b>:</p><p id="6a48c7a1">Read, detach, and attach a build configuration from/to a template: <code class="code">GET/DELETE/PUT</code> <a href="http://teamcity:8111/app/rest/buildTypes/<buildTypeLocator&gt;/template" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/buildTypes/&lt;buildTypeLocator&gt;/template</a>.</p><p id="2ecb0b63">Put accepts template locator with the "text/plain" Content-Type).</p><p id="bc9f097b">Set build number counter:</p><div class="code-block" data-lang="bash">curl -v --basic --user &lt;username&gt;:&lt;password&gt; --request PUT http://&lt;teamcity.url&gt;/app/rest/buildTypes/&lt;buildTypeLocator&gt;/settings/buildNumberCounter --data &lt;new number&gt; --header "Content-Type: text/plain"
 

</div><p id="761e089f">Set build number format:</p><div class="code-block" data-lang="bash">curl -v --basic --user &lt;username&gt;:&lt;password&gt; --request PUT http://&lt;teamcity.url&gt;/app/rest/buildTypes/&lt;buildTypeLocator&gt;/settings/buildNumberPattern --data &lt;new format&gt; --header "Content-Type: text/plain"
 

</div><a name="BuildConfigurationLocator"></a><a name="Build-Configuration-Locator"></a><div class="chapter"><h4 id="RESTAPI-BuildConfigurationLocator">Build Configuration Locator</h4><p id="b1d1b9a3">The most frequently used values for <code class="code">&lt;buildTypeLocator&gt;</code> are <code class="code">id:&lt;buildConfigurationOrTemplate_id&gt;</code> and <code class="code">name:&lt;Build%20Configuration%20name&gt;</code>.</p><p id="7a90fbe0"><b id="d74af5ed">Since TeamCity 2017.2</b>, the <i id="e990ee53">experimental</i> <a href="build-configuration.html#Build-Configuration-Types">type</a> locator is supported with one of the values: <code class="code">regular</code>, <code class="code">composite</code>, or <code class="code">deployment</code>.</p><p id="61627c26">Other supported <a href="#Locator">dimensions</a> are (these are in <i id="ad7ab215">experimental</i> state):</p><ul class="list _ul"><li class="list__item" id="554d35dc"><p><code class="code">internalId</code> – internal ID of the build configuration.</p></li><li class="list__item" id="ed95c079"><p><code class="code">project</code> – <code class="code">&lt;projectLocator&gt;</code> to limit the build configurations to those belonging to a single project.</p></li><li class="list__item" id="2c2d4d76"><p><code class="code">affectedProject</code> – <code class="code">&lt;projectLocator&gt;</code> to limit the build configurations under a single project (recursively).</p></li><li class="list__item" id="b7902335"><p><code class="code">template</code> – <code class="code">&lt;buildTypeLocator&gt;</code> of a template to list only build configurations using the template.</p></li><li class="list__item" id="5c24b97e"><p><code class="code">templateFlag</code> – boolean value to get only templates or only non-templates.</p></li><li class="list__item" id="99c05fe7"><p><code class="code">paused</code> – boolean value to filter paused/not paused build configurations.</p></li></ul></div></div><a name="BuildRequests"></a><a name="Build-Requests"></a><div class="chapter"><h3 id="RESTAPI-BuildRequests">Build Requests</h3><p id="5e33c101">List builds: <code class="code">GET</code> <a href="http://teamcity:8111/app/rest/builds/?locator=<buildLocator&gt;" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/builds/?locator=&lt;buildLocator&gt;</a>.</p><p id="2d674d20">Get details of a specific build: <code class="code">GET</code> <a href="http://teamcity:8111/app/rest/builds/<buildLocator&gt;" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/builds/&lt;buildLocator&gt;</a>.</p><p id="cdc46846">Also supports <code class="code">DELETE</code> to delete a build.</p><p id="5b335086">Get the list of build configurations in a project with the status of the last finished build in each build configuration:</p><div class="code-block" data-lang="bash">GET http://teamcity:8111/app/rest/buildTypes?locator=affectedProject:(id:ProjectId)&amp;fields=buildType(id,name,builds($locator(running:false,canceled:false,count:1),build(number,status,statusText)))
 

</div><a name="BuildLocator"></a><a name="Build-Locator"></a><div class="chapter"><h4 id="RESTAPI-BuildLocator">Build Locator</h4><p id="c831a876">Using a <a href="#Locator">locator</a> in build-related requests, you can filter the builds to be returned in the build-related requests. It is referred to as "build locator" in the scope of REST API.</p><p id="aa35ca53">For some requests, a default filtering is applied which returns only "normal" builds (finished builds which are not canceled, not failed-to-start, not personal, and on default branch (in branched build configurations)), unless those types of builds are specifically requested via the locator. To turn off this default filter and process all builds, add the <code class="code">defaultFilter:false</code> dimension to the build locator. Default filtering varies depending on the specified locator dimensions. For example, when <code class="code">agent</code> or <code class="code">user</code> dimensions are present, personal, canceled, and failed to start builds are included into the results.</p><p id="e103aef4">Examples of supported build locators:</p><ul class="list _ul"><li class="list__item" id="af78aea9"><p><code class="code">id:&lt;internal build id&gt;</code> – use <a href="working-with-build-results.html#Internal-Build-ID">internal build ID</a> when you need to refer to a specific build.</p></li><li class="list__item" id="7fb85a52"><p><code class="code">number:&lt;build number&gt;</code> – to find build by build number, provided build configuration is already specified.</p></li><li class="list__item" id="2c35147b"><p><code class="code">&lt;dimension1&gt;:&lt;value1&gt;,&lt;dimension2&gt;:&lt;value2&gt;</code> – to find builds by multiple criteria.</p></li></ul><p id="d89015ad">The list of supported build locator dimensions:</p><ul class="list _ul"><li class="list__item" id="8ab783dc"><p><code class="code">project:&lt;project locator&gt;</code> – limit the list to the builds of the specified project (belonging to any build type directly under the project).</p></li><li class="list__item" id="d3a0b69d"><p><code class="code">affectedProject:&lt;project locator&gt;</code> – limit the list to the builds of the specified project (belonging to any build type directly or indirectly under the project)</p></li><li class="list__item" id="44e703df"><p><code class="code">buildType:(&lt;buildTypeLocator&gt;),defaultFilter:false</code> – all the builds of the specified build configuration</p></li><li class="list__item" id="f5021386"><p><code class="code">tag:&lt;tag&gt;</code> – <b id="bf7bad03">since TeamCity 10</b>, get tagged builds. If a list of tags is specified, for example <code class="code">tag:&lt;tag1&gt;</code>, <code class="code">tag:&lt;tag2&gt;</code>, only the builds containing all the specified tags are returned. The legacy <code class="code">tags:&lt;tags&gt;</code> locator is supported for compatibility.</p></li><li class="list__item" id="013c12e5"><p><code class="code">status:&lt;SUCCESS/FAILURE/ERROR&gt;</code> – list builds with the specified status only.</p></li><li class="list__item" id="70138311"><p><code class="code">user:(&lt;userLocator&gt;)</code> – limit builds to only those triggered by the user specified.</p></li><li class="list__item" id="07bf29db"><p><code class="code">personal:&lt;true/false/any&gt;</code> – limit builds by the personal flag. By default, personal builds are not included.</p></li><li class="list__item" id="52a7900a"><p><code class="code">canceled:&lt;true/false/any&gt;</code> – limit builds by the canceled flag. By default, canceled builds are not included.</p></li><li class="list__item" id="aa28e511"><p><code class="code">failedToStart:&lt;true/false/any&gt;</code> – limit builds by the failed to start flag. By default, canceled builds are not included.</p></li><li class="list__item" id="a02e5e9c"><p><code class="code">state:&lt;queued/running/finished&gt;</code> – limit builds by the specified state.</p></li><li class="list__item" id="155a723e"><p><code class="code">running:&lt;true/false/any&gt;</code> – limit builds by the running flag. By default, running builds are not included.</p></li><li class="list__item" id="5c4b1a2b"><p><code class="code">state:running,hanging:true</code> – fetch hanging builds (<b id="19cb7b33">since TeamCity 10.0</b>).</p></li><li class="list__item" id="a4dc40ab"><p><code class="code">pinned:&lt;true/false/any&gt;</code> – limit builds by the pinned flag.</p></li><li class="list__item" id="3dd76270"><p><code class="code">branch:&lt;branch locator&gt;</code> – limit the builds by branch. <code class="code">&lt;branch locator&gt;</code> can be the branch name displayed in the UI, or <code class="code">(name:&lt;name&gt;,default:&lt;true/false/any&gt;,unspecified:&lt;true/false/any&gt;,branched:&lt;true/false/any&gt;</code>). By default only builds from the default branch are returned. To retrieve all builds, add the following <code class="code">locator: branch:default:any</code>. The whole path will look like this: <code class="code">/app/rest/builds/?locator=buildType:One_Git,branch:default:any</code>.</p></li><li class="list__item" id="2ae64274"><p><code class="code">revision:&lt;REVISION&gt;</code> – find builds by revision, for example all builds of the given build configuration with the revision: <code class="code">/app/rest/builds?locator=revision:(REVISION),buildType:(id:BUILD_TYPE_ID)</code>. See more information <a href="#Revisions">below</a>.</p></li><li class="list__item" id="8dbb3d69"><p><code class="code">agentName:&lt;name&gt;</code> – agent name to return only builds ran on the agent with the specified name.</p></li><li class="list__item" id="2a7b8d52"><p><code class="code">sinceBuild:(&lt;buildLocator&gt;)</code> – limit the list of builds only to those after the one specified</p></li><li class="list__item" id="178ff829"><p><code class="code">sinceDate:&lt;date&gt;</code> – limit the list of builds only to those started after the date specified. The date should be in the same format as dates returned by REST API (for example, <code class="code">20130305T170030+0400</code>).</p></li><li class="list__item" id="dd27475b"><p><code class="code">queuedDate/startDate/finishDate:(date:&lt;time-date&gt;,build:&lt;build locator&gt;,condition:&lt;before/after&gt;)</code> – filter builds based on the time specified by the build locator, for example for the builds finished after November 23, 2017, 20:34:46, GMT+1 timezone use: <code class="code">finishDate:(date:20171123T203446%2B0100,condition:after)</code>.</p></li><li class="list__item" id="79021644"><p><code class="code">count:&lt;number&gt;</code> – serve only the specified number of builds.</p></li><li class="list__item" id="f16b9ed3"><p><code class="code">start:&lt;number&gt;</code> – list the builds from the list starting from the position specified (zero-based).</p></li><li class="list__item" id="8f34dc9b"><p><code class="code">lookupLimit:&lt;number&gt;</code> – limit processing to the latest N builds only (the default is 5000). If none of the latest N builds match the other specified criteria of the build locator, 404 response is returned for single build request and empty collection for multiple builds request. See related note in the <a href="#API-Client-Recommendations">section above</a>.</p></li></ul></div><a name="QueuedBuilds"></a><a name="Queued-Builds"></a><div class="chapter"><h4 id="RESTAPI-QueuedBuilds">Queued Builds</h4><p id="41aba73e"><code class="code">GET</code> <a href="http://teamcity:8111/app/rest/buildQueue" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/buildQueue</a></p><p id="5576142f">Supported locators:</p><ul class="list _ul"><li class="list__item" id="494266ed"><code class="code">project:&lt;locator&gt;</code></li><li class="list__item" id="750520cd"><code class="code">buildType:&lt;locator&gt;</code></li></ul><p id="90c59b93">Get details of a queued build: <code class="code">GET</code> <a href="http://teamcity:8111/app/rest/buildQueue/id:XXX" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/buildQueue/id:XXX</a>.</p><p id="02aa8d57">For queued builds with snapshot dependencies, the revisions are available in the <code class="code">revisions</code> element of the queued build node if a revision is fixed (for regular builds without snapshot dependencies it is not).</p><p id="c6161e11">Get compatible agents for queued builds (useful for builds having "No agents" to run on): <code class="code">GET</code> <a href="http://teamcity:8111/app/rest/buildQueue/id:XXX/compatibleAgents" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/buildQueue/id:XXX/compatibleAgents</a>.</p><p id="3927718d"><b id="c330bd0c">Examples</b>:</p><p id="467d98f2">List queued builds per project: <code class="code">GET</code> <a href="http://teamcity:8111/app/rest/buildQueue?locator=project:<locator&gt;" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/buildQueue?locator=project:&lt;locator&gt;</a>.</p><p id="71e11d8e">List queued builds per build configuration: <code class="code">GET</code>  <a href="http://teamcity:8111/app/rest/buildQueue?locator=buildType:<locator&gt;" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/buildQueue?locator=buildType:&lt;locator&gt;</a>.</p></div><a name="TriggeringaBuild"></a><a name="Triggering-a-Build"></a><div class="chapter"><h4 id="RESTAPI-TriggeringaBuild">Triggering a Build</h4><p id="abe92adb">To start a build, send a <code class="code">POST</code> request to <a href="http://teamcity:8111/app/rest/buildQueue" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/buildQueue</a> with the "build" node (see below) in content – the same node as details of a queued build or finished build. The queued build details will be returned.</p><p id="4e655a29">When the build is started, the request to the queued build (<code class="code">/app/rest/buildQueue/XXX</code>) will return running/finished build data. This way, you can monitor the build completeness by querying build details using the <code class="code">href</code> attribute of the build details returned on build triggering, until the build has the <code class="code">state="finished"</code> attribute.</p></div><a name="Buildnodeexample"></a><a name="Build-node-example"></a><div class="chapter"><h4 id="RESTAPI-Buildnodeexample">Build node example</h4><p id="39fa3408">Basic build for a build configuration:</p><div class="code-block" data-lang="markup">&lt;build&gt;
    &lt;buildType id="buildConfID"/&gt;
&lt;/build&gt;
 

</div><p id="1fba0eb1">Build for a branch marked as personal with a fixed agent, comment and a custom parameter:</p><div class="code-block" data-lang="markup">&lt;build personal="true" branchName="logicBuildBranch"&gt;
    &lt;buildType id="buildConfID"/&gt;
    &lt;agent id="3"/&gt;
    &lt;comment&gt;&lt;text&gt;build triggering comment&lt;/text&gt;&lt;/comment&gt;
    &lt;properties&gt;
        &lt;property name="env.myEnv" value="bbb"/&gt;
    &lt;/properties&gt;
&lt;/build&gt;
 

</div><p id="7c3b6d0f">Queued build assignment to an agent pool:</p><div class="code-block" data-lang="markup">&lt;build&gt;...
  &lt;agent&gt;
    &lt;pool id="N"/&gt;
  &lt;/agent&gt;
...
&lt;/build&gt;
 

</div><p id="e3075fb3">Build on a change of given revision, forced rebuild of all dependencies and clean sources before the build, moved to the build queue top on triggering. (Note that the change should be already known to TeamCity (displayed in UI for the build configuration, more on the <a href="#Changes">"lastChanges" element</a>):</p><div class="code-block" data-lang="markup">&lt;build&gt;
  &lt;triggeringOptions cleanSources="true" rebuildAllDependencies="true" queueAtTop="true"/&gt;
  &lt;buildType id="buildConfID"/&gt;
   &lt;lastChanges&gt;
    &lt;change locator="version:a286767fc1154b0c2b93d5728dd5bbcdefdfaca,buildType:(id:buildConfID)"/&gt;
  &lt;/lastChanges&gt;
&lt;/build&gt;
 

</div><p id="a72bde7d">Example command line for the build triggering:</p><div class="code-block" data-lang="bash">curl -v -u user:password http://teamcity.server.url:8111/app/rest/buildQueue --request POST --header "Content-Type:application/xml" --data-binary @build.xml
 

</div></div><a name="BuildTags"></a><a name="Build-Tags"></a><div class="chapter"><h4 id="RESTAPI-BuildTags">Build Tags</h4><p id="57f27491">Get tags: <code class="code">GET</code> <a href="http://teamcity:8111/app/rest/builds/<buildLocator&gt;/tags/" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/builds/&lt;buildLocator&gt;/tags/</a>.</p><p id="5bb7bfcf">Replace tags: <code class="code">PUT</code> <a href="http://teamcity:8111/app/rest/builds/<buildLocator&gt;/tags/" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/builds/&lt;buildLocator&gt;/tags/</a> (put the same XML or JSON as returned by GET).</p><p id="eef8af6f">Add tags: <code class="code">POST</code> <a href="http://teamcity:8111/app/rest/builds/<buildLocator&gt;/tags/" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/builds/&lt;buildLocator&gt;/tags/</a> (post the same XML or JSON as returned by GET or just a plain-text tag name; <code class="code">&lt;buildLocator&gt;</code> here should match a single build only).</p></div><a name="BuildPinning"></a><a name="Build-Pinning"></a><div class="chapter"><h4 id="RESTAPI-BuildPinning">Build Pinning</h4><p id="f62764e6">Get current pin status: <code class="code">GET</code> <a href="http://teamcity:8111/app/rest/builds/<buildLocator&gt;/pin/" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/builds/&lt;buildLocator&gt;/pin/</a> (returns "true" or "false" text).</p><p id="e80ec4ce">Pin: <code class="code">PUT</code> <a href="http://teamcity:8111/app/rest/builds/<buildLocator&gt;/pin/" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/builds/&lt;buildLocator&gt;/pin/</a> (the text in the request data is added as a comment for the action).</p><p id="15ad3302">Unpin: <code class="code">DELETE</code> <a href="http://teamcity:8111/app/rest/builds/<buildLocator&gt;/pin/" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/builds/&lt;buildLocator&gt;/pin/</a> (the text in the request data is added as a comment for the action; <code class="code">&lt;buildLocator&gt;</code> here should match a single build only).</p></div><a name="BuildCanceling/Stopping"></a><a name="Build-Canceling/Stopping"></a><div class="chapter"><h4 id="RESTAPI-BuildCanceling/Stopping">Build Canceling/Stopping</h4><p id="81968a36">Cancel a running or a queued build: POST the <code class="code">&lt;buildCancelRequest comment='CommentText' readdIntoQueue='false'/&gt;</code> item to the URL of a running or a queued build. Example:</p><div class="code-block" data-lang="bash">curl -v -u user:password --request POST "http://teamcity:8111/app/rest/buildQueue/&lt;buildLocator&gt;" --data "&lt;buildCancelRequest comment='' readdIntoQueue='false' /&gt;" --header "Content-Type: application/xml"
 

</div><p id="85d6332d">Stop a running build and read it to the queue: POST the <code class="code">&lt;buildCancelRequest comment='CommentText' readdIntoQueue='true' /&gt;</code> item to the URL of a running build. Example:</p><div class="code-block" data-lang="bash">curl -v -u user:password --request POST "http://teamcity:8111/app/rest/builds/&lt;buildLocator&gt;" --data "&lt;buildCancelRequest comment='' readdIntoQueue='true' /&gt;" --header "Content-Type: application/xml"
 

</div><p id="1a07ee5d">See the <code class="code">canceledInfo</code> element of the build item (available via <code class="code">GET</code> <a href="http://teamcity:8111/app/rest/builds/<buildLocator&gt;" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/builds/&lt;buildLocator&gt;</a>).</p></div><a name="BuildArtifacts"></a><a name="Build-Artifacts"></a><div class="chapter"><h4 id="RESTAPI-BuildArtifacts">Build Artifacts</h4><p id="212efd73">Return the content of a build artifact file for a build determined by <a href="#Build-Locator"><code class="code">&lt;build_locator&gt;</code></a>: <code class="code">GET</code> <a href="http://teamcity:8111/app/rest/builds/<build_locator&gt;/artifacts/content/<path&gt;" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/builds/&lt;build_locator&gt;/artifacts/content/&lt;path&gt;</a>. <code class="code">&lt;path&gt;</code> can be empty for the root of build's artifacts or be a path within the build's artifacts. The path can span into the archive content, for example, <code class="code">dir/path/archive.zip!/path_within_archive</code>.</p><ul class="list _ul"><li class="list__item" id="fc8dc2cc"><p>Media-Type: application/octet-stream or a more specific media type (determined from artifact file extension).</p></li><li class="list__item" id="89db8aa8"><p>Possible error: 400 if the specified path references a directory.</p></li></ul><p id="21bdf401">Return information about a build artifact: <code class="code">GET</code> <a href="http://teamcity:8111/app/rest/builds/<build_locator&gt;/artifacts/metadata/<path&gt;" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/builds/&lt;build_locator&gt;/artifacts/metadata/&lt;path&gt;</a>.</p><ul class="list _ul"><li class="list__item" id="096decc5"><p>Media-Type: application/xml or application/json.</p></li></ul><p id="ed3dd845">Return the list of artifact children for directories and archives: <code class="code">GET</code> <a href="http://teamcity:8111/app/rest/builds/<build_locator&gt;/artifacts/children/<path&gt;" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/builds/&lt;build_locator&gt;/artifacts/children/&lt;path&gt;</a>.</p><ul class="list _ul"><li class="list__item" id="d54e2308"><p>Media-Type: application/xml or application/json.</p></li><li class="list__item" id="3fa1aa8e"><p>Possible error: 400 if the artifact is neither a directory nor an archive.</p></li></ul><p id="74fc4945">Return an archive containing the list of artifacts under the path specified: <code class="code">GET</code> <a href="http://teamcity:8111/app/rest/builds/<build_locator&gt;/artifacts/archived/<path&gt;?locator=pattern:<wildcard&gt;" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/builds/&lt;build_locator&gt;/artifacts/archived/&lt;path&gt;?locator=pattern:&lt;wildcard&gt;</a>. The optional <code class="code">locator</code> parameter can have file <code class="code">&lt;wildcard&gt;</code> to limit the files only to those matching the <a href="wildcards.html">wildcard</a>. <code class="code">&lt;artifact relative name&gt;</code> supports referencing files under archives using the <code class="code">!/</code> delimiter after the archive name.</p><ul class="list _ul"><li class="list__item" id="89f340ba"><p>Media-Type: application/zip.</p></li><li class="list__item" id="42253693"><p>Possible error: 400 if the artifact is neither a directory nor an archive.</p></li></ul><p id="f7770d35"><b id="0a679941">Examples</b>:</p><div class="code-block" data-lang="bash">GET http://teamcity:8111/app/rest/builds/id:100/artifacts/children/my-great-tool-0.1.jar!/META-INF
GET http://teamcity:8111/app/rest/builds/buildType:(id:Build_Intallers),status:SUCCESS/artifacts/metadata/my-great-tool-0.1.jar!/META-INF/MANIFEST.MF
GET http://teamcity:8111/app/rest/builds/buildType:(id:Build_Intallers),number:16.7.0.2/artifacts/metadata/my-great-tool-0.1.jar!/lib/commons-logging-1.1.1.jar!/META-INF/MANIFEST.MF
GET http://teamcity:8111/app/rest/builds/buildType:(id:Build_Intallers),tag:release/artifacts/content/my-great-tool-0.1.jar!/lib/commons-logging-1.1.1.jar!/META-INF/MANIFEST.MF
    </div></div><a name="Authentication"></a><a name="Authentication"></a><div class="chapter"><h4 id="RESTAPI-Authentication">Authentication</h4><p id="8ad75d9d">If you download artifacts from within a TeamCity build, consider <a href="#REST-Authentication">using</a> values of <code class="code">teamcity.auth.userId/teamcity.auth.password</code> system properties as credentials for the download artifacts request: this way TeamCity will have a way to record that one build used artifacts of another and will display it on the build's <b id="b99a11b9">Dependencies</b> tab.</p></div><a name="OtherBuildRequests"></a><a name="Other-Build-Requests"></a><div class="chapter"><h4 id="RESTAPI-OtherBuildRequests">Other Build Requests</h4></div><a name="Changes"></a><a name="Changes"></a><div class="chapter"><h4 id="RESTAPI-Changes">Changes</h4><p id="d736947f"><code class="code">&lt;changes&gt;</code> is meant to represent changes the same way as displayed in the build's <a href="working-with-build-results.html#Changes">Changes</a> in TeamCity UI. In the most cases these are the commits between the current and previous build. The <code class="code">&lt;changes&gt;</code> tag is not included into the build by default, it has the href attribute only. If you execute the request specified in the href, you'll get the required changes.</p><p id="82434320">Get the list of all changes included into the build: <code class="code">GET http://teamcity:8111/app/rest/changes?locator=build:(id:&lt;buildId&gt;)</code>.</p><p id="9358750e">Get details of an individual change: <code class="code">GET</code> <a href="http://teamcity:8111/app/rest/changes/id:changeId" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/changes/id:changeId</a>.</p><p id="0cc2383d">Get information about a changed file action: the files node lists changed files. The information about the changed file action is reported via the <code class="code">changeType</code> attribute for the files listed as one of the following: <code class="code">added</code>, <code class="code">edited</code>, <code class="code">removed</code>, <code class="code">copied</code> or <code class="code">unchanged</code>.</p><p id="177891f7">Filter all changes by a locator: <code class="code">GET</code> <a href="http://teamcity:8111/app/rest/changes?locator=<changeLocator&gt;" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/changes?locator=&lt;changeLocator&gt;</a>.</p><p id="90ce5eb6">Note that the change ID is the change's internal ID, not the revision. The ID can be seen in the change node listed by the REST API or in the URL of the change details (as <code class="code">modId</code>).</p><p id="9dbd6f51">Get all changes for a project: <code class="code">GET</code> <a href="http://teamcity:8111/app/rest/changes?locator=project:projectId" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/changes?locator=project:projectId</a>.</p><p id="4a483c33">Get all the changes in a build configuration since a particular change identified by its ID: <code class="code">http://teamcity:8111/app/rest/changes?locator=buildType:(id:buildConfigurationId),sinceChange:(id:changeId)</code>.</p><p id="3f0485b6">Get pending changes for a build configuration: <code class="code">http://teamcity:8111/app/rest/changes?locator=buildType:(id:BUILD_CONF_ID),pending:true</code>.</p><p id="2825303b">The <code class="code">&lt;lastChanges&gt;</code> tag contains information about the last commit included into the build. When triggering a build, its nested <code class="code">&lt;change&gt;</code> element can contain the <code class="code">locator</code> field that specifies what change to use for the build triggering.</p></div><a name="Revisions"></a><a name="Revisions"></a><div class="chapter"><h4 id="RESTAPI-Revisions">Revisions</h4><p id="920b6e69">The <code class="code">&lt;revisions&gt;</code> tag the same as revisions table on the build's <a href="working-with-build-results.html#Changes">Changes</a> tab in TeamCity UI: it lists the revisions of all VCS repositories associated with this build that will be checked out by the build on the agent. A revision might or might not correspond to a change known to TeamCity. For example, for a newly created build configuration and a VCS root, a revision will have no corresponding change.</p><p id="00826b65">Get all builds with the specified revision: <code class="code">http://teamcity:8111/app/rest/builds?locator=revision(version:XXXX)</code>.</p><p id="d340094f"><b id="de254efa">Since TeamCity 10</b>,<code class="code">&lt;versionedSettingsRevision&gt;</code> is added to represent revision of the <a href="storing-project-settings-in-version-control.html">versioned settings</a> of the build.</p></div><a name="Snapshotdependencies"></a><a name="Snapshot-dependencies"></a><div class="chapter"><h4 id="RESTAPI-Snapshotdependencies">Snapshot dependencies</h4><p id="ac47d51a">It is possible to retrieve the entire build chain (all snapshot-dependency-linked builds) for a particular build:</p><div class="code-block" data-lang="bash">http://teamcity:8111/app/rest/builds?locator=snapshotDependency:(to:(id:XXXX),includeInitial:true),defaultFilter:false`
 

</div><p id="7f09d72b">This gets all the snapshot dependency builds recursively for the build with ID XXXX.</p><p id="ee2def8b">It possible to find all the snapshot-dependent builds for a particular build:</p><div class="code-block" data-lang="bash">http://teamcity:8111/app/rest/builds?locator=snapshotDependency:(to:(id:XXXX),includeInitial:true),defaultFilter:false`
 

</div></div><a name="Artifactdependencies"></a><a name="Artifact-dependencies"></a><div class="chapter"><h4 id="RESTAPI-Artifactdependencies">Artifact dependencies</h4><p id="b3b69743"><b id="a760d326">Since TeamCity 10.0.3</b>, there is an experimental ability to:</p><p id="de5afe6d">Get all the builds which downloaded artifacts from the build with the given ID (Delivered artifacts in the TeamCity web UI): <code class="code">GET http://teamcity:8111/app/rest/builds?locator=artifactDependency:(from:(id:&lt;build ID&gt;),recursive:false)</code>.</p><p id="16ccbc7a">Get all the builds whose artifacts were downloaded by the build with the given ID (Downloaded artifacts in the TeamCity web UI): <code class="code">GET http://teamcity:8111/app/rest/builds?locator=artifactDependency:(to:(id:&lt;build ID&gt;),recursive:false)</code>.</p></div><a name="BuildParameters"></a><a name="Build-Parameters"></a><div class="chapter"><h4 id="RESTAPI-BuildParameters">Build Parameters</h4><p id="99196fe9">Get the <a href="predefined-build-parameters.html">parameters</a> of a build: <a href="http://teamcity:8111/app/rest/builds/id:<build_id&gt;/resulting-properties" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/builds/id:&lt;build_id&gt;/resulting-properties</a>.</p></div><a name="BuildFields"></a><a name="Build-Fields"></a><div class="chapter"><h4 id="RESTAPI-BuildFields">Build Fields</h4><p id="34e52c5c">Get single build's field: <code class="code">GET</code> <a href="http://teamcity:8111/app/rest/builds/<buildLocator&gt;/<field_name&gt;" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/builds/&lt;buildLocator&gt;/&lt;field_name&gt;</a>. This accepts/produces text/plain where <code class="code">&lt;field_name&gt;</code> is one of <code class="code">number</code>, <code class="code">status</code>, <code class="code">id</code>, <code class="code">branchName</code>, and other build's bean attributes.</p></div><a name="Statistics"></a><a name="Statistics"></a><div class="chapter"><h4 id="RESTAPI-Statistics">Statistics</h4><p id="766abd4a">Get statistics for a single build: <code class="code">GET</code> <a href="http://teamcity:8111/app/rest/builds/<buildLocator&gt;/statistics/" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/builds/&lt;buildLocator&gt;/statistics/</a>.Only standard/bundled statistic values are listed. See also <a href="custom-chart.html">Custom Charts</a>.</p><p id="61c7e2c9">Get single build statistics value: <code class="code">GET</code> <a href="http://teamcity:8111/app/rest/builds/<buildLocator&gt;/statistics/<value_name&gt;" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/builds/&lt;buildLocator&gt;/statistics/&lt;value_name&gt;</a>.</p><p id="c8c1f628">Get statistics for a list of builds:</p><div class="code-block" data-lang="bash">GET http://teamcity:8111/app/rest/builds?locator=BUILDS_LOCATOR&amp;fields=build(id,number,status,buildType(id,name,projectName),statistics(property(name,value)))`
 

</div></div><a name="BuildLog"></a><a name="Build-Log"></a><div class="chapter"><h4 id="RESTAPI-BuildLog">Build Log</h4><p id="8c3ca481">Downloading build logs via a REST request is not supported, but there is a way to download the log files described <a href="build-log.html#Viewing-Build-Log">here</a>.</p></div></div><a name="TestsandBuildProblems"></a><a name="Tests-and-Build-Problems"></a><div class="chapter"><h3 id="RESTAPI-TestsandBuildProblems">Tests and Build Problems</h3><p id="39881070">List build problems: <code class="code">GET http://teamcity:8111/app/rest/problemOccurrences?locator=build:(BUILD_LOCATOR)</code>.</p><p id="474b6dc6">List tests: <code class="code">GET http://teamcity:8111/app/rest/testOccurrences?locator=&lt;locator dimension&gt;:&lt;value&gt;</code>.</p><p id="210536b6"><b id="f7d11835">Supported locators</b>:</p><ul class="list _ul"><li class="list__item" id="53508278"><p><code class="code">build:(&lt;build locator&gt;)</code> – test run in the build.</p></li><li class="list__item" id="9576b5ac"><p><code class="code">build:(&lt;build locator&gt;),muted:true</code> – failed tests which were muted in the build.</p></li><li class="list__item" id="284aa72d"><p><code class="code">currentlyFailing:true,affectedProject:&lt;project_locator&gt;</code> – tests currently failing under the project specified (recursively).</p></li><li class="list__item" id="fb01e67b"><p><code class="code">currentlyMuted:true,affectedProject:&lt;project_locator&gt;</code> – tests currently muted under the project specified (recursively). See also project's Muted Problems tab.</p></li></ul><p id="b138a1d8"><b id="ab7a8005">Examples</b>:</p><p id="e36adafb">List all build's tests: <code class="code">GET</code> <a href="http://teamcity:8111/app/rest/testOccurrences?locator=build:<buildLocator&gt;" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/testOccurrences?locator=build:&lt;buildLocator&gt;</a>.</p><p id="a589e67a">Get individual test history: <code class="code">GET</code> <a href="http://teamcity:8111/app/rest/testOccurrences?locator=test:<testLocator&gt;" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/testOccurrences?locator=test:&lt;testLocator&gt;</a>.</p><p id="164df87d">List build's tests which were muted when the build ran: <code class="code">GET http://teamcity:8111/app/rest/testOccurrences?locator=build:(id:XXX),muted:true</code>.</p><p id="978911b1">List currently muted tests (muted since the failure): <code class="code">GET http://teamcity:8111/app/rest/testOccurrences?locator=build:(id:XXX),currentlyMuted:true</code>.</p><p id="11177af1"><b id="85d3e1eb">Supported test locators</b>:</p><ul class="list _ul"><li class="list__item" id="4a574037"><p><code class="code">id:&lt;internal test id&gt;</code> available as a part of the URL on the test history page</p></li><li class="list__item" id="f7ad9aed"><code class="code">name:&lt;full test name&gt;</code></li></ul><p id="e49ca7de"><b id="ed98b226">Since TeamCity 10</b>, there is experimental support for exposing single test invocations / runs:</p><p id="963d0618">Get invocations of a test:</p><div class="code-block" data-lang="bash">http://teamcity:8111/app/rest/testOccurrences?locator=build:(id:XXX),test:(id:XXX)&amp;fields=$long,testOccurrence($short,invocations($long))

</div><p id="8d561d04">List all test runs with all the invocations flattened:</p><div class="code-block" data-lang="bash">GET http://teamcity:8111/app/rest/testOccurrences?locator=build:(id:XXX),test:(id:XXX),expandInvocations:true
 

</div><a name="MutedTestsandBuildProblems"></a><a name="Muted-Tests-and-Build-Problems"></a><div class="chapter"><h4 id="RESTAPI-MutedTestsandBuildProblems">Muted Tests and Build Problems</h4><p id="d57e738f"><b id="db8342b2">Since TeamCity 2017.2</b></p><p id="1f696fd0">List all muted tests and build problems: <code class="code">GET</code> <a href="http://teamcity:8111/app/rest/mutes" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/mutes</a>.</p><p id="502d214c">Unmute a test or build problems: <code class="code">DELETE</code> <a href="http://teamcity:81111/app/rest/mutes/id:XXXX" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:81111/app/rest/mutes/id:XXXX</a>.</p><p id="0f107150">Mute a test or build problems: <code class="code">POST</code> to <a href="http://teamcity:8111/app/rest/mutes" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/mutes</a>. Use the same XML or JSON as returned by <code class="code">GET</code>.</p></div></div><a name="Investigations"></a><a name="Investigations"></a><div class="chapter"><h3 id="RESTAPI-Investigations">Investigations</h3><p id="aa4e4fd9">List investigations in the Root project and its subprojects: <a href="http://teamcity:8111/app/rest/investigations" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/investigations</a>.</p><p id="796e9b7e"><b id="ff3e931d">Supported locators:</b></p><ul class="list _ul"><li class="list__item" id="c787bfe7"><code class="code">test: (id:TEST_NAME_ID)</code></li><li class="list__item" id="2b4db566"><code class="code">test: (name:FULL_TEST_NAME)</code></li><li class="list__item" id="1cb3130d"><code class="code">assignee: (&lt;user_locator&gt;)</code></li><li class="list__item" id="b95f394e"><code class="code">buildType:(id:XXXX)</code></li></ul><p id="9dc370e2">Get investigations for a specific test:</p><div class="code-block" data-lang="bash">http://teamcity:8111/app/rest/investigations?locator=test:(id:TEST_NAME_ID)
http://teamcity:8111/app/rest/investigations?locator=test:(name:FULL_TEST_NAME)
 

</div><p id="a3b62e69">Get investigations assigned to a user: <code class="code">http://teamcity:8111/app/rest/investigations?locator=assignee:(&lt;user locator&gt;)</code>.</p><p id="1170c0b8">Get investigations for a build configuration: <code class="code">http://teamcity:8111/app/rest/investigations?locator=buildType:(id:XXXX)</code>.</p><p id="7f747c9e">To assign/replace investigations: <code class="code">POST/PUT</code> to <a href="http://teamcity:8111/app/rest/investigations" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/investigations</a> (accepts a single investigation) and experimental <i id="593d633e">support for multiple investigations</i>: <code class="code">POST/PUT</code> to <a href="http://teamcity:8111/app/rest/investigations/multiple" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/investigations/multiple</a> (accepts a list of investigations). Use the same XML or JSON as returned by GET.</p></div><a name="Agents"></a><a name="Agents"></a><div class="chapter"><h3 id="RESTAPI-Agents">Agents</h3><p id="1f9d6e9c">List agents (only authorized agents are included by default): <code class="code">GET</code> <a href="http://teamcity:8111/app/rest/agents" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/agents</a>.</p><p id="dd950888">List all connected authorized agents: <code class="code">GET</code> <a href="http://teamcity:8111/app/rest/agents?locator=connected:true,authorized:true" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/agents?locator=connected:true,authorized:true</a>.</p><p id="d792c3e4">List all authorized agents: <code class="code">GET</code> <a href="http://teamcity:8111/app/rest/agents?locator=authorized:true" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/agents?locator=authorized:true</a>.</p><p id="3809a823">List all enabled authorized agents: <code class="code">GET http://teamcity:8111/app/rest/agents?locator=enabled:true,authorized:true</code>.</p><p id="7f5289f3">List all agents (including unauthorized): <code class="code">GET</code> <a href="http://teamcity:8111/app/rest/agents?locator=authorized:any" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/agents?locator=authorized:any</a>.The request uses default filtering (depending on the specified locator dimensions, others can have default implied value). To disable this filtering, add <code class="code">,defaultFilter:false</code> to the locator.</p><p id="6b04b965">Enable/disable an agent: <code class="code">PUT</code> <a href="http://teamcity:8111/app/rest/agents/<agentLocator&gt;/enabled" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/agents/&lt;agentLocator&gt;/enabled</a> (put "true" or "false" text as text/plain). See an <a href="http://devnet.jetbrains.net/message/5462246#5462246" data-external="true" target="_blank" rel="noopener noreferrer">example</a>.</p><p id="ef9b346b">Authorize/unauthorize an agent: <code class="code">PUT</code> <a href="http://teamcity:8111/app/rest/agents/<agentLocator&gt;/authorized" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/agents/&lt;agentLocator&gt;/authorized</a> (put "true" or "false" text as text/plain).</p><p id="056c8223">Add a comment when enabling/disabling and authorizing/unauthorizing an agent:</p><p id="4dd9800b">Agent enabled/authorized data is exposed in the <code class="code">enabledInfo</code> and <code class="code">authorizedInfo</code> nodes:</p><div class="code-block" data-lang="markup">&lt;agent id="1" name="agentName" typeId="1" connected="true" enabled="true" authorized="true" uptodate="true" ip="..........." href="/app/rest/agents/id:1"&gt;
 &lt;enabledInfo status="true"&gt;
  &lt;comment&gt;
   &lt;user username="userName" id="1" href="/app/rest/users/id:1"/&gt;
   &lt;timestamp&gt;20160406T175040+0300&lt;/timestamp&gt;
   &lt;text&gt;newcomment&lt;/text&gt;
  &lt;/comment&gt;
 &lt;/enabledInfo&gt;
 &lt;authorizedInfo status="true"&gt;
  &lt;comment&gt;
   &lt;user username="userName" id="1" href="/app/rest/users/id:1"/&gt;
   &lt;timestamp&gt;20160406T183033+0300&lt;/timestamp&gt;
  &lt;/comment&gt;
 &lt;/authorizedInfo&gt;
....
&lt;/agent&gt;
 

</div><p id="6deeeace"><code class="code">GET</code> and <code class="code">PUT</code> requests are supported to the following URLs: <a href="http://teamcity:8111/app/rest/agents/<agentLocator&gt;/enabledInfo" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/agents/&lt;agentLocator&gt;/enabledInfo</a> and <a href="http://teamcity:8111/app/rest/agents/<agentLocator&gt;/authorized" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/agents/&lt;agentLocator&gt;/authorized</a>.</p><p id="6b5bc74b">On <code class="code">PUT</code> only status and comment/text sub-items are taken into account:</p><div class="code-block" data-lang="bash">curl -v -u user:password --request PUT "http://teamcity:8111/app/rest/agents/id:1/enabledInfo" --data "&lt;enabledInfo status='false'&gt;&lt;comment&gt;&lt;text&gt;commentText&lt;/text&gt;&lt;/comment&gt;&lt;/enabledInfo&gt;" --header "Content-Type:application/xml
 

</div><p id="35a16513">Get/PUT agent's single field: <code class="code">GET/PUT</code> <a href="http://teamcity:8111/app/rest/agents/<agentLocator&gt;/<field_name&gt;" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/agents/&lt;agentLocator&gt;/&lt;field_name&gt;</a>.</p><p id="9592d4ea">Delete a build agent: <code class="code">DELETE</code> <a href="http://teamcity:8111/app/rest/agents/<agentLocator&gt;" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/agents/&lt;agentLocator&gt;</a>.</p><a name="AgentPools"></a><a name="Agent-Pools"></a><div class="chapter"><h4 id="RESTAPI-AgentPools">Agent Pools</h4><p id="a5722465">List all agent pools: <code class="code">GET</code> <a href="http://teamcity:8111/app/rest/agentPools" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/agentPools</a>.</p><p id="417521c1">Get/modify/remove an agent pool with id "ID": <code class="code">GET/PUT/DELETE</code> <a href="http://teamcity:8111/app/rest/agentPools/id:ID" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/agentPools/id:ID</a>.</p><p id="4da54dde">Add an agent pool: <code class="code">POST</code> the <code class="code">agentPool name='PoolName'</code> element to <a href="http://teamcity:8111/app/rest/agentPools" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/agentPools</a>.</p><p id="9174603b">Move an agent to the pool from the previous pool: <code class="code">POST &lt;agent id='YYY'/&gt;</code> to the pool's agents <a href="http://teamcity.url/app/rest/agentPools/id:XXX/agents" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity.url/app/rest/agentPools/id:XXX/agents</a>.</p><p id="92eb7e16">Example:</p><div class="code-block" data-lang="bash">curl -v -u user:password [http://teamcity.url/app/rest/agentPools/id:XXX/agents](http://teamcity.url/app/rest/agentPools/id:XXX/agents) --request POST --header "Content-Type:application/xml" --data "&lt;agent id='1'/&gt;"
 

</div></div><a name="AssigningProjectstoAgentPools"></a><a name="Assigning-Projects-to-Agent-Pools"></a><div class="chapter"><h4 id="RESTAPI-AssigningProjectstoAgentPools">Assigning Projects to Agent Pools</h4><p id="430f99df">Add a project to a pool: <code class="code">POST</code> the <code class="code">&lt;project&gt;</code> node to <a href="http://teamcity.url/app/rest/agentPools/id:XXX/projects" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity.url/app/rest/agentPools/id:XXX/projects</a>.</p><p id="f2747a9c">Delete a project from a pool: <code class="code">DELETE</code> <a href="http://teamcity.url/app/rest/agentPools/id:XXX/projects/id:YYY" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity.url/app/rest/agentPools/id:XXX/projects/id:YYY</a>.</p></div></div><a name="Users"></a><a name="Users"></a><div class="chapter"><h3 id="RESTAPI-Users">Users</h3><p id="b6a3a016">List of users: <code class="code">GET</code> <a href="http://teamcity:8111/app/rest/users" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/users</a>.</p><p id="7f50e175">Get specific user details: <code class="code">GET</code> <a href="http://teamcity:8111/app/rest/users/<userLocator&gt;" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/users/&lt;userLocator&gt;</a>.</p><p id="4cb9f807">Create a user: <code class="code">POST</code> <a href="http://teamcity:8111/app/rest/users" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/users</a>.</p><p id="a4d3e186">Update/remove specific user: <code class="code">PUT/DELETE</code> <a href="http://teamcity:8111/app/rest/users/<userLocator&gt;" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/users/&lt;userLocator&gt;</a>.</p><p id="91658927">For the <code class="code">POST</code> and <code class="code">PUT</code> requests for a user, post data in the form retrieved by the corresponding GET request. Only the following attributes/elements are supported: name, username, email, password, roles, groups, properties.</p><p id="2606e2e5">Work with user roles: <a href="http://teamcity:8111/app/rest/users/<userLocator&gt;/roles" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/users/&lt;userLocator&gt;/roles</a>.</p><p id="7c3a2565"><code class="code">&lt;userLocator&gt;</code> can be of a form:</p><ul class="list _ul"><li class="list__item" id="7dcb8084"><p><code class="code">id:&lt;internal user id&gt;</code> – to reference the user by internal ID</p></li><li class="list__item" id="5162d164"><p><code class="code">username:&lt;user's username&gt;</code> – to reference the user by username/login name</p></li></ul><p id="15d3eb28">User's single field: <code class="code">GET/PUT</code> <a href="http://teamcity:8111/app/rest/users/<userLocator&gt;/<field_name&gt;" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/users/&lt;userLocator&gt;/&lt;field_name&gt;</a>.</p><p id="6632d346">User's single property: <code class="code">GET/DELETE/PUT</code> <a href="http://teamcity:8111/app/rest/users/<userLocator&gt;/properties/<property_name&gt;" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/users/&lt;userLocator&gt;/properties/&lt;property_name&gt;</a>.</p></div><a name="UserGroups"></a><a name="User-Groups"></a><div class="chapter"><h3 id="RESTAPI-UserGroups">User Groups</h3><p id="eff29010">List of groups: <code class="code">GET</code> <a href="http://teamcity:8111/app/rest/userGroups" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/userGroups</a>.</p><p id="c32d9332">List of users within a group: <code class="code">GET</code> <a href="http://teamcity:8111/app/rest/userGroups/key:Group_Key" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/userGroups/key:Group_Key</a>.</p><p id="7627c55d">Create a group: <code class="code">POST</code> <a href="http://teamcity:8111/app/rest/userGroups" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/userGroups</a>.</p><p id="f69b7821">Delete a group: <code class="code">DELETE</code> <a href="http://teamcity:8111/app/rest/userGroups/key:Group_Key" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/userGroups/key:Group_Key</a>.</p></div><a name="UserAccessTokens"></a><a name="User-Access-Tokens"></a><div class="chapter"><h3 id="RESTAPI-UserAccessTokens">User Access Tokens</h3><p id="cfae71df">List of access tokens: <code class="code">GET</code> <a href="http://teamcity:8111/app/rest/users/<userLocator&gt;/tokens" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/users/&lt;userLocator&gt;/tokens</a>.</p><p id="3625b637">Create an access token: <code class="code">POST</code> <a href="http://teamcity:8111/app/rest/users/<userLocator&gt;/tokens/<tokenName&gt;" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/users/&lt;userLocator&gt;/tokens/&lt;tokenName&gt;</a>.</p><p id="af7e0953">Delete an access token: <code class="code">DELETE</code> <a href="http://teamcity:8111/app/rest/users/<userLocator&gt;/tokens/<tokenName&gt;" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/users/&lt;userLocator&gt;/tokens/&lt;tokenName&gt;</a>.</p></div><a name="AuditRecords"></a><a name="Audit-Records"></a><div class="chapter"><h3 id="RESTAPI-AuditRecords">Audit Records</h3><p id="43aa4a0c">To access the records of user actions, also available on the <b id="758ca728"><a href="tracking-user-actions.html">Audit</a></b> page in TeamCity, use the following request:</p><p id="88b4a702"><code class="code">GET</code> <a href="http://teamcity:8111/app/rest/audit" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/audit</a></p><p id="f3ea9222">You can filter records by user, system action, build type, and so on (use <code class="code">GET</code> <a href="http://teamcity:8111/app/rest/audit?locator=$help" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/audit?locator=$help</a> to see all available filters).</p></div></div><a name="Other"></a><a name="Other"></a><div class="chapter"><h2 id="RESTAPI-Other">Other</h2><a name="DataBackup"></a><a name="Data-Backup"></a><div class="chapter"><h3 id="RESTAPI-DataBackup">Data Backup</h3><p id="d2775ad9">Start backup:</p><div class="code-block" data-lang="bash">POST http://teamcity:8111/app/rest/server/backup?includeConfigs=true&amp;includeDatabase=true&amp;includeBuildLogs=true&amp;fileName=
 

</div><p id="589d974b">where <code class="code">&lt;fileName&gt;</code> is the prefix of the file to save backup to. The file will be created in the default backup directory (see <a href="creating-backup-from-teamcity-web-ui.html">more</a>). Get current backup status (idle/running): <code class="code">GET</code>  <a href="http://teamcity:8111/app/rest/server/backup" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/server/backup</a>.</p></div><a name="TypedParametersSpecification"></a><a name="Typed-Parameters-Specification"></a><div class="chapter"><h3 id="RESTAPI-TypedParametersSpecification">Typed Parameters Specification</h3><p id="df758783">List <a href="typed-parameters.html">typed parameters</a>:</p><ul class="list _ul"><li class="list__item" id="be569818"><p>For a project: <a href="http://teamcity:8111/app/rest/projects/<locator&gt;/parameters" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/projects/&lt;locator&gt;/parameters</a></p></li><li class="list__item" id="fa27c526"><p>For a build configuration: <a href="http://teamcity:8111/app/rest/buildTypes/<locator&gt;/parameters" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/buildTypes/&lt;locator&gt;/parameters</a></p></li></ul><p id="822371a6">The information returned is: <code class="code">parameters count</code>, <code class="code">property name</code>, <code class="code">value</code>, and <code class="code">type</code>. The <code class="code">rawValue</code> of the <code class="code">type</code> element is the <a href="typed-parameters.html#Adding-Parameter-Specification">parameter specification</a> as defined in the UI.</p><p id="4c8b310d">Get details of a specific parameter: <code class="code">GET</code> to <a href="http://teamcity:8111/app/rest/buildTypes/<locator&gt;/parameters/<name&gt;" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/buildTypes/&lt;locator&gt;/parameters/&lt;name&gt;</a>.</p><p id="c7c9959f">Accepts/returns plain-text, XML, JSON. Supply <a href="#Response-Formats">the relevant Content-Type header</a> to the request.</p><p id="870fbbc9">Create a new parameter: <code class="code">POST</code> the same XML or JSON or just plain-text as returned by <code class="code">GET</code> to <a href="http://teamcity:8111/app/rest/buildTypes/<locator&gt;/parameters/" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/buildTypes/&lt;locator&gt;/parameters/</a>. Note that <a href="typed-parameters.html">secure parameters</a>, for example <code class="code">type=password</code>, are listed, but the values not included into response, so the result should be amended before POSTing back.</p><p id="d203d480"><b id="5e3ef523">Since TeamCity 9.1</b>, partial updates of a parameter are possible (currently in an experimental state):</p><ul class="list _ul"><li class="list__item" id="3ba87588"><p>Name: <code class="code">PUT</code> the same XML or JSON as returned by <code class="code">GET</code> to <a href="http://teamcity:8111/app/rest/buildTypes/<locator&gt;/parameters/NAME" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/buildTypes/&lt;locator&gt;/parameters/NAME</a></p></li><li class="list__item" id="67dd03e9"><p>Type: <code class="code">GET/PUT</code> accepting XML and JSON as returned by <code class="code">GET</code> to the URL <a href="http://teamcity:8111/app/rest/buildTypes/<locator&gt;/parameters/NAME/type" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/buildTypes/&lt;locator&gt;/parameters/NAME/type</a></p></li><li class="list__item" id="879f3402"><p>Type's rawValue: <code class="code">GET/PUT</code> accepting plain text <a href="http://teamcity:8111/app/rest/buildTypes/<locator&gt;/parameters/NAME/type/rawValue" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/buildTypes/&lt;locator&gt;/parameters/NAME/type/rawValue</a></p></li></ul></div><a name="BuildStatusIcon"></a><a name="Build-Status-Icon"></a><div class="chapter"><h3 id="RESTAPI-BuildStatusIcon">Build Status Icon</h3><p id="142f664b">Icon that represents a build status:</p><ul class="list _ul"><li class="list__item" id="a676d922"><p>An .svg icon (<b id="d79163a3">recommended</b>): <code class="code">GET</code> <a href="http://teamcity:8111/app/rest/builds/<buildLocator&gt;/statusIcon.svg" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/builds/&lt;buildLocator&gt;/statusIcon.svg</a></p></li><li class="list__item" id="f7a9c2d4"><p>A .png icon: <code class="code">GET</code> <a href="http://teamcity:8111/app/rest/builds/<buildLocator&gt;/statusIcon" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/builds/&lt;buildLocator&gt;/statusIcon</a></p></li><li class="list__item" id="7bd905fd"><p>Icon that represents build status for several builds (<b id="191e1df5">since TeamCity 10.0</b>): <code class="code">GET</code> request and <code class="code">strob</code> build locator dimension.</p></li></ul><p id="15968ae5"><b id="3342df67">Example request</b>:</p><p id="20ca9743">For project with the <code class="code">PROJECT_ID</code> ID:</p><div class="code-block" data-lang="bash">GET http://teamcity:8111/app/rest/builds/aggregated/strob:(buildType:(project:(id:PROJECT_ID)))/statusIcon.svg
 

</div><p id="e8969e7d">For all active branches in a build configuration with the <code class="code">BUILD_CONF_ID</code> ID:</p><div class="code-block" data-lang="bash">GET http://teamcity:8111/app/rest/builds/aggregated/strob:(branch:(buildType:(id:BUILD_CONF_ID),policy:active_history_and_active_vcs_branches),locator:(buildType:(id:BUILD_CONF_ID)))/statusIcon.svg
 

</div><p id="82301858">For request <code class="code">/app/rest/builds/aggregated/&lt;build locator&gt;</code> the status is calculated by list of the builds: <code class="code">app/rest/builds?locator=&lt;build locator&gt;</code>. This allows embedding a build status icon into any HTML page with a simple <code class="code">img</code> tag:</p><p id="be97e6e1">For build configuration with the <code class="code">BUILD_CONF_ID</code> ID:</p><p id="90cc823d">Status of the last build:</p><div class="code-block" data-lang="markup">&lt;img src="http://teamcity:8111/app/rest/builds/buildType:(id:BUILD_CONF_ID)/statusIcon"/&gt;
 

</div><p id="e617afc8">Status of the last build tagged with the <code class="code">myTag</code> tag:</p><div class="code-block" data-lang="markup">&lt;img src="http://teamcity:8111/app/rest/builds/buildType:(id:BUILD_CONF_ID),tag:myTag/statusIcon"/&gt;
 

</div><p id="9440e8bd"><img alt="BuildSuccessfulStatus.png" title="BuildSuccessfulStatus.png" src="/help/img/teamcity/2019.1/BuildSuccessfulStatus.png" id="d4a1898c" width="106" height="20" class="inline-icon-106"></p><p id="50906a58">All other <a href="#Build-Locator">build locators</a> are supported.</p><p id="749d9618">For example, you can use the following markdown markup to add the build status for GitHub repository for the build configuration with ID <code class="code">TeamCityPluginsByJetBrains_TeamcityGoogleTagManagerPlugin_Build</code> and server <a href="https://teamcity.jetbrains.com" data-external="true" target="_blank" rel="noopener noreferrer">https://teamcity.jetbrains.com</a> with guest authentication enabled:</p><div class="code-block" data-lang="markup">[![Build status](https://teamcity.jetbrains.com/guestAuth/app/rest/builds/buildType:(id:TeamCityPluginsByJetBrains_TeamcityGoogleTagManagerPlugin_Build)/statusIcon.svg)](https://teamcity.jetbrains.com/viewType.html?buildTypeId=TeamCityPluginsByJetBrains_TeamcityGoogleTagManagerPlugin_Build)
 

</div><p id="7f774672">If the returned image contains "no permission to get data" text (<img alt="no-permission-to-get-data.png" title="no-permission-to-get-data.png" src="/help/img/teamcity/2019.1/no-permission-to-get-data.png" id="0d569cc9" width="201" height="20" class="inline-icon-201">), ensure that one of the following is true:</p><ul class="list _ul"><li class="list__item" id="61682229"><p>The server has the <a href="guest-user.html">guest user access</a> enabled, and the guest user has permissions to access the build configuration referenced, or</p></li><li class="list__item" id="6f0d4b50"><p>The build configuration referenced has the "enable status widget" <a href="configuring-general-settings.html#Enable-Status-Widget">option</a> <b id="929f9037">ON</b>.</p></li><li class="list__item" id="bf74a99a"><p>You are logged in to the TeamCity server in the same browser and you have permissions to view the build configuration referenced. Note that this will not help for embedded images in GitHub pages as GitHub retrieves the images from the server side.</p></li></ul></div><a name="TeamCityLicensingInformationRequests"></a><a name="TeamCity-Licensing-Information-Requests"></a><div class="chapter"><h3 id="RESTAPI-TeamCityLicensingInformationRequests">TeamCity Licensing Information Requests</h3><p id="de1a0c61"><b id="859a0a00">Since TeamCity 10</b>:</p><p id="5692b659">Licensing information: <code class="code">GET</code> <a href="http://teamcity:8111/app/rest/server/licensingData" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/server/licensingData</a>.</p><p id="aab2a1e7">List of license keys: <code class="code">GET</code> <a href="http://teamcity:8111/app/rest/server/licensingData/licenseKeys" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/server/licensingData/licenseKeys</a>.</p><p id="ace4b369">License key details: <code class="code">GET</code> <a href="http://teamcity:8111/app/rest/server/licensingData/licenseKeys/<license_key&gt;" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/server/licensingData/licenseKeys/&lt;license_key&gt;</a>.</p><p id="6c27597b">Add license key(s): <code class="code">POST</code> text/plain newline-delimited keys to <a href="http://teamcity:8111/app/rest/server/licensingData/licenseKeys" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/server/licensingData/licenseKeys</a>.</p><p id="cdaf047a">Delete a license key: <code class="code">DELETE</code> <a href="http://teamcity:8111/app/rest/server/licensingData/licenseKeys/<license_key&gt;" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/server/licensingData/licenseKeys/&lt;license_key&gt;</a>.</p></div><a name="CCTray"></a><a name="CCTray"></a><div class="chapter"><h3 id="RESTAPI-CCTray">CCTray</h3><p id="c2b70596">CCTray-compatible XML is available via <a href="http://teamcity:8111/app/rest/cctray/projects.xml" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/app/rest/cctray/projects.xml</a>.</p><p id="95f87922">Without authentication (only build configurations available for guest user): <a href="http://teamcity:8111/guestAuth/app/rest/cctray/projects.xml" data-external="true" target="_blank" rel="noopener noreferrer">http://teamcity:8111/guestAuth/app/rest/cctray/projects.xml</a>.</p><p id="d7234a57">The CCTray-format XML does not include paused build configurations by default. The URL accepts the <code class="code">locator</code> parameter instead with standard <a href="#Build-Configuration-Locator">build configuration locator</a>.</p></div></div><a name="RequestExamples"></a><a name="Request-Examples"></a><div class="chapter"><h2 id="RESTAPI-RequestExamples">Request Examples</h2><a name="RequestSendingTool"></a><a name="Request-Sending-Tool"></a><div class="chapter"><h3 id="RESTAPI-RequestSendingTool">Request Sending Tool</h3><p id="9e25b734">You can use <a href="http://en.wikipedia.org/wiki/CURL" data-external="true" target="_blank" rel="noopener noreferrer">curl</a> command line tool to interact with the TeamCity REST API.</p><p id="feb7bb1c">Example command:</p><div class="code-block" data-lang="bash">curl -v --basic --user USERNAME:PASSWORD --request POST "http://teamcity:8111/app/rest/users/" --data @data.xml --header "Content-Type: application/xml"
 

</div><p id="2b544bce">where <code class="code">USERNAME</code>, <code class="code">PASSWORD</code>, <code class="code">teamcity:8111</code> are to be substituted with real values, and <code class="code">data.xml</code> file contains the data to send to the server.</p><a name="Creatinganewproject"></a><a name="Creating-a-new-project"></a><div class="chapter"><h4 id="RESTAPI-Creatinganewproject">Creating a new project</h4><p id="70a1c6be">Using curl tool:</p><div class="code-block" data-lang="bash">curl -v -u USER:PASSWORD http://teamcity:8111/app/rest/projects --header "Content-Type: application/xml" --data-binary
"&lt;newProjectDescription name='New Project Name' id='newProjectId'&gt;&lt;parentProject locator='id:project1'/&gt;&lt;/newProjectDescription&gt;"
 

</div></div><a name="Makinguserasystemadministrator"></a><a name="Making-user-a-system-administrator"></a><div class="chapter"><h4 id="RESTAPI-Makinguserasystemadministrator">Making user a system administrator</h4><ol class="list _decimal"><li class="list__item" id="f0dc6458"><p>Get <a href="super-user.html">super user</a> token.</p></li><li class="list__item" id="7d10dd2a"><p>Issue the request.</p></li><li class="list__item" id="34a45b36"><p>Get <a href="http://en.wikipedia.org/wiki/CURL" data-external="true" target="_blank" rel="noopener noreferrer">curl</a> command line tool and use a command line:</p></li></ol><div class="code-block" data-lang="bash">curl -v -u :SUPERUSER_TOKEN --request PUT http://teamcity:8111/app/rest/users/username:USERNAME/roles/SYSTEM_ADMIN/g/
 

</div><p id="cae9be1e">where <code class="code">SUPERUSER_TOKEN</code> is the super user token unique for each server start; <code class="code">teamcity:8111</code> – the TeamCity server URL; <code class="code">USERNAME</code> – the username of the user to be made the system administrator.</p><aside class="tip sideblock" data-title="" rel="cae9be1e" id="7f52ec98"><p id="55060451">More examples (for TeamCity 8.0) are available in this <a href="https://gist.github.com/carlspring/6762356" data-external="true" target="_blank" rel="noopener noreferrer">external posting</a>.</p></aside><hr id="772072c3"></div></div></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v2/app.js"></script></body></html>