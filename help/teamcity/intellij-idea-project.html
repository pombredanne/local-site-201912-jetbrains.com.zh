<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v2/analytics.js"></script><title>IntelliJ IDEA Project - Help | TeamCity</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v2/app.css"></head><body data-id="IntelliJ IDEA Project" data-breadcrumbs="teamcity-documentation.md|TeamCity Documentation/administrator-s-guide.md|Administrator's Guide/managing-projects-and-build-configurations.md|Managing Projects and Build Configurations/creating-and-editing-build-configurations.md|Creating and Editing Build Configurations/configuring-build-steps.md|Configuring Build Steps/intellij-idea-project.md|IntelliJ IDEA Project" data-main-title="IntelliJ IDEA Project" data-edit-url="https://github.com/JetBrains/teamcity-documentation/edit/2019.1/topics/intellij-idea-project.md"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search TeamCity Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>TeamCity 2019.1 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="IntelliJ IDEA Project" id="intellij-idea-project.md">IntelliJ IDEA Project</h1><p id="26eec636">IntelliJ IDEA Project runner allows you to build a project created in IntelliJ IDEA. TeamCity versions up to 6.0 had <a href="ipr-deprecated.html">Ipr (deprecated)</a> which is now superseded by IntelliJ IDEA Project runner.</p><p id="9204a3ae">On this page:</p><p id="e25d89b1"><ul class="list" data-skip-index="skip"><li class="list__item"><a href="#IntelliJIDEAProject-SupportedIntelliJIDEAfeatures">Supported IntelliJ IDEA features</a></li><li class="list__item"><a href="#IntelliJIDEAProject-IntelliJIDEAProjectSettings">IntelliJ IDEA Project Settings</a></li><li class="list__item"><a href="#IntelliJIDEAProject-UnresolvedProjectModulesandPathVariables">Unresolved Project Modules and Path Variables</a></li><li class="list__item"><a href="#IntelliJIDEAProject-ProjectJDKs">Project JDKs</a><ul class="list _bullet"><li class="list__item"><a href="#IntelliJIDEAProject-JavaParameters">Java Parameters</a></li></ul></li><li class="list__item"><a href="#IntelliJIDEAProject-Compilationsettings">Compilation settings</a></li><li class="list__item"><a href="#IntelliJIDEAProject-Artifacts">Artifacts</a></li><li class="list__item"><a href="#IntelliJIDEAProject-Runconfigurations">Run configurations</a></li><li class="list__item"><a href="#IntelliJIDEAProject-TestParameters">Test Parameters</a></li><li class="list__item"><a href="#IntelliJIDEAProject-CodeCoverage">Code Coverage</a></li></ul></p><a name="SupportedIntelliJIDEAfeatures"></a><a name="Supported-IntelliJ-IDEA-features"></a><div class="chapter"><h2 id="IntelliJIDEAProject-SupportedIntelliJIDEAfeatures">Supported IntelliJ IDEA features</h2><p id="dbdf5b71">TeamCity IntelliJ IDEA runner supports subset of IntelliJ IDEA features:</p><div class="table-wrapper"><table class=" wide" width="100%" id="dd4b7ad3"><thead><tr id="9f501406" class="ijRowHead"><th id="44337107"><p id="ace759f8">Feature</p></th><th id="33a29f25"><p id="f027d6bf">Status</p></th><th id="8b538cfb"><p id="423583e7">Notes, limitations</p></th></tr></thead><tbody><tr id="dd53fe42" class="ijRowOdd"><td id="3f570062"><p id="07fce352">Java</p></td><td id="9f625945"><p id="cf421931"><img alt="plus.png" title="plus.png" src="/help/img/teamcity/2019.1/plus.png" id="9c7299b0" width="16" height="16" class="inline-icon-16"></p></td><td id="69ebc726"><p id="1bb6ac0c">Runner is able to compile Java projects</p></td></tr><tr id="794eb682" class="ijRowEven"><td id="8702f843"><p id="00f8fdb7">JUnit 3.x/4.x</p></td><td id="c46a644c"><p id="09abf999"><img alt="plus.png" title="plus.png" src="/help/img/teamcity/2019.1/plus.png" id="39da87b3" width="16" height="16" class="inline-icon-16">, with limitations</p></td><td id="cda2139d"><ul class="list _ul"><li class="list__item" id="93e596fd"><p>Test runner parameters are not supported</p></li><li class="list__item" id="437a0850"><p>running Maven before tests start is not supported</p></li><li class="list__item" id="dc5e2cf0"><p>alternative JRE is not supported</p></li></ul></td></tr><tr id="0f7525ef" class="ijRowOdd"><td id="00f684ce"><p id="24f34b74">TestNG</p></td><td id="5c52d07f"><p id="6435ef44"><img alt="plus.png" title="plus.png" src="/help/img/teamcity/2019.1/plus.png" id="991cb6bb" width="16" height="16" class="inline-icon-16">, with limitations</p></td><td id="48d945e0"><ul class="list _ul"><li class="list__item" id="44b7f647"><p>Test runner parameters are not supported</p></li><li class="list__item" id="c546adff"><p>running Maven before tests start is not supported</p></li><li class="list__item" id="c014bad1"><p>running of the tests from group is not supported</p></li><li class="list__item" id="28be4376"><p>alternative JRE is not supported</p></li></ul></td></tr><tr id="5048d48a" class="ijRowEven"><td id="ce041094"><p id="b10d1fa3">Application run configuration</p></td><td id="3a20df11"><p id="ad130dd1"><img alt="plus.png" title="plus.png" src="/help/img/teamcity/2019.1/plus.png" id="ec73a450" width="16" height="16" class="inline-icon-16">, with limitations</p></td><td id="6637c3b1"><ul class="list _ul"><li class="list__item" id="774bdb67"><p>running Maven before tests start is not supported</p></li><li class="list__item" id="9ec975e0"><p>altrenative JRE is not supported</p></li></ul></td></tr><tr id="95e7bf2e" class="ijRowOdd"><td id="2f80f62c"><p id="203a9b3f">J2EE integration</p></td><td id="babe3654"><p id="9706db33"><img alt="plus.png" title="plus.png" src="/help/img/teamcity/2019.1/plus.png" id="a2439a27" width="16" height="16" class="inline-icon-16"></p></td><td id="c304ea37"><p id="1fd75e98">Runner is able to produce WAR and EAR archives with necessary descriptors</p></td></tr><tr id="7ff3461c" class="ijRowEven"><td id="e22ceefe"><p id="e7f33832">JPA</p></td><td id="17b9b19d"><p id="8b2f0da7"><img alt="plus.png" title="plus.png" src="/help/img/teamcity/2019.1/plus.png" id="707721dd" width="16" height="16" class="inline-icon-16"></p></td><td id="92debc56"><p id="31774260">Runner adds necessary descriptors in produced artifacts</p></td></tr><tr id="161dfd70" class="ijRowOdd"><td id="3ea73756"><p id="d61e84f5">GWT</p></td><td id="a9ae75f1"><p id="f04554f4"><img alt="plus.png" title="plus.png" src="/help/img/teamcity/2019.1/plus.png" id="f09dbb07" width="16" height="16" class="inline-icon-16"></p></td><td id="72c1d418"><p id="c391dec8">Runner can invoke GWT compiler and add compiler result to artifacts</p></td></tr><tr id="730130bd" class="ijRowEven"><td id="9778ffb8"><p id="8f28b443">Groovy</p></td><td id="6e43b37a"><p id="04f02568"><img alt="plus.png" title="plus.png" src="/help/img/teamcity/2019.1/plus.png" id="e406143f" width="16" height="16" class="inline-icon-16">, with limitations</p></td><td id="88c63ffc"><p id="4e70c138">Runner is able to compile projects with Groovy code and run tests written in Groovy, Groovy script run configurations are not supported</p></td></tr><tr id="f719ef69" class="ijRowOdd"><td id="80dda5ad"><p id="ff461e4f">Android</p></td><td id="c5039300"><p id="70f63420"><img alt="plus.png" title="plus.png" src="/help/img/teamcity/2019.1/plus.png" id="dd9bef17" width="16" height="16" class="inline-icon-16"></p></td><td id="c279d134"></td></tr><tr id="f2a5e377" class="ijRowEven"><td id="300fa71d"><p id="85d19a68">Flex</p></td><td id="ea73c4e4"><p id="fb331006"><img alt="minus.png" title="minus.png" src="/help/img/teamcity/2019.1/minus.png" id="21ea975a" width="16" height="16" class="inline-icon-16"></p></td><td id="57ae3e0c"></td></tr><tr id="37f857fa" class="ijRowOdd"><td id="f17d12c8"><p id="78d5a75f">Coverage</p></td><td id="338987c2"><p id="237268a2"><img alt="minus.png" title="minus.png" src="/help/img/teamcity/2019.1/minus.png" id="ced7b049" width="16" height="16" class="inline-icon-16">, if specified in run configurations</p></td><td id="ebc0d6d3"><p id="4f135b14">IntelliJ IDEA based coverage can be configured separately on the runner settings page</p></td></tr><tr id="95df02d8" class="ijRowEven"><td id="96d040ac"><p id="f12fcbe7">Profiling plugins</p></td><td id="4d39cca1"><p id="62ff9599"><img alt="minus.png" title="minus.png" src="/help/img/teamcity/2019.1/minus.png" id="b3c7ed7d" width="16" height="16" class="inline-icon-16"></p></td><td id="f50cffdf"></td></tr></tbody></table></div></div><a name="IntelliJIDEAProjectSettings"></a><a name="IntelliJ-IDEA-Project-Settings"></a><div class="chapter"><h2 id="IntelliJIDEAProject-IntelliJIDEAProjectSettings">IntelliJ IDEA Project Settings</h2><a name="idea-project-settings"></a><div class="table-wrapper"><table width="100%" id="dc7be82a"><thead><tr id="d6ab9d28" class="ijRowHead"><th id="af2a39d6"><p id="ca0a93c0">Option</p></th><th id="1dbe7141"><p id="c5458c94">Description</p></th></tr></thead><tbody><tr id="3ddf17d3" class="ijRowOdd"><td id="a5f260f9"><p id="a0ab7302">Path to the project</p></td><td id="ea12169a"><p id="b0c875b5">Use this field to specify the path to the project file (<code class="code">.ipr</code>) or path to the project directory (root directory of the project that contains <code class="code">.idea</code> folder). This information is required by this build runner to understand the structure of the project.</p><aside class="tip sideblock" data-title="" rel="b0c875b5" id="c30e98be"><p id="a294b6e9">Specified path should be relative to the checkout directory.</p></aside></td></tr><tr id="7116f0d2" class="ijRowEven"><td id="e0620a00"><p id="fbc87859">Detect global libraries and module-based JDK in the <code class="code">*.iml</code> files</p></td><td id="7dc91de4"><p id="4c91b884">If this option is checked, all the module files will be automatically scanned for references to the global libraries and module JDKs when saved. This helps you ensure all references will be properly resolved.</p><aside class="warning " data-title="" rel="4c91b884" id="a6f0344b"><p id="c1c5d4b4">When this option is selected, the process of opening and saving the build runner settings may become time-consuming, because it involves loading and parsing all project module files.</p></aside></td></tr><tr id="448ca39a" class="ijRowOdd"><td id="402fe65c"><p id="f13cfa6d">Check/Reparse Project</p></td><td id="8d916020"><p id="751fa509">Click to reparse the project and import build settings right from the IDEA project, for example the list of JDKs.</p><aside class="note " data-title="" rel="751fa509" id="7bba6065"><p id="6c91ca49">If you update your project settings in IntelliJ IDEA - add new JDKs, libraries, don't forget to update build runner settings by clicking <b id="bf4cc7cc">Check/Reparse Project</b>.</p></aside></td></tr><tr id="d8fedca6" class="ijRowEven"><td id="31619e29"><p id="8f7e84a6">Working directory</p></td><td id="3510a1f6"><p id="7742480a">Enter a path to a <a href="build-working-directory.html">Build Working Directory</a>, if it differs from the <a href="build-checkout-directory.html">Build Checkout Directory</a>.</p><p id="7240b992">Optional, specify if differs from the checkout directory.</p></td></tr></tbody></table></div></div><a name="UnresolvedProjectModulesandPathVariables"></a><a name="Unresolved-Project-Modules-and-Path-Variables"></a><div class="chapter"><h2 id="IntelliJIDEAProject-UnresolvedProjectModulesandPathVariables">Unresolved Project Modules and Path Variables</h2><p id="7d28cd1e">This section is displayed, when an IntelliJ IDEA module file (<code class="code">.iml</code>) referenced from IPR-file:</p><ul class="list _ul"><li class="list__item" id="9d743f95"><p>cannot be found</p></li><li class="list__item" id="0af2d55a"><p>allows you to enter the values of path variables used in the IPR-file</p></li></ul><p id="71bc5666">To refresh values in this section click <b id="98212cc5">Check/Reparse Project</b>.</p><div class="table-wrapper"><table width="100%" id="5798738f"><thead><tr id="c584379b" class="ijRowHead"><th id="617821b0"><p id="ed9b9cff">Option</p></th><th id="36f614dc"><p id="be126e66">Description</p></th></tr></thead><tbody><tr id="1ac699be" class="ijRowOdd"><td id="08628a55"><p id="0f855c44"><code class="code">&lt;path_variable_name&gt;</code></p></td><td id="07803a8d"><p id="5206642c">This field appears, if the project file contains path macros, defined in the Path Variables dialog of IntelliJ IDEA's Settings dialog. In the <b id="d835bcff">Set value to field</b>, specify a path to project resources, to be used on different build agents.</p></td></tr></tbody></table></div></div><a name="ProjectJDKs"></a><a name="Project-JDKs"></a><div class="chapter"><h2 id="IntelliJIDEAProject-ProjectJDKs">Project JDKs</h2><p id="2c471894">This section provides the list of JDKs detected in the project.</p><div class="table-wrapper"><table class="  _layout-fixed" width="100%" id="854ef71b"><thead><tr id="4430d26f" class="ijRowHead"><th id="bc36678a"><p id="6aaef4b2">Option</p></th><th id="d41aa284"><p id="027329b1">Description</p></th></tr></thead><tbody><tr id="3b7f9a15" class="ijRowOdd"><td id="a17a260a"><p id="5b7f22a9">JDK Home</p></td><td id="706f9e9a"><p id="1115900a">Use this field to specify JDK home for the project.</p><aside class="note " data-title="" rel="1115900a" id="5bf676f3"><p id="b6fee03e">When building with the <b id="0cf8a1a7">Ipr</b> runner, this JDK will be used to compile the sources of corresponding IDEA modules. For <b id="4d6424e0">Inspections</b> and <b id="ed122aaf">Duplicate Finder</b> builds, this JDK will be used internally to resolve the Java API used in your project.<br>To run the build process itself the JDK specified in the <code class="code">JAVA_HOME</code> environment variable will be used.</p></aside></td></tr><tr id="bf1700a5" class="ijRowEven"><td id="1a87f367"><p id="7048742e">JDK Jar File Patterns</p></td><td id="146e3347"><p id="57078f93">Click this link to open a text area, where you can define templates for the <code class="code">.jar</code> files of the project JDK. Use Ant rules to define the <code class="code">.jar</code> file patterns.<br>The default value is used for Linux and Windows operating systems:</p><div class="code-block" data-lang="bash">
jre/lib/*.jar

</div><p id="ccd57928">For Mac OS X, use the following lines:</p><div class="code-block" data-lang="bash">lib/*.jar

../Classes/*.jar

</div></td></tr><tr id="4820f53a" class="ijRowOdd"><td id="c8a68dbb"><p id="34e4af72">IDEA Home</p></td><td id="66f7d3bd"><p id="0cac958c">If your project uses the IDEA JDK, specify the location of IDEA home directory</p></td></tr><tr id="cbb9ab74" class="ijRowEven"><td id="4b32dc30"><p id="67817af4">IDEA Jar Files Patterns</p></td><td id="cb78db5e"><p id="bd230c88">Click this link to open a text area, where you can define templates for the <code class="code">.jar</code> files of the IDEA JDK.</p></td></tr></tbody></table></div><aside class="note " data-title="" rel="854ef71b" id="ac35343e"><p id="5244fe9a">You can use references to external properties when defining the values, like <code class="code">%system.idea_home%</code> or <code class="code">%env.JDK_1_3%</code>. This will add a <a href="agent-requirements.html">requirement</a> for the corresponding property.</p></aside><a name="java-param"></a><a name="JavaParameters"></a><a name="Java-Parameters"></a><div class="chapter"><h3 id="IntelliJIDEAProject-JavaParameters">Java Parameters</h3><div class="table-wrapper"><table class="  _layout-fixed" width="100%" id="55198a3f"><thead><tr id="50f80747" class="ijRowHead"><th id="833b6206"><p id="56c1614b">Option</p></th><th id="1f2daadf"><p id="c97ce3df">Description</p></th></tr></thead><tbody><tr id="90f16afd" class="ijRowOdd"><td id="694eef58"><p id="90cb3b26">JDK</p></td><td id="44018993"><p id="102fc8bd">Select a JDK. <a href="predefined-build-parameters.html#Defining-Java-related-Environment-Variables">This section</a> details the available options. The default is <code class="code">JAVA_HOME</code> environment variable or the agent's own Java.</p></td></tr><tr id="378536d7" class="ijRowEven"><td id="5b5edc4c"><p id="852c8bb5">JDK home path</p></td><td id="222f4839"><p id="db4ca21a"><i origin="teamcity-help" id="a79f3e27">The option is available when &lt;Custom&gt; is selected above.</i> Use this field to specify the path to your custom JDK used to run the build. If the field is left blank, the path to JDK Home is read either from the <code class="code">JAVA_HOME</code> environment variable on agent the computer, or from the <code class="code">env.JAVA_HOME</code> property specified in the <a href="build-agent-configuration.html">build agent configuration</a> file (<code class="code">buildAgent.properties</code>). If these values are not specified, TeamCity uses the Java home of the build agent process itself.</p></td></tr><tr id="aff893fa" class="ijRowOdd"><td id="f2a72643"><p id="95c07616">JVM command line parameters</p></td><td id="9afade72"><p id="d85d3355">You can specify such JVM command line parameters, for example, <i origin="teamcity-help" id="5f3a3455">maximum heap size</i> or parameters enabling <i origin="teamcity-help" id="e0e809fe">remote debugging</i>. These values are passed by the JVM used to run your build.<br>Example:</p><div class="code-block" data-lang="bash">-Xmx512m -Xms256m

</div></td></tr></tbody></table></div></div></div><a name="Compilationsettings"></a><a name="Compilation-settings"></a><div class="chapter"><h2 id="IntelliJIDEAProject-Compilationsettings">Compilation settings</h2><div class="table-wrapper"><table width="100%" id="df349c61"><thead><tr id="eb5f2d29" class="ijRowHead"><th id="aa5601fd"><p id="ae03e44f">Option</p></th><th id="25240619"><p id="2b009541">Description</p></th></tr></thead><tbody><tr id="71f7eff3" class="ijRowOdd"><td id="3922b1ce"><p id="0cf730a6">Only compile classes required to build artifacts and execute run configurations</p></td><td id="083f3aa2"><p id="91050efc">Select whether to compile all classes in the project or only those classes which are required by run configurations or for building artifacts.</p></td></tr></tbody></table></div></div><a name="Artifacts"></a><a name="Artifacts"></a><div class="chapter"><h2 id="IntelliJIDEAProject-Artifacts">Artifacts</h2><div class="table-wrapper"><table width="100%" id="0e429dda"><thead><tr id="f9fafd06" class="ijRowHead"><th id="7a3ebc88"><p id="31df6b04">Option</p></th><th id="484efb08"><p id="cbd19386">Description</p></th></tr></thead><tbody><tr id="4bf14da1" class="ijRowOdd"><td id="6fde3aef"><p id="b56d3310">Artifacts to Build</p></td><td id="59334243"><p id="85fb1c47">Specify here names of the artifacts to be built that are configured in the IntelliJ IDEA project.</p></td></tr></tbody></table></div></div><a name="Runconfigurations"></a><a name="Run-configurations"></a><div class="chapter"><h2 id="IntelliJIDEAProject-Runconfigurations">Run configurations</h2><div class="table-wrapper"><table width="100%" id="f7a4a597"><thead><tr id="a24a66f2" class="ijRowHead"><th id="bd77d546"><p id="7a0a07e9">Option</p></th><th id="8dbd22d9"><p id="517f8e42">Description</p></th></tr></thead><tbody><tr id="cac5542f" class="ijRowOdd"><td id="63fdd281"><p id="80485245">Run configurations to execute</p></td><td id="a118a5ae"><p id="ab296a14">Specify here names of IntelliJ IDEA run configurations configured in the project to execute inside TeamCity build. Supported configuration types are: JUnit, TestNG, and Application. Note that run configurations specified here should be <i id="2788f7f7">shared</i> (via "Share" checkbox in IntelliJ IDEA <a href="http://www.jetbrains.com/idea/webhelp/run-debug-configuration-application.html#common" data-external="true" target="_blank" rel="noopener noreferrer">Run/Debug Configurations dialog</a>) and checked in to the version control.</p><p id="1551147f">Ant and Build Artifacts tasks specified in the <a href="https://www.jetbrains.com/help/idea/run-debug-configuration-application.html#common" data-external="true" target="_blank" rel="noopener noreferrer">Before launch</a> list of IDEA run configurations are supported.</p></td></tr></tbody></table></div></div><a name="TestParameters"></a><a name="Test-Parameters"></a><div class="chapter"><h2 id="IntelliJIDEAProject-TestParameters">Test Parameters</h2><ul class="list _ul"><li class="list__item" id="d7198ba3"><p>To learn more about <b id="7d22b78e">Run recently failed tests first</b> and <b id="d3648572">Run new and modified tests first</b> options, refer to the <a href="running-risk-group-tests-first.html">Running Risk Group Tests First</a> page.</p></li><li class="list__item" id="9890459e"><p>The  <b id="5e72467c">Run affected tests only (dependency based)</b> option will take build changes into account. With this option enabled runner will compute modules affected by current build changes and will execute only those run configurations which depend on affected modules directly or indirectly.</p></li></ul></div><a name="CodeCoverage"></a><a name="Code-Coverage"></a><div class="chapter"><h2 id="IntelliJIDEAProject-CodeCoverage">Code Coverage</h2><p id="4b4da6fb">Specify code coverage options, for the details, refer to <a href="intellij-idea.html">IntelliJ IDEA Code Coverage</a> page.</p><hr id="ebfa621a"><p id="aab89d40"><b id="a2c48d1e">See also:</b></p><p id="45fd8406"><b id="8c1d52e2">Administrator's Guide</b>: <a href="intellij-idea.html">IntelliJ IDEA Code Coverage</a></p><hr id="ad3d49f1"></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v2/app.js"></script></body></html>