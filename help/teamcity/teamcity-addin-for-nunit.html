<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v2/analytics.js"></script><title>TeamCity Addin for NUnit - Help | TeamCity</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v2/app.css"></head><body data-id="TeamCity Addin for NUnit" data-breadcrumbs="teamcity-documentation.md|TeamCity Documentation/administrator-s-guide.md|Administrator's Guide/managing-projects-and-build-configurations.md|Managing Projects and Build Configurations/creating-and-editing-build-configurations.md|Creating and Editing Build Configurations/configuring-unit-testing-and-code-coverage.md|Configuring Unit Testing and Code Coverage/net-testing-frameworks-support.md|.NET Testing Frameworks Support/nunit-support.md|NUnit Support/teamcity-addin-for-nunit.md|TeamCity Addin for NUnit" data-main-title="TeamCity Addin for NUnit" data-edit-url="https://github.com/JetBrains/teamcity-documentation/edit/2019.1/topics/teamcity-addin-for-nunit.md"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search TeamCity Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>TeamCity 2019.1 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="TeamCity Addin for NUnit" id="teamcity-addin-for-nunit.md">TeamCity Addin for NUnit</h1><aside class="note " data-title="" rel="teamcity-addin-for-nunit.md" id="6874edac"><p id="f337c40a">TeamCity NUnit Addin supports <b id="161716ba">NUnit prior to version 3.0</b>. For later versions, refer to the <a href="nunit-for-msbuild.html">this section</a>.</p></aside><p id="46d34f5b">If you run NUnit tests via the <a href="http://www.nunit.org/index.php?p=nunit-console&amp;r=2.2.10" data-external="true" target="_blank" rel="noopener noreferrer">NUnit console</a> and want TeamCity to track the test results without having to launch the TeamCity test runner, the best solution is to use TeamCity Addin for NUnit. You can plug this addin into NUnit, and the tests will be automatically reported to the TeamCity server.</p><p id="cf9bd511">Alternatively, you can opt to use the <a href="xml-report-processing.html">XML Report Processing</a> build feature, or manually configure reporting tests by means of <a href="build-script-interaction-with-teamcity.html#Service-Messages">service messages</a>.</p><p id="e07e6ce8">To be able to review test results in TeamCity, do the following:</p><ol class="list _decimal"><li class="list__item" id="4158827b">In your build, set the path to the TeamCity Addin to the system property <code class="code">teamcity.dotnet.nunitaddin</code> (for MSBuild it would be <code class="code">teamcity_dotnet_nunitaddin</code>), and add the version of NUnit at the end of this path. For example:<ul class="list _ul"><li class="list__item" id="9493c7f9"><p>For NUnit 2.4.X, use <code class="code">${teamcity.dotnet.nunitaddin}-2.4.X.dll</code> (for MSBuild: <code class="code">$(teamcity_dotnet_nunitaddin)-2.4.X.dll</code>)<br>Example for NUnit 2.4.7: <code class="code">NAnt: ${teamcity.dotnet.nunitaddin}-2.4.7.dll</code>, MSBuild: <code class="code">$(teamcity_dotnet_nunitaddin)-2.4.7.dll</code></p></li><li class="list__item" id="0c0c424b"><p>For NUnit 2.5.0 alpha 4, use <code class="code">${teamcity.dotnet.nunitaddin}-2.5.0.dll</code> (for MSBuild: <code class="code">$(teamcity_dotnet_nunitaddin)-2.5.0.dll</code>)</p></li></ul></li><li class="list__item" id="76750997"><p>Copy the <code class="code">.dll</code> and <code class="code">.pdb</code> TeamCity addin files to the NUnit addin directory.</p></li></ol><aside class="note " data-title="" rel="a7ce52ac" id="190337db"><p id="f12a9c7a">Although you can copy these files once, it is highly recommended to configure your builds so that the TeamCity addin files are copied to the NUnit addin directory for <b id="93e9be52">each build</b>, because these files could be updated by TeamCity.</p></aside><p id="8fb73d8f">The following example shows how to use the NUnit console runner with the TeamCity Addin for NUnit 2.4.7 (on MSBuild):</p><div class="code-block" data-lang="markup">&lt;ItemGroup&gt;
  &lt;NUnitAddinFiles Include="$(teamcity_dotnet_nunitaddin)-2.4.7.*" /&gt;
&lt;/ItemGroup&gt;
 
&lt;Target Name="RunTests"&gt;
  &lt;MakeDir Directories="$(NUnitHome)/bin/addins" /&gt;
  &lt;Copy SourceFiles="@(NUnitAddinFiles)" DestinationFolder="$(NUnitHome)/bin/addins" /&gt;
  &lt;Exec Command="$(NUnitHome)/bin/NUnit-Console.exe $(NUnitFileName)" /&gt;
&lt;/Target&gt;

</div><a name="ImportantNotes"></a><a name="Important-Notes"></a><h3 id="TeamCityAddinforNUnit-ImportantNotes">Important Notes</h3><p id="5890a631"><b id="0eca57bd">NUnit 2.4.8 Issue</b></p><p id="b02fd851">NUnit 2.4.8 has the following known issue: NUnit 2.4.8 runner tries to load an assembly according to the created <code class="code">AssemblyName</code> object; however, the <code class="code">addins</code> folder of NUnit 2.4.8 is not included in application probe paths. Thus NUnit 2.4.8 fails to load any addin in the console mode.<br>To solve the problem, we suggest you use any of the following workarounds:</p><ul class="list _ul"><li class="list__item" id="58a673c1"><p>copy the TeamCity addin assembly both to the NUnit <code class="code">bin</code> and <code class="code">bin/addins</code> folders</p></li><li class="list__item" id="f9d6177c"><p>patch <code class="code">NUnit-Console.exe.config</code> to include the addins to application probe paths. Add the following code into the <code class="code">config/runtime</code> element:</p></li></ul><div class="code-block" data-lang="markup">&lt;assemblyBinding xmlns="urn:schemas-microsoft-com:asm.v1"&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;probing privatePath="addins"/&gt;
&lt;/assemblyBinding&gt;

</div><p id="dcbf1911">See original blog post on this issue <a href="http://nunit.com/blogs/?p=56" data-external="true" target="_blank" rel="noopener noreferrer">http://nunit.com/blogs/?p=56</a></p><p id="d928bfb6"><b id="96cd11d8">Environment variables</b> If you need to configure environment variables for NUnit explicitly, specify an environment variable with the value reference of <code class="code">%system.teamcity.dotnet.nunitaddin%</code>. See <a href="configuring-build-parameters.html">Configuring Build Parameters</a> for details.</p><hr id="a516c0e5"></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v2/app.js"></script></body></html>