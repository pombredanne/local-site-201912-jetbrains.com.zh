<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>管理和共享dotCover设置-帮助|帮助dotCover</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body  data-id="Configuring_ReSharper__Sharing_Configuration_Options" data-article-props="
                {
                
            " seeals=":{=" procedure=":=" hre=":" dotcover__setting_up_coverage_filters.htm="," titl=":" set="" up="" coverage="" filter="}=" referenc=":=" reference__settings_layers.htm="," settings="" layers="" dialo="}=" external="" link=":=" http:="" ="" www.jetbrains.com="" dotcover="" docs="" dotcover_keymap.pd="," default keymap="" (pdf="}=" ="title"="save=" }="" ]="" sharing_configuration_options_dc=""><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索dotCover帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>dotCover 2019.2帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option value="rs" data-group="secondary">ReSharper 2.x / IntelliJ IDEA</option><option value="vs" data-group="primary">视觉工作室</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 id="Sharing_Configuration_Options.xml" data-toc="Configuring_ReSharper__Sharing_Configuration_Options">管理和共享dotCover设置</h1>                    <p id="a633e598">dotCover使用分层设置机制来保存您的首选项，它具有以下优点：</p>        <ul class="list _ul"><li class="list__item" id="468cf32f">            <p id="cb72583a">您可以在不同的解决方案中进行不同的设置。</p>        </li><li class="list__item" id="5aa01251">            <p id="13398acc">您可以在不同的位置保留首选项的不同子集，并在处理特定解决方案时将它们组合在一起。</p>        </li><li class="list__item" id="526f1f51">            <p id="f11688eb">您可以通过在VCS下保留特定的设置子集来同步团队中的首选项。 dotCover提供了一个默认选项，将团队首选项保留在一个单独的文件中，该文件保存在解决方案文件夹中，可以轻松添加到您的VCS中。如果其他团队成员使用dotCover，则一旦他们从VCS中提取更改，该文件中的设置就会自动应用-无需重新启动Visual Studio或重新加载解决方案。</p>        </li><li class="list__item" id="9fc0103c">            <p id="04028375">由于任何设置子集都可以保存在文件中并动态更新，因此您可以通过许多其他方式共享dotCover首选项。例如，您可以将个人首选项保留在Dropbox中，并在其他计算机上使用它们。</p>        </li><li class="list__item" id="600b2c48">            <p id="88478793">来自不同设置文件的首选项用作图层，因此，如果同一设置在不同设置文件中具有不同的值，则使用“上层”层的值。这使您可以覆盖在特定设置文件中定义的设置，而不用更改此文件中的设置。</p>        </li></ul>    <div class="chapter"><h2 id="layers">默认设置和设置层</h2>        <p id="cb05e125">开箱即用，dotCover带有默认的一组首选项，这些首选项基于.NET世界中的约定和最佳实践。这些默认设置在产品中进行了硬编码，如有必要，您始终可以重置为默认设置。如果更改任何设置，则更改将保存在设置层中，dotCover会应用此更改覆盖相应的默认设置。最初，dotCover建议使用三层，您可以在其中保存您的首选项： <i id="289f3044">此计算机</i> ， <i id="b6932ec0">解决方案团队共享的</i> <i id="e0956f81">解决方案</i>和<i id="e0956f81">解决方案个人的</i> 。</p>                <div class="chapter"><h3 id="this-computer-layer">“此计算机”层</h3>            <p id="2c2f5ec2">此设置层指定用于您的个人全局设置，并适用于本地计算机上的所有解决方案。<br>相应的设置文件另存为：</p>                    </div>        <div class="chapter"><h3 id="solution-team-shared-layer">“解决方案团队共享”层</h3>            <p id="14de7610">该层是为通用设置指定的，这些通用设置可强制您的团队对当前解决方案进行偏好设置。此层中的设置将覆盖<span class="control">此计算机</span>层中的设置。<br>相应的设置文件<span class="filepath"><solutionname>.sln。DotSettings</solutionname></span>保存在解决方案文件夹中。<br>一旦将此文件添加到您的VCS中并且团队成员获得了该文件，他们将自动应用此文件中的设置，而无需重新加载解决方案。</p>        </div>        <div class="chapter"><h3 id="solution-personal-layer">“个人解决方案”层</h3>            <p id="4d7a2971">该层允许您覆盖团队共享设置而不更改它们。如果您只需要在此解决方案中应用某些设置并且独立于团队，则可能会发现这很有用。<br>相应的设置文件<span class="filepath"><solutionname>.sln。DotSettings.user</solutionname></span>将保存在解决方案文件夹中。您不应将其添加到VCS。</p>        </div>        <p id="fb38804f">请看下面的插图。您可以看到最初所有设置层都是空的，因此dotCover可以“透视它们”并应用默认设置：</p>        <figure><img alt="默认和修改的设置层" title="默认和修改的设置层" src="/help/img/dotnet/2019.2/settings_default.png" id="0c4f91e4" width="474" height="334"></figure>        <p id="7c146378">实际上，最初设置层文件不存在，它们是在您修改并保存某些设置后首先创建的。但是，如果存在设置文件，则对于其中未定义的所有设置，该文件仍然是“透明的”。</p>    </div>    <div class="chapter"><h2 id="saving_overriding">保存和覆盖设置</h2>        <p id="8cfdec20">每次在“ <a href="Reference__Options.html">选项”</a>对话框中更改某些设置时，对话框底部都会显示一条消息，其中包含未保存的设置数。<br>            </p><figure><img alt="在dotCover选项中保存或保存到" title="在dotCover选项中保存或保存到" src="/help/img/dotnet/2019.2/save_settings.png" id="704839b3" width="658" height="165"></figure>要应用更改，您应该使用以下按钮之一保存它们：<p></p>        <div class="chapter"><h3 id="smart_save">保存（智能保存）</h3>            <p id="39c6c481">这将应用“智能保存”逻辑。<br>使用它来保存您的修改，并保持团队共享和/或自定义图层（如果有）完整。换句话说，如果您只想保存更改而不必担心设置图层，请使用“ <span class="control">保存”</span> 。<br>                <span class="control">保存</span>会将您的更改保存到“此计算机”设置层，然后-如果在“解决方案团队共享”和/或自定义层中还有其他修改后的设置值，则更改也将保存到“解决方案个人”覆盖其他图层中的值。</p>            <p id="64559ef5">考虑下图中的示例。假设您更改了三个设置，并使用“绿色”而不是“蓝色”值；这些更改已保存在“此计算机”层中。然后，您的团队决定在团队共享解决方案中设置A和C为“黄色”，因此，这些值由团队负责人保存在“解决方案团队共享”层中，dotCover会在您撤消时立即应用它们从您的VCS更改。最终，您意识到对设置A的“绿色”值感到更加自在，然后再次更改并保存了它，这一次它也保存在“解决方案个人”层中，使您可以应用所需的值无需更改团队共享层：</p>            <figure><img alt="应用和覆盖dotCover设置" title="应用和覆盖dotCover设置" src="/help/img/dotnet/2019.2/layers2.png" id="2dee10ea" width="467" height="330"></figure>        </div>        <div class="chapter"><h3 id="saveTo">保存到（保存到特定图层）</h3>            <p id="9e1e7a76">您将需要使用这些命令将修改后的设置保存到“解决方案团队共享”层或自定义层。如果出于某些目的需要修改，还可以将其保存到其他任何层。</p>            <aside class="note " rel="9e1e7a76" id="c2eabf8b" data-title="">                <p id="82518af1">不幸的是，在当前的实现中，无法看到定义了在“ <span class="control">选项”</span>对话框中看到的设置的层值。</p>            </aside>            <p id="d8d17a25">将设置保存到特定图层的唯一陷阱是，如果在同一层设置中用其他值定义了相同的设置，则该值在层堆叠中的其他层上的任何地方都不会应用。下图显示了我们如何尝试在“此计算机”层中将设置C更改为“红色”，以及为何无法更改结果设置。</p>            <figure><img alt="使用“保存到”保存dotCover设置" title="使用“保存到”保存dotCover设置" src="/help/img/dotnet/2019.2/layers3.png" id="6f17e411" width="577" height="337"></figure>        </div>        <aside class="tip sideblock" rel="saveTo" id="per_project" data-title="">        <p id="9822420b">您还可以保存每个项目的任何dotCover首选项，有关更多信息，请参见<a href="http://blog.jetbrains.com/dotnet/2012/01/18/per-project-settings-or-how-to-have-different-naming-styles-for-my-test-project/" rel="noopener noreferrer" data-external="true" target="_blank">JetBrains .NET工具博客：每个项目设置或如何为我的测试项目使用不同的命名样式</a>        </p>    </aside>    </div>    <div class="chapter"><h2 id="managing">管理设置层</h2>        <p id="cf5f1bc9">默认情况下，您可以使用“解决方案团队共享”层共享每个解决方案的dotCover设置-唯一要做的就是将<span class="filepath">* .dotSettings</span>文件置于版本控制下。<br>如果要以其他方式共享设置，则需要学习如何创建新的设置图层，以及如何导入和导出它们。为此，dotCover提供了<a href="Reference__Settings_Layers.html">“设置图层”对话框</a> ，该<a href="Reference__Settings_Layers.html">对话框</a>可在Visual Studio菜单（ <span class="menupath" data-skip-index="skip">dotCover |“管理选项”</span> ）和“ <a href="Reference__Options.html">选项”</a>对话框（单击“ <span class="control">管理”</span>按钮）中找到。</p>        <p id="1c900a36">自定义设置层将添加到现有默认层下。例如，如果您要将自定义层的设置应用于所有解决方案，请将其添加到“此计算机”层下；否则，将其添加到解决方案特定的层之一下，具体取决于您是否希望它覆盖团队共享设置。</p>        <p id="44edc76e">一旦添加了自定义设置图层，它就会出现在“ <a href="Reference__Options.html">选项”</a>对话框的“ <span class="control">保存到”</span>选择器中，您可以使用该设置将修改后的设置保存到自定义图层。您还可以通过<a href="#edit">编辑此层</a>来<a href="#edit">修改此层中的设置</a> 。</p>        <section class="procedure-steps"><h3 id="addCustom">添加自定义设置层</h3><ol class="list _decimal"><li class="list__item" id="20c89fba"><p>在“ <span class="control">设置图层”</span>对话框中，选择要在其下添加图层的默认图层之一。</p></li><li class="list__item" id="bbad6b36">请执行以下任一操作：<ul class="list _ul"><li class="list__item" id="5d9df8a9"><p>点击<span class="control">添加图层</span> <img alt="主题图标已添加参数屏幕灰色" title="主题图标已添加参数屏幕灰色" src="/help/img/dotnet/2019.2/ThemedIcon.AddedParameter.Screen.[Gray].png" id="3f59a54d" width="16" height="16" class="inline-icon-16"> ，然后单击<span class="control">创建设置文件</span>以创建一个新的空设置层，或单击<span class="control">打开设置文件</span>以从您的文件系统或任何URI中包括一个现有的设置层。</p></li><li class="list__item" id="0c71e2d1"><p>右键单击并在“ <span class="control">添加层”</span>选择器中选择相应的命令之一。</p></li></ul>            </li><li class="list__item" id="5a0cacbd"><p>根据所选命令，为新的设置层文件指定名称和位置，或者使用来选择现有的设置层文件<span class="filepath">。DotSettings</span>扩展名。</p></li><li class="list__item" id="688ef58d"><p>根据添加的图层中的设置，根据其在图层堆栈中的位置来应用设置，这可以在“ <span class="control">设置图层”</span>对话框中看到，即，如果在上层中定义了某些设置，则将上层的值用于结果设置中。如有必要，可以使用在选择图层时可用的“上<span class="control">移”</span>和“ <span class="control">下移”</span>按钮重新排列组中的自定义设置层。</p></li></ol></section>        <p id="627ec07b">除了使用“ <a href="Reference__Options.html">选项”</a>对话框中的“ <span class="control">保存到”</span>按钮将修改后的设置<span class="control">保存到</span>特定图层之外，还可以打开特定的设置图层进行编辑。</p>        <section class="procedure-steps"><h3 id="edit">编辑特定的设置层</h3><ol class="list _decimal"><li class="list__item" id="7e3a8d2d"><p>在“ <span class="control">设置层”</span>对话框中，选择要编辑的设置层。</p></li><li class="list__item" id="7504fc5f">请执行以下任一操作：<ul class="list _ul"><li class="list__item" id="1f79556d"><p>点击<span class="control">编辑图层</span> <img alt="ThemedIcon设置屏幕灰色" title="ThemedIcon设置屏幕灰色" src="/help/img/dotnet/2019.2/ThemedIcon.Settings.Screen.[Gray].png" id="bbf4e88d" width="16" height="16" class="inline-icon-16"> 。</p></li><li class="list__item" id="ea5150a2"><p>右键单击并在上下文菜单中选择“ <span class="control">编辑</span> ”。</p></li><li class="list__item" id="74552bd1"><p>双击所需的图层。</p></li></ul>            </li><li class="list__item" id="bfe78236"><p>将打开“ <span class="control">选项”</span>对话框，在该对话框的顶部显示图层名称及其位置：</p><figure><img alt="图层选项" title="图层选项" src="/help/img/dotnet/2019.2/options_for_layer.png" id="f8edbe07" width="443" height="164"></figure>请注意，在此模式下看到的设置值要么取自默认值，要么取自编辑图层中定义的值。如果未在编辑的图层中定义设置，则显示默认设置的值（例如，下图中的“设置B”的值）。<figure><img alt="编辑单个设置层" title="编辑单个设置层" src="/help/img/dotnet/2019.2/editing_layer.png" id="7a7c7716" width="428" height="249"></figure>                            <p></p></li><li class="list__item" id="5fac86bb"><p>根据需要在图层中编辑设置，然后单击“ <span class="control">保存”</span>以保存更改。</p></li></ol></section>        <p id="14142d1c">您可以将特定的设置子集从任何设置层导出到新的设置文件。然后，可以在dotCover的另一个实例上使用此文件来应用这些设置。</p>        <section class="procedure-steps"><h3 id="export_settings">从特定的设置层导出设置</h3><ol class="list _decimal"><li class="list__item" id="d3dc4027"><p>在“ <span class="control">设置层”</span>对话框中，选择一个应从中导出设置的设置层。</p></li><li class="list__item" id="2ee3167c">请执行以下任一操作：<ul class="list _ul"><li class="list__item" id="c2116afc"><p>在工具栏上，单击“ <span class="control">导入/导出自”</span> <img alt="ThemedIcon ImportExportLayer屏幕灰色" title="ThemedIcon ImportExportLayer屏幕灰色" src="/help/img/dotnet/2019.2/ThemedIcon.ImportExportLayer.Screen.[Gray].png" id="bbae02a3" width="16" height="16" class="inline-icon-16"> ，然后点击<span class="control">导出到文件</span> 。</p></li><li class="list__item" id="46784751"><p>右键单击该图层，然后在上下文菜单中选择“ <span class="control">导出到文件</span> ”。</p></li></ul>            </li><li class="list__item" id="cedb9b3c"><p>在打开的“ <span class="control">导出到文件”</span>对话框中，指定要导出的设置组，然后单击“ <span class="control">确定”</span> ，然后指定设置层文件的名称和位置。</p></li></ol></section>        <p id="b74730e7">作为<a href="#addCustom">添加自定义设置层</a>的替代方法，您可以将设置的子集从该自定义层复制到现有默认层或自定义层之一。</p>        <section class="procedure-steps"><h3 id="import_settings">从设置图层文件导入设置</h3><ol class="list _decimal"><li class="list__item" id="10aa4696"><p>在“ <span class="control">设置层”</span>对话框中，选择要在其中导入设置的设置层。</p></li><li class="list__item" id="9df2f642">请执行以下任一操作：<ul class="list _ul"><li class="list__item" id="5fadfc37"><p>在工具栏上，单击“ <span class="control">导入/导出设置”</span> <img alt="ThemedIcon ImportExportLayer屏幕灰色" title="ThemedIcon ImportExportLayer屏幕灰色" src="/help/img/dotnet/2019.2/ThemedIcon.ImportExportLayer.Screen.[Gray].png" id="1affc5ff" width="16" height="16" class="inline-icon-16"> 。根据要导入的文件的位置，单击<span class="control">从文件</span> <span class="control">导入</span>或<span class="control">从URL导入</span> 。</p></li><li class="list__item" id="a3be0428"><p>右键单击该层。<span class="control">从</span>上下文菜单中单击<span class="control">导入</span> ，然后单击<span class="control">从文件导入</span>或<span class="control">导入从URL。</span></p></li></ul>            </li><li class="list__item" id="8cd99504"><p>指定要导入文件的位置。请注意，如果您选择从URL导入，则文件的路径应以UNC格式指定。</p></li><li class="list__item" id="3b9916bd"><p>在打开的“ <span class="control">从文件导入”</span>对话框中，指定要导入的设置组，然后单击“ <span class="control">确定”</span> 。</p></li></ol></section>        <p id="5384ce79">dotCover还允许您将设置的子集从一个已安装的设置层复制到另一层。</p>        <section class="procedure-steps"><h3 id="copy_settings">将设置从一层复制到另一层</h3><ol class="list _decimal"><li class="list__item" id="122c8344"><p>在“ <span class="control">设置层”</span>对话框中，选择要从中复制设置的设置层。</p></li><li class="list__item" id="bdd877b7">请执行以下任一操作：<ul class="list _ul"><li class="list__item" id="729ea4ab"><p>在工具栏上，单击“ <span class="control">将设置复制到”。</span> <img alt="ThemedIcon CopySettings屏幕呈灰色" title="ThemedIcon CopySettings屏幕呈灰色" src="/help/img/dotnet/2019.2/ThemedIcon.CopySettings.Screen.[Gray].png" id="df50e585" width="16" height="16" class="inline-icon-16"> ，然后选择目标设置层。</p></li><li class="list__item" id="c35def9a"><p>右键单击该图层，在上下文菜单中选择“ <span class="control">将设置复制到</span> ”，然后选择目标设置图层。</p></li></ul>                            </li><li class="list__item" id="f94471d8"><p>在打开的“ <span class="control">复制到”</span>对话框中，指定要复制的设置组，然后单击“ <span class="control">确定”</span> 。</p></li></ol></section>        <p id="reset_settings">如有必要，您可以清除保存在特定图层中的所有设置。为此，右键单击该图层，然后在上下文菜单中单击“ <span class="control">重置</span> ”。</p>        <p id="1ea095a0">此外，您可以重置所有预定义层中的所有设置，并卸载所有自定义设置层，从而将所有设置恢复为其默认值。为此，请单击“ <span class="control">重置所有设置”</span> <img alt="主题图标重置层屏幕灰色" title="主题图标重置层屏幕灰色" src="/help/img/dotnet/2019.2/ThemedIcon.ResetLayer.Screen.[Gray].png" id="721027a6" width="16" height="16" class="inline-icon-16">在工具栏上。</p>        <p id="611e2f00">您也可以通过清除旁边的复选框来临时禁用自定义设置层，或者右键单击该自定义设置层并在上下文菜单中选择“ <span class="control">删除”</span> ，以卸载特定的自定义设置层。</p>        <aside class="note " rel="611e2f00" id="de7a0efd" data-title="">            <p id="7672d867">请注意，当您重置所有设置或在对话框中删除设置图层时，该图层文件不会从磁盘上删除，因此您以后可以根据需要挂载该文件。</p>        </aside>    </div>    <div class="chapter"><h2 id="upgrading">将设置升级到较新版本</h2>        <p id="7eef8f69">有时，较新版本的dotCover可能会修改设置的存储格式。在这种情况下，受影响的设置文件会在新版本的首次启动时自动进行升级-dotCover只会将格式已修改的设置添加到设置文件中。它还添加了一个条目，该条目指出已升级内容以防止进一步升级。例如：</p>        <div class="code-block" data-lang="markup">
            
            <s:boolean x:key="/Default/Environment/SettingsMigration/IsMigratorApplied/[migration_ID]/@EntryIndexedValue">真正</s:boolean>
            
        </div>        <p id="df28e4ec">但是，即使设置文件已升级，仍可以与较旧的dotCover版本一起使用（例如，如果您与未升级的队友共享此文件），因为既不更改也不删除不推荐使用的设置。除其他外，这意味着您可以<span class="emphasis">安全地</span>将自动升级的<span class="filepath">.dotSettings</span>文件中的<span class="emphasis">更改提交</span>到VCS。</p>        <p id="e1bea08f">此处需要特别注意的是，更新后返回较旧的版本，然后使用该较旧的版本更改某些设置，然后返回较新的版本– dotCover不会第二次升级设置。因此，您更改的某些设置可能以较旧的格式保存，而较新的版本则不会读取。</p>        <p id="6c7b0d23">因此，如果您（或您的团队）同时使用两个不同版本的dotCover，则可能要检查在一个版本中修改的首选项在另一个版本中是否正确读取，如果不正确，则只需在另一个版本中再次进行相同的修改即可。版。</p>    </div>    <div class="last-modified" data-skip-index="skip">上次修改时间：2019年9月30日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="Unit_Test_Coverage.html">单元测试覆盖率</a> <a class="navigation-links__next" href="Managing_Extensions.html">管理扩展</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>