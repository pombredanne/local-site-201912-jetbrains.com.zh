<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>命令行进行覆盖率分析-帮助|帮助dotCover</title><link rel="stylesheet" href="/resources.jetbrains.com/storage/help-app/v3/app.css"></head><body  data-id="Running_Coverage_Analysis_from_the_Command_LIne" data-disqus-id="Running_Coverage_Analysis_from_the_Command_LIne_dcv"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索dotCover帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>dotCover 2019.2帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option value="rs" data-group="secondary">ReSharper 2.x / IntelliJ IDEA</option><option value="vs" data-group="primary">视觉工作室</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 id="Running_Coverage_Analysis_from_the_Command_LIne.xml" data-toc="Running_Coverage_Analysis_from_the_Command_LIne">命令行的覆盖率分析</h1>    <aside class="tip sideblock" rel="Running_Coverage_Analysis_from_the_Command_LIne.xml" id="tip_other_tools_dcv" data-title="">        <p id="69a25356">您还可以从命令行运行<a href="/help/resharper/InspectCode.html" rel="noopener noreferrer" data-external="true" target="_blank">代码检查</a>和<a href="/help/resharper/dupFinder.html" rel="noopener noreferrer" data-external="true" target="_blank">重复分析</a> 。</p>    </aside>    <p id="e089a3e4">dotCover控制台运行程序是作为<a href="/dotcover/download/#section=commandline" rel="noopener noreferrer" data-external="true" target="_blank">.zip存档</a>或<a href="https://www.nuget.org/packages/JetBrains.dotCover.CommandLineTools/" rel="noopener noreferrer" data-external="true" target="_blank">NuGet软件包</a>免费分发的命令行工具。该工具使您可以：</p>    <ul class="list _ul"><li class="list__item" id="28f5b409"><p>控制任何执行<a name="test_runners"></a>测试运行程序（MSTest，NUnit，xUnit，MSpec等），并在<a href="What_is_Coverage_Snapshot.html">coverage快照中</a>记录已执行测试的<a href="What_is_Coverage_Snapshot.html">coverage</a> 。</p></li><li class="list__item" id="904e01f2"><p>合并coverage快照。<br>例如，如果您在项目或解决方案中使用几种不同格式的单元测试，则可能需要合并快照。在这种情况下，您将必须为所有相应的测试运行程序启动控制台运行程序，并获取多个coverage快照。然后，您可以使用<a href="dotCover__Console_Runner_Commands.html#merge">merge</a>命令合并快照。</p></li><li class="list__item" id="ac6928b0"><p>生成不同格式的覆盖率报告。<br>使用<a href="dotCover__Console_Runner_Commands.html#report">report</a>命令可从coverage快照生成所需格式的报告。</p></li></ul>    <p id="26630f6e">本主题的下一部分，您将找到几个演练，它们将帮助您了解如何使用Console Runner进行单元测试项目的覆盖率分析。</p>    <div class="chapter"><h2 id="setting-up-console-runner" data-toc="Running_Coverage_Analysis_from_the_Command_LIne#setting-up-console-runner">设置控制台运行器</h2>        <section class="procedure-steps"><h3 id="16d69a61">在服务器上设置dotCover Console Runner</h3><ol class="list _decimal"><li class="list__item" id="6677c8bf"><p>                    从JetBrains网站<a href="/dotcover/download/#section=commandline" rel="noopener noreferrer" data-external="true" target="_blank">下载dotCover命令行工具包</a> 。</p></li><li class="list__item" id="2ce5fbe5"><p>将存档复制到要设置Console Runner的计算机上。</p></li><li class="list__item" id="cd322086"><p>将文件从存档提取到目录，您将从该目录启动Console Runner可执行文件<span class="filepath">dotCover.exe</span> 。</p></li></ol></section>        <p id="09da38a7">（可选）您可以将Console Runner作为<a href="https://www.nuget.org/packages/JetBrains.dotCover.CommandLineTools/" rel="noopener noreferrer" data-external="true" target="_blank">NuGet软件包获得</a> 。</p>    </div>    <div class="chapter"><h2 id="basic" data-toc="Running_Coverage_Analysis_from_the_Command_LIne#basic">.NET Framework的基本方案</h2>        <p id="a789ccb7">以下过程说明了在.NET Framework项目上使用Console Runner运行Coverage的最简单情况。</p>        <section class="procedure-steps"><h3 id="62fd5325">涵盖单元测试项目（.NET Framework）</h3><ol class="list _decimal"><li class="list__item" id="c1635bf1"><p>建立您的单元测试项目。</p></li><li class="list__item" id="8758f159"><p>导航到<span class="filepath">dotcover.exe</span>所在的目录。</p></li><li class="list__item" id="6af34634">                <p id="3ae4289f">在控制台中键入以下命令：</p>                <p id="f11e6be6">                    </p><div class="code-block" data-lang="none"><code class="code-block__wrapper">dotcover cover /TargetExecutable="D:\Program Files\NUnit 2.6\bin\nunit-console.exe" /TargetArguments="D:\Projects\TheApplication\bin\Debug\AppTests.dll" /Output="AppCoverageReport.html" /ReportType="HTML"</code></div>                <p></p>                <p id="6af53d42">哪里：</p>                <ul class="list _ul"><li class="list__item" id="d9ebdf7a"><p>                        <code class="code">TargetExecutable</code>是单元测试框架运行程序的路径</p></li><li class="list__item" id="bcf4d1e1"><p>                        <code class="code">TargetArguments</code>是传递给运行程序的参数-编译后的单元测试程序集。请注意，如果这些参数包含带空格的路径，则应使用其他双引号和反斜杠对它们进行转义，例如， <code class="code">... /TargetArguments="\"D:\My Projects\My Application\bin\Debug\AppTests.dll""</code>                    </p></li><li class="list__item" id="fd80ed65"><p>                        <code class="code">Output</code>是报告文件名。</p></li><li class="list__item" id="68f86cb0"><p><code class="code">ReportType</code>是报告的类型（在这种情况下，我们生成一个HTML报告）</p></li></ul>            </li><li class="list__item" id="b8d79264"><p>当控制台运行程序退出时， <code class="code">AppCoverageReport.html</code>文件应与dotCover控制台运行程序出现在同一目录中。打开此文件以在Web浏览器中浏览覆盖率结果。</p></li><li class="list__item" id="dbafc413"><p>或者，您可以在XML文件中传递参数。为此，请键入<code class="code">dotcover help cover coverage.xml</code>在命令行中。</p></li><li class="list__item" id="a8ce9ea9">                <p id="bc13f613">打开生成的<span class="filepath">coverage.xml</span>文件并指定配置参数。例如，配置文件如下所示：</p>                <p id="8914210c">                    </p><div class="code-block" data-lang="markup">
<!--?xml version="1.0" encoding="utf-8" ?=""-->
<analyseparams>
  <targetexecutable>D：\ Program Files \ NUnit 2.6 \ bin \ nunit-console.exe</targetexecutable> <targetarguments>D：\ Projects \ TheApplication \ bin \ Debug \ AppTests.dll</targetarguments> <output> AppCoverageReport.html </output> <reporttype>html</reporttype>
</analyseparams><!--?xml--></div>                <p></p>            </li><li class="list__item" id="d2c16771"><p>使用<code class="code">dotcover cover coverage.xml</code>使用指定的参数运行coverage。</p></li></ol></section>    </div>    <div class="chapter"><h2 id="basic-scenario-for-net-core" data-toc="Running_Coverage_Analysis_from_the_Command_LIne#basic-scenario-for-net-core">.NET Core的基本方案</h2>        <p id="0b4f76fd">对于.NET Core项目，控制台运行器提供了一个单独的<code class="code">cover-dotnet</code>命令（或更短的版本<code class="code">dotnet</code> ）。它运行<code class="code">dotnet.exe</code>覆盖率分析（就像您指定了<code class="code">dotnet</code>在<code class="code">--TargetExecutable</code> ）。</p>        <section class="procedure-steps"><h3 id="8190531a">涵盖单元测试项目（.NET Core）</h3><ol class="list _decimal"><li class="list__item" id="2a4bf7fe"><p>建立您的单元测试项目。</p></li><li class="list__item" id="2947e1a5"><p>导航到<span class="filepath">dotcover.exe</span>所在的目录。</p></li><li class="list__item" id="7288ed56">                <p id="6e7ae7ad">在控制台中键入以下命令：</p>                <div class="code-block" data-lang="none"><code class="code-block__wrapper">dotCover.exe dotnet --output=AppCoverageReport.html --reportType=HTML -- test "C:\MyProject\MainTests.csproj"</code></div>                <p id="558370e0">哪里：</p>                <ul class="list _ul"><li class="list__item" id="bbc252a9"><p>                        <code class="code">--output</code>是报告文件名。</p></li><li class="list__item" id="78e4ed3e"><p><code class="code">--reportType</code>是报告的类型（在这种情况下，我们生成一个HTML报告）</p></li><li class="list__item" id="0165d167"><p>                        <code class="code">-- test "C:\MyProject\MainTests.csproj"</code>最后是一个传递给<code class="code">dotnet</code> 。实际上，您可以将其替换为<code class="code">--TargetArguments="test \"C:\MyProject\MainTests.csproj\""</code>但这要长得多。</p></li><li class="list__item" id="8bfa4e0a"><p>您可能已经注意到，我们在命令行参数中使用了Unix风格的语法。您也可以在Windows上使用此语法。例如，以下是在Windows上可以互换的（但在macOS和Linux上不能互换）： <code class="code">/TempDir:"../myDir"</code>和<code class="code">--tempDir="../myDir"</code>                    </p></li></ul>            </li><li class="list__item" id="56467d98"><p>当控制台运行程序退出时， <code class="code">AppCoverageReport.html</code>文件应与dotCover控制台运行程序出现在同一目录中。打开此文件以在Web浏览器中浏览覆盖率结果。</p></li></ol></section>    </div>    <div class="chapter"><h2 id="using-dotnet-exe-to-run-coverage-analysis-of-unit-tests" data-toc="Running_Coverage_Analysis_from_the_Command_LIne#using-dotnet-exe-to-run-coverage-analysis-of-unit-tests">使用dotnet.exe运行.NET Core单元测试的覆盖率分析</h2>        <p id="d7b9d6aa">在.NET Core项目中执行覆盖率分析的<a href="#basic-scenario-for-net-core">基本方案</a>有一种替代<a href="#basic-scenario-for-net-core">方案</a> 。您可以使用一般的Microsoft驱动程序直接进行操作： <code class="code">dotnet.exe</code> 。这里的主要好处是您不需要下载dotCover控制台运行程序（这是Docker容器的一个加号）。</p>        <p id="6a67b905">您要做的就是打开项目的工作目录并运行： <code class="code">dotnet dotcover test</code>        </p>        <section class="procedure-steps"><h3 id="74dc73ae">若要使用dotnet.exe涵盖一个单元测试项目（.NET Core）（每个项目一次执行步骤1-4）</h3><ol class="list _decimal"><li class="list__item" id="119b5123"><p>在nuget.org官方网站上，找到<a href="https://www.nuget.org/packages/JetBrains.dotCover.DotNetCliTool/" rel="noopener noreferrer" data-external="true" target="_blank">JetBrains.dotCover。DotNetCliTool</a>软件包。</p></li><li class="list__item" id="8e56e74e"><p><span class="emphasis">不要</span>在你的单元测试项目中引用这个包。而是打开它<code class="code">.csproj</code>文件，并在其中添加包含软件包名称及其版本的行。 <code class="code">ItemGroup</code>元件。例如：</p><div class="code-block" data-lang="markup">
<itemgroup>
    <dotnetclitoolreference include="JetBrains.dotCover.DotNetCliTool" version="2019.2.0.1"></dotnetclitoolreference>
</itemgroup>
                </div>            <p></p></li><li class="list__item" id="bd959410"><p>在命令行中，转到包含单元测试项目的目录。</p></li><li class="list__item" id="c89d9f08"><p>跑</p><div class="code-block" data-lang="none">点网还原</div>这会将dotCover命令行工具下载到您的计算机。<p></p></li><li class="list__item" id="2fae83b4"><p>使用覆盖率分析运行测试：</p><div class="code-block" data-lang="none">dotnet dotcover测试</div>            <p></p></li></ol></section>        <div class="chapter"><h3 id="13c4f4e0">重要笔记</h3>            <ol class="list _decimal"><li class="list__item" id="432b000e"><p>建议的使用控制台运行程序的方法不是对dotCover.exe的替代，而是对其的补充。</p></li><li class="list__item" id="f7213847"><p>如果您想指定之前使用dotCover.exe的任何参数，可以通过添加<code class="code">dc</code>参数名称的前缀。例如，要指定报告类型，请使用<code class="code">--dcReportType</code>代替<code class="code">--ReportType</code> ：</p><div class="code-block" data-lang="none">dotnet dotcover测试--dcReportType = XML</div>                <p></p></li><li class="list__item" id="33d95e69"><p>如果您通过XML文件配置了dotCover.exe并希望继续使用它，请指定该文件的路径：</p><div class="code-block" data-lang="none">dotnet dotcover测试--dcXML =“ C：\ config \ config.xml”</div>XML文件中所有不适用于该运行器类型的参数都将被忽略。<p></p></li></ol>        </div>    </div>    <div class="chapter"><h2 id="filters" data-toc="Running_Coverage_Analysis_from_the_Command_LIne#filters">应用过滤器</h2>        <p id="6103aee2">如果覆盖率报告包含您不感兴趣的某些信息，则可以应用过滤器，该过滤器告诉Console Runner，覆盖率报告应包含或排除哪些内容。</p>        <aside class="tip sideblock" rel="6103aee2" id="8099c0a4" data-title="">            <p id="04490f75">请查看“ <a href="dotCover__Setting_up_Coverage_Filters.html">设置覆盖率过滤器”</a>以了解如何在dotCover GUI中配置过滤器。请注意，使用Console Runner运行Coverage时，不会应用在GUI中配置的过滤器。</p>        </aside>        <ul class="list _ul"><li class="list__item" id="7bed788d"><p>您可以按任何顺序指定包含和排除过滤器。</p></li><li class="list__item" id="eab9fe09"><p>与顺序无关，Console Runner首先应用包括过滤器，然后排除过滤器。</p></li><li class="list__item" id="ba1f1aaf"><p>如果未明确指定没有包含过滤器，则Console Runner首先包含所有内容，然后排除排除过滤器中指定的内容。</p></li><li class="list__item" id="8fbfa5e5"><p>如果有一些包含过滤器，那么Console Runner首先排除所有不匹配的包含过滤器，然后应用显式排除过滤器（如果有）。</p></li></ul>        <p id="620239b8">默认情况下，无论是否指定任何排除过滤器，Console Runner都会为系统程序集添加以下过滤器：</p>        <ul class="list _ul"><li class="list__item" id="8fc9c87b">                <code class="code">mscorlib</code>            </li><li class="list__item" id="bc82d0a8">                <code class="code">System</code>            </li><li class="list__item" id="64522aed">                <code class="code">System.*</code>            </li><li class="list__item" id="46ffaef9">                <code class="code">Microsoft.*</code>            </li></ul>        <p id="d8bff5ff">如有必要，您可以使用<code class="code">DisableDefaultFilters</code>命令行参数。</p>        <p id="265742b7">有两种方法可以指定coverage筛选器：</p><ul class="list _ul"><li class="list__item" id="428ae548">                    <a href="#filters_xml">使用XML配置文件</a>                </li><li class="list__item" id="9e6f5408">                    <a href="#filters_cmd">使用命令行参数</a>                </li></ul>        <p></p>        <section class="procedure-steps"><h3 id="filters_xml">使用XML配置文件设置coverage筛选器</h3><ul class="list "><li class="list__item" id="2ad228ca">要在覆盖率报告中排除某些项（模块，类，方法），同时保留所有其他项，请将相应的条目添加到<i id="743f2641">ExcludeFilters</i>节点。例如：<p id="xml_conf">                    </p><div class="code-block" data-lang="markup">...
<filters>
  <excludefilters>
    <filterentry><modulemask>AdditionalTests</modulemask></filterentry> <filterentry><classmask>MainTests。单位*主要</classmask></filterentry> <filterentry><classmask>测试。IntegrationTests</classmask> <functionmask>TestFeature1</functionmask>
    </filterentry>
  </excludefilters>
</filters>
                    </div>                <p></p>                <p id="77166e46">这里：</p><ul class="list _ul"><li class="list__item" id="789cf554"><p>                            <code class="code"><ModuleMask>AdditionalTests</ModuleMask></code> -来自相应模块的所有测试将被排除。 <code class="code">AdditionalTests</code>这是没有扩展名的程序集名称。</p></li><li class="list__item" id="c21bfc48"><p>                            <code class="code"><ClassMask>MainTests.Unit*</ClassMask></code> -名称以开头的所有类<code class="code">MainTests.Unit</code>将被排除。</p></li><li class="list__item" id="563b3024"><p>                            <code class="code"><ClassMask>MainTests.IntegrationTests</ClassMask> <FunctionMask>TestFeature1</FunctionMask></code> -的<code class="code">TestFeature1</code>的方法<code class="code">MainTests.IntegrationTests</code>类将被排除在外。注意<code class="code">FunctionMask</code>必须始终包含方法的简称。如果您省略任何元素<code class="code">FilterEntry</code> ，dotCover会将其视为通配符。例如，如果您删除<code class="code">ClassMask</code>在这种情况下，dotCover将排除所有<code class="code">TestFeature1</code>方法（属于所有模块和类）。</p></li></ul>                <p></p>            </li><li class="list__item" id="0520943c"><p>或者，要仅包括所需项目，而排除所有其他同类项目，请将相应条目添加到<i id="e74d617d">IncludeFilters</i>节点。</p></li><li class="list__item" id="a165e0c2">另一个选择是根据类和方法的属性过滤掉它们。例如，要过滤掉标有<code class="code">System.Diagnostics.CodeAnalysis.ExcludeFromCodeCoverageAttribute</code>属性，我们可以将以下内容添加到<span class="filepath">coverage.xml</span>配置文件中：<p id="1ad50ad3">                    </p><div class="code-block" data-lang="markup">...
<attributefilters>
  <attributefilterentry>
    <classmask>系统。诊断。代码分析。ExcludeFromCodeCoverageAttribute</classmask>
  </attributefilterentry>
</attributefilters></div>                <p></p>            </li></ul></section>        <p id="1c1bcd96">或者，您可以使用dotCover.exe命令行参数来设置coverage筛选器。</p>        <section class="procedure-steps"><h3 id="filters_cmd">使用命令行参数设置coverage筛选器</h3><ul class="list "><li class="list__item" id="342db3ee">要从覆盖率分析中排除/包括项目，您应该使用以下命令运行控制台运行程序： <code class="code">/Filters</code>参数。例如（为简单起见，我们忽略了与覆盖目标有关的参数）：<div class="code-block" data-lang="none">dotCover.exe的封面.../ Filters =-：module = AdditionalTests;-：type = MainTests。单元*; -：type = MainTests。IntegrationTests; function = TestFeature1;</div>                <p id="c626879f">该示例等效于上述XML配置<a href="#xml_conf">示例</a> 。请注意，分号（;）不仅分隔过滤器条目，而且分隔过滤器条目内的项目。</p>            </li><li class="list__item" id="d121b716"><p>开头为<code class="code">-:</code>负责排除以以下内容开头的条目，反之亦然<code class="code">+:</code> -包括在内。</p></li><li class="list__item" id="29651503"><p>如果您只需要排除/包括一个模块，则可以省略<code class="code">module</code>关键词：</p><div class="code-block" data-lang="none">dotCover.exe的封面.../ Filters =-：AdditionalTests;</div>            <p></p></li><li class="list__item" id="44d64da1">要根据类别和方法的属性过滤掉它们，您应该使用<code class="code">/AttributeFilters</code>参数。例如，要过滤掉标有<code class="code">System.Diagnostics.CodeAnalysis.ExcludeFromCodeCoverageAttribute</code>属性：<div class="code-block" data-lang="none">dotCover.exe的封面.../ AttributeFilters =系统。诊断。代码分析。ExcludeFromCodeCoverageAttribute;</div>                <p id="52df9477">分号（;）用作分隔符。</p>            </li></ul></section>    </div>    <div class="chapter"><h2 id="scope" data-toc="Running_Coverage_Analysis_from_the_Command_LIne#scope">改变承保范围</h2>        <p id="6aa11a09">默认情况下，当coverage快照准备就绪时，它仅包含有关已加载以供分析的程序集的信息，即未过滤出并具有测试的程序集。这可能会使总覆盖率不正确。</p>        <p id="57b3759e">如有必要，您可以更改应将其信息添加到快照的程序集的范围。为此，请使用<code class="code">Scope</code>参数。例如，要将项目中的所有程序集添加到快照，可以将以下内容添加到配置文件中：</p>        <div class="code-block" data-lang="markup">
<scope>
  <scopeentry>ProjectFolder / ** / *。dll</scopeentry> <scopeentry>ProjectFolder / ** / *。exe</scopeentry>
</scope>
        </div>        <p id="48673a08">请注意，无论指定范围如何， <a href="#filters">过滤器</a>排除的所有内容都将被排除。</p>    </div>    <div class="chapter"><h2 id="590491c6" data-toc="Running_Coverage_Analysis_from_the_Command_LIne#590491c6">涵盖多个测试项目</h2>        <p id="07fc1a0b">如果您的解决方案中有多个单元测试项目，则可以按照<a href="#basic">基本方案</a>中的说明一次运行所有项目。在这种情况下，为避免指定每个程序集的完整路径，可以在指定测试程序集时使用<i id="8251eca3">TargetWorkingDir</i>参数。例如：</p>        <p id="5a1bcbe9">            </p><div class="code-block" data-lang="markup">
<!--?xml version="1.0" encoding="utf-8" ?=""-->
<analyseparams>
  <targetexecutable>D：\ Program Files \ NUnit 2.6 \ bin \ nunit-console.exe</targetexecutable> <targetarguments>AppTests.dll AppTests2.dll AppTests3.dll</targetarguments> <targetworkingdir>D：\ Projects \ TheApplication \ bin \ Debug</targetworkingdir> <output> AppCoverageReport.html </output> <reporttype>html</reporttype>
</analyseparams><!--?xml--></div>        <p></p>        <p id="29b83619">但是，有时这种方法可能行不通。例如，当单元测试项目使用不同的单元测试框架时。在这种情况下，我们可以将覆盖范围细分，合并和报告为单个步骤。</p>        <p id="eee9544b">让我们假设我们有两个单元测试项目<i id="eba4f2e1">，TestProject1</i>使用MSTest的和<i id="7c09dda9">TestProject2</i>使用NUnit的。要在两个项目上运行并获得单个报告，我们执行以下步骤：</p>        <figure><img alt="涵盖多个步骤" title="涵盖多个步骤" src="/help/img/dotnet/2019.2/coverage_multiple_steps.png" id="918b36b8" width="601" height="480"></figure>        <section class="procedure-steps"><h3 id="d836a0e3">在单独的步骤中运行多个项目的覆盖范围</h3><ol class="list _decimal"><li class="list__item" id="c1ff62a2">创建两个配置文件，以在每个测试项目上运行<a href="dotCover__Console_Runner_Commands.html#cover">cover（c）</a>命令。 <span class="filepath">testProject1.xml</span>为使用MSTest的的<i id="53b62523">TestProject1：</i><p id="ac2b636f">                    </p><div class="code-block" data-lang="markup">
<!--?xml version="1.0" encoding="utf-8" ?=""-->
<coverageparams>
  <targetexecutable>C：\ Program Files（x86）\ Microsoft Visual Studio 12.0 \ Common7 \ IDE \ MSTest.exe</targetexecutable> <targetarguments>TestProject1.dll</targetarguments> <targetworkingdir>D：\ Projects \ TheApplication \ bin \ Debug</targetworkingdir> <output>快照1.dcvr </output>
</coverageparams><!--?xml--></div>                <p></p>以及使用NUnit的<i id="d12ff458">TestProject2的</i> <span class="filepath">testProject2.xml</span> ：<p id="fb72a84e">                    </p><div class="code-block" data-lang="markup">
<!--?xml version="1.0" encoding="utf-8" ?=""-->
<coverageparams>
  <targetexecutable>D：\ Program Files \ NUnit 2.6 \ bin \ nunit-console.exe</targetexecutable> <targetarguments>TestProject2.dll</targetarguments> <targetworkingdir>D：\ Projects \ TheApplication \ bin \ Debug</targetworkingdir> <output>快照2.dcvr </output>
</coverageparams><!--?xml--></div>                <p></p>            </li><li class="list__item" id="cd9d2801"><p>跑过<code class="code">cover (c)</code>使用准备好的配置文件在每个测试项目上执行以下命令： <code class="code">dotcover c testProject1.xml</code>和<code class="code">dotcover c testProject2.xml</code> 。结果，您将获得两个<a href="What_is_Coverage_Snapshot.html">coverage快照</a> ， <code class="code">Snapshot1.dcvr</code>和<code class="code">Snapshot2.dcvr</code> 。</p></li><li class="list__item" id="2a1d6a19">运行<a href="dotCover__Console_Runner_Commands.html#merge">merge（m）</a>命令合并两个快照：<br>                <code class="code">dotcover m merge.xml</code>                <br>其中<span class="filepath">merge.xml</span>是配置文件：<p id="b3788994">                    </p><div class="code-block" data-lang="markup">
<!--?xml version="1.0" encoding="utf-8" ?=""-->
<mergeparams>
  <source>快照1.dcvr <source>快照2.dcvr <output>合并快照</output>
</mergeparams><!--?xml--></div>                <p></p>            </li><li class="list__item" id="1d37899a">要从合并的快照生成HTML测试报告，请运行<a href="dotCover__Console_Runner_Commands.html#report">report（r）</a>命令<br>                <code class="code">dotcover r report.xml</code>                <br>其中<span class="filepath">report.xml</span>是配置文件：<p id="c7701a56">                    </p><div class="code-block" data-lang="markup">
<!--?xml version="1.0" encoding="utf-8" ?=""-->
<reportparams>
  <source>合并快照<output> CoverageReport.html </output> <reporttype>html</reporttype>
</reportparams><!--?xml--></div>                <p></p>            </li></ol></section>    </div>    <div class="chapter"><h2 id="pdb" data-toc="Running_Coverage_Analysis_from_the_Command_LIne#pdb">查找符号文件（PDB）</h2>        <a name="pdb_default"></a>            <p id="707e3ebf">                <a name="pdb_intro"></a>查找目标二进制文件的符号文件（PDB）对于计算覆盖率至关重要。如果您<a href="Unit_Testing__Index.html">涵盖单元测试</a>或<a href="Starting_Manual_Test_Session.html">涵盖启动项目</a> ，则dotCover可以使用当前解决方案的结构轻松找到符号文件。</p>            <p id="639881b4">默认情况下，dotCover在以下位置搜索符号文件：</p>            <ul class="list _ul"><li class="list__item" id="cf04a11b"><p>在二进制文件所在的同一目录中；</p></li><li class="list__item" id="ca3e36aa"><p>在二进制文件中指定的调试目录中；</p></li><li class="list__item" id="b88f0652"><p>在指定的所有目录中<code class="code">_NT_SYMBOL_PATH</code>环境变量和注册表中；</p></li></ul>                <p id="081270a7">如有必要，您可以指定其他位置来查找符号文件。为此，在使用<a href="dotCover__Console_Runner_Commands.html#cover">cover</a>命令时，请使用以下参数：</p>        <ul class="list _ul"><li class="list__item" id="eaaf8c86"><p>使用<code class="code">SymbolSearchPaths</code>参数<a name="search_path"></a>提供用分号分隔的路径列表以搜索符号文件。每个路径可以是目录路径，也可以是符号服务器路径（例如<span class="filepath">srv * C：\ LocalSymbols * http：// symbolserver：33417 /</span> ）。</p></li><li class="list__item" id="d567e7f9"><p>使用<code class="code">AllowSymbolServerAccess</code>参数，以允许在<code class="code">SymbolSearchPaths</code>参数，或<code class="code">_NT_SYMBOL_PATH</code>环境变量。</p></li></ul>    </div>    <div class="chapter"><h2 id="a283add4" data-toc="Running_Coverage_Analysis_from_the_Command_LIne#a283add4">也在本节中</h2>        <ul class="list _links" data-skip-index="skip"><li class="list__item"><a href="dotCover__Console_Runner_Configuration.html">控制台运行器配置</a></li><li class="list__item"><a href="dotCover__Console_Runner_Commands.html">控制台运行器命令</a></li></ul>    </div><div class="last-modified" data-skip-index="skip">上次修改时间：2019年9月30日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="Running_Applications_under_dotCover_Control.html">记录应用程序覆盖率</a> <a class="navigation-links__next" href="dotCover__Console_Runner_Configuration.html">控制台运行程序配置</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>