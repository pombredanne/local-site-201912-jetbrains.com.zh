<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>执行测试并分析结果-帮助|帮助dotCover</title><link rel="stylesheet" href="/resources.jetbrains.com/storage/help-app/v3/app.css"></head><body  data-id="Executing_Analyzing_Tests" data-article-props="
                {
                
            " seeals=":{=" ="" data-disqus-id="Executing_Analyzing_Tests_dcv"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索dotCover帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>dotCover 2019.2帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option value="rs" data-group="secondary">ReSharper 2.x / IntelliJ IDEA</option><option value="vs" data-group="primary">视觉工作室</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 id="Executing_Analyzing_Tests.xml" data-toc="Executing_Analyzing_Tests">执行测试并分析结果</h1>                                    <aside class="tip sideblock" rel="Executing_Analyzing_Tests.xml" id="0c5e93dc" data-title="">        <p id="fca14742">dotCover的单元测试运行器不允许运行两个或多个具有相同ID的测试。在实践中，这种情况很少发生，但是如果您确实有具有相同ID的测试，它们将在“单元测试”浏览器和“单元测试会话”窗口中显示为单个节点，并且仅运行其中一个。<br>请注意，测试框架以不同的方式识别测试。例如，MSTest使用测试方法FQN，而NUnit使用测试属性的属性作为测试ID。</p>    </aside>    <p id="304a00f5">dotCover提供了几种执行单元测试的方法。无论选择哪种方式，执行进度，测试结果和输出都将显示在“单元测试会话”窗口中，而覆盖结果将显示在“ <span class="control">单元测试覆盖率”</span>窗口中。</p>    <p id="cb592989">在运行覆盖率分析之前，请确保所有目标程序集都存在PDB信息。最安全的选择是使用<i id="5315ddf6" origin="dotnet">Debug</i>构建配置来构建代码。</p>        <div class="chapter"><h2 id="executing" data-toc="Executing_Analyzing_Tests#executing">执行和覆盖单元测试的不同方式</h2>        <p id="d107d9bb">有以下几种方法可以运行，调试或涵盖单元测试：</p>        <ul class="list _ul"><li class="list__item" id="91897aba"><p>使用其中一种方法<a href="Unit_Testing_in_Document.html#run_debug">在当前文档中</a>执行测试。</p></li><li class="list__item" id="457c952a"><p>使用一种方法<a href="Unit_Testing_in_Solution.html#execute">在项目/解决方案中</a>执行测试。</p></li><li class="list__item" id="ba609e4a">                <p id="d270af96">如果存在现有的<a href="Using_Unit_Test_Sessions.html">单元测试会话</a> ，则可以在<a href="Using_Unit_Test_Sessions.html">会话</a>中运行，调试或涵盖部分或全部测试：</p>                <ul class="list _ul"><li class="list__item" id="a8ef2f9b"><p>在“ <a href="Reference__Windows__Unit_Test_Sessions.html">单元测试会话”窗口中</a>选择要执行的<a href="Reference__Windows__Unit_Test_Sessions.html">测试</a> ，然后单击<span class="control">“运行单元测试”。</span> <img alt="ThemedIcon RunTest屏幕呈灰色" title="ThemedIcon RunTest屏幕呈灰色" src="/help/img/dotnet/2019.2/ThemedIcon.RunTest.Screen.[Gray].png" id="952df551" width="16" height="16" class="inline-icon-16"> / <span class="control">调试单元测试</span> <img alt="ThemedIcon调试屏幕灰色" title="ThemedIcon调试屏幕灰色" src="/help/img/dotnet/2019.2/ThemedIcon.Debug.Screen.[Gray].png" id="669badb0" width="16" height="16" class="inline-icon-16"> / <span class="control">封面单元测试</span> <img alt="ThemedIcon封面屏幕灰色" title="ThemedIcon封面屏幕灰色" src="/help/img/dotnet/2019.2/ThemedIcon.Cover.Screen.[Gray].png" id="424c10ff" width="16" height="16" class="inline-icon-16">在工具栏上或按<kbd data-rs="Ctrl+T R" data-vs="Ctrl+U R">Ctrl+T R</kbd> / <kbd data-rs="Ctrl+T D" data-vs="Ctrl+U D">Ctrl+T D</kbd> / <kbd data-rs="Ctrl+T H" data-vs="Ctrl+U H">Ctrl+T H</kbd> 。</p></li><li class="list__item" id="e811f847"><p>要运行或涵盖会话中的<span class="control">所有测试</span> ，请单击<span class="control">“运行所有测试”。</span> <img alt="ThemedIcon RunAll屏幕呈灰色" title="ThemedIcon RunAll屏幕呈灰色" src="/help/img/dotnet/2019.2/ThemedIcon.RunAll.Screen.[Gray].png" id="6ef83742" width="16" height="16" class="inline-icon-16">或<span class="control">涵盖所有测试</span> <img alt="ThemedIcon CoverAll屏幕灰色" title="ThemedIcon CoverAll屏幕灰色" src="/help/img/dotnet/2019.2/ThemedIcon.CoverAll.Screen.[Gray].png" id="d002ff6e" width="16" height="16" class="inline-icon-16">在工具栏上，或者选择<a name="UnitTestRunCurrentSession"></a> <span class="menupath" data-skip-index="skip">ReSharper |单元测试|运行当前会话</span>或<a name="CoverAllTestsFromSolution"></a> <span class="menupath" data-skip-index="skip">ReSharper |单元测试|</span>在主菜单中<span class="menupath" data-skip-index="skip">覆盖“解决方案</span>中的<span class="menupath" data-skip-index="skip">所有测试”</span>或按<kbd data-rs="Ctrl+T Y" data-vs="Ctrl+U Y">Ctrl+T Y</kbd> / <kbd data-rs="Ctrl+T K" data-vs="Ctrl+U K">Ctrl+T K</kbd> 。</p></li><li class="list__item" id="45077ffc"><p>要在会话中连续运行选定的测试，直到其中一项测试失败，请在“ <span class="control">运行单元测试”中</span>展开选择器<img alt="ThemedIcon RunTest屏幕呈灰色" title="ThemedIcon RunTest屏幕呈灰色" src="/help/img/dotnet/2019.2/ThemedIcon.RunTest.Screen.[Gray].png" id="4438272f" width="16" height="16" class="inline-icon-16">按钮，然后选择<span class="control">运行单元测试，直到失败</span> 。</p></li></ul>            </li></ul>        <a name="chunk_execution_process"></a>            <p id="67854869">在单元测试会话中运行测试时，执行进度将显示在“单元测试会话”窗口和“ <span class="control">停止执行</span> ”工具栏下的状态栏中。 <img alt="ThemedIcon StopTest屏幕灰色" title="ThemedIcon StopTest屏幕灰色" src="/help/img/dotnet/2019.2/ThemedIcon.StopTest.Screen.[Gray].png" id="89312734" width="16" height="16" class="inline-icon-16">按钮变为活动状态。您可以单击此按钮来中止测试的执行或覆盖率分析。您可以同时运行多个单元测试会话。但是，调试测试时，一次只能执行一个测试会话。</p>            <p id="8897e00d">如有必要，您可以启用“ <span class="control">跟踪运行测试”</span> <img alt="ThemedIcon TrackRun屏幕呈灰色" title="ThemedIcon TrackRun屏幕呈灰色" src="/help/img/dotnet/2019.2/ThemedIcon.TrackRun.Screen.[Gray].png" id="4960a4bf" width="16" height="16" class="inline-icon-16">工具栏上的选项。如果已打开，则测试树中的选择将自动切换到当前正在运行的测试，并且输出面板在执行期间始终显示当前测试的输出。</p>            <p id="74297bc1">您还可以<span class="control">在运行测试时</span>启用<span class="control">自动滚动输出</span> <img alt="ThemedIcon ScrollTo底屏灰色" title="ThemedIcon ScrollTo底屏灰色" src="/help/img/dotnet/2019.2/ThemedIcon.ScrollToBottom.Screen.[Gray].png" id="f616043d" width="16" height="16" class="inline-icon-16">在测试运行时跟踪其输出的选项。</p>                <a name="repeat"></a>                        <p id="941acbec">如有必要，您始终可以通过单击“ <span class="control">重复上一个运行”</span>来<span class="control">重复</span>执行或最后执行测试的覆盖率分析<img alt="ThemedIcon重播屏幕灰色" title="ThemedIcon重播屏幕灰色" src="/help/img/dotnet/2019.2/ThemedIcon.Rerun.Screen.[Gray].png" id="37394af3" width="16" height="16" class="inline-icon-16">在工具栏上，按<kbd data-rs="Ctrl+T T" data-vs="Ctrl+U U">Ctrl+T T</kbd>或选择<a name="%actionId%"></a> <span class="menupath" data-skip-index="skip">ReSharper |单元测试|</span>在菜单中<span class="menupath" data-skip-index="skip">重复上一个运行</span> 。</p>                </div>        <div class="chapter"><h2 id="analyzing" data-toc="Executing_Analyzing_Tests#analyzing">分析执行结果和输出</h2>        <p id="784f0b79">执行结束后，结果将在“单元测试会话”窗口中可视化。</p>        <figure><img alt="dotCover单元测试会议" title="dotCover单元测试会议" src="/help/img/dotnet/2019.2/dotCover_unit_test_sessions.png" id="5d7c398b" width="731" height="396"></figure>        <p id="2ea78800">输出窗格（您可以使用“ <span class="control">显示输出”</span>将其放置在右侧或底部<img alt="主题图标预览切换屏幕灰色" title="主题图标预览切换屏幕灰色" src="/help/img/dotnet/2019.2/ThemedIcon.PreviewToggle.Screen.[Gray].png" id="ac5d4989" width="16" height="16" class="inline-icon-16">工具栏上的按钮）显示所选测试的输出。如果测试失败，则dotCover还会添加有关失败的简短信息和/或显示异常的堆栈跟踪。您可以使用输出窗格中的可单击链接直接导航到故障所涉及的类型和方法。如果输出显示指向不属于解决方案的文件的链接，则可以单击此链接在与相应文件类型关联的外部应用程序中打开该文件，或者<kbd class="keystroke" data-bypass="true"><span class="keystroke__value">Ctrl</span></kbd>单击以在Visual Studio中将其打开。</p>                <p id="d7def81c">默认情况下，dotCover根据输出区域的当前宽度在输出中包装长行。如有必要，可以通过清除“ <span class="control">在单元测试会话</span>中将<span class="control">长行包裹”</span>复选框取消选择不包裹长行。 <a name="ut_settings_page"></a> <span class="menupath" data-skip-index="skip">工具|</span> dotCover选项的“ <span class="menupath" data-skip-index="skip">单元测试”</span>页面。</p>        <p id="612f5cd8">            <a name="ut_status_bar"></a>在状态栏上，您可以查看会话中的测试总数以及处于不同状态的测试数：</p><figure><img alt="单元测试过滤器" title="单元测试过滤器" src="/help/img/dotnet/2019.2/ut_filters.png" id="0f6e8a25" width="330" height="20"></figure>默认情况下，显示所有状态下的测试，但是您可以单击相应的图标以按测试状态过滤测试。你也可以<kbd class="keystroke" data-bypass="true"><span class="keystroke__value">Ctrl</span></kbd>单击几个图标以显示几种不同状态的测试。将在“单元测试会话”窗口中显示每个测试的状态，并带有以下图标之一：<p></p>        <ul class="list _ul"><li class="list__item" id="b05c9da2"><p>                <img alt="ThemedIcon RunningTest屏幕呈灰色" title="ThemedIcon RunningTest屏幕呈灰色" src="/help/img/dotnet/2019.2/ThemedIcon.RunningTest.Screen.[Gray].png" id="13e3b1b6" width="16" height="16" class="inline-icon-16"> —当前正在执行单元测试。</p></li><li class="list__item" id="7d9eadf3"><p>                <img alt="ThemedIcon TestPending屏幕灰色" title="ThemedIcon TestPending屏幕灰色" src="/help/img/dotnet/2019.2/ThemedIcon.TestPending.Screen.[Gray].png" id="88614c3f" width="16" height="16" class="inline-icon-16"> —已安排单元测试在当前运行中执行。</p></li><li class="list__item" id="734e51c4"><p>                <img alt="主题图标状态未知屏幕灰色" title="主题图标状态未知屏幕灰色" src="/help/img/dotnet/2019.2/ThemedIcon.StatusUnknown.Screen.[Gray].png" id="42f87f20" width="16" height="16" class="inline-icon-16"> —未执行单元测试。</p></li><li class="list__item" id="b450d2f1"><p>                <img alt="ThemedIcon成功画面灰色" title="ThemedIcon成功画面灰色" src="/help/img/dotnet/2019.2/ThemedIcon.Success.Screen.[Gray].png" id="499f2fc6" width="16" height="16" class="inline-icon-16"> — lats测试运行中通过的单元测试。</p></li><li class="list__item" id="1e43e51f"><p>                <img alt="ThemedIcon错误屏幕灰色" title="ThemedIcon错误屏幕灰色" src="/help/img/dotnet/2019.2/ThemedIcon.Error.Screen.[Gray].png" id="f0ee1210" width="16" height="16" class="inline-icon-16"> — lats测试运行中单元测试失败。</p></li><li class="list__item" id="b12e61d0"><p>                <img alt="ThemedIcon忽略屏幕灰色" title="ThemedIcon忽略屏幕灰色" src="/help/img/dotnet/2019.2/ThemedIcon.Ignore.Screen.[Gray].png" id="0ac4a593" width="16" height="16" class="inline-icon-16"> —在上次测试运行中忽略了单元测试。它具有相应的属性（例如<code class="code">Ignore</code> （适用于NUnit测试）或包含<a href="Test_Categories.html#ignore">在dotCover设置中忽略</a>的类别中。</p></li><li class="list__item" id="1e6263a0"><p>                <img alt="主题图标状态终止屏幕灰色" title="主题图标状态终止屏幕灰色" src="/help/img/dotnet/2019.2/ThemedIcon.StatusAborted.Screen.[Gray].png" id="3c7441e5" width="16" height="16" class="inline-icon-16"> —在上次测试运行中单元测试被中止。</p></li><li class="list__item" id="4a6894e0"><p>                <img alt="主题图标状态不确定屏幕灰色" title="主题图标状态不确定屏幕灰色" src="/help/img/dotnet/2019.2/ThemedIcon.StatusInconclusive.Screen.[Gray].png" id="4109373d" width="16" height="16" class="inline-icon-16"> —单元测试<a name="inconclusive_test_definition"></a>已启动，但dotCover无法读取测试运行程序输出。这可能是测试运行程序中发生错误的迹象。</p></li></ul>        <p id="80cd5680">相同的图标用于显示分组项目（类，项目等）的状态。</p>        <p id="31c60c3f">这些图标还用于每个会话的选项卡上，以显示会话的整体执行结果。</p>        <p id="8e5eb48f">测试会话树上方的相应图标显示每个状态下有多少个测试。的<img alt="主题图标单元会话屏幕灰色" title="主题图标单元会话屏幕灰色" src="/help/img/dotnet/2019.2/ThemedIcon.UnitSession.Screen.[Gray].png" id="6dfd2eb6" width="16" height="16" class="inline-icon-16">图标显示会话中的测试总数。<br>使用这些图标，您可以过滤树，以便仅显示处于相应状态的测试。</p>            </div>    <div class="chapter"><h2 id="status" data-toc="Executing_Analyzing_Tests#status">状态图示</h2>        <p id="6cf63117">还有另一种方法可以控制单元测试结果。</p>        <figure><img alt="Visual Studio状态栏上的测试状态" title="Visual Studio状态栏上的测试状态" src="/help/img/dotnet/2019.2/continuous_testing_status.png" id="7f4f961b" width="303" height="92"></figure>        <p id="8afd2d00">如果有任何失败的测试或已更改的测试，Visual Studio主窗口状态栏上的图标将通知您。请注意，该图标会通知您有关<span class="emphasis">所有会话</span>的<span class="emphasis">所有测试</span>结果的信息。如果为会话启用了连续测试模式，该图标还将通知您有关该会话的<a href="Continuous_Testing.html#dirty">过时测试</a> 。</p>        <ul class="list _ul"><li class="list__item" id="3284343b"><p>                <img alt="状态图标ct已通过" title="状态图标ct已通过" src="/help/img/dotnet/2019.2/status_icon_ct_passed.png" id="3afeb288" width="22" height="22" class="inline-icon-22"> ：所有测试均已通过。没有更改或过时的测试。</p></li><li class="list__item" id="4d684eca"><p>                <img alt="状态图标ct失败" title="状态图标ct失败" src="/help/img/dotnet/2019.2/status_icon_ct_failed.png" id="dd6848ca" width="22" height="22" class="inline-icon-22"> ：某些测试在上次测试运行中失败，并且没有更多更改或过时的测试。</p></li><li class="list__item" id="b7099f37"><p>                <img alt="状态图标脏测试" title="状态图标脏测试" src="/help/img/dotnet/2019.2/status_icon_dirty_tests.png" id="546edd38" width="22" height="22" class="inline-icon-22"> ：在上次测试运行后，某些测试已更改或过时。如果在前一次运行中测试失败，则该状态图标可能与“失败”图标一起显示。</p></li><li class="list__item" id="a5822335"><p>                <img alt="状态图标ct进行中" title="状态图标ct进行中" src="/help/img/dotnet/2019.2/status_icon_ct_in_progress.png" id="e4245b67" width="22" height="22" class="inline-icon-22"> ：正在运行测试。</p></li></ul>        <p id="43c63e0c">对于除“通过”以外的状态栏图标，dotCover会显示此状态下的测试数量。随后，您可以单击此数字以在编辑器中导航到这些测试。</p>        <p id="188e7404">您也可以双击状态图标以查看详细信息。 dotCover将打开“ <span class="control">单元测试会话”</span>窗口。如果测试更改或失败，则dotCover将自动将您导航到相关测试。</p>    </div>    <div class="chapter"><h2 id="coverage" data-toc="Executing_Analyzing_Tests#coverage">分析覆盖范围结果</h2>        <p id="2f0256d3">运行单元测试的覆盖率分析后，您可以在打开的“ <span class="control">单元测试覆盖率”</span>窗口中研究覆盖率结果。该窗口显示整个解决方案的代码覆盖率树。你也可以切换到<a href="dotCover__Detecting_Hot_Spots.html">热点视图</a>通过单击工具栏上的<span class="control">热点</span> 。</p>        <figure><img alt="dotCover单元测试范围" title="dotCover单元测试范围" src="/help/img/dotnet/2019.2/dotCover_unit_test_coverage.png" id="6458b416" width="595" height="362"></figure>        <p id="799e0c32">在“ <a href="dotCover__Analyzing_Test_Coverage.html">使用覆盖范围结果”</a>部分中介绍了探索覆盖范围结果的不同方法。</p>    </div>    <div class="chapter"><h2 id="customizing" data-toc="Executing_Analyzing_Tests#customizing">定制执行流程</h2>                <p id="dc8fa11d">默认情况下，dotCover使用单元测试项目设置来定义执行测试时应使用的.NET Framework版本和处理器体系结构。</p>        <aside class="note " rel="dc8fa11d" id="36d2fb3c" data-title="">            <p id="5df64922">如果不同的单元测试会话中的执行设置不同，则测试可能在一个会话中通过而在另一个会话中失败。因此，dotCover不会在添加了相同测试的其他会话中更新执行结果。同样，在编辑器中为测试显示的<a href="Unit_Testing_in_Document.html#discover">执行状态图标</a>对应于上次执行该测试会话的结果。</p>        </aside>        <p id="267ef7a4">当项目中的测试（有时间接或隐式）使用基于CLR2的程序集并且您的项目已经以CLR4为目标时，在测试执行期间可能会发生错误。通过明确指定应使用哪种CLR（.NET Framework），可以避免这种情况。为此，请使用<span class="menupath" data-skip-index="skip">ReSharper |</span> <span class="control">Default</span>上的“ <span class="control">默认.NET Framework版本”</span>选择器。 <span class="menupath" data-skip-index="skip">选项|工具|</span> dotCover选项的“ <span class="menupath" data-skip-index="skip">单元测试”</span>页面。此首选项会影响在NUnit，XUnit和MSpec测试框架下运行的测试。它对在MsTest下运行的测试没有影响。</p>        <p id="2f04035c">您还可以使用该选项页面上的“ <span class="control">默认平台体系结构”</span>选择器来更改平台体系结构（32位或64位）。</p>        <p id="4ac2f1b3">如有必要，可以使用工具栏上的“ <span class="control">选项”</span>选择器覆盖特定<a href="Using_Unit_Test_Sessions.html">单元测试会话的</a>这些设置。</p>    </div>    <div class="chapter"><h2 id="log" data-toc="Executing_Analyzing_Tests#log">学习执行日志</h2>        <p id="77b9a77a">            <a href="Reference__Windows__Unit_Test_Sessions.html">单元测试会话窗口</a>包含测试执行日志，通过该日志可以将与测试执行过程相关的问题与单元测试结果分开。<br>通常，如果某些测试在执行后处于“不确定”状态，则通常需要检查执行日志，这可能表明测试运行程序中发生错误。</p>                <p id="8e320203">如果测试运行程序或dotCover报告了错误，则错误数量将显示在窗口状态栏的右侧，否则将显示<span class="control">OK</span> 。<br>要显示或隐藏执行日志，请单击<span class="control">日志</span> <img alt="ThemedIcon SessionLog屏幕呈灰色" title="ThemedIcon SessionLog屏幕呈灰色" src="/help/img/dotnet/2019.2/ThemedIcon.SessionLog.Screen.[Gray].png" id="2eb58c22" width="16" height="16" class="inline-icon-16">按钮。</p>        <p id="c008b247">默认情况下，仅记录严重性级别为“错误”的事件。如有必要，您可以更改最低严重性级别。为此，请右键单击日志区域并选择所需的严重性级别，或使用“ <span class="control">工具” |</span> “ <span class="control">显示”中的“显示日志条目...”</span>选择器。 dotCover选项的“ <span class="control">单元测试”</span>页面。</p>        <p id="538ec486">您还可以通过在上下文菜单中选择相应的命令将整个日志复制到剪贴板。</p>    </div>    <div class="last-modified" data-skip-index="skip">上次修改时间：2019年9月30日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="Test_Categories.html">使用测试类别</a> <a class="navigation-links__next" href="Continuous_Testing.html">连续测试</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>