<html lang="en-US" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><meta charset="UTF-8"><title>使用ZIP发行版升级-帮助|帮助上游</title><link rel="stylesheet" href="/resources.jetbrains.com/storage/help-app/v3/app.css"></head><body  data-id="Upgrade_with_a_ZIP_distribution"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索上游帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>上载2019.1帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option value="default" data-group="primary" selected>默认（Windows / Linux）</option><option value="mac_os_x_10.5_" data-group="secondary">默认（Mac OS X 10.5+）</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 id="Upgrade_with_a_ZIP_distribution.xml" data-toc="Upgrade_with_a_ZIP_distribution">使用ZIP发行版升级</h1>    <p id="2bd16da2">请按照以下说明进行操作：</p>    <ul class="list _ul"><li class="list__item" id="71e0d791">            <p id="01ddae5a">使用ZIP分发将现有的Upsource安装（ZIP或Docker）升级到较新的安装。</p>        </li><li class="list__item" id="e08f73b1">            <p id="31191cd8">从<a href="upsource-distributed-installation.html">上游分布式安装</a>迁移到最新的ZIP安装。</p>        </li></ul>    <p id="2a8dfda3">如下所述，升级过程会因版本增量（即2018.1至2018.2与2018.2.0至2018.2.5）而有很大差异。</p>    <aside class="note " rel="2a8dfda3" id="6e56c4ba" data-title="">        <p id="b98ae17a">此处列出的所有命令都是Windows命令。如果您使用的是Linux或macOS，只需更换<code class="code">.bat</code>与<code class="code">.sh</code> 。</p>    </aside>    <section class="procedure-steps"><ol class="list _decimal"><li class="list__item" id="30cccc45"><p>如果要升级到版本2018.2，请在运行现有的Upsource安装时<a href="backup.html">创建备份</a> 。您可以忽略此步骤以进行补丁程序更新（即，从2018.2.0到2018.2.1），但前提是您现有的安装是ZIP。</p></li><li class="list__item" id="4bbd33af"><p>如果您当前的Upsource安装已设置为可与独立（外部） <a href="hub.html">集线器一起使用</a> ，请先<a href="/help/hub/upgrading-hub-installation.html" rel="noopener noreferrer" data-external="true" target="_blank">将其升级</a>到最新版本，然后再继续进行操作。</p></li><li class="list__item" id="44754080"><p>停止上载： <code class="code"><upsource_home>\bin\upsource.bat stop</code>        </p></li><li class="list__item" id="2a9333e1">            <p id="c93a5b74">使用操作系统的工具来确保Upsource启动的所有Java进程都不再运行。（在Windows上，您可以使用<a href="http://technet.microsoft.com/en-us/sysinternals/bb896653.aspx" rel="noopener noreferrer" data-external="true" target="_blank">Process Explorer</a> 。）</p>            <ul class="list _ul"><li class="list__item" id="011c43b5"><p>如果没有待处理的与上游资源相关的Java进程，请继续执行下一步。</p></li><li class="list__item" id="0c150e98">                    <p id="02354d07">如果仍有与上游相关的Java进程正在运行：</p>                    <ul class="list _alpha-lower"><li class="list__item" id="fcd08acf"><p>（可选，仅Windows）请考虑使用<a href="http://helpx.adobe.com/experience-manager/kb/TakeThreadDump.html" rel="noopener noreferrer" data-external="true" target="_blank">jstack</a>工具从这些进程中获取线程转储（在Windows上，该文件位于<i id="32bea9e4"><upsource_home>/ internal / java / windows-amd64 / bin下</upsource_home></i> ）， <a href="mailto:upsource-support@jetbrains.com.xml" data-external="true">并将线程转储提供给JetBrains</a>进行调查。</p></li><li class="list__item" id="e0095325"><p>杀死出色的过程树。</p></li></ul>                </li></ul>        </li><li class="list__item" id="df0026f2"><p>如果你的<i id="04f15501"><upsource_home></upsource_home></i>目录名称不是特定于内部版本的，请重命名<i id="43cb7f9e"><upsource_home>        </upsource_home></i>到<i id="4ebd77c8">Upsource.old</i> （可以使用其他名称）。</p></li><li class="list__item" id="7f345cc9">            <p id="62f7a85e">使用新的Upsource版本下载并解压缩zip存档。</p>            <aside class="note " rel="62f7a85e" id="0ff2f4aa" data-title="">                <p id="04d8ead7">解压缩的安装不应放在旧的<i id="43c57efa"><upsource_home></upsource_home></i>包含旧文件的目录。</p>            </aside>        </li><li class="list__item" id="e3ed7a4d">            <p id="a10908bb">启动上游（新实例）： <code class="code"><upsource_home>\bin\upsource.bat start</code>            </p>            <p id="3e6d1bc7">它将在默认浏览器中打开“配置向导”：</p>            <aside class="note " rel="3e6d1bc7" id="a1185b78" data-title="">                <p id="8a2ff760">启动Upsource前端的URL已写入控制台，也可以在<span class="filepath"><upsource_home>\ logs \ upsource-stdout.log中找到</upsource_home></span>                </p>            </aside>            <figure><img alt="upgrade_wizard1.png" title="upgrade_wizard1.png" src="/help/img/upsource/2019.1/upgrade_wizard1.png" id="9bc15d3e" width="400" height="374"></figure>        </li><li class="list__item" id="dd0dbb62">            <p id="86e19036">点击<span class="control">升级</span> 。</p>        </li><li class="list__item" id="9e693431">            <p id="ef7862e0">在此步骤中，选择以前的安装或备份位置，以从以下位置升级：</p>            <p id="7f6897ce">                </p><figure><img alt="upgrade_wizard2.png" title="upgrade_wizard2.png" src="/help/img/upsource/2019.1/upgrade_wizard2.png" id="c5e9b3ca" width="400" height="1084"></figure>            <p></p>            <p id="08905983">如果您要指定<b id="6efab7f3">备份</b>的位置（您应该有<b id="6efab7f3">备份</b>的位置，请参阅步骤1）：</p>            <ul class="list _ul"><li class="list__item" id="129feba7"><p>将所有较旧的ZIP安装升级到版本2018.2。</p></li><li class="list__item" id="d8c85e57"><p>将任何Docker安装升级到任何较新版本，包括补丁程序升级（即2018.2.0至2018.2.1）。</p></li><li class="list__item" id="4b328d56"><p>从<a href="upsource-distributed-installation.html">Upsource分布式安装</a>迁移。</p></li></ul>            <p id="2d8244f4">备份的位置是<i id="a18d0407">backups</i>文件夹中特定于日期的目录。</p>            <p id="9efd5f13">仅当要补丁升级2018.2 ZIP安装（即2018.2.0至2018.2.1）时，才指定先前安装的位置（主目录）。</p>            <p id="96078554">单击<span class="control">下一步</span> 。</p>        </li><li class="list__item" id="c6a273f9">            <p id="928567e7">现在，您可以验证和更改（如有必要）系统设置和系统目录的位置。您也可以从HTTP切换到<a href="configuration-wizard.html#http-https">HTTPS模式</a> ，反之亦然，无论之前的设置如何：</p>            <figure><img alt="upgrade_wizard4.png" title="upgrade_wizard4.png" src="/help/img/upsource/2019.1/upgrade_wizard4.png" id="e251d0f3" width="400" height="1380"></figure>        </li><li class="list__item" id="60fa36ac">            <p id="cee5a453">完成后，单击“ <span class="control">升级”</span> 。</p>            <p id="c0702a74">等待一点，让Upsource启动其组件：</p>            <figure><img alt="upsource_starting.png" title="upsource_starting.png" src="/help/img/upsource/2019.1/upsource_starting.png" id="a8579498" width="400" height="590"></figure>            <p id="18632916">完成后，它将打开其欢迎页面。</p>        </li></ol></section>    <div class="last-modified" data-skip-index="skip">上次修改时间：2019年8月9日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="upgrade-from-docker-to-docker.html">从Docker升级到Docker</a> <a class="navigation-links__next" href="upgrade-with-a-minimal-downtime.html">升级，停机时间极短</a></div><section class="seealso" data-skip-index="skip"><div class="seealso__header"><h2>也可以看看</h2></div><div class="seealso__content"><div class="seealso__col" data-skip-index="skip"><h3>操作方法：</h3><ul class="list"><li class="list__item"><a href="tuning-up-a-zip-installation.html">调整ZIP安装</a></li></ul></div></div></section></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>