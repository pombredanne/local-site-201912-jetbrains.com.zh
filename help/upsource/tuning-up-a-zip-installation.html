<html lang="en-US" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><meta charset="UTF-8"><title>调整ZIP安装-帮助|帮助上游</title><link rel="stylesheet" href="/resources.jetbrains.com/storage/help-app/v3/app.css"></head><body  data-id="Tuning_up_a_ZIP_installation"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索上游帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>上载2019.1帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option value="default" data-group="primary" selected>默认（Windows / Linux）</option><option value="mac_os_x_10.5_" data-group="secondary">默认（Mac OS X 10.5+）</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 id="Tuning_up_a_ZIP_installation.xml" data-toc="Tuning_up_a_ZIP_installation">调整ZIP安装</h1>    <aside class="note " rel="Tuning_up_a_ZIP_installation.xml" id="25b45af3" data-title="">        <p id="ae04dcde">本页上的命令适用于Linux和OSX。对于Windows安装，请替换<code class="code">.sh</code>与<code class="code">.bat</code>并使用反斜杠。</p>        <p id="a884e97b">始终代表运行Upsource服务的OS用户执行命令。这些命令创建配置文件和文件夹。上游服务用户应具有足够的权限来访问这些文件和文件夹。</p>    </aside>    <aside class="note " rel="Tuning_up_a_ZIP_installation.xml" id="acfd5ad1" data-title="">        <p id="fa0ed206">阅读有关上游服务，流程，属性以及它们如何在<a href="advanced-upsource-tuning.html">高级上游调整中进行</a>组织和相互关联的<a href="advanced-upsource-tuning.html">信息</a> 。</p>    </aside>    <aside class="warning " rel="Tuning_up_a_ZIP_installation.xml" id="c32d5355" data-title="">        <p id="7fd623d0">如果不小心，从配置文件到数据库的单向同步可能会导致问题。在“上游” UI中设置的系统属性将直接应用于数据库。如果您更改了配置文件中已更新的用户界面中的设置，则配置文件中的设置将在重新启动时应用于数据库，从而覆盖用户界面中的设置。</p>    </aside>    <div class="chapter"><h2 id="configure-launcher-properties" data-toc="Tuning_up_a_ZIP_installation#configure-launcher-properties">配置上游启动器属性</h2>        <p id="e1bf3b8a">上游启动器过程使用：</p>        <ul class="list _ul"><li class="list__item" id="01f3e4da">                <p id="9e0c718d">特定于上游的属性-可以使用<code class="code">configure</code>命令。</p>                <p id="4b9badb6">请参阅<a href="upsource-launcher-properties.html#upsource-specific-properties">可配置的特定于上游的启动器属性的列表</a> 。</p>            </li><li class="list__item" id="7e465242">                <p id="67fe5cd8">JVM属性-可以使用<code class="code">configure</code>命令或通过手动编辑配置文件<i id="ac38fb6b">upsource.jvmoptions</i> 。</p>                <p id="e5da3da6">JVM属性也可以<b id="ca0ca10d"><a href="#change-jvm-temporary">临时</a></b>更改，将其作为临时参数传递给<code class="code">start</code>命令。此方法仅将更改应用于当前运行，而不更改配置文件。当您要测试对服务器配置的更改时，请使用此选项。</p>                <p id="946058b5">请参阅<a href="upsource-launcher-properties.html#default-jvm-options">Upsource Launcher进程的默认JVM选项列表</a> 。</p>            </li></ul>        <section class="procedure-steps"><h3 id="97eefc25">要更改特定于上游的启动器属性：</h3><ol class="list _decimal"><li class="list__item" id="e27a1b99"><p>停止上载： <code class="code"><upsource_home>/bin/upsource.sh stop</code>            </p></li><li class="list__item" id="f66eb6f6"><p>输入<code class="code">upsource.sh configure</code>命令，然后是您要在配置文件中更新的所有设置。您可以在一个命令中设置多个选项。例如：</p><div class="code-block" data-lang="bash"><upsource_home>/bin/upsource.sh configure --listen-port 1111 --base-url http://upsource.mydomain.com:2222</upsource_home></div>            <p></p></li><li class="list__item" id="486d45f0"><p><a href="starting-stopping.html">启动Upsource</a> 。</p></li></ol></section>        <aside class="tip sideblock" rel="97eefc25" id="5d8d76f5" data-title="">            <p id="e4a0900c">您可以将特定于Upsource的属性和JVM属性混合在一起<code class="code">configure</code>命令。</p>        </aside>        <section class="procedure-steps"><h3 id="change-jvm-program">要以编程方式更改JVM Launcher属性：</h3><ol class="list _decimal"><li class="list__item" id="7ee1b561"><p>停止上载： <code class="code"><upsource_home>/bin/upsource.sh stop</code>            </p></li><li class="list__item" id="7e7ced4c">                <p id="3e5083af">输入<code class="code">upsource.sh configure</code>命令，然后是您要在配置文件中更新的所有设置。</p>                <p id="2925fcb6">使用<code class="code">-J</code>前缀后跟JVM选项。不要在前缀和选项之间添加任何空格。</p>                <p id="2658dd11">选项前的符号决定如何应用它：</p>                <ul class="list _ul"><li class="list__item" id="329b7cbe"><p>添加一个选项<code class="code">-</code>符号。</p></li><li class="list__item" id="cc329161"><p>删除带有<code class="code">+</code>符号。</p></li></ul>                <p id="465a3e02">如果指定一个值，则只有在其具有完全相同的值时才删除相应的选项。</p>                <p id="24e55061">您可以在一个命令中设置多个选项。</p>                <p id="8f7fa763">例：</p>                <div class="code-block" data-lang="bash">upsource.sh配置-J-Xmx1024m -J-XX：+ HeapDumpOnOutOfMemoryError</div>            </li><li class="list__item" id="7a7a55b1"><p><a href="starting-stopping.html">启动Upsource</a> 。</p></li></ol></section>        <p id="a66ec22c">您还可以通过手动编辑配置文件来更改JVM设置。</p>        <section class="procedure-steps"><h3 id="change-jvm-manually">要手动更改JVM Launcher属性：</h3><ol class="list _decimal"><li class="list__item" id="4c6a2b4c"><p>停止上载： <code class="code"><upsource_home>/bin/upsource.sh stop</code>            </p></li><li class="list__item" id="7b33e35b">                <p id="16c4f1ac">打开目录中的配置文件<i id="c6c125f4">upsource.jvmoptions</i> <code class="code"><upsource_home>/conf</code> 。</p>                <p id="d98a018c">如果该文件不存在，请创建它，然后将扩展名为<i id="a52ea944">.dist</i>的示例配置文件的内容复制到其中。</p>            </li><li class="list__item" id="2f755a59"><p>直接在文件中编辑JVM选项。在新行上列出每个JVM选项。要设置预定义的JVM选项，只需取消注释相应的行。</p></li><li class="list__item" id="e8e45668"><p>保存并关闭文件。</p></li><li class="list__item" id="48b65793">                <p id="ede7ab3e"><a href="starting-stopping.html">启动Upsource</a> 。</p>                <ul class="list _ul"><li class="list__item" id="856d0daf"><p>对配置文件的更改将复制到数据库。</p></li><li class="list__item" id="9d2ec8f7"><p>上游开始使用指定的设置。</p></li></ul>            </li></ol></section>        <section class="procedure-steps"><h3 id="change-jvm-temporary">要临时更改JVM Launcher属性（临时）：</h3><ol class="list _decimal"><li class="list__item" id="4609b00a"><p>停止上载： <code class="code"><upsource_home>/bin/upsource.sh stop</code>            </p></li><li class="list__item" id="3372b122">                <p id="9439a90d">输入<code class="code">upsource.sh start</code>命令，然后是您要在启动时传递给Upsource的所有设置。</p>                <p id="a082da8b">使用<code class="code">--J</code>前缀以将设置作为临时参数传递。在前缀后面加上JVM选项。不要在前缀和选项之间添加任何空格。</p>                <p id="c38cdcfe">选项前的符号决定如何应用它：</p>                <ul class="list _ul"><li class="list__item" id="ebf9d663"><p>添加一个选项<code class="code">-</code>符号。</p></li><li class="list__item" id="8c4966c0"><p>删除带有<code class="code">+</code>符号。</p></li></ul>                <p id="fe4893f1">如果指定一个值，则只有在其具有完全相同的值时才删除相应的选项。</p>                <p id="adf4de3d">您可以在一个命令中设置多个选项。</p>                <p id="68963620">例：</p>                <div class="code-block" data-lang="bash">upsource.sh start --J-Xmx1024m --J-XX：+ HeapDumpOnOutOfMemoryError</div>                <ul class="list _ul"><li class="list__item" id="a385eedc"><p>上游从指定的设置开始，绕过配置文件。</p></li><li class="list__item" id="1ece76e5"><p>配置文件未修改。</p></li><li class="list__item" id="d912e5e4">                        <p id="b9a9d9dc">随后的未指定临时参数的启动将使用存储在配置文件中的设置。要使用先前的设置运行Upsource，只需在不传递任何自定义参数的情况下重新启动它即可。</p>                    </li></ul>            </li></ol></section>    </div>    <div class="chapter"><h2 id="configure-frontend-properties" data-toc="Tuning_up_a_ZIP_installation#configure-frontend-properties">配置上游前端属性</h2>        <p id="c8535017">上游前端流程使用：</p>        <ul class="list _ul"><li class="list__item" id="c53f2d2e">                <p id="34a37c60">                    <a href="upsource-frontend-properties.html#upsource-specific-properties">特定于上游的属性</a>                </p>            </li><li class="list__item" id="15677964">                <p id="d876fe2f">                    <a href="upsource-frontend-properties.html#default-jvm-options">JVM属性（选项）</a>                </p>            </li></ul>        <p id="939e30fb">可以通过以下方式以编程方式更改上游前端属性<code class="code">configure</code>命令或通过手动编辑配置文件<i id="01291a62">upsource-frontend.jvmoptions</i>        </p>        <section class="procedure-steps"><h3 id="c14d66e9">要以编程方式配置前端属性：</h3><ol class="list _decimal"><li class="list__item" id="ecafe553"><p>停止上载： <code class="code"><upsource_home>/bin/upsource.sh stop</code>            </p></li><li class="list__item" id="f67cc73f">                <p id="3fbd17f3">切换到目录<code class="code"><upsource_home>/conf/upsource-frontend</code>                </p>            </li><li class="list__item" id="3c31beb3">                <p id="bffe3d0f">输入<code class="code">upsource-frontend.sh configure</code>命令，然后是您要在配置文件中更新的所有设置。</p>                <p id="ddcf6691">使用<code class="code">-J</code>前缀后跟一个属性或JVM选项。不要在前缀和选项之间添加任何空格。</p>                <p id="28e39f08">选项前的符号决定如何应用它：</p>                <ul class="list _ul"><li class="list__item" id="f5c219ef"><p>添加一个选项<code class="code">-</code>符号。</p></li><li class="list__item" id="bd307982"><p>删除带有<code class="code">+</code>符号。</p></li></ul>                <p id="695295a8">如果指定一个值，则只有在其具有完全相同的值时才删除相应的选项。</p>                <p id="ad2c2e08">您可以在一个命令中设置多个选项。</p>                <p id="79f4b1fd">范例1：</p>                <div class="code-block" data-lang="bash">upsource-frontend.sh配置-J-Dfrontend.diff.filesize.limit = 2000</div>                <p id="a89b0f61">在此示例中，我们将差异显示的最大行数从1000（默认）增加到2000。</p>                <p id="f5c5c0fe">范例2：</p>                <div class="code-block" data-lang="bash">upsource-frontend.sh配置-J-Xmx1024m -J-XX：+ HeapDumpOnOutOfMemoryError</div>            </li><li class="list__item" id="b1f4425e">                <p id="dc251a57"><a href="starting-stopping.html">启动Upsource</a> 。</p>                <ul class="list _ul"><li class="list__item" id="8a7da07b"><p>上游从指定的设置开始。</p></li><li class="list__item" id="50bf3829"><p>配置文件<code class="code">upsource-frontend.jvmoptions</code>会被修改，新设置将应用于随后的启动。</p></li></ul>            </li></ol></section>        <section class="procedure-steps"><h3 id="243f6182">要手动配置前端属性：</h3><ol class="list _decimal"><li class="list__item" id="6ecdad41"><p>停止上载： <code class="code"><upsource_home>/bin/upsource.sh stop</code>            </p></li><li class="list__item" id="a1643b2c">                <p id="14287673">打开位于以下位置的配置文件<i id="6d6b79c4">upsource-frontend.jvmoptions</i> <code class="code"><upsource_home>/conf/upsource-frontend</code>目录。如果文件不存在，请创建它。</p>            </li><li class="list__item" id="3b3cee66"><p>直接在文件中编辑现有属性。将新属性及其值添加到文件末尾。</p></li><li class="list__item" id="01ddba56"><p>保存并关闭文件。</p></li><li class="list__item" id="0b1b7d76">                <p id="b14f042a"><a href="starting-stopping.html">启动Upsource</a> 。</p>                <ul class="list _ul"><li class="list__item" id="4e5aac51"><p>对配置文件的更改将复制到数据库。</p></li><li class="list__item" id="69345e41"><p>上游从指定的设置开始。</p></li></ul>            </li></ol></section>    </div>    <div class="chapter"><h2 id="configure-cassandra-properties" data-toc="Tuning_up_a_ZIP_installation#configure-cassandra-properties">配置上游Cassandra属性</h2>您可以通过使用以下命令更改其JVM选项来管理Cassandra进程<code class="code">configure</code>命令或通过手动编辑配置文件<i id="f7451e76">cassandra.jvmoptions</i> 。请参阅上<a href="upsource-cassandra-properties.html">载Cassandra属性</a>以获取默认选项的列表。<section class="procedure-steps"><h3 id="32ebf218">要以编程方式配置Cassandra属性：</h3><ol class="list _decimal"><li class="list__item" id="148b7420"><p>停止上载： <code class="code"><upsource_home>/bin/upsource.sh stop</code>            </p></li><li class="list__item" id="cb08f732">                <p id="32de2585">切换到目录<code class="code"><upsource_home>/conf/cassandra</code>                </p>            </li><li class="list__item" id="47a923f2">                <p id="f59eec00">输入<code class="code">cassandra.sh configure</code>命令，然后是您要在配置文件中更新的所有设置。</p>                <p id="c38085fc">使用<code class="code">-J</code>前缀后跟JVM选项。不要在前缀和选项之间添加任何空格。</p>                <p id="768b017f">选项前的符号决定如何应用它：</p>                <ul class="list _ul"><li class="list__item" id="11839011"><p>添加一个选项<code class="code">-</code>符号。</p></li><li class="list__item" id="bfaebb9a"><p>删除带有<code class="code">+</code>符号。</p></li></ul>                <p id="c8188b29">如果指定一个值，则只有在其具有完全相同的值时才删除相应的选项。</p>                <p id="42a8af4b">您可以在一个命令中设置多个选项。</p>                <p id="7cdf3aa2">例：</p>                <div class="code-block" data-lang="bash">cassandra.sh配置-J-Xmx3500m -J-XX：+ HeapDumpOnOutOfMemoryError</div>            </li><li class="list__item" id="25d9a0de"><p><a href="starting-stopping.html">启动Upsource</a> 。</p></li></ol></section>        <section class="procedure-steps"><h3 id="2fa06a04">要手动配置Cassandra属性：</h3><ol class="list _decimal"><li class="list__item" id="8347df29"><p>停止上载： <code class="code"><upsource_home>/bin/upsource.sh stop</code>            </p></li><li class="list__item" id="0fce2c92">                <p id="08192fd1">打开位于以下位置的配置文件<i id="242d9fa6">cassandra.jvmoptions</i> <code class="code"><upsource_home>/conf/cassandra</code>目录。如果文件不存在，请创建它。</p>            </li><li class="list__item" id="efe1cd9e"><p>直接在文件中编辑现有属性。将新属性及其值添加到文件末尾。</p></li><li class="list__item" id="d22aa84a"><p>保存并关闭文件。</p></li><li class="list__item" id="7309c18c">                <p id="61851dc5"><a href="starting-stopping.html">启动Upsource</a> 。</p>                <ul class="list _ul"><li class="list__item" id="d63b7c8d"><p>您对配置文件所做的更改将复制到数据库中。</p></li><li class="list__item" id="48807a96"><p>上游从指定的设置开始。</p></li></ul>            </li></ol></section>    </div><div class="last-modified" data-skip-index="skip">上次修改时间：2019年8月9日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="advanced-upsource-tuning.html">高级上游调整</a> <a class="navigation-links__next" href="tuning-up-a-docker-installation.html">调整Docker安装</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>