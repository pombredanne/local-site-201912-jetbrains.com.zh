<html lang="en-US" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><meta charset="UTF-8"><title>错误：“无法初始化com.sun.jna类。本机”-帮助|上游</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body  data-id="Error___Could_not_initialize_class_com.sun.jna.Native_.xml"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索上游帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>上载2019.1帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option value="default" data-group="primary" selected>默认（Windows / Linux）</option><option value="mac_os_x_10.5_" data-group="secondary">默认（Mac OS X 10.5+）</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 id="Error___Could_not_initialize_class_com.sun.jna.Native_.xml" data-toc="Error___Could_not_initialize_class_com.sun.jna.Native_.xml">错误：“无法初始化com.sun.jna类。本地”</h1>    <p id="7d108cac">该错误发生在Cassandra数据库启动时。启动时，Cassandra引发以下异常：</p>    <p id="2bc5d30f"><font style="color:#ff0000">oacservice错误。CassandraDaemon-线程Thread [MemtableFlushWriter：1,5，main]中的异常</font></p>    <p id="39e8f7ef"><font style="color:#ff0000">java.lang。NoClassDefFoundError：无法初始化com.sun.jna类。本机</font></p>    <p id="73805ebe"><font style="color:#ff0000">在org.apache.cassandra.utils.memory中。MemoryUtil.allocate（MemoryUtil.java:82）〜[apache-cassandra-2.2.4.jar：2.2.4]</font></p>    <p id="5846b1e0"><font style="color:#ff0000">在org.apache.cassandra.io.util。记忆。 <init>（Memory.java:74）〜[apache-cassandra-clientutil-2.2.4.jar：2.2.4]</init></font></p>    <p id="2b633ed4"><font style="color:#ff0000">...</font></p>        <div class="chapter"><h2 id="c60d17ff">解</h2>        <p id="6b8a558d">此问题通常是由临时目录上设置的<i id="38ab0cb4">noexec</i>标志引起的。</p>        <p id="704eb23c">有两种方法可以解决此问题：</p>        <ul class="list _ul"><li class="list__item" id="c0434d1f"><p id="8b570994">重新挂载不带<i id="6c4886d7">noexec</i>标志的<i id="35c10c71">tmp</i>目录。</p>            <p id="bc756fbf">要么</p></li><li class="list__item" id="b452a006"><p id="355ece0d">配置Cassandra以使用其他位置作为临时目录。要做到这一点...</p>                <p id="09b53991">... <b id="304bffd0">对于ZIP安装：</b></p>                <ol class="list _decimal"><li class="list__item" id="22342d88">                        <p id="53587c3e">停止上载：<code class="code"><upsource_home>/bin/upsource.sh stop</code></p>                    </li><li class="list__item" id="c089386a">                        <p id="e9e88db2">运行以下命令：</p>                        <div class="code-block" data-lang="bash">
                            <upsource_home>/apps/cassandra/bin/cassandra.sh配置-J-Djava.io.tmpdir = $ HOME</upsource_home></div>                    </li><li class="list__item" id="8eb6c1e3">                        <p id="bc5797e9"><a href="starting-stopping.html">启动上游</a></p>                    </li></ol>                <p id="42799ef9">... <b id="6dbe1701">对于Docker安装：</b></p>                <ol class="list _decimal"><li class="list__item" id="2bdae7dd">                        <p id="d44a7d9c">停止上载：<code class="code">docker exec <containerId> stop</code></p>                    </li><li class="list__item" id="521905b0">                        <p id="c882be84">运行以下命令：</p>                        <div class="code-block" data-lang="bash"><path data="" to="" directory="">docker run -it</path> -v <path data="" to="" directory="">：/ opt / upsource / data \ -v <path to="" conf="" directory="">：/ opt / upsource / conf \ -v <path to="" logs="" directory="">：/ opt / upsource / logs \ -v <path to="" backups="" directory="">：/ opt / upsource / backups \ -p <port on="" host="">：XXXX \- -entrypoint = / bin / bash jetbrains / upsource： <version>\ /opt/upsource/apps/cassandra/bin/cassandra.sh \ configure -J-Djava.io.tmpdir = $ HOME</version></port></path></path></path></path></div>                    </li></ol>            </li></ul>    </div><div class="last-modified" data-skip-index="skip">上次修改时间：2019年8月9日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="error-400-bad-request-while-connecting-to-mercurial-repository.html">错误400：“连接到Mercurial存储库时出现</a> <a class="navigation-links__next" href="error-some-services-registered-by-product-are-not-valid-in-target-hub.html">错误</a> <a class="navigation-links__prev" href="error-400-bad-request-while-connecting-to-mercurial-repository.html">请求”</a> <a class="navigation-links__next" href="error-some-services-registered-by-product-are-not-valid-in-target-hub.html">错误：“产品注册的某些服务在目标集线器中无效”</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>