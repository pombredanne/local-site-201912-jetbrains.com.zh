<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta name="robots" content="noindex"></meta><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><title>Upsource 3.0 Help :: Code review with Upsource</title><link rel="stylesheet" href="/help/app/app.css"></head><body data-id="codereview"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><div class="wrapper"><section class="panel _nav"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search Upsource Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header"><div class="container"><h3>Upsource 3.0 Help</h3><div class="shortcuts-switcher"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="primary" value="default" selected>Default (Windows/Linux)</option><option data-group="primary" value="default_for_gnome">GNOME</option><option data-group="primary" value="default_for_kde">KDE</option><option data-group="primary" value="default_for_xwin">XWindow</option><option data-group="primary" value="emacs">Emacs</option><option data-group="primary" value="visual_studio">Visual Studio</option><option data-group="primary" value="netbeans_6.5">NetBeans 6.5</option><option data-group="primary" value="eclipse">Eclipse</option><option data-group="secondary" value="mac_os_x_10.5_">Default (Mac OS X 10.5+)</option><option data-group="secondary" value="mac_os_x">OS X</option><option data-group="secondary" value="eclipse_mac_os_x">OS X Eclipse</option><option data-group="secondary" value="intellij_idea_classic_os_x">IntelliJ IDEA Classic (OS X)</option><option data-group="secondary" value="xcode">Xcode</option><option data-group="secondary" value="visual_studio">Visual Studio</option><option data-group="secondary" value="resharper">ReSharper</option><option data-group="secondary" value="resharper_osx">ReSharper OSX</option><option data-group="secondary" value="emacs">Emacs</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="false"><div class="navigation-links _top"><a class="navigation-links__next" href="roles-in-code-review.html">Roles in Code Review</a></div><h1>Code review with Upsource</h1><a name="d2364e3"></a><p>On this page:</p><ul><li class="list__item"><a href="#WhyReviewCode">Why review code?</a></li><li class="list__item"><a href="#PostCommitReview">Post-commit review</a></li><li class="list__item"><a href="#Starting">Starting a code review</a></li><li class="list__item"><a href="#InvitingParticipants">Inviting participants</a></li><li class="list__item"><a href="#ViewingChanges">Viewing changes</a></li><li class="list__item"><a href="#LeavingComments">Leaving comments</a></li><li class="list__item"><a href="#ParticipatingInReview">Participating in review</a></li><li class="list__item"><a href="#RevisionSelector">Revision selector</a></li><li class="list__item"><a href="#AddingRevisions">Adding revisions</a></li><li class="list__item"><a href="#OpeningRevisionsInIDE">Opening revisions in IDE</a></li><li class="list__item"><a href="#ClosingReview">Closing review</a></li><li class="list__item"><a href="#RemovingReview">Removing review</a></li></ul><a name="d2364e8"></a><p>Upsource makes it easy for you and your team to review code, discuss changes, and keep track of accumulated knowledge.</p><a name="d2364e11"></a><p>A code review in Upsource can be associated with one or more revisions, or an entire branch. Once initiated, a code review becomes a separate entity with a unique ID, allowing you and your team members to exchange comments over specific lines of code or discuss changes in general.</p><a name="d2364e14"></a><p>However, why would you review code at all?</p><a name="WhyReviewCode"></a><h2>Why review code?</h2><a name="d2364e21"></a><p>There can be many reasons for you to start a code review, and here are just a few of them:</p><ul class="list _ul"><li class="list__item"><a name="d2364e26"></a> You have committed a change and now you want your fellow teammate to examine it and help you make sure that the new code is clear, readable and doesn't contain any serious flaws.</li><li class="list__item"><a name="d2364e29"></a> You have stumbled upon a potential problem in your teammate's change and you want to draw their attention to it.</li><li class="list__item"><a name="d2364e32"></a> You want to keep some of you teammates updated of your project status whenever an important change is made.</li><li class="list__item"><a name="d2364e35"></a> New teammates learn about different parts of the project faster</li><li class="list__item"><a name="d2364e38"></a> Promote collective code ownership</li></ul><a name="PostCommitReview"></a><h2>Post-commit review</h2><a name="d2364e45"></a><p>Upsource supports post-commit reviews, which means you should commit a change to your VCS repository before a review can be initiated.</p><a name="d2364e48"></a><p>If your organization requires that code is reviewed before it gets merged into the master branch (trunk), you can commit to your feature branch and request review of this commit.</p><a name="d2364e52"></a><p>As soon as code review of this commit is successfully passed, you can then merge your changes to the master branch.</p><a name="Starting"></a><h2>Starting a code review</h2><a name="d2364e58"></a><p>Let's consider a scenario whereby you have committed a change, and now you want to ask your teammate to review it.</p><a name="d2364e61"></a><p>When you log into Upsource, the first thing you see is the list of indexed projects, where each project corresponds to a specific VCS repository:</p><figure><img alt="Project list" width="610" height="248" title="Project list" src="/help/img/upsource/3.0/CR_projList.png"></figure><a name="d2364e66"></a><p>Clicking a project name brings you to the project's home view that lists (and visualizes) revisions in chronological order:</p><a name="d2364e70"></a><p>
      <figure><a class="lightbox" href="/help/img/upsource/3.0/CR_revList_large.png"><img alt="assets/codereview/CR_revList_large.png" width="610" height="448" title="assets/codereview/CR_revList_large.png" src="/help/img/upsource/3.0/CR_revList.png"></a></figure></p><a name="d2364e74"></a><p>To find the revision you're interested in, just scroll down the list or use <a name="d2364e76"></a><a href="searching-for-revisions.html"><span>Search</span></a> on top of it. In our case, your commit will likely be at the top of the revision list.</p><a name="d2364e80"></a><p>Move your cursor to the revision entry - a <a name="d2364e82"></a><span class="control">Create review</span> link will appear:</p><figure><img alt="Project list" width="610" height="76" title="Project list" src="/help/img/upsource/3.0/CR_create_review_link.png"></figure><a name="d2364e88"></a><p>To initiate a review, click <a name="d2364e90"></a><span class="control">Create review</span>. That's it! A new review is created, opened, and its ID is displayed at the top left:</p><a name="d2364e94"></a><p>
      <figure><a class="lightbox" href="/help/img/upsource/3.0/CR_revCreate_large.png"><img alt="assets/codereview/CR_revCreate_large.png" width="610" height="387" title="assets/codereview/CR_revCreate_large.png" src="/help/img/upsource/3.0/CR_revCreate.png"></a></figure></p><a name="d2364e99"></a><p>The default review title is the same as your revision which becomes a part of this review. To <a name="d2364e101"></a><b id="d2364e101">change the review title</b> or to <a name="d2364e104"></a><b id="d2364e104">remove this review</b> altogether (in case you've created it by mistake)  click the <a name="d2364e107"></a><span class="control">Edit</span> icon <img alt="Edit icon" width="23" height="21" title="Edit icon" src="/help/img/upsource/3.0/CR_editIcon.png" class="inline-icon-21"> next to it.</p><a name="d2364e113"></a><p>Going back to the revisions list, you can notice that your revision is now flagged with a clickable <a name="d2364e115"></a><span class="control">Review</span> icon <img alt="Review icon" width="25" height="19" title="Review icon" src="/help/img/upsource/3.0/CR_reviewIcon.png" class="inline-icon-19">.</p><a name="InvitingParticipants"></a><h2>Inviting participants</h2><a name="d2364e124"></a><p>You created a review and now you want to invite some of your teammates to take a look and discuss its subject. That's easy. Just add them to the reviewers or watchers list depending on the action you want them to take.</p><ul class="list _ul"><li class="list__item"><a name="d2364e129"></a> 
         <a name="d2364e131"></a><b id="d2364e131">Reviewers</b> are expected to... well, review your changes. They can discuss specific lines, or add general comments; they are also expected to mark the review as complete as soon as they're OK with the changes.</li><li class="list__item"><a name="d2364e135"></a> 
         <a name="d2364e137"></a><b id="d2364e137">Watchers</b> aren't expected to take part in the review process. If you feel that you've made an important change (such as an API change), you can add watchers to keep them up to date.</li></ul><a name="d2364e142"></a><p>To add a reviewer or a watcher, open the review and under the Overview tab click the plus sign next to the corresponding heading. Then select a name from the searchable pop-up list:</p><a name="d2364e146"></a><p>
      <figure><a class="lightbox" href="/help/img/upsource/3.0/CR_pickReviewer_large.png"><img alt="assets/codereview/CR_pickReviewer_large.png" width="610" height="485" title="assets/codereview/CR_pickReviewer_large.png" src="/help/img/upsource/3.0/CR_pickReviewer.png"></a></figure></p><a name="d2364e150"></a><p>Upsource suggests you the most suitable reviewers (based on previous assignments) which you can assign without opening the reviewer selection pop-up.</p><a name="d2364e153"></a><p>You can also mention other users while writing a comment, and this will automatically add them to watchers of your review: just type <a name="d2364e155"></a><b id="d2364e155">@</b> in the text field and the same list will appear.</p><a name="d2364e159"></a><p>You can add as many participants as you wish and whenever you wish: when starting a review, or at any time after that.</p><a name="d2364e162"></a><p>The people you add are notified via e-mail and also via their personal Upsource news feed, which is shown alongside the project root view and the list of projects.</p><a name="d2364e165"></a><p>To remove a participant, click its user pic in the <a name="d2364e167"></a><span class="control">Reviewers</span> area and confirm the deletion:</p><figure><img alt="Project list" width="610" height="320" title="Project list" src="/help/img/upsource/3.0/CR_removePartic.png"></figure><a name="ViewingChanges"></a><h2>Viewing changes</h2><a name="d2364e177"></a><p>The files with changes are listed under the <a name="d2364e179"></a><span class="control">Overview</span> tab. Click on the file name to display the inline diff:</p><figure><img alt="CR_click_file_for_diff.png" width="266" height="464" title="CR_click_file_for_diff.png" src="/help/img/upsource/3.0/CR_click_file_for_diff.png"></figure><a name="d2364e185"></a><p>From here you can go to a side-by-side diff or view the entire file by pushing the corresponding button:</p><a name="d2364e188"></a><p>
      <figure><a class="lightbox" href="/help/img/upsource/3.0/CR_review_inline_diff_large.png"><img alt="assets/codereview/CR_review_inline_diff_large.png" width="610" height="331" title="assets/codereview/CR_review_inline_diff_large.png" src="/help/img/upsource/3.0/CR_review_inline_diff.png"></a></figure></p><a name="d2364e193"></a><p>To return to the timeline view, click <a name="d2364e195"></a><span class="control">Timeline</span> or press <code class="code" data-lang="Java">Esc</code>:</p><figure><img alt="CR_click_timeline.png" width="610" height="230" title="CR_click_timeline.png" src="/help/img/upsource/3.0/CR_click_timeline.png"></figure><a name="LeavingComments"></a><h2>Leaving comments</h2><a name="d2364e207"></a><p>Whether you act as an author, reviewer or watcher, you can post comments, addressing them to other participants whose attention you want to draw.</p><a name="d2364e210"></a><p>There are three types of comments:</p><ul class="list _ul"><li class="list__item"><a name="d2364e215"></a> 
         <a name="d2364e217"></a><b id="d2364e217">Review comment</b>: this type of comment is not tied up to any particular file or part of code - its subject matter may be anything within the scope of the review.</li><li class="list__item"><a name="d2364e221"></a> 
         <a name="d2364e223"></a><b id="d2364e223">Code selection comment</b>: this type of comment is intended to pinpoint a particular code fragment in one of the files being reviewed.</li><li class="list__item"><a name="d2364e227"></a> 
         <a name="d2364e229"></a><b id="d2364e229">Line comment</b>: this type of comment is associated with a specific line of code.</li></ul><a name="d2364e235"></a><p>To leave a <a name="d2364e237"></a><span class="control">review</span> comment, type your message in the text field at the bottom:.</p><a name="d2364e241"></a><p>
      <figure><a class="lightbox" href="/help/img/upsource/3.0/CR_genComment_large.png"><img alt="assets/codereview/CR_genComment_large.png" width="610" height="281" title="assets/codereview/CR_genComment_large.png" src="/help/img/upsource/3.0/CR_genComment.png"></a></figure></p><a name="d2364e245"></a><p>To leave a <a name="d2364e247"></a><span class="control">line comment</span>, display the inline diff of the file you want by clicking on the file name, then select the line you want to comment on by clicking the edit icon to the left:</p><a name="d2364e251"></a><p>
      <figure><a class="lightbox" href="/help/img/upsource/3.0/CR_addLineComment_large.png"><img alt="assets/codereview/CR_addLineComment_large.png" width="610" height="162" title="assets/codereview/CR_addLineComment_large.png" src="/help/img/upsource/3.0/CR_addLineComment.png"></a></figure></p><a name="d2364e255"></a><p>Enter your message in the text box and click <a name="d2364e257"></a><span class="control">Add comment</span>:</p><a name="d2364e261"></a><p>
      <figure><a class="lightbox" href="/help/img/upsource/3.0/CR_lineComment2_large.png"><img alt="assets/codereview/CR_lineComment2_large.png" width="610" height="260" title="assets/codereview/CR_lineComment2_large.png" src="/help/img/upsource/3.0/CR_lineComment2.png"></a></figure></p><a name="d2364e266"></a><p>To leave a <a name="d2364e268"></a><span class="control">code selection comment</span>, from the inline diff view of the desired file go to <a name="d2364e271"></a><span class="control">Side-by-side diff</span> or <a name="d2364e274"></a><span class="control">View file</span> and select the fragment you want to discuss.</p><a name="d2364e278"></a><p>Choose <a name="d2364e280"></a><span class="control">Comment on selection</span> from the pop-up menu. Type in your message and click <a name="d2364e283"></a><span class="control">Add comment</span> (or press <kbd>Ctrl+Enter</kbd> ):</p><a name="d2364e290"></a><p>
      <figure><a class="lightbox" href="/help/img/upsource/3.0/CR_comMenu_large.png"><img alt="assets/codereview/CR_comMenu_large.png" width="610" height="250" title="assets/codereview/CR_comMenu_large.png" src="/help/img/upsource/3.0/CR_comMenu.png"></a></figure></p><a name="ParticipatingInReview"></a><h2>Participating in review</h2><a name="d2364e297"></a><p>When someone invites you to take part in a review, you'll receive a notice in your e-mail containing a direct link to that review.</p><a name="d2364e300"></a><p>Follow the link and proceed to the review page.</p><a name="d2364e304"></a><p>Its main pane shows the review timeline that lists all events and comments related to the review.</p><a name="d2364e307"></a><p>
      <figure><a class="lightbox" href="/help/img/upsource/3.0/CR_postedGenComm_large.png"><img alt="assets/codereview/CR_postedGenComm_large.png" width="610" height="405" title="assets/codereview/CR_postedGenComm_large.png" src="/help/img/upsource/3.0/CR_postedGenComm.png"></a></figure></p><a name="d2364e311"></a><p>You can customise it to show only discussions or unresolved discussions:</p><figure><img alt="timeline_view_options" width="610" height="92" title="timeline_view_options" src="/help/img/upsource/3.0/CR_timeline_view_options.png"></figure><a name="d2364e316"></a><p>In the left pane, you can see the list of files included in the revision or revisions that are subject of the review. Click on the file to display the inline diff and view the changes.</p><a name="d2364e319"></a><p>If someone has already commented on code fragments or lines, these comments will be embedded in code and highlighted with yellow:</p><a name="d2364e323"></a><p>
      <figure><a class="lightbox" href="/help/img/upsource/3.0/CR_inlineComment_large.png"><img alt="assets/codereview/CR_inlineComment_large.png" width="610" height="197" title="assets/codereview/CR_inlineComment_large.png" src="/help/img/upsource/3.0/CR_inlineComment.png"></a></figure></p><a name="d2364e327"></a><p>As a reviewer you can reply to existing comments, post new <a name="d2364e329"></a><span class="control">review comments</span>, or comment on code fragments and lines as well. You can also mark each discussion thread as resolved when it comes to a logical end.</p><a name="d2364e333"></a><p>If you approve the changes, you simply press <a name="d2364e335"></a><span class="control">Accept</span>. After that the review is considered completed.</p><figure><img alt="Complete review" width="610" height="198" title="Complete review" src="/help/img/upsource/3.0/CR_completeReview.png"></figure><a name="d2364e341"></a><p>In case you found some issues:</p><a name="d2364e344"></a><a name="dynaProc0"></a><section class="procedure-steps"><ol class=".list _decimal"><li class="list__item">Comment on the issues requesting further improvements.</li><li class="list__item">Press <a name="d2364e351"></a><span class="control">Raise concern</span> - the author will see that you questioned his changes and completed the review.</li><li class="list__item">Wait for the author to commit the fixes.</li><li class="list__item">As soon as a new revision is added, the review is automatically un-completed. Examine the changes and complete the review again.</li></ol></section><a name="RevisionSelector"></a><h2>Revision selector</h2><a name="d2364e366"></a><p>When new revisions are added to the review, you only see the diff of those revisions and can proceed with reviewing without having to inspect previously committed changes once again. If you want to show or hide any additional revisions within a review, use a revision selector that quickly toggles revisions on and off:</p><figure><img alt="Complete review" width="610" height="224" title="Complete review" src="/help/img/upsource/3.0/CR_revision_selector.png"></figure><a name="d2364e371"></a><p><a name="d2364e372"></a><span class="control">Reset to default</span> brings the selection back to the state it was when you opened the review.</p><a name="d2364e376"></a><p>To see all the reviews you are involved with, go to the <a name="d2364e378"></a><span class="control">Reviews</span> tab in the project home view.</p><a name="AddingRevisions"></a><h2>Adding revisions</h2><a name="d2364e386"></a><p>Let's say you initiated a review, asking for your teammate's opinion on the changes that you recently committed.</p><a name="d2364e389"></a><p>The reviewer spots issues in your changes and creates a comment describing them. Following the discussion, you work on these issues and commit a fix.</p><a name="d2364e392"></a><p>Now you can attach the new revision to the original review so your teammate can approve it. This way the whole discussion and revision history is contained within one review.</p><a name="d2364e395"></a><p>You can attach a new revision to an existing review either from that revision:</p><a name="d2364e398"></a><p>
      <figure><a class="lightbox" href="/help/img/upsource/3.0/CR_attachToReview_large.png"><img alt="assets/codereview/CR_attachToReview_large.png" width="610" height="178" title="assets/codereview/CR_attachToReview_large.png" src="/help/img/upsource/3.0/CR_attachToReview.png"></a></figure></p><a name="d2364e402"></a><p>or from the review:</p><figure><img alt="CR_addRevision.png" width="610" height="364" title="CR_addRevision.png" src="/help/img/upsource/3.0/CR_addRevision.png"></figure><a name="d2364e408"></a><p>To detach a revision from a review, in the review home view, click the <img alt="Detach" width="19" height="18" title="Detach" src="/help/img/upsource/3.0/CR_detach_icon.png" class="inline-icon-18"> icon next to the revision name:</p><a name="d2364e413"></a><p>
      <figure><a class="lightbox" href="/help/img/upsource/3.0/CR_detach_large.png"><img alt="assets/codereview/CR_detach_large.png" width="610" height="157" title="assets/codereview/CR_detach_large.png" src="/help/img/upsource/3.0/CR_detach.png"></a></figure></p><a name="OpeningRevisionsInIDE"></a><h2>Opening revisions in IDE</h2><a name="d2364e420"></a><p>When you click this link, the review and the revisions it includes will be displayed in a separate tab of the <a name="d2364e422"></a><span class="control">Review</span> tool window of your currently opened IDEA-based IDE. For this option to work, the IDE should have the <a name="d2364e425"></a><a href="code-review-in-ide-with-upsource-plug-in.html"><span>Upsource plug-in</span></a> installed and configured and the project should be open in the IDE.</p><figure><img alt="CR_open_in_IDE" width="610" height="264" title="CR_open_in_IDE" src="/help/img/upsource/3.0/CR_open_in_IDE.png"></figure><a name="ClosingReview"></a><h2>Closing review</h2><a name="d2364e435"></a><p>As soon as all reviewers have completed the review and no further changes are expected, the review author should close it:</p><figure><img alt="CR_closeRev.png" width="610" height="276" title="CR_closeRev.png" src="/help/img/upsource/3.0/CR_closeRev.png"></figure><a name="RemovingReview"></a><h2>Removing review</h2><a name="d2364e443"></a><p>Whether you've created a review by mistake, or want to clean up and get rid of outdated reviews, you can always delete a review no matter what its current status is.</p><a name="d2364e446"></a><p>Click the <a name="d2364e448"></a><span class="control">Edit</span> icon <img alt="Edit icon" width="23" height="21" title="Edit icon" src="/help/img/upsource/3.0/CR_editIcon.png" class="inline-icon-21"> next to the review title:</p><figure><img alt="CR_click_edit_title" width="610" height="192" title="CR_click_edit_title" src="/help/img/upsource/3.0/CR_click_edit_title.png"></figure><a name="d2364e457"></a><p>Then push the <a name="d2364e459"></a><span class="control">Remove review</span> button.</p><figure><img alt="CR_remove_review.png" width="610" height="166" title="CR_remove_review.png" src="/help/img/upsource/3.0/CR_remove_review.png"></figure><aside class="note sideblock"><a name="d2364e466"></a><p>Removed reviews cannot be recovered.</p></aside><div class="navigation-links _bottom"><a class="navigation-links__next" href="roles-in-code-review.html">Roles in Code Review</a></div><section class="seealso"><div class="seealso__header"><h2>See Also</h2></div><div class="seealso__content"><div class="seealso__col"><h3>How tos:</h3><ul class="list"><li class="list__item"><a name="d2364e478"></a><a href="code-review-in-ide-with-upsource-plug-in.html"><span>Code Review in IDE with Upsource Plug-in</span></a></li></ul></div><div class="seealso__col"><h3>Concepts:</h3><ul class="list"><li class="list__item"><a name="d2364e473"></a><a href="roles-in-code-review.html"><span>Roles in Code Review</span></a></li></ul></div></div></section><div class="last-modified">Last modified: 8 November 2016 </div></article><div id="disqus_thread"></div></div></section></main></div><script src="/help/app/app.js"></script></body></html>