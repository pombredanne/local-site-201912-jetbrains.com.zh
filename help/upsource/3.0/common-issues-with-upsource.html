<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta name="robots" content="noindex"></meta><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><title>Upsource 3.0 Help :: Common issues with Upsource</title><link rel="stylesheet" href="/help/app/app.css"></head><body data-id="issues"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><div class="wrapper"><section class="panel _nav"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search Upsource Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header"><div class="container"><h3>Upsource 3.0 Help</h3><div class="shortcuts-switcher"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="primary" value="default" selected>Default (Windows/Linux)</option><option data-group="primary" value="default_for_gnome">GNOME</option><option data-group="primary" value="default_for_kde">KDE</option><option data-group="primary" value="default_for_xwin">XWindow</option><option data-group="primary" value="emacs">Emacs</option><option data-group="primary" value="visual_studio">Visual Studio</option><option data-group="primary" value="netbeans_6.5">NetBeans 6.5</option><option data-group="primary" value="eclipse">Eclipse</option><option data-group="secondary" value="mac_os_x_10.5_">Default (Mac OS X 10.5+)</option><option data-group="secondary" value="mac_os_x">OS X</option><option data-group="secondary" value="eclipse_mac_os_x">OS X Eclipse</option><option data-group="secondary" value="intellij_idea_classic_os_x">IntelliJ IDEA Classic (OS X)</option><option data-group="secondary" value="xcode">Xcode</option><option data-group="secondary" value="visual_studio">Visual Studio</option><option data-group="secondary" value="resharper">ReSharper</option><option data-group="secondary" value="resharper_osx">ReSharper OSX</option><option data-group="secondary" value="emacs">Emacs</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="false"><div class="navigation-links _top"><a class="navigation-links__prev" href="syntax-highlighting-supported-languages.html">Syntax Highlighting. Supported Languages</a><a class="navigation-links__next" href="third-party-software-shipped-with-upsource.html">Third-Party Software Shipped with Upsource</a></div><h1>Common issues with Upsource</h1><a name="d7105e3"></a><p>This document lists common issues that Upsource users and administrators face and suggests solutions.</p><aside class="note sideblock"><a name="d7105e7"></a><p>All commands listed here are Windows commands unless mentioned otherwise. If you're working on a Linux or Mac OS X server, simply replace <code class="code" data-lang="Java">.bat</code> with <code class="code" data-lang="Java">.sh</code>. For Mac OS X or Linux, please make sure to start Upsource as a non-root user.</p></aside><a name="License"></a><h2>1. Following the upgrade from earlier versions (2.X.X) to version 3.0, Upsource Free 10 Users Pack license is not recognised as valid.</h2><a name="d7105e19"></a><h3>Problem</h3><a name="d7105e22"></a><p>After backing up project data from an older build and upgrading to Upsource 3.0 with that project data, Upsource may fail to convert an older license to the new free license. The erroneously preserved license manifests itself as expired and does not allow using Upsource.</p><a name="d7105e26"></a><h3>Solution</h3><a name="d7105e29"></a><p>Instead of the expired license, please <a name="d7105e31"></a><a href="entering-your-license.html"><span>enter</span></a> the following license name/key combination:</p><a name="d7105e35"></a><p>Name:</p><a name="d7105e38"></a><p>
      <code class="code" data-lang="Java">Upsource 3.0 Free 10 Users Pack</code>
   </p><a name="d7105e44"></a><p>Key:</p><a name="d7105e47"></a><p>
      <code class="code" data-lang="Java">7389b9a178ee7eb94a7a903523ef059a94d106b9ab16372771f6ce4d3b800c6b66c035f71f318eba3fda5f882c23ed35fc61cdc9b46b5e63ebd1b471d1edce5011a849c41a7fa4d04af1fff9043fad90a71639fbeda953c19f9d6be1d23a4d81d00337b8ebd9b49d8e9cae5ed9990bec21075966c19ebdbaf47a854daeae8909</code>
   </p><a name="MemoryForCassandra"></a><h2>2. Not enough memory for Cassandra database</h2><a name="d7105e57"></a><h3>Problem</h3><a name="d7105e60"></a><p>Apache Cassandra database won't start when Upsource launched</p><a name="d7105e63"></a><h3>Solution</h3><a name="d7105e66"></a><p>Increase heap size to Cassandra process as follows:</p><a name="d7105e69"></a><a name="dynaProc0"></a><section class="procedure-steps"><ol class=".list _decimal"><li class="list__item">
         Stop Upsource: <code class="code" data-lang="Java">&lt;upsource_home&gt;\bin\upsource.bat stop</code>
      </li><li class="list__item">
         <a name="d7105e79"></a><p>Run the following command:</p>
         <a name="d7105e82"></a><p><code class="code" data-lang="Java">&lt;upsource_home&gt;\apps\cassandra\bin\cassandra.bat configure --J-Xmx5000m</code></p>
      </li><li class="list__item">
         Start Upsource: <code class="code" data-lang="Java">&lt;upsource_home&gt;\bin\upsource.bat start</code>
      </li></ol></section><a name="InsufficientMemorySettings"></a><h2>3. Insufficient memory settings in Linux may affect Cassandra database performance</h2><a name="d7105e98"></a><h3>Problem</h3><a name="d7105e101"></a><p>The following warning:</p><code class="code" data-lang="Java">Unable to lock JVM memory (ENOMEM). This can result in part of the JVM being swapped out, especially with mmapped I/O enabled</code><a name="d7105e107"></a><p>encountered in the cassandra-stderr.log file indicates insufficient memory lock settings. Even though most of the time it will not cause any problem, it may potentially affect Cassandra performance in some cases.</p><a name="d7105e110"></a><h3>Solution</h3><a name="d7105e114"></a><p>Increase memory lock limit by running the <code class="code" data-lang="Java">ulimit</code> command, or, if you work in Debian, modify the /etc/security/limits.conf file - change <code class="code" data-lang="Java">max locked memory</code> to <code class="code" data-lang="Java">unlimited</code> for the user under which Cassandra runs.</p><a name="OutOfMemory"></a><h2>4. OutOfMemory exception</h2><a name="d7105e129"></a><h3>Problem</h3><ul class="list _ul"><li class="list__item"><a name="d7105e134"></a>Upsource services consume all memory</li><li class="list__item"><a name="d7105e137"></a>New commits are not getting indexed</li><li class="list__item"><a name="d7105e140"></a>Some (all) revisions are stuck in "indexing in progress" state</li><li class="list__item"><a name="d7105e143"></a>Web UI is extremely slow</li></ul><a name="d7105e147"></a><h3>Solution</h3><a name="d7105e150"></a><a name="dynaProc1"></a><section class="procedure-steps"><ol class=".list _decimal"><li class="list__item">
            Stop Upsource: <code class="code" data-lang="Java">&lt;upsource_home&gt;\bin\upsource.bat stop</code>
        </li><li class="list__item">
            <a name="d7105e160"></a><p>Run the following command:</p>
            <a name="d7105e163"></a><p><code class="code" data-lang="Java">&lt;upsource_home&gt;\apps\upsource-frontend\bin\upsource-frontend.bat configure --J-Xmx2000m</code></p>
        </li><li class="list__item">
            Start Upsource: <code class="code" data-lang="Java">&lt;upsource_home&gt;\bin\upsource.bat start</code>
        </li></ol></section><a name="CodeIntelligence"></a><h2>5. Code intelligence is not available</h2><a name="d7105e179"></a><h3>Problem</h3><a name="d7105e182"></a><p>Code insight in Maven or Gradle based project is not working. The code analysis status indicator remains grey.</p><a name="d7105e185"></a><h3>Solution</h3><a name="d7105e188"></a><a name="dynaProc2"></a><section class="procedure-steps"><ol class=".list _decimal"><li class="list__item">
         Double-check that you have set <a name="d7105e192"></a><u id="d7105e192">Upsource properties</u> correctly when creating your <a name="d7105e195"></a><a href="creating-your-first-project.html"><span>Upsource project</span></a>, including a correct path to project model. Edit if necessary.
      </li><li class="list__item">
         If it doesn't help, contact <a name="d7105e201"></a><a href="/support/upsource/" data-external="true"><span>Upsource support</span></a> and describe your problem. Please include a mvn.out or gradle.out file (for Maven or Gradle project correspondingly) with your inquiry.
      </li></ol></section><a name="d7105e206"></a><p>To find mvn.out (or gradle.out) file:</p><a name="d7105e210"></a><a name="dynaProc3"></a><section class="procedure-steps"><ol class=".list _decimal"><li class="list__item">
         Open your Upsource project
      </li><li class="list__item">
         Click <a name="d7105e217"></a><u id="d7105e217">Browse code</u> at the top of the revisions list
      </li><li class="list__item">
         Navigate to /.idea/maven/mvn.out (or /.idea/gradle/gradle.out for Gradle)
      </li></ol></section><a name="d7105e225"></a><p>If no such file exists:</p><a name="d7105e228"></a><a name="dynaProc4"></a><section class="procedure-steps"><ol class=".list _decimal"><li class="list__item">
         Navigate to /.idea/model.info
      </li><li class="list__item">
         Open model.info and copy the revision ID
      </li><li class="list__item">
         Using the search, locate that revision and open it up
      </li><li class="list__item">
         Click Browse code and navigate to /.idea/maven/mvn.out (or /.idea/gradle/gradle.out for Gradle)
      </li></ol></section><a name="ResetPassword"></a><h2>6. You forgot your administrator password</h2><a name="d7105e246"></a><h3>Problem</h3><a name="d7105e249"></a><p>You can't access your administrator account because you forgot your password.</p><a name="d7105e253"></a><h3>Solution</h3><a name="d7105e256"></a><p>Reset your administrator account password as follows:</p><a name="d7105e259"></a><a name="dynaProc5"></a><section class="procedure-steps"><ol class=".list _decimal"><li class="list__item">
         Stop Upsource: <code class="code" data-lang="Java">&lt;upsource_home&gt;\bin\upsource.bat stop</code>
      </li><li class="list__item">
         <a name="d7105e269"></a><p>Enter your new password and start Upsource with the following command:</p>
         <a name="d7105e272"></a><p><code class="code" data-lang="Java">&lt;upsource_home&gt;\bin\upsource.bat start --J-Djetbrains.jetpass.admin.restore=true --J-Djetbrains.jetpass.admin.password=XXXXX</code></p>
         <a name="d7105e276"></a><p>where XXXXX is your new password. Please notice two dashes before J, which means properties are applied to the current start only and should not be reverted by a user manually later.</p>
      </li></ol></section><div class="last-modified">Last modified: 8 November 2016 </div></article><div id="disqus_thread"></div></div></section></main></div><script src="/help/app/app.js"></script></body></html>