<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>教程：附加到远程进程-帮助|帮助红宝石矿</title><link rel="stylesheet" href="/resources.jetbrains.com/storage/help-app/v3/app.css"></head><body  data-id="Attaching_to_Remote_Process" data-breadcrumbs="Running, debugging, testing, deploying/Debugging_Code.xml|Debugging/Attaching_to_Remote_Process.xml|Tutorial: Attach to a remote process" data-main-title="Tutorial: Attach to a remote process"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索RubyMine帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>RubyMine 2019.3帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option value="primary_default_for_windows" data-group="primary" selected>Windows的默认设置</option><option value="primary_default_for_macos" data-group="primary">macOS的默认设置</option><option value="primary_intellij_idea_classic_macos" data-group="primary">IntelliJ IDEA经典版（macOS）</option><option value="primary_emacs" data-group="primary">埃马克斯</option><option value="primary_visual_studio" data-group="primary">视觉工作室</option><option value="primary_default_for_xwin" data-group="primary">XWin的默认设置</option><option value="primary_default_for_gnome" data-group="primary">GNOME的默认设置</option><option value="primary_default_for_kde" data-group="primary">KDE的默认值</option><option value="primary_eclipse" data-group="primary">日食</option><option value="primary_eclipse_macos" data-group="primary">Eclipse（macOS）</option><option value="primary_netbeans" data-group="primary">NetBeans</option><option value="primary_sublime_text" data-group="primary">崇高文字</option><option value="primary_sublime_text_macos" data-group="primary">崇高文字（macOS）</option><option value="primary_textmate" data-group="primary">TextMate</option><option value="secondary_default_for_windows" data-group="secondary">Windows的默认设置</option><option value="secondary_default_for_macos" data-group="secondary">macOS的默认设置</option><option value="secondary_intellij_idea_classic" data-group="secondary">IntelliJ IDEA经典版</option><option value="secondary_emacs" data-group="secondary">埃马克斯</option><option value="secondary_visual_studio" data-group="secondary">视觉工作室</option><option value="secondary_default_for_xwin" data-group="secondary">XWin的默认设置</option><option value="secondary_default_for_gnome" data-group="secondary">GNOME的默认设置</option><option value="secondary_default_for_kde" data-group="secondary">KDE的默认值</option><option value="secondary_eclipse" data-group="secondary">日食</option><option value="secondary_eclipse_macos" data-group="secondary">Eclipse（macOS）</option><option value="secondary_netbeans" data-group="secondary">NetBeans</option><option value="secondary_sublime_text" data-group="secondary">崇高文字</option><option value="secondary_sublime_text_macos" data-group="secondary">崇高文字（macOS）</option><option value="secondary_textmate" data-group="secondary">TextMate</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 id="Attaching_to_Remote_Process.xml" data-toc="Attaching_to_Remote_Process">教程：附加到远程进程</h1>    <p id="2f6169a6">RubyMine使您可以附加到本地或远程计算机上正在运行的进程。此功能使您可以调试无法直接从IDE启动的应用程序。</p>    <p id="1b3a1cec">在本主题中，我们将使用此功能来调试在远程计算机上运行的<a href="https://github.com/JetBrains/sample_rails_app" rel="noopener noreferrer" data-external="true" target="_blank">示例Rails应用程序</a> 。</p>    <div class="chapter"><h2 id="prereq" data-toc="Attaching_to_Remote_Process#prereq">先决条件</h2>        <p id="435d2d69">在本教程中，我们将使用两台机器来演示远程应用程序的调试：</p>        <ul class="list _ul"><li class="list__item" id="6814563e"><p>                <span class="emphasis">本地计算机</span> ：Mac（装有macOS）和RubyMine。</p></li><li class="list__item" id="19b9c273">                <p id="172dc5ed">                    <span class="emphasis">远程机器</span> ：启用了<a href="https://help.ubuntu.com/lts/serverguide/openssh-server.html" rel="noopener noreferrer" data-external="true" target="_blank">SSH访问</a>并安装了Ruby解释器的Ubuntu机器。请注意， <a href="https://www.gnu.org/software/gdb/" rel="noopener noreferrer" data-external="true" target="_blank">GDB</a>也应安装在远程计算机上。<br>在我们的教程中，远程计算机具有<span class="filepath">示例Web服务器</span>名称。</p>                                    <aside class="prompt" rel="172dc5ed" id="f7cba1a5" data-type="tip" data-title="">                        <p id="be24d7f3">对于远程macOS计算机，应安装<a href="http://lldb.llvm.org" rel="noopener noreferrer" data-external="true" target="_blank">LLDB</a> 。</p>                    </aside>                            </li></ul>        <p id="3929a529">在两台机器上，我们将使用<i id="774f6b26">jetbrains</i>用户的主目录来存储源代码。</p>    </div>    <div class="chapter"><h2 id="clone_remote" data-toc="Attaching_to_Remote_Process#clone_remote">克隆并运行远程应用程序</h2>        <p id="d07942dc">首先，我们需要在远程计算机上克隆并运行<a href="https://github.com/JetBrains/sample_rails_app" rel="noopener noreferrer" data-external="true" target="_blank">示例应用程序</a> 。为此，请连接到远程计算机并使用“ <a href="https://github.com/JetBrains/sample_rails_app#getting-started" rel="noopener noreferrer" data-external="true" target="_blank">入门”</a>一章中的说明。执行所需的步骤后，请使用<code class="code">rails server</code>运行应用程序的命令：</p>        <figure><img alt="远程会话" title="远程会话" src="/help/img/idea/2019.3/rm_remote_attach_mac_console.png" id="bbda1c8d" width="531" height="482"></figure>        <p id="54eebf2b">请注意，稍后我们将使用分配的进程标识符（屏幕上为7538） <a href="#attach">将</a>调试器<a href="#attach">附加</a>到<i id="a3f0ace3">puma</i>服务器。</p>    </div>    <div class="chapter"><h2 id="clone_local" data-toc="Attaching_to_Remote_Process#clone_local">在本地计算机上克隆项目</h2>        <p id="3ad5da06">在远程计算机上运行示例应用程序之后，使用以下指令启动RubyMine并在本地计算机上打开相同的应用程序： <a href="creating-projects-in-product.html#version_control">从Version Control中检出项目</a> 。在<span class="control">URL中</span> ，插入以下地址： <span class="filepath">https</span> : <span class="filepath">//github.com/JetBrains/sample_rails_app.git</span> 。然后点击<span class="control">克隆</span> 。</p>        <figure><img alt="从版本控制对话框获取" title="从版本控制对话框获取" src="/help/img/idea/2019.3/rm_get_started_get_from_version_control_dialog.png" id="f5783c63" width="779" height="968"></figure>    </div>    <div class="chapter"><h2 id="configure_remote_interpreter" data-toc="Attaching_to_Remote_Process#configure_remote_interpreter">配置远程解释器</h2>        <p id="1f0e2458">在这一部分中，我们将<a href="configuring-remote-interpreters-using-ssh.html">使用SSH</a>配置远程解释<a href="configuring-remote-interpreters-using-ssh.html">器</a> 。</p>        <section class="procedure-steps"><ol class="list _decimal"><li class="list__item" id="949a4335">                <p id="a8637fd5">打开<span class="control">设置/首选项</span>对话框<kbd data-primary_default_for_windows="Ctrl+Alt+S" data-primary_default_for_macos="⌘+Comma" data-primary_intellij_idea_classic_macos="⌘+Comma" data-primary_emacs="Ctrl+Alt+S" data-primary_visual_studio="Alt+F7" data-primary_default_for_xwin="Ctrl+Alt+S" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-primary_eclipse_macos="⌘+Comma" data-primary_netbeans="Ctrl+Alt+S" data-primary_sublime_text="Ctrl+Alt+S" data-primary_sublime_text_macos="⌘+Comma" data-primary_textmate="⌘+Comma" data-secondary_default_for_windows="⌃⌥S" data-secondary_default_for_macos="⌘," data-secondary_intellij_idea_classic="⌘," data-secondary_emacs="⌃⌥S" data-secondary_visual_studio="⌥F7" data-secondary_default_for_xwin="⌃⌥S" data-secondary_default_for_gnome="⌃⌥S" data-secondary_default_for_kde="⌃⌥S" data-secondary_eclipse="⌃⌥S" data-secondary_eclipse_macos="⌘," data-secondary_netbeans="⌃⌥S" data-secondary_sublime_text="⌃⌥S" data-secondary_sublime_text_macos="⌘," data-secondary_textmate="⌘,">Ctrl+Alt+S</kbd> ，请转到<span class="control">语言和框架| Ruby SDK and Gems</span>页面，点击<img class="inline-icon-16" src="/help/img/idea/2019.3/icons.general.add@2x.png" width="16" alt="加">按钮，然后从列表中选择“ <span class="control">新建遥控器</span> ”：</p>                <figure><img alt="新遥控器" title="新遥控器" src="/help/img/idea/2019.3/rm_remote_attach_new_remote.png" id="3402a1e7" width="773" height="391"></figure>            </li><li class="list__item" id="26dc3418">                <p id="373b403c">在调用的对话框中，选择“ <span class="control">SSH凭据”</span>并通过以下方式指定参数：</p>                <figure><img alt="配置远程Ruby解释器" title="配置远程Ruby解释器" src="/help/img/idea/2019.3/rm_remote_attach_ssh_credentials.png" id="05576eae" width="637" height="566"></figure>                <ul class="list _ul"><li class="list__item" id="0696ed8f"><p>                        <span class="control">主机</span> ：远程计算机的主机名或IP地址。在我们的教程中，主机名是<span class="filepath">sample-web-server</span> ， <span class="control">端口</span>设置为默认值。</p></li><li class="list__item" id="982f2cc7"><p>                        <span class="control">用户名</span> ：用于在远程计算机上进行身份验证的用户名。</p></li><li class="list__item" id="6fa53b6f"><p>                        <span class="control">身份验证类型</span> ：在此字段中，选择“ <i id="364efd5c">密码”</i>值以使用密码对用户进行身份验证。</p></li><li class="list__item" id="bfa569a0"><p>                        <span class="control">密码</span> ：指定用户的密码。</p></li><li class="list__item" id="2cfe7dbe"><p>                        <span class="control">Ruby或版本管理器路径</span> ：在这里，您应该指定Ruby解释器或<a href="ruby-version-managers.html">版本管理器</a>可执行文件的路径。在本教程中，我们在远程计算机上使用RVM。</p></li></ul>                <p id="5c49262b">指定所有设置后，单击<span class="control">确定</span> 。</p>            </li><li class="list__item" id="60fcb229">                <p id="078e8655">如果在上一个对话框中指定了版本管理器可执行文件的路径，则RubyMine建议您选择所需的Ruby解释器。在此步骤中，您需要选择用于运行远程应用程序的解释器。</p>                <figure><img alt="选择分布" title="选择分布" src="/help/img/idea/2019.3/rm_remote_attach_select_distribution.png" id="ce43246c" width="246" height="214"></figure>                <p id="814af643">单击<span class="control">确定，</span>然后在<span class="control">Ruby SDK and Gems</span>页面中选择添加的SDK。</p>                <figure><img alt="Ruby SDK和Gems" title="Ruby SDK和Gems" src="/help/img/idea/2019.3/rm_remote_attach_select_remote_sdk.png" id="022f6159" width="738" height="708"></figure>            </li><li class="list__item" id="500f4a02">                <p id="mapping_note">您需要做的最后一件事是指定本地和远程项目的文件之间的映射。为此，请单击“ <span class="control">编辑路径映射”。</span> <img class="inline-icon-16" src="/help/img/idea/2019.3/icons.vcs.folders@2x.png" width="16" alt="编辑路径映射">按钮。在“ <span class="control">编辑项目路径映射”</span>对话框中，指定本地和远程项目根路径。</p><aside class="prompt" rel="mapping_note" id="9cbb3bab" data-type="tip" data-title="">                    <p id="41bb936d">如有必要，可以不指定项目根路径，而仅指定包含<a href="#debug">调试</a>所需源的文件夹。</p>                </aside>                <figure><img alt="编辑项目路径映射" title="编辑项目路径映射" src="/help/img/idea/2019.3/rm_remote_attach_path_mappings.png" id="53c07703" width="626" height="458"></figure>                                <p id="d16f0964">在我们的例子中，路径将如下所示：</p>                <ul class="list _ul"><li class="list__item" id="8848f543"><p>                        <span class="control">本地路径</span> ： <span class="filepath">/ Users / jetbrains / RubymineProjects / sample_rails_app</span>                    </p></li><li class="list__item" id="0a2c2a35"><p>                        <span class="control">远程路径</span> ： <span class="filepath">/ home / jetbrains / apps / sample_rails_app</span>                    </p></li></ul>                <p id="ffa08411">单击<span class="control">确定</span>在此对话框，然后单击<span class="control">设置/首选项</span>对话框中<span class="control">单击OK。</span>现在，我们准备连接到远程进程并调试应用程序。</p>            </li></ol></section>    </div>    <div class="chapter"><h2 id="attach" data-toc="Attaching_to_Remote_Process#attach">附加到远程进程</h2>        <p id="833a89fc">现在，我们准备调试远程应用程序。</p>        <section class="procedure-steps"><ol class="list _decimal"><li class="list__item" id="061f7785">                <p id="87dbcd11">打开<span class="filepath">users_controller.rb</span>文件，并在<span class="control">创建</span>新用户所在行旁边的<span class="control">create</span>方法内设置一个断点。</p>                <figure><img alt="设置断点" title="设置断点" src="/help/img/idea/2019.3/rm_get_started_debug_breakpoint.png" id="a197aa5d" width="700" height="536"></figure>            </li><li class="list__item" id="9098c801">                <p id="fc461a55">在主菜单中单击<span class="control">“运行”</span> ，然后选择“ <span class="control">附加到进程…”</span>命令。</p>            </li><li class="list__item" id="16cfae34">                <p id="9624b544">在调用的对话框中，选择<span class="control">SSH</span>组中的远程连接（在本例中为<span class="emphasis">sample-web-server @ 22</span> ），然后选择带有在Web服务器启动期间分配的标识符的<span class="emphasis">puma</span>进程（请参阅<a href="#clone_remote">在本地计算机上克隆项目</a> ）：</p>                <figure><img alt="附加到远程进程" title="附加到远程进程" src="/help/img/idea/2019.3/rm_remote_attach_process.png" id="5a8abf83" width="655" height="252"></figure>                <p id="37f988d1"><span class="control">控制台</span>选项卡将显示调试器输出：</p>                <figure><img alt="调试控制台" title="调试控制台" src="/help/img/idea/2019.3/rm_remote_attach_debugger_console.png" id="42df3bc9" width="700" height="586"></figure>            </li></ol></section>    </div>    <div class="chapter"><h2 id="debug" data-toc="Attaching_to_Remote_Process#debug">调试应用程序</h2>        <p id="1fb85449">要调试应用程序，请在本地计算机上打开浏览器并指定应用程序地址。在我们的例子中，它将是<span class="filepath">http：// sample-web-server：3000</span> 。</p>        <figure><img alt="注册页面" title="注册页面" src="/help/img/idea/2019.3/rm_remote_attach_browser_signup.png" id="8aa078a2" width="785" height="828"></figure>        <p id="2c96463f">单击立即<span class="control">注册！</span> 按钮。在<span class="control">注册</span>页面上，输入所需的用户参数，然后点击<span class="control">创建我的帐户</span> 。</p>        <figure><img alt="用户凭证" title="用户凭证" src="/help/img/idea/2019.3/rm_get_started_debug_enter_credentials.png" id="b0cd9daa" width="785" height="1112"></figure>        <p id="46c93d62">调试器在断点处<a href="starting-the-debugger-session.html#pause-resume-debugger">暂停</a>其会话，并使您能够<a href="examining-suspended-program.html">检查</a>远程应用程序状态。</p>        <figure><img alt="调试远程应用程序" title="调试远程应用程序" src="/help/img/idea/2019.3/rm_remote_attach_debugger.png" id="81c1e89f" width="721" height="1160"></figure>        <p id="2d3ae5f6">例如，您可以检查在“ <span class="control">注册”</span>页面上指定的用户参数。</p>    </div>    <div class="chapter"><h2 id="troubleshooting" data-toc="Attaching_to_Remote_Process#troubleshooting">故障排除</h2>        <p id="89d5f3d7">如果在尝试附加到进程时遇到任何问题，请尝试以下解决方案：</p>        <ul class="list _ul"><li class="list__item" id="e4067a77"><p>确保远程运行应用程序具有相同的Ruby解释器作为<a href="#configure_remote_interpreter">配置</a>的调试项目。</p></li><li class="list__item" id="2a6f6e13"><p>尝试使用最新的调试工具。为此，请按<kbd data-primary_default_for_windows="Ctrl+Shift+A" data-primary_default_for_macos="Shift+⌘+A" data-primary_intellij_idea_classic_macos="Shift+⌘+A" data-primary_emacs="Escape, X" data-primary_visual_studio="Ctrl+Shift+A" data-primary_default_for_xwin="Ctrl+Shift+A" data-primary_default_for_gnome="Ctrl+Shift+A" data-primary_default_for_kde="Ctrl+Shift+A" data-primary_eclipse="Ctrl+Shift+A" data-primary_eclipse_macos="⌘+3" data-primary_netbeans="Ctrl+I" data-primary_sublime_text="Ctrl+Shift+P" data-primary_sublime_text_macos="Shift+⌘+P" data-primary_textmate="Shift+⌘+A" data-secondary_default_for_windows="⌃⇧A" data-secondary_default_for_macos="⇧⌘A" data-secondary_intellij_idea_classic="⇧⌘A" data-secondary_emacs="⎋, X" data-secondary_visual_studio="⌃⇧A" data-secondary_default_for_xwin="⌃⇧A" data-secondary_default_for_gnome="⌃⇧A" data-secondary_default_for_kde="⌃⇧A" data-secondary_eclipse="⌃⇧A" data-secondary_eclipse_macos="⌘3" data-secondary_netbeans="⌃I" data-secondary_sublime_text="⌃⇧P" data-secondary_sublime_text_macos="⇧⌘P" data-secondary_textmate="⇧⌘A">Ctrl+Shift+A</kbd> ，开始键入<span class="emphasis">启用实验性调试器</span> ，并确保已启用此选项。</p></li><li class="list__item" id="6df5f9f4"><p>尝试增加调试连接超时。为此，请打开“ <span class="control">设置/首选项”</span>对话框<kbd data-primary_default_for_windows="Ctrl+Alt+S" data-primary_default_for_macos="⌘+Comma" data-primary_intellij_idea_classic_macos="⌘+Comma" data-primary_emacs="Ctrl+Alt+S" data-primary_visual_studio="Alt+F7" data-primary_default_for_xwin="Ctrl+Alt+S" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-primary_eclipse_macos="⌘+Comma" data-primary_netbeans="Ctrl+Alt+S" data-primary_sublime_text="Ctrl+Alt+S" data-primary_sublime_text_macos="⌘+Comma" data-primary_textmate="⌘+Comma" data-secondary_default_for_windows="⌃⌥S" data-secondary_default_for_macos="⌘," data-secondary_intellij_idea_classic="⌘," data-secondary_emacs="⌃⌥S" data-secondary_visual_studio="⌥F7" data-secondary_default_for_xwin="⌃⌥S" data-secondary_default_for_gnome="⌃⌥S" data-secondary_default_for_kde="⌃⌥S" data-secondary_eclipse="⌃⌥S" data-secondary_eclipse_macos="⌘," data-secondary_netbeans="⌃⌥S" data-secondary_sublime_text="⌃⌥S" data-secondary_sublime_text_macos="⌘," data-secondary_textmate="⌘,">Ctrl+Alt+S</kbd> ，转到<span class="control">构建，执行，部署|调试器</span>页面，然后使用<span class="control">调试连接超时</span>选项。</p></li></ul>    </div><div class="last-modified" data-skip-index="skip">上次修改时间：2019年11月28日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="attaching-to-process.html">附加到流程</a> <a class="navigation-links__next" href="debug-rails-runner.html">教程：调试Rails运行器脚本</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>