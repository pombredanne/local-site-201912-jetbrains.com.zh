<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>在版本控制下管理文件-帮助|帮助红宝石矿</title><link rel="stylesheet" href="/resources.jetbrains.com/storage/help-app/v3/app.css"></head><body  data-id="procedures.vcWithIDEA.commonVcsOps.addFiles" data-breadcrumbs="Version_Control_Integration.xml|Version control/Adding_Files_to_Version_Control.xml|Manage Files under Version Control" data-main-title="Manage Files under Version Control" data-article-props="
                {
                
            " seeals=":[=" titl=":=" procedure=",=" link=":=" ur=":" importing-a-local-directory-to-subversion-repository.htm="," tex=":" importing="" a="" local="" directory="" to="" subversion="" repositor="}=" sharing-directory.htm="," sharing="" director="}=" referenc="}=" version-control-reference.htm="," version="" control="" settings-version-control.htm="," contro="}=" version-control-tool-window.htm="," tool="" windo="}=" web="" resource=",=" http:="" ="" www.jetbrains.net="" devnet="" community="" ruby?view="documents" developer="" communit="}=" data-section-switcher="[Windows or Linux;macOS]"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索RubyMine帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>RubyMine 2019.3帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option value="primary_default_for_windows" data-group="primary" selected>Windows的默认设置</option><option value="primary_default_for_macos" data-group="primary">macOS的默认设置</option><option value="primary_intellij_idea_classic_macos" data-group="primary">IntelliJ IDEA经典版（macOS）</option><option value="primary_emacs" data-group="primary">埃马克斯</option><option value="primary_visual_studio" data-group="primary">视觉工作室</option><option value="primary_default_for_xwin" data-group="primary">XWin的默认设置</option><option value="primary_default_for_gnome" data-group="primary">GNOME的默认设置</option><option value="primary_default_for_kde" data-group="primary">KDE的默认值</option><option value="primary_eclipse" data-group="primary">日食</option><option value="primary_eclipse_macos" data-group="primary">Eclipse（macOS）</option><option value="primary_netbeans" data-group="primary">NetBeans</option><option value="primary_sublime_text" data-group="primary">崇高文字</option><option value="primary_sublime_text_macos" data-group="primary">崇高文字（macOS）</option><option value="primary_textmate" data-group="primary">TextMate</option><option value="secondary_default_for_windows" data-group="secondary">Windows的默认设置</option><option value="secondary_default_for_macos" data-group="secondary">macOS的默认设置</option><option value="secondary_intellij_idea_classic" data-group="secondary">IntelliJ IDEA经典版</option><option value="secondary_emacs" data-group="secondary">埃马克斯</option><option value="secondary_visual_studio" data-group="secondary">视觉工作室</option><option value="secondary_default_for_xwin" data-group="secondary">XWin的默认设置</option><option value="secondary_default_for_gnome" data-group="secondary">GNOME的默认设置</option><option value="secondary_default_for_kde" data-group="secondary">KDE的默认值</option><option value="secondary_eclipse" data-group="secondary">日食</option><option value="secondary_eclipse_macos" data-group="secondary">Eclipse（macOS）</option><option value="secondary_netbeans" data-group="secondary">NetBeans</option><option value="secondary_sublime_text" data-group="secondary">崇高文字</option><option value="secondary_sublime_text_macos" data-group="secondary">崇高文字（macOS）</option><option value="secondary_textmate" data-group="secondary">TextMate</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 id="Adding_Files_to_Version_Control.xml" data-toc="procedures.vcWithIDEA.commonVcsOps.addFiles">在版本控制下管理文件</h1>    <div class="chapter"><h2 id="add-files-to-vcs" data-toc="procedures.vcWithIDEA.commonVcsOps.addFiles#add-files-to-vcs">将文件添加到VCS</h2>        <section class="procedure-steps"><a name="step_vcs_open_local_changes"></a><ol class="list _decimal"><li class="list__item" id="0e8e65b4"><p>            <a name="vcs_open_local_changes"></a>打开<a name="vcs_commit_window"></a> <span class="control">版本控制</span>窗口<kbd data-primary_default_for_windows="Alt+9" data-primary_default_for_macos="⌘+9" data-primary_intellij_idea_classic_macos="⌘+9" data-primary_emacs="Alt+9" data-primary_visual_studio="Alt+9" data-primary_default_for_xwin="Alt+9" data-primary_default_for_gnome="Alt+9" data-primary_default_for_kde="Alt+9" data-primary_eclipse="Alt+9" data-primary_eclipse_macos="⌘+9" data-primary_netbeans="Alt+9" data-primary_sublime_text="Alt+9" data-primary_sublime_text_macos="⌘+9" data-primary_textmate="⌘+9" data-secondary_default_for_windows="⌥9" data-secondary_default_for_macos="⌘9" data-secondary_intellij_idea_classic="⌘9" data-secondary_emacs="⌥9" data-secondary_visual_studio="⌥9" data-secondary_default_for_xwin="⌥9" data-secondary_default_for_gnome="⌥9" data-secondary_default_for_kde="⌥9" data-secondary_eclipse="⌥9" data-secondary_eclipse_macos="⌘9" data-secondary_netbeans="⌥9" data-secondary_sublime_text="⌥9" data-secondary_sublime_text_macos="⌘9" data-secondary_textmate="⌘9">Alt+9</kbd>并切换到“ <span class="control">本地更改”</span>标签。</p></li><li class="list__item" id="f24d624c"><p>通过按将任何文件放在版本控制下的“无版本文件” <span class="control">更改</span>列表中<kbd data-primary_default_for_windows="Ctrl+Alt+A" data-primary_default_for_macos="Alt+⌘+A" data-primary_intellij_idea_classic_macos="Alt+⌘+A" data-primary_emacs="Ctrl+Alt+A" data-primary_visual_studio="Ctrl+Alt+A" data-primary_default_for_xwin="Ctrl+Alt+A" data-primary_default_for_gnome="Ctrl+Alt+A" data-primary_default_for_kde="Ctrl+Alt+A" data-primary_eclipse="Ctrl+Alt+A" data-primary_eclipse_macos="Alt+⌘+A" data-primary_netbeans="Ctrl+Alt+A" data-primary_sublime_text="Ctrl+Alt+A" data-primary_sublime_text_macos="Alt+⌘+A" data-primary_textmate="Alt+⌘+A" data-secondary_default_for_windows="⌃⌥A" data-secondary_default_for_macos="⌥⌘A" data-secondary_intellij_idea_classic="⌥⌘A" data-secondary_emacs="⌃⌥A" data-secondary_visual_studio="⌃⌥A" data-secondary_default_for_xwin="⌃⌥A" data-secondary_default_for_gnome="⌃⌥A" data-secondary_default_for_kde="⌃⌥A" data-secondary_eclipse="⌃⌥A" data-secondary_eclipse_macos="⌥⌘A" data-secondary_netbeans="⌃⌥A" data-secondary_sublime_text="⌃⌥A" data-secondary_sublime_text_macos="⌥⌘A" data-secondary_textmate="⌥⌘A">Ctrl+Alt+A</kbd>或从上下文菜单中选择“ <span class="control">添加到VCS</span> ”。您可以添加整个更改列表，也可以选择单独的文件。</p></li></ol></section>        <p id="add-unversioned">如果您为项目启用了VCS集成，则RubyMine建议在版本控制下添加每个新创建的文件（您可以在“ <span class="control">设置/首选项”</span>对话框中更改此行为。 <kbd data-primary_default_for_windows="Ctrl+Alt+S" data-primary_default_for_macos="⌘+Comma" data-primary_intellij_idea_classic_macos="⌘+Comma" data-primary_emacs="Ctrl+Alt+S" data-primary_visual_studio="Alt+F7" data-primary_default_for_xwin="Ctrl+Alt+S" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-primary_eclipse_macos="⌘+Comma" data-primary_netbeans="Ctrl+Alt+S" data-primary_sublime_text="Ctrl+Alt+S" data-primary_sublime_text_macos="⌘+Comma" data-primary_textmate="⌘+Comma" data-secondary_default_for_windows="⌃⌥S" data-secondary_default_for_macos="⌘," data-secondary_intellij_idea_classic="⌘," data-secondary_emacs="⌃⌥S" data-secondary_visual_studio="⌥F7" data-secondary_default_for_xwin="⌃⌥S" data-secondary_default_for_gnome="⌃⌥S" data-secondary_default_for_kde="⌃⌥S" data-secondary_eclipse="⌃⌥S" data-secondary_eclipse_macos="⌘," data-secondary_netbeans="⌃⌥S" data-secondary_sublime_text="⌃⌥S" data-secondary_sublime_text_macos="⌘," data-secondary_textmate="⌘,">Ctrl+Alt+S</kbd>在<span class="control">版本控制下|确认</span> ）。如果希望某些文件始终保持未版本控制，则可以将VCS配置为忽略它们。</p><aside class="prompt" rel="add-unversioned" id="886d849e" data-type="tip" data-title="">            <p id="b6c761ed">您也可以从“ <span class="control">项目”</span>工具窗口将文件添加到本地存储库。选择要添加的文件，然后按<kbd data-primary_default_for_windows="Ctrl+Alt+A" data-primary_default_for_macos="Alt+⌘+A" data-primary_intellij_idea_classic_macos="Alt+⌘+A" data-primary_emacs="Ctrl+Alt+A" data-primary_visual_studio="Ctrl+Alt+A" data-primary_default_for_xwin="Ctrl+Alt+A" data-primary_default_for_gnome="Ctrl+Alt+A" data-primary_default_for_kde="Ctrl+Alt+A" data-primary_eclipse="Ctrl+Alt+A" data-primary_eclipse_macos="Alt+⌘+A" data-primary_netbeans="Ctrl+Alt+A" data-primary_sublime_text="Ctrl+Alt+A" data-primary_sublime_text_macos="Alt+⌘+A" data-primary_textmate="Alt+⌘+A" data-secondary_default_for_windows="⌃⌥A" data-secondary_default_for_macos="⌥⌘A" data-secondary_intellij_idea_classic="⌥⌘A" data-secondary_emacs="⌃⌥A" data-secondary_visual_studio="⌃⌥A" data-secondary_default_for_xwin="⌃⌥A" data-secondary_default_for_gnome="⌃⌥A" data-secondary_default_for_kde="⌃⌥A" data-secondary_eclipse="⌃⌥A" data-secondary_eclipse_macos="⌥⌘A" data-secondary_netbeans="⌃⌥A" data-secondary_sublime_text="⌃⌥A" data-secondary_sublime_text_macos="⌥⌘A" data-secondary_textmate="⌥⌘A">Ctrl+Alt+A</kbd>或选择<span class="control">VCS | <your_vcs>|</your_vcs></span>从上下文菜单中<span class="control"><your_vcs>添加</your_vcs></span> 。</p>        </aside>                    </div>    <div class="chapter"><h2 id="check-status" data-toc="procedures.vcWithIDEA.commonVcsOps.addFiles#check-status">检查项目文件状态</h2>        <p id="e95321ca">与项目的存储库版本相比，RubyMine允许您检查本地工作副本的状态。它可以让您查看哪些文件已被修改，哪些新文件已添加到VCS，以及哪些文件未被Git跟踪。</p>        <p id="a51e3594">            <a name="vcs_open_local_changes"></a>打开<a name="vcs_commit_window"></a> <span class="control">版本控制</span>窗口<kbd data-primary_default_for_windows="Alt+9" data-primary_default_for_macos="⌘+9" data-primary_intellij_idea_classic_macos="⌘+9" data-primary_emacs="Alt+9" data-primary_visual_studio="Alt+9" data-primary_default_for_xwin="Alt+9" data-primary_default_for_gnome="Alt+9" data-primary_default_for_kde="Alt+9" data-primary_eclipse="Alt+9" data-primary_eclipse_macos="⌘+9" data-primary_netbeans="Alt+9" data-primary_sublime_text="Alt+9" data-primary_sublime_text_macos="⌘+9" data-primary_textmate="⌘+9" data-secondary_default_for_windows="⌥9" data-secondary_default_for_macos="⌘9" data-secondary_intellij_idea_classic="⌘9" data-secondary_emacs="⌥9" data-secondary_visual_studio="⌥9" data-secondary_default_for_xwin="⌥9" data-secondary_default_for_gnome="⌥9" data-secondary_default_for_kde="⌥9" data-secondary_eclipse="⌥9" data-secondary_eclipse_macos="⌘9" data-secondary_netbeans="⌥9" data-secondary_sublime_text="⌥9" data-secondary_sublime_text_macos="⌘9" data-secondary_textmate="⌘9">Alt+9</kbd>并切换到“ <span class="control">本地更改”</span>标签。</p>        <figure><img alt="Git文件状态" title="Git文件状态" src="/help/img/idea/2019.3/Git_file_status.png" id="728a64a6" width="613" height="193"></figure>                        <ul class="list _ul"><li class="list__item" id="default-changelists"><p><span class="control">默认</span>更改列表显示自上次与远程存储库同步以来已修改的所有文件（以蓝色突出显示），以及已添加到VCS但尚未提交的所有新文件（以绿色突出显示）。</p></li><li class="list__item" id="51882d95"><p>“ <span class="control">未版本控制的文件</span> ” <span class="control">更改</span>列表显示所有已添加到项目中但未被Git跟踪的文件。</p></li></ul>                        <a name="track_changes_in_editor"></a>        <div class="chapter"><h3 id="track_changes">在编辑器中跟踪对文件的更改</h3>            <p id="7eedaebf">您还可以在编辑器中修改文件时跟踪对文件的更改。所有更改都用<span class="keyword">更改标记</span>突出显示，这些<span class="keyword">更改标记</span>显示在已修改行旁边的装订线中，并显示自上次<a href="sync-with-a-remote-repository.html">与存储库同步</a>以来引入的更改类型。将更改提交到存储库后，更改标记消失。</p>            <a name="change_markers_description"></a>        <p id="gutter-colors">您对文本所做的更改使用颜色编码：</p>        <ul class="list _ul"><li class="list__item" id="6cf7dda5"><p>                <img alt="新添加的行的标记" title="新添加的行的标记" src="/help/img/idea/2019.3/lineAddedMarker.png" id="0aa2ff86" width="6" height="13" class="inline-icon-6">行已添加。</p></li><li class="list__item" id="9d81bd80"><p>                <img alt="修改线的标记" title="修改线的标记" src="/help/img/idea/2019.3/lineChangededMarker.png" id="babe6e5a" width="6" height="13" class="inline-icon-6">线变了。</p></li></ul>                <aside class="prompt" rel="d07b99b9" id="b799d2c6" data-type="tip" data-title="">                <p id="17ef8d68">您可以在“ <span class="control" data-section="Windows or Linux">设置</span> <span class="control" data-section="macOS">首选项”</span>对话框中自定义线路状态的默认颜色<kbd data-primary_default_for_windows="Ctrl+Alt+S" data-primary_default_for_macos="⌘+Comma" data-primary_intellij_idea_classic_macos="⌘+Comma" data-primary_emacs="Ctrl+Alt+S" data-primary_visual_studio="Alt+F7" data-primary_default_for_xwin="Ctrl+Alt+S" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-primary_eclipse_macos="⌘+Comma" data-primary_netbeans="Ctrl+Alt+S" data-primary_sublime_text="Ctrl+Alt+S" data-primary_sublime_text_macos="⌘+Comma" data-primary_textmate="⌘+Comma" data-secondary_default_for_windows="⌃⌥S" data-secondary_default_for_macos="⌘," data-secondary_intellij_idea_classic="⌘," data-secondary_emacs="⌃⌥S" data-secondary_visual_studio="⌥F7" data-secondary_default_for_xwin="⌃⌥S" data-secondary_default_for_gnome="⌃⌥S" data-secondary_default_for_kde="⌃⌥S" data-secondary_eclipse="⌃⌥S" data-secondary_eclipse_macos="⌘," data-secondary_netbeans="⌃⌥S" data-secondary_sublime_text="⌃⌥S" data-secondary_sublime_text_macos="⌘," data-secondary_textmate="⌘,">Ctrl+Alt+S</kbd>在<span class="control">编辑器</span>下<span class="control">|配色方案| VCS</span> 。</p>            </aside>            <p id="eae705cf">删除行时，装订线中会显示以下标记： <img alt="删除的线标记" title="删除的线标记" src="/help/img/idea/2019.3/deleted_line_marker.png" id="76c4d83b" width="32" height="29" class="inline-icon-32"> 。</p>            <p id="ea767de3">您可以使用将鼠标光标悬停在更改标记上然后单击它时出现的工具栏来管理更改。显示工具栏以及显示修改后行的先前内容的框架：</p>            <figure><img alt="修改后的线标记" title="修改后的线标记" src="/help/img/idea/2019.3/changeMarkerToolbar.png" id="e054e756" width="509" height="97"></figure>                                                <p id="rollback">您可以通过以下方式回滚更改： <img class="inline-icon-16" src="/help/img/idea/2019.3/icons.actions.rollback@2x.png" width="16" alt="还原图标"> c，并通过单击探索当前行的当前版本与存储库版本之间的差异<img class="inline-icon-16" src="/help/img/idea/2019.3/icons.actions.diff@2x.png" width="16" alt="Show diff图标"> 。</p>                <p id="93c3a46d">您无需复制整个文件，而可以复制此弹出窗口内容的任何部分并将其粘贴到编辑器中。</p>        </div>        </div>    <div class="chapter"><h2 id="delete-from-repo" data-toc="procedures.vcWithIDEA.commonVcsOps.addFiles#delete-from-repo">从存储库中删除文件</h2>        <p id="2d921619">如果删除受版本控制的文件，则在提交更改之前，该文件仍将存在于存储库中。删除的文件将放置到活动更改列表中，并以灰色突出显示。</p>        <section class="procedure-steps"><ol class="list _decimal"><li class="list__item" id="7a0d33a5"><p>在“ <span class="control">项目”</span>工具窗口中选择一个文件，然后按<kbd data-primary_default_for_windows="Delete" data-primary_default_for_macos="Delete" data-primary_intellij_idea_classic_macos="Delete" data-primary_emacs="Delete" data-primary_visual_studio="Delete" data-primary_default_for_xwin="Delete" data-primary_default_for_gnome="Delete" data-primary_default_for_kde="Delete" data-primary_eclipse="Delete" data-primary_eclipse_macos="Delete" data-primary_netbeans="Delete" data-primary_sublime_text="Delete" data-primary_sublime_text_macos="Delete" data-primary_textmate="Delete" data-secondary_default_for_windows="⌦" data-secondary_default_for_macos="⌦" data-secondary_intellij_idea_classic="⌦" data-secondary_emacs="⌦" data-secondary_visual_studio="⌦" data-secondary_default_for_xwin="⌦" data-secondary_default_for_gnome="⌦" data-secondary_default_for_kde="⌦" data-secondary_eclipse="⌦" data-secondary_eclipse_macos="⌦" data-secondary_netbeans="⌦" data-secondary_sublime_text="⌦" data-secondary_sublime_text_macos="⌦" data-secondary_textmate="⌦">Delete</kbd> ，或从上下文菜单中选择“ <span class="control">删除</span> ”。</p></li><li class="list__item" id="a600a1b1">                <p id="c947bff5">在打开的对话框中，您可以选择是否要在不搜索用途的情况下删除此文件，或者执行<span class="emphasis">安全删除</span>以通过选中“ <span class="control">安全删除”</span>选项来确保删除未使用的文件。</p>                <p id="2d77f055">如果找到任何用法，则会弹出“ <span class="control">检测到</span>的<span class="control">用法”</span>对话框，列出它们。您可以查看这些用法并删除对该文件的引用，然后再将其删除。</p>            </li><li class="list__item" id="8393d847"><p>将更改提交到存储库。</p></li></ol></section>    </div>    <div class="last-modified" data-skip-index="skip">上次修改时间：2019年11月28日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="configuring-version-control-options.html">配置版本控制选项</a> <a class="navigation-links__next" href="comparing-file-versions.html">比较文件版本</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>