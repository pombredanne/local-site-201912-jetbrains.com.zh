<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>文件监视程序-帮助|帮助红宝石矿</title><link rel="stylesheet" href="/resources.jetbrains.com/storage/help-app/v3/app.css"></head><body  data-id="Using_File_Watchers" data-breadcrumbs="Advanced_Features.xml|Advanced IDE Features/Using_File_Watchers.xml|File Watchers" data-main-title="File Watchers" data-article-props="
                {
                
            " seeals=":[=" titl=":=" referenc=",=" link=":=" ur=":" settings-tools-file-watchers.htm="," tex=":" file="" watcher="" new-watcher-dialog.htm="," new="" dialo="}=" language="" and="" framework-specific="" guideline=",=" coffeescript.htm="," coffeescrip="}=" typescript-support.htm="," typescrip="}=" minifying-javascript.htm="," minifying="" javascrip="}=" markup="" languages="" sheet=",=" compressing-css.htm="," cs="}=" transpiling-sass-less-and-scss-to-css.htm="," sass,="" less,="" scs="}=" transpiling-compass-to-css.htm="," sass="" scss="" in="" compass="" application="}=" =""><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索RubyMine帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>RubyMine 2019.3帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option value="primary_default_for_windows" data-group="primary" selected>Windows的默认设置</option><option value="primary_default_for_macos" data-group="primary">macOS的默认设置</option><option value="primary_intellij_idea_classic_macos" data-group="primary">IntelliJ IDEA经典版（macOS）</option><option value="primary_emacs" data-group="primary">埃马克斯</option><option value="primary_visual_studio" data-group="primary">视觉工作室</option><option value="primary_default_for_xwin" data-group="primary">XWin的默认设置</option><option value="primary_default_for_gnome" data-group="primary">GNOME的默认设置</option><option value="primary_default_for_kde" data-group="primary">KDE的默认值</option><option value="primary_eclipse" data-group="primary">日食</option><option value="primary_eclipse_macos" data-group="primary">Eclipse（macOS）</option><option value="primary_netbeans" data-group="primary">NetBeans</option><option value="primary_sublime_text" data-group="primary">崇高文字</option><option value="primary_sublime_text_macos" data-group="primary">崇高文字（macOS）</option><option value="primary_textmate" data-group="primary">TextMate</option><option value="secondary_default_for_windows" data-group="secondary">Windows的默认设置</option><option value="secondary_default_for_macos" data-group="secondary">macOS的默认设置</option><option value="secondary_intellij_idea_classic" data-group="secondary">IntelliJ IDEA经典版</option><option value="secondary_emacs" data-group="secondary">埃马克斯</option><option value="secondary_visual_studio" data-group="secondary">视觉工作室</option><option value="secondary_default_for_xwin" data-group="secondary">XWin的默认设置</option><option value="secondary_default_for_gnome" data-group="secondary">GNOME的默认设置</option><option value="secondary_default_for_kde" data-group="secondary">KDE的默认值</option><option value="secondary_eclipse" data-group="secondary">日食</option><option value="secondary_eclipse_macos" data-group="secondary">Eclipse（macOS）</option><option value="secondary_netbeans" data-group="secondary">NetBeans</option><option value="secondary_sublime_text" data-group="secondary">崇高文字</option><option value="secondary_sublime_text_macos" data-group="secondary">崇高文字（macOS）</option><option value="secondary_textmate" data-group="secondary">TextMate</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 id="Using_File_Watchers.xml" data-toc="Using_File_Watchers">文件观察者</h1>                           <p id="07cab2d1"><span class="emphasis">File Watcher</span>是内置的RubyMine工具，它允许您在IDE中更改或保存文件时自动运行命令行工具，例如编译器，格式化程序或linters。</p>    <a name="fileWatcherInspections"></a>                <p id="9d02fff0">文件监视程序具有两个专用的<span class="emphasis">代码检查</span> ：</p><ul class="list _bullet"><li class="list__item" id="703e61d4"><p>适用于预定义File Watcher的每个文件都会运行<span class="emphasis">File watcher可用</span>检查。如果项目没有配置相关的File Watcher，则RubyMine建议添加一个。</p></li><li class="list__item" id="cdd258ee"><p>正在运行的File Watcher调用File Watcher <span class="emphasis">问题</span>检查，并突出显示特定于它的错误。</p></li></ul>        <p></p>         <p id="c5b439fb">您可以使用可用模板之一，也可以从头开始配置File Watcher。可以将配置的File Watcher保存在您的项目设置或IDE设置中，并在不同的项目中使用。</p>        <section class="procedure-steps"><ul class="list "><li class="list__item" id="8c4f5c26">                <p id="c2f43230">当您打开适用于预定义File Watcher的文件时，RubyMine会显示一个窗格，建议您激活该窗格。</p>                                <figure><img alt="启用文件监视程序窗格" title="启用文件监视程序窗格" src="/help/img/idea/2019.3/ws_file_watcher_enable_pane_light.png" id="5dc27f6a" width="600" height="220"></figure>                <p id="b5263468">单击“ <span class="control">是”</span>以使用默认配置激活File Watcher。</p>            </li><li class="list__item" id="26b4b07e">                <p id="60ff0f2d">如果单击<span class="control">No</span> ，则RubyMine认为建议的File Watcher被禁止。您仍然可以按照下面的“ <a href="#ws_creating_file_watchers">创建文件观察器”</a>中的说明手动创建和启用它。</p>            </li></ul></section><div class="chapter"><h2 id="ws_file_watchers_bedore_you_start" data-toc="Using_File_Watchers#ws_file_watchers_bedore_you_start">在你开始前</h2>    <p id="a1c838a7">        <a name="ws_install_repo_plugin"></a>如<a href="managing-plugins.html">管理插件中</a>所述，在“ <a href="plugins-settings.html">插件”页面</a>上安装并启用File Watchers存储库插件。</p></div>    <div class="chapter"><h2 id="ws_creating_file_watchers" data-toc="Using_File_Watchers#ws_creating_file_watchers">创建文件观察器</h2>        <section class="procedure-steps"><ol class="list _decimal"><li class="list__item" id="accd20bf">                <p id="f2d891ff">                <a name="open_settings"></a>在里面<a name="settings_dialog"></a> <span class="control">设置/首选项</span>对话框<kbd data-primary_default_for_windows="Ctrl+Alt+S" data-primary_default_for_macos="⌘+Comma" data-primary_intellij_idea_classic_macos="⌘+Comma" data-primary_emacs="Ctrl+Alt+S" data-primary_visual_studio="Alt+F7" data-primary_default_for_xwin="Ctrl+Alt+S" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-primary_eclipse_macos="⌘+Comma" data-primary_netbeans="Ctrl+Alt+S" data-primary_sublime_text="Ctrl+Alt+S" data-primary_sublime_text_macos="⌘+Comma" data-primary_textmate="⌘+Comma" data-secondary_default_for_windows="⌃⌥S" data-secondary_default_for_macos="⌘," data-secondary_intellij_idea_classic="⌘," data-secondary_emacs="⌃⌥S" data-secondary_visual_studio="⌥F7" data-secondary_default_for_xwin="⌃⌥S" data-secondary_default_for_gnome="⌃⌥S" data-secondary_default_for_kde="⌃⌥S" data-secondary_eclipse="⌃⌥S" data-secondary_eclipse_macos="⌘," data-secondary_netbeans="⌃⌥S" data-secondary_sublime_text="⌃⌥S" data-secondary_sublime_text_macos="⌘," data-secondary_textmate="⌘,">Ctrl+Alt+S</kbd> ，单击“ <span class="control">工具”</span>下的“ <span class="control">文件监视程序</span> ”。将打开“ <a href="settings-tools-file-watchers.html">文件监视程序”页面，</a>显示该项目和IDE中已经配置的文件监视程序列表。</p>            </li><li class="list__item" id="1c974086"><p>请点击<img class="inline-icon-16" src="/help/img/idea/2019.3/icons.general.add@2x.png" width="16" alt="添加按钮">并选择要从中创建File Watcher的预定义模板。选择取决于要使用的工具。要使用不在列表中的工具，请选择<span class="control">自定义</span> 。将打开“ <a href="new-watcher-dialog.html">新建监视程序”</a>对话框。</p></li><li class="list__item" id="7f448e0b"><p>在<span class="control">名称</span>字段中，输入文件监视程序的名称。默认情况下，RubyMine建议选择预定义模板的名称。</p></li></ol></section>    </div>    <div class="chapter"><h2 id="ws_filewatcher_type_and_location_of_input_files" data-toc="Using_File_Watchers#ws_filewatcher_type_and_location_of_input_files">配置输入文件的预期类型和位置</h2>        <p id="f6385a14">使用<span class="control">“要监视</span>的<span class="control">文件”</span>区域中的控件来定义要在其中应用文件<span class="control">监视程序</span>的文件范围。</p>        <section class="procedure-steps"><ol class="list _decimal"><li class="list__item" id="ws_fw_file_type">                <p id="8e2fc43a">从<span class="control">文件类型</span>列表中，选择输入文件的预期类型。 <a name="ws_fw_fileType"></a>        File Watcher仅将此类文件视为分析和处理的主题。基于<a href="creating-and-registering-file-types.html#register-new-association">文件类型和文件扩展名之间的关联</a>来识别<a href="creating-and-registering-file-types.html#register-new-association">文件类型</a> 。</p>                            <p id="e2a53b24">                <a name="ws_fw_file_type_default"></a>默认情况下，该字段显示根据所选预定义模板的文件类型。</p>            </li><li class="list__item" id="ws_fw_scope">                <p id="0c200d34">选择<span class="control">适用</span>于文件监视程序的范围。</p>                <a name="ws_file_watcher_scope"></a>        <p id="d2755f48">这些文件中的更改将立即或在保存或取消激活框架后调用File Watcher，具体取决于<span class="control">自动保存已编辑文件的状态以触发</span> Watcher复选框。</p>        <p>从列表中选择一个预定义的范围。对于项目级别的File Watcher，也可以单击<img class="inline-icon-9" src="/help/img/idea/2019.3/icons.general.ellipsis@2x.png" width="9" alt="浏览按钮">在打开的“ <span class="control">范围”</span>对话框中配置自定义范围。 <a name="ws_fw_scopes_list"></a>                        </p><ul class="list _bullet"><li class="list__item" id="0c84bdb9">                <p id="86c619b0">                <span class="control">所有地点：</span>下面<span class="control">列出的</span>所有范围。</p>            </li><li class="list__item" id="3c16b9ad">                <p id="76dbc517">                <span class="control">项目文件：</span>项目内容根目录中的所有文件（请参阅<a href="configuring-project-structure.html">配置项目结构</a> ）。</p>            </li><li class="list__item" id="c4cc242f">                <p id="8ca619ff">                <span class="control">项目生产文件：</span>项目内容根中的所有文件（测试源除外）。</p>            </li><li class="list__item" id="d325d264">                <p id="5dd45c7a">                <span class="control">项目测试文件：</span>项目测试源根目录中的所有文件。</p>            </li><li class="list__item" id="1ec99ad1">                <p id="3c3b3bcb">                <span class="control">临时和控制台：</span>位于“ <span class="control">项目”</span>工具窗口中的<span class="control">临时和控制台</span>目录中的所有文件。</p>            </li><li class="list__item" id="65b74cd9">                <p id="9618e93d">                <span class="control">打开文件：</span>编辑器中当前打开的所有文件。</p>            </li><li class="list__item" id="35ed9372">                <p id="b3e3e954">                <span class="control">当前文件：</span>在活动编辑器选项卡中打开的文件。</p>            </li></ul>        <p></p><p id="a0ccada1">            <span class="control">VCS范围：</span>仅当您的<a href="enabling-version-control.html#associate_project_with_VCS">项目处于版本控制下时，</a>这些范围才可用。</p><p>从列表中选择一个预定义的范围。对于项目级别的File Watcher，也可以单击<img class="inline-icon-9" src="/help/img/idea/2019.3/icons.general.ellipsis@2x.png" width="9" alt="浏览按钮">在打开的“ <span class="control">范围”</span>对话框中配置自定义范围。 <a name="ws_fw_scopes_list"></a>                        </p><ul class="list _bullet"><li class="list__item" id="0c84bdb9">                <p id="86c619b0">                <span class="control">所有地点：</span>下面<span class="control">列出的</span>所有范围。</p>            </li><li class="list__item" id="3c16b9ad">                <p id="76dbc517">                <span class="control">项目文件：</span>项目内容根目录中的所有文件（请参阅<a href="configuring-project-structure.html">配置项目结构</a> ）。</p>            </li><li class="list__item" id="c4cc242f">                <p id="8ca619ff">                <span class="control">项目生产文件：</span>项目内容根中的所有文件（测试源除外）。</p>            </li><li class="list__item" id="d325d264">                <p id="5dd45c7a">                <span class="control">项目测试文件：</span>项目测试源根目录中的所有文件。</p>            </li><li class="list__item" id="1ec99ad1">                <p id="3c3b3bcb">                <span class="control">临时和控制台：</span>位于“ <span class="control">项目”</span>工具窗口中的<span class="control">临时和控制台</span>目录中的所有文件。</p>            </li><li class="list__item" id="65b74cd9">                <p id="9618e93d">                <span class="control">打开文件：</span>编辑器中当前打开的所有文件。</p>            </li><li class="list__item" id="35ed9372">                <p id="b3e3e954">                <span class="control">当前文件：</span>在活动编辑器选项卡中打开的文件。</p>            </li></ul>        <p></p><p id="a0ccada1">或者，单击<img class="inline-icon-9" src="/help/img/idea/2019.3/icons.general.ellipsis@2x.png" width="9" alt="浏览按钮">并在打开的“ <span class="emphasis">范围”</span>对话框中配置<span class="emphasis">自定义范围</span> 。</p>                                <p id="618ba577">                <a name="ws_fw_scope_tip"></a>有关详细信息，请参见<a href="scope.html">范围</a> 。</p>            </li><li class="list__item" id="ws_fw_track_only_root_files">                <p id="c22a653e">                <span class="emphasis">可选</span> ：指定您希望文件监视程序如何处理依赖项。 <a name="rootFileDefinition"></a>        <span class="emphasis">根文件</span>是不包含的文件（例如，通过<code class="code">import</code> ）在<a href="new-watcher-dialog.html#scope">指定范围内的</a>任何其他文件<a href="new-watcher-dialog.html#scope">中</a> 。</p>                <ul class="list _bullet"><li class="list__item" id="b70287da">                        <p id="218c2fe5">要仅对根文件运行File Watcher，请选中“ <span class="control">仅跟踪根文件”</span>复选框。</p>                    </li><li class="list__item" id="f2a95e16">                        <p id="124266f5">清除复选框，以针对从其调用文件的文件以及在指定范围内递归包含该文件的所有文件运行File Watcher。</p>                    </li></ul>                <p id="850b8e4a">                <a name="ws_fw_track_only_root_files_tip"></a>请注意，“ <span class="control">作用域”</span>设置将覆盖“ <span class="control">仅跟踪根文件”</span>复选框设置：如果依赖项在指定作用域之外，则不会对其应用文件监视程序。</p>                        <aside class="prompt" rel="850b8e4a" id="9ddac918" data-type="note" data-title="">            <p id="c4243ab3">此选项仅适用于<span class="emphasis">Babel</span> ， <span class="emphasis">Closure Compiler</span> ， <span class="emphasis">Compass</span> ， <span class="emphasis">Jade</span> ， <span class="emphasis">Less</span> ， <span class="emphasis">Sass</span> / <span class="emphasis">SCSS</span> ， <span class="emphasis">Stylus</span> ， <span class="emphasis">UglifyJS</span>和<span class="emphasis">YUI Compressor JS</span> 。</p>        </aside>            </li></ol></section>    </div>    <div class="chapter"><h2 id="transpilerBehaviour" data-toc="Using_File_Watchers#transpilerBehaviour">配置与外部工具的交互</h2>        <p id="fa931d6f">在“ <span class="control">更改时运行工具”</span>区域中，指定要使用的工具，要传递给它的参数，预期的输出文件类型，等等。</p>        <section class="procedure-steps"><ol class="list _decimal"><li class="list__item" id="ws_fw_compiler_exe">                <p id="48f2bd99">在“ <span class="control">程序”</span>字段中，指定工具可执行文件的路径（ <span class="filepath">.exe</span> ， <span class="filepath">.cmd</span> ， <span class="filepath">.bat</span>或其他取决于特定工具的路径）。</p>                <p id="e0d11477">                    <a name="ws_fw_program_macro"></a>如果要为项目中安装的工具（例如<a href="https://prettier.io/docs/en/webstorm.html" rel="noopener noreferrer" data-external="true" target="_blank">Prettier</a> ）配置全局文件监视程序，则需要使用宏指定其路径。要在路径中使用可用的宏之一，请按“ <span class="control">插入宏”</span>按钮。例如，使用路径<span class="filepath">$ ProjectFileDir $ / node_modules / .bin / prettier</span> ，文件<span class="filepath">监视</span>程序将使用安装在项目的<span class="filepath">node_module</span>文件夹中的<span class="filepath">漂亮</span>文件。</p>                        <aside class="prompt" rel="e0d11477" id="18305e52" data-type="tip" data-title="">            <p id="95960ff0">                </p><ul class="list _ul"><li class="list__item" id="5a92081b"><p>要使用程序文件名而不是其完整路径，请将其路径添加到系统环境变量PATH中。</p></li><li class="list__item" id="5b9b7578"><p>在Windows上，您可以跳过<span class="filepath">.com</span> ， <span class="filepath">.exe</span> ， <span class="filepath">.cmd</span>或<span class="filepath">.bat</span>扩展名。</p></li><li class="list__item" id="1d03a50c"><p>                        <a name="ws_fw_compiler_exe_jar_tip"></a>要使用<span class="filepath">jar</span>档案，请指定其绝对路径。或者，要使用相对路径，请将其父文件夹添加到上的<a href="absolute-path-variables.html">RubyMine路径变量</a>中<a name="the_options_page"></a> <span class="menupath" data-skip-index="skip">外观与行为|</span> RubyMine设置的“ <span class="menupath" data-skip-index="skip">路径变量”</span>页面<kbd data-primary_default_for_windows="Ctrl+Alt+S" data-primary_default_for_macos="⌘+Comma" data-primary_intellij_idea_classic_macos="⌘+Comma" data-primary_emacs="Ctrl+Alt+S" data-primary_visual_studio="Alt+F7" data-primary_default_for_xwin="Ctrl+Alt+S" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-primary_eclipse_macos="⌘+Comma" data-primary_netbeans="Ctrl+Alt+S" data-primary_sublime_text="Ctrl+Alt+S" data-primary_sublime_text_macos="⌘+Comma" data-primary_textmate="⌘+Comma" data-secondary_default_for_windows="⌃⌥S" data-secondary_default_for_macos="⌘," data-secondary_intellij_idea_classic="⌘," data-secondary_emacs="⌃⌥S" data-secondary_visual_studio="⌥F7" data-secondary_default_for_xwin="⌃⌥S" data-secondary_default_for_gnome="⌃⌥S" data-secondary_default_for_kde="⌃⌥S" data-secondary_eclipse="⌃⌥S" data-secondary_eclipse_macos="⌘," data-secondary_netbeans="⌃⌥S" data-secondary_sublime_text="⌃⌥S" data-secondary_sublime_text_macos="⌘," data-secondary_textmate="⌘,">Ctrl+Alt+S</kbd> 。</p></li></ul>            <p></p>        </aside>            </li><li class="list__item" id="ws_fw_arguments">                <p id="bd17e54e">在“ <span class="control">参数”</span>字段中，定义要传递给工具的参数。</p>                    <a name="ws_fw_arguments"></a>        <p id="855778f7">通常使用宏来指定参数，例如， <code class="code">$FileName$</code>要么<code class="code">$FileNameWithoutExtension$</code> ，将替换为实际的文件名。</p>        <p id="6195aa2b">手动键入宏，或单击“ <span class="control">插入宏”，</span>然后从打开的“ <span class="control">宏”</span>对话框中的列表中选择相关的模式。</p>                                                </li><li class="list__item" id="ws_fw_output_paths_to_refresh">                <p id="689066be">在“ <span class="control">要刷新</span>的<span class="control">输出路径”</span>字段中，指定该工具存储其输出的文件：生成的源代码，源映射和依赖项。基于这些设置，RubyMine可以识别通过编译生成的文件。</p>                <p id="a1349755">                <a name="ws_fw_outputPaths"></a>请注意，更改“ <span class="control">输出路径以刷新”</span>字段中的值不会使该工具将其输出存储在其他位置。如果仍然需要这样做，请在“ <span class="control">参数”</span>字段中指定所需的自定义输出位置：键入以冒号作为分隔符的输出路径，并使用宏。</p>                <p id="385023d1">通常使用宏指定输出路径。手动输入路径，或单击“ <span class="control">插入宏”，</span>然后从列表中选择相关的模式。</p>            </li><li class="list__item" id="49aa9f4f">                <p id="34cabefd">展开<span class="control">工作目录和环境变量</span>隐藏区域。</p>            </li><li class="list__item" id="f07d2ef3">                <p id="a7a0452c">定义环境变量。例如，指定<code class="code">PATH</code>启动正在配置的工具所需的工具的变量，但未在其路径中引用。在大多数情况下，它是<span class="emphasis">Node.js</span>或<span class="emphasis">ruby.exe</span> 。这种情况可能是由于自定义手动安装，而不是通过Node Package Manager（npm）或<span class="emphasis">gem</span> Manager安装。</p>            </li><li class="list__item" id="ws_fw_working_directory">                <p id="119d9f05">在“ <span class="control">工作目录”</span>字段中，指定工具将应用到的目录。<br>                <a name="ws_fw_workingDirectory"></a>因为该工具始终在文件的上下文中调用，所以默认的工作目录是当前文件的目录。在所有预定义模板中，默认的工作目录通过<code class="code">$FileDir$</code>宏。要指定自定义工作目录，请在字段中键入其路径，或单击<img class="inline-icon-9" src="/help/img/idea/2019.3/icons.general.ellipsis@2x.png" width="9" alt="浏览按钮">并在“ <span class="control">选择路径”</span>对话框中选择目录，或单击“ <span class="control">插入宏”</span> ，然后从“宏”对话框的列表中选择所需的宏。</p>                                    </li></ol><aside class="prompt" rel="ws_fw_working_directory" id="8ecc4bc4" data-type="tip" data-title="">            <p id="40f59d0d">                <a name="ws_fw_working_directory_empty"></a>如果将“ <span class="control">工作目录”</span>字段保留为空，则RubyMine使用调用File Watcher的文件目录。</p>        </aside></section>    </div>    <div class="chapter"><h2 id="ws_filewatcher_advanced_options" data-toc="Using_File_Watchers#ws_filewatcher_advanced_options">配置高级选项</h2>        <p id="684d8eeb">在“ <span class="control">高级选项”</span>区域中，自定义File Watcher的默认行为。</p>        <section class="procedure-steps"><ol class="list _decimal"><li class="list__item" id="launchFileWatcher">                <p id="a29c1664">指定将调用文件监视程序的事件：</p>                <ul class="list _bullet"><li class="list__item" id="1423b221">                        <p id="9f98ff3d">要在对源代码进行任何更改后立即调用File Watcher，请选择<span class="control">自动保存编辑的文件以触发</span> Watcher复选框。<br>清除复选框后，File Watcher将在保存（ <span class="menupath" data-skip-index="skip">File | Save All</span> ）或将焦点从RubyMine中移出（在框架停用时）时启动。</p>                    </li><li class="list__item" id="ff4bbfa7">                        <p id="654a23f5">默认情况下，文件监视程序会在所有已保存的更改（包括例如当您签出分支时从版本控制系统收到的更新）时唤醒。要忽略此类更改并仅在更新RubyMine中的代码时调用文件<span class="control">监视</span>程序，请清除“ <span class="control">在外部更改时触发监视程序”</span>复选框。</p>                    </li></ul>            </li><li class="list__item" id="c99c8d03">                <p id="200a9d08">指定是否要让File Watcher与RubyMine语法解析器进行交互：</p>                <ul class="list _bullet"><li class="list__item" id="5d41c964">                        <p id="670551ef">选中<span class="control">触发器观察程序，而不考虑语法错误</span>复选框， <a name="ws_fw_trigger_watcher_checkbox_selected"></a>无论文件的语法正确性如何，File Watcher都会启动。File Watcher将在更新，保存或禁用框架后启动，具体取决于<span class="control">自动保存已编辑文件以触发</span> Watcher复选框的状态。</p>                    </li><li class="list__item" id="c8558fa9">                        <p id="352ebe62">清除“ <span class="control">触发器观察程序，无论语法错误”</span>复选框后， <a name="ws_fw_trigger_watcher_checkbox_cleared"></a> File Watcher会忽略语法上无效的文件中的所有触发器，并且仅在无错误的文件中启动。</p>                    </li></ul>            </li><li class="list__item" id="ws_fw_create_output_from_stdout">                <p id="594319d3">使用“ <span class="control">从stdout创建输出文件”</span>复选框可以指定要如何生成输出文件。</p>                <ul class="list _bullet"><li class="list__item" id="882b50df">                        <p id="919c39a1">选中该复选框后，RubyMine会读取本机工具的输出<code class="code">standard output stream (stdout)</code>并从中生成结果文件。</p>                    </li><li class="list__item" id="68844fc7">                        <p id="37f1db39">清除该复选框后，该工具会将其输出直接写入“ <span class="control">刷新路径”</span>字段中指定的文件中。</p>                    </li></ul>            </li><li class="list__item" id="c0b9bc04">                <p id="b8205d80">在“ <span class="control">显示控制台”</span>列表中，选择希望文件监视程序打开控制台的时间。</p>                <a name="consoleOptions"></a>        <ul class="list _bullet"><li class="list__item" id="f3a075c0">                <p id="d43258f8">                <span class="control">始终：</span>使用此选项，控制台始终在工具执行完成后打开。</p>            </li><li class="list__item" id="626c0514">                <p id="605fb581">                <span class="control">错误时：</span>使用此选项时，仅在以下情况下控制台在工具执行后打开<code class="code">Exit code</code>与...不同<code class="code">0</code> 。</p>            </li><li class="list__item" id="156a9515">                <p id="612f7715">                <span class="control">永不：</span>选择此选项可完全禁止打开控制台。</p>            </li></ul>                </li></ol></section>            </div>    <div class="chapter"><h2 id="showFileWatcherInfoInEditor" data-toc="Using_File_Watchers#showFileWatcherInfoInEditor">在编辑器中显示File Watcher报告的信息</h2>        <p id="fb64752d">如果“文件监视程序”中配置的工具通过文件和特定行的链接报告有关代码的错误或警告，则可以在编辑器中看到以下信息：</p>        <ul class="list _ul"><li class="list__item" id="fcb15642">                <p id="24bb054c">在<span class="menupath" data-skip-index="skip">首选项/设置|编辑器检查时</span> ，启用检查<span class="control">File Watcher的问题</span> 。</p>            </li><li class="list__item" id="1cc42b8d">                <p id="903bd8fc">在“ <a href="new-watcher-dialog.html">编辑监视程序”</a>对话框的“ <span class="control">输出过滤器”</span>字段中，描述要匹配的输出的格式。使用宏<code class="code">$FILE_PATH$</code> ， <code class="code">$LINE$</code>和<code class="code">$MESSAGE$</code>为了那个原因。您需要避免使用大括号和点等特殊符号<code class="code">\</code> 。文字与<code class="code">$MESSAGE$</code>宏将显示在编辑器中。</p>            </li></ul>        <div class="chapter"><h3 id="example">例</h3>        <p id="5161a461">该工具以以下格式报告错误：</p><div class="code-block" data-lang="bash">错误：/Users/Alice/WebstormProjects/angular-app/src/main.ts [6，27]：“应为'</div>使用以下正则表达式作为输出过滤器，以查看编辑器中突出显示的错误：<div class="code-block" data-lang="bash">错误：$ FILE_PATH $ \ [$ LINE $，$ COLUMN $ \]：$ MESSAGE $</div>        <p></p>        </div>    </div><aside class="prompt" rel="showFileWatcherInfoInEditor" id="e1516273" data-type="tip" data-title="">    <p id="3ca9f6ff">您还可以使用“输出”过滤器使观察者的输出中的路径可单击。</p></aside>    <div class="chapter"><h2 id="enableFileWatcher" data-toc="Using_File_Watchers#enableFileWatcher">保存，启用和禁用文件监视程序</h2>     <p id="979c1f47">保存新的File Watcher后， <a name="ws_file_watcher_set_level"></a>您可以决定是否仅在当前项目（从“ <span class="control">级别”</span>列表中选择“ <span class="control">项目</span> ”）或所有项目（选择“ <span class="control">全局”</span> ）中可用。</p>        <figure><img alt="全局文件监控器" title="全局文件监控器" src="/help/img/idea/2019.3/ws_enable_global_watcher.png" id="18d30020" width="600" height="486"></figure>                                <section class="procedure-steps"><ul class="list "><li class="list__item" id="98db2c12">                <p id="f00c03d1">要启用或禁用文件监视程序， <a name="open_settings"></a>打开<a name="settings_dialog"></a> <span class="control">设置/首选项</span>对话框<kbd data-primary_default_for_windows="Ctrl+Alt+S" data-primary_default_for_macos="⌘+Comma" data-primary_intellij_idea_classic_macos="⌘+Comma" data-primary_emacs="Ctrl+Alt+S" data-primary_visual_studio="Alt+F7" data-primary_default_for_xwin="Ctrl+Alt+S" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-primary_eclipse_macos="⌘+Comma" data-primary_netbeans="Ctrl+Alt+S" data-primary_sublime_text="Ctrl+Alt+S" data-primary_sublime_text_macos="⌘+Comma" data-primary_textmate="⌘+Comma" data-secondary_default_for_windows="⌃⌥S" data-secondary_default_for_macos="⌘," data-secondary_intellij_idea_classic="⌘," data-secondary_emacs="⌃⌥S" data-secondary_visual_studio="⌥F7" data-secondary_default_for_xwin="⌃⌥S" data-secondary_default_for_gnome="⌃⌥S" data-secondary_default_for_kde="⌃⌥S" data-secondary_eclipse="⌃⌥S" data-secondary_eclipse_macos="⌘," data-secondary_netbeans="⌃⌥S" data-secondary_sublime_text="⌃⌥S" data-secondary_sublime_text_macos="⌘," data-secondary_textmate="⌘,">Ctrl+Alt+S</kbd> ，转到<span class="menupath" data-skip-index="skip">工具| File Watchers</span> ，然后选择或清除它旁边的复选框。</p>                <p id="5b29ca43">                    <a name="ws_file_watcher_enabled_starts_automatically"></a>启用文件监视程序后，一旦选定类型的文件以及选定范围内的文件被更改或保存，它将自动启动，请参阅<a href="#ws_filewatcher_advanced_options">配置高级选项</a> 。</p>                <p id="78f56918">                    <a name="ws_file_watcher_error_disabled"></a>如果在运行文件监视程序时发生错误，则会自动禁用文件监视程序。要恢复状态，请手动启用File Watcher。</p>            </li></ul></section>        <div class="chapter"><h3 id="enable_global_file_watcher_in_new_projects">为新项目启用全局文件监视程序</h3>            <p id="0b91cec2">                可以在将来创建的所有新项目中自动启用<span class="emphasis">全局</span>文件监视程序。</p>            <section class="procedure-steps"><ul class="list "><li class="list__item" id="8997aabf">                    <p id="945b485a">                        <a name="open_settings_new_projects"></a>打开<span class="control">“新项目</span>的<span class="control">设置”</span>对话框（“ <span class="menupath" data-skip-index="skip">文件” |“新项目的设置”</span> ），转到“ <span class="menupath" data-skip-index="skip">工具” |</span> <span class="menupath" data-skip-index="skip">“新项目”</span> <span class="menupath" data-skip-index="skip">。文件监视程序</span> ，然后选中所需文件监视程序旁边的复选框。</p>                </li><li class="list__item" id="8b5eb57d">                    <p id="7e861618">或者，在“ <span>欢迎屏幕”上</span> ，从“ <span class="control">配置”</span>列表中选择<span class="control">“设置”</span> 。在打开的对话框中，选中相关文件监视程序旁边的复选框。</p>                </li></ul></section>        </div>    </div>        <div class="chapter"><h2 id="troubleshoointgFileWatchers" data-toc="Using_File_Watchers#troubleshoointgFileWatchers">对文件监视程序进行故障排除</h2>       <p id="bdab8577">在<span class="menupath" data-skip-index="skip">“首选项/设置” |</span> “列表”中的<span class="menupath" data-skip-index="skip">“</span>文件监视程序”旁边可能会出现红色错误消息<span class="menupath" data-skip-index="skip">。工具|文件监视程序</span> 。</p>       <figure><img alt="文件监视程序错误消息" title="文件监视程序错误消息" src="/help/img/idea/2019.3/ws_file_watcher_errors.png" id="c77e97df" width="600" height="350"></figure>              <p id="0e479392">以下是可能的错误列表：</p>        <div class="table-wrapper"><table class=" wide" width="100%" id="2060c3df"><thead><tr id="a47ee131" class="ijRowHead"><th id="cb94e33d"><p>报告的问题</p></th><th id="c23a225e"><p>问题描述</p></th><th id="9902a554"><p>解决方法</p></th></tr></thead><tbody><tr id="e0a65745" class="ijRowOdd"><td id="3aab86e0"><code class="code">Unknown Scope error</code></td><td id="68045961"><p>File Watcher使用此项目中未定义的范围。</p></td><td id="a2ed1947"><p>双击监视程序并选择一个可用的作用域或创建一个新的作用域。</p></td></tr><tr id="713d9162" class="ijRowEven"><td id="b879b940"><code class="code">Not found error</code></td><td id="29b5d921"><p>该项目使用已删除的全局File Watcher。</p></td><td id="4bc6cf80"><p>使用“ <span class="control">删除”</span>按钮从列表中删除观察者<img class="inline-icon-16" src="/help/img/idea/2019.3/icons.general.remove@2x.png" width="16" alt="去掉">或对其进行编辑以创建一个具有相同名称的新的全局监视程序。</p></td></tr><tr id="e3b1277d" class="ijRowOdd"><td id="85fa018e">                    <p id="7f3d0965">RubyMine运行许多相同的File Watcher任务</p>                </td><td id="cd11e49b">                    <p id="78b308dd">例如，从VCS进行批量更新后，RubyMine为每个保存的文件运行一个单独的File Watcher任务。</p>                </td><td id="6e1c9443"><p>添加特定于文件的宏（例如<code class="code">&FileNameWithoutExtension&</code> ）中的<span class="control">参数</span> ，请参阅<a href="#transpilerBehaviour">配置与外部工具的交互</a> 。</p></td></tr></tbody></table></div>    </div>            <div class="last-modified" data-skip-index="skip">上次修改时间：2019年11月28日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="configuring-third-party-tools.html">外部工具</a> <a class="navigation-links__next" href="managing-tasks-and-context.html">任务和上下文</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>