<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"></meta><meta name="robots" content="noindex"></meta><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>Node.js with Docker - Help | RubyMine</title><link rel="stylesheet" href="/resources.jetbrains.com/storage/help-app/v3/app.css"></head><body data-id="Node_with_docker" data-breadcrumbs="Framework-specific guidelines/Developing_Node_JS_Applications.xml|Node.js/Running_and_Debugging_Node_JS.xml|Running and Debugging Node.js/Node_with_docker.xml|Node.js with Docker" data-main-title="Node.js with Docker"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search RubyMine Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>RubyMine 2019.3 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="primary" value="primary_default_for_windows" selected>Default for Windows</option><option data-group="primary" value="primary_default_for_macos">Default for macOS</option><option data-group="primary" value="primary_intellij_idea_classic_macos">IntelliJ IDEA Classic (macOS)</option><option data-group="primary" value="primary_emacs">Emacs</option><option data-group="primary" value="primary_visual_studio">Visual Studio</option><option data-group="primary" value="primary_default_for_xwin">Default for XWin</option><option data-group="primary" value="primary_default_for_gnome">Default for GNOME</option><option data-group="primary" value="primary_default_for_kde">Default for KDE</option><option data-group="primary" value="primary_eclipse">Eclipse</option><option data-group="primary" value="primary_eclipse_macos">Eclipse (macOS)</option><option data-group="primary" value="primary_netbeans">NetBeans</option><option data-group="primary" value="primary_sublime_text">Sublime Text</option><option data-group="primary" value="primary_sublime_text_macos">Sublime Text (macOS)</option><option data-group="primary" value="primary_textmate">TextMate</option><option data-group="secondary" value="secondary_default_for_windows">Default for Windows</option><option data-group="secondary" value="secondary_default_for_macos">Default for macOS</option><option data-group="secondary" value="secondary_intellij_idea_classic">IntelliJ IDEA Classic</option><option data-group="secondary" value="secondary_emacs">Emacs</option><option data-group="secondary" value="secondary_visual_studio">Visual Studio</option><option data-group="secondary" value="secondary_default_for_xwin">Default for XWin</option><option data-group="secondary" value="secondary_default_for_gnome">Default for GNOME</option><option data-group="secondary" value="secondary_default_for_kde">Default for KDE</option><option data-group="secondary" value="secondary_eclipse">Eclipse</option><option data-group="secondary" value="secondary_eclipse_macos">Eclipse (macOS)</option><option data-group="secondary" value="secondary_netbeans">NetBeans</option><option data-group="secondary" value="secondary_sublime_text">Sublime Text</option><option data-group="secondary" value="secondary_sublime_text_macos">Sublime Text (macOS)</option><option data-group="secondary" value="secondary_textmate">TextMate</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Node_with_docker" id="Node_with_docker.xml">Node.js with Docker</h1>            <p id="64ec32d3">        You can quickly bootstrap your Node.js application with Docker to run, debug, and profile it from RubyMine. The IDE will take care of the initial configuration            by automatically creating a new <span class="filepath">Dockerfile</span>, building and running an image, syncing your source code, and            installing <span class="emphasis">npm</span> dependencies in the container.        </p>    <p id="cbc9fd17">        You can find some examples at <a href="https://blog.jetbrains.com/webstorm/2017/04/quick-tour-of-webstorm-and-docker/" data-external="true" target="_blank" rel="noopener noreferrer">Quick Tour of WebStorm and Docker.</a>    </p>                            <section class="procedure-steps"><h3 id="9557a544">Before you start</h3><ol class="list _decimal"><li class="list__item" id="install_plugins">                                    <p id="0d7bfd3f">                                        <a name="ws_install_repo_plugin"></a>                                Install and enable the NodeJS and NodeJS Remote Interpreter repository plugins on the        <a href="plugins-settings.html">Plugins page</a>  as described in <a href="managing-plugins.html">Managing plugins</a>.                                        </p>                                </li><li class="list__item" id="bundled_plugins">                                    <p id="4d22178e">                                        <a name="ws_make_sure_bundled_plugin_enabled"></a>                                        Make sure the Docker bundled plugin is enabled on the        <a href="plugins-settings.html">Plugins page</a>, see <a href="managing-plugins.html">Managing plugins</a> for details.                                        </p>                                </li><li class="list__item" id="download_docker">                        <p id="1ad632c2">Download, install, and configure <span class="emphasis">Docker</span> as described in                            <a href="docker.html">Docker</a>                        </p>                    </li></ol></section>                    <section class="procedure-steps"><h3 id="ws_node_docker_run_config">Create a Node.js run/debug configuration</h3><ol class="list _decimal"><li class="list__item" id="653f77a1">                            <p id="32493243">                                <a name="start_creating_run_config_short_0"></a>        From the main menu, choose <span data-skip-index="skip" class="menupath">Run | Edit Configuration</span>,        then in the <span class="control">Edit Configurations</span> dialog,                                    <a name="start_creating_run_config_short_2"></a>                        click <img class="inline-icon-16" src="/help/img/idea/2019.3/icons.general.add@2x.png" width="16" alt="the Add button"> on the toolbar  and select <span class="control">Node.js</span> from the list.                                    The                        <span>Run/Debug Configuration: Node.js</span> dialog opens.                        </p>                        </li><li class="list__item" id="ba44f1e0">                            <p id="4cb5abb2">                                In the <span class="control">JavaScript File</span> field,                        specify the path to the main file of the application that starts it (for example,                        <span class="filepath">bin/www</span>                        for                        <a href="http://expressjs.com/" data-external="true" target="_blank" rel="noopener noreferrer">Node.js Express applications</a>).                            </p>                        </li><li class="list__item" id="c9823245">                            <p id="7feb9b7e">                                If necessary, specify some optional settings as described in                            <a href="running-and-debugging-node-js.html#ws_node_run_config_optionally">Running and debugging Node.js applications</a>.                            </p>                        </li></ol></section>    <section class="procedure-steps"><h3 id="7dd1dc00">Specify a Node.js interpreter</h3><p id="3a900bc2">                                        Select one of the configured Node.js interpreters of the type                            <span class="emphasis">Remote Interpreter - Docker</span>                            from the <span class="control">Node interpreter</span> list or configure a new one.        </p><ol class="list _decimal"><li class="list__item" id="41d0d43a">                <p id="a5af5b72">                In the <span>Run/Debug Configuration: Node.js</span> dialog, click <img class="inline-icon-9" src="/help/img/idea/2019.3/icons.general.ellipsis@2x.png" width="9" alt="the Browse button">                next to the <span class="control">Node interpreter</span> field.                </p>            </li><li class="list__item" id="10bc7768">                <p id="24d6d19d">                <a name="configure_node_interpreter_add_new"></a>                In the <span>Node.js Interpreters</span> dialog that opens with a list of all the currently configured interpreters,        click <img class="inline-icon-16" src="/help/img/idea/2019.3/icons.general.add@2x.png" width="16" alt="the Add button"> on the toolbar. In the dialog that opens, choose <span class="control">Add Remote</span> from the context menu.                </p>            </li><li class="list__item" id="925d3853">                <p id="d85d7316">In the <span>Configure Node.js Remote Interpreter dialog</span> that opens, select the <span class="control">Docker</span> option.</p>                <ol class="list _decimal"><li class="list__item" id="acbf7956">            <p id="2525f9d8">In the <span class="control">Server</span> field, <a name="docker_configure_remote_interpreter_server_field"></a>        specify the <span class="emphasis">Docker configuration</span> to use,        see        <a href="docker.html">Working with Docker: Process overview</a>         for details.        Select a configuration from the list or click <img class="inline-icon-9" src="/help/img/idea/2019.3/icons.general.ellipsis@2x.png" width="9" alt="the Browse button">  and create a new configuration on the <a href="docker-connection-settings.html">Docker page</a> that opens.                </p>        </li><li class="list__item" id="0b4b16e1">            <p id="b39f989d">In the <span class="control">Image name</span> field,                <a name="docker_configure_remote_interpreter_image_name_field"></a>                        specify the base Docker image to use. Choose one of the previously downloaded or your custom images        from the list or type the image name manually, for example, <code class="code">node:argon</code> or <code class="code">mhart/alpine-node</code>.        When you later launch the run configuration,        Docker will search for the specified image on your machine. If the search fails, the image will be downloaded from the <a href="https://hub.docker.com/_/node/" data-external="true" target="_blank" rel="noopener noreferrer">Docker Official Images</a>        repository   on the <a href="settings-docker-registry.html">Docker Registry page</a>.                        </p>        </li><li class="list__item" id="691f08e8"><p>            The <span class="control">Node.js interpreter path</span> field shows the location of the default Node.js interpreter from the specified image.        </p></li><li class="list__item" id="fd4df2c1"><p>            When you click <span class="control">OK</span>, RubyMine closes the            <span>Configure Node.js Remote Interpreter dialog</span>            and brings you to the            <span>Node.js Interpreters</span>            dialog where the new interpreter configuration is added to the list.            Click <span class="control">OK</span> to return to the run configuration.        </p></li></ol>            </li></ol></section>                    <section class="procedure-steps"><h3 id="ws_node_debug_docker_container_settings">Specify the Docker container settings</h3><ul class="list "><li class="list__item" id="42e2d63d">                            <p id="ee2d8488">                        Click <img class="inline-icon-9" src="/help/img/idea/2019.3/icons.general.ellipsis@2x.png" width="9" alt="the Browse button"> next to the                        <span class="control">Edit Docker Container Settings</span> field and specify the settings                        in the <span class="control">Edit Docker Container Settings</span> dialog that opens.                            </p>                        </li><li class="list__item" id="a051a37d">                            <p id="b2dfc77c">                                Alternatively, select the <span class="control">Auto configure</span> checkbox to do it automatically.                                Learn more about the <span class="control">Auto configure</span> mode at <a href="https://blog.jetbrains.com/webstorm/2017/04/quick-tour-of-webstorm-and-docker/" data-external="true" target="_blank" rel="noopener noreferrer">Quick Tour of WebStorm and Docker: What Happens On Each Run</a>.                            </p>                        </li></ul></section>                        <p id="fabf57fd">                            <a name="ws_docker_remote_node_interpreter_port_binding_explanation"></a>        Even with automatic configuration, you still need to bind the port on which your application is running with the port of the container.        Those exposed ports are available on the Docker hostâ€™s IP address (by default 192.168.99.100).        Such binding is required when you debug the client side of a <span class="emphasis">Node.js Express</span> application.        In this case, you need to open the browser from your computer and access the application at the container host        through the port specified in the application.                            </p>                    <a name="ws_docker_remote_node_interpreter_bind_ports_procedure"></a>        <section class="procedure-steps"><h3 id="7f2279ca">Configure port bindings</h3><ol class="list _decimal"><li class="list__item" id="62810caf">                <p id="8c90b0fd">Click                    <img class="inline-icon-16" src="/help/img/idea/2019.3/icons.general.openDisk@2x.png" width="16" alt="the Browse button">                    in the <span class="control">Docker Container Settings</span> field and expand the <span class="control">Port bindings                    </span> area                    in the <span class="control">Edit Docker Container Settings</span> dialog that opens.                </p>            </li><li class="list__item" id="b72fc392">                <p id="8cf8cb91">Click <img class="inline-icon-16" src="/help/img/idea/2019.3/icons.general.add@2x.png" width="16" alt="the Add button"> and in the <span class="control">Port                    bindings</span> dialog that opens, map the ports as follows:                </p>                <ul class="list _bullet"><li class="list__item" id="1cf67d0c"><p>                        In the <span class="control">Container port</span> field, type the port specified in your application.                    </p></li><li class="list__item" id="454e7ba6"><p>                        In the <span class="control">Host port</span> field, type the port through which you want to open the                        application in the browser from your computer.                    </p></li><li class="list__item" id="762e135f"><p>                        In the <span class="control">Host IP</span> field, type the IP address of the Docker's host, the                        default IP is 192.168.99.100.                        The host is specified in the <span class="control">API URL</span> field on the                        <a href="docker-connection-settings.html">Docker page</a>                        of the                        <a href="settings-preferences-dialog.html">Settings / Preferences Dialog</a>.                    </p></li><li class="list__item" id="49a80053"><p>                        Click <span class="control">OK</span> to return to the <span class="control">Edit Docker Container Settings</span> dialog                        where the new port mapping is added to the list.                    </p></li></ul>            </li><li class="list__item" id="b50c991a"><p>                Click <span class="control">OK</span> to return to the                <span>Run/Debug Configuration: Node.js</span>                dialog.            </p></li></ol></section>        <section class="procedure-steps"><h3 id="5e46b1f8">Run your application</h3><ol class="list _decimal"><li class="list__item" id="2c41ad1a">            <p id="32f86a1b">Create a  <span class="control">Node.js</span> configuration <a href="#ws_node_docker_run_config">as described above</a>.</p>        </li><li class="list__item" id="24c1a52e">            <p id="5371b320">                From the                <span class="control">Select run/debug configuration</span>                list on the toolbar, select the <a href="#ws_node_docker_run_config">newly created                Node.js configuration</a>. </p>        </li><li class="list__item" id="04ccf16e">            <p id="5cf6a7d7">                Click <img class="inline-icon-16" src="/help/img/idea/2019.3/icons.actions.execute@2x.png" width="16" alt="the Run button">  to the <span class="control">Select run/debug configuration</span> list.            </p>        </li></ol></section>                    <section class="procedure-steps"><h3 id="99cf4bd7">Start debugging</h3><ol class="list _decimal"><li class="list__item" id="2a0190e4">                            <p id="efe6d6c7">Set the breakpoints in the Node.js code as necessary.</p>                        </li><li class="list__item" id="98ce8c92">                            <p id="6bcc5fc7">Create a  <span class="control">Node.js</span> configuration <a href="#ws_node_docker_run_config">as described above</a>,                                select it from the <span class="control">Select run/debug configuration</span> list on the toolbar, and click                            <img class="inline-icon-16" src="/help/img/idea/2019.3/icons.actions.startDebugger@2x.png" width="16" alt="the Debug button">                            next to the list.</p>                        </li><li class="list__item" id="6813d38c">                            <p id="72ab7ebb">Proceed as when                            <a href="running-and-debugging-node-js.html#debugLocal">starting the debugger together with a Node.js application</a>.</p>                        </li></ol></section>    <div class="chapter"><h2 id="ws_node_configure_remote_node_interpreter_docker_compose">Using a remote Node.js interpreter in a Docker container with a Docker Compose definition</h2>        <p id="16d2c4d2">            With <a href="https://docs.docker.com/compose/overview/" data-external="true" target="_blank" rel="noopener noreferrer">Docker Compose</a>, you can run a Node.js server and your application code as separate services.            Each service can be scaled by adding more containers if necessary. This enables you to perform efficient development and testing in a dynamic environment            that is similar to production one.        </p>    </div>    <div class="chapter"><h2 id="ws_node_configure_remote_node_interpreter_mappings">Configuring mappings</h2>    <p id="b52d4736">        When you debug an application with a remote Node.js interpreter,        the debugger tells RubyMine the name of the currently processed file        and the number of the line to be processed. RubyMine opens the local copy of this file and indicates the line with the provided number.        This behaviour is enabled by specifying correspondence between files and folders on the server and their local copies.        This correspondence is called <span class="keyword">mapping</span>, it is set in the debug configuration.    </p>    <section class="procedure-steps"><h3 id="86dd5f01">To configure mappings</h3><ol class="list _decimal"><li class="list__item" id="285eec6a">            <p id="6e0300bf">            <a name="run_config_creation_start"></a>                From the main menu, choose <span data-skip-index="skip" class="menupath">Run | Edit Configurations</span>.        In the <span class="control">Edit Configuration</span> dialog that opens,        click <img class="inline-icon-16" src="/help/img/idea/2019.3/icons.general.add@2x.png" width="16" alt="the Add New Configuration button "> on the toolbar        and choose <span class="control">Node.js</span> from the context menu.                </p>        </li><li class="list__item" id="92524842">            <p id="9bdca3f6">            In the <span>Run/Debug Configuration: Node.js</span> dialog that opens, choose the required remote interpreter            from the <span class="control">Node interpreter</span> list.            </p>        </li><li class="list__item" id="772c36fe">            <p id="3c17ce49">            Click <img class="inline-icon-9" src="/help/img/idea/2019.3/icons.general.ellipsis@2x.png" width="9" alt="the Browse button"> next to the <span class="control">Path Mappings</span> field.            </p>        </li><li class="list__item" id="9bc66097">            <p id="a61e816f">            The <a href="edit-project-path-mappings-dialog.html">Edit Project Path Mappings Dialog</a>            that opens, shows the path mappings retrieved from the            deployment configuration or <span class="filepath">Vagrantfile</span>. These mappings are read-only.            </p>            <ul class="list _bullet"><li class="list__item" id="1a52a253">                    <p id="e0ef2abd">                    <a name="node_mapping_add_custom"></a>        To add a custom mapping, click <img class="inline-icon-16" src="/help/img/idea/2019.3/icons.general.add@2x.png" width="16" alt="the Add button"> and specify the path in the project and the corresponding path on the remote runtime environment        in the <span class="control">Local Path</span> and <span class="control">Remote Path</span> fields respectively.        Type the paths manually or click <img class="inline-icon-16" src="/help/img/idea/2019.3/icons.general.openDisk@2x.png" width="16" alt="the Browse button"> and select the relevant files or folders in the dialog that opens.                        </p>                </li><li class="list__item" id="7954b1aa">                    <p id="31a7d37e">                        <a name="node_mapping_remove_custom"></a>        To remove a custom mapping, select it in the list and click <img class="inline-icon-16" src="/help/img/idea/2019.3/icons.general.remove@2x.png" width="16" alt="the Remove button">.                        </p>                </li></ul>        </li></ol></section></div><div class="last-modified" data-skip-index="skip">Last modified: 28 November 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="node-interactive-debugger-console.html">Using interactive Debugger Console</a><a class="navigation-links__next" href="live-editing-in-node-js-applications.html">Live Edit in Node.js applications</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>