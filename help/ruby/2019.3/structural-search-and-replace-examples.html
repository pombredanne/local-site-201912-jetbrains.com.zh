<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"></meta><meta name="robots" content="noindex"></meta><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>Structural search and replace examples - Help | RubyMine</title><link rel="stylesheet" href="/resources.jetbrains.com/storage/help-app/v3/app.css"></head><body data-id="topicId676534" data-breadcrumbs="Working_with_source_code.xml|Working with source code/Find and replace/Structural_Search_and_Replace.xml|Structural search and replace/Structural_Search_and_Replace_Examples.xml|Structural search and replace examples" data-main-title="Structural search and replace examples" data-article-props="&#xA;                {&#xA;                &#xA;            &#34;seeAlso&#34;:[&#xA;            &#xA;                {&#34;title&#34;: &#34;Procedures&#34;,&#xA;                 &#34;links&#34;: [&#xA;                &#xA;        {&#34;url&#34;:&#34;structural-search-and-replace.html&#34;,&#34;text&#34;:&#34;Structural search and replace&#34;}&#xA;    &#xA;                    ]},&#xA;                {&#34;title&#34;: &#34;Web Resources&#34;,&#xA;                 &#34;links&#34;: [&#xA;                &#xA;        {&#34;url&#34;:&#34;http://www.jetbrains.net/devnet/community/ruby?view=documents&#xA;            &#34;,&#34;text&#34;:&#34;Developer Community&#34;}&#xA;    &#xA;                    ]}&#xA;            ]&#xA;        &#xA;                }&#xA;            "><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search RubyMine Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>RubyMine 2019.3 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="primary" value="primary_default_for_windows" selected>Default for Windows</option><option data-group="primary" value="primary_default_for_macos">Default for macOS</option><option data-group="primary" value="primary_intellij_idea_classic_macos">IntelliJ IDEA Classic (macOS)</option><option data-group="primary" value="primary_emacs">Emacs</option><option data-group="primary" value="primary_visual_studio">Visual Studio</option><option data-group="primary" value="primary_default_for_xwin">Default for XWin</option><option data-group="primary" value="primary_default_for_gnome">Default for GNOME</option><option data-group="primary" value="primary_default_for_kde">Default for KDE</option><option data-group="primary" value="primary_eclipse">Eclipse</option><option data-group="primary" value="primary_eclipse_macos">Eclipse (macOS)</option><option data-group="primary" value="primary_netbeans">NetBeans</option><option data-group="primary" value="primary_sublime_text">Sublime Text</option><option data-group="primary" value="primary_sublime_text_macos">Sublime Text (macOS)</option><option data-group="primary" value="primary_textmate">TextMate</option><option data-group="secondary" value="secondary_default_for_windows">Default for Windows</option><option data-group="secondary" value="secondary_default_for_macos">Default for macOS</option><option data-group="secondary" value="secondary_intellij_idea_classic">IntelliJ IDEA Classic</option><option data-group="secondary" value="secondary_emacs">Emacs</option><option data-group="secondary" value="secondary_visual_studio">Visual Studio</option><option data-group="secondary" value="secondary_default_for_xwin">Default for XWin</option><option data-group="secondary" value="secondary_default_for_gnome">Default for GNOME</option><option data-group="secondary" value="secondary_default_for_kde">Default for KDE</option><option data-group="secondary" value="secondary_eclipse">Eclipse</option><option data-group="secondary" value="secondary_eclipse_macos">Eclipse (macOS)</option><option data-group="secondary" value="secondary_netbeans">NetBeans</option><option data-group="secondary" value="secondary_sublime_text">Sublime Text</option><option data-group="secondary" value="secondary_sublime_text_macos">Sublime Text (macOS)</option><option data-group="secondary" value="secondary_textmate">TextMate</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="topicId676534" id="Structural_Search_and_Replace_Examples.xml">Structural search and replace examples</h1>                                                                                                              <div class="chapter"><h2 id="xml">Searching for XML and HTML tags, attributes, and their values</h2>        <p id="538aeae7">            The simplest template to search for a tag is <code class="code">&lt;$tag$/&gt;</code>.        </p>        <p id="afbebd04">By placing constraints on the variable <code class="code">$tag$</code>, you can specify tags that you want to find.            For example, if you specify <code class="code">li</code>, you will all <code class="code">li</code> tags.        </p>        <p id="9446f54b">Consider the following template for searching in XML and HTML: <code class="code">&lt;$tag$ $attribute$=$value$ /&gt;</code>.            For example, if you specify the text filter <code class="code">id</code> for the <code class="code">$attribute$</code> variable and            the <code class="code">\d+</code> regular expression as the text filter for the <code class="code">$value$</code> variable, you can find all            tags that have numeric values in the <code class="code">id</code> attribute.        </p>        <figure><img alt="Serching for li tags with numeric ids" title="Serching for li tags with numeric ids" src="/help/img/idea/2019.3/structural_search_find_li_with_numeric_ids.png" id="ac8fb394" class=" _border-line" width="700" height="1054"></figure>    </div>    <div class="chapter"><h2 id="using-the-script-filter-for-xml-and-html-content">Using the Script filter for XML and HTML content</h2>        <section class="procedure-steps"><h3 id="delete-all-lines-that-have-the-id-attribute-greater-than-2">Delete all lines that have the id attribute greater than 2</h3><p id="e143671f">In the <span class="control">Search template</span> field, we create a template that searches for all <code class="code">li</code>                tags with numeric values (<code class="code">\d+</code>) in <code class="code">id</code> attributes. We expand our search to the whole string                with such values (<span class="control">Search target = Complete match</span>).</p><p id="919b5744">We filter those lines with the following Groovy script: <code class="code">d.getText().replaceAll (/"/, '').toInteger() &gt; 2</code>.                The script reads the content of the <code class="code">d</code> variable and returns it as a string (for example, <code class="code">"1"</code>).                Then the script replaces all quotes and converts the string value to integer and compares it with <code class="code">2</code>.</p><p id="30e5c906">In the <span class="control">Replace template</span> field, we put nothing to delete the whole string. After the search,                we select <span class="control">Replace All</span> to perform the replacing.</p></section>        <section class="procedure-steps"><h3 id="convert-uppercase-values-of-the-class-attribute-in-p-tags-to-lowercase">Convert uppercase values of the class attribute in p tags to lowercase</h3><p id="618bd7a4">In the <span class="control">Search template</span> field, we create a template that searches for all <code class="code">p</code> tags with uppercase values (<code class="code">[A-Z].*</code>                and <span class="control">Match case</span>) in <code class="code">class</code> attributes. We narrow our search only to these                to <code class="code">class</code> values (<span class="control">Search target = b</span>).</p><p id="da55c31f">In the <span class="control">Replace template</span> field, we create a new variable                <code class="code">$d$</code> and assign a Groovy script to it (<code class="code">b.getText().toLowerCase()</code>). After the search, we select <span class="control">Replace All</span>                to perform the replacing.</p></section>    </div>    <div class="last-modified" data-skip-index="skip">Last modified: 28 November 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="search-templates.html">Search templates, filters, and script constraints</a><a class="navigation-links__next" href="searching-everywhere.html">Search for a target by name (Search everywhere)</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>