<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"></meta><meta name="robots" content="noindex"></meta><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>Using the Advanced Vagrant Features in RubyMine - Help | RubyMine</title><link rel="stylesheet" href="/resources.jetbrains.com/storage/help-app/v3/app.css"></head><body data-id="Using_the_Advanced_Vagrant_Features_in_product" data-breadcrumbs="Remote development/Vagrant_Support.xml|Vagrant: Working with Reproducible Development Environments/Using_the_Advanced_Vagrant_Features_in_product.xml|Using the Advanced Vagrant Features in RubyMine" data-main-title="Using the Advanced Vagrant Features in RubyMine" data-article-props="&#xA;                {&#xA;                &#xA;            &#34;seeAlso&#34;:[&#xA;            &#xA;                {&#34;title&#34;: &#34;Reference&#34;,&#xA;                 &#34;links&#34;: [&#xA;                &#xA;        {&#34;url&#34;:&#34;vagrant.html&#34;,&#34;text&#34;:&#34;Vagrant&#34;}&#xA;    &#xA;                    ]},&#xA;                {&#34;title&#34;: &#34;Language and Framework-Specific Guidelines&#34;,&#xA;                 &#34;links&#34;: [&#xA;                &#xA;        {&#34;url&#34;:&#34;vagrant-support.html&#34;,&#34;text&#34;:&#34;Vagrant: Working with Reproducible Development Environments&#34;}&#xA;    &#xA;                    ]},&#xA;                {&#34;title&#34;: &#34;External Links&#34;,&#xA;                 &#34;links&#34;: [&#xA;                &#xA;        {&#34;url&#34;:&#34;http://docs.vagrantup.com&#34;,&#34;text&#34;:&#34;http://docs.vagrantup.com&#34;}&#xA;    ,&#xA;        {&#34;url&#34;:&#34;https://www.virtualbox.org/&#34;,&#34;text&#34;:&#34;https://www.virtualbox.org/&#34;}&#xA;    &#xA;                    ]}&#xA;            ]&#xA;        &#xA;                }&#xA;            "><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search RubyMine Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>RubyMine 2019.3 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="primary" value="primary_default_for_windows" selected>Default for Windows</option><option data-group="primary" value="primary_default_for_macos">Default for macOS</option><option data-group="primary" value="primary_intellij_idea_classic_macos">IntelliJ IDEA Classic (macOS)</option><option data-group="primary" value="primary_emacs">Emacs</option><option data-group="primary" value="primary_visual_studio">Visual Studio</option><option data-group="primary" value="primary_default_for_xwin">Default for XWin</option><option data-group="primary" value="primary_default_for_gnome">Default for GNOME</option><option data-group="primary" value="primary_default_for_kde">Default for KDE</option><option data-group="primary" value="primary_eclipse">Eclipse</option><option data-group="primary" value="primary_eclipse_macos">Eclipse (macOS)</option><option data-group="primary" value="primary_netbeans">NetBeans</option><option data-group="primary" value="primary_sublime_text">Sublime Text</option><option data-group="primary" value="primary_sublime_text_macos">Sublime Text (macOS)</option><option data-group="primary" value="primary_textmate">TextMate</option><option data-group="secondary" value="secondary_default_for_windows">Default for Windows</option><option data-group="secondary" value="secondary_default_for_macos">Default for macOS</option><option data-group="secondary" value="secondary_intellij_idea_classic">IntelliJ IDEA Classic</option><option data-group="secondary" value="secondary_emacs">Emacs</option><option data-group="secondary" value="secondary_visual_studio">Visual Studio</option><option data-group="secondary" value="secondary_default_for_xwin">Default for XWin</option><option data-group="secondary" value="secondary_default_for_gnome">Default for GNOME</option><option data-group="secondary" value="secondary_default_for_kde">Default for KDE</option><option data-group="secondary" value="secondary_eclipse">Eclipse</option><option data-group="secondary" value="secondary_eclipse_macos">Eclipse (macOS)</option><option data-group="secondary" value="secondary_netbeans">NetBeans</option><option data-group="secondary" value="secondary_sublime_text">Sublime Text</option><option data-group="secondary" value="secondary_sublime_text_macos">Sublime Text (macOS)</option><option data-group="secondary" value="secondary_textmate">TextMate</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 data-toc="Using_the_Advanced_Vagrant_Features_in_product" id="Using_the_Advanced_Vagrant_Features_in_product.xml">Using the Advanced Vagrant Features in RubyMine</h1>        <p id="088a3fa0">This tutorial describes how to use the advanced features of Vagrant integration in RubyMine. The details of using <a href="https://www.vagrantup.com/docs/" data-external="true" target="_blank" rel="noopener noreferrer">Vagrant</a> and            <a href="https://www.virtualbox.org/" data-external="true" target="_blank" rel="noopener noreferrer">Oracle VirtualBox</a> are out of scope of this tutorial. Refer to the            respective documentation for more information.</p>        <p id="40a2bfa8">Pay attention to prerequisites mentioned in the <a href="vagrant-support.html">Vagrant: Working with Reproducible Development Environments</a> page. Also make sure that a            Vagrant box is created and initialized.</p>        <p id="f4b6918c">It is highly recommended to read the <a href="vagrant-support.html">RubyMine documentation</a>.</p>    <div class="chapter"><h2 id="ssh-terminal" data-toc="Using_the_Advanced_Vagrant_Features_in_product#ssh-terminal">Using the built-in SSH terminal to connect to a Vagrant machine</h2>        <p id="b62f43c6">RubyMine features a <a href="running-ssh-terminal.html">built-in SSH terminal</a> which can be used to connect to            a remote machine.</p>        <div class="chapter"><h3 id="4110d2b4" data-toc="Using_the_Advanced_Vagrant_Features_in_product#4110d2b4">Starting connection</h3>            <p id="accae8db">To connect to a Vagrant machine, choose <span data-skip-index="skip" class="menupath">Tools | Start SSH session...</span> on the main                menu. This opens a list of hosts we can connect to.</p>            <p id="4d235e78">The <a href="vagrant-support.html">configured Vagrant machine</a> is added to this list automatically.                Clicking it opens connection to the SSH endpoint exposed by this Vagrant machine.                The <span data-skip-index="skip" class="menupath">Edit credentials...</span> menu item allows entering connection information manually.                However, we'll confine here to using the virtual box.</p>            <figure><img alt="Available vagrant hosts" title="Available vagrant hosts" src="/help/img/idea/2019.3/rm_vagrant_list_hosts.png" id="4d1bf4c0" width="534" height="134"></figure>        </div>        <div class="chapter"><h3 id="01f609e5" data-toc="Using_the_Advanced_Vagrant_Features_in_product#01f609e5">Working with SSH</h3>            <p id="a3aa0f07">So, after choosing Vagrant, RubyMine connects to the Vagrant machine using SSH server and shows a                terminal to work with:</p>            <figure><img alt="Vargant int he terminal" title="Vargant int he terminal" src="/help/img/idea/2019.3/py_vagrant_ssh_terminal.png" id="ce3857ef" width="750" height="654"></figure>            <p id="2270ba8c">In the SSH terminal you can do the following:</p>            <ul class="list _ul"><li class="list__item" id="cfb041eb"><p>Scroll through the history of commands using up and down arrow keys</p></li><li class="list__item" id="a7931994"><p>Perform clipboard operations</p></li></ul>        </div>    </div>    <div class="chapter"><h2 id="shared-folders" data-toc="Using_the_Advanced_Vagrant_Features_in_product#shared-folders">Working with shared folders</h2>        <p id="cdbe41f5">Vagrant allows sharing folders between the host machine and the Vagrant machine. You can use these folders,            for example, to automatically map web root contents from the current RubyMine project to the Apache virtual            host directory on the Vagrant machine.</p>        <div class="chapter"><h3 id="80f7e3bf" data-toc="Using_the_Advanced_Vagrant_Features_in_product#80f7e3bf">Adding a path mapping</h3>           <p id="d06ef7ce">Open <span class="filepath">Vagrantfile</span> for editing (<kbd data-primary_default_for_windows="F4" data-primary_default_for_macos="âŒ˜+Down" data-primary_intellij_idea_classic_macos="F4" data-primary_emacs="F4" data-primary_visual_studio="F4" data-primary_default_for_xwin="F4" data-primary_default_for_gnome="F4" data-primary_default_for_kde="F4" data-primary_eclipse="F12" data-primary_eclipse_macos="F3" data-primary_netbeans="F4" data-primary_sublime_text="F4" data-primary_sublime_text_macos="N/A" data-primary_textmate="F4" data-secondary_default_for_windows="F4" data-secondary_default_for_macos="âŒ˜â†“" data-secondary_intellij_idea_classic="F4" data-secondary_emacs="F4" data-secondary_visual_studio="F4" data-secondary_default_for_xwin="F4" data-secondary_default_for_gnome="F4" data-secondary_default_for_kde="F4" data-secondary_eclipse="F12" data-secondary_eclipse_macos="F3" data-secondary_netbeans="F4" data-secondary_sublime_text="F4" data-secondary_sublime_text_macos="N/A" data-secondary_textmate="F4">F4</kbd>, and add a configuration entry for               path mapping:</p>            <div class="code-block" data-lang="shell">
Vagrant.configure("2") do |config|
    config.vm.synced_folder "src/", "/srv/website"
end
    </div>        </div>        <div class="chapter"><h3 id="97e16097" data-toc="Using_the_Advanced_Vagrant_Features_in_product#97e16097">Reloading Vagrant</h3>            <p id="0fd87f4a">Reload <span class="filepath">Vagrantfile</span> by choosing <span data-skip-index="skip" class="menupath">Tools | Vagrant | Reload</span> on the main                menu:</p><figure><img alt="Reload vagrant" title="Reload vagrant" src="/help/img/idea/2019.3/vagrant_reload.png" id="9a4697a7" width="434" height="512"></figure>            <p id="690c9bf0">The results of command execution show up in the Run tool window:</p>            <figure><img alt="Vagrant reloading results" title="Vagrant reloading results" src="/help/img/idea/2019.3/vagrant_reload_result.png" id="a169ce03" width="742" height="430"></figure>            <p id="39483063">Once the Vagrant machine is reloaded, a new path mapping becomes available. For example, when connecting                to the Vagrant machine using the built-in SSH terminal, we see the contents of the <span class="filepath">/vagrant</span>                folder that maps to the RubyMine local project folder. Be careful: deleting files from this folder will                delete files on both ends!</p><figure><img alt="Vagrant path mapping" title="Vagrant path mapping" src="/help/img/idea/2019.3/rm_vagrant_path_mapping.png" id="09d26a05" width="443" height="166"></figure>        </div>    </div>    <div class="chapter"><h2 id="vagrant-instance-folder" data-toc="Using_the_Advanced_Vagrant_Features_in_product#vagrant-instance-folder">Specifying Vagrant instance folder</h2>        <p id="cfe6f8c3">By default, the <span class="filepath">Vagrantfile</span> and all other Vagrant specifics (like Puppet manifests) are placed            in the root of a RubyMine project. Since this is not always desirable, the instance folder where RubyMine            should look for <span class="filepath">Vagrantfile</span> can be configured through the <a href="vagrant.html">Vagrant</a> page of the            settings/preferences:</p><figure><img alt="Specifying the Vagrant instance folder" title="Specifying the Vagrant instance folder" src="/help/img/idea/2019.3/vagrant_instance_folder.png" id="61ebce21" width="709" height="360"></figure>    </div>    <div class="chapter"><h2 id="vagrant-plugin" data-toc="Using_the_Advanced_Vagrant_Features_in_product#vagrant-plugin">Managing Vagrant plugins through settings</h2>        <p id="3d6047fe">In the <a href="vagrant.html">Vagrant</a> page of the settings/preferences, you can also manage Vagrant plugins. In the tab            <span class="control">Plugins</span>, use the toolbar buttons to install, uninstall and update plugins. </p>        <figure><img alt="Adding a Vagrant plugin" title="Adding a Vagrant plugin" src="/help/img/idea/2019.3/vagrant_pl.png" id="883bf6d7" width="710" height="756"></figure>        <p id="20f42594">You can also install licenses, for example, for the            <a href="https://www.vagrantup.com/docs/vmware/" data-external="true" target="_blank" rel="noopener noreferrer">VMWare Fusion Provider</a>            which allows running Vagrant machines on VMWare.</p>    </div>    <div class="chapter"><h2 id="providers" data-toc="Using_the_Advanced_Vagrant_Features_in_product#providers">Providers support</h2>        <p id="6ac41c61">Vagrant works with <a href="https://www.virtualbox.org/" data-external="true" target="_blank" rel="noopener noreferrer">Oracle VirtualBox</a> as the virtualization platform            by default. However, you can change the virtualization platform using <span class="emphasis">providers</span>, so the            virtual machines can be run by a system other than VirtualBox, for example,            <a href="http://www.vmware.com/" data-external="true" target="_blank" rel="noopener noreferrer">VMWare</a>  or <a href="https://aws.amazon.com/" data-external="true" target="_blank" rel="noopener noreferrer">Amazon EC2</a>. Find            available providers at the            <a href="https://github.com/mitchellh/vagrant/wiki/Available-Vagrant-Plugins" data-external="true" target="_blank" rel="noopener noreferrer">Vagrant plugins list</a>.</p>        <p id="da6d3f8b">For each command, you should pass the provider to be used to Vagrant. To simplify this process and have            RubyMine automatically add the provider name to every Vagrant command, specify the provider in the            <a href="vagrant.html">Vagrant</a> page of the settings/preferences. All providers installed on your machine, are available            from the settings. Once selected, a provider will be used to execute all Vagrant commands in RubyMine:</p>        <figure><img alt="Redefining the vagrant provider" title="Redefining the vagrant provider" src="/help/img/idea/2019.3/vagrant_provider.png" id="f9c14278" width="710" height="352"></figure>    </div>    <div class="chapter"><h2 id="provision" data-toc="Using_the_Advanced_Vagrant_Features_in_product#provision">(Re-)provisioning a Vagrant machine</h2>        <p id="61d58a8d">A <span class="filepath">Vagrantfile</span> can contain a series of provisioners which can launch installation and            configuration routines once a virtual machine is running.</p>        <p id="74d7d09e">The <span data-skip-index="skip" class="menupath">Tools | Vagrant | Provision</span> main menu command invokes the configured provisioners on            an already running Vagrant machine, without having to first destroy the virtual machine.</p>        <p id="1026275d">Refer to the <a href="https://www.vagrantup.com/docs/provisioning/index.html" data-external="true" target="_blank" rel="noopener noreferrer">provisioning</a> documentation            for details.</p>    </div>    <div class="chapter"><h2 id="env-var" data-toc="Using_the_Advanced_Vagrant_Features_in_product#env-var">Working with Environment variables</h2>        <p id="9c60e3ab">Environment variables in <span class="filepath">Vagrantfile</span> are can be used for Puppet nodes, Puppet environments, custom facts, AWS keys.</p>        <p id="fca6157a">In the <a href="vagrant.html">Vagrant</a> page of the Settings/Preferences dialog, specify project-specific environment            variables to be passed to <span class="filepath">Vagrantfile</span>:</p>        <figure><img alt="Adding an environment variable" title="Adding an environment variable" src="/help/img/idea/2019.3/vagrant_env_var.png" id="1a6bd492" width="490" height="886"></figure>        <p id="191e8761">Once set, these environment variables are referred to in a <span class="filepath">Vagrantfile</span>, using the syntax            <code class="code">#{ENV['name_of_variable']}</code>:</p>        <figure><img alt="Newly added environmental variable in the Vagrantfile" title="Newly added environmental variable in the Vagrantfile" src="/help/img/idea/2019.3/vagrant_env_var_in_vagrantfile.png" id="2e84f2c3" width="542" height="182"></figure>    </div><div class="last-modified" data-skip-index="skip">Last modified: 28 November 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="initializing-vagrant-boxes.html">Initializing Vagrant Boxes</a><a class="navigation-links__next" href="configuring-product-to-work-on-the-vm.html">Configuring RubyMine to Work on the VM</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>