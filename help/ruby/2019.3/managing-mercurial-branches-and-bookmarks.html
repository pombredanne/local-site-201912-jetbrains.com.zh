<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"></meta><meta name="robots" content="noindex"></meta><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>Managing Mercurial Branches and Bookmarks - Help | RubyMine</title><link rel="stylesheet" href="/resources.jetbrains.com/storage/help-app/v3/app.css"></head><body data-id="Managing_Mercurial_Branches_and_Bookmarks" data-breadcrumbs="Version_Control_Integration.xml|Version control/Using_Mercurial_Integration.xml|Mercurial/Managing_Mercurial_Branches_and_Bookmarks.xml|Managing Mercurial Branches and Bookmarks" data-main-title="Managing Mercurial Branches and Bookmarks" data-article-props="&#xA;                {&#xA;                &#xA;            &#34;seeAlso&#34;:[&#xA;            &#xA;                {&#34;title&#34;: &#34;Procedures&#34;,&#xA;                 &#34;links&#34;: [&#xA;                &#xA;        {&#34;url&#34;:&#34;using-mercurial-integration.html&#34;,&#34;text&#34;:&#34;Mercurial&#34;}&#xA;    &#xA;                    ]},&#xA;                {&#34;title&#34;: &#34;Reference&#34;,&#xA;                 &#34;links&#34;: [&#xA;                &#xA;        {&#34;url&#34;:&#34;merge-dialog-mercurial.html&#34;,&#34;text&#34;:&#34;Merge Dialog (Mercurial)&#34;}&#xA;    &#xA;                    ]},&#xA;                {&#34;title&#34;: &#34;Web Resources&#34;,&#xA;                 &#34;links&#34;: [&#xA;                &#xA;        {&#34;url&#34;:&#34;http://www.jetbrains.net/devnet/community/ruby?view=documents&#xA;            &#34;,&#34;text&#34;:&#34;Developer Community&#34;}&#xA;    &#xA;                    ]}&#xA;            ]&#xA;        &#xA;                }&#xA;            "><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search RubyMine Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>RubyMine 2019.3 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="primary" value="primary_default_for_windows" selected>Default for Windows</option><option data-group="primary" value="primary_default_for_macos">Default for macOS</option><option data-group="primary" value="primary_intellij_idea_classic_macos">IntelliJ IDEA Classic (macOS)</option><option data-group="primary" value="primary_emacs">Emacs</option><option data-group="primary" value="primary_visual_studio">Visual Studio</option><option data-group="primary" value="primary_default_for_xwin">Default for XWin</option><option data-group="primary" value="primary_default_for_gnome">Default for GNOME</option><option data-group="primary" value="primary_default_for_kde">Default for KDE</option><option data-group="primary" value="primary_eclipse">Eclipse</option><option data-group="primary" value="primary_eclipse_macos">Eclipse (macOS)</option><option data-group="primary" value="primary_netbeans">NetBeans</option><option data-group="primary" value="primary_sublime_text">Sublime Text</option><option data-group="primary" value="primary_sublime_text_macos">Sublime Text (macOS)</option><option data-group="primary" value="primary_textmate">TextMate</option><option data-group="secondary" value="secondary_default_for_windows">Default for Windows</option><option data-group="secondary" value="secondary_default_for_macos">Default for macOS</option><option data-group="secondary" value="secondary_intellij_idea_classic">IntelliJ IDEA Classic</option><option data-group="secondary" value="secondary_emacs">Emacs</option><option data-group="secondary" value="secondary_visual_studio">Visual Studio</option><option data-group="secondary" value="secondary_default_for_xwin">Default for XWin</option><option data-group="secondary" value="secondary_default_for_gnome">Default for GNOME</option><option data-group="secondary" value="secondary_default_for_kde">Default for KDE</option><option data-group="secondary" value="secondary_eclipse">Eclipse</option><option data-group="secondary" value="secondary_eclipse_macos">Eclipse (macOS)</option><option data-group="secondary" value="secondary_netbeans">NetBeans</option><option data-group="secondary" value="secondary_sublime_text">Sublime Text</option><option data-group="secondary" value="secondary_sublime_text_macos">Sublime Text (macOS)</option><option data-group="secondary" value="secondary_textmate">TextMate</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Managing_Mercurial_Branches_and_Bookmarks" id="Managing_Mercurial_Branches_and_Bookmarks.xml">Managing Mercurial Branches and Bookmarks</h1>                                                        <p id="1601a1f8">        With RubyMine, you can use both <a href="https://www.mercurial-scm.org/wiki/NamedBranches" data-external="true" target="_blank" rel="noopener noreferrer">named branches</a> and        <a href="https://www.mercurial-scm.org/wiki/Bookmarks" data-external="true" target="_blank" rel="noopener noreferrer">light-weight branches (bookmarks)</a>.        RubyMine provides interface for creating, merging, and switching between branches and bookmarks, see <a href="switching-between-working-directories.html">Switching Between Working Directories</a>.        You can also run commands in the            <a href="terminal-emulator.html">terminal emulator</a>.            </p>       <p id="783c5499">        On this page:    </p>    <ul class="list" data-skip-index="skip"><li class="list__item"><a href="#eb5f8c27">Opening the Branches list</a></li><li class="list__item"><a href="#1b1e76f9">Creating a named branch</a></li><li class="list__item"><a href="#30336c54">Creating a bookmark</a></li><li class="list__item"><a href="#closeBranch">Closing a branch</a></li><li class="list__item"><a href="#50539e33">Merging named branches and bookmarks</a></li><li class="list__item"><a href="#b59bf5bf">Merging a named branch or bookmark with another named branch or bookmark</a></li><li class="list__item"><a href="#9cfd7f25">Merging a named branch or bookmark with a changeset</a></li></ul>       <p id="f875ad6c">        For information about switching between branches and bookmarks, see <a href="switching-between-working-directories.html">Switching Between Working Directories</a>.    </p>    <section class="procedure-steps"><h3 id="eb5f8c27">Opening the Branches list</h3><a name="remarkForOpeningBranchesPopUpMerge"></a><p id="af98e294">            Most of the operations with branches and bookmarks are invoked from the <span class="control">Branches</span> list.            <figure><img alt="Mercurial branches popup" title="Mercurial branches popup" src="/help/img/idea/2019.3/mercurialBranchesPopUp.png" id="e9a67f6e" width="176" height="273"></figure>        </p><p id="1e44c57f">            The list shows all the Mercurial repositories under the project root, all the named branches, and all the bookmarks in them. The current repository and the current bookmark are marked with a tick.            The name of the current named branch is shown in the dedicated <span class="control">hg</span> area on the <span class="control">Status</span> bar:            <figure><img alt="Mercurial status bar" title="Mercurial status bar" src="/help/img/idea/2019.3/mercurialStatusBar.png" id="8396ce1b" width="335" height="34"></figure>        </p><a name="remarkForOpeningBranchesPopUpCommon"></a><p id="867ca0b0">            To open the <span class="control">Branches</span> list, do one of the following:        </p><a name="openBranchPopUp"></a><ul class="list "><li class="list__item" id="db0f0295"><p>            On the <span class="control">Status</span> bar, click the name of the current named branch in the dedicated <span class="control">hg</span> area.            <figure><img alt="Mercurial status bar" title="Mercurial status bar" src="/help/img/idea/2019.3/mercurialStatusBar.png" id="f22aa2e1" width="335" height="34"></figure>        </p></li><li class="list__item" id="4bc27ebf"><p>            From the main menu, choose <span data-skip-index="skip" class="menupath">VCS | Mercurial | Branches</span>.        </p></li><li class="list__item" id="3809ea44"><p>            From the context menu of the <span class="control">Editor</span> or <span class="control">Version Control</span> tool window, choose <span data-skip-index="skip" class="menupath">Mercurial | Branches</span>.        </p></li></ul></section>    <section class="procedure-steps"><h3 id="1b1e76f9">Creating a named branch</h3><p id="32cfd360">                The new branch immediately becomes active and its name is shown on the <span class="control">Status</span> bar in the <span class="control">hg</span> area.            </p><ol class="list _decimal"><li class="list__item" id="8256dd5e"><p>            In the  <span class="control">Branches</span> list, click <span class="control">New Branch</span>.        </p></li><li class="list__item" id="fb4a2a20"><p>            In the <span class="control">Create New Branch</span> dialog that opens, specify the name of the new branch.        </p></li></ol></section>    <section class="procedure-steps"><h3 id="30336c54">Creating a bookmark</h3><ol class="list _decimal"><li class="list__item" id="3c16f41a"><p>            In the  <span class="control">Branches</span> list, click <span class="control">New Bookmark</span>.        </p></li><li class="list__item" id="c46577ce"><p>            In the             <a href="bookmarks-dialog.html">Bookmarks dialog</a>            that opens, specify the name of the bookmark to be created.        </p></li><li class="list__item" id="c9416b13">            <p id="2af1b576">Specify, whether you want to switch to the new bookmark immediately or not.</p>            <ul class="list _ul"><li class="list__item" id="44fb7c07"><p>                    To activate the new bookmark and thus enable tracking and updating the light-weight branch the bookmarks identifies, leave the <span class="control">Inactive</span> checkbox cleared.                    The new bookmark immediately becomes active and its name is marked with a tick in the <span class="control">Branches</span> list.                </p></li><li class="list__item" id="da743fcf"><p>                    To have an inactive bookmark created, that is, to remain in the current light-weight branch (bookmark) or named branch and switch to the new bookmark later,                    select the <span class="control">Inactive</span> checkbox.                </p></li></ul>        </li></ol></section>    <section class="procedure-steps"><h3 id="closeBranch">Closing a branch</h3><p id="bd690ab8">                According to <a href="https://www.mercurial-scm.org/wiki/Workflows" data-external="true" target="_blank" rel="noopener noreferrer">Mercurial workflows</a>, when you are done with a feature development and                do not expect any further changes, you close the corresponding branch. A closed branch is not displayed among active branches,                in the <a href="log-tab.html">Log view</a>, and so on. To close a branch, do the following:            </p><ol class="list _decimal"><li class="list__item" id="874b6f0f"><p>            In the <span class="control">Branches</span> popup, click <span class="control">Close branch</span>.            The <a href="commit-changes-dialog.html">Commit changes dialog</a> will be displayed.        </p></li><li class="list__item" id="f1e47157"><p>            Click <span class="control">Commit and Close</span>. All changes will be committed and the current branch will be closed.        </p></li></ol><p id="730f67db">                Note that if you have several repositories listed in the <span class="control">Repositories</span> section, the corresponding menu option will                toggle to <span class="control">Close branches</span> and the <code class="code">close</code> operation will be applied to all of them.            </p></section>    <h2 id="50539e33">Merging named branches and bookmarks</h2>    <p id="2c6c018e">        <a name="operationInvocation"></a>        You can merge  a named branch or a bookmark with another named branch, another bookmark, or a specific changeset identified by a tag or a revision number.        <ul class="list _bullet"><li class="list__item" id="771c393c">                <a name="operationWithAnotherBranchExplanation"></a>        Merging a named branch or a bookmark with another named branch or bookmark means merging with its <span class="emphasis">head</span>.                    <p id="497808a8">                    Merging with named branches and bookmarks can be invoked through the menu item <span data-skip-index="skip" class="menupath">VCS | Mercurial | Merge</span>, which opens the Mercurial-specific <span class="control">Merge</span> dialog                    of from the <span class="control">Branches</span> list.                    <figure><img alt="Merge from branches" title="Merge from branches" src="/help/img/idea/2019.3/mercurialInvokeMergeFromBranchesPopup.png" id="a8478f1a" width="306" height="383"></figure>                </p>            </li><li class="list__item" id="7dabfee0">                <a name="operationWithChangeset"></a>        Merging a named branch or a bookmark with a changeset means merging the branch <span class="emphasis">head</span> with the specified changeset.        A changeset can be identified either by a revision number or a tag, see <a href="https://www.mercurial-scm.org/wiki/Tag" data-external="true" target="_blank" rel="noopener noreferrer">https://www.mercurial-scm.org/wiki/Tag</a>.                    <p id="600b2582">                    Merging a named branch or a bookmark with a specific changeset can be invoked                    <span class="emphasis">only</span> through <span data-skip-index="skip" class="menupath">VCS | Mercurial | Merge</span>.                </p>            </li></ul>        </p>    <p id="5a168e46">        For definitions and Mercurial-specific details regarding the merge operation itself, see <a href="https://www.mercurial-scm.org/wiki/Merge" data-external="true" target="_blank" rel="noopener noreferrer">https://www.mercurial-scm.org/wiki/Merge</a>.    </p>    <p id="f6fe0048">        <a name="cleanWorkingDirectory"></a>        By default, <span class="emphasis">Mercurial</span> requires that before merge the current working directory should be <span class="emphasis">clean</span>,        that is, it should not contain any uncommitted changes. Otherwise the merge operation fails and RubyMine shows the corresponding error message.        The message  also recommends that you clean the current working directory by running the <code class="code">hg merge &lt;target branch, bookmark, or changeset&gt; -C</code>        to discard the uncommitted changes.        </p>    <p id="12ad78d2">        <a name="HowToCleanWorkingCopy"></a>        If your current working copy is not clean, you can either commit the changes or shelve them as described in <a href="shelving-and-unshelving-changes.html">Shelve and Unshelve Changes</a>.        </p>    <section class="procedure-steps"><h3 id="b59bf5bf">Merging a named branch or bookmark with another named branch or bookmark</h3><p id="6bf7358b">                <a name="operationWithAnotherBranchExplanation"></a>        Merging a named branch or a bookmark with another named branch or bookmark means merging with its <span class="emphasis">head</span>.                </p><ol class="list _decimal"><li class="list__item" id="f443a243"><p>            <a name="cleanBeforeOperation"></a>        Make sure, your current working directory is <span class="emphasis">clean</span>, that is, it does not contain any uncommitted changes. Commit or shelve the changes, if any.            </p></li><li class="list__item" id="f50bbaea">            <a name="invokeOperation"></a>        Invoke merge by doing one of the following:        <ul class="list _bullet"><li class="list__item" id="94d25a06"><p>                In the  <span class="control">Branches</span> list, click the name of the branch or bookmark to merge with, then choose <span class="control">Merge</span> from the list:            </p></li><li class="list__item" id="9eecb97c">                <p id="4b2ec3a4">                    Choose <span data-skip-index="skip" class="menupath">VCS | Mercurial | Merge</span> on the main menu or <span data-skip-index="skip" class="menupath">Mercurial | Merge</span> from the context menu of the <span class="control">Editor</span>.                </p>                <p id="daff2fc7">                    In the <span class="control">Merge</span> dialog that opens:                    <ol class="list _decimal"><li class="list__item" id="9af86c16"><p>                            Choose the target repository from the <span class="control">Repository</span> list which shows all the Mercurial repositories available under the current project root.                        </p></li><li class="list__item" id="35bf1aaf"><p>                            Choose the <span class="control">Branch</span> or <span class="control">Bookmark</span> option and choose the named branch or bookmark to merge the current working directory with.                        </p></li></ol>                </p>            </li></ul>            </li><li class="list__item" id="49cc70a7">            <a name="resolvingConflicts"></a>        Resolve conflicts. As soon as a conflict takes place, the <span class="control">Conflicts</span> dialog opens with a list of conflicting files.        Use the controls of the dialog to resolve the problems:        <ul class="list _bullet"><li class="list__item" id="5d8f92d7"><p>                To have the version of the current working directory preserved, click <span class="control">Accept Yours</span>.            </p></li><li class="list__item" id="d77e80da"><p>                To have the version of the branch you are merging with preserved, click <span class="control">Accept Theirs</span>.            </p></li><li class="list__item" id="6fbd7b3e"><p>                To resolve the conflicts manually, click <span class="control">Merge</span> and use the <span class="control">Conflict Resolution Tool</span>, as described in <a href="resolving-conflicts.html">Resolve Conflicts</a>.            </p></li></ul>        <p id="f727be01">            If no conflicts arise during merge, the operation passes silently and the merge log is shown in the <span class="control">Version Control</span> tool window.        </p>            </li></ol></section>    <section class="procedure-steps"><h3 id="9cfd7f25">Merging a named branch or bookmark with a changeset</h3><p id="ff85a8c9">                <a name="operationWithChangeset"></a>        Merging a named branch or a bookmark with a changeset means merging the branch <span class="emphasis">head</span> with the specified changeset.        A changeset can be identified either by a revision number or a tag, see <a href="https://www.mercurial-scm.org/wiki/Tag" data-external="true" target="_blank" rel="noopener noreferrer">https://www.mercurial-scm.org/wiki/Tag</a>.                </p><ol class="list _decimal"><li class="list__item" id="9086363b"><p>            <a name="cleanBeforeOperation"></a>        Make sure, your current working directory is <span class="emphasis">clean</span>, that is, it does not contain any uncommitted changes. Commit or shelve the changes, if any.            </p></li><li class="list__item" id="c143eb32"><p>            Choose <span data-skip-index="skip" class="menupath">VCS | Mercurial | Merge</span> From the context menu or <span data-skip-index="skip" class="menupath">Mercurial | Merge</span> from the context menu of the <span class="control">Editor</span>.        </p></li><li class="list__item" id="e8af36fd">            <a name="chooseRepoAndTagOrRevision"></a>        In the <span class="control">Merge</span> dialog that opens:        <ol class="list _decimal"><li class="list__item" id="879b9207"><p>                Choose the target repository from the <span class="control">Repository</span> list which shows all the Mercurial repositories available under the current project root.            </p></li><li class="list__item" id="20a0cf2c"><p>                Choose the <span class="control">Tag</span> or <span class="control">Revision</span> option and choose the tag or specify the hash or revision number to merge the current working directory with.                To copy  a hash, open the <span class="control">Log</span> tab of the <span class="control">Version Control</span> tool window, select the relevant branch and revision,                and then choose <span class="control">Copy Hash</span> from the context menu of the selection.            </p></li></ol>            </li><li class="list__item" id="3ce02624">            <a name="resolvingConflicts"></a>        Resolve conflicts. As soon as a conflict takes place, the <span class="control">Conflicts</span> dialog opens with a list of conflicting files.        Use the controls of the dialog to resolve the problems:        <ul class="list _bullet"><li class="list__item" id="f42c90c3"><p>                To have the version of the current working directory preserved, click <span class="control">Accept Yours</span>.            </p></li><li class="list__item" id="135007bf"><p>                To have the version of the branch you are merging with preserved, click <span class="control">Accept Theirs</span>.            </p></li><li class="list__item" id="cea33180"><p>                To resolve the conflicts manually, click <span class="control">Merge</span> and use the <span class="control">Conflict Resolution Tool</span>, as described in <a href="resolving-conflicts.html">Resolve Conflicts</a>.            </p></li></ul>        <p id="591b34c0">            If no conflicts arise during merge, the operation passes silently and the merge log is shown in the <span class="control">Version Control</span> tool window.        </p>            </li></ol></section>    <div class="last-modified" data-skip-index="skip">Last modified: 28 November 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="setting-up-a-local-mercurial-repository.html">Setting Up a Local Mercurial Repository</a><a class="navigation-links__next" href="switching-between-working-directories.html">Switching Between Working Directories</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>