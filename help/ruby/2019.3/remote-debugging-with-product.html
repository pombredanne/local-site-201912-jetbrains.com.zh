<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"></meta><meta name="robots" content="noindex"></meta><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>Tutorial: Debug the application using 'Ruby remote debug' - Help | RubyMine</title><link rel="stylesheet" href="/resources.jetbrains.com/storage/help-app/v3/app.css"></head><body data-id="reference.dialogs.rundebug.RubyRemoteDebugConfigurationType" data-breadcrumbs="Running, debugging, testing, deploying/Debugging_Code.xml|Debugging/Remote_Debugging_with__product_.xml|Tutorial: Debug the application using 'Ruby remote debug'" data-main-title="Tutorial: Debug the application using 'Ruby remote debug'"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search RubyMine Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>RubyMine 2019.3 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="primary" value="primary_default_for_windows" selected>Default for Windows</option><option data-group="primary" value="primary_default_for_macos">Default for macOS</option><option data-group="primary" value="primary_intellij_idea_classic_macos">IntelliJ IDEA Classic (macOS)</option><option data-group="primary" value="primary_emacs">Emacs</option><option data-group="primary" value="primary_visual_studio">Visual Studio</option><option data-group="primary" value="primary_default_for_xwin">Default for XWin</option><option data-group="primary" value="primary_default_for_gnome">Default for GNOME</option><option data-group="primary" value="primary_default_for_kde">Default for KDE</option><option data-group="primary" value="primary_eclipse">Eclipse</option><option data-group="primary" value="primary_eclipse_macos">Eclipse (macOS)</option><option data-group="primary" value="primary_netbeans">NetBeans</option><option data-group="primary" value="primary_sublime_text">Sublime Text</option><option data-group="primary" value="primary_sublime_text_macos">Sublime Text (macOS)</option><option data-group="primary" value="primary_textmate">TextMate</option><option data-group="secondary" value="secondary_default_for_windows">Default for Windows</option><option data-group="secondary" value="secondary_default_for_macos">Default for macOS</option><option data-group="secondary" value="secondary_intellij_idea_classic">IntelliJ IDEA Classic</option><option data-group="secondary" value="secondary_emacs">Emacs</option><option data-group="secondary" value="secondary_visual_studio">Visual Studio</option><option data-group="secondary" value="secondary_default_for_xwin">Default for XWin</option><option data-group="secondary" value="secondary_default_for_gnome">Default for GNOME</option><option data-group="secondary" value="secondary_default_for_kde">Default for KDE</option><option data-group="secondary" value="secondary_eclipse">Eclipse</option><option data-group="secondary" value="secondary_eclipse_macos">Eclipse (macOS)</option><option data-group="secondary" value="secondary_netbeans">NetBeans</option><option data-group="secondary" value="secondary_sublime_text">Sublime Text</option><option data-group="secondary" value="secondary_sublime_text_macos">Sublime Text (macOS)</option><option data-group="secondary" value="secondary_textmate">TextMate</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 data-toc="reference.dialogs.rundebug.RubyRemoteDebugConfigurationType" id="Remote_Debugging_with__product_.xml">Tutorial: Debug the application using 'Ruby remote debug'</h1>                        <p id="f7f388d0">            RubyMine offers you two ways to debug applications that are run on the remote machine:        </p>        <ul class="list _ul"><li class="list__item" id="3f73dd17"><p>                Add a <a href="configuring-language-interpreter.html#add_remote_ruby_interpreter">remote Ruby interpreter</a>,                configure mappings between files of the local and remote project, and                <a href="starting-the-debugger-session.html">start a debugging session</a>.            </p></li><li class="list__item" id="d405a7fd"><p>                Run the application on the remote machine, add a remote Ruby interpreter,                configure mappings, and <a href="attaching-to-remote-process.html">attach to a running process</a>.            </p></li></ul>        <p id="a5444f78">            The specified ways may not suit for debugging some projects, for example,            <a href="https://github.com/SketchUp/sketchup-ruby-api-tutorials/wiki/RubyMine-Debugger-Setup" data-external="true" target="_blank" rel="noopener noreferrer">SketchUp</a>.            In such cases, you can use the <span class="control">Ruby remote debug</span> run/debug configuration.        </p>        <p id="41ccc0ec">            In this tutorial, we'll show you how to debug a <a href="https://github.com/JetBrains/sample_rails_app" data-external="true" target="_blank" rel="noopener noreferrer">sample Rails application</a>            using <span class="control">Ruby remote debug</span>.        </p>        <div class="chapter"><h2 id="prereq" data-toc="reference.dialogs.rundebug.RubyRemoteDebugConfigurationType#prereq">Prerequisites</h2>        <p id="5f554cf4">In this tutorial, we’ll use two machines to demonstrate debugging of the remote application:</p>        <ul class="list _ul"><li class="list__item" id="735836bd"><p>                <span class="emphasis">Local machine</span>: Mac with macOS, with RubyMine installed.            </p></li><li class="list__item" id="dc4db8de">                <p id="bc61cc0e">                    <span class="emphasis">Remote machine</span>:                    The Ubuntu machine with enabled <a href="https://help.ubuntu.com/lts/serverguide/openssh-server.html" data-external="true" target="_blank" rel="noopener noreferrer">SSH access</a> and the Ruby interpreter installed.                                        <br>                    In our tutorial, the remote computer has the <span class="filepath">sample-web-server</span> name.                </p>                            </li></ul>        <p id="e3865823">On both machines, we’ll use the <i id="00a60dfe" origin="intellij-platform">jetbrains</i> user’s home directories to store source code.</p>    </div>        <div class="chapter"><h2 id="create_ruby_remote_debug" data-toc="reference.dialogs.rundebug.RubyRemoteDebugConfigurationType#create_ruby_remote_debug">Create the 'Ruby remote debug' configuration</h2>            <p id="d5a48478">                At first, let's create and set up the <span class="control">Ruby remote debug</span> configuration in RubyMine:            </p>            <section class="procedure-steps"><ol class="list _decimal"><li class="list__item" id="3bc8b51a">                    <p id="e9501e76">                        Go to <span data-skip-index="skip" class="menupath">Run | Edit Configurations</span> from the main menu,                        click <img class="inline-icon-16" src="/help/img/idea/2019.3/icons.general.add@2x.png" width="16" alt="the Add icon">,                        and select <span class="control">Ruby remote debug</span> from the list.                    </p>                </li><li class="list__item" id="eed8a479">                    <p id="f7753992">                        Specify the following settings:                    </p>                    <figure><img alt="Ruby remote debug" title="Ruby remote debug" src="/help/img/idea/2019.3/rm_ruby_remote_debug_example.png" id="bd820a28" width="700" height="746"></figure>                    <ul class="list _ul"><li class="list__item" id="5a376b4b"><p>                            <span class="control">Name</span>: Enter a run/debug configuration name.<br>                            Example: <span class="emphasis">Remote debug: sample_rails_app</span>                        </p></li><li class="list__item" id="c4cf51df"><p>                            <span class="control">Remote host</span>: Specify a hostname or IP address of the remote machine.<br>                            Examples: <span class="filepath">sample-web-server</span>, <span class="filepath">172.30.163.90</span>                        </p></li><li class="list__item" id="9a3a2d17"><p>                            <span class="control">Remote port</span>: Specify a remote port used to establish a connection between the IDE and debugger.<br>                            Example: <span class="emphasis">1234</span>                        </p></li><li class="list__item" id="5ac02909"><p>                            <span class="control">Remote root folder</span>:                            Specify a root folder on the remote machine, where the application to be debugged is located.<br>                            Example: <span class="filepath">/home/jetbrains/apps/sample_rails_app</span>                        </p></li><li class="list__item" id="6e4bd419"><p>                            <span class="control">Local port</span>: Specify a local port used to establish a connection between the IDE and debugger.<br>                            Example: <span class="emphasis">26162</span>                        </p></li><li class="list__item" id="1f29d628"><p>                            <span class="control">Local root folder</span>:                            Specify an application's root folder on the local machine.<br>                            Example: <span class="filepath">/Users/jetbrains/RubymineProjects/sample_rails_app</span>                        </p></li></ul>                </li><li class="list__item" id="429ea543">                    <p id="ca6ea08d">After you've specified all the settings, copy the command generated in the <span class="control">Server command</span> field to the clipboard.</p>                    <div class="code-block" data-lang="bash">
                        rdebug-ide --host 0.0.0.0 --port 1234 --dispatcher-port 26162 -- $COMMAND$
    </div>                    <p id="1f3a5078">                        It will be used later to <a href="#start_debug_remote">start the debugger</a> on a remote machine.                        The $COMMAND$ part will be replaced with the actual command for running the application.                    </p>                    <p id="160f044a">                        Click <span class="control">OK</span> in the <span class="control">Run/Debug Configurations</span> dialog.                    </p>                </li></ol></section>        </div>        <div class="chapter"><h2 id="configure_remote_interpreter" data-toc="reference.dialogs.rundebug.RubyRemoteDebugConfigurationType#configure_remote_interpreter">Configure a remote interpreter</h2>        <p id="a0897117">            In this part, we’ll configure a remote interpreter <a href="configuring-remote-interpreters-using-ssh.html">using SSH</a>.        </p>        <section class="procedure-steps"><ol class="list _decimal"><li class="list__item" id="8c62da1b">                <p id="fe083811">                    Open the <span class="control">Settings/Preferences</span> dialog <kbd data-primary_default_for_windows="Ctrl+Alt+S" data-primary_default_for_macos="⌘+Comma" data-primary_intellij_idea_classic_macos="⌘+Comma" data-primary_emacs="Ctrl+Alt+S" data-primary_visual_studio="Alt+F7" data-primary_default_for_xwin="Ctrl+Alt+S" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-primary_eclipse_macos="⌘+Comma" data-primary_netbeans="Ctrl+Alt+S" data-primary_sublime_text="Ctrl+Alt+S" data-primary_sublime_text_macos="⌘+Comma" data-primary_textmate="⌘+Comma" data-secondary_default_for_windows="⌃⌥S" data-secondary_default_for_macos="⌘," data-secondary_intellij_idea_classic="⌘," data-secondary_emacs="⌃⌥S" data-secondary_visual_studio="⌥F7" data-secondary_default_for_xwin="⌃⌥S" data-secondary_default_for_gnome="⌃⌥S" data-secondary_default_for_kde="⌃⌥S" data-secondary_eclipse="⌃⌥S" data-secondary_eclipse_macos="⌘," data-secondary_netbeans="⌃⌥S" data-secondary_sublime_text="⌃⌥S" data-secondary_sublime_text_macos="⌘," data-secondary_textmate="⌘,">Ctrl+Alt+S</kbd>,                    go to the <span class="control">Language &amp; Frameworks | Ruby SDK and Gems</span> page, click the <img class="inline-icon-16" src="/help/img/idea/2019.3/icons.general.add@2x.png" width="16" alt="Add"> button                    and select <span class="control">New remote</span> from the list:                </p>                <figure><img alt="New remote" title="New remote" src="/help/img/idea/2019.3/rm_remote_attach_new_remote.png" id="b5a12f6a" width="773" height="391"></figure>            </li><li class="list__item" id="bb619aba">                <p id="382bdd1d">                    In the invoked dialog, select <span class="control">SSH Credentials</span> and specify parameters in the following way:                </p>                <figure><img alt="Configure Remote Ruby Interpreter" title="Configure Remote Ruby Interpreter" src="/help/img/idea/2019.3/rm_remote_attach_ssh_credentials.png" id="b9474a15" width="637" height="566"></figure>                <ul class="list _ul"><li class="list__item" id="797273d0"><p>                        <span class="control">Host</span>: The hostname or IP address of a remote machine.                        In our tutorial, the hostname is <span class="filepath">sample-web-server</span>, and the <span class="control">Port</span> is set to the default value.                    </p></li><li class="list__item" id="448548ac"><p>                        <span class="control">User name</span>: The username used to authenticate on a remote machine.                    </p></li><li class="list__item" id="ec9ecb49"><p>                        <span class="control">Authentication type</span>: In this field, select the <i id="d85278a1" origin="intellij-platform">Password</i> value to authenticate a user with a password.                    </p></li><li class="list__item" id="384a7712"><p>                        <span class="control">Password</span>: Specify a user's password.                    </p></li><li class="list__item" id="7dec3ea3"><p>                        <span class="control">Ruby or version manager path</span>:                        Here you should specify the path to the Ruby interpreter or the <a href="ruby-version-managers.html">version manager</a> executable.                        In this tutorial, we use RVM on a remote machine.                    </p></li></ul>                <p id="bb52ff23">                    After you have specified all the settings, click <span class="control">OK</span>.                </p>            </li><li class="list__item" id="b4c610af">                <p id="67d1bedd">                    If you specified a path to the version manager executable in the previous dialog,                    RubyMine suggests you selecting the required Ruby interpreter.                    In this step, you need to choose the interpreter used to run a remote application.                </p>                <figure><img alt="Select Distribution" title="Select Distribution" src="/help/img/idea/2019.3/rm_remote_attach_select_distribution.png" id="2364f82b" width="246" height="214"></figure>                <p id="26b38a28">                    Click <span class="control">OK</span> and select the added SDK in the <span class="control">Ruby SDK and Gems</span> page.                </p>                <figure><img alt="Ruby SDK and Gems" title="Ruby SDK and Gems" src="/help/img/idea/2019.3/rm_remote_attach_select_remote_sdk.png" id="261f0fba" width="738" height="708"></figure>            </li><li class="list__item" id="28bbc285">                <p id="mapping_note">                    The final thing you need to do is to specify mappings between files of a local and remote project.                    To do this, click the <span class="control">Edit Path Mappings</span>                    <img class="inline-icon-16" src="/help/img/idea/2019.3/icons.vcs.folders@2x.png" width="16" alt="Edit Path Mappings"> button.                    In the <span class="control">Edit Project Path Mappings</span> dialog, specify the local and remote project root paths.                </p><aside data-type="tip" class="prompt" data-title="" rel="mapping_note" id="411f944f">                    <p id="7f3c898c">If necessary, you may specify not project root paths but only folders containing sources required for <a href="#debug">debugging</a>.</p>                </aside>                <figure><img alt="Edit Project Path Mappings" title="Edit Project Path Mappings" src="/help/img/idea/2019.3/rm_remote_attach_path_mappings.png" id="699fca28" width="626" height="458"></figure>                                <p id="6bbc825f">                    In our case, the paths will look as follows:                </p>                <ul class="list _ul"><li class="list__item" id="6afdab8f"><p>                        <span class="control">Local Path</span>: <span class="filepath">/Users/jetbrains/RubymineProjects/sample_rails_app</span>                    </p></li><li class="list__item" id="12e75000"><p>                        <span class="control">Remote Path</span>: <span class="filepath">/home/jetbrains/apps/sample_rails_app</span>                    </p></li></ul>                <p id="a1ae8274">                    Click <span class="control">OK</span> in this dialog and then click <span class="control">OK</span> in the <span class="control">Settings/Preferences</span> dialog.                    Now we are ready to attach to a remote process and debug the application.                </p>            </li></ol></section>    </div>        <div class="chapter"><h2 id="start_debug_remote" data-toc="reference.dialogs.rundebug.RubyRemoteDebugConfigurationType#start_debug_remote">Start debugging on the remote machine</h2>            <p id="b1987d00">                In this part, we'll install the debugging gems and start a debugging session on the remote machine.            </p>            <section class="procedure-steps"><ol class="list _decimal"><li class="list__item" id="72755b37">                    <p id="b3f2b096">                        (Optional) RubyMine allows you to <a href="debugging-code.html">debug</a> Rails applications with Spring.                        This may require updating a system or project Spring configuration file to load the debugger into                        every process <a href="https://github.com/rails/spring#running-code-after-forking" data-external="true" target="_blank" rel="noopener noreferrer">forked</a> by Spring.                        To do this, add the following code to <span class="filepath">~/.spring.rb</span> or <span class="filepath">config/spring.rb</span> file:                    </p>                    <div class="code-block" data-lang="ruby">
                        Spring.after_fork do
                            if ENV['DEBUGGER_STORED_RUBYLIB']
                                ENV['DEBUGGER_STORED_RUBYLIB'].split(File::PATH_SEPARATOR).each do |path|
                                    next unless path =~ /ruby-debug-ide/
                                    load path + '/ruby-debug-ide/multiprocess/starter.rb'
                                end
                            end
                        end
                    </div>                </li><li class="list__item" id="9ec6f399">                    <p id="2698e189">                        Install the debugging gems to the target Ruby interpreter.                        To do this, add the <span class="emphasis">debase</span> and <span class="emphasis">ruby-debug-ide</span>                        to the <span class="filepath">Gemfile</span> and run <code class="code">bundle install</code>.                    </p>                    <div class="code-block" data-lang="ruby">
                        gem 'debase'
                        gem 'ruby-debug-ide'
                    </div>                </li><li class="list__item" id="367ecc96">                    <p id="fcbbab84">                        Go to the application's folder and run it with the debugger attached using the following command.                    </p>                    <div class="code-block" data-lang="bash">
                        rdebug-ide --host 0.0.0.0 --port 1234 --dispatcher-port 26162 -- bin/rails s
    </div>                    <aside data-type="tip" class="prompt" data-title="" rel="2c700e2c" id="354ef149">                        <p id="4f3fd101">                            If you want to debug a plain Ruby script, the command will look in the following way:                        </p>                        <p id="314bb43b">                            <div class="code-block" data-lang="none">
                                rdebug-ide --host 0.0.0.0 --port 1234 --dispatcher-port 26162 -- lib/script.rb
    </div>                        </p>                    </aside>                </li></ol></section>        </div>        <div class="chapter"><h2 id="start_debug_local" data-toc="reference.dialogs.rundebug.RubyRemoteDebugConfigurationType#start_debug_local">Start debugging on the local machine</h2>            <p id="01ae31c7">                Now we are ready to start debugging in the IDE.            </p>            <section class="procedure-steps"><ol class="list _decimal"><li class="list__item" id="4f9719c6"><p>                    Set the <a href="using-breakpoints.html#set-line-breakpoint">breakpoints</a> in your application.                </p></li><li class="list__item" id="ceb7c5e9">                    <p id="435a69a3">                        Run the debugging session.                        To do this, press <kbd data-primary_default_for_windows="Ctrl" data-primary_default_for_macos="Ctrl" data-primary_intellij_idea_classic_macos="Ctrl" data-primary_emacs="Ctrl" data-primary_visual_studio="Ctrl" data-primary_default_for_xwin="Ctrl" data-primary_default_for_gnome="Ctrl" data-primary_default_for_kde="Ctrl" data-primary_eclipse="Ctrl" data-primary_eclipse_macos="Ctrl" data-primary_netbeans="Ctrl" data-primary_sublime_text="Ctrl" data-primary_sublime_text_macos="Ctrl" data-primary_textmate="Ctrl" data-secondary_default_for_windows="^" data-secondary_default_for_macos="^" data-secondary_intellij_idea_classic="^" data-secondary_emacs="^" data-secondary_visual_studio="^" data-secondary_default_for_xwin="^" data-secondary_default_for_gnome="^" data-secondary_default_for_kde="^" data-secondary_eclipse="^" data-secondary_eclipse_macos="^" data-secondary_netbeans="^" data-secondary_sublime_text="^" data-secondary_sublime_text_macos="^" data-secondary_textmate="^">Ctrl</kbd> twice and type the configuration name (<span class="emphasis">Remote debug: sample_rails_app</span>) in the popup.                        Press and hold down the <kbd data-primary_default_for_windows="Shift" data-primary_default_for_macos="Shift" data-primary_intellij_idea_classic_macos="Shift" data-primary_emacs="Shift" data-primary_visual_studio="Shift" data-primary_default_for_xwin="Shift" data-primary_default_for_gnome="Shift" data-primary_default_for_kde="Shift" data-primary_eclipse="Shift" data-primary_eclipse_macos="Shift" data-primary_netbeans="Shift" data-primary_sublime_text="Shift" data-primary_sublime_text_macos="Shift" data-primary_textmate="Shift" data-secondary_default_for_windows="⇧" data-secondary_default_for_macos="⇧" data-secondary_intellij_idea_classic="⇧" data-secondary_emacs="⇧" data-secondary_visual_studio="⇧" data-secondary_default_for_xwin="⇧" data-secondary_default_for_gnome="⇧" data-secondary_default_for_kde="⇧" data-secondary_eclipse="⇧" data-secondary_eclipse_macos="⇧" data-secondary_netbeans="⇧" data-secondary_sublime_text="⇧" data-secondary_sublime_text_macos="⇧" data-secondary_textmate="⇧">Shift</kbd> key (the dialog title changes to <span class="control">Debug</span>) and press <kbd data-primary_default_for_windows="Enter" data-primary_default_for_macos="Enter" data-primary_intellij_idea_classic_macos="Enter" data-primary_emacs="Enter" data-primary_visual_studio="Enter" data-primary_default_for_xwin="Enter" data-primary_default_for_gnome="Enter" data-primary_default_for_kde="Enter" data-primary_eclipse="Enter" data-primary_eclipse_macos="Enter" data-primary_netbeans="Enter" data-primary_sublime_text="Enter" data-primary_sublime_text_macos="Enter" data-primary_textmate="Enter" data-secondary_default_for_windows="⏎" data-secondary_default_for_macos="⏎" data-secondary_intellij_idea_classic="⏎" data-secondary_emacs="⏎" data-secondary_visual_studio="⏎" data-secondary_default_for_xwin="⏎" data-secondary_default_for_gnome="⏎" data-secondary_default_for_kde="⏎" data-secondary_eclipse="⏎" data-secondary_eclipse_macos="⏎" data-secondary_netbeans="⏎" data-secondary_sublime_text="⏎" data-secondary_sublime_text_macos="⏎" data-secondary_textmate="⏎">Enter</kbd>.                    </p>                    <aside data-type="tip" class="prompt" data-title="" rel="435a69a3" id="19a81461">                        <p id="a66a4e20">                            You can learn more about how to debug the <a href="https://github.com/JetBrains/sample_rails_app" data-external="true" target="_blank" rel="noopener noreferrer">sample Rails application</a>                            from the following tutorial: <a href="get-started.html#debug">Debug an application</a>.                        </p>                    </aside>                </li></ol></section>        </div>    <div class="last-modified" data-skip-index="skip">Last modified: 28 November 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="debugging-in-console.html">Tutorial: Debug in IRB/Rails console</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>