<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"></meta><meta name="robots" content="noindex"></meta><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>Configuring database connections - Help | RubyMine</title><link rel="stylesheet" href="/resources.jetbrains.com/storage/help-app/v3/app.css"></head><body data-id="Configuring_database_connections" data-breadcrumbs="Relational_Databases.xml|Database tools and SQL/Getting started/Configuring_database_connections.xml|Configuring database connections" data-main-title="Configuring database connections" data-article-props="&#xA;                {&#xA;                &#xA;            &#34;seeAlso&#34;:[&#xA;            &#xA;                {&#34;title&#34;: &#34;Web Resources&#34;,&#xA;                 &#34;links&#34;: [&#xA;                &#xA;        {&#34;url&#34;:&#34;http://www.jetbrains.net/devnet/community/ruby?view=documents&#xA;            &#34;,&#34;text&#34;:&#34;Developer Community&#34;}&#xA;    &#xA;                    ]}&#xA;            ]&#xA;        &#xA;                }&#xA;            "><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search RubyMine Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>RubyMine 2019.3 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="primary" value="primary_default_for_windows" selected>Default for Windows</option><option data-group="primary" value="primary_default_for_macos">Default for macOS</option><option data-group="primary" value="primary_intellij_idea_classic_macos">IntelliJ IDEA Classic (macOS)</option><option data-group="primary" value="primary_emacs">Emacs</option><option data-group="primary" value="primary_visual_studio">Visual Studio</option><option data-group="primary" value="primary_default_for_xwin">Default for XWin</option><option data-group="primary" value="primary_default_for_gnome">Default for GNOME</option><option data-group="primary" value="primary_default_for_kde">Default for KDE</option><option data-group="primary" value="primary_eclipse">Eclipse</option><option data-group="primary" value="primary_eclipse_macos">Eclipse (macOS)</option><option data-group="primary" value="primary_netbeans">NetBeans</option><option data-group="primary" value="primary_sublime_text">Sublime Text</option><option data-group="primary" value="primary_sublime_text_macos">Sublime Text (macOS)</option><option data-group="primary" value="primary_textmate">TextMate</option><option data-group="secondary" value="secondary_default_for_windows">Default for Windows</option><option data-group="secondary" value="secondary_default_for_macos">Default for macOS</option><option data-group="secondary" value="secondary_intellij_idea_classic">IntelliJ IDEA Classic</option><option data-group="secondary" value="secondary_emacs">Emacs</option><option data-group="secondary" value="secondary_visual_studio">Visual Studio</option><option data-group="secondary" value="secondary_default_for_xwin">Default for XWin</option><option data-group="secondary" value="secondary_default_for_gnome">Default for GNOME</option><option data-group="secondary" value="secondary_default_for_kde">Default for KDE</option><option data-group="secondary" value="secondary_eclipse">Eclipse</option><option data-group="secondary" value="secondary_eclipse_macos">Eclipse (macOS)</option><option data-group="secondary" value="secondary_netbeans">NetBeans</option><option data-group="secondary" value="secondary_sublime_text">Sublime Text</option><option data-group="secondary" value="secondary_sublime_text_macos">Sublime Text (macOS)</option><option data-group="secondary" value="secondary_textmate">TextMate</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 data-toc="Configuring_database_connections" id="Configuring_database_connections.xml">Configuring database connections</h1>                   <section class="procedure-steps"><h3 id="remember-password-include" data-toc="Configuring_database_connections#remember-password-include">Remember password</h3><p id="11a879ec">You can select the following options for storing your password:</p><ul class="list "><li class="list__item" id="264c9dcd"><p><span class="control">Never</span>: password is prompted each time you establish a connection with a database.        </p></li><li class="list__item" id="6f3bb1a6"><p><span class="control">Until restart</span>: password is saved only for the current RubyMine run.            If you exit RubyMine and open it again, you must provide the password again.</p></li><li class="list__item" id="5ed92b8b"><p><span class="control">For session</span>: password is saved only for the current connection session with a            database (until you disconnect from it). You can terminate the connection by pressing the <span class="control">                Disconnect</span> icon (<img class="inline-icon-16" src="/help/img/idea/2019.3/icons.actions.suspend_dark@2x.png" width="16" alt="the                     Disconnect icon">) or <kbd data-primary_default_for_windows="Ctrl+F2" data-primary_default_for_macos="⌘+F2" data-primary_intellij_idea_classic_macos="⌘+F2" data-primary_emacs="Ctrl+F2" data-primary_visual_studio="Shift+F5" data-primary_default_for_xwin="Ctrl+F2" data-primary_default_for_gnome="Ctrl+F2" data-primary_default_for_kde="Ctrl+2" data-primary_eclipse="Ctrl+F2" data-primary_eclipse_macos="⌘+F2" data-primary_netbeans="Shift+F5" data-primary_sublime_text="N/A" data-primary_sublime_text_macos="N/A" data-primary_textmate="Ctrl+\" data-secondary_default_for_windows="⌃F2" data-secondary_default_for_macos="⌘F2" data-secondary_intellij_idea_classic="⌘F2" data-secondary_emacs="⌃F2" data-secondary_visual_studio="⇧F5" data-secondary_default_for_xwin="⌃F2" data-secondary_default_for_gnome="⌃F2" data-secondary_default_for_kde="⌃2" data-secondary_eclipse="⌃F2" data-secondary_eclipse_macos="⌘F2" data-secondary_netbeans="⇧F5" data-secondary_sublime_text="N/A" data-secondary_sublime_text_macos="N/A" data-secondary_textmate="⌃\">Ctrl+F2</kbd>.</p></li><li class="list__item" id="562a7244"><p><span class="control">Forever</span>: password is saved in the RubyMine storage. You do not need to            provide the password next time you open RubyMine.</p></li></ul></section>    <section class="procedure-steps"><h3 id="db_close_connections" data-toc="Configuring_database_connections#db_close_connections">Close a database connection</h3><p id="ea9ac4ba">            RubyMine connects to databases automatically.            The names of the data sources with open database connections are shown            in the <span class="control">Database</span> tool window in bold.</p><ul class="list "><li class="list__item" id="6a2728cc">            <p id="59d00e74">To close a database connection,            select a data source and сlick the <span class="control">Disconnect</span> button <img class="inline-icon-16" src="/help/img/idea/2019.3/icons.actions.suspend@2x.png" width="16" alt="the Disconnect button">            on the toolbar. Alternatively, select a data source and press <kbd data-primary_default_for_windows="Ctrl+F2" data-primary_default_for_macos="⌘+F2" data-primary_intellij_idea_classic_macos="⌘+F2" data-primary_emacs="Ctrl+F2" data-primary_visual_studio="Shift+F5" data-primary_default_for_xwin="Ctrl+F2" data-primary_default_for_gnome="Ctrl+F2" data-primary_default_for_kde="Ctrl+2" data-primary_eclipse="Ctrl+F2" data-primary_eclipse_macos="⌘+F2" data-primary_netbeans="Shift+F5" data-primary_sublime_text="N/A" data-primary_sublime_text_macos="N/A" data-primary_textmate="Ctrl+\" data-secondary_default_for_windows="⌃F2" data-secondary_default_for_macos="⌘F2" data-secondary_intellij_idea_classic="⌘F2" data-secondary_emacs="⌃F2" data-secondary_visual_studio="⇧F5" data-secondary_default_for_xwin="⌃F2" data-secondary_default_for_gnome="⌃F2" data-secondary_default_for_kde="⌃2" data-secondary_eclipse="⌃F2" data-secondary_eclipse_macos="⌘F2" data-secondary_netbeans="⇧F5" data-secondary_sublime_text="N/A" data-secondary_sublime_text_macos="N/A" data-secondary_textmate="⌃\">Ctrl+F2</kbd>.</p>            <figure><img alt="Close a database connection" title="Close a database connection" src="/help/img/idea/2019.3/db_disconnect_from_data_source.png" id="71f38284" class=" _border-line" width="269" height="394"></figure></li></ul></section>    <section class="procedure-steps"><h3 id="include-assign-a-color-to-a-data-source" data-toc="Configuring_database_connections#include-assign-a-color-to-a-data-source">Assign a color to a data source</h3><p id="573594c6">To have better differentiation between production and test databases, you can assign a color to a data source.</p><a name="select-data-sources-dialog"></a><ol class="list _decimal"><li class="list__item" id="db5a6e9a"><p>                            In the <span class="control">Database </span> tool window                (<span data-skip-index="skip" class="menupath">View | Tool Windows | Database</span>), click the <span class="control">Data Source Properties</span> icon                <img class="inline-icon-16" src="/help/img/idea/2019.3/database-openapi.icons.manageDataSources@2x.png" width="16" alt="The Data Source Properties icon">.                                </p></li><li class="list__item" id="6e3de947"><p>Select the data source for which you want to assign a color.</p></li><li class="list__item" id="9f998585"><p>Click the <span class="control">Choose color</span> icon (<img class="inline-icon-16" src="/help/img/idea/2019.3/platform-impl.com.intellij.ide.ui.laf.icons.win10.radio@2x.png" width="16" alt="The Choose color icon">) and select a color.</p></li><li class="list__item" id="2d634374"><p>Click <span class="control">OK</span>.</p></li></ol><figure><img alt="Assign a color to a data source" title="Assign a color to a data source" src="/help/img/idea/2019.3/db_choose_color_data_source.png" id="a1c1d8dd" class=" _border-line" width="700" height="880"></figure></section>    <div class="chapter"><h2 id="using-jdbc-drivers">Using JDBC drivers</h2>        <section class="procedure-steps"><h3 id="create-a-connection-with-JDBC-driver-procedure" data-toc="Configuring_database_connections#create-a-connection-with-JDBC-driver-procedure">Create a connection to a database with a JDBC driver</h3><p id="5ee5593f">If you cannot find a name of a database vendor in the list of data sources, download a JDBC driver for                the database management system (DBMS), and create a connection in RubyMine. With the JDBC driver, you                can connect to DBMS and start working.</p><a name="select-data-sources-dialog"></a><ol class="list _decimal"><li class="list__item" id="6281f1f5"><p>                            In the <span class="control">Database </span> tool window                (<span data-skip-index="skip" class="menupath">View | Tool Windows | Database</span>), click the <span class="control">Data Source Properties</span> icon                <img class="inline-icon-16" src="/help/img/idea/2019.3/database-openapi.icons.manageDataSources@2x.png" width="16" alt="The Data Source Properties icon">.                                </p></li><li class="list__item" id="84936726"><p id="d574ac25">In the <span class="control">Data Sources and Drivers</span> dialog, click the <span class="control">Add</span> icon (<img class="inline-icon-16" src="/help/img/idea/2019.3/icons.general.add@2x.png" width="16" alt="The Add icon">) and select <span class="control">Driver and                Data Source</span>.</p></li><li class="list__item" id="92bad116"><p id="9ee740fd">Click the <span class="control">User Driver</span> link.</p></li><li class="list__item" id="b60ccd2b"><p id="74aa5f8e">In the <span class="control">Driver files</span> pane, click the <span class="control">Add</span> icon and select                <span class="control">Custom JARs</span>.</p></li><li class="list__item" id="027e1c2e"><p id="3ffca38d">Navigate to the JAR file of the JDBC driver, select it, and click <span class="control">OK</span>.</p></li><li class="list__item" id="c9ee7936"><p id="9725e83b">In the <span class="control">Class</span> field, specify the value that you want to use for the driver.</p></li><li class="list__item" id="36e2897d"><p id="33e66635">Click <span class="control">Apply</span>.</p></li><li class="list__item" id="15816673"><p>Return to the created data source connection.</p></li><li class="list__item" id="6b0cf2c9">            <p id="dcbf99e2">Specify database connection details. Alternatively, paste the JDBC URL in the <span class="control">URL</span> field.            </p>            <p id="bf8effbb">To delete a password, right-click the <span class="control">Password</span> field and select <span class="control">Set empty</span>.</p>        </li><li class="list__item" id="2c830f56"><p id="d2b99ffb">To ensure that the connection to the data source is successful, click <span class="control">Test                Connection</span>.</p></li></ol><figure data-theme="light" id="bb069fc2" width="706"><img class="js-gif" src="/help/img/idea/2019.3/db_create_user_driver_connection.png" data-gif-src="/help/img/idea/2019.3/db_create_user_driver_connection.animated.gif" width="706" style="width:706px;"></figure></section><aside data-type="note" class="prompt" data-title="" rel="create-a-connection-with-JDBC-driver-procedure" id="1b416193"><p id="3f772085">If you connect to the vendor that is not in the list of            <a href="connecting-to-a-database.html">supported data sources</a>, RubyMine uses JDBC metadata for database            object retrieval (introspection) and the <span class="control">Generic SQL</span> dialect. The introspection            with JDBC metadata means that some specific database objects will not appear in the database tree view. For example,            user-defined types (Apache Cassandra), macros (Apache Hive), extensions (PostgreSQL). With the <span class="control">Generic SQL</span> dialect,            you will have basic code completion like <code class="code">SELECT * FROM &lt;table_name&gt;</code>, but code completion            will not include objects that were not retrieved during introspection.</p>        </aside>                <section class="procedure-steps"><h3 id="add-a-user-driver-to-an-existing-procedure" data-toc="Configuring_database_connections#add-a-user-driver-to-an-existing-procedure">Add a JDBC driver to an existing connection</h3><a name="select-data-sources-dialog"></a><ol class="list _decimal"><li class="list__item" id="8e6c4b02"><p>                            In the <span class="control">Database </span> tool window                (<span data-skip-index="skip" class="menupath">View | Tool Windows | Database</span>), click the <span class="control">Data Source Properties</span> icon                <img class="inline-icon-16" src="/help/img/idea/2019.3/database-openapi.icons.manageDataSources@2x.png" width="16" alt="The Data Source Properties icon">.                                </p></li><li class="list__item" id="c631db04"><p id="133a8037">In the <span class="control">Data Sources and Drivers</span> dialog, select a data source where you                want to change a driver, and click the <span class="control">Driver</span> link in data source settings.</p></li><li class="list__item" id="c5bcfef6"><p id="27fa7d18">Click the provided driver entry, and click <span class="control">Remove</span> (<img class="inline-icon-16" src="/help/img/idea/2019.3/icons.general.remove@2x.png" width="16" alt="the Remove button">).</p>                <p id="c3f39e58">To revert changes, click <span class="control">Reset</span> that is in the upper-right part of the window.                    Alternatively, click the <span class="control">Add</span> button (<img class="inline-icon-16" src="/help/img/idea/2019.3/icons.general.add_dark@2x.png" width="16" alt="the Add button">) and select <span data-skip-index="skip" class="menupath">Provided Driver | &lt;database_name&gt; | &lt;driver_version&gt;</span> </p></li><li class="list__item" id="dac4bfbb"><p id="174647bf">In the <span class="control">Driver files</span> pane, click the <span class="control">Add</span> icon (<img class="inline-icon-16" src="/help/img/idea/2019.3/icons.general.add@2x.png" width="16" alt="The Add icon">) and select                <span class="control">Custom JARs</span>.</p></li><li class="list__item" id="f6ab2fdc"><p id="995d4842">Navigate to the JAR file of the JDBC driver, select it, and click <span class="control">OK</span>.</p></li><li class="list__item" id="f7e3320f"><p id="8ec930bd">In the <span class="control">Class</span> field, specify the value that you want to use for the driver.</p></li><li class="list__item" id="9bcc8ba1"><p id="a01e4ada">Click <span class="control">Apply</span>.</p>                <figure data-theme="light" id="3e18423f" width="706"><img class="js-gif" src="/help/img/idea/2019.3/db_add_user_driver_to_connection.png" data-gif-src="/help/img/idea/2019.3/db_add_user_driver_to_connection.animated.gif" width="706" style="width:706px;"></figure>            </li></ol></section>        <section class="procedure-steps"><h3 id="add-an-icon-to-the-user-driver" data-toc="Configuring_database_connections#add-an-icon-to-the-user-driver">Add an icon to a user driver</h3><p id="efff2c46"> You can change the default icon of a user driver.</p><ol class="list _decimal"><li class="list__item" id="8dd74995"><p>In the <span class="control">Database</span> tool window (<span data-skip-index="skip" class="menupath">View | Tool Windows | Database</span>), click                the <span class="control">Data Source Properties</span> icon (<img class="inline-icon-16" src="/help/img/idea/2019.3/database-openapi.icons.manageDataSources@2x.png" width="16" alt="The Data Source Properties icon">) and select the driver that you created. To create a                user driver, see <a href="#add-a-user-driver-to-an-existing-procedure">Add a JDBC driver to an existing connection</a>.</p></li><li class="list__item" id="ccc385fe"><p>Click the <span class="control">Options</span> tab, scroll down to the <span class="control">Other</span> section.</p></li><li class="list__item" id="f49835a2"><p>From the <span class="control">Icon</span> list, select an icon that you want to assign to the driver.</p></li><li class="list__item" id="e6546d9c"><p>Click <span class="control">OK</span>.</p></li></ol><figure><img alt="Add an icon to the user driver" title="Add an icon to the user driver" src="/help/img/idea/2019.3/add_icon_to_user_driver.png" id="ca8b24e9" class=" _border-line" width="700" height="810"></figure></section>    </div>    <div class="chapter"><h2 id="configuring-connection-options">Configuring connection options</h2>        <section class="procedure-steps"><h3 id="enable-single-connection-mode" data-toc="Configuring_database_connections#enable-single-connection-mode">Enable single connection mode</h3><p id="f37d7028">Single connection mode means that the data source and all consoles use one and the same                connection. This mode allows you to see the temporary objects in the database tree, or use the                same transaction in different consoles. For more information about consoles, read <a href="database-console.html">Database Console</a>.</p><p id="0bf85253">When you apply single connection mode, you must close all existing opened connections. RubyMine displays a notification                if you have opened connections. To close opened connections for the selected data source, click <span class="control">Yes</span>.                To close opened connections for all modified data sources, click <span class="control">Yes for all</span>.</p><a name="select-data-sources-dialog"></a><ol class="list _decimal"><li class="list__item" id="e9c28f69"><p>                            In the <span class="control">Database </span> tool window                (<span data-skip-index="skip" class="menupath">View | Tool Windows | Database</span>), click the <span class="control">Data Source Properties</span> icon                <img class="inline-icon-16" src="/help/img/idea/2019.3/database-openapi.icons.manageDataSources@2x.png" width="16" alt="The Data Source Properties icon">.                                </p></li><li class="list__item" id="782a7375"><p>Select the data source where you want to enable single connection mode.</p></li><li class="list__item" id="14d48fa6"><p>Click the <span class="control">Options</span> tab.</p></li><li class="list__item" id="06b660a3"><p>Select <span class="control">Single connection mode</span>.</p></li><li class="list__item" id="2bcf1987"><p>Click <span class="control">Apply</span>.</p></li></ol><figure><img alt="Enable the single connection mode" title="Enable the single connection mode" src="/help/img/idea/2019.3/db_enable_single_connection_mode.png" id="a552f050" class=" _border-line" width="700" height="848"></figure></section>        <section class="procedure-steps"><h3 id="enable-single-database-mode" data-toc="Configuring_database_connections#enable-single-database-mode">Enable single database mode</h3><p id="cad787ee">When you connect to a data source, RubyMine can retrieve and display you all the                databases that the data source has. But in some cases (for example, with certain settings of                PgBouncer), you can or are allowed to work only with a certain database. With the <span class="control">Single                    database mode</span> enabled, you see in the database tree view only the database that you                specified in the connection settings, not all the databases that were received from the data source.            </p><p id="a801f006">Consider using this setting, for PostgreSQL, Azure SQL Database, Greenplum, Amazon Redshift.</p><a name="select-data-sources-dialog"></a><ol class="list _decimal"><li class="list__item" id="b5db3446"><p>                            In the <span class="control">Database </span> tool window                (<span data-skip-index="skip" class="menupath">View | Tool Windows | Database</span>), click the <span class="control">Data Source Properties</span> icon                <img class="inline-icon-16" src="/help/img/idea/2019.3/database-openapi.icons.manageDataSources@2x.png" width="16" alt="The Data Source Properties icon">.                                </p></li><li class="list__item" id="b16c6bd6"><p>Select the data source where you want to enable the single connection mode.</p></li><li class="list__item" id="68367bc9"><p>Click the <span class="control">Options</span> tab.</p></li><li class="list__item" id="268648d1"><p>Select <span class="control">Single database mode</span>.</p></li><li class="list__item" id="d981f11e"><p>Click <span class="control">Apply</span>.</p></li></ol><figure><img alt="Enable the single database mode" title="Enable the single database mode" src="/help/img/idea/2019.3/db_enable_single_database_mode.png" id="c10c77b7" class=" _border-line" width="700" height="838"></figure></section>        <section class="procedure-steps"><h3 id="enable-read-only-mode-for-a-connection" data-toc="Configuring_database_connections#enable-read-only-mode-for-a-connection">Enable read-only mode for a connection</h3><ol class="list _decimal"><li class="list__item" id="79c4cfca"><p>Navigate to <span data-skip-index="skip" class="menupath">File | Data sources</span> <kbd data-primary_default_for_windows="Shift+Enter" data-primary_default_for_macos="⌘+I" data-primary_intellij_idea_classic_macos="Shift+Enter" data-primary_emacs="Shift+Enter" data-primary_visual_studio="Shift+Enter" data-primary_default_for_xwin="Shift+Enter" data-primary_default_for_gnome="Shift+Enter" data-primary_default_for_kde="Shift+Enter" data-primary_eclipse="Shift+Enter" data-primary_eclipse_macos="⌘+I" data-primary_netbeans="Shift+Enter" data-primary_sublime_text="Shift+Enter" data-primary_sublime_text_macos="⌘+I" data-primary_textmate="Shift+Enter" data-secondary_default_for_windows="⇧⏎" data-secondary_default_for_macos="⌘I" data-secondary_intellij_idea_classic="⇧⏎" data-secondary_emacs="⇧⏎" data-secondary_visual_studio="⇧⏎" data-secondary_default_for_xwin="⇧⏎" data-secondary_default_for_gnome="⇧⏎" data-secondary_default_for_kde="⇧⏎" data-secondary_eclipse="⇧⏎" data-secondary_eclipse_macos="⌘I" data-secondary_netbeans="⇧⏎" data-secondary_sublime_text="⇧⏎" data-secondary_sublime_text_macos="⌘I" data-secondary_textmate="⇧⏎">Shift+Enter</kbd>.</p></li><li class="list__item" id="2bb0b7ed"><p>In the <span class="control">Data Sources</span> list, select the necessary data source.</p></li><li class="list__item" id="29201a2a"><p>Click the <span class="control">Options</span> tab.</p></li><li class="list__item" id="cef3a248"><p>Select the <span class="control">Read-only</span> checkbox.</p></li></ol><figure><img alt="Enable read-only mode for a connection" title="Enable read-only mode for a connection" src="/help/img/idea/2019.3/db_enable_read_only_for_connection.png" id="7d2ecc85" class=" _border-line" width="700" height="862"></figure></section>        <section class="procedure-steps"><h3 id="keep-the-connection-alive" data-toc="Configuring_database_connections#keep-the-connection-alive">Keep the connection alive</h3><p id="b63899f4">You can keep the connection to a database alive by running a keep-alive query after the specified period.                You can define the custom query in the driver settings for unsupported databases.</p><a name="select-data-sources-dialog"></a><ol class="list _decimal"><li class="list__item" id="c1940f9a"><p>                            In the <span class="control">Database </span> tool window                (<span data-skip-index="skip" class="menupath">View | Tool Windows | Database</span>), click the <span class="control">Data Source Properties</span> icon                <img class="inline-icon-16" src="/help/img/idea/2019.3/database-openapi.icons.manageDataSources@2x.png" width="16" alt="The Data Source Properties icon">.                                </p></li><li class="list__item" id="d4cb45b7"><p>Select a data source that you want to modify.</p></li><li class="list__item" id="2f088f6f"><p>On the <span class="control">Options</span> tab, select the <span class="control">Run keep-alive query each N seconds</span> checkbox,                where <code class="code">N</code> is a number of seconds after which RubyMine runs a keep-alive query again.</p></li></ol></section><aside data-type="tip" class="prompt" data-title="" rel="keep-the-connection-alive" id="ae8384c4"><p id="ce34929d">To set a custom keep-alive query for a driver, select the necessary driver in the            <span class="control">Drivers</span> list. Click the <span class="control">Options</span> tab. In the <span class="control">Keep-alive query</span>            field, specify the query that you want to use as a keep-alive query.</p></aside>                <section class="procedure-steps"><h3 id="disconnect-from-a-database-in-a-specified-period" data-toc="Configuring_database_connections#disconnect-from-a-database-in-a-specified-period">Disconnect from a database in a specified period</h3><p id="98363eef">You can specify a period in seconds after which RubyMine terminates the connection.</p><a name="select-data-sources-dialog"></a><ol class="list _decimal"><li class="list__item" id="0cb21833"><p>                            In the <span class="control">Database </span> tool window                (<span data-skip-index="skip" class="menupath">View | Tool Windows | Database</span>), click the <span class="control">Data Source Properties</span> icon                <img class="inline-icon-16" src="/help/img/idea/2019.3/database-openapi.icons.manageDataSources@2x.png" width="16" alt="The Data Source Properties icon">.                                </p></li><li class="list__item" id="591d7fdf"><p>Select a data source that you want to modify and click the <span class="control">Options</span> tab.</p></li><li class="list__item" id="8ff6c588"><p>On the <span class="control">Options</span> tab, select the <span class="control">Auto-disconnect after N seconds</span> checkbox,                where <code class="code">N</code> is a number of seconds after which RubyMine terminates the connection.</p></li></ol></section>        <section class="procedure-steps"><h3 id="set-a-time-zone-for-a-session" data-toc="Configuring_database_connections#set-a-time-zone-for-a-session">Set a time zone for a session</h3><p id="562a6c40">When you start interacting with a database, you begin a database session. You can assign a time zone in which                this session will operate.</p><a name="select-data-sources-dialog"></a><ol class="list _decimal"><li class="list__item" id="f88aee99"><p>                            In the <span class="control">Database </span> tool window                (<span data-skip-index="skip" class="menupath">View | Tool Windows | Database</span>), click the <span class="control">Data Source Properties</span> icon                <img class="inline-icon-16" src="/help/img/idea/2019.3/database-openapi.icons.manageDataSources@2x.png" width="16" alt="The Data Source Properties icon">.                                </p></li><li class="list__item" id="cca8a136"><p>Select a data source that you want to modify and click the <span class="control">Options</span> tab.</p></li><li class="list__item" id="02954b36"><p>In the <span class="control">Time zone</span> field, start typing the time zone that you want to use.</p></li><li class="list__item" id="9c6f21eb"><p>Apply settings and click <span class="control">OK</span>.</p></li></ol><figure><img alt="Select a time zone in the Time zone field" title="Select a time zone in the Time zone field" src="/help/img/idea/2019.3/db_set_time_zone.png" id="5a90584a" class=" _border-line" width="700" height="1344"></figure></section>        <section class="procedure-steps"><h3 id="7e16e476" data-toc="Configuring_database_connections#7e16e476">Run a predefined SQL query as you establish a connection</h3><p id="4db4861c">You can run a predefined SQL query each time you establish a connection.</p><a name="select-data-sources-dialog"></a><ol class="list _decimal"><li class="list__item" id="614cb28c"><p>                            In the <span class="control">Database </span> tool window                (<span data-skip-index="skip" class="menupath">View | Tool Windows | Database</span>), click the <span class="control">Data Source Properties</span> icon                <img class="inline-icon-16" src="/help/img/idea/2019.3/database-openapi.icons.manageDataSources@2x.png" width="16" alt="The Data Source Properties icon">.                                </p></li><li class="list__item" id="5fd2964d"><p>Select a data source that you want to modify.</p></li><li class="list__item" id="efe3c9b7"><p>On the <span class="control">Options</span> tab, in the <span class="control">Startup script</span> field, specify the SQL                query that you plan to run on a connection to a database.</p></li></ol><figure><img alt="Run a predefined SQL query as you establish a connection" title="Run a predefined SQL query as you establish a connection" src="/help/img/idea/2019.3/db_specify_startup_script.png" id="68be574a" class=" _border-line" width="700" height="856"></figure></section>        <aside data-type="note" class="prompt" data-title="" rel="7e16e476" id="5c9a186b"><p id="bf7bd037">If the <span class="control">Single connection mode</span> checkbox is cleared, each new console creates a new connection.        </p></aside>        <section class="procedure-steps"><h3 id="fetch-more-fields-for-mongodb-introspection" data-toc="Configuring_database_connections#fetch-more-fields-for-mongodb-introspection">Fetch more fields for MongoDB introspection</h3><p id="30bc0938">You can observe collections and fields in the database explorer. RubyMine fetches the first 10 documents from each              collection to get information about the fields. You can customize this behavior by specifying the              <code class="code">fetch_documents_for_metainfo</code> JDBC parameter on the <span class="control">Advanced</span> tab of the data              source properties dialog.</p><ol class="list _decimal"><li class="list__item" id="03137306"><p>In the <span class="control">Database</span> tool window (<span data-skip-index="skip" class="menupath">View | Tool Windows | Database</span>), right-click          MongoDB data source and select <span class="control">Properties</span>.</p></li><li class="list__item" id="f0808a7c"><p>Click the <span class="control">Advanced</span> tab.</p></li><li class="list__item" id="48c822e1"><p>In the parameter table, scroll down till you see <code class="code">fetch_documents_for_metainfo</code>.</p></li><li class="list__item" id="09188f56"><p>Double-click the <span class="control">Value</span> cell of the <code class="code">fetch_documents_for_metainfo</code> parameter.</p></li><li class="list__item" id="ac9447f6"><p>Specify the desired value.</p></li></ol></section>    </div>    <div class="chapter"><h2 id="ssh-and-ssl">Configuring SSH and SSL</h2>        <p id="49106d94">The following procedure describes the SSL configuration that suits most databases. For some databases, you need            to use another approach for a successful connection.                        You can see configuration examples for                <a href="/help/datagrip/how-to-connect-to-cassandra-with-ssl.html" data-external="true" target="_blank" rel="noopener noreferrer">Cassandra</a> and <a href="/help/datagrip/how-to-connect-to-heroku-postgres.html" data-external="true" target="_blank" rel="noopener noreferrer">Heroku Postgres</a> in the DataGrip documentation.            </p>        <a name="ssh_ssl_settings"></a>            <section class="procedure-steps"><h3 id="connect-to-a-database-with-ssl-procedure" data-toc="Configuring_database_connections#connect-to-a-database-with-ssl-procedure">Connect to a database with SSL</h3><a name="select-data-sources-dialog"></a><ol class="list _decimal"><li class="list__item" id="8929615d"><p>                            In the <span class="control">Database </span> tool window                (<span data-skip-index="skip" class="menupath">View | Tool Windows | Database</span>), click the <span class="control">Data Source Properties</span> icon                <img class="inline-icon-16" src="/help/img/idea/2019.3/database-openapi.icons.manageDataSources@2x.png" width="16" alt="The Data Source Properties icon">.                                </p></li><li class="list__item" id="99bde42d">                    <p id="3d481e18">Select a data source profile where you want to change connection settings.</p>                </li><li class="list__item" id="809de312">                    <p id="4f0bf24b">Click the <span class="control">SSH/SSL</span> tab and select the <span class="control">Use SSL</span> checkbox.                    </p>                </li><li class="list__item" id="eb1d4fd3">                    <p id="2a4623b9">In the <span class="control">CA file</span> field, navigate to the CA certificate file (for example,                        <span class="filepath">ca.pem</span>).                    </p>                </li><li class="list__item" id="6b0ff121">                    <p id="86d982a8">In the <span class="control">Client certificate file</span> field, navigate to the client certificate file                        (for example, <span class="filepath">client-cert.pem</span>).                    </p>                </li><li class="list__item" id="9c36048b">                    <p id="dcdeee81">In the <span class="control">Client key file</span> field, navigate to the client key file                        (for example, <span class="filepath">client-key.pem</span>).                    </p>                </li><li class="list__item" id="2afeb5b2">                    <p id="3413f2c7">To ensure that the connection to the data source is successful, click <span class="control">Test                        Connection</span>.                    </p>                </li></ol><figure><img alt="Connect to a database with SSL" title="Connect to a database with SSL" src="/help/img/idea/2019.3/db_connect_with_ssl.png" id="9cdb83ad" class=" _border-line" width="700" height="986"></figure></section><aside data-type="note" class="prompt" data-title="" rel="connect-to-a-database-with-ssl-procedure" id="fb672ad4">                <p id="073bf7cc">It is recommended to use PEM certificates.</p>            </aside><aside data-type="note" class="prompt" data-title="" rel="connect-to-a-database-with-ssl-procedure" id="78d33e58">                <p id="a15a146f">With self-signed certificates and in some cases with certificates issued by the trusted root                    entity, you might experience errors when you use the latest JDBC driver version. The SSL                    connection might fail if your Java keystore does not accept the certificate chains.                    As a temporary solution, try to downgrade the JDBC driver (for example, for the MySQL connector, you                    need to switch to the 5.1.40 version.)                </p>            </aside>                                    <section class="procedure-steps"><h3 id="connect-to-a-database-with-ssh-procedure" data-toc="Configuring_database_connections#connect-to-a-database-with-ssh-procedure">Connect to a database with SSH</h3><a name="select-data-sources-dialog"></a><ol class="list _decimal"><li class="list__item" id="b2871dd8"><p>                            In the <span class="control">Database </span> tool window                (<span data-skip-index="skip" class="menupath">View | Tool Windows | Database</span>), click the <span class="control">Data Source Properties</span> icon                <img class="inline-icon-16" src="/help/img/idea/2019.3/database-openapi.icons.manageDataSources@2x.png" width="16" alt="The Data Source Properties icon">.                                </p></li><li class="list__item" id="bde92c75"><p id="8ccad6e1">Select a data source profile where you want to change connection settings.</p></li><li class="list__item" id="a31d30ef"><p id="2b8bc9ce">Click the <span class="control">SSH/SSL</span> tab and select the <span class="control">Use SSH tunnel</span> checkbox.</p></li><li class="list__item" id="31e8ba83"><p id="b964b7f8">In <span class="control">Proxy host</span>, <span class="control">Proxy user</span>, <span class="control">Proxy password</span>, and                    <span class="control">Port</span> fields, specify connection details.</p></li><li class="list__item" id="ssh_authentication_db"><p id="d22e32c5">From the <span class="control">Auth type</span> list, select an                    authentication method:                    <ul class="list _bullet"><li class="list__item" id="fbd9e91e">            <p id="44ca97da">            <span class="control">Password</span>: to access the host with a password. Specify the password, and select the            <span class="control">Save password</span> checkbox to save the password in RubyMine.            </p>        </li><li class="list__item" id="af4f092c">            <p id="69064d56"><span class="control">Key pair (OpenSSH or PuTTY)</span>: to use <a href="http://www.ssh.com/" data-external="true" target="_blank" rel="noopener noreferrer">SSH authentication</a> with a key pair.                <a name="authenticationMethodSSH"></a>        To apply this authentication method, you must have a private key on the client machine and a public key on        the remote server.        RubyMine supports private keys that are generated with the <a href="http://www.openssh.com/" data-external="true" target="_blank" rel="noopener noreferrer">OpenSSH</a>        utility.                </p>            <p id="1b63eb3c">Specify the path to the file where your <span class="emphasis">private key</span> is stored and type the passphrase (if any) in the corresponding fields. To have RubyMine remember the passphrase, select the <span class="control">Save passphrase</span> checkbox.            </p>        </li><li class="list__item" id="25e64320">            <p id="00697f92">            <span class="control">OpenSSH config and authentication agent</span>: to use SSH keys that are managed by a            credentials helper application (for example, <a href="https://the.earth.li/~sgtatham/putty/0.70/htmldoc/Chapter9.html#pageant" data-external="true" target="_blank" rel="noopener noreferrer">Pageant</a> on Windows            or <a href="https://en.wikipedia.org/wiki/Ssh-agent" data-external="true" target="_blank" rel="noopener noreferrer">ssh-agent</a> on Mac and Linux).            </p>        </li></ul>                </p></li><li class="list__item" id="72cca56c"><p id="6b5de7b0">To ensure that the connection to the data source is successful, click <span class="control">Test                    Connection</span>.</p></li></ol><figure><img alt="SSH and SSL settings of a data source" title="SSH and SSL settings of a data source" src="/help/img/idea/2019.3/db_data_source_ssh_ssl_settings.png" id="4edd935a" class=" _border-line" width="700" height="974"></figure></section>                        <section class="procedure-steps"><h3 id="create-the-ssh-tunnel-with-putty" data-toc="Configuring_database_connections#create-the-ssh-tunnel-with-putty">Create the SSH tunnel with PuTTY (Windows)</h3><ol class="list _decimal"><li class="list__item" id="5729e289"><p>Download and run the latest version of the PuTTY SSH and Telnet client (download the client from                    <a href="https://www.putty.org/" data-external="true" target="_blank" rel="noopener noreferrer">https://www.putty.org/</a>).</p></li><li class="list__item" id="853d1be1"><p>In the <span class="control">PuTTY Configuration</span> dialog, navigate to <span data-skip-index="skip" class="menupath">Connection | SSH |                    Auth</span>.</p></li><li class="list__item" id="5d8f3ca9"><p>In the <span class="control">Private key file for authentication</span> field, specify the path to                    your private key file and click <span class="control">Open</span>.</p></li><li class="list__item" id="66ac7cc6"><p>In the command line window, specify the username that you use for the SSH tunnel and press                    <kbd data-primary_default_for_windows="Enter" data-primary_default_for_macos="Enter" data-primary_intellij_idea_classic_macos="Enter" data-primary_emacs="Enter" data-primary_visual_studio="Enter" data-primary_default_for_xwin="Enter" data-primary_default_for_gnome="Enter" data-primary_default_for_kde="Enter" data-primary_eclipse="Enter" data-primary_eclipse_macos="Enter" data-primary_netbeans="Enter" data-primary_sublime_text="Enter" data-primary_sublime_text_macos="Enter" data-primary_textmate="Enter" data-secondary_default_for_windows="⏎" data-secondary_default_for_macos="⏎" data-secondary_intellij_idea_classic="⏎" data-secondary_emacs="⏎" data-secondary_visual_studio="⏎" data-secondary_default_for_xwin="⏎" data-secondary_default_for_gnome="⏎" data-secondary_default_for_kde="⏎" data-secondary_eclipse="⏎" data-secondary_eclipse_macos="⏎" data-secondary_netbeans="⏎" data-secondary_sublime_text="⏎" data-secondary_sublime_text_macos="⏎" data-secondary_textmate="⏎">Enter</kbd>. Do not close the command line window.</p></li><li class="list__item" id="7610375c"><p>            In the Database window (<span data-skip-index="skip" class="menupath">View | Tool Windows | Database</span>),            click the            <span class="control">Data Source Properties</span> icon            <img class="inline-icon-16" src="/help/img/idea/2019.3/database-openapi.icons.manageDataSources@2x.png" width="16" alt="the Data Source Properties icon">            on the toolbar.        </p></li><li class="list__item" id="070738fb"><p id="07459436">Select a data source profile where you want to change connection settings.</p></li><li class="list__item" id="06327fc8"><p id="6f7373e1">Click the <span class="control">SSH/SSL</span> tab and select the <span class="control">Use SSH tunnel</span> checkbox.</p></li><li class="list__item" id="76e3968c"><p>From the <span class="control">Auth type</span> list, select <span class="control">OpenSSH config and authentication agent</span>.</p></li><li class="list__item" id="b01ce368"><p id="83447fda">In <span class="control">Proxy host</span>, <span class="control">Proxy user</span>, and            <span class="control">Port</span> fields, specify connection details.</p></li><li class="list__item" id="cdf97752"><p id="0585ee75">To ensure that the connection to the data source is successful, click <span class="control">Test            Connection</span>.</p></li></ol><figure><img alt="Create the SSH tunnel with PuTTY (Windows)" title="Create the SSH tunnel with PuTTY (Windows)" src="/help/img/idea/2019.3/db_putty_key_config.png" id="717a654e" width="426" height="580"></figure></section>            <section class="procedure-steps"><h3 id="create-the-ssh-tunnel-with-pageant" data-toc="Configuring_database_connections#create-the-ssh-tunnel-with-pageant">Create the SSH tunnel with Pageant (Windows)</h3><p id="01b0e2fd">Pageant is an SSH authentication agent for PuTTY, PSCP, PSFTP, and Plink. Pageant stores                    your private key, and as long as it is running, it provides the unlocked private key to PuTTY                    or other tools like RubyMine. You can find the Pageant icon in the Windows taskbar.                </p><ol class="list _decimal"><li class="list__item" id="9f6cac8b"><p>Download the latest version of Pageant (download the client from                    <a href="https://www.putty.org/" data-external="true" target="_blank" rel="noopener noreferrer">https://www.putty.org/</a>).</p></li><li class="list__item" id="8e28a38b"><p>In the Windows taskbar, right-click the Pageant icon and select <span class="control">Add Key</span>.                </p></li><li class="list__item" id="cd710acc"><p>In the <span class="control">Select Private Key File</span> dialog, navigate to the private key file (the                    PPK file) and click <span class="control">Open</span>.</p></li><li class="list__item" id="ddbb5c8a"><p>(Optional) Enter the private key passphrase and press <kbd data-primary_default_for_windows="Enter" data-primary_default_for_macos="Enter" data-primary_intellij_idea_classic_macos="Enter" data-primary_emacs="Enter" data-primary_visual_studio="Enter" data-primary_default_for_xwin="Enter" data-primary_default_for_gnome="Enter" data-primary_default_for_kde="Enter" data-primary_eclipse="Enter" data-primary_eclipse_macos="Enter" data-primary_netbeans="Enter" data-primary_sublime_text="Enter" data-primary_sublime_text_macos="Enter" data-primary_textmate="Enter" data-secondary_default_for_windows="⏎" data-secondary_default_for_macos="⏎" data-secondary_intellij_idea_classic="⏎" data-secondary_emacs="⏎" data-secondary_visual_studio="⏎" data-secondary_default_for_xwin="⏎" data-secondary_default_for_gnome="⏎" data-secondary_default_for_kde="⏎" data-secondary_eclipse="⏎" data-secondary_eclipse_macos="⏎" data-secondary_netbeans="⏎" data-secondary_sublime_text="⏎" data-secondary_sublime_text_macos="⏎" data-secondary_textmate="⏎">Enter</kbd>.</p></li><li class="list__item" id="1b9b410b"><p>            In the Database window (<span data-skip-index="skip" class="menupath">View | Tool Windows | Database</span>),            click the            <span class="control">Data Source Properties</span> icon            <img class="inline-icon-16" src="/help/img/idea/2019.3/database-openapi.icons.manageDataSources@2x.png" width="16" alt="the Data Source Properties icon">            on the toolbar.        </p></li><li class="list__item" id="4e0ce6ad"><p id="c8390c29">Select a data source profile where you want to change connection settings.</p></li><li class="list__item" id="8c2aa922"><p id="23c846b4">Click the <span class="control">SSH/SSL</span> tab and select the <span class="control">Use SSH tunnel</span> checkbox.</p></li><li class="list__item" id="cedef7d9"><p>From the <span class="control">Auth type</span> list, select <span class="control">OpenSSH config and authentication agent</span>.</p></li><li class="list__item" id="c752aba1"><p id="ba77b637">In <span class="control">Proxy host</span>, <span class="control">Proxy user</span>, and            <span class="control">Port</span> fields, specify connection details.</p></li><li class="list__item" id="08da4888"><p id="ddbdf649">To ensure that the connection to the data source is successful, click <span class="control">Test            Connection</span>.</p></li></ol><figure><img alt="Create the SSH tunnel with Pageant (Windows)" title="Create the SSH tunnel with Pageant (Windows)" src="/help/img/idea/2019.3/db_task_area_pageant.png" id="85b2a352" width="191" height="326"></figure></section>            <section class="procedure-steps"><h3 id="create-the-ssh-tunnel-with-the-ssh-agent" data-toc="Configuring_database_connections#create-the-ssh-tunnel-with-the-ssh-agent">Create the SSH tunnel with the ssh-agent (macOS and Linux)</h3><p id="364785cd">Run all commands for ssh-agent in the command line.</p><ol class="list _decimal"><li class="list__item" id="a120efb3"><p>Ensure that ssh-agent is running. <div class="code-block" data-lang="none">ssh-agent</div></p></li><li class="list__item" id="8a039ccc"><p>Add your key to the agent (in the following example, the key path is <span class="filepath">~/.ssh/id_rsa</span>).                    <div class="code-block" data-lang="none">ssh-add ~/.ssh/id_rsa</div></p></li><li class="list__item" id="45644157">                    <p id="c56e8818">(Optional) On macOS, you can add <code class="code">-K</code> option to the <code class="code">ssh-add</code> command to                        store passphrases in your keychain. On macOS Sierra and later, you need to create the                        <span class="filepath">config</span> file in <span class="filepath">~/.ssh/</span> with the following text:                    </p>                    <div class="code-block" data-lang="none">
                        Host *
                        UseKeychain yes
                        AddKeysToAgent yes
                        IdentityFile ~/.ssh/id_rsa
    </div>                    <p id="f7cbd55c">If you have other private keys in the <span class="filepath">.ssh</span> directory, add an <code class="code">IdentityFile</code>                        line for each key. For example, if the second key has the <span class="filepath">id_ed25519</span> name, add                        <code class="code">IdentityFile ~/.ssh/id_ed25519</code> as an additional line for the second private key.                    </p>                </li><li class="list__item" id="a8af77f7"><p>List all added keys. <div class="code-block" data-lang="none">ssh-add -L</div></p></li><li class="list__item" id="232df713"><p>            In the Database window (<span data-skip-index="skip" class="menupath">View | Tool Windows | Database</span>),            click the            <span class="control">Data Source Properties</span> icon            <img class="inline-icon-16" src="/help/img/idea/2019.3/database-openapi.icons.manageDataSources@2x.png" width="16" alt="the Data Source Properties icon">            on the toolbar.        </p></li><li class="list__item" id="b06da2d1"><p id="680ed6f1">Select a data source profile where you want to change connection settings.</p></li><li class="list__item" id="a8166743"><p id="f86919b5">Click the <span class="control">SSH/SSL</span> tab and select the <span class="control">Use SSH tunnel</span> checkbox.</p></li><li class="list__item" id="77ff57dd"><p>From the <span class="control">Auth type</span> list, select <span class="control">OpenSSH config and authentication agent</span>.</p></li><li class="list__item" id="a8c9e7ee"><p id="b311124f">In <span class="control">Proxy host</span>, <span class="control">Proxy user</span>, and            <span class="control">Port</span> fields, specify connection details.</p></li><li class="list__item" id="0c35a761"><p id="fd2d73b4">To ensure that the connection to the data source is successful, click <span class="control">Test            Connection</span>.</p></li></ol><figure><img alt="Create the SSH tunnel with the ssh-agent (macOS and Linux)" title="Create the SSH tunnel with the ssh-agent (macOS and Linux)" src="/help/img/idea/2019.3/db_ssh_agent_linux_macos.png" id="7b65e03d" width="570" height="510"></figure></section>            </div>    <div class="last-modified" data-skip-index="skip">Last modified: 28 November 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="connecting-to-a-database.html">Connecting to a database</a><a class="navigation-links__next" href="run-a-query.html">Run a query</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>