<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>Using extract and inline refactorings - Help | GoLand</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body data-id="Using_Extract_and_Inline_refactorings" data-breadcrumbs="Tutorials-a-b.xml|Tutorials/Using_Extract_and_Inline_refactorings.xml|Using extract and inline refactorings" data-main-title="Using extract and inline refactorings"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search GoLand Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>GoLand 2019.3 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="primary" value="primary_default_for_windows" selected>Default for Windows</option><option data-group="primary" value="primary_default_for_macos">Default for macOS</option><option data-group="primary" value="primary_intellij_idea_classic_macos">IntelliJ IDEA Classic (macOS)</option><option data-group="primary" value="primary_emacs">Emacs</option><option data-group="primary" value="primary_visual_studio">Visual Studio</option><option data-group="primary" value="primary_default_for_xwin">Default for XWin</option><option data-group="primary" value="primary_default_for_gnome">Default for GNOME</option><option data-group="primary" value="primary_default_for_kde">Default for KDE</option><option data-group="primary" value="primary_eclipse">Eclipse</option><option data-group="primary" value="primary_eclipse_macos">Eclipse (macOS)</option><option data-group="primary" value="primary_netbeans">NetBeans</option><option data-group="primary" value="primary_sublime_text">Sublime Text</option><option data-group="primary" value="primary_sublime_text_macos">Sublime Text (macOS)</option><option data-group="secondary" value="secondary_default_for_windows">Default for Windows</option><option data-group="secondary" value="secondary_default_for_macos">Default for macOS</option><option data-group="secondary" value="secondary_intellij_idea_classic">IntelliJ IDEA Classic</option><option data-group="secondary" value="secondary_emacs">Emacs</option><option data-group="secondary" value="secondary_visual_studio">Visual Studio</option><option data-group="secondary" value="secondary_default_for_xwin">Default for XWin</option><option data-group="secondary" value="secondary_default_for_gnome">Default for GNOME</option><option data-group="secondary" value="secondary_default_for_kde">Default for KDE</option><option data-group="secondary" value="secondary_eclipse">Eclipse</option><option data-group="secondary" value="secondary_eclipse_macos">Eclipse (macOS)</option><option data-group="secondary" value="secondary_netbeans">NetBeans</option><option data-group="secondary" value="secondary_sublime_text">Sublime Text</option><option data-group="secondary" value="secondary_sublime_text_macos">Sublime Text (macOS)</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 data-toc="Using_Extract_and_Inline_refactorings" id="Using_Extract_and_Inline_refactorings.xml">Using extract and inline refactorings</h1><p id="4cdc96ab">With extract and inline refactorings, you can quickly clean up your code and make it more streamlined or explicit.</p>    <section class="procedure-steps"><h3 id="extract-a-variable">Extract a variable</h3><ol class="list _decimal"><li class="list__item" id="2931e0df"><p>Select and right-click the following code fragment: <code class="code">&amp;User{ ID: 1, Name: "Smith",}</code>.</p></li><li class="list__item" id="693800a7"><p>Navigate to <span data-skip-index="skip" class="menupath">Refactor | Extract | Variable</span>.</p></li><li class="list__item" id="f17ad9fa"><p>Type <span class="control">u</span> as a name for a new variable.</p></li></ol><figure><img alt="Extract a variable" title="Extract a variable" src="/help/img/idea/2019.3/go_tutorial_extract_inline_variable.png" id="add8aebb" width="800" height="1186"></figure><section class="procedure-steps"><div class="collapse"><div class="collapse__title"><h3 id="005ea8d8">Code snippet</h3></div><div class="collapse__content">             <div class="code-block" data-lang="go">package main

import (
	"errors"
	"fmt"
	"log"
)

type User struct {
	ID   int
	Name string
}

func findUser(user string) (*User, error) {
	if user != "smith" {
		return nil, errors.New("user not found")
	}
	return &amp;User{
		ID:   1,
		Name: "Smith",
	}, nil
}

func main() {
	user, err := findUser("smith")
	if err != nil {
		log.Fatalf("could not find user %s\n", "smith")
	}

	fmt.Printf("user found: %#v\n", user)
}</div>        </div></div></section></section>    <section class="procedure-steps"><h3 id="extract-method">Extract methods</h3><ol class="list _decimal"><li class="list__item" id="5393533c"><p>Select and right-click the following code fragment: <code class="code">&amp;User{ ID: 1, Name: "Smith",}</code>.</p></li><li class="list__item" id="c8862490"><p>Navigate to <span data-skip-index="skip" class="menupath">Refactor | Extract | Method</span>.</p></li></ol><figure><img alt="Extract methods" title="Extract methods" src="/help/img/idea/2019.3/go_extract_method.png" id="8aa27c5c" width="537" height="942"></figure><section class="procedure-steps"><div class="collapse"><div class="collapse__title"><h3 id="4b689ac2">Code snippet</h3></div><div class="collapse__content">            <div class="code-block" data-lang="go">package main

import "fmt"

type rect struct {
	width, height int
}

func main() {
	r := rect{width: 10, height: 5}
	perim := 2*r.width + 2*r.height
	area := r.width * r.height
	fmt.Println("area: ", area)
	fmt.Println("perim: ", perim)
}

            </div>        </div></div></section></section>    <a name="extract_constant_go"></a>                     <section class="procedure-steps"><h3 id="extract_constant">Extract a constant</h3><ol class="list _decimal"><li class="list__item" id="54458104"><p>In the editor, select an expression or declaration of a variable you want to replace with a constant.</p></li><li class="list__item" id="09003666">               <p id="1cfd2173">Press                   <kbd data-primary_default_for_windows="Ctrl+Alt+C" data-primary_default_for_macos="Alt+⌘+C" data-primary_intellij_idea_classic_macos="Alt+⌘+C" data-primary_emacs="Ctrl+Alt+C" data-primary_visual_studio="Ctrl+Alt+C" data-primary_default_for_xwin="Ctrl+Alt+C" data-primary_default_for_gnome="Ctrl+Alt+C" data-primary_default_for_kde="Ctrl+Alt+C" data-primary_eclipse="Ctrl+Alt+C" data-primary_eclipse_macos="N/A" data-primary_netbeans="Shift+Alt+C" data-primary_sublime_text="Ctrl+Alt+C" data-primary_sublime_text_macos="Alt+⌘+C" data-secondary_default_for_windows="⌃⌥C" data-secondary_default_for_macos="⌥⌘C" data-secondary_intellij_idea_classic="⌥⌘C" data-secondary_emacs="⌃⌥C" data-secondary_visual_studio="⌃⌥C" data-secondary_default_for_xwin="⌃⌥C" data-secondary_default_for_gnome="⌃⌥C" data-secondary_default_for_kde="⌃⌥C" data-secondary_eclipse="⌃⌥C" data-secondary_eclipse_macos="N/A" data-secondary_netbeans="⌥⇧C" data-secondary_sublime_text="⌃⌥C" data-secondary_sublime_text_macos="⌥⌘C">Ctrl+Alt+C</kbd>                   to introduce a constant or select <span data-skip-index="skip" class="menupath">Refactor |                       Extract | Constant</span>.               </p>                                             <p id="36028b69">Select an expression you want to extract as constant and press <kbd data-primary_default_for_windows="Enter" data-primary_default_for_macos="Enter" data-primary_intellij_idea_classic_macos="Enter" data-primary_emacs="Enter" data-primary_visual_studio="Enter" data-primary_default_for_xwin="Enter" data-primary_default_for_gnome="Enter" data-primary_default_for_kde="Enter" data-primary_eclipse="Enter" data-primary_eclipse_macos="Enter" data-primary_netbeans="Enter" data-primary_sublime_text="Enter" data-primary_sublime_text_macos="Enter" data-secondary_default_for_windows="⏎" data-secondary_default_for_macos="⏎" data-secondary_intellij_idea_classic="⏎" data-secondary_emacs="⏎" data-secondary_visual_studio="⏎" data-secondary_default_for_xwin="⏎" data-secondary_default_for_gnome="⏎" data-secondary_default_for_kde="⏎" data-secondary_eclipse="⏎" data-secondary_eclipse_macos="⏎" data-secondary_netbeans="⏎" data-secondary_sublime_text="⏎" data-secondary_sublime_text_macos="⏎">Enter</kbd>.               Select the number of occurrences you want to replace and a name you want to use.               </p>                          </li></ol><figure><img alt="Example of the extract a constant refactoring" title="Example of the extract a constant refactoring" src="/help/img/idea/2019.3/go_extract_constant.png" id="79763018" width="639" height="602"></figure><section class="procedure-steps"><div class="collapse"><div class="collapse__title"><h3 id="651a4bb2">Code snippet</h3></div><div class="collapse__content">               <div class="code-block" data-lang="go">
                   package main

                   import "fmt"

                   func plus(a int, b int) int {
                   return a + b
                   }

                   func plusPlus(a, b, c int) int {
                   return a + b + c
                   }

                   func main() {
                   res := plus(1, 2)
                   fmt.Println("1+2+3·=", res)

                   res = plusPlus(1, 2, 3)
                   fmt.Println("1+2+3·=", res)
                   }
               </div>           </div></div></section></section><aside data-type="note" class="prompt" data-title="" rel="extract_constant" id="c398dbf6">                   <p id="e982e248">The in-place refactoring is available by default, you can control it through the                       <span class="control">Enable in-place mode</span> checkbox that is located in <span data-skip-index="skip" class="menupath">Settings/Preferences |                           Editor | General</span> (scroll down to the <i id="9845fe55" origin="intellij-platform">Refactorings</i> section).                   </p>                   <p id="8feb3c41">If you clear this checkbox, GoLand will use the <span class="control">Extract Constant</span>                       dialog for this refactoring.                   </p>               </aside>          <section class="procedure-steps"><h3 id="extract-a-method">Extract a function or a method</h3><p id="22d0a2d7">The Extract Method refactoring lets you take a code fragment that can be grouped together, move it into a            separated method and replace the old code with call to the method. If the code always exits            in return statements (all execution paths lead to possibly implicit return statements), it is extracted as is.            However, if it contains execution paths without returns, the extracted method will have an additional            <code class="code">bool</code> flag as a <code class="code">return</code> value. The flag is used to perform an early return on the call side.        </p><ol class="list _decimal"><li class="list__item" id="242abff6"><p>In the editor, select an expression or its part that you want to extract. You can also position the caret            within the expression, in this case GoLand offers you a list of potential code selections.</p></li><li class="list__item" id="802c6025"><p>Press <kbd data-primary_default_for_windows="Ctrl+Alt+M" data-primary_default_for_macos="Alt+⌘+M" data-primary_intellij_idea_classic_macos="Alt+⌘+M" data-primary_emacs="Ctrl+Alt+M" data-primary_visual_studio="Ctrl+Alt+M" data-primary_default_for_xwin="Ctrl+Alt+M" data-primary_default_for_gnome="Ctrl+Alt+M" data-primary_default_for_kde="Ctrl+Alt+M" data-primary_eclipse="Shift+Alt+M" data-primary_eclipse_macos="Alt+⌘+M" data-primary_netbeans="Shift+Alt+M" data-primary_sublime_text="Ctrl+Alt+M" data-primary_sublime_text_macos="Alt+⌘+M" data-secondary_default_for_windows="⌃⌥M" data-secondary_default_for_macos="⌥⌘M" data-secondary_intellij_idea_classic="⌥⌘M" data-secondary_emacs="⌃⌥M" data-secondary_visual_studio="⌃⌥M" data-secondary_default_for_xwin="⌃⌥M" data-secondary_default_for_gnome="⌃⌥M" data-secondary_default_for_kde="⌃⌥M" data-secondary_eclipse="⌥⇧M" data-secondary_eclipse_macos="⌥⌘M" data-secondary_netbeans="⌥⇧M" data-secondary_sublime_text="⌃⌥M" data-secondary_sublime_text_macos="⌥⌘M">Ctrl+Alt+M</kbd> or from the main menu, select            <span data-skip-index="skip" class="menupath">Refactor | Extract | Extract Method</span>.</p></li><li class="list__item" id="39bdbf1d"><p>Type a method name and press <kbd data-primary_default_for_windows="Enter" data-primary_default_for_macos="Enter" data-primary_intellij_idea_classic_macos="Enter" data-primary_emacs="Enter" data-primary_visual_studio="Enter" data-primary_default_for_xwin="Enter" data-primary_default_for_gnome="Enter" data-primary_default_for_kde="Enter" data-primary_eclipse="Enter" data-primary_eclipse_macos="Enter" data-primary_netbeans="Enter" data-primary_sublime_text="Enter" data-primary_sublime_text_macos="Enter" data-secondary_default_for_windows="⏎" data-secondary_default_for_macos="⏎" data-secondary_intellij_idea_classic="⏎" data-secondary_emacs="⏎" data-secondary_visual_studio="⏎" data-secondary_default_for_xwin="⏎" data-secondary_default_for_gnome="⏎" data-secondary_default_for_kde="⏎" data-secondary_eclipse="⏎" data-secondary_eclipse_macos="⏎" data-secondary_netbeans="⏎" data-secondary_sublime_text="⏎" data-secondary_sublime_text_macos="⏎">Enter</kbd>.</p></li></ol><figure data-theme="light" id="0063bbbb" width="642"><img class="js-gif" src="/help/img/idea/2019.3/go_extract_method.png" data-gif-src="/help/img/idea/2019.3/go_extract_method.animated.gif" width="642" style="width:642px;"></figure><p id="15b4ec6f"><a href="https://github.com/apronichev/documentation-code-examples/blob/master/extractMethodWithReturn/main.go" data-external="true" target="_blank" rel="noopener noreferrer">Code snippet</a></p></section><div class="last-modified" data-skip-index="skip">Last modified: 29 November 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="using-the-rename-refactoring.html">Using the rename refactoring</a><a class="navigation-links__next" href="how-to-use-goland-to-contribute-to-go.html">How to use GoLand to contribute to Go</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>