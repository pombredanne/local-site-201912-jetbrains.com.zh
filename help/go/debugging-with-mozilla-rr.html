<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>Debugging with Mozilla rr - Help | GoLand</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body data-id="Debugging_with_Mozilla_rr" data-breadcrumbs="Debugging_Code.xml|Debugging code/Debugging_with_Mozilla_rr.xml|Debugging with Mozilla rr" data-main-title="Debugging with Mozilla rr" data-article-props="&#xA;                {&#xA;                &#xA;            &#34;microFormat&#34;:[&#xA;            &#xA;                &#34;<p&gt;Mozilla rr and its features are available only on Linux machines.</p&gt;&#34;,&#xA;                &#34;<p&gt;Ensure that your CPU is compatible with Mozilla rr. See the list of limitations at            <a href='https://rr-project.org/' data-external='true' target='_blank' rel='noopener noreferrer'&gt;the official Mozilla rr site</a&gt; in the <span class='control'&gt;Limitations</span&gt;            section.</p&gt;&#34;&#xA;            ]&#xA;        &#xA;                }&#xA;            "><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search GoLand Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>GoLand 2019.3 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="primary" value="primary_default_for_windows" selected>Default for Windows</option><option data-group="primary" value="primary_default_for_macos">Default for macOS</option><option data-group="primary" value="primary_intellij_idea_classic_macos">IntelliJ IDEA Classic (macOS)</option><option data-group="primary" value="primary_emacs">Emacs</option><option data-group="primary" value="primary_visual_studio">Visual Studio</option><option data-group="primary" value="primary_default_for_xwin">Default for XWin</option><option data-group="primary" value="primary_default_for_gnome">Default for GNOME</option><option data-group="primary" value="primary_default_for_kde">Default for KDE</option><option data-group="primary" value="primary_eclipse">Eclipse</option><option data-group="primary" value="primary_eclipse_macos">Eclipse (macOS)</option><option data-group="primary" value="primary_netbeans">NetBeans</option><option data-group="primary" value="primary_sublime_text">Sublime Text</option><option data-group="primary" value="primary_sublime_text_macos">Sublime Text (macOS)</option><option data-group="secondary" value="secondary_default_for_windows">Default for Windows</option><option data-group="secondary" value="secondary_default_for_macos">Default for macOS</option><option data-group="secondary" value="secondary_intellij_idea_classic">IntelliJ IDEA Classic</option><option data-group="secondary" value="secondary_emacs">Emacs</option><option data-group="secondary" value="secondary_visual_studio">Visual Studio</option><option data-group="secondary" value="secondary_default_for_xwin">Default for XWin</option><option data-group="secondary" value="secondary_default_for_gnome">Default for GNOME</option><option data-group="secondary" value="secondary_default_for_kde">Default for KDE</option><option data-group="secondary" value="secondary_eclipse">Eclipse</option><option data-group="secondary" value="secondary_eclipse_macos">Eclipse (macOS)</option><option data-group="secondary" value="secondary_netbeans">NetBeans</option><option data-group="secondary" value="secondary_sublime_text">Sublime Text</option><option data-group="secondary" value="secondary_sublime_text_macos">Sublime Text (macOS)</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 data-toc="Debugging_with_Mozilla_rr" id="Debugging_with_Mozilla_rr.xml">Debugging with Mozilla rr</h1>    <p id="8c29694a">Mozilla rr is a tool that you can use to record, replay, and debug applications. The main idea of Mozilla rr is to    help you catch non-trivial bugs. </p>    <p id="62c69d01">Mozilla rr records the whole program execution. It means that you can debug the    recorded trace only when the program ends its execution. For servers and other long-running applications, you    must terminate the running application (for example, by sending the SIGTERM signal from the console). After    the recording, you can replay the execution in the debugger as many times as you need. Read more about Mozilla rr    on the <a href="https://rr-project.org/" data-external="true" target="_blank" rel="noopener noreferrer">official Mozilla rr site</a>.</p><section class="procedure-steps"><h3 id="debug-code-with-mozilla-rr" data-toc="Debugging_with_Mozilla_rr#debug-code-with-mozilla-rr">Debug code with Mozilla rr</h3><ol class="list _decimal"><li class="list__item" id="900eeda8"><p>Install Mozilla rr. For installation instructions, see the <a href="https://github.com/mozilla/rr/wiki/Building-And-Installing" data-external="true" target="_blank" rel="noopener noreferrer">Building And Installing</a>.    </p></li><li class="list__item" id="513c595a"><p>In GoLand, set a breakpoint. To set a breakpoint, click the gutter near the code line where you want    the debugger to stop code execution. For more information about breakpoints, see <a href="debugging-code.html">Debugging code</a>    and <a href="using-breakpoints.html">Breakpoints</a>.    </p></li><li class="list__item" id="e1d9acbb"><p>Click the <span class="control">Run</span> icon (<img class="inline-icon-12" src="/help/img/idea/2019.3/icons.runConfigurations.testState.run@2x.png" width="12" alt="The Run icon">) in the gutter and select <span class="control">Record and Debug        &lt;configuration_name&gt;</span>. In the <span class="control">Debugger</span> tool window, you can see a status        of variables, processes, and threads on different stages of code execution.</p></li></ol><figure data-theme="light" id="10f77b1c" width="706"><img class="js-gif" src="/help/img/idea/2019.3/go_navigate_through_trace.png" data-gif-src="/help/img/idea/2019.3/go_navigate_through_trace.animated.gif" width="706" style="width:706px;"></figure></section>    <section class="procedure-steps"><h3 id="18211bea" data-toc="Debugging_with_Mozilla_rr#18211bea">Navigate through the recorded trace</h3><ol class="list _decimal"><li class="list__item" id="cd3c1233"><p>Navigate to <span data-skip-index="skip" class="menupath">Run | Debug Saved Trace</span>.</p></li><li class="list__item" id="798200f4"><p>In the <span class="control">Trace directory</span> field, specify a path to the trace directory.</p></li><li class="list__item" id="1374332f"><p>Click <span class="control">OK</span>.</p></li><li class="list__item" id="555c2a07"><p>In the <span class="control">Debugger</span> tool window, click the <span class="control">Resume Program</span> icon            <img class="inline-icon-16" src="/help/img/idea/2019.3/icons.actions.resume_dark@2x.png" width="16" alt="The Resume Program icon "> to continue            program execution, or click the <span class="control">Rewind</span> icon below to run the debug session backwards            until the previous breakpoint.        </p></li></ol><figure><img alt="Navigate through the recorded trace" title="Navigate through the recorded trace" src="/help/img/idea/2019.3/go_navigate_controls.png" id="37a636bc" width="460" height="365"></figure></section>    <section class="procedure-steps"><h3 id="collecting-mozilla-rr-traces" data-toc="Debugging_with_Mozilla_rr#collecting-mozilla-rr-traces">Collecting Mozilla rr traces</h3><ol class="list _decimal"><li class="list__item" id="56cf1436"><p>Build an executable by using the <span class="control">Go build</span> run/debug configuration. To easily find the executable,      specify the current project directory in the <span class="control">Output directory</span> field of the <span class="control">Go build</span> configuration.          For more information about creating run/debug configurations, see          <a href="creating-and-editing-run-debug-configurations.html#create-a-run-debug-configuration">Create a run/debug configuration</a>.      </p></li><li class="list__item" id="38b7286d"><p id="93f8e5fd">Open the terminal and run the following Mozilla rr command: <code class="code">rr record &lt;path_to_the_application_executable&gt;</code></p>        <p id="02d62cdf">As a result, the Mozilla rr trace files appear in the following folder: <span class="filepath">~/.local/share/rr/&lt;executable_name&gt;</span></p>            <figure data-theme="light" id="3dd75bc6" width="706"><img class="js-gif" src="/help/img/idea/2019.3/go_collect_mozilla_rr_trace.png" data-gif-src="/help/img/idea/2019.3/go_collect_mozilla_rr_trace.animated.gif" width="706" style="width:706px;"></figure>        </li></ol></section>    <section class="procedure-steps"><h3 id="remote-debugging-with-mozilla-rr" data-toc="Debugging_with_Mozilla_rr#remote-debugging-with-mozilla-rr">Remote debugging with Mozilla rr</h3><ol class="list _decimal"><li class="list__item" id="65682451"><p>On the remote machine, <a href="#collecting-mozilla-rr-traces">collect the Mozilla rr trace</a>.</p></li><li class="list__item" id="b6c2ec98"><p>On the remote machine, start the debugger by opening the terminal and running the following command:           <code class="code">dlv --headless --api-version=2 -l localhost:2345 replay /path/to/trace/dir /path/to/binary</code></p></li><li class="list__item" id="06ae713d"><p>On the local machine, create the <span class="control">Go Remote</span> run/debug configuration.            In the <span class="control">Go Remote</span> configuration, specify the remote machine IP address and port.            For more information about creating run/debug configurations, see            <a href="creating-and-editing-run-debug-configurations.html#create-a-run-debug-configuration">Create a run/debug configuration</a>.</p></li><li class="list__item" id="fff2b39f"><p>On the local machine, ensure that the <span class="control">Go Remote</span> run/debug configuration is selected in the configurations list.</p></li><li class="list__item" id="72ee9a78"><p id="9216498f">On the local machine, click <span data-skip-index="skip" class="menupath">Run | Debug &lt;remote_configuration_name&gt;</span>. Alternatively, press <kbd data-primary_default_for_windows="Shift+F9" data-primary_default_for_macos="Ctrl+D" data-primary_intellij_idea_classic_macos="Shift+F9" data-primary_emacs="Shift+F9" data-primary_visual_studio="Alt+F5" data-primary_default_for_xwin="Shift+F9" data-primary_default_for_gnome="Shift+F9" data-primary_default_for_kde="Shift+F9" data-primary_eclipse="Shift+Alt+D" data-primary_eclipse_macos="⌘+F11" data-primary_netbeans="Ctrl+F5" data-primary_sublime_text="Shift+F9" data-primary_sublime_text_macos="Ctrl+D" data-secondary_default_for_windows="⇧F9" data-secondary_default_for_macos="⌃D" data-secondary_intellij_idea_classic="⇧F9" data-secondary_emacs="⇧F9" data-secondary_visual_studio="⌥F5" data-secondary_default_for_xwin="⇧F9" data-secondary_default_for_gnome="⇧F9" data-secondary_default_for_kde="⇧F9" data-secondary_eclipse="⌥⇧D" data-secondary_eclipse_macos="⌘F11" data-secondary_netbeans="⌃F5" data-secondary_sublime_text="⇧F9" data-secondary_sublime_text_macos="⌃D">Shift+F9</kbd>.</p>        <figure data-theme="light" id="69e2fa2e" width="706"><img class="js-gif" src="/help/img/idea/2019.3/go_remote_debug_with_mozilla_rr.png" data-gif-src="/help/img/idea/2019.3/go_remote_debug_with_mozilla_rr.animated.gif" width="706" style="width:706px;"></figure>        </li></ol></section><div class="last-modified" data-skip-index="skip">Last modified: 29 November 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="exploring-windows-minidumps.html">Exploring Windows minidumps</a><a class="navigation-links__next" href="scope.html">Scope</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>