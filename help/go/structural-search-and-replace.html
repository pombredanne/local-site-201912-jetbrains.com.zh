<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>Structural search and replace - Help | GoLand</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body data-id="topicId453705" data-breadcrumbs="Working_with_source_code.xml|Working with source code/Searching in source code/Structural_Search_and_Replace.xml|Structural search and replace/Search_Templates.xml|Search templates, filters, and script constraints/Structural_Search_and_Replace_Examples.xml|Structural search and replace examples" data-main-title="Structural search and replace"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search GoLand Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>GoLand 2019.3 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="primary" value="primary_default_for_windows" selected>Default for Windows</option><option data-group="primary" value="primary_default_for_macos">Default for macOS</option><option data-group="primary" value="primary_intellij_idea_classic_macos">IntelliJ IDEA Classic (macOS)</option><option data-group="primary" value="primary_emacs">Emacs</option><option data-group="primary" value="primary_visual_studio">Visual Studio</option><option data-group="primary" value="primary_default_for_xwin">Default for XWin</option><option data-group="primary" value="primary_default_for_gnome">Default for GNOME</option><option data-group="primary" value="primary_default_for_kde">Default for KDE</option><option data-group="primary" value="primary_eclipse">Eclipse</option><option data-group="primary" value="primary_eclipse_macos">Eclipse (macOS)</option><option data-group="primary" value="primary_netbeans">NetBeans</option><option data-group="primary" value="primary_sublime_text">Sublime Text</option><option data-group="primary" value="primary_sublime_text_macos">Sublime Text (macOS)</option><option data-group="secondary" value="secondary_default_for_windows">Default for Windows</option><option data-group="secondary" value="secondary_default_for_macos">Default for macOS</option><option data-group="secondary" value="secondary_intellij_idea_classic">IntelliJ IDEA Classic</option><option data-group="secondary" value="secondary_emacs">Emacs</option><option data-group="secondary" value="secondary_visual_studio">Visual Studio</option><option data-group="secondary" value="secondary_default_for_xwin">Default for XWin</option><option data-group="secondary" value="secondary_default_for_gnome">Default for GNOME</option><option data-group="secondary" value="secondary_default_for_kde">Default for KDE</option><option data-group="secondary" value="secondary_eclipse">Eclipse</option><option data-group="secondary" value="secondary_eclipse_macos">Eclipse (macOS)</option><option data-group="secondary" value="secondary_netbeans">NetBeans</option><option data-group="secondary" value="secondary_sublime_text">Sublime Text</option><option data-group="secondary" value="secondary_sublime_text_macos">Sublime Text (macOS)</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 data-toc="topicId453705" id="Structural_Search_and_Replace.xml">Structural search and replace</h1>        <aside data-type="note" class="prompt" data-title="" rel="Structural_Search_and_Replace.xml" id="1b35043e"><p id="97f3dd75">For structural search and replace, GoLand supports only XML, HTML, and JavaScript.</p></aside>    <p id="ssr_inspections">        A conventional search process does not take into account the syntax and semantics of the source code.        Even if you use regular expressions, GoLand still treats your code as a regular text.        The <span class="keyword">structural search and replace</span> (<span class="keyword">SSR</span>) actions let you        search for a particular code pattern or grammatical construct in your code considering your        code structure.    </p>    <p id="a6f5d8ec">GoLand finds and replaces fragments of source code, based on the        <a href="search-templates.html">search templates</a> that you create and        <a href="search-templates.html#ssr_filters">conditions</a> you apply.</p>        <section class="procedure-steps"><h3 id="run-the-structural-search-with-existing-templates" data-toc="topicId453705#run-the-structural-search-with-existing-templates">Run the structural search by using existing templates</h3><p id="02ab6692">The <span class="control">Structural Search</span> dialog displays the selected template and values of          the filters used in the template. For more information about possible filter values, see <a href="search-templates.html">Search templates, filters, and script constraints</a>.</p><ol class="list _decimal"><li class="list__item" id="4cd03c54"><p>Click <span data-skip-index="skip" class="menupath">Edit | Find | Search Structurally</span>.</p></li><li class="list__item" id="576716fb"><p>In the <span class="control">Structural Search</span> dialog, click the settings button <img class="inline-icon-16" src="/help/img/idea/2019.3/artwork.studio.icons.logcat.toolbar.settings@2x.png" width="16" alt="the Settings button">            and select <span class="control">Existing templates</span>.</p></li><li class="list__item" id="e4ba5683"><p>In the list of existing templates, double-click a template.</p></li><li class="list__item" id="7b0f0193"><p>Click the <span class="control">View variable filters</span> button <img class="inline-icon-16" src="/help/img/idea/2019.3/icons.general.filter_dark@2x.png" width="16" alt="the View variable filters button">.</p></li><li class="list__item" id="50f900ac"><p id="f6ec6dbd">Click each template variable in the template and set a search filter. To set the filter, click the <span class="control">Add filter</span> link.</p>            <p id="2a201da2">Variable is a set of characters that are enclosed in dollar signs (for example, <code class="code">$tag$</code>).                A template variable matches a source code expression if the expression fits within the user defined constraints (filters)                 that specify what possible values the template variable might have. Any expression that gets bound to the template variable                during the search can be used again in the search or replace templates.</p>        <p id="ccbb1174">GoLand instantly highlights the found code occurrences in the editor.</p>        </li><li class="list__item" id="6e7637ab"><p id="1a3b7a55">(Optional) Specify the following options to further narrow the search:        </p>            <ul class="list _ul"><li class="list__item" id="6b09d042"><p>                    <span class="control">File type</span> - use the list to select which file types should be a part of                    the search (for example, XML).                </p></li><li class="list__item" id="87095d24"><p><span class="control">Scope</span> - specify where to search:                                         in a project, module, directory, or within a custom scope.                                    </p></li><li class="list__item" id="534163ad">                    <p id="11531d1b">                        <span class="control">Search target</span> - you can select <span class="control">Complete match</span> to match                        the exact template or other available code elements.                    </p>                </li></ul></li><li class="list__item" id="8df7f2d2"><p>Click <span class="control">Find</span>.</p></li></ol><figure data-theme="light" id="e3c4f57c" width="700"><img class="js-gif" src="/help/img/idea/2019.3/structural_search_existing_templates.png" data-gif-src="/help/img/idea/2019.3/structural_search_existing_templates.animated.gif" width="700" style="width:700px;"></figure></section>    <aside data-type="tip" class="prompt" data-title="" rel="run-the-structural-search-with-existing-templates" id="13f4d8d3"><p id="1acbebae">You can use regular expressions in <span class="control">Text</span> filters. For example, you can use        the <code class="code">[A-Z].*</code> regular expression with the selected <span class="control">Match Case</span> checkbox to find all uppercase    occurrences of the search target.</p></aside>    <section class="procedure-steps"><h3 id="create-a-template-for-the-structural-search" data-toc="topicId453705#create-a-template-for-the-structural-search">Save a template for the structural search</h3><ol class="list _decimal"><li class="list__item" id="fceee472"><p>Click <span data-skip-index="skip" class="menupath">Edit | Find | Search Structurally</span>.</p></li><li class="list__item" id="5c73062a"><p id="419d3762">In the <span class="control">Structural Search</span> dialog, add a search pattern by using variables and filters.</p>            <p id="0da75c34">Variable is a set of characters that are enclosed in dollar signs (for example, <code class="code">$tag$</code>).                A template variable matches a source code expression if the expression fits within the user defined constraints (filters)                that specify what possible values the template variable might have. Any expression that gets bound to the template variable                during the search can be used again in the search or replace templates.</p>        </li><li class="list__item" id="86afab63"><p>Click the settings button <img class="inline-icon-16" src="/help/img/idea/2019.3/artwork.studio.icons.logcat.toolbar.settings@2x.png" width="16" alt="the Settings button">            and select <span class="control">Save Template</span>.</p></li></ol><figure><img alt="Save a template for the structural search" title="Save a template for the structural search" src="/help/img/idea/2019.3/save_template_for_structural_search.png" id="0ddd183f" class=" _border-line" width="700" height="894"></figure></section>        <section class="procedure-steps"><h3 id="structural_replace" data-toc="topicId453705#structural_replace">Replace a target structurally</h3><ol class="list _decimal"><li class="list__item" id="f2cde0b5"><p>From the main menu, select <span data-skip-index="skip" class="menupath">Edit | Find | Replace Structurally</span>.        </p></li><li class="list__item" id="8a2e19ed"><p>In the <span class="control">Replace Structurally</span> dialog, add            new or existing templates to the search and replace template areas.            You can save the replace template the same way as the <a href="#save_template">search</a> one.        </p></li><li class="list__item" id="f8935770"><p id="1ae65421">If you need to add a filter for the variable in the replace template, place a caret at the            variable of interest and use the filter area to manage filters.</p>            <p id="25ae32bd">Variable is a set of characters that are enclosed in dollar signs (for example, <code class="code">$tag$</code>).                A template variable matches a source code expression if the expression fits within the user defined constraints (filters)                that specify what possible values the template variable might have. Any expression that gets bound to the template variable                during the search can be used again in the search or replace templates.</p>                                            </li><li class="list__item" id="1ac1698f"><p>In the filter area, depending on what your chose as a            <a href="search-templates.html#ssr_filters">filter</a>,            specify the condition.        </p></li><li class="list__item" id="a459620e">            <p id="7fc82411">To narrow down your replace results, select the following options:            </p>            <ul class="list _ul"><li class="list__item" id="208be266"><p>                    <span class="control">Shorten fully-qualified names</span> - replaces fully qualified class names                    with short names and imports.                </p></li><li class="list__item" id="d9f89cce"><p>                    <span class="control">Reformat</span> - automatically formats the replaced code.                </p></li><li class="list__item" id="d10cd04f"><p>                    <span class="control">Use static import</span> - uses static import in replacement when possible.                                    </p></li></ul>            <p id="edf25632">                After specifying the necessary options, click <span class="control">Find</span>.                GoLand displays the results in the <span class="control">Find</span> tool window.            </p>        </li><li class="list__item" id="c6e4c849">            <p id="12ece006">                In the <span class="control">Find</span> tool window, your can work with the results further, replacing found                items one by one, all of them at once, or previewing your potential changes.            </p>                    </li></ol><p id="630e288f">Consider the following example that converts uppercase values of the <code class="code">class</code> attribute in <code class="code">p</code> tags to lowercase.            In the <span class="control">Search template</span> field, we create a template that searches for all <code class="code">p</code> tags with uppercase values (<code class="code">[A-Z].*</code>            and <span class="control">Match case</span>) in <code class="code">class</code> attributes. We narrow our search only to these        to <code class="code">class</code> values (<span class="control">Search target = b</span>). In the <span class="control">Replace template</span> field, we create a new variable        <code class="code">$d$</code> and assign a Groovy script to it (<code class="code">b.getText().toLowerCase()</code>). After the search, we select <span class="control">Replace All</span>        to perform the replacing.</p><figure data-theme="light" id="88a9dde2" width="700"><img class="js-gif" src="/help/img/idea/2019.3/replace_target_structurally.png" data-gif-src="/help/img/idea/2019.3/replace_target_structurally.animated.gif" width="700" style="width:700px;"></figure></section>        <section class="procedure-steps"><h3 id="share_template" data-toc="topicId453705#share_template">Share search templates</h3><p id="13e1a752">You can share a search template with your peers by exporting or importing it.</p><ol class="list _decimal"><li class="list__item" id="adf8616a"><p>In the <span class="control">Structural Search</span> dialog (<span data-skip-index="skip" class="menupath">Edit | Find | Search Structurally</span>),            <a href="#to_search_structurally">create a new search template or use the existing one</a>.        </p></li><li class="list__item" id="bce14f22"><p id="202538f4">To export a template, click <img class="inline-icon-16" src="/help/img/idea/2019.3/icons.general.gearPlain@2x.png" width="16" alt="the Settings button"> and select            <span class="control">Export Template to Clipboard</span>. GoLand adds the XML representation of the template to a clipboard            (press <kbd data-primary_default_for_windows="Ctrl+Shift+V" data-primary_default_for_macos="Shift+⌘+V" data-primary_intellij_idea_classic_macos="Shift+⌘+V" data-primary_emacs="Alt+Y" data-primary_visual_studio="Ctrl+Shift+V" data-primary_default_for_xwin="Ctrl+Shift+V" data-primary_default_for_gnome="Ctrl+Shift+V" data-primary_default_for_kde="Ctrl+Shift+V" data-primary_eclipse="Ctrl+Shift+V" data-primary_eclipse_macos="Shift+⌘+V" data-primary_netbeans="Ctrl+Shift+V" data-primary_sublime_text="Ctrl+K, Ctrl+V" data-primary_sublime_text_macos="⌘+K, Meta+V" data-secondary_default_for_windows="⌃⇧V" data-secondary_default_for_macos="⇧⌘V" data-secondary_intellij_idea_classic="⇧⌘V" data-secondary_emacs="⌥Y" data-secondary_visual_studio="⌃⇧V" data-secondary_default_for_xwin="⌃⇧V" data-secondary_default_for_gnome="⌃⇧V" data-secondary_default_for_kde="⌃⇧V" data-secondary_eclipse="⌃⇧V" data-secondary_eclipse_macos="⇧⌘V" data-secondary_netbeans="⌃⇧V" data-secondary_sublime_text="⌃K, ⌃V" data-secondary_sublime_text_macos="⌘K, ⌘V">Ctrl+Shift+V</kbd> to see the clipboard's content).            You can share this representation with other developers in chat, email, or a forum.</p>            <p id="380a1f0f">To import a template, copy (<kbd data-bypass="true" class="keystroke"><span class="keystroke__value">Ctrl+C</span></kbd>) the shared XML code from anywhere                (email, chat, or a forum) and in the <span class="control">Structural Search</span> dialog,                click <img class="inline-icon-16" src="/help/img/idea/2019.3/icons.general.gearPlain@2x.png" width="16" alt="the Settings button"> and select                <span class="control">Import Template from Clipboard</span>. GoLand takes the XML code representation and converts it                into a template including variables and a scope if it is present.            </p>        </li></ol></section><div class="last-modified" data-skip-index="skip">Last modified: 29 November 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="finding-word-at-caret.html">Finding Word at Caret</a><a class="navigation-links__next" href="search-templates.html">Search templates, filters, and script constraints</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>