<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>CPU profiler - Help | GoLand</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body data-id="procedures.profiler" data-breadcrumbs="Testing and profiling/Profiling_tests_and_benchmarks.xml|Profiling tests and benchmarks/CPU_Profiler.xml|CPU profiler" data-main-title="CPU profiler"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search GoLand Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>GoLand 2019.3 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="primary" value="primary_default_for_windows" selected>Default for Windows</option><option data-group="primary" value="primary_default_for_macos">Default for macOS</option><option data-group="primary" value="primary_intellij_idea_classic_macos">IntelliJ IDEA Classic (macOS)</option><option data-group="primary" value="primary_emacs">Emacs</option><option data-group="primary" value="primary_visual_studio">Visual Studio</option><option data-group="primary" value="primary_default_for_xwin">Default for XWin</option><option data-group="primary" value="primary_default_for_gnome">Default for GNOME</option><option data-group="primary" value="primary_default_for_kde">Default for KDE</option><option data-group="primary" value="primary_eclipse">Eclipse</option><option data-group="primary" value="primary_eclipse_macos">Eclipse (macOS)</option><option data-group="primary" value="primary_netbeans">NetBeans</option><option data-group="primary" value="primary_sublime_text">Sublime Text</option><option data-group="primary" value="primary_sublime_text_macos">Sublime Text (macOS)</option><option data-group="secondary" value="secondary_default_for_windows">Default for Windows</option><option data-group="secondary" value="secondary_default_for_macos">Default for macOS</option><option data-group="secondary" value="secondary_intellij_idea_classic">IntelliJ IDEA Classic</option><option data-group="secondary" value="secondary_emacs">Emacs</option><option data-group="secondary" value="secondary_visual_studio">Visual Studio</option><option data-group="secondary" value="secondary_default_for_xwin">Default for XWin</option><option data-group="secondary" value="secondary_default_for_gnome">Default for GNOME</option><option data-group="secondary" value="secondary_default_for_kde">Default for KDE</option><option data-group="secondary" value="secondary_eclipse">Eclipse</option><option data-group="secondary" value="secondary_eclipse_macos">Eclipse (macOS)</option><option data-group="secondary" value="secondary_netbeans">NetBeans</option><option data-group="secondary" value="secondary_sublime_text">Sublime Text</option><option data-group="secondary" value="secondary_sublime_text_macos">Sublime Text (macOS)</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 data-toc="procedures.profiler" id="CPU_Profiler.xml">CPU profiler</h1>                                                                <p id="42f0f47f"><span class="emphasis">CPU Profiler</span> shows what functions consume what percent of CPU time. This information            can provide you a better understanding of how your application is executed, and how exactly resources are allocated.</p>        <p id="fd8c1dba">            Once the analysis is finished, the profiler visualizes the output data in the reports. </p>                                        <div class="chapter"><h3 id="profiler-config">Profiler configuration</h3>            <p id="3d7813d4">                GoLand features two pre-defined Async Profiler configurations: the CPU profiler and the memory                allocation profiler that you can find in                <span data-skip-index="skip" class="menupath">Settings/Preferences | Build, Execution, Deployment | Java Profiler</span>.</p>            <p id="cfba9aef">                These configurations are adjusted to provide the most accurate results, that is why they don't                require any modifications. However, if you still need to change the settings, refer to                <a href="https://github.com/jvm-profiling-tools/async-profiler" data-external="true" target="_blank" rel="noopener noreferrer">Async Profiler on GitHub</a> for more                information.            </p>        </div>        <section class="procedure-steps"><h3 id="add-configuration">Select the profiler configuration</h3><ol class="list _decimal"><li class="list__item" id="049b917a">                <p id="a2be2230"><a name="open_settings"></a>                In the        <a name="settings_dialog"></a>        <span class="control">Settings/Preferences</span> dialog <kbd data-primary_default_for_windows="Ctrl+Alt+S" data-primary_default_for_macos="⌘+Comma" data-primary_intellij_idea_classic_macos="⌘+Comma" data-primary_emacs="Ctrl+Alt+S" data-primary_visual_studio="Alt+F7" data-primary_default_for_xwin="Ctrl+Alt+S" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-primary_eclipse_macos="⌘+Comma" data-primary_netbeans="Ctrl+Alt+S" data-primary_sublime_text="Ctrl+Alt+S" data-primary_sublime_text_macos="⌘+Comma" data-secondary_default_for_windows="⌃⌥S" data-secondary_default_for_macos="⌘," data-secondary_intellij_idea_classic="⌘," data-secondary_emacs="⌃⌥S" data-secondary_visual_studio="⌥F7" data-secondary_default_for_xwin="⌃⌥S" data-secondary_default_for_gnome="⌃⌥S" data-secondary_default_for_kde="⌃⌥S" data-secondary_eclipse="⌃⌥S" data-secondary_eclipse_macos="⌘," data-secondary_netbeans="⌃⌥S" data-secondary_sublime_text="⌃⌥S" data-secondary_sublime_text_macos="⌘,">Ctrl+Alt+S</kbd>, select <span data-skip-index="skip" class="menupath">Build, Execution, Deployment |                    Go Profiler</span>.</p></li><li class="list__item" id="d5e6fa9e"><p>                Select one of the pre-defined CPU or memory profiling configuration or create a new one by clicking                <img class="inline-icon-16" src="/help/img/idea/2019.3/icons.general.add@2x.png" width="16" alt="the Add button">.</p></li><li class="list__item" id="98114462"><p>                Apply the changes and close the dialog.</p></li></ol></section>     <div class="chapter"><h2 id="UsingTheProfiler">Run profiling</h2>                    <section class="procedure-steps"><h3 id="run-profiling">Run CPU profiling</h3><p id="3995f0b9"><a name="select_profiler"></a>        Open the <span class="filepath">_test.go</span> file.        Near the function or method that you want to profile, click the <span class="control">Run Application</span> icon            <img class="inline-icon-16" src="/help/img/idea/2019.3/icons.runConfigurations.testState.run_dark@2x.png" width="16" alt="the Run Application icon"> in the gutter            area and select <span class="control">Run &lt;configuration_name&gt; with 'CPU Profiler'</span>.    </p><figure data-theme="light" id="1e7b55a8" width="642"><img class="js-gif" src="/help/img/idea/2019.3/go_cpu_profiling.png" data-gif-src="/help/img/idea/2019.3/go_cpu_profiling.animated.gif" width="642" style="width:642px;"></figure></section>    </div>        <div class="chapter"><h2 id="InterpretingTheResults">Interpret the results</h2>                <p id="8acd12db">            In the Profiler tool window, the collected data is presented on three tabs: <span class="control">Flame Graph</span>,            <span class="control">Call Tree</span>, and <span class="control">Method List</span>.                    </p>                                <div class="chapter"><h3 id="profiler-flame-chart">Flame Graph</h3>                            <p id="8d626741">                    The <span class="control">Flame Chart</span> tab shows you function calls and the percentage of time for                    execution of each call. Each block represents a function in the stack (a stack frame).                    On the Y-axis, there is a stack depth going from bottom up. The X-axis shows the stack profile                    sorted from the most CPU-consuming functions to the least consuming ones.                </p>            <p id="05dceeb5">                When you read the flame graph, focus on the widest blocks. These blocks are the                functions that are presented in the profile most.                            </p>            <p id="3fb2aaa0">Hover the mouse over any block to view the details:</p>                                <figure><img alt="block details in the flame chart" title="block details in the flame chart" src="/help/img/idea/2019.3/go_profiler_flamechart_hover.png" id="87a0c1b7" class=" _border-line" width="700" height="568"></figure>                    </div><aside data-type="tip" class="prompt" data-title="" rel="profiler-flame-chart" id="16146f67"><p id="13d60fa7">For more information about flame graphs, see                <a href="http://www.brendangregg.com/flamegraphs.html" data-external="true" target="_blank" rel="noopener noreferrer">Flame Graphs</a>.</p>            </aside>        <div class="chapter"><h3 id="profiler-call-tree">Call Tree</h3>            <p id="41825f82">                The <span class="emphasis">Call Tree</span> tab represents information about a program’s call stacks that were                sampled during profiling:</p>            <ul class="list _ul"><li class="list__item" id="a5a56de8"><p>The method name</p></li><li class="list__item" id="a734807b"><p>Percentage of total sample time (can be toggled to the parent call view)</p></li><li class="list__item" id="ad69d8bf"><p>The total sample count</p></li><li class="list__item" id="622ead79"><p>The number of filtered calls</p></li></ul>            <p id="d95cae76">The optional number right after the percentage presents a filtered sequence of calls. Click it to expand                this sequence. The filtering rules can be <a href="#filter-call-tree">configured in the settings</a>.</p>            <p id="24563670">To configure and filter the Call Tree view, use the <span class="control">Presentation Settings</span> button                (<img class="inline-icon-16" src="/help/img/idea/2019.3/icons.actions.show@2x.png" width="16" alt="the Presentation Settings button">).            </p>                            <figure><img alt="call tree tab in the profiler results" title="call tree tab in the profiler results" src="/help/img/idea/2019.3/go_profiler_calltree.png" id="37e44b80" class=" _border-line" width="700" height="566"></figure>                    </div>        <div class="chapter"><h3 id="profiler-method-list">Method List</h3>            <p id="390136d8">                The <span class="emphasis">Methods List</span> collects all methods in the profiled data and sorts them by                cumulative sample time. Every item in this list has a Back Trace tree and a                Merge Callees tree.</p>            <p id="364651d9">                The Back Trace shows the hierarchy of callers. Use this view to trace which methods                call the selected method. Merge Callees tries to summarize all methods that are                called by the selected one.</p>                        <figure><img alt="method list tab in the profiler results" title="method list tab in the profiler results" src="/help/img/idea/2019.3/go_profiler_methodlist.png" id="d8f83797" width="700" height="566"></figure>        </div>             </div>    <div class="last-modified" data-skip-index="skip">Last modified: 29 November 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="profiling-tests-and-benchmarks.html">Profiling tests and benchmarks</a><a class="navigation-links__next" href="memory-profiler.html">Memory profiler</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>