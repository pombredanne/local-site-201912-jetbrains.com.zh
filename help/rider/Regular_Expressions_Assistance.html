<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><meta name="description" content="
        Regex support: detecting errors in regular expressions; Fixing errors in regular expressions;
        IntelliSense for regular expressions; verification of regular expressions
    " data-skip-index="skip"><title>正则表达式帮助-帮助|帮助JetBrains骑士</title><link rel="stylesheet" href="/resources.jetbrains.com/storage/help-app/v3/app.css"></head><body  data-id="Regular_Expressions_Assistance" data-breadcrumbs="Creating_and_Editing_Code.xml|Create and Edit Code/Coding_Assistance__Index.xml|Coding Assistance/Regular_Expressions_Assistance.xml|Regular Expressions Assistance" data-main-title="Regular Expressions Assistance" data-article-props="
                {
                
            " seeals=":[=" titl=":=" concept=",=" link=",=" ur=":" coding_assistance__index.htm="," tex=":" coding="" assistanc="}=" external="" http:="" ="" msdn.microsoft.com="" en-us="" library="" hs600312(v="vs.110).aspx","text":"MSDN." .net="" framework="" regular="" expression="}=" vs.110).aspx","text":"msdn="expression=" }="" ,="" www.jetbrains.net="" devnet="" community="" idea="" k="," developer="" communit="}=" data-disqus-id="Regular_Expressions_Assistance_rdr"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索JetBrains Rider帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>JetBrains Rider 2019.2帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option value="visual_studio" data-group="primary">视觉工作室</option><option value="resharper" data-group="primary">锐化器</option><option value="_default" data-group="primary">默认（IntelliJ IDEA）</option><option value="visual_studio_osx" data-group="secondary">Visual Studio（macOS）</option><option value="resharper_osx" data-group="secondary">ReSharper（macOS）</option><option value="mac_os_x_10.5_" data-group="secondary">Mac OS X 10.5+（IntelliJ IDEA）</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 id="Regular_Expressions_Assistance.xml" data-toc="Regular_Expressions_Assistance">正则表达式协助</h1>            <p id="c4fbb82b">JetBrains Rider提供了一组丰富的工具来使用.NET正则表达式。您可以快速分析现有表达式，查找并修复错误。键入新表达式时，JetBrains Rider会帮助自动完成和验证。</p>    <div class="chapter"><h2 id="regular-expressions-in-string-literals" data-toc="Regular_Expressions_Assistance#regular-expressions-in-string-literals">字符串文字中的正则表达式</h2>        <p id="f0c66208">默认情况下，JetBrains Rider仅在<code class="code">pattern</code>参数，在<a href="http://msdn.microsoft.com/en-us/library/system.text.regularexpressions.regex.aspx" rel="noopener noreferrer" data-external="true" target="_blank">Regex</a>类的方法中。但是，可以在不同的位置定义包含正则表达式的字符串：字符串常量，字段，其他方法的参数等。如果希望JetBrains Rider将字符串作为正则表达式进行处理，则可以使用以下三种方法：</p>        <ul class="list _ul"><li class="list__item" id="aba8e405">                <p id="7378ce8b">使用上下文操作：按<kbd data-visual_studio="Alt+Enter" data-resharper="Alt+Enter" data-_default="Alt+Enter" data-visual_studio_osx="⌥ Enter" data-resharper_osx="⌥ Enter" data-mac_os_x_10.5_="⌥ Enter">Alt+Enter</kbd>当插入符号位于字符串中时，选择“ <span class="control">标记为.NET正则表达式”</span> 。</p>                <p id="1debc419">JetBrains Rider会将与字符串相对应的符号范围标记为正则表达式，将此范围保存在其内部数据库中，并在包含文件的更改时对其进行跟踪。这种方法非常快速和直接，但是有两个缺点：在外部文件更改（例如VCS合并）之后，范围可能会丢失，并且标记为这种方式的注入只能在本地进行跟踪。</p>                <p id="7fe69d1f">如果以后决定禁用将字符串作为正则表达式处理，则可以使用<span class="control">Remove .NET正则表达式标记</span>上下文操作。</p>            </li><li class="list__item" id="4fb087cd">                <p id="ef6cb2f5">另一种方法是使用<code class="code">[RegexPatternAttribute]</code>来自<a href="Code_Analysis__Code_Annotations.html">JetBrains。注解</a> 。对于参数中的正则表达式，这是推荐的方式。</p>                <p id="027eb977">JetBrains Rider会将方法调用中的相应参数作为正则表达式处理：</p>                <figure><img alt="在参数中突出显示正则表达式" title="在参数中突出显示正则表达式" src="/help/img/dotnet/2019.2/RegexPatternAttribute.png" id="31fed466" width="558" height="201"></figure>            </li><li class="list__item" id="1f21eea6"><p>第三种方式是评论<code class="code">/*language=regexp|jsregexp*/</code>在字符串文字之前。这些注释需要输入一些内容，甚至可能污染您的代码，但另一方面，它们会使所有阅读您的代码的人都清楚您的意图，它们不会胶着，并且使用JetBrains Rider打开您的代码的任何人都会在其中获得相同的功能。标记的字符串。顺便说一句，注释的格式与<a href="http://www.jetbrains.org/pages/viewpage.action?pageId=983889" rel="noopener noreferrer" data-external="true" target="_blank">基于IntelliJ Platform的IDE</a>兼容。</p><figure><img alt="C＃字符串中的正则表达式注入并带有注释" title="C＃字符串中的正则表达式注入并带有注释" src="/help/img/dotnet/2019.2/injection_comment.png" id="f64bd278" width="677" height="122"></figure>            <p></p></li></ul>    </div>    <div class="chapter"><h2 id="highlighting" data-toc="Regular_Expressions_Assistance#highlighting">语法高亮</h2>        <a name="regex_highlighting"></a>        <p id="b6cc4d7b">JetBrains Rider突出显示了语法构造以及正则表达式中的错误和冗余：</p>        <figure><img alt="正则表达式的突出显示" title="正则表达式的突出显示" src="/help/img/dotnet/2019.2/regexp_highlighting.png" id="d622599a" width="526" height="73"></figure>                <p id="317b67b3">突出显示的颜色具有以下含义：</p>        <ul class="list _ul"><li class="list__item" id="091a41f5"><p>浅蓝色–角色类，锚点和量词</p></li><li class="list__item" id="ff16892e"><p>浅绿色–分组构造</p></li><li class="list__item" id="6679b6aa"><p>橙色–设置构造</p></li><li class="list__item" id="4ffb3f8a"><p>粉色和浅粉色–逃生顺序</p></li><li class="list__item" id="319113d1"><p>绿色–评论</p></li><li class="list__item" id="44f62cd5"><p>带下划线的红色-错误</p></li><li class="list__item" id="1aea3438"><p>蓝色卷曲下划线–警告</p></li></ul>        <aside class="prompt" rel="1a2f4980" id="76025cbb" data-type="tip" data-title="">            <p id="51f3f965">有关正则表达式语法的更多信息，请参见<a href="http://msdn.microsoft.com/en-us/library/az24scfc(v=vs.110).aspx" rel="noopener noreferrer" data-external="true" target="_blank">MSDN。正则表达式语言-快速参考</a>                            </p>        </aside>        <p id="a1d93aab">将插入符设置为定界符之一时，组，组名和组中的匹配括号将突出显示。</p>        <a name="escape"></a>            <p id="4d633ca6">默认情况下，JetBrains Rider突出显示所有非普通字符串中正确和不正确的转义序列：</p>            <img alt="突出显示字符串中的转义序列" title="突出显示字符串中的转义序列" src="/help/img/dotnet/2019.2/regexp_string.png" id="638a2ac3" width="252" height="30" class="inline-icon-252">                                                    </div>    <div class="chapter"><h2 id="fixing-errors" data-toc="Regular_Expressions_Assistance#fixing-errors">修复错误</h2>        <p id="95cc7774">要修复正则表达式中的错误，请将插入符号设置为红色突出显示，然后按<kbd data-visual_studio="Alt+Enter" data-resharper="Alt+Enter" data-_default="Alt+Enter" data-visual_studio_osx="⌥ Enter" data-resharper_osx="⌥ Enter" data-mac_os_x_10.5_="⌥ Enter">Alt+Enter</kbd> ，然后选择相应的<a href="Code_Analysis__Quick-Fixes.html">快速修复</a> 。</p>        <p id="38c00e09">正则表达式错误的最常见示例是滥用转义符。</p>        <figure><img alt="正则表达式错误" title="正则表达式错误" src="/help/img/dotnet/2019.2/regexp_error.png" id="c6162087" width="336" height="76"></figure>        <p id="16a5c771">JetBrains Rider可帮助您自动修复错误：</p>        <figure><img alt="使用JetBrains Rider修复正则表达式错误" title="使用JetBrains Rider修复正则表达式错误" src="/help/img/dotnet/2019.2/regexp_quick_fix.png" id="44a3d6d5" width="421" height="134"></figure>    </div>        <div class="chapter"><h2 id="intellisense" data-toc="Regular_Expressions_Assistance#intellisense">智能感知</h2>        <p id="a02849de">JetBrains Rider为几乎所有.NET正则表达式构造提供IntelliSense支持。在完成列表中，每个构造都有简短的说明。</p>        <figure><img alt="正则表达式中的代码完成" title="正则表达式中的代码完成" src="/help/img/dotnet/2019.2/regexp_completion.png" id="b84857c5" width="555" height="273"></figure>        <p id="868d4133">在正则表达式中，可以使用四种类型的IntelliSense：</p>        <ul class="list _ul"><li class="list__item" id="22eea23c"><p>                <a href="Coding_Assistance_Code_Completion_Auto.html">自动完成</a> -在<code class="code">\</code> ， <code class="code">(</code>和<code class="code">[</code>人物</p></li><li class="list__item" id="e58c2adc"><p>                <a href="Coding_Assistance__Code_Completion__Symbol.html">基本完成</a> <kbd data-visual_studio="Ctrl+Space" data-resharper="Ctrl+Space" data-_default="Ctrl+Space" data-visual_studio_osx="^ Space" data-resharper_osx="^ Space" data-mac_os_x_10.5_="^ Space">Ctrl+Space</kbd> –显示可用于当前范围的元素</p></li><li class="list__item" id="c5d67d00"><p>                <a href="Coding_Assistance__Code_Completion__Smart.html">智能完成</a> <kbd data-visual_studio="Ctrl+Alt+Space" data-resharper="Ctrl+Shift+Space" data-_default="Ctrl+Shift+Space" data-visual_studio_osx="^ ⌥ Space" data-resharper_osx="^ ⇧ Space" data-mac_os_x_10.5_="^ ⇧ Space">Ctrl+Alt+Space</kbd> –显示当前范围内最可能的元素</p></li></ul>        <p id="8b03c8cf">使用<a href="http://msdn.microsoft.com/en-us/library/system.text.regularexpressions.match.groups.aspx" rel="noopener noreferrer" data-external="true" target="_blank">Match时，您还可以从JetBrains Rider的Intellisense中受益</a><a href="http://msdn.microsoft.com/en-us/library/system.text.regularexpressions.match.groups.aspx" rel="noopener noreferrer" data-external="true" target="_blank">。团体财产</a> 。JetBrains Rider会在表达式中检测组名，并在完成列表中建议它们：</p>        <figure><img alt="组名完成" title="组名完成" src="/help/img/dotnet/2019.2/regexp_completion_groups.png" id="efbba09c" width="536" height="316"></figure>    </div>    <div class="chapter"><h2 id="extracting-precompiled-regular-expression" data-toc="Regular_Expressions_Assistance#extracting-precompiled-regular-expression">提取预编译的正则表达式</h2>        <p id="deb85ed9">如果您需要重用正则表达式，该正则表达式用于<code class="code">Regex</code>类，您可以将其提取为预编译的正则表达式。</p>        <p id="cce0ec1b">要提取正则表达式，请在方法调用中的任意位置设置插入符号，然后按<kbd data-visual_studio="Alt+Enter" data-resharper="Alt+Enter" data-_default="Alt+Enter" data-visual_studio_osx="⌥ Enter" data-resharper_osx="⌥ Enter" data-mac_os_x_10.5_="⌥ Enter">Alt+Enter</kbd>并选择<span class="control">到预编译的Regex</span>上下文操作。</p>        <p id="2b18da71">例如，您可以从<code class="code">pattern</code> <a href="http://msdn.microsoft.com/en-us/library/sdx2bds0.aspx" rel="noopener noreferrer" data-external="true" target="_blank">IsMatch</a>方法的参数：</p>        <div class="code-block" data-lang="csharp">public void Bar（）{var result = Regex。IsMatch（“ Input”，“ Pattern”）; }</div>        <p id="30d6b556">应用上下文操作后，该模式将提取到一个静态字段中：</p>        <div class="code-block" data-lang="csharp">私有静态只读Regex Regex1 = new Regex（“ Pattern”）; public void Bar（）{var result = Regex1。IsMatch（“ Input”）; }</div>    </div>                    <div class="last-modified" data-skip-index="skip">上次修改时间：2019年11月29日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__next" href="Language_Injections.html">C＃中的</a> <a class="navigation-links__prev" href="Coding_Assistance__Context_Actions.html">上下文动作</a> <a class="navigation-links__next" href="Language_Injections.html">语言注入</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>