<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>使用单元测试会话-帮助|帮助JetBrains骑士</title><link rel="stylesheet" href="/resources.jetbrains.com/storage/help-app/v3/app.css"></head><body  data-id="Using_Unit_Test_Sessions" data-breadcrumbs="Building_Running_and_Debugging.xml|Build, Execute, Deploy/Unit_Testing__Index.xml|Unit Testing/Using_Unit_Test_Sessions.xml|Using Unit Test Sessions" data-main-title="Using Unit Test Sessions" data-article-props="
                {
                
            " seeals=":[=" titl=":=" how="" to=",=" link=":=" ur=":" executing_analyzing_tests.htm="," tex=":" execute="" tests="" and="" analyze="" result="}=" getting="" starte=",=" getting_started_with_unit_testing.htm="," get="" started="" with="" unit="" testin="}=" web="" resource=",=" http:="" ="" www.jetbrains.net="" devnet="" community="" idea="" k="," developer="" communit="}=" data-disqus-id="Using_Unit_Test_Sessions_rdr"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索JetBrains Rider帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>JetBrains Rider 2019.2帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option value="visual_studio" data-group="primary">视觉工作室</option><option value="resharper" data-group="primary">锐化器</option><option value="_default" data-group="primary">默认（IntelliJ IDEA）</option><option value="visual_studio_osx" data-group="secondary">Visual Studio（macOS）</option><option value="resharper_osx" data-group="secondary">ReSharper（macOS）</option><option value="mac_os_x_10.5_" data-group="secondary">Mac OS X 10.5+（IntelliJ IDEA）</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 id="Using_Unit_Test_Sessions.xml" data-toc="Using_Unit_Test_Sessions">使用单元测试会话</h1>                <aside class="prompt" rel="Using_Unit_Test_Sessions.xml" id="tip_same_id" data-type="tip" data-title="">        <p id="d86a9a04">JetBrains Rider的单元测试运行器不允许运行两个或多个具有相同ID的测试。在实践中，这种情况很少发生，但是如果您确实有具有相同ID的测试，它们将在“单元测试”窗口中显示为单个节点，并且仅运行其中一个。<br>请注意，测试框架以不同的方式识别测试。例如，MSTest使用测试方法FQN，而NUnit使用测试属性的属性作为测试ID。</p>    </aside>    <p id="intro">JetBrains Rider允许您将针对应用程序特定部分的单元测试分组为单元测试会话。单元测试会话可以包含来自不同项目的<a href="Unit_Testing__Index.html#frameworks">不同受支持框架的</a>测试。您可以有多个测试会话，并根据需要分别运行。单个测试/测试类可以包含在几个不同的测试会话中。</p>    <aside class="prompt" rel="intro" id="note_different_sessions" data-type="note" data-title="">            <p id="d5946cc0">如果不同的单元测试会话中的执行设置不同，则测试可能在一个会话中通过而在另一个会话中失败。因此，JetBrains Rider不会在添加了相同测试的其他会话中更新执行结果。同样，在编辑器中为测试显示的<a href="Unit_Testing_in_Document.html#discovering-tests-in-the-current-document">执行状态图标</a>对应于上次执行该测试会话的结果。</p>        </aside>    <p id="735d069d">默认情况下，将为每个解决方案自动保存单元测试会话。即使关闭并重新打开解决方案，JetBrains Rider也会保留它们。如有必要，您可以通过清除<span class="control">保存和恢复单元测试会话</span>复选框来选择不保留单元测试会话。 <a name="ut_settings_page"></a> <span class="menupath" data-skip-index="skip">构建，执行，部署|</span> JetBrains Rider设置的“ <span class="menupath" data-skip-index="skip">单元测试”</span>页面<kbd data-visual_studio="Ctrl+Alt+S" data-resharper="Ctrl+Alt+S" data-_default="Ctrl+Alt+S" data-visual_studio_osx="⌘ ," data-resharper_osx="⌘ ," data-mac_os_x_10.5_="⌘ ,">Ctrl+Alt+S</kbd> 。</p>        <div class="chapter"><h2 id="accessing-unit-test-sessions" data-toc="Using_Unit_Test_Sessions#accessing-unit-test-sessions">访问单元测试会话</h2>        <p id="ff8a9e7c">单元测试会话管理在“单元测试”窗口的会话选项卡中完成。 <a name="window_intro"></a>                要打开此窗口，请按<kbd data-visual_studio="Alt+8" data-resharper="Alt+8" data-_default="N/A" data-visual_studio_osx="⌘ 8" data-resharper_osx="⌘ 8" data-mac_os_x_10.5_="N/A">Alt+8</kbd>或选择<span class="menupath" data-skip-index="skip">查看|工具窗口|</span>从主菜单进行<span class="menupath" data-skip-index="skip">单元测试</span> 。每次您<a href="Unit_Testing_in_Document.html#run_debug">从当前文档</a>或<a href="Unit_Testing_in_Solution.html#execute">项目/解决方案</a>运行或调试单元测试， <a href="#create">创建新的测试会话</a>或<a href="#add">将测试添加到</a> <a href="#create">测试会话时</a> ，该窗口也会自动打开。</p>        <p id="e1ff0258">所有现有的单元测试会话都显示在“单元测试”窗口的选项卡中。</p>        <figure><img alt="JetBrains骑士：单元测试会议" title="JetBrains骑士：单元测试会议" src="/help/img/rider/2019.2/unit_test_sessions.png" id="83c4520d" width="821" height="312"></figure>                <p id="1c8e755a">单元测试窗口还可视化了测试运行器的活动：它显示执行进度以及已执行测试的状态和输出。每次运行或调试测试时，它们要么添加到当前测试会话中，要么为它们创建一个新的单元测试会话。</p>        <p id="search_tests">要搜索测试，请在焦点进入此窗口后立即开始输入测试名称或其<a href="Navigation_and_Search__CamelHumps.html">CamelHumps</a>缩写。</p>        <a name="shortcuts_in_tests_window"></a>            <p id="d6d0bfd7">当焦点位于“单元测试”窗口中时，可以将简化的快捷方式用于单元测试操作。例如，您可以使用<kbd data-visual_studio="Ctrl+D" data-resharper="Ctrl+D" data-_default="Ctrl+D" data-visual_studio_osx="⌘ D" data-resharper_osx="⌘ D" data-mac_os_x_10.5_="⌘ D">Ctrl+D</kbd>代替<kbd data-visual_studio="Ctrl+U, D" data-resharper="Ctrl+T, D" data-_default="Ctrl+Semicolon, D" data-visual_studio_osx="⌘ U, D" data-resharper_osx="⌘ T, D" data-mac_os_x_10.5_="⌘ Semicolon, D">Ctrl+U, D</kbd>用于调试选定的测试。这是在“单元测试”窗口中可用的其他快捷方式的完整列表：</p>            <ul class="list _ul"><li class="list__item" id="cf1628fa"><p>                    <kbd data-visual_studio="Shift+Enter" data-resharper="Shift+Enter" data-_default="Shift+Enter" data-visual_studio_osx="⇧ Enter" data-resharper_osx="⇧ Enter" data-mac_os_x_10.5_="⇧ Enter">Shift+Enter</kbd> — <span class="control">运行选定的测试</span>                </p></li><li class="list__item" id="f374c152"><p>                    <kbd data-visual_studio="Ctrl+D" data-resharper="Ctrl+D" data-_default="Ctrl+D" data-visual_studio_osx="⌘ D" data-resharper_osx="⌘ D" data-mac_os_x_10.5_="⌘ D">Ctrl+D</kbd> — <span class="control">调试选定的测试</span>                </p></li><li class="list__item" id="49d36f1f"><p>                    <kbd data-visual_studio="Ctrl+Y" data-resharper="Ctrl+Y" data-_default="Ctrl+Y" data-visual_studio_osx="⌘ Y" data-resharper_osx="⌘ Y" data-mac_os_x_10.5_="⌘ Y">Ctrl+Y</kbd> — <span class="control">运行当前会话</span>                </p></li><li class="list__item" id="b9dabb31"><p>                    <kbd data-visual_studio="Ctrl+F" data-resharper="Ctrl+F" data-_default="Ctrl+F" data-visual_studio_osx="⌘ F" data-resharper_osx="⌘ F" data-mac_os_x_10.5_="⌘ F">Ctrl+F</kbd> — <span class="control">重新运行失败的测试</span>                </p></li><li class="list__item" id="5851106f"><p>                    <kbd data-visual_studio="Shift+Alt+Insert" data-resharper="Shift+Alt+Insert" data-_default="Shift+Alt+Insert" data-visual_studio_osx="⌘ ⇧ N" data-resharper_osx="⌘ ⇧ N" data-mac_os_x_10.5_="⌘ ⇧ N">Shift+Alt+Insert</kbd> — <span class="control">创建新会话</span>                </p></li><li class="list__item" id="a8db894c"><p>                    <kbd data-visual_studio="Ctrl+Alt+Insert" data-resharper="Ctrl+Alt+Insert" data-_default="Ctrl+Alt+Insert" data-visual_studio_osx="⌘ ⌥ N" data-resharper_osx="⌘ ⌥ N" data-mac_os_x_10.5_="⌘ ⌥ N">Ctrl+Alt+Insert</kbd> — <span class="control">将选定的测试附加到会话中</span>                </p></li><li class="list__item" id="5196db39"><p>                    <kbd data-visual_studio="Delete" data-resharper="Delete" data-_default="Delete" data-visual_studio_osx="Backspace" data-resharper_osx="Backspace" data-mac_os_x_10.5_="Backspace">Delete</kbd> — <span class="control">删除选定的测试</span>                </p></li><li class="list__item" id="b058b300"><p>                    <kbd data-visual_studio="Ctrl+L" data-resharper="Ctrl+L" data-_default="Ctrl+L" data-visual_studio_osx="⌘ L" data-resharper_osx="⌘ L" data-mac_os_x_10.5_="⌘ L">Ctrl+L</kbd> — <span class="control">从解决方案运行所有测试</span>                </p></li></ul>            </div>    <div class="chapter"><h2 id="create" data-toc="Using_Unit_Test_Sessions#create">创建和关闭单元测试会话</h2>        <p id="eac63f2f">有几种方法可以创建新的测试会话：</p>        <ul class="list _ul"><li class="list__item" id="ce69332e"><p>只需<a href="Unit_Testing_in_Document.html#run_debug">从当前文档</a>或<a href="Unit_Testing_in_Solution.html#execute">项目/解决方案中</a>运行或调试单元测试。 <a name="ways_to_add_to_session"></a>        如果存在开放的<a href="">单元测试会话</a> ，则将已执行的测试添加到该会话中。如果没有测试会话或现有会话被<a href="#lock">锁定</a> ，则会创建一个新的测试会话。</p></li><li class="list__item" id="5ab47577"><p>                <a name="open_action_list"></a>在编辑器中，单击测试或测试类旁边的<a href="Unit_Testing_in_Document.html#indicators">操作指示器</a> ，然后在操作列表中选择“ <span class="control">创建新会话</span> ”。将创建与此测试/测试类的新会话。</p></li><li class="list__item" id="ce83675c"><p>在“单元测试”窗口中，为新会话选择测试/测试类，然后单击“ <span class="control">创建新会话”</span> <img alt="ThemedIcon NewSession屏幕灰色" title="ThemedIcon NewSession屏幕灰色" src="/help/img/dotnet/2019.2/ThemedIcon.NewSession.Screen.[Gray].png" id="e5cfbfba" width="16" height="16" class="inline-icon-16">在工具栏上或按<kbd data-visual_studio="Ctrl+U, N" data-resharper="Ctrl+T, N" data-_default="Ctrl+Semicolon, N" data-visual_studio_osx="⌘ U, N" data-resharper_osx="⌘ T, N" data-mac_os_x_10.5_="⌘ Semicolon, N">Ctrl+U, N</kbd> 。</p></li><li class="list__item" id="13fe8e8a"><p>在主菜单中，选择<a name="RiderUnitTestNewSessionAction"></a> <span class="menupath" data-skip-index="skip">测试创建新会话</span>或按<kbd data-visual_studio="Ctrl+U, N" data-resharper="Ctrl+T, N" data-_default="Ctrl+Semicolon, N" data-visual_studio_osx="⌘ U, N" data-resharper_osx="⌘ T, N" data-mac_os_x_10.5_="⌘ Semicolon, N">Ctrl+U, N</kbd> 。如果焦点位于编辑器中或“单元测试”窗口中，并且选择了某些测试/测试类，或者插入符号位于测试/测试类中或内部，则将创建带有相应项目的新测试会话。否则，将创建一个空的测试会话。</p></li></ul>        <p id="prevent">如果要防止向会话中添加新测试，则可以<a href="#lock">锁定此会话</a> 。</p>        <p id="6904a240">要关闭单元测试会话，只需关闭“单元测试会话”窗口中的相应选项卡。封闭的会议将不再可用。</p>    </div>    <div class="chapter"><h2 id="add" data-toc="Using_Unit_Test_Sessions#add">在测试会话中添加和删除项目</h2>        <p id="adding_new_default">默认情况下，如果您运行或调试未包含在任何会话中的测试，则这些测试将添加到当前会话中。</p>        <p id="prevent">如果要防止向会话中添加新测试，则可以<a href="#lock">锁定此会话</a> 。</p>        <p id="e0b66296">还有其他将测试/测试类添加到会话中的方法：</p>        <ul class="list _ul"><li class="list__item" id="9ae03d9f"><p>                <a name="open_action_list"></a>在编辑器中，单击测试或测试类旁边的<a href="Unit_Testing_in_Document.html#indicators">操作指示器</a> ，然后在操作列表中选择“ <span class="control">附加到[当前会话]</span> ”。如果要将项目添加到其他部分，请单击此命令旁边的小箭头，然后在子菜单中选择任何现有的测试会话：您也可以选择<a name="RiderUnitTestAppendTestsAction"></a> <span class="menupath" data-skip-index="skip">测试</span>在主菜单中将<span class="menupath" data-skip-index="skip">测试追加到会话</span>或按<kbd data-visual_studio="Ctrl+U, A" data-resharper="Ctrl+T, A" data-_default="Ctrl+Semicolon, A" data-visual_studio_osx="⌘ U, A" data-resharper_osx="⌘ T, A" data-mac_os_x_10.5_="⌘ Semicolon, A">Ctrl+U, A</kbd>将所选项目添加到会话中。</p></li><li class="list__item" id="59a234ec"><p>在“单元测试”窗口中，选择要添加的测试/测试类，然后按<kbd data-visual_studio="Ctrl+U, A" data-resharper="Ctrl+T, A" data-_default="Ctrl+Semicolon, A" data-visual_studio_osx="⌘ U, A" data-resharper_osx="⌘ T, A" data-mac_os_x_10.5_="⌘ Semicolon, A">Ctrl+U, A</kbd> 。如果会话不止一个，请在出现的弹出窗口中选择目标会话。</p></li></ul>        <p id="bb6333e3">要从会话中删除测试，请选择要删除的测试或分组项，然后单击“ <span class="control">删除选定的测试”。</span> <img alt="ThemedIcon删除屏幕灰色" title="ThemedIcon删除屏幕灰色" src="/help/img/rider/2019.2/ThemedIcon.Remove.Screen.[Gray].png" id="3dcd6d3b" width="12" height="12" class="inline-icon-12">在工具栏上。</p>    </div>    <div class="chapter"><h2 id="rename" data-toc="Using_Unit_Test_Sessions#rename">重命名测试会话</h2>        <p id="109dac03">默认情况下，添加到新测试会话中的第一个测试/类将用作会话的名称。</p>        <p id="31ddbf3a">要重命名会话，请右键单击会话的选项卡，然后从上下文菜单中选择“ <span class="control">重命名会话”</span> 。</p><figure><img alt="重命名单元测试会话" title="重命名单元测试会话" src="/help/img/rider/2019.2/rename_unit_test_session.png" id="683398cd" width="420" height="180"></figure>然后在出现的对话框中为会话指定一个新名称。<p></p>    </div>    <div class="chapter"><h2 id="lock" data-toc="Using_Unit_Test_Sessions#lock">锁定和解锁单元测试会话</h2>        <p id="adding_new_default">默认情况下，如果您运行或调试未包含在任何会话中的测试，则这些测试将添加到当前会话中。</p>        <p id="d1cae98c">如有必要，可以防止将新测试添加到会话中。这样做，在“单元测试”窗口中切换到要锁定的会话的选项卡，单击“ <span class="control">锁定会话”。</span> <img alt="ThemedIcon LockSession屏幕呈灰色" title="ThemedIcon LockSession屏幕呈灰色" src="/help/img/dotnet/2019.2/ThemedIcon.LockSession.Screen.[Gray].png" id="e64b9bd2" width="16" height="16" class="inline-icon-16">在工具栏上。</p>        <p id="0b86567b">要解锁会话，请重复相同的操作。</p>    </div>    <div class="last-modified" data-skip-index="skip">上次修改时间：2019年11月29日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="Unit_Testing_in_Solution.html">在项目或解决方案</a> <a class="navigation-links__next" href="Test_Categories.html">测试类别中</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>