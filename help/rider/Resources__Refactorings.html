<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>本地化重构-帮助|帮助JetBrains骑士</title><link rel="stylesheet" href="/resources.jetbrains.com/storage/help-app/v3/app.css"></head><body  data-id="Resources__Refactorings__Move_to_Resource" data-breadcrumbs="Creating_and_Editing_Code.xml|Create and Edit Code/Resources__Index.xml|Localization Assistance/Resources__Refactorings.xml|Localization Refactorings" data-main-title="Localization Refactorings" data-article-props="
                {
                
            " seeals=":[=" titl=":=" concept=",=" link=":=" ur=":" resources__navigation.htm="," tex=":" navigatio="}=" localization_inspection.htm="," localization="" inspections="" and="" quick-fixe="}=" refactorings__index.htm="," refactoring="}=" web="" resource=",=" http:="" ="" www.jetbrains.net="" devnet="" community="" idea="" k="," developer="" communit="}=" data-disqus-id="Resources__Refactorings_rdr"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索JetBrains Rider帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>JetBrains Rider 2019.2帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option value="visual_studio" data-group="primary">视觉工作室</option><option value="resharper" data-group="primary">锐化器</option><option value="_default" data-group="primary">默认（IntelliJ IDEA）</option><option value="visual_studio_osx" data-group="secondary">Visual Studio（macOS）</option><option value="resharper_osx" data-group="secondary">ReSharper（macOS）</option><option value="mac_os_x_10.5_" data-group="secondary">Mac OS X 10.5+（IntelliJ IDEA）</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 id="Resources__Refactorings.xml" data-toc="Resources__Refactorings__Move_to_Resource">本地化重构</h1>    <p id="ab48f56e">JetBrains Rider提供了一组与资源相关的重构，可大大简化项目的国际化。</p>    <div class="chapter"><h2 id="move-to-resource" data-toc="Resources__Refactorings__Move_to_Resource#move-to-resource">移至资源</h2>        <p id="4b4eea7e">在进行项目内部化时，通常的做法是在资源文件中存储可本地化的字符串。JetBrains Rider会检测到要本地化的字符串并突出显示它们，因此您可以轻松地将这些字符串从源代码查找并移动到资源文件。JetBrains Rider将声明相应的资源条目，并将代码中的字符串替换为资源使用情况。</p>                <section class="procedure-steps"><h3 id="c5ad05b2">将字符串移到资源</h3><ol class="list _decimal"><li class="list__item" id="8866cd58"><p>将插入号放在应本地化的字符串上。</p></li><li class="list__item" id="70191f1d"><p>如果字符串通过<a href="Localization_Inspection.html#element-is-localizable-inspection">“元素可本地化”检查</a>突出显示，请使用相应的<a href="Code_Analysis__Quick-Fixes.html">快速修复</a> （ <kbd data-visual_studio="Alt+Enter" data-resharper="Alt+Enter" data-_default="Alt+Enter" data-visual_studio_osx="⌥ Enter" data-resharper_osx="⌥ Enter" data-mac_os_x_10.5_="⌥ Enter">Alt+Enter</kbd> ）</p><figure><img alt="JetBrains Rider：将字符串文字移至资源的快速修复" title="JetBrains Rider：将字符串文字移至资源的快速修复" src="/help/img/rider/2019.2/Resources__Quick-Fixes_05.png" id="f6806c18" width="385" height="125"></figure>            <p></p></li><li class="list__item" id="a52e0696"><p>否则，请按<kbd data-visual_studio="Ctrl+R, O" data-resharper="F6" data-_default="F6" data-visual_studio_osx="⌘ R, O" data-resharper_osx="F6" data-mac_os_x_10.5_="F6">Ctrl+R, O</kbd>或选择<a name="Move"></a> <span class="menupath" data-skip-index="skip">重构|</span>从主菜单中<span class="menupath" data-skip-index="skip">移动...。</span></p></li><li class="list__item" id="82b95aab"><p>在出现的“ <span class="control">移至资源”</span>对话框中，JetBrains Rider自动生成资源条目的名称并提出资源文件。如有必要，您可以在“ <span class="control">名称”</span>字段中更改名称，然后在“ <span class="control">资源文件”</span>列表中选择其他资源文件。</p><figure><img alt="JetBrains Rider“移至资源”重构" title="JetBrains Rider“移至资源”重构" src="/help/img/rider/2019.2/Resources__Refactorings__Move_to_Resource_02.png" id="a1e13990" width="479" height="289"></figure>            <p></p></li><li class="list__item" id="b805f673"><p>（可选）您可以在“ <span class="control">值”</span>文本区域中更改资源字符串值，并在“ <span class="control">注释”</span>文本区域中添加注释。</p></li><li class="list__item" id="d46c9ae6"><p>（可选）您可以通过在“ <span class="control">查找相同项”</span>列表中选择值来指定是否搜索相同的字符串和搜索范围。</p></li><li class="list__item" id="8b42ad40"><p>单击“ <span class="control">下一步”</span>应用重构。</p></li><li class="list__item" id="818097b5"><p>如果选择了“ <span class="control">查找相同项目”</span>选项，并且JetBrains Rider找到了在指定范围内定义的任何匹配字符串，则可以选择使用新资源替换这些字符串中的哪一个。</p></li></ol></section>        <p id="865ea2bf">应用重构后，指定的出现的字符串将替换为相应的资源用法，新的资源声明将出现在指定的<span class="filepath">.resx</span>文件中。</p>        <p id="1ce45c0e">创建新资源后，您可以<a href="Localization_Inspection.html#override">覆盖其他文化的价值</a> 。</p>        <a name="find_localizable"></a>                </div>    <div class="chapter"><h2 id="move-resource" data-toc="Resources__Refactorings__Move_to_Resource#move-resource">移动资源</h2>        <p id="d1b0da73">如果您的项目包含多个资源<span class="filepath">.resx</span>文件，则此重构将帮助您将现有资源从一个资源文件移动到另一个资源文件。如果当前项目中只有一个<span class="filepath">.resx</span>文件，则此重构不可用。</p>        <section class="procedure-steps"><h3 id="06566c9c">将资源移到另一个资源文件</h3><a name="step_choose_resource"></a><ol class="list _decimal"><li class="list__item" id="93350657"><p>在代码文件中的资源使用情况下设置插入符号：</p><figure><img alt="JetBrains Rider：转向资源重构" title="JetBrains Rider：转向资源重构" src="/help/img/dotnet/2019.2/Resources__Refactorings__Move_Resource_01.png" id="4faaf350" width="421" height="27"></figure>或<span class="filepath">.resx</span>文件中的资源名称处：<figure><img alt="JetBrains Rider：转向资源重构" title="JetBrains Rider：转向资源重构" src="/help/img/dotnet/2019.2/Resources__Refactorings__Move_Resource_03.png" id="b0701356" width="529" height="61"></figure>        <p></p></li><li class="list__item" id="f55c86b8"><p>            <a name="invoke_command"></a>按<a name="invoke_command_base"></a><kbd data-visual_studio="Ctrl+R, O" data-resharper="F6" data-_default="F6" data-visual_studio_osx="⌘ R, O" data-resharper_osx="F6" data-mac_os_x_10.5_="F6">Ctrl+R, O</kbd>或选择<a name="%actionId%"></a> <span class="menupath" data-skip-index="skip">重构|</span>从主菜单中<span class="menupath" data-skip-index="skip">移动...。</span>或者，您可以按<kbd data-visual_studio="Ctrl+Shift+A" data-resharper="Ctrl+Shift+A" data-_default="Ctrl+Shift+A" data-visual_studio_osx="⌘ ⇧ A" data-resharper_osx="⌘ ⇧ A" data-mac_os_x_10.5_="⌘ ⇧ A">Ctrl+Shift+A</kbd> ，开始在弹出窗口中键入命令名称，然后在此处选择它。</p></li><li class="list__item" id="d5db73e4"><p>在出现的“ <span class="control">移动资源”</span>对话框中，指定要在其中<span class="control">移动资源</span>的目标资源文件。</p><figure><img alt="JetBrains骑士：“移动资源”重构" title="JetBrains骑士：“移动资源”重构" src="/help/img/rider/2019.2/Resources__Refactorings__Move_Resource_02.png" id="552e2425" width="469" height="209"></figure>            <p></p></li><li class="list__item" id="aeb73cc1"><p>（可选）您可以更改资源名称。</p></li><li class="list__item" id="3eb58d23"><p>单击“ <span class="control">下一步”</span>应用重构。</p></li></ol></section>    </div>    <div class="chapter"><h2 id="rename-resource" data-toc="Resources__Refactorings__Move_to_Resource#rename-resource">重命名资源</h2>        <p id="ec144331">您可以使用“ <a href="Refactorings__Rename.html">重命名”重构</a>来快速重命名现有资源。应用重构后，将根据新名称更新资源文件中的所有资源声明和代码文件中的所有资源使用情况。</p>        <section class="procedure-steps"><h3 id="6016e6a3">重命名资源</h3><a name="step_choose_resource"></a><ol class="list _decimal"><li class="list__item" id="2b843005"><p>在代码文件中的资源使用情况下设置插入符号：</p><figure><img alt="JetBrains Rider：转向资源重构" title="JetBrains Rider：转向资源重构" src="/help/img/dotnet/2019.2/Resources__Refactorings__Move_Resource_01.png" id="4101b22e" width="421" height="27"></figure>或<span class="filepath">.resx</span>文件中的资源名称处：<figure><img alt="JetBrains Rider：转向资源重构" title="JetBrains Rider：转向资源重构" src="/help/img/dotnet/2019.2/Resources__Refactorings__Move_Resource_03.png" id="2cc8166c" width="529" height="61"></figure>        <p></p></li><li class="list__item" id="fa5d2815"><p>            <a name="invoke_command"></a>按<a name="invoke_command_base"></a><kbd data-visual_studio="Ctrl+R, R" data-resharper="F2" data-_default="Shift+F6" data-visual_studio_osx="⌘ R, R" data-resharper_osx="F2" data-mac_os_x_10.5_="⇧ F6">Ctrl+R, R</kbd>或选择<a name="%actionId%"></a> <span class="menupath" data-skip-index="skip">重构|</span>从主菜单<span class="menupath" data-skip-index="skip">重命名...。</span>或者，您可以按<kbd data-visual_studio="Ctrl+Shift+A" data-resharper="Ctrl+Shift+A" data-_default="Ctrl+Shift+A" data-visual_studio_osx="⌘ ⇧ A" data-resharper_osx="⌘ ⇧ A" data-mac_os_x_10.5_="⌘ ⇧ A">Ctrl+Shift+A</kbd> ，开始在弹出窗口中键入命令名称，然后在此处选择它。</p></li><li class="list__item" id="f0c7a726"><p>在出现的“ <span class="control">重命名资源”</span>对话框中，为资源指定一个新名称。</p></li><li class="list__item" id="85b63b92"><p>单击“ <span class="control">下一步”</span>应用重构。</p></li></ol></section>    </div>    <div class="chapter"><h2 id="inline-resource" data-toc="Resources__Refactorings__Move_to_Resource#inline-resource">内联资源</h2>        <p id="923417a4"><span class="emphasis">内联资源</span>重构用原始字符串替换资源使用情况，并有选择地从资源文件中删除相应的资源条目。</p>        <a name="string_newline"></a>        <aside class="prompt" rel="inline-resource" id="a54bca5c" data-type="tip" data-title="">            <p id="3451dc44">如果字符串文字太长，请按<kbd class="keystroke" data-bypass="true"><span class="keystroke__value">Enter</span></kbd>字符串中的任何位置，ReSharper都会自动将其正确的部分放在下一行并插入<code class="code">+</code>标志。删除<code class="code">+</code>和字符串部分将被串联。</p>        </aside>            <section class="procedure-steps"><h3 id="9a86e9d2">内联资源</h3><a name="step_choose_resource"></a><ol class="list _decimal"><li class="list__item" id="7dedeff1"><p>在代码文件中的资源使用情况下设置插入符号：</p><figure><img alt="JetBrains Rider：转向资源重构" title="JetBrains Rider：转向资源重构" src="/help/img/dotnet/2019.2/Resources__Refactorings__Move_Resource_01.png" id="258d77f8" width="421" height="27"></figure>或<span class="filepath">.resx</span>文件中的资源名称处：<figure><img alt="JetBrains Rider：转向资源重构" title="JetBrains Rider：转向资源重构" src="/help/img/dotnet/2019.2/Resources__Refactorings__Move_Resource_03.png" id="9d1e10c5" width="529" height="61"></figure>        <p></p></li><li class="list__item" id="b53af07e"><p>            <a name="invoke_command"></a>按<a name="invoke_command_base"></a><kbd data-visual_studio="Ctrl+R, I" data-resharper="Ctrl+Alt+N" data-_default="Ctrl+Alt+N" data-visual_studio_osx="⌘ R, I" data-resharper_osx="⌘ ⌥ N" data-mac_os_x_10.5_="⌘ ⌥ N">Ctrl+R, I</kbd>或选择<a name="%actionId%"></a> <span class="menupath" data-skip-index="skip">重构|内联|内联...</span>从主菜单。或者，您可以按<kbd data-visual_studio="Ctrl+Shift+A" data-resharper="Ctrl+Shift+A" data-_default="Ctrl+Shift+A" data-visual_studio_osx="⌘ ⇧ A" data-resharper_osx="⌘ ⇧ A" data-mac_os_x_10.5_="⌘ ⇧ A">Ctrl+Shift+A</kbd> ，开始在弹出窗口中键入命令名称，然后在此处选择它。</p></li><li class="list__item" id="7817595d">                <p id="ff136cb0">在出现的“ <span class="control">内联资源”</span>对话框中，指定重构选项：</p>                <ul class="list _bullet"><li class="list__item" id="e20472ab"><p>                        <span class="control">内联所有用法</span> ：如果选中，则用原始字符串替换项目中的所有资源用法。如果取消选择，则仅替换调用此重构的资源使用情况。请注意，仅当您从代码文件中调用重构时，此选项才有效。</p></li><li class="list__item" id="fca65ded"><p>                        <span class="control">删除内联资源声明</span> ：如果选中，则从所有相关资源文件中删除资源声明。如果取消选择，则声明保持不变。</p></li></ul>            </li><li class="list__item" id="31d1053f"><p>单击“ <span class="control">下一步”</span>应用重构。</p></li></ol></section>    </div>    <div class="chapter"><h2 id="safe-delete-resource" data-toc="Resources__Refactorings__Move_to_Resource#safe-delete-resource">安全删除资源</h2>        <p id="d643d213">如果要删除资源，请使用“ <a href="Refactorings__Safe_Delete.html">安全删除”重构</a>以确保删除操作安全。如果找不到资源使用情况，则资源将立即删除。否则，ReSharper将显示所有资源使用情况，使您可以编辑相应的代码。删除标有<img alt="ThemedIcon错误屏幕灰色" title="ThemedIcon错误屏幕灰色" src="/help/img/dotnet/2019.2/ThemedIcon.Error.Screen.[Gray].png" id="7259885d" width="16" height="16" class="inline-icon-16">图标，将导致编译错误。</p>        <section class="procedure-steps"><h3 id="fd11d4f1">安全删除资源</h3><a name="step_choose_resource"></a><ol class="list _decimal"><li class="list__item" id="04e3e887"><p>在代码文件中的资源使用情况下设置插入符号：</p><figure><img alt="JetBrains Rider：转向资源重构" title="JetBrains Rider：转向资源重构" src="/help/img/dotnet/2019.2/Resources__Refactorings__Move_Resource_01.png" id="4c2bdec5" width="421" height="27"></figure>或<span class="filepath">.resx</span>文件中的资源名称处：<figure><img alt="JetBrains Rider：转向资源重构" title="JetBrains Rider：转向资源重构" src="/help/img/dotnet/2019.2/Resources__Refactorings__Move_Resource_03.png" id="f1c9f41c" width="529" height="61"></figure>        <p></p></li><li class="list__item" id="53e8e4e9"><p>            <a name="invoke_command"></a>按<a name="invoke_command_base"></a><kbd data-visual_studio="Ctrl+R, D" data-resharper="Alt+Delete" data-_default="Alt+Delete" data-visual_studio_osx="⌘ R, D" data-resharper_osx="⌥ Delete" data-mac_os_x_10.5_="⌘ Delete">Ctrl+R, D</kbd>或选择<a name="%actionId%"></a> <span class="menupath" data-skip-index="skip">重构|</span>从主菜单<span class="menupath" data-skip-index="skip">安全删除...。</span>或者，您可以按<kbd data-visual_studio="Ctrl+Shift+A" data-resharper="Ctrl+Shift+A" data-_default="Ctrl+Shift+A" data-visual_studio_osx="⌘ ⇧ A" data-resharper_osx="⌘ ⇧ A" data-mac_os_x_10.5_="⌘ ⇧ A">Ctrl+Shift+A</kbd> ，开始在弹出窗口中键入命令名称，然后在此处选择它。</p></li><li class="list__item" id="9d9521ee">                <ul class="list _bullet"><li class="list__item" id="41c1ad79"><p>如果代码文件中没有使用此资源，则将应用重构，并从所有<span class="filepath">.resx</span>文件中删除资源声明。</p></li><li class="list__item" id="b4a003fb"><p>如果代码文件中有此资源的用法，则会打开“ <span class="control">安全删除资源”</span>对话框，显示所有冲突。</p></li></ul>                <figure><img alt="JetBrains Rider：安全删除资源。矛盾冲突" title="JetBrains Rider：安全删除资源。矛盾冲突" src="/help/img/rider/2019.2/Resources__Refactorings__Safe_Delete_02.png" id="6cae7410" width="534" height="387"></figure>            </li><li class="list__item" id="d33bd47d"><p>如果您在尝试安全删除资源时遇到冲突，请手动解决它们，然后点击<span class="control">刷新</span> 。</p></li><li class="list__item" id="3503352c"><p>解决所有冲突并从对话框中消失后，单击“ <span class="control">下一步”</span>应用重构。</p></li></ol></section>    </div>    <div class="last-modified" data-skip-index="skip">上次修改时间：2019年11月29日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="Coding_Assistance_for_Localization.html">本地化</a> <a class="navigation-links__next" href="Resources__Navigation.html">导航的</a> <a class="navigation-links__prev" href="Coding_Assistance_for_Localization.html">编码辅助</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>