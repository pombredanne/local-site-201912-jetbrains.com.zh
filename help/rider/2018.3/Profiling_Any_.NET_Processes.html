<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta name="robots" content="noindex"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/help/app/v2/analytics.js"></script><meta charset="UTF-8"><title>Profiling Any .NET Process - Help | JetBrains Rider</title><link rel="stylesheet" href="/help/app/v2/app.css"></head><body data-id="Profiling_Any_.NET_Processes" data-disqus-id="Profiling_Any_.NET_Processes_rdr"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search JetBrains Rider Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>JetBrains Rider 2018.3 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="primary" value="visual_studio" selected>Visual Studio</option><option data-group="primary" value="resharper">ReSharper</option><option data-group="primary" value="_default">Default (IntelliJ IDEA)</option><option data-group="secondary" value="visual_studio_osx">Visual Studio (macOS)</option><option data-group="secondary" value="resharper_osx">ReSharper (macOS)</option><option data-group="secondary" value="mac_os_x_10.5_">Mac OS X 10.5+ (IntelliJ IDEA)</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 data-toc="Profiling_Any_.NET_Processes" id="Profiling_Any_.NET_Processes.xml">Profiling Any .NET Process</h1>            <aside class="warning " data-title="" rel="Profiling_Any_.NET_Processes.xml" id="b5a3b8fb">        <p id="0409102f">Currently, .NET code-profiling features are available only on Windows.</p>    </aside>                <p id="4e6e58a4">            dotTrace allows you to profile any .NET process that is already running in the system.            The profiling workflow looks like follows:        </p>                <ol class="list _decimal"><li class="list__item" id="a994663c"><p>                <a href="#step-1-configure-a-profiling-session">Configuring a profiling session</a>            </p></li><li class="list__item" id="b6512364"><p>                <a href="#step-2-running-the-session-and-getting-snapshots">Running the session and getting                    snapshots                </a>            </p></li><li class="list__item" id="cd1d7c5a"><p>                <a href="#step-3-analyzing-collected-snap">Analyzing the collected snapshots</a>            </p></li></ol>        <div class="chapter"><h2 id="step-1-configure-a-profiling-session" data-toc="Profiling_Any_.NET_Processes#step-1-configure-a-profiling-session">Step 1. Configuring a profiling session</h2>                                    <figure><img alt="Profiling configurations in Rider" title="Profiling configurations in Rider" src="/help/img/rider/2018.3/profiler_configurations_attach.png" id="f7f681b6" width="433" height="199"></figure>            <p id="ef22f5d5">                Before starting a profiling session, you must select a profiling configuration:            </p>            <ul class="list _ul"><li class="list__item" id="8249b130"><p>                    The profiling configuration specifies which profiling type will be used and whether                    child processes of a main profiled process (a profiling target) must be profiled.                </p></li><li class="list__item" id="e6f511c9"><p>                    The profiling target is a running .NET process you're going to attach to.                </p></li><li class="list__item" id="86d94498"><p>                    The <span class="control">Tracing</span> and <span class="control">Line-by-Line</span> profiling types are                    not available when attaching to a process. If such a profiling configuration is selected,                    you won't be able to attach to and profile processes.                </p></li></ul>            <section class="procedure-steps"><h2 id="303604f9">To select a profiling configuration</h2><ul class="list "><li class="list__item" id="bd4b7608">                    <p id="f8690664">                        In the toolbar, in the list of profiling configurations, select:                    </p>                    <ul class="list _ul"><li class="list__item" id="b9f15a61"><p>                            either one of the <a href="#profiling_types">predefined configurations</a>:                            <span class="control">Sampling</span>                                                        or <span class="control">Timeline</span>,                        </p></li><li class="list__item" id="c358e827"><p>                            or your own <a href="#add_config">custom configuration</a>.                        </p></li></ul>                </li></ul></section>            <section class="procedure-steps"><h2 id="add_config">To create a profiling configuration</h2><ol class="list _decimal"><li class="list__item" id="89afaafe"><p>                    In the toolbar, in the list of profiling configurations, select                    <span class="control">Edit Configurations…</span>.                </p></li><li class="list__item" id="ad8b64ba"><p>                    In the opened                    <span class="control">Profiling Configurations</span>                    window, click                    <img alt="Add profiling configuration" title="Add profiling configuration" src="/help/img/rider/2018.3/ThemedIcon.AddPattern.Screen.[Gray].png" id="07af16f1" width="12" height="12" class="inline-icon-12">                    to add a new profiling configuration.                </p></li><li class="list__item" id="59d1c55f">                    <p id="eae065dd">                        Specify configuration <span class="control">Name</span> and other profiling options:                    </p>                    <ul class="list _ul"><li class="list__item" id="1bb6c94f">                            <span class="control">Profiling type</span>                                                                                                            <aside class="note " data-title="" rel="466e562b" id="6025e03c">                        <p id="04e9555a">* Not supported when dotTrace is attached to a profiled process.</p>                    </aside>                    <div class="table-wrapper"><table class=" wide                 " width="100%" id="6b221954"><thead><tr id="f00f10a2" class="ijRowHead"><th id="afcba91d"><p>Profiling Method</p></th><th id="c2070079" width="120"><p>Profiling Type</p></th><th id="df643488"><p>Description</p></th><th id="9486624b"><p>Use Case</p></th></tr></thead><tbody><tr id="a2e19bea" class="ijRowOdd"><td id="c413c854" rowspan="3"><p>                                <b id="d426e226" origin="dotnet">                                    <font style="color:#003399">                                        <b id="d60d797e" origin="dotnet">Performance Profiling</b>                                    </font>                                </b>                                <br>                                Detailed timing information about function calls.                                                                                            </p></td><td id="14bff98f"><p>                                <span class="control">Sampling</span>                            </p></td><td id="d257d223"><p>Accurate time measurement, number of calls is not measured.                            </p></td><td id="b507b764"><p>                                <i id="339165e0" origin="dotnet">Recommended for most cases</i>. Ideal when you look for performance issues in your                                app                                for the first time.                            </p></td></tr><tr id="9924114a" class="ijRowEven"><td id="c0911d6b"><p>                                <span class="control">Tracing*</span>                            </p></td><td id="2aa480bb"><p>Accurate calls number measurement, time measurement may be inaccurate due to profiling                                overhead.                            </p></td><td id="faa0368a"><p>When sampling data is not enough. For example, for analyzing algorithm complexity (when                                info                                about number of calls is more valuable than call time values).                            </p></td></tr><tr id="a50b2e4a" class="ijRowOdd"><td id="9fe14ef5"><p>                                <span class="control">Line-by-line*</span>                            </p></td><td id="85160950"><p>Each line of code is measured, call time values are inaccurate due to huge profiler                                overhead.                                <br>                                                            </p></td><td id="4734638c"><p>For advanced use cases only. For example, when you already know what function causes                                issues                                and                                want to analyze each line of it.                            </p></td></tr><tr id="d6afaf26" class="ijRowEven"><td id="5b88b816"><p>                                <b id="13fcc92e" origin="dotnet">                                    <font style="color:#003399">                                        <b id="a0394fd8" origin="dotnet">Timeline Profiling</b>                                    </font>                                </b>                                <br>                                Detailed temporal data about application threads and events.                                                            </p></td><td id="a559d60e"><p>                                <span class="control">Timeline</span>                            </p></td><td id="437aed0a"><p>Collects temporal data about thread states, application events, and other                                multi-threading                                data.                                Based on Event Tracing for Windows (ETW).                            </p></td><td id="a8a1e543"><p><i id="acaf2516" origin="dotnet">Recommended for most cases</i>. Especially, for analyzing multithreaded apps. Use it,                                for example, to determine the cause of UI freezes, excessive                                garbage collections, uneven workload distribution, insufficient I/O, and so on.                            </p></td></tr></tbody></table></div>                                                                    </li><li class="list__item" id="52e68682"><p>                            <span class="control">Profile child processes</span>:                            If selected, dotTrace will profile not only the main app process but the processes                            it runs as well.                        </p></li><li class="list__item" id="90dfcbe6"><p>                            <span class="control">Record profiling data from start</span>: If selected, dotTrace will start                            collecting                            profiling                            data right after the launch. Otherwise, dotTrace will start collecting the data only after                            you                            click <span class="control">Start Recording</span> in the                            <a href="Performance_Profiler_window.html">Performance Profiler</a>                            tool window.                        </p></li></ul>                </li></ol></section>        </div>        <div class="chapter"><h2 id="step-2-running-the-session-and-getting-snapshots" data-toc="Profiling_Any_.NET_Processes#step-2-running-the-session-and-getting-snapshots">Step 2. Running the session and getting snapshots</h2>            <section class="procedure-steps"><h2 id="86011d80">To start a session and get snapshots</h2><ol class="list _decimal"><li class="list__item" id="57ac14c8"><p>                    In the main menu, select                    <span data-skip-index="skip" class="menupath">Run | Attach to Process with Profiling</span>                    or click the corresponding button                    <img alt="Attach to Process with Profiling" title="Attach to Process with Profiling" src="/help/img/rider/2018.3/icon_attach_profile.png" id="0f826f3b" width="16" height="16" class="inline-icon-16">                    on the toolbar. This will open a list of running processes.                </p></li><li class="list__item" id="9cf7a505">                    <p id="235007c9">                        Select the process you want to profile (note that this must be a managed .NET process).                    </p>                    <p id="2a8f0e68">                        Once the profiling is started, you will see the                        <a href="Performance_Profiler_window.html">Performance Profiler</a>                        tool window opened on the <span class="control">Profiling</span> tab with the profiling controller inside.                    </p>                </li><li class="list__item" id="5b3d8c2d"><p>                    If you disabled <span class="control">Record profiling data from start</span> in the profiling configuration,                    click                    <img alt="Start Recording" title="Start Recording" src="/help/img/rider/2018.3/icon_start_profiling.png" id="935e411d" width="12" height="12" class="inline-icon-12">                    <span class="control">Start Recording</span>                    to start recording profiling data.                    <br>                    Basically, now all you need is reproduce the performance issue you are looking for or,                    if you just evaluate the overall app performance, go through the desired usage scenarios in your                    application.                </p></li><li class="list__item" id="e3dd5d15"><p>                    Click                    <img alt="Get Performance Snapshot Rider" title="Get Performance Snapshot Rider" src="/help/img/rider/2018.3/icon_get_snapshot.png" id="3ffed707" width="10" height="10" class="inline-icon-10">                    <span class="control">Get Snapshot</span>.                    The collected snapshot will be added to the list of snapshots inside the                    <span class="control">Performance Profiler</span>                    window.                    To start collecting profiling data again, click                    <img alt="Start Recording" title="Start Recording" src="/help/img/rider/2018.3/icon_start_profiling.png" id="9d387eaa" width="12" height="12" class="inline-icon-12">                    <span class="control">Start Recording</span>                    one more time.                </p></li></ol></section>        </div>        <div class="chapter"><h2 id="step-3-analyzing-collected-snap" data-toc="Profiling_Any_.NET_Processes#step-3-analyzing-collected-snap">Step 3. Analyzing collected snapshots</h2>            <p id="f6e70a17">                For more details on how to analyze performance snapshots, please refer to                <a href="Analyzing_Profiling_Snapshots.html"><span>Analyzing Profiling Results</span></a>.            </p>            <section class="procedure-steps"><h2 id="ec1dea74">To analyze a snapshot</h2><ol class="list _decimal"><li class="list__item" id="b8b32eb5"><p>                    On the                    <span class="control">All Snapshots</span>                    tab of the                    <a href="Performance_Profiler_window.html">Performance Profiler</a>                    tool window, select the snapshot you want to analyze.                </p></li><li class="list__item" id="e39ed2a2">                    <p id="8962b372">                        Analyze the collected data using one of the views:                    </p>                    <ul class="list _ul"><li class="list__item" id="8e0377aa"><p>                            <span class="control">Call Tree</span>: a "classic" call tree that shows you all method calls in all                            threads.                            Each top-level node represents a top-level function which was executed by a certain thread.                            Use this view to quickly get down to actual application activity.                            <a href="/help/profiler/Call_Tree.html" data-external="true" target="_blank" rel="noopener noreferrer"><span>Learn more</span></a>                                                    </p></li><li class="list__item" id="fed180a1"><p>                            <span class="control">Top Methods</span>: the best place to start when analyzing application                            performance.                            It is a simple plain list of methods with the highest execution time. Note that you can                            reduce                            the system functions "noise" by excluding them from the list using the                            <img alt="Hide system functions" title="Hide system functions" src="/help/img/rider/2018.3/icon_hide_system_functions_profiler.png" id="76a88b3b" width="16" height="16" class="inline-icon-16">                            toggle: if enabled, method's execution time is calculated as a sum of method's own time                            and the time of all child system methods (down to the next user method in the stack).                            <a href="/help/profiler/Plain_List.html" data-external="true" target="_blank" rel="noopener noreferrer"><span>Learn more</span></a>                                                    </p></li></ul>                </li><li class="list__item" id="0dda134a"><p>                    Once the suspicious method is found, press <kbd data-visual_studio="F4" data-resharper="F4" data-_default="F4" data-visual_studio_osx="⌘ Down" data-resharper_osx="⌘ Down" data-mac_os_x_10.5_="⌘ Down">F4</kbd> or select                    <span class="control">Jump to Source</span> from the context menu.                    Rider will navigate you right to the method's source code.                </p></li></ol></section>        </div>    <div class="last-modified" data-skip-index="skip">Last modified: 25 April 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="Profiling_Unit_Tests.html">Profiling Unit Tests</a><a class="navigation-links__next" href="Analyzing_Profiling_Snapshots.html">Analyzing Profiling Results</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/help/app/v2/app.js"></script></body></html>