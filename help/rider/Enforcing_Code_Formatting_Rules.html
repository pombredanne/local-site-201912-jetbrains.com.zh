<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>管理和应用代码格式设置规则-帮助|帮助JetBrains骑士</title><link rel="stylesheet" href="/resources.jetbrains.com/storage/help-app/v3/app.css"></head><body  data-id="editing.codeReformatting" data-breadcrumbs="Refactoring_and_Cleaning_Code.xml|Refactor and Clean Up/Code_Style_Assistance.xml|Code Style and Cleanup/Code_Formatting_Style.xml|Formatting and Reformatting Code/Enforcing_Code_Formatting_Rules.xml|Managing and Applying Code Formatting Rules" data-main-title="Managing and Applying Code Formatting Rules" data-disqus-id="Enforcing_Code_Formatting_Rules_rdr"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索JetBrains Rider帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>JetBrains Rider 2019.2帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option value="visual_studio" data-group="primary">视觉工作室</option><option value="resharper" data-group="primary">锐化器</option><option value="_default" data-group="primary">默认（IntelliJ IDEA）</option><option value="visual_studio_osx" data-group="secondary">Visual Studio（macOS）</option><option value="resharper_osx" data-group="secondary">ReSharper（macOS）</option><option value="mac_os_x_10.5_" data-group="secondary">Mac OS X 10.5+（IntelliJ IDEA）</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 id="Enforcing_Code_Formatting_Rules.xml" data-toc="editing.codeReformatting">管理和应用代码格式化规则</h1>                    <a name="%actionId%"></a>    <p id="03ac2282">      <span class="menupath" data-skip-index="skip">代码重新格式化代码</span>      <br>      <kbd data-visual_studio="Ctrl+Alt+Enter" data-resharper="Ctrl+Alt+L" data-_default="Ctrl+Alt+L" data-visual_studio_osx="⌘ ⌥ Enter" data-resharper_osx="⌘ ⌥ L" data-mac_os_x_10.5_="⌘ ⌥ L">Ctrl+Alt+Enter</kbd>    </p>      <a name="intro"></a>        <p id="65e47213">代码样式的一个重要方面是如何设置代码格式，即如何使用空格和空白行来排列和分隔代码块，是否以及如何使用制表符缩进，是否以及如何包装长行等。 。</p>        <p id="de6c1e8a">广泛的JetBrains Rider代码格式化规则集具有默认配置，该配置考虑了许多最佳实践。您可以<a href="#configure">配置</a>格式设置规则的每个细节，并在代码中强制执行规则。这些规则适用于JetBrains Rider <a name="apply_features_raw"></a>产生具有<a href="Auto-Completing_Code.html">代码完成</a>和<a href="Code_Generation__Index.html">代码生成</a>功能的新代码，应用<a href="Templates__Index.html">代码模板</a>并执行<a href="Refactorings__Index.html">重构</a> 。格式设置规则也可以<a href="#reformat">应用于</a>当前选择，当前文件中<a href="#reformat">的现有代码</a> ，或者应用于整个解决方案的更大范围。</p>        <div class="chapter"><h2 id="pasted" data-toc="editing.codeReformatting#pasted">自动格式化已编辑和粘贴的代码</h2>        <p id="ced3bd96">在编辑器中键入代码时，键入分号后，JetBrains Rider就会重新格式化表达式<code class="code">;</code>并在键入大括号后立即重新格式化代码块<code class="code">}</code> 。如有必要，您可以在计算机上禁用这些自动格式设置<a name="the_options_page"></a> <span class="menupath" data-skip-index="skip">编辑器|一般|的打字协助</span>页面<a name="product_settings"></a> JetBrains骑士设置<kbd data-visual_studio="Ctrl+Alt+S" data-resharper="Ctrl+Alt+S" data-_default="Ctrl+Alt+S" data-visual_studio_osx="⌘ ," data-resharper_osx="⌘ ," data-mac_os_x_10.5_="⌘ ,">Ctrl+Alt+S</kbd> 。</p>        <p id="912bb2c8">当粘贴代码时，JetBrains Rider还可让您自动应用<a href="#configure">格式设置规则</a> 。默认情况下，粘贴的代码未完全重新格式化，而仅应用缩进设置。如果要完全格式化粘贴的代码，或禁用粘贴时的格式化，请使用<a name="the_auto_format_on_paste_selector"></a>在上的<span class="control">自动格式化粘贴</span>选择器上<a name="the_options_page"></a> <span class="menupath" data-skip-index="skip">编辑器|一般|的打字协助</span>页面<a name="product_settings"></a> JetBrains骑士设置<kbd data-visual_studio="Ctrl+Alt+S" data-resharper="Ctrl+Alt+S" data-_default="Ctrl+Alt+S" data-visual_studio_osx="⌘ ," data-resharper_osx="⌘ ," data-mac_os_x_10.5_="⌘ ,">Ctrl+Alt+S</kbd> 。</p>        <aside class="prompt" rel="912bb2c8" id="tip_undo_paste_formatting" data-type="tip" data-title="">            <p id="dd920da2">即使启用了自动格式设置或粘贴时自动缩进，也可以在不重新格式化的情况下粘贴代码：按<kbd data-visual_studio="Ctrl+Z" data-resharper="Ctrl+Z" data-_default="Ctrl+Z" data-visual_studio_osx="⌘ Z" data-resharper_osx="⌘ Z" data-mac_os_x_10.5_="⌘ Z">Ctrl+Z</kbd>粘贴后立即进行，仅格式化将被撤消。</p>        </aside>            </div>    <div class="chapter"><h2 id="reformat" data-toc="editing.codeReformatting#reformat">重新格式化现有代码</h2>        <p id="af1b1bfc">JetBrains Rider提供了几种重新格式化现有代码的方法。简而言之，您可以随时使用<kbd data-visual_studio="Ctrl+Alt+Enter" data-resharper="Ctrl+Alt+L" data-_default="Ctrl+Alt+L" data-visual_studio_osx="⌘ ⌥ Enter" data-resharper_osx="⌘ ⌥ L" data-mac_os_x_10.5_="⌘ ⌥ L">Ctrl+Alt+Enter</kbd> ，但是下面介绍了一些详细信息和替代方法。</p>        <section class="procedure-steps"><h3 id="057c13eb">重新格式化任何范围内的现有代码</h3><a name="step_select_scope"></a><ol class="list _decimal"><li class="list__item" id="48830646">            <p id="376d4f61">选择您要重新格式化代码的范围：</p>            <ul class="list _ul"><li class="list__item" id="ed821c86"><p>在编辑器中进行选择以重新格式化选择中的代码。</p></li><li class="list__item" id="867f9646"><p>将插入符号设置在文件中的任何位置以重新格式化文件中的代码。</p></li><li class="list__item" id="cb16c7bd"><p>在<span class="control">解决方案资源管理器中</span>选择一个或多个项目，以重新格式化这些项目及其子项目下文件的代码。</p></li></ul>        </li><li class="list__item" id="bf4202ef"><p>            <a name="invoke_command"></a>按<a name="invoke_command_base"></a><kbd data-visual_studio="Ctrl+Alt+Enter" data-resharper="Ctrl+Alt+L" data-_default="Ctrl+Alt+L" data-visual_studio_osx="⌘ ⌥ Enter" data-resharper_osx="⌘ ⌥ L" data-mac_os_x_10.5_="⌘ ⌥ L">Ctrl+Alt+Enter</kbd>或选择<a name="%actionId%"></a> <span class="menupath" data-skip-index="skip">代码</span>从主菜单<span class="menupath" data-skip-index="skip">重新格式化代码</span> 。或者，您可以按<kbd data-visual_studio="Ctrl+Shift+A" data-resharper="Ctrl+Shift+A" data-_default="Ctrl+Shift+A" data-visual_studio_osx="⌘ ⇧ A" data-resharper_osx="⌘ ⇧ A" data-mac_os_x_10.5_="⌘ ⇧ A">Ctrl+Shift+A</kbd> ，开始在弹出窗口中键入命令名称，然后在此处选择它。</p></li></ol></section>        <p id="84af36e8">您可以直接从<kbd class="keystroke" data-bypass="true"><span class="keystroke__value">Alt+Enter</span></kbd>动作清单。</p>        <section class="procedure-steps"><h3 id="7c7ae574">在当前选择中重新格式化代码</h3><ol class="list _decimal"><li class="list__item" id="8046cbc6"><p>在编辑器中，选择要重新格式化的代码块。</p></li><li class="list__item" id="a4a80b83"><p>按<kbd data-visual_studio="Alt+Enter" data-resharper="Alt+Enter" data-_default="Alt+Enter" data-visual_studio_osx="⌥ Enter" data-resharper_osx="⌥ Enter" data-mac_os_x_10.5_="⌥ Enter">Alt+Enter</kbd>或单击插入符号左侧的<a href="Actions_List.html#indicators">动作指示器</a>以打开<a href="Actions_List.html#action_list">动作列表</a> 。</p></li><li class="list__item" id="e5c68220"><p>选择<img alt="ThemedIcon CodeCleanupOption页面屏幕灰色" title="ThemedIcon CodeCleanupOption页面屏幕灰色" src="/help/img/rider/2019.2/ThemedIcon.CodeCleanupOptionPage.Screen.[Gray].png" id="10c34b54" width="13" height="13" class="inline-icon-13">在操作列表中<span class="control">选择格式</span> 。</p><figure><img alt="重新格式化当前选择的代码" title="重新格式化当前选择的代码" src="/help/img/rider/2019.2/format_selection.png" id="150ac3b7" width="434" height="237"></figure>            <p></p></li></ol></section>        <p id="6f0d47ae">另外，您可以使用<a href="Code_Cleanup__Index.html">代码清除</a>来重新格式化任何范围内的代码。如果要将代码重新格式化与应用其他代码样式结合使用，代码清理可能会有所帮助。</p>        <a name="generated_note"></a>        <aside class="prompt" rel="reformat" id="732b2604" data-type="note" data-title="">            <p id="548a5936">代码清除不适用于生成的代码。默认情况下，JetBrains Rider提供通常由Visual Studio生成的生成代码（例如Windows Form Designer生成的代码）的文件掩码和区域列表。如有必要，您可以在上<a href="Code_Analysis__Configuring_Warnings.html#exclude_generated">编辑生成的项目列表</a> <a name="the_options_page"></a> <span class="menupath" data-skip-index="skip">编辑器|检查设置|的“生成的代码”</span>页面<a name="product_settings"></a> JetBrains骑士设置<kbd data-visual_studio="Ctrl+Alt+S" data-resharper="Ctrl+Alt+S" data-_default="Ctrl+Alt+S" data-visual_studio_osx="⌘ ," data-resharper_osx="⌘ ," data-mac_os_x_10.5_="⌘ ,">Ctrl+Alt+S</kbd> 。</p>        </aside>            <section class="procedure-steps"><h3 id="e9c34d61">使用代码清除重新格式化代码</h3><a name="step_select_scope"></a><ol class="list _decimal"><li class="list__item" id="0b4d613b">            <p id="7ce41e1e">选择您要重新格式化代码的范围：</p>            <ul class="list _ul"><li class="list__item" id="c13c14ea"><p>在编辑器中进行选择以重新格式化选择中的代码。</p></li><li class="list__item" id="48cbe21e"><p>将插入符号设置在文件中的任何位置以重新格式化文件中的代码。</p></li><li class="list__item" id="298149d7"><p>在<span class="control">解决方案资源管理器中</span>选择一个或多个项目，以重新格式化这些项目及其子项目下文件的代码。</p></li></ul>        </li><li class="list__item" id="e7719f72"><p>选择<span class="control">代码|</span>在主菜单中的<span class="control">代码清除</span> 。</p></li><li class="list__item" id="9200abd7"><p>在打开的<span>“代码清除”对话框</span>中，选择“ <i id="c22d8933">默认：重新格式化代码”</i>配置文件。</p></li><li class="list__item" id="0ea5bc9b"><p>单击<span class="control">确定</span> 。JetBrains Rider将根据您的格式偏好设置在选定范围内重新格式化代码。</p></li></ol></section>        <aside class="prompt" rel="e9c34d61" id="ce197306" data-type="note" data-title="">            <p id="c3f1627a"><i id="a4c7d3d5">默认：重新格式化代码</i>配置文件不会重新格式化XML文档注释。您可以使用“ <i id="8425db49">默认值：完全清除”</i>配置文件或为此创建自己的自定义清除配置文件。有关详细信息，请参阅<a href="Code_Cleanup__Usage_Scenarios__Reformatting_XML.html">重新格式化XML文档注释</a> 。</p>        </aside>        <a name="silent"></a>                        </div>    <div class="chapter"><h2 id="using-code-inspection-to-maintain-formatting-rules" data-toc="editing.codeReformatting#using-code-inspection-to-maintain-formatting-rules">使用代码检查来维护C＃中的格式设置规则</h2>        <p id="1fbc5ad8">在C＃中，还可以使用<a href="Finding_Code_Issues.html">代码检查功能</a>来维护代码格式化样式。JetBrains Rider提供<a href="Reference__Code_Inspections_CSHARP.html#FormattingIssues">了数十种</a>格式检查，默认情况下所有这些检查均处于禁用状态。</p>        <a name="cpp_support_note"></a>                    <p id="25039cef">根据解决方案的不同，您的代码库可能会发生数百种轻微的格式冲突，例如方法之间的缩进大小不同，开关语句中的大小写标签缩进不同，缺少换行符等。为所有这些违规启用代码检查可能太吵了。</p>        <p id="2a65c9fd">另一方面，存在格式化问题，这些问题会降低代码的可读性或可能影响您对代码的理解。例如：</p>                <ul class="list _ul"><li class="list__item" id="731b12f2"><p>同一行上有多个类型成员，</p></li><li class="list__item" id="e01cd253"><p>一行上有多个语句，</p></li><li class="list__item" id="faa983b8"><p>在子语句周围缩进不正确，</p></li><li class="list__item" id="f92a4b07"><p>声明括号周围的缩进不正确，</p></li><li class="list__item" id="8f5c13c5"><p>声明括号周围的缩进不正确。</p></li></ul>        <p id="3c9c91d0">对于此类格式问题，我们建议<a href="Code_Analysis__Configuring_Warnings.html#disable">启用</a>代码检查。</p>            </div>    <div class="chapter"><h2 id="keeping-existing-formatting" data-toc="editing.codeReformatting#keeping-existing-formatting">保持现有格式</h2>        <p id="5a59383b">您可以“轻轻地”应用一些格式设置规则，这意味着当JetBrains Rider出现时将应用这些规则<a name="apply_features_raw"></a>产生具有<a href="Auto-Completing_Code.html">代码完成</a>和<a href="Code_Generation__Index.html">代码生成</a>功能的新代码，应用<a href="Templates__Index.html">代码模板</a>并执行<a href="Refactorings__Index.html">重构</a> ，但是当您<a href="#reformat">重新格式化现有代码</a>时，这些规则将被忽略（例如，使用<kbd data-visual_studio="Ctrl+Alt+Enter" data-resharper="Ctrl+Alt+L" data-_default="Ctrl+Alt+L" data-visual_studio_osx="⌘ ⌥ Enter" data-resharper_osx="⌘ ⌥ L" data-mac_os_x_10.5_="⌘ ⌥ L">Ctrl+Alt+Enter</kbd> ）。</p>        <p id="ff43a514">要使格式设置规则不太严格， <span class="control">请</span>对特定上下文使用“ <span class="control">保留现有...”</span> ，“ <span class="control">保留最大空白行</span> ”和“ <span class="control">简单包装”</span>首选项。您可以在以下位置检查或更改这些首选项的配置<a name="product_settings"></a> JetBrains骑士设置<kbd data-visual_studio="Ctrl+Alt+S" data-resharper="Ctrl+Alt+S" data-_default="Ctrl+Alt+S" data-visual_studio_osx="⌘ ," data-resharper_osx="⌘ ," data-mac_os_x_10.5_="⌘ ,">Ctrl+Alt+S</kbd> ：</p>        <figure><img alt="JetBrains Rider：保留选定规则的现有格式" title="JetBrains Rider：保留选定规则的现有格式" src="/help/img/rider/2019.2/keep_existing_formatting.png" id="8e435204" width="592" height="186"></figure>    </div>    <div class="chapter"><h2 id="reformatting-with-different-line-break-styles" data-toc="editing.codeReformatting#reformatting-with-different-line-break-styles">重新格式化具有不同换行样式的代码</h2>        <p id="91150af2">JetBrains Rider还允许您使用显式操作，而不是设置格式规则以不同的方式重新格式化相似的代码。当您选择<a href="#keeping-existing-formatting">保留</a>相关规则的<a href="#keeping-existing-formatting">现有格式</a>时，这些操作最有帮助。但是，如果设置更严格，则相应的显式格式化操作将不起作用，因为此类配置意味着格式化规则应始终应用于受影响的上下文中。例如，如果禁用了“ <span class="control">保持现有...”</span>首选项，则下面描述的wrap / chop / spacious / compact命令将呈现相同的结果。如果将某些换行规则设置为<span class="control">Chop ...</span> ，则即使调用了wrap / compact命令，也会始终切掉相应上下文中的代码。</p>        <div class="chapter"><h3 id="wrap-long-line">包装和切长线</h3>            <p id="87749169">当插入符在一条线上时，“ <span class="control">Wrap long line”</span>和“ <span class="control">Chop long line”</span>操作可用，该操作比允许的最大行长长-您可以使用“ <span class="control">Right margin（columns）”</span>首选项配置它<a name="the_options_page"></a> <span class="menupath" data-skip-index="skip">编辑器|代码样式| C＃|的换行和换行</span>页面<a name="product_settings"></a> JetBrains骑士设置<kbd data-visual_studio="Ctrl+Alt+S" data-resharper="Ctrl+Alt+S" data-_default="Ctrl+Alt+S" data-visual_studio_osx="⌘ ," data-resharper_osx="⌘ ," data-mac_os_x_10.5_="⌘ ,">Ctrl+Alt+S</kbd> 。</p>            <p id="ad32f63a">你可以按<kbd data-visual_studio="Alt+Enter" data-resharper="Alt+Enter" data-_default="Alt+Enter" data-visual_studio_osx="⌥ Enter" data-resharper_osx="⌥ Enter" data-mac_os_x_10.5_="⌥ Enter">Alt+Enter</kbd>并选择一项操作以添加必要的换行符。</p>            <p id="a21e8504"><span class="control">长行换行将</span>添加仅足够的换行符，以确保不超过配置的<span class="control">行长</span> ：</p>            <p id="10cb7226">                <span class="emphasis">重新格式化之前</span>            </p>            <div class="code-block" data-lang="csharp">var reportHtml = CreateReport（“ 359CD313-7C7E-49B2-A2AB-E12FDFD1319D”，DateTimeOffset。UtcNow。AddMonths（-1），DateTimeOffset。UtcNow，useRichText：true）;</div>            <p id="e61d8320">                <span class="emphasis">重新格式化后</span>            </p>            <div class="code-block" data-lang="csharp">var reportHtml = CreateReport（“ 359CD313-7C7E-49B2-A2AB-E12FDFD1319D”，DateTimeOffset。UtcNow。AddMonths（-1），DateTimeOffset。UtcNow，useRichText：true）;</div>            <p id="82029fc4"><span class="control">长</span>整行将为该行上的每个实体添加换行符：</p>            <p id="f3984f07">                <span class="emphasis">重新格式化之前</span>            </p>            <div class="code-block" data-lang="csharp">var reportHtml = CreateReport（“ 359CD313-7C7E-49B2-A2AB-E12FDFD1319D”，DateTimeOffset。UtcNow。AddMonths（-1），DateTimeOffset。UtcNow，useRichText：true）;</div>            <p id="71d93f01">                <span class="emphasis">重新格式化后</span>            </p>            <div class="code-block" data-lang="csharp">var reportHtml = CreateReport（“ 359CD313-7C7E-49B2-A2AB-E12FDFD1319D”，DateTimeOffset。UtcNow。AddMonths（-1），DateTimeOffset。UtcNow，useRichText：true）;</div>        </div>        <div class="chapter"><h3 id="compact-spacious-and-strict-format-for-code-blocks">紧凑，宽敞且严格的代码块格式</h3>            <p id="c6ffc269">用于显式重新格式化代码的另一组操作可帮助您在选择中强制执行更紧凑（更少的换行符）或更宽敞（更多的换行符）格式。</p>            <p id="204de64d">要调用这些动作，请选择一个代码块（您可以使用<kbd data-visual_studio="Ctrl+Alt+Right" data-resharper="Ctrl+W" data-_default="Ctrl+W" data-visual_studio_osx="⌘ ⌥ Right" data-resharper_osx="⌥ Up" data-mac_os_x_10.5_="⌥ Up">Ctrl+Alt+Right</kbd>选择一个逻辑块），按<kbd data-visual_studio="Alt+Enter" data-resharper="Alt+Enter" data-_default="Alt+Enter" data-visual_studio_osx="⌥ Enter" data-resharper_osx="⌥ Enter" data-mac_os_x_10.5_="⌥ Enter">Alt+Enter</kbd>然后选择“ <span class="control">格式选择”</span>下的操作之一。</p>            <p id="2c639918">如果您有太多的换行符，这对阅读代码没有帮助，则最好删除它们。在下面的示例中，空的getter和setter不会带来任何有用的信息，可以安全地放在一行上。您可以使用<span class="control">紧凑格式（较少的换行符）</span>操作来执行此操作：</p>            <div class="table-wrapper"><table class="  _layout-fixed" width="100%" id="028042de"><thead><tr id="8c23ff02" class="ijRowHead"><th id="a65f5bd3"><p>重新格式化之前</p></th><th id="b985d25b"><p>重新格式化后</p></th></tr></thead><tbody><tr id="69699ee1" class="ijRowOdd"><td id="ed2cbd7b">                        <div class="code-block" data-lang="csharp">公共字符串名称{get;组; } public int年龄{get;组; }</div>                    </td><td id="c34d2553">                        <div class="code-block" data-lang="csharp">公共字符串名称{get;组; } public int年龄{get;组; }</div>                    </td></tr></tbody></table></div>            <p id="1143d24b">您可能想使用<span class="control">宽敞的格式（印章）</span>使多行代码块更易于阅读。例如，您可能想在复杂的行中添加更多的换行符<code class="code">if</code>陈述或沉重<code class="code">XElement</code>构造函数调用：</p>            <p id="3327b540">                <span class="emphasis">重新格式化之前</span>            </p>            <div class="code-block" data-lang="csharp">汇总表。添加（新XElement（“ tr”，新XElement（“ td”，XmlHelpers。CreateHyperlink（检查。文本，CodeInspectionHelpers。TryGetStaticHref（检查。id），null，true），新的XComment（compoundName）），新的XElement（“ td”，GetSeverityLink（检查）。严重程度））））；</div>            <p id="5f6d8a9a">                <span class="emphasis">重新格式化后</span>            </p>            <div class="code-block" data-lang="csharp">汇总表。添加（新XElement（“ tr”，新XElement（“ td”，XmlHelpers。CreateHyperlink（检查。文本，CodeInspectionHelpers。TryGetStaticHref（检查。id），null，true），新的XComment（compoundName）），新的XElement（“ td”，GetSeverityLink（检查）。严重程度））））；</div>            <p id="8b4b973a">“ <span class="control">严格格式”</span>操作将重新格式化选择，而忽略任何现有的换行符，而与“ <span class="control">保持现有...”</span>首选项的配置方式无关。</p>        </div>    </div>    <div class="chapter"><h2 id="configure" data-toc="editing.codeReformatting#configure">配置代码格式规则</h2>        <p id="7a48d25e">可以将格式化规则配置为很高的详细程度。例如，您可以定义是在特定运算符周围放置空格还是缩进嵌套<code class="code">using</code>陈述。</p>        <aside class="prompt" rel="7a48d25e" id="54e3232f" data-type="tip" data-title="">            <p id="e4679aa2">您还可以使用<a href="Using_EditorConfig.html">EditorConfig</a>配置代码格式。</p>        </aside>        <section class="procedure-steps"><h3 id="dce9d3f6">配置代码格式规则</h3><a name="step_open_options"></a><ol class="list _decimal"><li class="list__item" id="37c46b99"><p>            <a name="open_options_raw"></a>按<kbd data-visual_studio="Ctrl+Alt+S" data-resharper="Ctrl+Alt+S" data-_default="Ctrl+Alt+S" data-visual_studio_osx="⌘ ," data-resharper_osx="⌘ ," data-mac_os_x_10.5_="⌘ ,">Ctrl+Alt+S</kbd> ，或者从主菜单中选择“ <span class="menupath" data-skip-index="skip">文件” |“</span>在Windows和Linux或<span class="menupath" data-skip-index="skip">JetBrains公司骑士</span> <span class="menupath" data-skip-index="skip">设置</span> <span class="menupath" data-skip-index="skip">|</span> macOS上的<span class="menupath" data-skip-index="skip">首选项</span> 。</p></li><li class="list__item" id="c26bf450"><p>使用<span class="menupath" data-skip-index="skip">编辑器|代码样式| [Language]</span>页面可配置特定于语言的格式首选项。在这些页面上，您可以使用底部的预览区域来查看JetBrains Rider如何将特定首选项应用于代码。</p></li><li class="list__item" id="693195cf"><p>请点击<a name="save_inline"></a> <span class="control">单击保存</span>以应用修改，然后让JetBrains Rider选择将修改<span class="control">保存</span>到何处，或使用“ <span class="control">保存到”</span>列表将修改保存到特定的设置层。有关更多信息，请参见<a href="Sharing_Configuration_Options.html">基于图层的设置</a> 。</p></li></ol></section>            </div>            <div class="chapter"><h2 id="using-comments-to-configure-formatter" data-toc="editing.codeReformatting#using-comments-to-configure-formatter">使用注释来配置格式化程序</h2>        <p id="ecab83ab">JetBrains Rider允许您偏离配置的格式设置规则，而无需实际更改规则。您甚至可以在代码的某些部分完全禁用格式化程序。</p>        <aside class="prompt" rel="ecab83ab" id="26d63233" data-type="note" data-title="">            <p id="246e6df1">您可以使用C＃，JavaScript，TypeScript，HTML和Protobuf中的注释来配置格式化程序。</p>        </aside>        <p id="ac6a5eb0">要禁用格式化程序，请使用以下注释：</p>        <ul class="list _ul"><li class="list__item" id="df07d6d8"><p>                <code class="code">// @formatter:off</code> —在此行之后禁用格式化程序</p></li><li class="list__item" id="0b74955a"><p>                <code class="code">// @formatter:on</code> —在此行之后启用格式化程序</p></li></ul>        <p id="5b1aba07">如果禁用格式化程序太多，则可以用注释更改任何单独的格式化规则。</p>        <section class="procedure-steps"><h3 id="1df5c089">更改带有注释的单个格式设置规则</h3><ol class="list _decimal"><li class="list__item" id="6b41745c"><p>查找您要调整的格式设置规则的名称。你可以看一下<a name="the_options_page"></a> <span class="menupath" data-skip-index="skip">编辑器|代码样式|的[语言]</span>页面<a name="product_settings"></a> JetBrains骑士设置<kbd data-visual_studio="Ctrl+Alt+S" data-resharper="Ctrl+Alt+S" data-_default="Ctrl+Alt+S" data-visual_studio_osx="⌘ ," data-resharper_osx="⌘ ," data-mac_os_x_10.5_="⌘ ,">Ctrl+Alt+S</kbd> 。</p></li><li class="list__item" id="dd1b1107"><p>当您知道规则的名称时，可以在<a href="EditorConfig_Index.html">EditorConfig属性</a>的<a href="EditorConfig_Index.html">Index中</a>查找其ID-在浏览器中使用搜索。例如，如果要查找在分号前触发空格的规则，请在分号<span class="emphasis">前</span>搜索， <span class="emphasis">然后</span>找到ID： <code class="code">space_before_semicolon</code> 。</p></li><li class="list__item" id="efe7cfd1"><p>在索引网页上找到规则的ID时，单击描述链接以了解该规则允许使用哪些值。以下示例<code class="code">space_before_semicolon</code> ，它<a href="EditorConfig_CSHARP_SpacesPageSchema.html#resharper_csharp_space_before_semicolon">可以接受</a> <code class="code">true</code>要么<code class="code">false</code> 。</p></li><li class="list__item" id="be6fc75d"><p>在要更改规则的代码之前添加以下注释：<br>                <code class="code">// @formatter:<rule_ID> <value></code> ，例如，要在分号前启用空格，请添加<br>                <code class="code">// @formatter:space_before_semicolon true</code> 。</p></li><li class="list__item" id="9b6d39a0"><p>规则的新值将一直应用到文件末尾。如果要返回到设置中配置的值，请添加以下注释：<br>                <code class="code">// @formatter:<rule_ID> restore</code> ， 例如，<br>                <code class="code">// @formatter:space_before_semicolon restore</code> 。</p></li></ol></section>    </div>        <div class="chapter"><h2 id="storing_and_sharing" data-toc="editing.codeReformatting#storing_and_sharing">存储和共享格式设置规则</h2>                                    <p id="ef50352f">Rider使用<a href="Directory_Based_Settings.html">基于目录的设置</a> （对于Web语言）和<a href="Sharing_Configuration_Options.html">基于图层的设置</a> （对于.NET语言）存储其代码格式首选项。两种设置管理机制都支持共享设置。基于图层的设置也与ReSharper兼容。<br>在“骑手设置”对话框中，您可以查看图标以查看针对特定语言使用的设置管理机制：</p>        <figure><img alt="车手：代码格式设置" title="车手：代码格式设置" src="/help/img/rider/2019.2/code_style_settings.png" id="515a026c" width="382" height="164"></figure>        <p id="ee19f636">JetBrains Rider还支持在<a href="Using_EditorConfig.html">EditorConfig中</a>定义的格式设置。这些设置可以存储在解决方案层次结构不同级别上的<span class="filepath">.editorconfig</span>文件中。这些文件通常放在VCS下，以便在那里定义的设置在项目团队之间共享。<br>使用JetBrains Rider，您可以使用EditorConfig定义在JetBrains Rider设置（在“ <span class="control">设置”</span>对话框中）可用的任何格式设置首选项。您可以在<a href="EditorConfig_Properties.html">EditorConfig参考中</a>找到支持的EditorConfig属性的名称和描述。</p>        <p id="ce2f5cce">重要的是要注意， <span class="filepath">.editorconfig</span>文件中定义的任何格式设置属性都将覆盖该<span class="filepath">.editorconfig</span>文件适用范围内的JetBrains Rider设置中定义的相同属性。</p>            </div>    <a name="supported_in"></a>        <a name="supported_in_csharp"></a>                                                <a name="style_seealso"></a>            <div class="last-modified" data-skip-index="skip">上次修改时间：2019年11月29日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="Code_Formatting_Style.html">格式化和重新格式化代码</a> <a class="navigation-links__next" href="Code_Cleanup__Usage_Scenarios__Reformatting_XML.html">重新格式化XML文档注释</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>