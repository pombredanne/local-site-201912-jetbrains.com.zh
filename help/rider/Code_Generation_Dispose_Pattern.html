<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>Generate Dispose Pattern - Help | JetBrains Rider</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body data-id="Code_Generation_Dispose_Pattern" data-breadcrumbs="Creating_and_Editing_Code.xml|Create and Edit Code/Code_Generation__Index.xml|Code Generation/Generating_Type_Members.xml|Generate Type Members/Code_Generation_Dispose_Pattern.xml|Generate Dispose Pattern" data-main-title="Generate Dispose Pattern" data-article-props="&#xA;                {&#xA;                &#xA;            &#34;seeAlso&#34;:[&#xA;            &#xA;                {&#34;title&#34;: &#34;Procedures&#34;,&#xA;                 &#34;links&#34;: [&#xA;                &#xA;        {&#34;url&#34;:&#34;Code_Generation__Type_Constructors.html&#34;,&#34;text&#34;:&#34;Generate Type Constructors&#34;}&#xA;    ,&#xA;        {&#34;url&#34;:&#34;Code_Generation__Properties.html&#34;,&#34;text&#34;:&#34;Generate Properties&#34;}&#xA;    ,&#xA;        {&#34;url&#34;:&#34;Code_Generation__Implementing_Overriding_Methods.html&#34;,&#34;text&#34;:&#34;Implementing/Overriding Members&#34;}&#xA;    ,&#xA;        {&#34;url&#34;:&#34;Code_Generation__Partial_Methods.html&#34;,&#34;text&#34;:&#34;Generate Partial Methods&#34;}&#xA;    ,&#xA;        {&#34;url&#34;:&#34;Code_Generation__Equality_Members.html&#34;,&#34;text&#34;:&#34;Generate Equality Members&#34;}&#xA;    ,&#xA;        {&#34;url&#34;:&#34;Code_Generation__Generating_Equality_Comparer.html&#34;,&#34;text&#34;:&#34;Generate Equality Comparer&#34;}&#xA;    ,&#xA;        {&#34;url&#34;:&#34;Code_Generation__Formatting_Members.html&#34;,&#34;text&#34;:&#34;Generate Formatting Members&#34;}&#xA;    &#xA;                    ]},&#xA;                {&#34;title&#34;: &#34;External Links&#34;,&#xA;                 &#34;links&#34;: [&#xA;                &#xA;        {&#34;url&#34;:&#34;http://stackoverflow.com/questions/538060/proper-use-of-the-idisposable-interface&#34;,&#34;text&#34;:&#34;StackOverflow: Proper use of the IDisposable interface&#34;}&#xA;    ,&#xA;        {&#34;url&#34;:&#34;https://msdn.microsoft.com/en-us/library/system.idisposable.aspx&#34;,&#34;text&#34;:&#34;MSDN: IDisposable Interface&#34;}&#xA;    ,&#xA;        {&#34;url&#34;:&#34;http://blog.stephencleary.com/2009/08/how-to-implement-idisposable-and.html&#34;,&#34;text&#34;:&#34;How to Implement IDisposable and Finalizers: 3 Easy Rules. by Stephen Cleary&#34;}&#xA;    &#xA;                    ]},&#xA;                {&#34;title&#34;: &#34;Web Resources&#34;,&#xA;                 &#34;links&#34;: [&#xA;                &#xA;        {&#34;url&#34;:&#34;http://www.jetbrains.net/devnet/community/idea/kb&#34;,&#34;text&#34;:&#34;Developer Community&#34;}&#xA;    &#xA;                    ]}&#xA;            ]&#xA;        &#xA;                }&#xA;            " data-disqus-id="Code_Generation_Dispose_Pattern_rdr"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search JetBrains Rider Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>JetBrains Rider 2019.2 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="primary" value="visual_studio">Visual Studio</option><option data-group="primary" value="resharper">ReSharper</option><option data-group="primary" value="_default">Default (IntelliJ IDEA)</option><option data-group="secondary" value="visual_studio_osx">Visual Studio (macOS)</option><option data-group="secondary" value="resharper_osx">ReSharper (macOS)</option><option data-group="secondary" value="mac_os_x_10.5_">Mac OS X 10.5+ (IntelliJ IDEA)</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 data-toc="Code_Generation_Dispose_Pattern" id="Code_Generation_Dispose_Pattern.xml">Generate Dispose Pattern</h1>            <a name="generateMember_access_intro"></a>        <p id="b754a174">                                    <span data-skip-index="skip" class="menupath">Code | Generate | Dispose Pattern</span>            <br>            <kbd data-visual_studio="Alt+Insert" data-resharper="Alt+Insert" data-_default="Alt+Insert" data-visual_studio_osx="⌘ ^ N" data-resharper_osx="⌘ ^ N" data-mac_os_x_10.5_="⌘ N">Alt+Insert</kbd> |            <span class="control">Dispose Pattern</span>                                </p>        <p id="3f57af0d">        JetBrains Rider helps you automatically generate various implementations of        <code class="code">IDisposable</code> depending on kind of resources that your class owns:    </p>    <ul class="list _ul"><li class="list__item" id="8eaeba89"><p>            If your class only owns managed            <code class="code">IDisposable</code>            resources, JetBrains Rider will help you generate a simple implementation of            <code class="code">public void Dispose()</code> without parameters, where            <code class="code">Dispose()</code> is called on selected disposable members.        </p></li><li class="list__item" id="304e09cc"><p>            If your class only owns unmanaged resources,            <a name="short_unmanaged"></a>                    JetBrains Rider will additionally generate destructor and a                    <code class="code">ReleaseUnmanagedResources</code>                    method where you could write your cleanup code.                        </p></li><li class="list__item" id="6656c353"><p>            If your class owns or will potentially own (via inheritance) both managed and unmanaged resources,            <a name="short_inherit"></a>                    JetBrains Rider will additionally create a                    <code class="code">Dispose(bool disposing)</code> method which could be overridden by the inheritors.                        </p></li></ul>    <p id="a9129023">        To configure how the disposable pattern is implemented, use        <a href="#step_options">option</a> in the        <span class="control">Generate</span> dialog.    </p>    <p id="3fd4d39e">        In the example below, this command is used to generate a disposable pattern for managed        <code class="code">logger</code> and        <code class="code">resource</code> fields, with a single        <a href="#step_options">option</a>        to generate null checks for these fields.    </p>    <div class="table-wrapper"><table class="  _layout-fixed" width="100%" id="1186aad5"><thead><tr id="b5a8e0dd" class="ijRowHead"><th id="e1434a67"><p>Before generation</p></th><th id="b39b9ee0"><p>After generation</p></th></tr></thead><tbody><tr id="4caea798" class="ijRowOdd"><td id="8c389fed">                <div class="code-block" data-lang="csharp">
class MyClass
{
    private Logger logger;
    private IDisposable resource;
}
                </div>            </td><td id="c2c74be3">                <div class="code-block" data-lang="csharp">
class MyClass : IDisposable
{
    private Logger logger;
    private IDisposable resource;

    public void Dispose()
    {
        logger?.Dispose();
        resource?.Dispose();
    }
}
                </div>            </td></tr></tbody></table></div>        <a name="tip_generation_settings_common"></a>        <aside data-type="tip" class="prompt" data-title="" rel="Code_Generation_Dispose_Pattern.xml" id="538cbe0c">            <p id="6b37cc0f">                You can configure common code generation preferences on                <a name="the_options_page"></a>        the        <span data-skip-index="skip" class="menupath">Editor | Members Generation</span>        page of        <a name="product_settings"></a>        JetBrains Rider settings        <kbd data-visual_studio="Ctrl+Alt+S" data-resharper="Ctrl+Alt+S" data-_default="Ctrl+Alt+S" data-visual_studio_osx="⌘ ," data-resharper_osx="⌘ ," data-mac_os_x_10.5_="⌘ ,">Ctrl+Alt+S</kbd>.            </p>        </aside>        <section class="procedure-steps"><h3 id="fa6159cd">To generate a dispose pattern</h3><a name="step_set_caret"></a><ol class="list _decimal"><li class="list__item" id="a2f0d739"><p>            In the editor, set the caret at the type name or            within a type at the line where you want to insert a dispose pattern.            If the caret is on the type name, the generated code will be added in the beginning of the type declaration.        </p></li><li class="list__item" id="0e8592ba"><p>            Press            <kbd data-visual_studio="Alt+Insert" data-resharper="Alt+Insert" data-_default="Alt+Insert" data-visual_studio_osx="⌘ ^ N" data-resharper_osx="⌘ ^ N" data-mac_os_x_10.5_="⌘ N">Alt+Insert</kbd>            or choose                        <a name="Generate"></a>    <span data-skip-index="skip" class="menupath">Code | Generate...</span>              from the main menu. Alternatively, you can press            <kbd data-visual_studio="Ctrl+Shift+A" data-resharper="Ctrl+Shift+A" data-_default="Ctrl+Shift+A" data-visual_studio_osx="⌘ ⇧ A" data-resharper_osx="⌘ ⇧ A" data-mac_os_x_10.5_="⌘ ⇧ A">Ctrl+Shift+A</kbd>, start typing the command name in the popup, and then choose it there.        </p></li><li class="list__item" id="a98575a1"><p>            In the            <span class="control">Generate</span>            popup, select            <span class="control">Dispose Pattern</span>.        </p></li><li class="list__item" id="step_options">            In the            <span class="control">Generate</span>            dialog that appears, you will see a list of private properties and fields of type assignable to            <code class="code">IDisposable</code>.            Select some or all of these type members, and JetBrains Rider will            generate wrappers in the current type that delegate execution to selected type members.            <figure><img alt="Generating a dispose pattern with JetBrains Rider" title="Generating a dispose pattern with JetBrains Rider" src="/help/img/rider/2019.2/Code_Generation_Dispose_Pattern.png" id="fcd4e314" width="333" height="332"></figure>            <a name="optional_controls"></a>        <p id="8846709a">            Optionally, use the following controls in the dialog:        </p>        <ul class="list _ul"><li class="list__item" id="e53aba4f"><p>                <span class="control">Fields can be null</span>                — appears if there are any nullable fields or properties in your type.                By default, this checkbox is selected, meaning that JetBrains Rider will generate null checks                for selected fields.                You can clear this checkbox if you do not need null checks.            </p></li><li class="list__item" id="d341dc52"><p>                <span class="control">I have unmanaged resources</span>                — if this checkbox is selected,                <a name="short_unmanaged"></a>                    JetBrains Rider will additionally generate destructor and a                    <code class="code">ReleaseUnmanagedResources</code>                    method where you could write your cleanup code.                            </p></li><li class="list__item" id="2e2ef94d"><p>                <span class="control">I plan to inherit from this class</span>                — if this checkbox is selected,                <a name="short_inherit"></a>                    JetBrains Rider will additionally create a                    <code class="code">Dispose(bool disposing)</code> method which could be overridden by the inheritors.                            </p></li><li class="list__item" id="d84fe702">                <span class="control">Dispose already exists</span>                — appears if an implementation of                <code class="code">Dispose()</code> already exists and lets you choose whether to:                <ul class="list _ul"><li class="list__item" id="8e0fd4ea"><p>Replace the method if it already exists.</p></li><li class="list__item" id="5a858eb7"><p>Put the newly generated method side by side with the existing one.</p></li><li class="list__item" id="f8cabfbc"><p>Skip generating a new method altogether.</p></li></ul>            </li><li class="list__item" id="ce31c26c">                <span class="control">Destructor already exists</span>                — appears if you have chosen the                <span class="control">I have unmanaged resources</span> option and the class already has a destructor.                Use this selector to choose whether to:                <ul class="list _ul"><li class="list__item" id="e1d23ee9"><p>Replace the method if it already exists.</p></li><li class="list__item" id="7e3b716f"><p>Put the newly generated method side by side with the existing one.</p></li><li class="list__item" id="157f8987"><p>Skip generating a new method altogether.</p></li></ul>            </li></ul>            </li><li class="list__item" id="550bfe5d"><p>            Click                        <span class="control">OK</span>            to complete the wizard.                    </p></li></ol></section>    <p id="25b68365">        This action is also available as a        <a href="Code_Analysis__Quick-Fixes.html">quick-fix</a> if        <code class="code">IDisposable</code> is not implemented.    </p>    <figure><img alt="A quick-fix that helps generate dispose pattern" title="A quick-fix that helps generate dispose pattern" src="/help/img/rider/2019.2/dipsose_pattern_generation_fix.png" id="f969fda7" width="373" height="129"></figure>    <a name="generate_shortcuts_this"></a>                <a name="supported_in"></a>        <a name="supported_in_csharp"></a>                                                <div class="last-modified" data-skip-index="skip">Last modified: 29 November 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="Code_Generation__Delegating_Members.html">Generate Delegating Members</a><a class="navigation-links__next" href="Code_Generation__Generating_Equality_Comparer.html">Generate Equality Comparer</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>