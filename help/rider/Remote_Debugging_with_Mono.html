<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>使用Mono进行远程调试-帮助|帮助JetBrains骑士</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body  data-id="Remote_Debugging_with_Mono" data-breadcrumbs="Building_Running_and_Debugging.xml|Build, Execute, Deploy/Debugging_Code.xml|Debugging/Remote_Debugging_with_Mono.xml|Remote Debugging with Mono" data-main-title="Remote Debugging with Mono" data-disqus-id="Remote_Debugging_with_Mono_rdr"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索JetBrains Rider帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>JetBrains Rider 2019.2帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option value="visual_studio" data-group="primary">视觉工作室</option><option value="resharper" data-group="primary">锐化器</option><option value="_default" data-group="primary">默认（IntelliJ IDEA）</option><option value="visual_studio_osx" data-group="secondary">Visual Studio（macOS）</option><option value="resharper_osx" data-group="secondary">ReSharper（macOS）</option><option value="mac_os_x_10.5_" data-group="secondary">Mac OS X 10.5+（IntelliJ IDEA）</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 id="Remote_Debugging_with_Mono.xml" data-toc="Remote_Debugging_with_Mono">使用Mono进行远程调试</h1>    <p id="cff910c2">当使用Mono在Mac或Linux上运行.NET应用程序时，您可能会注意到应用程序行为上的某些差异或得到一些奇怪的异常，当您在Windows计算机上运行同一应用程序时，这些异常不会重现。远程调试可能会派上用场。</p>    <div class="chapter"><h2 id="debug-information" data-toc="Remote_Debugging_with_Mono#debug-information">调试信息</h2>        <p id="f20ae5ea">在调试模式下构建项目时，MSBuild会生成带有调试信息的PDB文件，该文件基本上将已编译程序集中的二进制代码与源代码链接在一起。根据Mono版本，您将需要不同的PDB：</p>        <ul class="list _ul"><li class="list__item" id="795b7718"><p>5.x版支持便携式PDB格式，因此请确保使用便携式PDB构建项目。<br>为此，右键单击项目并选择<span class="control">Properties</span> ，然后在打开的对话框中选择一个构建配置，然后在<span class="control">Debug type</span>选择器中选择<span class="control">Portable</span> 。</p></li><li class="list__item" id="58bd1595"><p>早期版本需要.mdb格式的调试信息。<br>您可以使用<a href="https://github.com/mono/mono/tree/master/mcs/tools/pdb2mdb" rel="noopener noreferrer" data-external="true" target="_blank">pdb2mdb工具</a>将<span class="filepath">.pdb</span>转换为<span class="filepath">.mdb</span> 。</p></li></ul>        <p id="7d237ba2">然而，JetBrains的骑手使<a href="Debugging_External_Code.html">外部码调试</a> ，因此，如果<span class="control">使能外部调试源</span> <a name="the_options_page"></a> <span class="menupath" data-skip-index="skip">构建，执行，部署|的调试器</span>页面<a name="product_settings"></a> JetBrains骑士设置<kbd data-visual_studio="Ctrl+Alt+S" data-resharper="Ctrl+Alt+S" data-_default="Ctrl+Alt+S" data-visual_studio_osx="⌘ ," data-resharper_osx="⌘ ," data-mac_os_x_10.5_="⌘ ,">Ctrl+Alt+S</kbd>选中（默认情况下为默认），即使没有调试信息，您也可以调试远程Mono应用程序。</p>    </div>    <div class="chapter"><h2 id="debugging-options" data-toc="Remote_Debugging_with_Mono#debugging-options">调试选项</h2>        <p id="1cff7a82">当您在JetBrains Rider中打开应用程序源代码并将其二进制可执行文件或程序集复制到远程计算机时，即可开始调试该应用程序。</p>        <p id="fd036dd1">首先， <a href="Creating_and_Editing_Run_Debug_Configurations.html">创建</a> <span class="emphasis">Mono Remote</span>类型<a href="Creating_and_Editing_Run_Debug_Configurations.html">的运行/调试配置</a> 。在配置选项中，需要根据要连接到远程应用程序的方式指定连接的主机和端口：</p>        <ul class="list _ul"><li class="list__item" id="d750f12f"><p>远程应用程序充当调试代理的服务器（通过<code class="code">server=y</code>旗）。<br>在这种情况下，您首先在远程计算机上启动该应用程序，然后启动此运行/调试配置以连接到它。这是远程计算机上的命令行参数的示例：<br>            <code class="code">mono --debugger-agent=address=X.X.X.X:12345,server=y,transport=dt_socket --debug MyDotNet.exe</code>            <br>您需要将运行/调试配置的<span class="control">主机</span>和<span class="control">端口</span>值设置为<span class="emphasis">远程计算机的</span>主机/端口，也就是说，如果使用上述命令行启动远程应用程序，请指定<code class="code">X.X.X.X</code>在<span class="control">主机</span>字段中<code class="code">1234</code>在“ <span class="control">端口”</span>字段中。</p></li><li class="list__item" id="0b4266eb"><p>远程应用程序充当客户端，JetBrains Rider充当Mono调试器服务器，因此您可以先启动此运行/调试配置，然后等待远程Mono应用程序主动连接到调试器。<br>例如，如果要调试应用程序的启动，可以用这种方式连接到远程Mono应用程序。这是远程计算机上的命令行参数的示例：<br>            <code class="code">mono --debugger-agent=address=Y.Y.Y.Y:34567,server=n,transport=dt_socket --debug MyDotNet.exe</code>            <br>在这种情况下，您需要将“ <span class="control">主机”</span>和“ <span class="control">端口”</span>值设置<span class="emphasis">为运行JetBrains Rider</span>的<span class="emphasis">计算机的</span>主机/端口，也就是说，如果您使用上述命令行启动远程应用程序，请指定<code class="code">Y.Y.Y.Y</code>在<span class="control">主机</span>字段中<code class="code">34567</code>在“ <span class="control">端口”</span>字段中。</p></li></ul>        <p id="client_or_server">默认情况下，此运行/调试配置将启动Mono调试器客户端。要使其用作服务器，请选择“ <span class="control">侦听传入连接”</span>复选框。</p>    </div><div class="last-modified" data-skip-index="skip">上次修改时间：2019年11月29日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="Debugging_Multithreaded_Applications.html">调试多线程应用程序</a> <a class="navigation-links__next" href="Unit_Testing__Index.html">单元测试</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>