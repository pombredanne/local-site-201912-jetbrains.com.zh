<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>单元测试入门-帮助|帮助JetBrains骑士</title><link rel="stylesheet" href="/resources.jetbrains.com/storage/help-app/v3/app.css"></head><body  data-id="Getting_Started_with_Unit_Testing" data-breadcrumbs="Introduction.xml|Get Started/Getting_Started_with_Unit_Testing.xml|Get Started with Unit Testing" data-main-title="Get Started with Unit Testing" data-article-props="
                {
                
            " seeals=":[=" titl=":=" concept=",=" link=":=" ur=":" unit_testing__index.htm="," tex=":" unit="" testin="}=" web="" resource=",=" http:="" ="" www.jetbrains.net="" devnet="" community="" idea="" k="," developer="" communit="}=" data-disqus-id="Getting_Started_with_Unit_Testing_rdr"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索JetBrains Rider帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>JetBrains Rider 2019.2帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option value="visual_studio" data-group="primary">视觉工作室</option><option value="resharper" data-group="primary">锐化器</option><option value="_default" data-group="primary">默认（IntelliJ IDEA）</option><option value="visual_studio_osx" data-group="secondary">Visual Studio（macOS）</option><option value="resharper_osx" data-group="secondary">ReSharper（macOS）</option><option value="mac_os_x_10.5_" data-group="secondary">Mac OS X 10.5+（IntelliJ IDEA）</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 id="Getting_Started_with_Unit_Testing.xml" data-toc="Getting_Started_with_Unit_Testing">单元测试入门</h1>    <p id="82bf9023">使用JetBrains Rider，您拥有用于单元测试的所有必要工具-从单元测试项目模板到测试结果分析。在本教程中，我们将以NUnit框架为例，创建单元测试，运行它们并查看结果。</p>    <div class="chapter"><h2 id="step-1-add-unit-test-project" data-toc="Getting_Started_with_Unit_Testing#step-1-add-unit-test-project">步骤1。添加单元测试项目</h2>        <p id="d449cca9">在我们的示例中，我们有一个解决方案，其中包含一个名为<code class="code">Sandbox</code> ，该类具有实现原始计算器的类：</p>        <div class="code-block" data-lang="csharp">名称空间沙箱{公共类计算器{公共静态int Add（int x，int y）=> x + y; public static int Subtract（int x，int y）=> x-y; }}</div>        <p id="70bb6b2a">为了测试我们的计算器，让我们首先为单元测试创建一个项目。</p>        <section class="procedure-steps"><ol class="list _decimal"><li class="list__item" id="0a929ba7"><p>在解决方案资源管理器中，右键单击解决方案节点，然后选择“ <span class="menupath" data-skip-index="skip">添加” |“添加”。新项目...</span></p></li><li class="list__item" id="52abdbf3"><p>选择单元测试项目模板。</p></li><li class="list__item" id="a7a6dbda"><p>选择NUnit作为项目类型，并为其提供一个明确的名称，例如， <code class="code">Tests</code> 。</p><figure><img alt="JetBrains Rider：NUnit测试项目的项目模板" title="JetBrains Rider：NUnit测试项目的项目模板" src="/help/img/rider/2019.2/new_project_nunit.png" id="e06b1d94" width="702" height="432"></figure>            <p></p></li><li class="list__item" id="ede259e2"><p>当您点击<span class="control">Create时</span> ，带有所有必要配置和参考的新测试项目将被添加到我们的解决方案中。</p></li></ol></section>    </div>    <div class="chapter"><h2 id="step-2-write-your-first-tests" data-toc="Getting_Started_with_Unit_Testing#step-2-write-your-first-tests">第2步。编写您的第一个测试</h2>        <p id="24c0fcc4">在测试项目中，JetBrains Rider自动为我们的第一个测试创建了一个带有存根的名为<span class="filepath">UnitTest1.cs</span>的文件，并为您打开了该文件。我们准备测试我们的计算器。</p>        <p id="1277215f">单元测试框架包括许多功能，以检查目标代码的工作方式。最直接的方法是将函数的实际输出与期望值进行比较。NUnit提供<code class="code">Assert.AreEqual</code>方法。</p>        <p id="c450c2e8">让我们创建两个测试， <code class="code">PassingTest()</code>将比较结果<code class="code">Add(2,2)</code>反对4和<code class="code">FailingTest()</code>将比较结果<code class="code">Add(2,2)</code>针对5：</p>        <div class="code-block" data-lang="csharp">使用NUnit。框架；使用沙盒；名称空间测试{公共类测试{[测试]公共无效PassingTest（）{断言。AreEqual（4，计算器。加（2,2））; } [测试] public void FailingTest（）{断言。AreEqual（5，计算器。加（2,2））; }}}</div>        <aside class="prompt" rel="e41afceb" id="410c2214" data-type="note" data-title="">            <p id="6daf34be">如果将此示例代码复制粘贴到单元测试文件中，则<code class="code">Calculator</code>用法将突出显示为未解决，因为<code class="code">Sandbox</code>我们的测试项目中未引用该项目。你可以按<kbd data-visual_studio="Alt+Enter" data-resharper="Alt+Enter" data-_default="Alt+Enter" data-visual_studio_osx="⌥ Enter" data-resharper_osx="⌥ Enter" data-mac_os_x_10.5_="⌥ Enter">Alt+Enter</kbd>在突出显示的用法上添加缺少的项目参考。</p>        </aside>    </div>        <div class="chapter"><h2 id="step-3-run-the-tests" data-toc="Getting_Started_with_Unit_Testing#step-3-run-the-tests">第三步运行测试</h2>        <p id="9a8898f4">现在您已经编写了第一个测试，让我们运行它们。您可以单击测试类旁边的单元测试图标，然后选择<span class="control">“全部运行”</span>以运行该类中的所有测试。</p>        <figure><img alt="JetBrains Rider：从编辑器运行单元测试" title="JetBrains Rider：从编辑器运行单元测试" src="/help/img/rider/2019.2/unit_testing_run_all.png" id="67e3e66e" width="601" height="225"></figure>        <p id="efe9a8c2">JetBrains Rider将开始测试并打开“ <a href="Reference_Windows_Unit_Tests.html">单元测试”窗口</a> ，您可以在其中查看测试进度和结果。</p>        <figure><img alt="JetBrains Rider：单元测试执行结果" title="JetBrains Rider：单元测试执行结果" src="/help/img/rider/2019.2/unit_test_window_tutorial.png" id="8fd862b4" width="756" height="225"></figure>    </div>        <div class="chapter"><h2 id="step-4-analyze-test-results" data-toc="Getting_Started_with_Unit_Testing#step-4-analyze-test-results">第四步。分析测试结果</h2>        <p id="9dff0034">不出所料<code class="code">PassingTest</code>已经过去了， <code class="code">FailingTest</code>失败了。通常，您想关注失败的测试。</p>        <section class="procedure-steps"><ol class="list _decimal"><li class="list__item" id="abcf1564"><p>点击<img alt="主题图标状态失败被动屏幕呈灰色" title="主题图标状态失败被动屏幕呈灰色" src="/help/img/rider/2019.2/ThemedIcon.StatusFailedPassive.Screen.[Gray].png" id="6f81db67" width="15" height="15" class="inline-icon-15">工具栏上的图标显示失败的测试并隐藏所有其他测试。</p></li><li class="list__item" id="9e555e81"><p>检查输出以找出测试失败的原因。问题出在被测试的代码中，还是在我们自己的情况下，在测试本身中。</p></li><li class="list__item" id="2147e642"><p>解决此问题，然后再次运行测试。您可以点击<img alt="重新运行失败的测试" title="重新运行失败的测试" src="/help/img/rider/2019.2/icon_rerun_failed_tests.png" id="b946d136" width="15" height="15" class="inline-icon-15">在工具栏上或按<kbd data-visual_studio="Ctrl+U, F" data-resharper="Ctrl+T, F" data-_default="Ctrl+Semicolon, F" data-visual_studio_osx="⌘ U, F" data-resharper_osx="⌘ T, F" data-mac_os_x_10.5_="⌘ Semicolon, F">Ctrl+U, F</kbd>仅重新运行失败的测试-如果您有大量测试，这将节省您的时间。</p></li></ol></section>    </div>    <div class="chapter"><h2 id="step-5-next-steps" data-toc="Getting_Started_with_Unit_Testing#step-5-next-steps">第五步下一步</h2>        <p id="df7d0c68">随着编写更多测试，您最终可能会在测试项目中包含许多文件，甚至可能在解决方案中包含多个测试项目。在这种情况下，使用编辑器控件（如上所述）将不是运行多个测试的最便捷方法。相反，您可以在解决方案资源管理器中找到解决方案，项目或任何包含单元测试的节点，右键单击它们并选择<span class="control">运行单元测试</span> 。或者，您可以在“单元测试”窗口的“ <span class="control">资源管理器”</span>选项卡上浏览解决方案中的所有测试，然后从那里运行测试：</p>        <figure><img alt="JetBrains Rider：单元测试资源管理器显示整个解决方案中的测试" title="JetBrains Rider：单元测试资源管理器显示整个解决方案中的测试" src="/help/img/rider/2019.2/unit_test_explorer.png" id="b7dbbe27" width="673" height="409"></figure>    </div>    <div class="last-modified" data-skip-index="skip">上次修改时间：2019年11月29日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="Get_Started_with_Run_Debug_Configurations.html">运行/调试配置</a> <a class="navigation-links__next" href="Get_Started_with_Version_Control.html">入门版本控制入门</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>