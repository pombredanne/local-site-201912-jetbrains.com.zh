<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>分析概要分析结果-帮助|帮助JetBrains骑士</title><link rel="stylesheet" href="/resources.jetbrains.com/storage/help-app/v3/app.css"></head><body  data-id="Analyzing_Profiling_Snapshots" data-breadcrumbs="Building_Running_and_Debugging.xml|Build, Execute, Deploy/Performance_Profiling.xml|Performance Profiling of .NET Code/Analyzing_Profiling_Snapshots.xml|Analyzing Profiling Results" data-main-title="Analyzing Profiling Results" data-disqus-id="Analyzing_Profiling_Snapshots_rdr"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索JetBrains Rider帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>JetBrains Rider 2019.2帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option value="visual_studio" data-group="primary">视觉工作室</option><option value="resharper" data-group="primary">锐化器</option><option value="_default" data-group="primary">默认（IntelliJ IDEA）</option><option value="visual_studio_osx" data-group="secondary">Visual Studio（macOS）</option><option value="resharper_osx" data-group="secondary">ReSharper（macOS）</option><option value="mac_os_x_10.5_" data-group="secondary">Mac OS X 10.5+（IntelliJ IDEA）</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 id="Analyzing_Profiling_Snapshots.xml" data-toc="Analyzing_Profiling_Snapshots">分析分析结果</h1>    <p id="860c9305">当应用程序运行速度太慢时，可能很难定位问题并了解要采取的措施。因此，在对应用程序进行性能分析并获得性能快照后，下一步就是<a href="#opening-snapshots">打开快照</a>并分析数据。</p>    <p id="de22a858">通常，任何性能分析的最终目标都是确定导致性能问题的特定方法。为了帮助您执行此任务，“ <a href="Performance_Profiler_window.html">性能分析器”</a>窗口提供了两个视图：“ <a href="#call-tree">调用树”</a>和“ <a href="#hot-spots">顶部方法”</a> 。</p>    <figure><img alt="性能分析器。快照分析" title="性能分析器。快照分析" src="/help/img/rider/2019.2/profiler_window.png" id="df8fcdc6" width="902" height="343"></figure>    <div class="chapter"><h2 id="hot-spots" data-toc="Analyzing_Profiling_Snapshots#hot-spots">热门方法</h2>        <p id="191e4e54">            <span class="control">顶级方法</span>显示了所有选定线程中按执行时间排序的方法列表。使用“ <span class="control">顶级方法”</span>来确定“ <span class="control">调用树”</span>特定部分中最慢的方法。</p>        <p id="391c9a2e">            <span class="control">Top Methods</span>是dotTrace独立视图<span class="control">和</span> “ <span class="control">方法和子系统”</span>视图的对应部分。有关如何使用“ <span class="control">最佳方法”的</span>所有主题，请参考<a href="/help/profiler/Plain_List.html" rel="noopener noreferrer" data-external="true" target="_blank">dotTrace文档</a> 。</p>    </div>    <div class="chapter"><h2 id="call-tree" data-toc="Analyzing_Profiling_Snapshots#call-tree">呼叫树</h2>        <p id="965ff7d4">            <span class="control">调用树</span>显示方法执行路径。树中的每个方法节点代表由某个线程执行的顶级方法。方法节点列出了它调用的方法以及性能分析期间收集的指标。</p>        <p id="2c1c43eb">            <span class="control">“呼叫树”</span>是dotTrace独立的“ <span class="control">呼叫树”</span>视图的对应部分。有关如何使用“ <span class="control">调用树”的</span>所有主题，请参考<a href="/help/profiler/Call_Tree.html" rel="noopener noreferrer" data-external="true" target="_blank">dotTrace文档</a> 。</p>    </div>    <div class="chapter"><h2 id="filtering-data-in-timeline-snaps" data-toc="Analyzing_Profiling_Snapshots#filtering-data-in-timeline-snaps">筛选时间轴快照中的数据</h2>        <p id="da3eedcb">            <a href="Profiling_Applications.html#profiling_types">时间线</a>快照包含有关呼叫如何及时分配的其他数据。这使您可以执行更为复杂的时间间隔分析：例如，您可以仅保留发生UI冻结的时间间隔，或保留GC的时间间隔，等等。有关时间轴过滤器的详细信息，请参考<a href="/help/profiler/Filters.html" rel="noopener noreferrer" data-external="true" target="_blank">dotTrace文档</a> 。</p>        <p id="2eda4e1d">当前应用于打开的快照的过滤器显示在<span class="control">Performance Profiler</span>窗口的顶部。要一次删除所有过滤器，请点击<span class="control">重置</span> 。</p>        <section class="procedure-steps"><h3 id="96e0c4e1">按事件应用过滤器</h3><ul class="list "><li class="list__item" id="4bf98639"><p>dotTrace收集各种应用程序数据：垃圾回收和文件操作间隔，内存分配数据，有关引发的异常的数据，等等。从<span class="control">活动</span>的列表中选择一个事件可能对进一步分析一个很好的起点。例如，要查看哪些方法在应用程序中分配内存，请打开<span class="control">.NET内存分配</span>过滤器。要了解有关事件的更多信息，请参考<a href="/help/profiler/Analysis_Subject.html" rel="noopener noreferrer" data-external="true" target="_blank">dotTrace文档</a> 。</p></li></ul></section>        <section class="procedure-steps"><h3 id="9eaaa55f">应用间隔过滤器（UI冻结，传入的HTTP请求和任务）</h3><ul class="list "><li class="list__item" id="615a6145"><p>间隔过滤器的思想是“选择发生某个事件的所有时间间隔”。例如，如果您要分析UI冻结的原因，则可以通过打开<span class="control">UI Freeze</span>仅保留冻结的时间间隔。<span class="control">事件</span>和间隔过滤器之间的区别在于，您可以一次应用多个间隔过滤器（间隔过滤器选择的时间间隔可能在一个线程内重叠）。有关间隔过滤器的更多详细信息，请参考<a href="/help/profiler/Interval_Filters.html" rel="noopener noreferrer" data-external="true" target="_blank">dotTrace文档</a> 。</p></li></ul></section>        <section class="procedure-steps"><h3 id="747f8b02">通过线程应用过滤器</h3><ul class="list "><li class="list__item" id="62b4934d"><p>默认情况下，“ <span class="control">调用树”</span>向您显示一个聚合树，其中包含来自所有线程的所有方法调用： <span class="control">线程：全部</span> 。要应用过滤器，请在列表中选择一个线程。此后，“ <span class="control">调用树”</span> （以及“ <span class="control">顶部方法</span> ”）将仅向您显示所选线程中的方法。</p></li></ul></section>        <section class="procedure-steps"><h3 id="c9c59d18">按线程状态应用过滤器</h3><ul class="list "><li class="list__item" id="a42b2f58"><p><span class="control">线程状态</span>过滤器的思想是“选择线程处于指定状态的所有时间间隔：正在运行还是正在等待”。要应用过滤器，请在“ <span class="control">线程</span>状态”中选择一个状态。</p></li></ul></section>        <section class="procedure-steps"><h3 id="c7d51925">通过方法应用过滤器</h3><ul class="list "><li class="list__item" id="4a24e723"><p>有时，您可能希望专注于调用树中的特定方法。为此，请在“ <span class="control">调用树”</span>或“ <span class="control">顶部方法”</span>中选择<span class="control">方法，</span>然后在上下文菜单中选择“ <span class="control">合并所有方法发生次数”</span> 。此后，所选方法将成为包含所有事件的“ <span class="control">调用树”</span>中的根节点。所有其他呼叫均被隐藏。</p></li></ul></section>        <section class="procedure-steps"><h3 id="5131b0e7">按子系统应用过滤器</h3><ul class="list "><li class="list__item" id="b738d2f3"><p><span class="control">子系统</span>过滤器使您可以快速评估特定调用树中的时间如何在各个组件之间分配：用户和系统代码，WPF，LINQ，文件I / O，集合等。要应用过滤器，请在<span class="control">Subsystems中</span>选择一个子系统。有关子系统的更多信息，请单击此<a href="http://www.jetbrains.com/help/profiler/Subsystems.html" rel="noopener noreferrer" data-external="true" target="_blank">链接</a> 。</p></li></ul></section>    </div>    <div class="chapter"><h2 id="navigating-from-source-code" data-toc="Analyzing_Profiling_Snapshots#navigating-from-source-code">从源代码导航到快照</h2>        <p id="43d8f1d5">请注意，您不仅可以从快照导航到代码，还可以从代码导航到快照。<a href="Searching_Everywhere.html">搜索无处不在</a>命令<kbd data-visual_studio="Ctrl+T" data-resharper="Ctrl+N" data-_default="N/A" data-visual_studio_osx="⌘ T" data-resharper_osx="⌘ N" data-mac_os_x_10.5_="N/A">Ctrl+T</kbd>不仅可以在代码中搜索方法，还可以在打开的性能快照中搜索方法。为此，结果建议列表包含“ <span class="control">快照”</span>类别。在此类别下选择一种方法后，Rider会将您导航到<a href="Performance_Profiler_window.html">Performance Profiler</a>窗口中相应的方法<a href="Performance_Profiler_window.html">实例</a> 。</p>        <figure><img alt="随处搜寻" title="随处搜寻" src="/help/img/rider/2019.2/profiler_search_everywhere.png" id="243af4ca" width="674" height="300"></figure>        <p id="bf04d2e1">“ <a href="Navigation_and_Search__Navigate_from_Here.html">导航到”</a>功能还支持导航到性能快照：在编辑器中，将插入符号放置在某个方法上，然后按<kbd data-visual_studio="Alt+`" data-resharper="Ctrl+Shift+G" data-_default="Ctrl+Shift+G" data-visual_studio_osx="⌘ ⇧ G" data-resharper_osx="⌘ ⇧ G" data-mac_os_x_10.5_="^ ⇧ N">Alt+`</kbd> ，然后选择<span class="control">在性能快照中显示</span> 。</p>    </div>    <div class="chapter"><h2 id="opening-snapshots" data-toc="Analyzing_Profiling_Snapshots#opening-snapshots">使用快照</h2>        <p id="1340acf6">所有收集的快照都显示在<a href="Performance_Profiler_window.html">Performance Profiler</a>窗口的“ <span class="control">所有快照”</span>选项卡上。在这里，您可以打开快照进行分析，删除快照，或将其保存为.dtp（.dtt）格式以导出到其他计算机。</p>        <section class="procedure-steps"><h3 id="601254e6">打开快照</h3><ol class="list _decimal"><li class="list__item" id="98bd8391"><p>（可选）如果仅对当前打开的解决方案的快照感兴趣，请在“ <span class="control">所有快照”</span>选项卡中，单击<img alt="显示解决方案的快照" title="显示解决方案的快照" src="/help/img/rider/2019.2/ThemedIcon.ShowIgnoredErrors.Screen.[Gray].png" id="77585561" width="16" height="16" class="inline-icon-16"> 。</p></li><li class="list__item" id="0c73d3a4"><p>在“ <span class="control">所有快照”</span>选项卡中，选择所需的快照。</p></li><li class="list__item" id="bdbe1aa1">                <p id="4753da9b">请执行以下任一操作：</p>                <ul class="list _ul"><li class="list__item" id="b016d03d"><p>双击快照。</p></li><li class="list__item" id="ceea4976"><p>在上下文菜单中，选择“ <span class="control">打开”</span> 。</p></li></ul>                <p id="edc14330">这将在<span class="control">Performance Profiler</span>窗口的单独选项卡中打开快照。</p>            </li></ol><aside class="prompt" rel="bdbe1aa1" id="external_viewer" data-type="tip" data-title=""><p>如果要在独立版本的dotTrace中打开快照，请在上下文菜单中选择“ <span class="control">在外部查看器</span>中<span class="control">打开”</span> 。</p></aside></section>        <section class="procedure-steps"><h3 id="58c234c9">导出快照</h3><ol class="list _decimal"><li class="list__item" id="54201695"><p>（可选）如果仅对当前打开的解决方案的快照感兴趣，请在“ <span class="control">所有快照”</span>选项卡中，单击<img alt="显示解决方案的快照" title="显示解决方案的快照" src="/help/img/rider/2019.2/ThemedIcon.ShowIgnoredErrors.Screen.[Gray].png" id="963c995d" width="16" height="16" class="inline-icon-16"> 。</p></li><li class="list__item" id="46264e15"><p>在“ <span class="control">所有快照”</span>选项卡中，选择所需的快照。</p></li><li class="list__item" id="cf189835"><p>在上下文菜单中，选择“ <span class="control">导出”</span> 。</p></li><li class="list__item" id="da53f780"><p>指定路径和文件名，然后单击“ <span class="control">确定”</span> 。</p></li></ol></section>        <section class="procedure-steps"><h3 id="efa652e9">打开导出的快照</h3><ol class="list _decimal"><li class="list__item" id="89659bb8"><p>在“ <span class="control">所有快照”</span>选项卡中，单击“ <img alt="打开快照" title="打开快照" src="/help/img/rider/2019.2/icon_open_profiling_snapshot.png" id="76d08709" width="18" height="14" class="inline-icon-18"> 。</p></li><li class="list__item" id="3a1edfd4"><p>指定快照的路径，然后单击“ <span class="control">确定”</span> 。快照将添加到“ <span class="control">所有快照”</span>列表中。</p></li></ol></section>    </div><div class="last-modified" data-skip-index="skip">上次修改时间：2019年11月29日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="Profiling_Any_.NET_Processes.html">附加并分析.NET进程以</a> <a class="navigation-links__next" href="Creating_NuGet_packages.html">创建NuGet程序包</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>