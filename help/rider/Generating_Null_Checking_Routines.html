<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>Generate Null-Checking Routines - Help | JetBrains Rider</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body data-id="Generating_Null_Checking_Routines" data-breadcrumbs="Creating_and_Editing_Code.xml|Create and Edit Code/Code_Generation__Index.xml|Code Generation/Generating_Null_Checking_Routines.xml|Generate Null-Checking Routines" data-main-title="Generate Null-Checking Routines" data-article-props="&#xA;                {&#xA;                &#xA;            &#34;seeAlso&#34;:[&#xA;            &#xA;                {&#34;title&#34;: &#34;Concepts&#34;,&#xA;                 &#34;links&#34;: [&#xA;                &#xA;        {&#34;url&#34;:&#34;Code_Analysis__Code_Annotations.html&#34;,&#34;text&#34;:&#34;Use Annotations to Refine Code Inspection&#34;}&#xA;    ,&#xA;        {&#34;url&#34;:&#34;Code_Analysis__Value_Analysis.html&#34;,&#34;text&#34;:&#34;Value and Nullability Analysis&#34;}&#xA;    &#xA;                    ]},&#xA;                {&#34;title&#34;: &#34;Web Resources&#34;,&#xA;                 &#34;links&#34;: [&#xA;                &#xA;        {&#34;url&#34;:&#34;http://www.jetbrains.net/devnet/community/idea/kb&#34;,&#34;text&#34;:&#34;Developer Community&#34;}&#xA;    &#xA;                    ]}&#xA;            ]&#xA;        &#xA;                }&#xA;            " data-disqus-id="Generating_Null_Checking_Routines_rdr"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search JetBrains Rider Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>JetBrains Rider 2019.2 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="primary" value="visual_studio">Visual Studio</option><option data-group="primary" value="resharper">ReSharper</option><option data-group="primary" value="_default">Default (IntelliJ IDEA)</option><option data-group="secondary" value="visual_studio_osx">Visual Studio (macOS)</option><option data-group="secondary" value="resharper_osx">ReSharper (macOS)</option><option data-group="secondary" value="mac_os_x_10.5_">Mac OS X 10.5+ (IntelliJ IDEA)</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 data-toc="Generating_Null_Checking_Routines" id="Generating_Null_Checking_Routines.xml">Generate Null-Checking Routines</h1>    <p id="bffbb390">        JetBrains Rider provides plenty of different ways to generate code that checks        value-type parameters, expressions, and variables for null.        Depending on their purpose, null-checking routines can be divided into two categories:    </p>    <ul class="list" data-skip-index="skip"><li class="list__item"><a href="#exception_checks">Null checks for exceptions and assertions</a></li><li class="list__item"><a href="#skip">Null checks to skip objects with null values</a></li></ul>    <div class="chapter"><h2 id="exception_checks" data-toc="Generating_Null_Checking_Routines#exception_checks">Null checks for exceptions and assertions</h2>        <p id="f22a8d4f">            There are situations when encountering an object that is a            <code class="code">null</code>            reference is critical in your program and should be either logged or signalled by throwing an exception.            A typical example here is throwing an            <code class="code">ArgumentNullException</code>            in a function that is not designed to accept            <code class="code">null</code>            objects.        </p>        <div class="chapter"><h3 id="generating-null-checks-for-exceptions-and-assertions">Generate null checks for exceptions and assertions</h3>            <p id="97c090fb">                You can generate these kinds of null checks in the following ways:            </p>            <ul class="list _ul"><li class="list__item" id="191851ac"><p>                    Press                    <kbd data-visual_studio="Alt+Enter" data-resharper="Alt+Enter" data-_default="Alt+Enter" data-visual_studio_osx="⌥ Enter" data-resharper_osx="⌥ Enter" data-mac_os_x_10.5_="⌥ Enter">Alt+Enter</kbd>                    on a parameter or expression and choose the corresponding                    <a href="Coding_Assistance__Context_Actions.html">context action</a>:                    <figure><img alt="JetBrains Rider: Checking parameter for null" title="JetBrains Rider: Checking parameter for null" src="/help/img/rider/2019.2/ca_check_for_null.png" id="43f6c2b9" width="376" height="113"></figure>                </p></li><li class="list__item" id="5253c6ba"><p>                    <a name="typing_assist_for_parameter"></a>                        If a parameter is marked with the                        <a href="Reference__Code_Annotation_Attributes.html#NotNullAttribute">[NotNull]</a>                        attribute, you can set the caret directly after the parameter name or parameter type and press                        <kbd data-bypass="true" class="keystroke"><span class="keystroke__value">!</span></kbd>:                        <div class="code-block" data-lang="csharp">
                            
private void Foo([NotNull] object/*!*/ arg/*!*/)

                        </div>                                    </p></li><li class="list__item" id="b3935459"><p>                    When                    <a href="Code_Generation__Type_Constructors.html">generating a constructor</a>                    (<kbd data-visual_studio="Alt+Insert" data-resharper="Alt+Insert" data-_default="Alt+Insert" data-visual_studio_osx="⌘ ^ N" data-resharper_osx="⌘ ^ N" data-mac_os_x_10.5_="⌘ N">Alt+Insert</kbd>                    <span data-skip-index="skip" class="menupath">| Constructor</span>), select                    <span class="control">Check parameters for nul</span> in the dialog.                </p></li><li class="list__item" id="0b21216d"><p>                    To generate an assertion for                    <code class="code">null</code>                    for any nullable expression, JetBrains Rider provides the                    <span class="control">Assert expression for null</span>                    action on                    <kbd data-visual_studio="Alt+Enter" data-resharper="Alt+Enter" data-_default="Alt+Enter" data-visual_studio_osx="⌥ Enter" data-resharper_osx="⌥ Enter" data-mac_os_x_10.5_="⌥ Enter">Alt+Enter</kbd>.                    Depending on the                    <a href="Code_Analysis__Value_Analysis.html#modes">nullability analysis settings</a>,                    it appears as a                    <a href="Code_Analysis__Quick-Fixes.html">quick-fix</a>                    or a                    <a href="Coding_Assistance__Context_Actions.html">context action</a>.                    <figure><img alt="JetBrains Rider: Asserting expression for null" title="JetBrains Rider: Asserting expression for null" src="/help/img/rider/2019.2/quick_fix_assert_for_null.png" id="c97111c0" width="380" height="142"></figure>                    This action becomes unavailable if JetBrains Rider infers that the expression can never be                    <code class="code">null</code>.                </p></li></ul>            <p id="f54c04f5">                If you                <a href="Code_Analysis__Annotations_in_Source_Code.html">use code annotations</a>                in your project, JetBrains Rider will decorate parameters, which you check for null, with the                <a href="Reference__Code_Annotation_Attributes.html#NotNullAttribute">[NotNull]</a>                attribute.                This will let JetBrains Rider notify you when null objects are passed to the decorated parameters.                <br>                You can disable adding                <code class="code">[NotNull]</code>                by clearing the                <span class="control">Automatically propagate annotations</span> checkbox on                <a name="the_options_page"></a>        the        <span data-skip-index="skip" class="menupath">Editor | Inspection Settings | Code Annotations</span>        page of        <a name="product_settings"></a>        JetBrains Rider settings        <kbd data-visual_studio="Ctrl+Alt+S" data-resharper="Ctrl+Alt+S" data-_default="Ctrl+Alt+S" data-visual_studio_osx="⌘ ," data-resharper_osx="⌘ ," data-mac_os_x_10.5_="⌘ ,">Ctrl+Alt+S</kbd>.            </p>        </div>        <div class="chapter"><h3 id="configuring-null-checks-for-exceptions-and-assertions">Configuring null checks for exceptions and assertions</h3>            <p id="4f3ab214">                This kind of null checks can be written in different ways, so they are configurable on                <a name="the_options_page"></a>        the        <span data-skip-index="skip" class="menupath">Editor | Code Style | C# | Null checking</span>        page of        <a name="product_settings"></a>        JetBrains Rider settings        <kbd data-visual_studio="Ctrl+Alt+S" data-resharper="Ctrl+Alt+S" data-_default="Ctrl+Alt+S" data-visual_studio_osx="⌘ ," data-resharper_osx="⌘ ," data-mac_os_x_10.5_="⌘ ,">Ctrl+Alt+S</kbd>, which is also accessible from the                <kbd data-visual_studio="Alt+Enter" data-resharper="Alt+Enter" data-_default="Alt+Enter" data-visual_studio_osx="⌥ Enter" data-resharper_osx="⌥ Enter" data-mac_os_x_10.5_="⌥ Enter">Alt+Enter</kbd>                menu on the corresponding actions:            </p>            <figure><img alt="JetBrains Rider: a shortcut for configuring null-check pattern" title="JetBrains Rider: a shortcut for configuring null-check pattern" src="/help/img/rider/2019.2/configure_null_check_pattern.png" id="259534ac" width="429" height="116"></figure>            <p id="8b398f2e">                This settings page lists all predefined null-checking patterns in the priority order                with higher priority patterns shown on the top.                When JetBrains Rider generates a null check, it will take the highest-priority pattern                which semantically suits the context, taking into account the current C# version.                <a name="CsOrVbVersion"></a>                By default, JetBrains Rider automatically detects C# version based on the associated compiler.                                                                                However, you can specify the target C# version explicitly                                                    — press                    <kbd data-visual_studio="Alt+Enter" data-resharper="Alt+Enter" data-_default="Alt+Enter" data-visual_studio_osx="⌥ Enter" data-resharper_osx="⌥ Enter" data-mac_os_x_10.5_="⌥ Enter">Alt+Enter</kbd> on the project in the Solution Explorer and use the                    <span class="control">Language version</span> selector on the                    <span class="control">Application</span> page of the <span class="control">Project Properties</span> dialog.                        </p>            <p id="67ab3418">                For example, with the default configuration the 'throw expression' pattern                <code class="code">$EXPR$ ?? new System.ArgumentNullException($NAME$);</code>                has higher priority than the 'classic' throw statement                <code class="code">if ($EXPR$ == null) throw new System.ArgumentNullException($NAME$);</code>.                But if expressions are not allowed in the current context,                JetBrains Rider will skip the first and use the second pattern:            </p>            <div class="code-block" data-lang="csharp">
                
// Press Alt+Enter on 'arg' and choose 'Check parameter for null'
private void Foo(object arg)
{
    // as expression is not allowed here, the statement is generated:
    if (arg == null) throw new ArgumentNullException(nameof(arg));
}

// However, in the following case the expression is already there
private object myField;
private void Foo(object arg)
{
    myField = arg;
}

// so JetBrains Rider will use the first pattern:
private object myField;
private void Foo(object arg)
{
    myField = arg ?? throw new ArgumentNullException(nameof(arg));
}

            </div>            <p id="19ad6b1e">                The same applies to generating assertions: JetBrains Rider will use the first pattern that is marked with                <span class="control">Can use for assertion</span>.            </p>            <p id="e28bdc46">                If you have any preferences for generating null checks, use the                <span class="control">Move up</span>                <kbd data-bypass="true" class="keystroke"><span class="keystroke__value">Alt+U</span></kbd>/                <span class="control">Move down</span>                <kbd data-bypass="true" class="keystroke"><span class="keystroke__value">Alt+D</span></kbd>                buttons on the settings page to raise the priority of patterns that you prefer.            </p>        </div>        <div class="chapter"><h3 id="creating-custom-null-checks-for-exceptions-and-assertions">Creating custom null checks for exceptions and assertions</h3>            <p id="1c56ac85">                If your codebase provides dedicated helper methods for handling null checks,                you may want to create your own null-checking patterns by editing the two custom patterns                that are highlighted in bold on the settings page —                <span class="control">Custom (statement)</span>                and                <span class="control">Custom (expression)</span>:            </p>            <aside data-type="tip" class="prompt" data-title="" rel="1c56ac85" id="044bfafc">                <p id="bce0e38b">                    Mark your custom assertion methods with the                    <a href="Reference__Code_Annotation_Attributes.html#AssertionMethodAttribute">[AssertionMethod]</a> attribute to refine                    <a href="Finding_Code_Issues.html">code inspection</a>.                </p>            </aside>            <figure><img alt="JetBrains Rider: custom patterns for null checking" title="JetBrains Rider: custom patterns for null checking" src="/help/img/dotnet/2019.2/null_checking_custom_patterns.png" id="442cb9ae" width="580" height="276"></figure>            <p id="3cff1d85">                By default, these two patterns have the lowest priority,                meaning that they will never be used for generation.                So if you are going to use them, move them up to raise their priority.            </p>            <p id="ddcec948">                When a custom pattern is selected in the list,                you can edit it in the text field on the bottom of the page using the                <code class="code">$EXPR$</code>,                <code class="code">$NAME$</code>,                <code class="code">$MESSAGE$</code>                placeholders.                As long as the pattern is valid, JetBrains Rider will display the corresponding icon below the text field.                <br>                You can also tick the                <span class="control">Can use for assertion</span> checkbox to make the pattern work with the                <span class="control">Assert expression for null</span> action.            </p>        </div>    </div>    <div class="chapter"><h2 id="skip" data-toc="Generating_Null_Checking_Routines#skip">Null checks to skip objects with null values</h2>        <p id="f59685c9">            Another kind of null checking is used to avoid member access on objects that are            <code class="code">null</code>            references in cases where skipping such objects is acceptable for your program:        </p>        <div class="code-block" data-lang="csharp">
if (expr != null) { DoSomething(); }
// or, starting from C#6.0, with the conditional access operator:
(expr)?.DoSomething();
        </div>        <p id="f8e86287">            To generate such checks, JetBrains Rider provides            <span class="control">Check expression for null</span> and            <span class="control">Use conditional access</span>            actions on            <kbd data-visual_studio="Alt+Enter" data-resharper="Alt+Enter" data-_default="Alt+Enter" data-visual_studio_osx="⌥ Enter" data-resharper_osx="⌥ Enter" data-mac_os_x_10.5_="⌥ Enter">Alt+Enter</kbd>.            Depending on the            <a href="Code_Analysis__Value_Analysis.html#modes">nullability analysis settings</a>,            these actions appear as            <a href="Code_Analysis__Quick-Fixes.html">quick-fixes</a>            or            <a href="Coding_Assistance__Context_Actions.html">context actions</a>.        </p>        <figure><img alt="JetBrains Rider: Check expression for null quick-fix" title="JetBrains Rider: Check expression for null quick-fix" src="/help/img/rider/2019.2/quick_fix_check_for_null.png" id="cb17834e" width="369" height="142"></figure>        <p id="af062302">            However, these actions are unavailable if JetBrains Rider infers that the expression can never return            <code class="code">null</code>, for example, if the corresponding item is marked with the            <a href="Reference__Code_Annotation_Attributes.html#NotNullAttribute">[NotNull]</a>            attribute or if the expression is already checked for null.        </p>    </div>    <a name="supported_in_csharp"></a>                                    <div class="last-modified" data-skip-index="skip">Last modified: 29 November 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="Code_Generation__Generating_Code_from_Usage.html">Generate Code from Usage</a><a class="navigation-links__next" href="Generating_Code_with_Completion.html">Generate Code with Code Completion</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>