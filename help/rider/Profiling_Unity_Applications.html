<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>对Unity应用程序进行性能分析-帮助| JetBrains骑士</title><link rel="stylesheet" href="/resources.jetbrains.com/storage/help-app/v3/app.css"></head><body  data-id="Profiling_Unity_Applications" data-breadcrumbs="Languages_and_Frameworks.xml|Languages and Frameworks/Unity.xml|Unity/Profiling_Unity_Applications.xml|Profiling Unity Applications" data-main-title="Profiling Unity Applications" data-disqus-id="Profiling_Unity_Applications_rdr"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索JetBrains Rider帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>JetBrains Rider 2019.2帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option value="visual_studio" data-group="primary">视觉工作室</option><option value="resharper" data-group="primary">锐化器</option><option value="_default" data-group="primary">默认（IntelliJ IDEA）</option><option value="visual_studio_osx" data-group="secondary">Visual Studio（macOS）</option><option value="resharper_osx" data-group="secondary">ReSharper（macOS）</option><option value="mac_os_x_10.5_" data-group="secondary">Mac OS X 10.5+（IntelliJ IDEA）</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 id="Profiling_Unity_Applications.xml" data-toc="Profiling_Unity_Applications">对Unity应用程序进行性能分析</h1>    <p id="7ee289ab">JetBrains Rider随附了捆绑的性能分析器，可用于查找Unity游戏中的性能瓶颈。这包括在脚本中查找最慢的方法，确定CPU饥饿的原因，阻止垃圾回收，磁盘I / O以及其他问题。集成的探查器基于<a href="/profiler/" rel="noopener noreferrer" data-external="true" target="_blank">JetBrains dotTrace，</a>并与Unity 2018.3及更高版本兼容。您可以通过<a href="Performance_Profiler_window.html">Performance Profiler</a>工具窗口使用<a href="Performance_Profiler_window.html">Profiler</a> 。有关集成探查器的更多详细信息，请参阅<a href="Performance_Profiling.html">.NET代码的性能分析</a> 。</p>    <div class="chapter"><h2 id="installation-and-licensing" data-toc="Profiling_Unity_Applications#installation-and-licensing">安装和许可</h2>        <p id="99c31963">dotTrace作为Rider的捆绑插件提供，并与Rider一起自动安装，无需执行其他操作。如果出于某种原因要禁用dotTrace，则可以通过Rider的<a href="Plugin_Settings.html">插件设置进行</a> 。</p>        <p id="5eb0e21e">请注意，只有<span class="emphasis">ReSharper Ultimate + Rider</span>或“ <span class="emphasis">所有产品包”</span>订阅的所有者才能在Rider中使用dotTrace。</p>    </div>    <div class="chapter"><h2 id="how-to-profile-a-unity-application" data-toc="Profiling_Unity_Applications#how-to-profile-a-unity-application">如何分析Unity应用程序</h2>        <p id="8f32ce27">有两种方法来分析Unity应用程序：</p>        <ul class="list _ul"><li class="list__item" id="0ca21581"><p>剖析在Unity Editor中打开的项目：在这种情况下，探查器将在启用概要分析的情况下重新启动Unity Editor。如果您需要分析当前在Unity Editor和Rider中打开的Unity项目，这是最方便的方法。该方法的缺点是您必须关闭当前正在运行的Unity Editor实例。</p></li><li class="list__item" id="38083cad"><p>对Unity应用程序可执行文件进行概要分析：如果您具有已编译的Unity应用程序可执行文件，则可以对其进行概要分析，而无需重新启动Unity Editor。</p></li></ul>        <section class="procedure-steps"><h3 id="3daa18b2">剖析在Unity Editor和Rider中打开的项目</h3><ol class="list _decimal"><li class="list__item" id="2757868c"><p>在工具栏上，选择运行配置： <span class="control">附加到Unity编辑器</span>或<span class="control">附加到Unity编辑器和播放</span> 。</p></li><li class="list__item" id="e68e55f2"><p>在工具栏上，选择“ <span class="control">时间轴（统一）”</span>配置文件。</p></li><li class="list__item" id="f8874f64"><p>通过单击<img alt="Profile Unity应用" title="Profile Unity应用" src="/help/img/rider/2019.2/profile_unity_icon.png" id="a710296b" width="18" height="18" class="inline-icon-18">使用工具栏上的<span class="control">“时间轴（Unity）”</span>按钮<span class="control">运行“附加到Unity编辑器”</span> 。</p></li><li class="list__item" id="1f8f96b4"><p>关闭Unity编辑器。</p></li><li class="list__item" id="4ed2fdff"><p>点击<img alt="Profile Unity应用" title="Profile Unity应用" src="/help/img/rider/2019.2/profile_unity_icon.png" id="d5f0a9d6" width="18" height="18" class="inline-icon-18"> <span class="control">使用“时间轴（Unity）”</span>按钮再<span class="control">运行一次“附加到Unity编辑器”</span> 。这将启动性能分析会话。</p></li><li class="list__item" id="b0caab83"><p>重现您正在寻找的性能问题，或者，如果您只是评估应用程序的整体性能，请仔细研究应用程序中所需的使用场景。</p></li><li class="list__item" id="4f591a44"><p>请点击<img alt="获取性能快照骑士" title="获取性能快照骑士" src="/help/img/rider/2019.2/icon_get_snapshot.png" id="c283389d" width="10" height="10" class="inline-icon-10"> <span class="control">获取快照</span> 。收集的快照将被添加到<span class="control">Performance Profiler</span>窗口内的快照列表中。要再次开始收集分析数据，请单击<img alt="开始录音" title="开始录音" src="/help/img/rider/2019.2/icon_start_profiling.png" id="9f89436d" width="12" height="12" class="inline-icon-12"> <span class="control">开始录制</span> 。</p></li><li class="list__item" id="c8f6bc92"><p>收集快照后，即可完成性能分析会话。通常，您可以通过关闭已概要分析的应用程序或通过<img alt="分离探查器" title="分离探查器" src="/help/img/rider/2019.2/icon_detach_profiler.png" id="ab495ed2" width="16" height="16" class="inline-icon-16"> <span class="control">分离</span>按钮（ <img alt="杀死进程" title="杀死进程" src="/help/img/rider/2019.2/icon_kill_profiled_app.png" id="d6b739bc" width="16" height="15" class="inline-icon-16"> <span class="control">Kill</span>强行终止已配置的应用程序和会话，因此，仅在紧急情况下使用它）。</p></li><li class="list__item" id="c7404642"><p>                <a href="Analyzing_Profiling_Snapshots.html">分析收集的快照</a> 。</p></li></ol></section>        <section class="procedure-steps"><h3 id="6ab5c3b5">剖析Unity可执行文件</h3><ol class="list _decimal"><li class="list__item" id="01888baa"><p>基于<a href="Run_Debug_Configuration_Unity_Executable.html">Unity Executable</a>创建新的运行配置。</p></li><li class="list__item" id="dc2942e9"><p>在工具栏上选择此运行配置。</p></li><li class="list__item" id="d2d7a45d"><p>在工具栏上，选择“ <span class="control">时间轴（统一）”</span>配置文件。</p></li><li class="list__item" id="37ce1308"><p>通过单击<img alt="Profile Unity应用" title="Profile Unity应用" src="/help/img/rider/2019.2/profile_unity_icon.png" id="eb92a8b2" width="18" height="18" class="inline-icon-18">使用工具栏上的<span class="control">“时间轴（单位）”</span>按钮<span class="control">运行“ your_config”</span> 。</p></li><li class="list__item" id="dfb69293"><p>重现您正在寻找的性能问题，或者，如果您只是评估应用程序的整体性能，请仔细研究应用程序中所需的使用场景。</p></li><li class="list__item" id="a16c090d"><p>请点击<img alt="获取性能快照骑士" title="获取性能快照骑士" src="/help/img/rider/2019.2/icon_get_snapshot.png" id="793b09e0" width="10" height="10" class="inline-icon-10"> <span class="control">获取快照</span> 。收集的快照将被添加到<span class="control">Performance Profiler</span>窗口内的快照列表中。要再次开始收集分析数据，请单击<img alt="开始录音" title="开始录音" src="/help/img/rider/2019.2/icon_start_profiling.png" id="e524f2b5" width="12" height="12" class="inline-icon-12"> <span class="control">开始录制</span> 。</p></li><li class="list__item" id="c8749fce"><p>收集快照后，即可完成性能分析会话。通常，您可以通过关闭已概要分析的应用程序或通过<img alt="分离探查器" title="分离探查器" src="/help/img/rider/2019.2/icon_detach_profiler.png" id="8652313d" width="16" height="16" class="inline-icon-16"> <span class="control">分离</span>按钮（ <img alt="杀死进程" title="杀死进程" src="/help/img/rider/2019.2/icon_kill_profiled_app.png" id="d4fafa8b" width="16" height="15" class="inline-icon-16"> <span class="control">Kill</span>强行终止已配置的应用程序和会话，因此，仅在紧急情况下使用它）。</p></li><li class="list__item" id="b5fc3752"><p>                <a href="Analyzing_Profiling_Snapshots.html">分析收集的快照</a> 。</p></li></ol></section>    </div><div class="last-modified" data-skip-index="skip">上次修改时间：2019年11月29日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="Running_and_Debugging_Unity_Tests.html">运行和调试Unity测试</a> <a class="navigation-links__next" href="Xamarin.html">Xamarin</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>