<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><meta content="&#xA;        Detecting possible NullReferenceException with JetBrains Rider&#xA;    " name="description" data-skip-index="skip"><title>Value and Nullability Analysis - Help | JetBrains Rider</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body data-id="Code_Analysis__Value_Analysis" data-breadcrumbs="Code_Analysis__Index.xml|Code Analysis/Finding_Code_Issues.xml|Find Code Issues with Code Inspection/Code_Analysis__Value_Analysis.xml|Value and Nullability Analysis" data-main-title="Value and Nullability Analysis" data-disqus-id="Code_Analysis__Value_Analysis_rdr"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search JetBrains Rider Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>JetBrains Rider 2019.2 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="primary" value="visual_studio">Visual Studio</option><option data-group="primary" value="resharper">ReSharper</option><option data-group="primary" value="_default">Default (IntelliJ IDEA)</option><option data-group="secondary" value="visual_studio_osx">Visual Studio (macOS)</option><option data-group="secondary" value="resharper_osx">ReSharper (macOS)</option><option data-group="secondary" value="mac_os_x_10.5_">Mac OS X 10.5+ (IntelliJ IDEA)</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 data-toc="Code_Analysis__Value_Analysis" id="Code_Analysis__Value_Analysis.xml">Value and Nullability Analysis</h1>                <p id="a5b9a541">        JetBrains Rider performs value analysis to help you find possible 'null'        dereferences as well as redundant boolean comparisons and null checks.    </p>    <div class="chapter"><h2 id="different-ways-of-analyzing-values" data-toc="Code_Analysis__Value_Analysis#different-ways-of-analyzing-values">Different ways of analyzing values</h2>        <p id="f8863450">            JetBrains Rider analyzes values in two general ways:        </p>        <ul class="list _ul"><li class="list__item" id="893156db">                <p id="2e046f00">By understanding the behavior of language constructs.</p>                <p id="15a5605a">                    In the example below, based on the fact that the parameter                    <code class="code">obj</code>                    was explicitly checked for nullability, JetBrains Rider reasonably supposes that the value of                    <code class="code">obj</code>                    can be indeed 'null' and displays the corresponding warning:                </p>                <figure><img alt="JetBrains Rider: Nullability analysis" title="JetBrains Rider: Nullability analysis" src="/help/img/dotnet/2019.2/Code_Analysis__Value_Analysis__1.png" id="7872eba2" width="424" height="189"></figure>            </li><li class="list__item" id="7e06cf06">                <p id="fbf6a4e9">                    By relying on                    <a href="Code_Analysis__Code_Annotations.html">code annotation attributes</a>                    (<a href="Reference__Code_Annotation_Attributes.html#CanBeNullAttribute">[CanBeNull]</a>,                    <a href="Reference__Code_Annotation_Attributes.html#NotNullAttribute">[NotNull]</a>,                    <a href="Reference__Code_Annotation_Attributes.html#ItemCanBeNullAttribute">                        [ItemCanBeNull]</a>,                    <a href="Reference__Code_Annotation_Attributes.html#ItemNotNullAttribute">[ItemNotNull]</a>)                </p>                <p id="10001d84">                    In this example, the method                    <code class="code">Bar</code>                    is marked with the                    <code class="code">[CanBeNull]</code>                    attribute,                    Using this information, JetBrains Rider warns you that the return value of                    <code class="code">Bar</code>                    can be null, and calling a method on it could lead to a 'null' dereference:                </p>                <figure><img alt="JetBrains Rider: Nullability analysis" title="JetBrains Rider: Nullability analysis" src="/help/img/dotnet/2019.2/Code_Analysis__Value_Analysis__2.png" id="684cfeb1" width="455" height="221"></figure>                <aside data-type="tip" class="prompt" data-title="" rel="684cfeb1" id="5109c08a">                    <p id="85cb2233">                        If necessary, you can make code analysis even more precise with                        <a href="Contract_Annotations.html">contract annotations</a>.                        They help you define dependencies between arguments of a function and its return value.                    </p>                </aside>            </li></ul>        <aside data-type="tip" class="prompt" data-title="" rel="7dfb29d9" id="a6c9b58d">            <p id="f48ba50e">                You can instantly fix these problems (for example automatically add a nullability check) using                <a href="Code_Analysis__Quick-Fixes.html">quick-fixes</a>.            </p>        </aside>    </div>    <div class="chapter"><h2 id="modes" data-toc="Code_Analysis__Value_Analysis#modes">Value and nullability analysis modes</h2>        <p id="cf116918">            JetBrains Rider can analyze values in different modes:        </p>        <ul class="list _ul"><li class="list__item" id="b086692a"><p>                <i id="d434b582">Optimistic</i>                <br>                By default, value analysis mode is optimistic.                In this mode, JetBrains Rider only warns about possible 'null' dereference if the value was explicitly                checked for nullability, or if the symbol is marked with the                <code class="code">[CanBeNull]</code> or                <code class="code">[ItemCanBeNull]</code>                attribute.                The optimistic mode is demonstrated in the examples above.            </p></li><li class="list__item" id="21ad8ed7"><p>                <i id="a124b180">Pessimistic</i>                <br>                In this mode, JetBrains Rider warns about possible 'null' dereference in all contexts where the value is not                checked for nullability explicitly, unless the symbol is marked with the                <code class="code">[NotNull]</code> or                <code class="code">[ItemNotNull]</code>                attribute.            </p></li></ul>        <p id="0737f605">            To change value analysis mode or disable the analysis, configure the            <span class="control">Value analysis mode</span>            preference on            <a name="the_options_page"></a>        the        <span data-skip-index="skip" class="menupath">Editor | Inspection Settings</span>        page of        <a name="product_settings"></a>        JetBrains Rider settings        <kbd data-visual_studio="Ctrl+Alt+S" data-resharper="Ctrl+Alt+S" data-_default="Ctrl+Alt+S" data-visual_studio_osx="⌘ ," data-resharper_osx="⌘ ," data-mac_os_x_10.5_="⌘ ,">Ctrl+Alt+S</kbd>.        </p>    </div>    <div class="chapter"><h2 id="further_examples" data-toc="Code_Analysis__Value_Analysis#further_examples">Further examples of value analysis</h2>        <p id="01382131">            Here are some more examples of JetBrains Rider's value and nullability analysis:        </p>        <ul class="list _ul"><li class="list__item" id="d738a768"><p>                If a nullability check has been already done with a simple LINQ query,                JetBrains Rider tells you that a further nullability check is redundant:                <figure><img alt="Redundant nullability check for collection item" title="Redundant nullability check for collection item" src="/help/img/dotnet/2019.2/value_analysis_collection_1.png" id="0a7087c5" width="530" height="149"></figure>            </p></li><li class="list__item" id="63944da3"><p>                The same happens if you mark a collection with the                <code class="code">[ItemNotNull]</code>                attribute:                <figure><img alt="Redundant nullability check for collection item" title="Redundant nullability check for collection item" src="/help/img/dotnet/2019.2/value_analysis_collection_2.png" id="271158b2" width="402" height="136"></figure>            </p></li><li class="list__item" id="0bfd5d56"><p>                The next example illustrates how value analysis works when the                <i id="abd32ff2">pessimistic</i>                mode is enabled.                The value of the list was checked for nullability, but not list items.                Therefore JetBrains Rider warns here about possible 'null' dereference.                <figure><img alt="Redundant nullability check for collection item" title="Redundant nullability check for collection item" src="/help/img/dotnet/2019.2/value_analysis_collection_3.png" id="81b817de" width="478" height="169"></figure>            </p></li></ul>    </div>    <div class="last-modified" data-skip-index="skip">Last modified: 29 November 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="Spell_Checking.html">Spell Checking with ReSpeller</a><a class="navigation-links__next" href="Collection_Access_Analysis.html">Collection Access Analysis</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>