<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><meta charset="UTF-8"><title>API Reference - Help | dotMemory</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body data-id="API_Reference" data-disqus-id="API_Reference_dm"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search dotMemory Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>dotMemory 2019.2 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="secondary" value="rs">ReSharper 2.x/IntelliJ IDEA</option><option data-group="primary" value="vs" selected>Visual Studio</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="API_Reference" id="API_Reference.xml">API Reference</h1>        <div class="chapter"><h2 id="7bf5e1a3" data-toc="API_Reference#7bf5e1a3">MemoryProfiler class methods</h2>        <div class="table-wrapper"><table class=" wide" width="100%" id="77c20ef1"><thead><tr id="afa7005b" class="ijRowHead"><th id="f3d8801d" width="20%"><p>Item</p></th><th id="475c8cf7" width="20%"><p>Returns</p></th><th id="a870e50f" width="60%"><p>Description</p></th></tr></thead><tbody><tr id="32d79589" class="ijRowOdd"><td id="5dd92abd">                    <code class="code">GetFeatures()</code>                </td><td id="895c4935">                    <code class="code">enum MemoryFeatures: uint</code>                </td><td id="fcf0f3cf">                    <p id="76073159">                        Returns a set of features currently active in the profiler:                        Bit flags in the <code class="code">MemoryFeatures</code> value fully describe the current profiler state.                        Each bit indicates whether a corresponding feature is currently available:                    </p>                    <ul class="list _ul"><li class="list__item" id="2a38a5cc"><p><code class="code">Ready = 0x1</code>: Indicates whether the profiler is ready to work. You need to check                            this flag only in case you attach the profiler to the current process: the flag will be set                            once the profiler is ready to accept your commands. If you start a process under profiling,                            this flag is always set. After you detach the profiler from the process, the flag is cleared.                        </p></li><li class="list__item" id="232ab273"><p><code class="code">Detach = 0x2</code>: Indicates whether it is possible to use                            <code class="code">MemoryProfiler.Detach()</code>. <br>                            <code class="code">0</code>: the profiler will ignore <code class="code">MemoryProfiler.Detach()</code>. <br>                            <code class="code">1</code>: <code class="code">MemoryProfiler.Detach()</code> will detach the profiler from the profiled                            process.                        </p></li><li class="list__item" id="9b11369b"><p><code class="code">CollectAllocations = 0x4</code>: Indicates whether it is possible to use                        <code class="code">CollectAllocations(bool enabled)</code>. If <code class="code">0</code>, the profiler ignores                            the <code class="code">CollectAllocations</code> call. If <code class="code">1</code>, the <code class="code">CollectAllocations</code> call                            will take effect.                        </p></li></ul>                </td></tr><tr id="cc606e18" class="ijRowEven"><td id="22a510a7">                    <code class="code">GetSnapshot()</code>                </td><td id="3af88463"></td><td id="f74d5196"><p>                    Collect memory snapshot and save it to the disk. This method forces full garbage collection. <br>                    Doesn't throw any errors even if the application is run with profiling disabled.                </p></td></tr><tr id="594d4e04" class="ijRowOdd"><td id="9da8420c">                    <code class="code">GetSnapshot(string name)</code>                </td><td id="fe20ed55"></td><td id="3fbb4d95"><p>                    [Internal use only] <br>                    Collect memory snapshot and save it to the disk. This method forces full garbage collection. <br>                    Doesn't throw any errors even if the application is run with profiling disabled. <br>                    <code class="code">name</code> is the name of the memory snapshot. It is not a filename.                </p></td></tr><tr id="ee199262" class="ijRowEven"><td id="7281749e">                    <code class="code">ForceGc()</code>                </td><td id="138fbd99"></td><td id="2ae71374"><p>                    Forces full garbage collection. <br>                    Doesn't throw any errors even if the application is run with profiling disabled.                </p></td></tr><tr id="8a622496" class="ijRowOdd"><td id="34eae314">                    <code class="code">CollectAllocations(bool enable)</code>                </td><td id="22fe9fb3"></td><td id="be4e3843"><p>                    Enable/disable collecting memory allocation data. Does nothing if collecting allocation data is disabled in the                    profiler. To check whether the collecting is enabled, use <code class="code">MemoryProfiler.GetFeatures()</code>. <br>                    Doesn't throw any errors even if the application is run with profiling disabled.                </p></td></tr><tr id="a8777adf" class="ijRowEven"><td id="2425c7de">                    <code class="code">Detach()</code>                </td><td id="eab9c62d"></td><td id="728ebf25"><p>                    Detach the profiler from the profiled process. Does nothing if detaching is disabled in the profiler. To check                    whether the detaching is enabled, use <code class="code">MemoryProfiler.GetFeatures()</code> with                    <code class="code">MemoryFeatures.Detach</code> flag.                    Doesn't throw any errors even if the application is run with profiling disabled.                </p></td></tr></tbody></table></div>    </div>    <div class="chapter"><h2 id="25cadb6f" data-toc="API_Reference#25cadb6f">SelfAttach class properties</h2>        <div class="table-wrapper"><table class=" wide" width="100%" id="d7efb150"><thead><tr id="d5d55cf3" class="ijRowHead"><th id="1421a0ed" width="20%"><p>Item</p></th><th id="ced75438" width="20%"><p>Type</p></th><th id="295f66f1" width="60%"><p>Description</p></th></tr></thead><tbody><tr id="63c3f0be" class="ijRowOdd"><td id="d550ab64">                    <code class="code">State</code>                </td><td id="2f22de3c">                    <code class="code">enum SelfApiState {None, Inactive, Active}</code>                </td><td id="ac774bbb">                    <p id="80a66ece">                        Indicates the profiler state.                    </p>                    <ul class="list _ul"><li class="list__item" id="741d9293"><p>                            <code class="code">None</code>: the profiler is not available.                        </p></li><li class="list__item" id="edf1f15a"><p>                            <code class="code">Inactive</code>: the profiler is available. Profiling control is not available.                        </p></li><li class="list__item" id="293ff3eb"><p>                            <code class="code">Active</code>: the profiler is available. Profiling can be controlled via API or the controller window.                        </p></li></ul>                </td></tr></tbody></table></div>    </div>    <div class="chapter"><h2 id="7d0f7bcd" data-toc="API_Reference#7d0f7bcd">SelfAttach class methods</h2>        <div class="table-wrapper"><table width="100%" id="343c5500"><thead><tr id="ba5033c7" class="ijRowHead"><th id="6088af5f" width="20%"><p>Item</p></th><th id="9c46d01c" width="80%"><p>Description</p></th></tr></thead><tbody><tr id="a042df3d" class="ijRowOdd"><td id="de2a2528">                    <code class="code">Attach(BaseProfilingConfig baseConfig)</code>                </td><td id="83d4b549"><p>                    Attaches the profiler to the calling application with supplied configuration <code class="code">baseConfig</code>.                </p></td></tr><tr id="8ebe41f2" class="ijRowEven"><td id="221ecbee">                    <code class="code">Show()</code>                </td><td id="bd2de773"><p>                    Shows the profiling controller to a user.                </p></td></tr></tbody></table></div>    </div>    <div class="chapter"><h2 id="4d0b7568" data-toc="API_Reference#4d0b7568">BaseProfilingConfig class public fields</h2>        <div class="table-wrapper"><table class=" wide" width="100%" id="e7714a4b"><thead><tr id="35877bd4" class="ijRowHead"><th id="310e0337" width="20%"><p>Item</p></th><th id="a256b006" width="20%"><p>Type</p></th><th id="42ec9aee" width="60%"><p>Description</p></th></tr></thead><tbody><tr id="d5596fd0" class="ijRowOdd"><td id="641f2055">                    <code class="code">ProfilingControlKind</code>                </td><td id="a308cbc3">                    <code class="code">enum ProfilingControlKind {None, Manual, Api}</code>                </td><td id="12c9f424">                    <p id="c9fc7d3b">                        Defines the profiling control method.                    </p>                    <ul class="list _ul"><li class="list__item" id="ee5db45b"><p>                            <code class="code">None</code>: no control.                        </p></li><li class="list__item" id="651acf5e"><p>                            <code class="code">Manual</code>: control through the <span class="control">Controller</span> window.                        </p></li><li class="list__item" id="c14ff1ef"><p>                            <code class="code">Api</code>: control through API.                        </p></li></ul>                </td></tr><tr id="6000c084" class="ijRowEven"><td id="99687604">                    <code class="code">ProfilingType</code>                </td><td id="466d914a">                    <code class="code">enum ProfilingType {Performance, Memory, Timeline}</code>                </td><td id="9fcae8f8">                                        <p id="c8cb6977">                        Defines the profiling method.                    </p>                                        <ul class="list _ul"><li class="list__item" id="9c7b3216"><p>                            <code class="code">Performance</code>: performance profiling (used by                            the dotTrace profiler).                        </p></li><li class="list__item" id="b9d39caa"><p>                            <code class="code">Memory</code>: memory profiling.                        </p></li><li class="list__item" id="11473e48"><p>                            <code class="code">Timeline</code>: timeline profiling (used by                            the dotTrace profiler).                        </p></li></ul>                </td></tr><tr id="ec20956f" class="ijRowOdd"><td id="55839220">                    <code class="code">PerformaceMeterKind</code>                </td><td id="a52e2762">                    <code class="code">enum PerformaceMeterKind {Rdtsc, PerformanceCounter, ThreadTime, ThreadCycleTime}</code>                </td><td id="aa0e46f4">                                        <p id="9cf453b1">                        [Used for performance profiling only] Defines the time measurement method.                    </p>                    <ul class="list _ul"><li class="list__item" id="16ab5bf4"><p>                            <code class="code">Rdtsc</code>: real time (CPU instruction).                        </p></li><li class="list__item" id="472eb13c"><p>                            <code class="code">PerformanceCounter</code>: real time (performance counter).                        </p></li><li class="list__item" id="15c74986"><p>                            <code class="code">ThreadTime</code>: thread time.                        </p></li><li class="list__item" id="081cc933"><p>                            <code class="code">ThreadCycleTime</code>: thread cycle time.                        </p></li></ul>                </td></tr><tr id="13758994" class="ijRowEven"><td id="fe023fd6">                    <code class="code">RedistDir</code>                </td><td id="7a882c62">                    <code class="code">string</code>                </td><td id="7940e785"><p>                    Defines location of dotMemory SDK redistributables. By default, they are searched in the same folder                    where                    <span class="filepath">JetBrains.Profiler.Windows.Api.dll</span>                    is located.                </p></td></tr></tbody></table></div>    </div>    <div class="chapter"><h2 id="c141d342" data-toc="API_Reference#c141d342">BaseSnapshotProfilingConfig class public fields</h2>        <div class="table-wrapper"><table class=" wide" width="100%" id="fddb3c00"><thead><tr id="856a7d06" class="ijRowHead"><th id="0222f159" width="20%"><p>Item</p></th><th id="7237dd04" width="20%"><p>Type</p></th><th id="cc2b3d77" width="60%"><p>Description</p></th></tr></thead><tbody><tr id="ff69e454" class="ijRowOdd"><td id="61bd8835">                    <code class="code">SaveDir</code>                </td><td id="09daa204">                    <code class="code">string</code>                </td><td id="59ccd9a8"><p>                    Defines a path and a base file name for the resulting snapshot. Required for this configuration.                </p></td></tr><tr id="f6d753ec" class="ijRowEven"><td id="4a78050f">                    <code class="code">SnapshotFormat</code>                </td><td id="0091bf95">                    <code class="code">enum {Compressed, Uncompressed}</code>                </td><td id="3adf9065"><p>                    Defines a file format for a snapshot: compressed or uncompressed. By default, it is compressed.                </p></td></tr></tbody></table></div>    </div>    <div class="chapter"><h2 id="1a7504c8" data-toc="API_Reference#1a7504c8">SaveSnapshotProfilingConfig class public fields</h2>        <div class="table-wrapper"><table class=" wide" width="100%" id="bd322657"><thead><tr id="3563efeb" class="ijRowHead"><th id="5718d122" width="20%"><p>Item</p></th><th id="8295234e" width="20%"><p>Type</p></th><th id="43ffca67" width="60%"><p>Description</p></th></tr></thead><tbody><tr id="07b722b2" class="ijRowOdd"><td id="e6180e91">                    <code class="code">ListFile</code>                </td><td id="b3eb515c">                    <code class="code">string</code>                </td><td id="6ef9bb01"><p>                    Defines a file name for a file which lists snapshots collected during profiling. Required for this                    configuration.                    <br>                    Do NOT create this file manually, it will be created automatically during profiling!                    <br>                    Do NOT open this file until the <code class="code">SelfAttach.State</code> is in the <code class="code">None</code> state!                </p></td></tr></tbody></table></div>    </div>    <div class="chapter"><h2 id="80d48c0a" data-toc="API_Reference#80d48c0a">ExecutableSnapshotProfilingConfig class public fields</h2>        <div class="table-wrapper"><table class=" wide" width="100%" id="1a84aeaa"><thead><tr id="0557e27f" class="ijRowHead"><th id="a4b6ee2a" width="20%"><p>Item</p></th><th id="8a3e9ecd" width="20%"><p>Type</p></th><th id="867ad198" width="60%"><p>Description</p></th></tr></thead><tbody><tr id="0fc14156" class="ijRowOdd"><td id="7af989b2">                    <code class="code">Executable</code>                </td><td id="6ff40570">                    <code class="code">string</code>                </td><td id="072667ec"><p>                    Defines the path to the executable file to run after profiling is completed. The snapshot path will                    be                    passed as a parameter to this executable file. Required for this configuration.                </p></td></tr></tbody></table></div>    </div>    <div class="last-modified" data-skip-index="skip">Last modified: 8 August 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="Profiling_Guidelines__Advanced_Profiling_Using_dotTrace_API.html">Controlling Profiling Session Through API</a><a class="navigation-links__next" href="Working_with_dotMemory_Command-Line_Profiler.html">Using dotMemory Command-Line Profiler</a></div><section class="seealso" data-skip-index="skip"><div class="seealso__header"><h2>See Also</h2></div><div class="seealso__content"><div class="seealso__col" data-skip-index="skip"><h3>Concepts:</h3><ul class="list"><li class="list__item"><a href="Profiling_Guidelines__Advanced_Profiling_Using_dotTrace_API.html">Controlling Profiling Session Through API</a></li></ul></div></div></section></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>