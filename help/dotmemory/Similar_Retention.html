<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><meta charset="UTF-8"><title>Group by Similar Retention - Help | dotMemory</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body data-id="Similar_Retention" data-disqus-id="Similar_Retention_dm"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search dotMemory Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>dotMemory 2019.2 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="secondary" value="rs">ReSharper 2.x/IntelliJ IDEA</option><option data-group="primary" value="vs" selected>Visual Studio</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Similar_Retention" id="Similar_Retention.xml">Group by Similar Retention</h1>    <p id="8b4c481a">The <span class="control">Group by Similar Retention</span> view groups objects by similarity of their retention paths. For        each object set,        the view shows two shortest paths to roots. Note that from the whole variety of shortest paths, dotMemory        selects only two paths that are most different from each other.    </p>    <p id="2dd26a33">The <span class="control">Group by Similar Retention</span> view allows you to distinguish where the objects of the same        type logically        belong to. For example, it's obvious that a number of int variables in an array will have the same retention        path        which is different to variables of any other int array.    </p>    <p id="461ed70f">You can also use <span class="control">Group by Similar Retention</span> to identify why an object is still in memory. For        example,        it may be useful when investigating potential memory leaks caused by objects retained on more than one path        (see <a href="Retained_by.html">Group by Dominators</a> for        details).    </p>    <aside class="note " data-title="" rel="461ed70f" id="3580cdc9">        <p id="6a68b00a">Only two shortest retention paths are shown. Typically, it is enough to understand why an object survives            the garbage collection.        </p>    </aside>        <p id="a84cb321">The list of objects for which graph is built consists of the following columns:</p>    <div class="table-wrapper"><table width="100%" id="6e81a088"><thead><tr id="7730603d" class="ijRowHead"><th id="9eee400d"><p>Name</p></th><th id="566f142f"><p>Description</p></th></tr></thead><tbody><tr id="fadcf5bd" class="ijRowOdd"><td id="64802b60">                <span class="control">Type</span>            </td><td id="d779c1ff"><p>Type name.</p></td></tr><tr id="326bbb37" class="ijRowEven"><td id="bacb9276">                <span class="control">Objects count</span>            </td><td id="2bb64bef"><p>The number of objects with the same retention path.</p></td></tr><tr id="56849534" class="ijRowOdd"><td id="6ecb7d0d">                <span class="control">Bytes</span>            </td><td id="c7ee10d4"><p>The overall size of objects in bytes.</p></td></tr></tbody></table></div>    <div class="chapter"><h2 id="example" data-toc="Similar_Retention#example">Example</h2>        <figure><img alt="Group by Similar Retention example" title="Group by Similar Retention example" src="/help/img/dotnet/2019.2/key_paths_example.png" id="c945d6b9" width="820" height="371"></figure>    </div>            <div class="chapter"><h2 id="filtering-objects" data-toc="Similar_Retention#filtering-objects">Filtering objects</h2>            <p id="a35b72b3">                You can filter out objects that are of no interest for your analysis.            </p>            <section class="procedure-steps"><h3 id="9ba4949c">To narrow the list</h3><ul class="list "><li class="list__item" id="8f5bd412">                    Start typing the desired type name in the                    <span class="control">Filter</span>                    field.                    <p id="813d4048">dotMemory will exclude all instances that don't match the pattern.</p>                </li></ul></section>            <p id="filtering_rules">                You can make your search more efficient by using the following tips:                <ul class="list _ul"><li class="list__item" id="f0233d6c"><p>                        Use <span class="emphasis">CamelHumps</span>. E.g. <code class="code">fo</code> will return objects                        of both <code class="code">System.Drawing.Font</code> and                        <code class="code">MS.Utility.FrugalObjectList</code>                        types.                    </p></li><li class="list__item" id="ffa493c1"><p>                        Use <span class="emphasis">special symbols</span>, like wildcards and others. The full list                        is shown in the table below.                    </p></li></ul>            </p>            <div class="table-wrapper"><table class=" wide" width="100%" id="c72caf50"><thead><tr id="2c967ba9" class="ijRowHead"><th id="42c5db5b"><p>                        Symbol                    </p></th><th id="9ad2b96b"><p>                        Description                    </p></th><th id="4c1b7df5"><p>                        Example                    </p></th></tr></thead><tbody><tr id="9455dfc4" class="ijRowOdd"><td id="26ffe46e" rowspan="3">                        <code class="code">*</code>                    </td><td id="5b34c2af" rowspan="3"><p>                        Wildcard                    </p></td><td id="2f52064c"><p>                        <code class="code">*</code> <br>                        All objects in the set                    </p></td></tr><tr id="97cb6fbe" class="ijRowEven"><td id="65263597"><p>                        <code class="code">sys.*.data</code> <br>                        All types and namespaces that match                        the pattern. E.g. <code class="code">System.Data</code>,                        <code class="code">System.Windows.Controls.Datagrid</code>, and                        <code class="code">System.Windows.Data.Binding</code>.                    </p></td></tr><tr id="d00f0d93" class="ijRowOdd"><td id="02bf0a9c"><p>                        <code class="code">sys.*.data.</code> <br>                        Only namespaces that match the pattern. E.g.                        <code class="code">System.Windows.Data.Binding</code>                        but                        <span class="emphasis">not</span>                        <code class="code">System.Windows.Controls.Datagrid</code>.                    </p></td></tr><tr id="e397985e" class="ijRowEven"><td id="1d4525a0" colspan="3">                        <span class="emphasis">Arrays</span>                    </td></tr><tr id="caaf3615" class="ijRowOdd"><td id="01ad8b2f"><p>                        []                    </p></td><td id="bfff3eeb"><p>                        Leave only arrays                    </p></td><td id="93bcd19c"><p>                        <code class="code">str[]</code> <br>                        Arrays, containing <code class="code">str</code> in their type or namespace. E.g.                        <code class="code">String[]</code>.                    </p></td></tr><tr id="364f9ee4" class="ijRowEven"><td id="1fa84718" rowspan="2"><p>                        <code class="code">[,</code> <br>                        <code class="code">[,,</code> <br>                        <code class="code">...</code> <br>                        or <br>                        <code class="code">[,]</code> <br>                        <code class="code">[,,]</code> <br>                        <code class="code">...</code>                    </p></td><td id="faa2bb59" rowspan="2"><p>                        Leave only arrays of the specified or higher (if brackets are not closed) dimension                    </p></td><td id="01b5686e"><p>                        <code class="code">str[,,</code> <br>                        Arrays with the dimension 3 and higher containing <code class="code">str</code> in their type or namespace.                        E.g.                        <code class="code">String[,,]</code> and <code class="code">String[,,,]</code>.                    </p></td></tr><tr id="e73b3254" class="ijRowOdd"><td id="141386ae"><p>                        <code class="code">str[,,]</code> <br>                        Three-dimensional arrays containing <code class="code">str</code> in their type or namespace.                        E.g.                        <code class="code">String[,,]</code>.                    </p></td></tr><tr id="800ac3bb" class="ijRowEven"><td id="49d53e7f">                        <code class="code">!a</code>                    </td><td id="edad732f"><p>                        Exclude arrays from the result                    </p></td><td id="7e6a62a7"><p>                        <code class="code">!a str</code> <br>                        Objects (excluding arrays) containing <code class="code">str</code> in their type or namespace.                        E.g. <code class="code">String</code> but                        <span class="emphasis">not</span>                        <code class="code">String[]</code>.                    </p></td></tr><tr id="b1988d01" class="ijRowOdd"><td id="6de3f43a" colspan="3">                        <span class="emphasis">Generic type arguments</span>                    </td></tr><tr id="339b53fc" class="ijRowEven"><td id="8bbbd517" rowspan="2">                        <code class="code">&lt;</code>                    </td><td id="2c8f1707" rowspan="2"><p>                        Leave only types with generic type arguments                    </p></td><td id="9d967935"><p>                        <code class="code">str&lt;</code> <br>                        Only objects containing <code class="code">str</code> in their type or namespace and having generic                        type arguments.                        E.g.                        <code class="code">FileStreamStorage&lt;Char&gt;</code>                        but                        <span class="emphasis">not</span>                        <code class="code">List&lt;String&gt;</code>.                    </p></td></tr><tr id="00c59e50" class="ijRowOdd"><td id="8f693e63"><p>                        <code class="code">&lt;str</code> <br>                        Only objects containing <code class="code">str</code> in their generic type arguments.                        E.g. <code class="code">List&lt;String&gt;</code> but                        <span class="emphasis">not</span>                        <code class="code">FileStreamStorage&lt;Char&gt;</code>.                    </p></td></tr><tr id="2261d153" class="ijRowEven"><td id="616f19c4" rowspan="2"><p>                        <code class="code">&lt;,</code> <br>                        <code class="code">&lt;,,</code> <br>                        <code class="code">...</code> <br>                        or <br>                        <code class="code">&lt;,&gt;</code> <br>                        <code class="code">&lt;,,&gt;</code> <br>                        <code class="code">...</code> <br>                    </p></td><td id="1066829a" rowspan="2"><p>                        Leave only objects with the specified number of generic type arguments                    </p></td><td id="e73dfc6a"><p>                        <code class="code">fun&lt;,,&gt;</code> <br>                        Objects containing <code class="code">fun</code> in their type or namespace and                        having three generic type arguments.                        E.g. <code class="code">Func&lt;String, Object, Object&gt;</code>.                    </p></td></tr><tr id="c8a8dc85" class="ijRowOdd"><td id="74df4674"><p>                        <code class="code">fun&lt;str,,task</code> <br>                        Objects containing <code class="code">fun</code> in their type or namespace and                        having three or generic type arguments that match the pattern.                        E.g. <code class="code">Func&lt;Stream, IAsyncResult, TaskResult, EventArgs&gt;</code>.                    </p></td></tr><tr id="27502e17" class="ijRowEven"><td id="649d7bed">                        <code class="code">!g</code>                    </td><td id="e07a7ae9"><p>                        Exclude generic type arguments from the search scope                    </p></td><td id="f2a2f3d3"><p>                        <code class="code">!g str</code> <br>                        Objects (that do not have generic type arguments) containing <code class="code">str</code> in their                        type or namespace.                        E.g. <code class="code">String</code> but                        <span class="emphasis">not</span>                        <code class="code">List&lt;String&gt;</code>.                    </p></td></tr></tbody></table></div>        </div>        <div class="chapter"><h2 id="selecting-objects-for-further-an" data-toc="Similar_Retention#selecting-objects-for-further-an">Selecting objects for further analysis</h2>        <p id="bedad4e6">In the <span class="control">Group by Similar Retention</span> view, you can select the following subjects for further            analysis:        </p>        <ul class="list _ul"><li class="list__item" id="4ac03985"><p>                <a href="#obj">Similarly retained objects</a>.            </p></li><li class="list__item" id="35e3344b"><p>                                    <a href="#set">Objects exclusively retained (dominated) by the whole object set</a>.                            </p></li></ul>        <section class="procedure-steps"><h3 id="obj">To select objects of a particular type retained in the same way</h3><ul class="list "><li class="list__item" id="04d5ea21">                <p id="8243762e">                    Double-click the corresponding type in the list.                </p>                <p id="70e8ef49">                    After this, the                    <span class="control">[Type_name] with same retention paths</span>                    subject will be added to the                    <a href="First_Look_at_the_dotMemory_s_User_Interface.html#ui">Analysis Path</a>                    and the list of desired objects will be displayed in the                    <a href="Type_List.html">Group by Types</a>                    view.                </p>            </li></ul></section>                    <section class="procedure-steps"><h3 id="set">To select the objects that are exclusively retained by the analyzed objects set</h3><ul class="list "><li class="list__item" id="73c266f1">                    <p id="f602644b">                        Click the                        <img alt="Open retained objects" title="Open retained objects" src="/help/img/dotnet/2019.2/open_retained_objects_button.png" id="1dbef87c" width="25" height="23" class="inline-icon-25">                        <span class="control">Open objects retained by this set</span>                        button.                    </p>                    <p id="de8ca55b">                        After this, the                        <span class="control">Exclusively retained objects</span>                        subject will be added to the                        <a href="First_Look_at_the_dotMemory_s_User_Interface.html#ui">Analysis Path</a>                        and the list of desired objects will be displayed in the                        <a href="Type_List.html">Group by Types</a>                        view.                    </p>                </li></ul></section>            </div>    <div class="last-modified" data-skip-index="skip">Last modified: 8 August 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="Retained_by.html">Group by Dominators</a><a class="navigation-links__next" href="Creation_Stack_Trace.html">Group by Creation Stack Trace</a></div><section class="seealso" data-skip-index="skip"><div class="seealso__header"><h2>See Also</h2></div><div class="seealso__content"><div class="seealso__col" data-skip-index="skip"><h3>Reference:</h3><ul class="list"><li class="list__item"><a href="Reference__Views_Legend.html">Icons</a></li><li class="list__item"><a href="Type_List.html">Group by Types</a></li><li class="list__item"><a href="Retained_by.html">Group by Dominators</a></li><li class="list__item"><a href="Shortest_Path.html">Group by Shortest Paths</a></li><li class="list__item"><a href="Creation_Stack_Trace.html">Group by Creation Stack Trace</a></li><li class="list__item"><a href="Generations.html">Group by Generations</a></li><li class="list__item"><a href="Instances.html">Group by Instances</a></li></ul></div></div></section></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>