<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>Unit Testing Tutorial - Help | CLion</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body data-id="Unit_Testing_Tutorial" data-breadcrumbs="Testing/Unit_Testing_Tutorial.xml|Unit Testing Tutorial" data-main-title="Unit Testing Tutorial"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search CLion Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>CLion 2019.3 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="primary" value="primary_default_for_windows" selected>Default for Windows</option><option data-group="primary" value="primary_default_for_macos">Default for macOS</option><option data-group="primary" value="primary_intellij_idea_classic_macos">IntelliJ IDEA Classic (macOS)</option><option data-group="primary" value="primary_emacs">Emacs</option><option data-group="primary" value="primary_visual_studio">Visual Studio</option><option data-group="primary" value="primary_default_for_xwin">Default for XWin</option><option data-group="primary" value="primary_default_for_gnome">Default for GNOME</option><option data-group="primary" value="primary_default_for_kde">Default for KDE</option><option data-group="primary" value="primary_eclipse">Eclipse</option><option data-group="primary" value="primary_eclipse_macos">Eclipse (macOS)</option><option data-group="primary" value="primary_netbeans">NetBeans</option><option data-group="primary" value="primary_sublime_text">Sublime Text</option><option data-group="primary" value="primary_sublime_text_macos">Sublime Text (macOS)</option><option data-group="primary" value="primary_xcode">Xcode</option><option data-group="primary" value="primary_resharper">ReSharper</option><option data-group="primary" value="primary_resharper_macos">ReSharper (macOS)</option><option data-group="secondary" value="secondary_default_for_windows">Default for Windows</option><option data-group="secondary" value="secondary_default_for_macos">Default for macOS</option><option data-group="secondary" value="secondary_intellij_idea_classic">IntelliJ IDEA Classic</option><option data-group="secondary" value="secondary_emacs">Emacs</option><option data-group="secondary" value="secondary_visual_studio">Visual Studio</option><option data-group="secondary" value="secondary_default_for_xwin">Default for XWin</option><option data-group="secondary" value="secondary_default_for_gnome">Default for GNOME</option><option data-group="secondary" value="secondary_default_for_kde">Default for KDE</option><option data-group="secondary" value="secondary_eclipse">Eclipse</option><option data-group="secondary" value="secondary_eclipse_macos">Eclipse (macOS)</option><option data-group="secondary" value="secondary_netbeans">NetBeans</option><option data-group="secondary" value="secondary_sublime_text">Sublime Text</option><option data-group="secondary" value="secondary_sublime_text_macos">Sublime Text (macOS)</option><option data-group="secondary" value="secondary_xcode">Xcode</option><option data-group="secondary" value="secondary_resharper">ReSharper</option><option data-group="secondary" value="secondary_resharper_macos">ReSharper (macOS)</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 data-toc="Unit_Testing_Tutorial" id="Unit_Testing_Tutorial.xml">Unit Testing Tutorial</h1>   <p id="3618ae66"><span class="emphasis">This tutorial gives an <a href="#basics">overview</a> of the unit testing approach and discusses three <a href="#frameworks">frameworks</a> supported by CLion: Google Test, Boost.Test, and Catch2. The <a href="#clion-integrations">Unit Testing in CLion</a> part will guide you through the process of including these frameworks into your project and describe the instruments that CLion provides to help you work with unit testing.</span></p>   <div class="chapter"><h2 id="basics" data-toc="Unit_Testing_Tutorial#basics">Basics of unit testing</h2>              <p id="intro">           Unit testing aims to check individual units of your source code separately. A <i id="d7727e6e">unit</i> here is the smallest part of code that can be tested in isolation, for example, a free function or a class method.</p>       <p id="7f129277">Unit testing helps:           <ul class="list _ul"><li class="list__item" id="63e7118d">                   <p id="30840d61"><span class="control">Modularize your code</span></p>                   <p id="14b4e2d3">As code's testability depends on its design, unit tests facilitate breaking it into specialized easy-to-test pieces.</p>               </li><li class="list__item" id="d32a1277"><p id="568c7bca"><span class="control">Avoid regressions</span></p>                   <p id="ff01f41f">                       When you have a suite of unit tests, you can run it iteratively to ensure that everything <a href="https://en.wikipedia.org/wiki/Regression_testing" data-external="true" target="_blank" rel="noopener noreferrer">keeps working correctly</a> every time you add new functionality or introduce changes.                   </p>               </li><li class="list__item" id="4d775d66">                   <p id="98e15bb7"><span class="control">Document your code</span></p>                   <p id="e7d010f3">Running, debugging, or even just reading tests can give a lot of information about how the original code works, so you can use them as implicit documentation.</p>               </li></ul>       </p>       <p id="1f8a9cf9">A <span class="control">single unit test</span> is a method that checks some specific functionality and has clear pass/fail criteria. The generalized structure of a single test looks like this:    <div class="code-block" data-lang="none">
Test (TestGroupName, TestName)   {
    1 - setup block
    2 - running the under-test functionality
    3 - checking the results (assertions block)
}
    </div>    </p>              <p id="83f18da3"><span class="control">Good practices</span> for unit testing include:</p>       <ul class="list _bullet"><li class="list__item" id="d8656517"><p>Creating tests for all publicly exposed functions, including class constructors and operators.</p></li><li class="list__item" id="b7dc7ff4"><p>Covering all code paths and checking both trivial and edge cases, including those with incorrect input data (see <a href="https://en.wikipedia.org/wiki/Negative_testing" data-external="true" target="_blank" rel="noopener noreferrer">negative testing</a>).</p></li><li class="list__item" id="e93328aa"><p>Assuring that each test works independently and does't prevent other tests from execution.</p></li><li class="list__item" id="addbc833"><p>Organizing tests in a way that the order in which you run them doesn't affect the results.</p></li></ul>       <p id="fefd029e">It's useful to group test cases when they are logically connected or use the same data. <span class="control">Suites</span> combine tests with common functionality (for example, when performing different cases for the same function). <span class="control">Fixture</span> classes help organize shared resources for multiple tests. They are used to set up and clean up the environment for each test within a group and thus avoid code duplication.</p>               <p id="7eca0234">Unit testing is often combined with <a href="https://en.wikipedia.org/wiki/Mock_object" data-external="true" target="_blank" rel="noopener noreferrer">mocking</a>. Mock objects are lightweight implementations of test targets, used when the under-test functionality contains complex dependencies and it is difficult to construct a viable test case using real-world objects.</p>   </div>   <div class="chapter"><h2 id="frameworks" data-toc="Unit_Testing_Tutorial#frameworks">Frameworks</h2>       <p id="45b52737">Manual unit testing involves a lot of routines: writing stub test code, implementing <code class="code">main()</code>, printing output messages, and so on. Unit testing frameworks not only help automate these operations, but also let you benefit from the following:</p>       <ul class="list _bullets"><li class="list__item" id="6f9e0397"> <p id="a4d5c507"><span class="control">Manageable assertion behavior</span></p>        <p id="2f8d78ad">    With a framework, you can specify whether or not a failure of a single check should cancel the whole test execution: along with the regular <code class="code">ASSERT</code>, frameworks provide <code class="code">EXPECT/CHECK</code> macros that don't interrupt your test program on failure.        </p>    </li><li class="list__item" id="2e202417">        <p id="1b7d93f8"><span class="control">Various checkers</span></p>        <p id="c7c2e6ea">Checkers are macros for comparing the expected and the actual result. Checkers provided by testing frameworks often have configurable severity (warning, regular expectation, or a requirement). Also, they can include tolerances for floating point comparisons and even pre-implemented exception handlers that check raising of an exception under certain conditions.        </p>    </li><li class="list__item" id="02e5a81c">        <p id="e6fe4139"><span class="control">Tests organization</span></p>        <p id="27d60610">            With frameworks, it's easy to create and run subsets of tests grouped by common functionality (suites) or shared data (fixtures).            Also, modern frameworks automatically register new tests, so you don't need to do that manually.        </p>    </li><li class="list__item" id="0ee58f19">        <p id="dfac8e9f"><span class="control">Customizable messages</span></p>        <p id="ee56c9ae">            Frameworks take care of the tests output: they can show verbose descriptive outputs, as well as user-defined messages or only briefed <span class="emphasis">pass/fail</span> results (the latter is especially handy for regression testing).        </p>    </li><li class="list__item" id="4b6619e1">        <p id="a7ff43e2"><span class="control">XML reports</span></p>        <p id="6519f1a9">           Most of the testing frameworks provide exporting results in XML format. This is useful when you need to further pass the results to a continuous integration system such as <a href="https://www.jetbrains.com/teamcity/" data-external="true" target="_blank" rel="noopener noreferrer">TeamCity</a> or <a href="https://jenkins.io/" data-external="true" target="_blank" rel="noopener noreferrer">Jenkins</a>.</p>    </li></ul>       <p id="33af40f1">There are many unit testing <a href="https://en.wikipedia.org/wiki/List_of_unit_testing_frameworks#C.2B.2B" data-external="true" target="_blank" rel="noopener noreferrer">frameworks for C++</a>.           Further on, we will focus on some of the most popular: <span class="control">Google Test</span>, <span class="control">Boost.Test</span>, and <span class="control">Catch2</span>.           All three are integrated in CLion, but before we dive into the integration details, let's briefly cover the essential points of each framework.</p>       <div class="chapter"><h3 id="google-test-framework" data-toc="Unit_Testing_Tutorial#google-test-framework">Google Test</h3>       <p id="google-test-description">           <a href="https://github.com/google/googletest" data-external="true" target="_blank" rel="noopener noreferrer">Google Test</a> and <a href="https://github.com/google/googlemock" data-external="true" target="_blank" rel="noopener noreferrer">Google Mock</a> is a pair of powerful unit testing tools: the framework is portable, it includes a rich set of fatal and non-fatal assertions, provides instruments for creating fixtures and test groups, gives informative messages, and exports the results in XML. Probably the only drawback is a need to build <i id="87c8ceaa">gtest/gmock</i> in your project in order to use it.</p>        <div class="chapter"><h4 id="assertions-google">Assertions</h4>        <p id="b2388d1e">In Google Test, the statements that check whether a condition is true are referred to as <a href="https://github.com/google/googletest/blob/master/googletest/docs/primer.md#assertions" data-external="true" target="_blank" rel="noopener noreferrer">assertions</a>. Non-fatal assertions have the <code class="code">EXPECT_</code> prefix in their names, and assertions that cause fatal failure and abort the execution are named starting with <code class="code">ASSERT_</code>. For example:            <div class="code-block" data-lang="cpp">
                TEST (SquareTest /*test suite name*/, PosZeroNeg /*test name*/) {
                    EXPECT_EQ (9.0, (3.0*2.0)); // fail, test continues
                    ASSERT_EQ (0.0, (0.0));     // success
                    ASSERT_EQ (9, (3)*(-3.0));  // fail, test interrupts
                    ASSERT_EQ (-9, (-3)*(-3.0));// not executed due to the previous assert
                }
            </div>            </p>           <p id="00f5fb3b">            Some of the asserts available in Google Test are listed below (in this table, <code class="code">ASSERT_</code> is given as an example and can be switched with <code class="code">EXPECT_</code>):</p>           <div class="table-wrapper"><table width="100%" id="cfea550b"><thead><tr id="27a39e0b" class="ijRowHead"></tr></thead><tbody><tr id="7f00cd47" class="ijRowOdd"><td id="04a633d7" width="30%"><p>Logical</p></td><td id="7b959502"><code class="code">ASSERT_TRUE(condition)</code><br><code class="code">ASSERT_FALSE(condition)</code></td></tr><tr id="81a3daa2" class="ijRowEven"><td id="1e61c7c9"><p>General comparison</p></td><td id="a30ed188"><code class="code">ASSERT_EQ(expected, actual) / ASSERT_NE(val1, val2)</code><br><code class="code">ASSERT_LT(val1, val2) / ASSERT_LE(val1, val2)</code><br><code class="code">ASSERT_GT(val1, val2) / ASSERT_GE(val1, val2)</code></td></tr><tr id="40e770f6" class="ijRowOdd"><td id="bdef5c24"><p>Float point comparison</p></td><td id="a6b1662c"><code class="code">ASSERT_FLOAT_EQ(expected, actual)</code><br><code class="code">ASSERT_DOUBLE_EQ(expected, actual)</code><br><code class="code">ASSERT_NEAR(val1, val2, abs_error)</code></td></tr><tr id="0adc1322" class="ijRowEven"><td id="23536b11"><p>String comparison</p></td><td id="e1458eca"><code class="code">ASSERT_STREQ(expected_str, actual_str) / ASSERT_STRNE(str1, str2)</code><br><code class="code">ASSERT_STRCASEEQ(expected_str, actual_str) / ASSERT_STRCASENE(str1, str2)</code></td></tr><tr id="4995f442" class="ijRowOdd"><td id="db230ddb"><p>Exception checking</p></td><td id="83f66ae9"><code class="code">ASSERT_THROW(statement, exception_type)</code><br><code class="code">ASSERT_ANY_THROW(statement)</code><br><code class="code">ASSERT_NO_THROW(statement)</code></td></tr></tbody></table></div>           <p id="45b9c19b">Also, Google Test supports <a href="https://github.com/google/googletest/blob/master/googletest/docs/advanced.md#predicate-assertions-for-better-error-messages" data-external="true" target="_blank" rel="noopener noreferrer">predicate assertions</a> which help making output messages more informative.               For example, instead of <code class="code">EXPECT_EQ(a, b)</code> you can use a predicate function that checks <code class="code">a</code> and <code class="code">b</code> for equivalency and returns a boolean result. In case of failure, the assertion will print values of the function arguments:</p>            <div class="table-wrapper"><table class="  _layout-fixed" width="100%" id="87f7cc99"><thead><tr id="2e44a26a" class="ijRowHead"></tr></thead><tbody><tr id="06cc6352" class="ijRowOdd"><td id="ba4fc5a3">                        <p id="f8752807"><span class="control">Predicate assertion example</span></p>                        <div class="code-block" data-lang="cpp">
                            bool IsEq(int a, int b){
                                if (a==b) return true;
                                else return false;
                            }

                            TEST(BasicChecks, TestEq) {
                                int a = 0;
                                int b = 1;
                                EXPECT_EQ(a, b);
                                EXPECT_PRED2(IsEq, a, b);
                            }</div>                    </td><td id="44105f94">                        <p id="7097ebaf"><span class="control">Output</span></p>                        <div class="code-block" data-lang="bash">
Failure
    Value of: b
    Actual: 1
    Expected: a
    Which is: 0

Failure
    IsEq(a, b) evaluates to false, where
    a evaluates to 0
    b evaluates to 1
    </div>                    </td></tr></tbody></table></div>            <p id="9e8fb19d">In <code class="code">EXPECT_PRED2</code> above, <i id="9e45a559">predN</i> is a predicate function with N arguments. Google Test currently supports predicate assertions of arity up to 5.</p>           </div>           <div class="chapter"><h4 id="fixtures-google">Fixtures</h4>       <p id="af46294c">Google tests that share common objects or subroutines can be grouped into fixtures. Here is how a generalized fixture looks like:        <div class="code-block" data-lang="cpp">
           class myTestFixture: public ::testing::test {
               public:
                    myTestFixture( ) {
                        // initialization;
                        // can also be done in SetUp()
                    }

               void SetUp( ) {
                    // initialization or some code to run before each test
               }

               void TearDown( ) {
                    // code to run after each test;
                    // can be used instead of a destructor,
                    // but exceptions can be handled in this function only
                }

               ~myTestFixture( )  {
                    //resources cleanup, no exceptions allowed
               }

                // shared user data
           };
        </div>       </p>        <p id="for-tip">       When used for a fixture, a <code class="code">TEST()</code> macro should be replaced with <code class="code">TEST_F()</code> to allow the test to access the fixture's members and functions:            <div class="code-block" data-lang="cpp">
           TEST_F( myTestFixture, TestName) {/*...*/}
            </div>        </p>           </div>           <div class="chapter"><h4 id="google-set-up">Setting up</h4>               <p id="a6385de3">There are <a href="https://github.com/google/googletest/tree/master/googletest#incorporating-into-an-existing-cmake-project" data-external="true" target="_blank" rel="noopener noreferrer">several options</a> you can choose from when adding Google Test into a CMake project:               <ul class="list _ul"><li class="list__item" id="27756169"><p id="d19f0537">Download the sources and copy them into the project structure.</p>                       <p id="0d1d6b4c">                       This is probably the quickest way to start working with the framework, but there will be no automatic synchronization with the Google Test repository, so you will have to take care of keeping the sources up to date.                       </p>                        <p id="d6cdd826">You can find an example of using this approach in the <a href="#google-add-fw">sample project</a> below.</p>                   </li><li class="list__item" id="c12adfff">                       <p id="7f5603b6">If you are working with git, you can add <span class="emphasis">gtest</span> as a <a href="https://git-scm.com/book/en/v2/Git-Tools-Submodules" data-external="true" target="_blank" rel="noopener noreferrer">git submodule</a> for your project.</p>                       </li><li class="list__item" id="7d52e642">                       <p id="85570041">Another option is to use CMake to download <span class="emphasis">gtest</span> as part of the build's configuration step.</p>                   </li></ul>               </p>           </div>             <p id="234f1544">To learn more about Google Test, explore the <a href="https://github.com/google/googletest/blob/master/googletest/docs/samples.md" data-external="true" target="_blank" rel="noopener noreferrer">samples</a> in the framework's repository. Also, take a look at <a href="https://github.com/google/googletest/blob/master/googletest/docs/advanced.md#advanced-googletest-topics" data-external="true" target="_blank" rel="noopener noreferrer">Advanced options</a> for details of other noticeable Google Test features such as <a href="https://github.com/google/googletest/blob/master/googletest/docs/advanced.md#value-parameterized-tests" data-external="true" target="_blank" rel="noopener noreferrer">value-parametrized tests</a> and <a href="https://github.com/google/googletest/blob/master/googletest/docs/advanced.md#type-parameterized-tests" data-external="true" target="_blank" rel="noopener noreferrer">type-parameterized tests</a>.</p>       </div>       <div class="chapter"><h3 id="boost-test-framework" data-toc="Unit_Testing_Tutorial#boost-test-framework">Boost.Test</h3>       <p id="boost-test-description">           <a href="https://www.boost.org/doc/libs/1_71_0/libs/test/doc/html/index.html" data-external="true" target="_blank" rel="noopener noreferrer">Boost unit testing framework (Boost.Test)</a> is a part of the <a href="https://www.boost.org/" data-external="true" target="_blank" rel="noopener noreferrer">Boost</a> library. It is a fully-functional and scalable framework, with wide range of assertion macros, XML output, and other features. Boost.Test itself lacks mocking functionality, but it can be combined with stand-alone mocking frameworks such as <a href="https://github.com/google/googlemock" data-external="true" target="_blank" rel="noopener noreferrer">gmock</a>.       </p>                                 <div class="chapter"><h4 id="checkers-boost">Checkers</h4>               <p id="b297c884">                   For most of the Boost.Test checkers, you can set a severity level:                   <ul class="list _ul"><li class="list__item" id="8ff796b6"><p><span class="control">WARN</span> produces a warning message if the check failed, but the error counter isn't increased and the test case continues.</p></li><li class="list__item" id="a2f6c232"><p><span class="control">CHECK</span> reports an error and increases the error counter when the check is failed, but the test case continues.</p></li><li class="list__item" id="4088a9ef"><p><span class="control">REQUIRE</span> is used for reporting fatal errors, when the execution of the test case should be aborted (for example, to check whether an object that will be used later was created successfully).</p></li></ul>               </p>               <p id="d18fa75a">                   This way, a Boost checker is usually a macro of the <code class="code">BOOST_[level]_[checkname]</code> format that takes one or several arguments. Basic macros are <code class="code">BOOST_WARN</code>, <code class="code">BOOST_CHECK</code>, and <code class="code">BOOST_REQUIRE</code>. They take one argument of an expression to check, for example:                   <div class="code-block" data-lang="cpp">
                       BOOST_WARN(sizeof(int) == sizeof(long));
                       BOOST_CHECK( i == 1 );
                       BOOST_REQUIRE( j &gt; 5 );
                   </div>               </p>               <p id="6b4322a7">A few examples of other checkers are given below:</p>               <div class="table-wrapper"><table class="  _layout-fixed" width="100%" id="832a1ad7"><thead><tr id="8b62a113" class="ijRowHead"></tr></thead><tbody><tr id="008c43c6" class="ijRowOdd"><td id="df63f2b2" width="20%"><p>General comparison</p></td><td id="acaf0e1f" width="80%">                           <p id="f88f4f9c">                          <code class="code">BOOST_[level]_EQUAL</code>, <code class="code">BOOST_[level]_NE</code>, <code class="code">BOOST_[level]_GT</code>                            </p>                           <p id="28a83d0e">In case of failure, these macros not only give the <i id="f8f33eeb">test failed</i> message, but also show the expected and the actual value:                               <div class="code-block" data-lang="cpp">
                                   int i = 2;
                                   int j = 1;
                                   BOOST_CHECK( i == j );     // reports the fact of failure only: "check i == j failed"
                                   BOOST_CHECK_EQUAL( i, j ); // reports "check i == j failed [2 != 1]"
                               </div>                           </p>                       </td></tr><tr id="64166c81" class="ijRowEven"><td id="84807e6e"><p>Float point comparison</p></td><td id="490210c4"><p>                           <code class="code">BOOST_[level]_CLOSE</code> / <code class="code">BOOST_[level]_CLOSE_FRACTION</code> / <code class="code">BOOST_[level]_SMALL</code>                       </p></td></tr><tr id="8410b462" class="ijRowOdd"><td id="347cffd3"><p>Exception checking</p></td><td id="c88fb19e"><p>                           <code class="code">BOOST_[level]_THROW</code> / <code class="code">BOOST_[level]_NO_THROW</code> / <code class="code">BOOST_[level]_EXCEPTION</code>                       </p></td></tr></tbody></table></div>           </div>       <div class="chapter"><h4 id="suites-boost">Suites</h4>           <p id="c59490dc">You can organize Boost tests into <a href="https://www.boost.org/doc/libs/1_71_0/libs/test/doc/html/boost_test/tests_organization/test_tree/test_suite.html" data-external="true" target="_blank" rel="noopener noreferrer">suites</a> using the pair of <code class="code">BOOST_AUTO_TEST_SUITE(suite_name)</code> and <code class="code">BOOST_AUTO_TEST_SUITE_END()</code> macros. A simple test suite looks like this:            <div class="code-block" data-lang="cpp">
           #define BOOST_TEST_MODULE Suite_example
           #include &lt;boost/test/unit_test.hpp&gt;

           BOOST_AUTO_TEST_SUITE(TwoTwoFour_suite)
               BOOST_AUTO_TEST_CASE(testPlus) {
                    BOOST_CHECK_EQUAL(2+2, 4);
               }
               BOOST_AUTO_TEST_CASE(testMult) {
                    BOOST_CHECK_EQUAL(2*2, 4);
               }
           BOOST_AUTO_TEST_SUITE_END()
   </div>       </p>       </div>           <div class="chapter"><h4 id="fixtures-boost">Fixtures</h4>               <p id="094db77b">To write a fixture with Boost, you can use either a <a href="https://www.boost.org/doc/libs/1_71_0/libs/test/doc/html/boost_test/tests_organization/fixtures.html" data-external="true" target="_blank" rel="noopener noreferrer">regular BOOST_AUTO_TEST_CASE macro</a> written after a fixture class declaration or a special <code class="code">BOOST_FIXTURE_TEST_CASE</code> macro:               <div class="code-block" data-lang="cpp">
                   struct SampleF {
                       SampleF() : i(1) { }
                       ~SampleF() { }
                       int i;
                   };

                   BOOST_FIXTURE_TEST_CASE(SampleF_test, SampleF) {
                       // accessing i from SampleF directly
                       BOOST_CHECK_EQUAL(i, 1);
                       BOOST_CHECK_EQUAL(i, 2);
                       BOOST_CHECK_EQUAL(i, 3);
                   }
               </div>             </p>           </div>    <div class="chapter"><h4 id="boost-set-up">Setting up</h4>        <p id="aaeb41d9">You can choose between three <a href="https://www.boost.org/doc/libs/1_71_0/libs/test/doc/html/boost_test/usage_variants.html" data-external="true" target="_blank" rel="noopener noreferrer">usage variants</a> for the framework: header-only, static library, or shared library. When picking the most suitable option, keep in mind that Boost.Test used as header-only might require significant compilation time.</p>        <p id="7d44d70f">Find an example of the <a href="https://www.boost.org/doc/libs/1_71_0/libs/test/doc/html/boost_test/usage_variants.html#boost_test.usage_variants.shared_lib" data-external="true" target="_blank" rel="noopener noreferrer">shared library usage variant</a> in the <a href="#google-add-fw">sample project</a> below (switch to the <span class="control">Boost.Test</span> tab).</p>    </div>       </div>       <div class="chapter"><h3 id="catch-framework" data-toc="Unit_Testing_Tutorial#catch-framework">Catch2</h3>           <p id="catch2-test-description">The main difference of <a href="https://github.com/catchorg/Catch2" data-external="true" target="_blank" rel="noopener noreferrer">Catch2</a> from Google and Boost is that it's a <span class="control">header-only</span> testing system: to create tests with Catch2, you need to download and include only one header file, <span class="filepath">catch.hpp</span>. The framework's name stands for <i id="933c19d3">C++ Automated Test Cases in Headers (version two)</i>. CLion supports Catch versions 1.7.2 and later.</p>           <p id="c4edca6c">As well as Boost.Test, Catch2 doesn't provide mocking functionality. However, you can combine it with standalone mocking frameworks such as <a href="http://hippomocks.com/Main_Page" data-external="true" target="_blank" rel="noopener noreferrer">Hippomocks</a>, <a href="https://github.com/eranpeer/FakeIt" data-external="true" target="_blank" rel="noopener noreferrer">FakeIt</a>, or <a href="https://github.com/rollbear/trompeloeil" data-external="true" target="_blank" rel="noopener noreferrer">Trompeloeil</a>.</p>       <div class="chapter"><h4 id="sample-catch">Sample test</h4>       <p id="4f1a60ec">The following example shows a simple test written with Catch2:</p>           <div class="code-block" data-lang="cpp">
           #define CATCH_CONFIG_MAIN // provides main(); this line is required in only one .cpp file
           #include "catch.hpp"

           int theAnswer() { return 6*9; } // function to be tested

           TEST_CASE( "Life, the universe and everything", "[42][theAnswer]" ) {
               REQUIRE(theAnswer() == 42);
           }
           </div>           <p id="d6cd9fbf">In the above example, <code class="code">Life, the universe and everything</code> is a free-form test name, which must be unique. The second argument of the <code class="code">TEST_CASE</code> macro is a combination of two tags, <code class="code">[42]</code> and <code class="code">[theAnswer]</code>. Both test name and tags are regular strings that are not limited to be valid C++ identifiers. You can run collections of tests by specifying a wildcarded test name or a tag expression.           </p>           <p id="cbd44eca">           Notice the assertion line <code class="code">REQUIRE(theAnswer() == 42)</code>. Unlike other frameworks, Catch2 doesn't have a collection of               asserts to capture various conditional forms. Instead, it parses the actual C/C++ code of the conditional expression and also uses it to describe the result:            <div class="code-block" data-lang="bash">
...Failure:
    REQUIRE(theAnswer() == 42)
with expansion:
    54 == 42</div>       </p>           <p id="4d9d9ab4">The <code class="code">REQUIRE</code> macro aborts a test on failure, while the alternative <code class="code">CHECK</code> macro only reports the failure and lets the test carry on. Within both of these macros, you can use all C++ comparison operators and pass the arguments in any order.        </p>       </div>           <div class="chapter"><h4 id="sections-catch">Sections</h4>           <p id="26ae0ef5">Another important feature of Catch2 is the way to organize tests in <a href="https://github.com/catchorg/Catch2/blob/master/docs/tutorial.md#test-cases-and-sections" data-external="true" target="_blank" rel="noopener noreferrer">cases and sections</a> (while the class-based fixture mechanism is also <a href="https://github.com/catchorg/Catch2/blob/master/docs/test-fixtures.md" data-external="true" target="_blank" rel="noopener noreferrer">supported</a>). Take a look at this example from the documentation:               <div class="code-block" data-lang="cpp">
                   TEST_CASE( "vectors can be sized and resized", "[vector]" ) {

                       // initialization block executed for each section
                       std::vector&lt;int&gt; v( 5 );
                       REQUIRE( v.size() == 5 );
                       REQUIRE( v.capacity() &gt;= 5 );
                       // end of initialization block

                       SECTION( "resizing bigger changes size and capacity" ) {
                            v.resize( 10 );

                            REQUIRE( v.size() == 10 );
                            REQUIRE( v.capacity() &gt;= 10 );
                       }
                       SECTION( "resizing smaller changes size but not capacity" ) {
                           v.resize( 0 );

                           REQUIRE( v.size() == 0 );
                           REQUIRE( v.capacity() &gt;= 5 );
                       }
                   }
               </div>           </p>               <p id="ec7e9c74">In the above snippet, <code class="code">TEST_CASE</code> is executed from the start for each <code class="code">SECTION</code>. Two <code class="code">REQUIRE</code> statements at the top of the <code class="code">TEST_CASE</code> enforce that <code class="code">size</code> is 5 and <code class="code">capacity</code> is at least 5 at the entry of each section. This way, shared objects are allocated on stack and there is no need to create a fixture class for them. On each run through a <code class="code">TEST_CASE</code>, Catch2 executes one section and skips the others. Next time, it executes the second section, and so on.</p>               <p id="52fdd1e2">Sections can be nested to create a sequence of checking operations. Each leaf section (a section with no nested sections inside) is executed once. When a parent section fails, it prevents child sections from running. For example:               <div class="code-block" data-lang="cpp">
                   SECTION( "reserving bigger changes capacity but not size" ) {
                       v.reserve( 10 );

                       REQUIRE( v.size() == 5 );
                       REQUIRE( v.capacity() &gt;= 10 );

                       // verify that attempting to reserve a smaller capacity changes nothing
                       SECTION( "reserving smaller again does not change capacity" ) {
                           v.reserve( 7 );
                           REQUIRE( v.capacity() &gt;= 10 );
                       }
                   }
               </div>               </p>               <p id="b005b683">Catch2 also supports the alternative <a href="https://github.com/catchorg/Catch2/blob/master/docs/test-cases-and-sections.md#bdd-style-test-cases" data-external="true" target="_blank" rel="noopener noreferrer">BDD-style syntax</a> for test cases and sections.</p>           </div>           <div class="chapter"><h4 id="catch-set-up">Setting up</h4>               <p id="9d7d8405">To start using Catch2, download the <span class="filepath">catch.hpp</span> header using the link from the <a href="https://github.com/catchorg/Catch2" data-external="true" target="_blank" rel="noopener noreferrer">documentation</a> and copy it into your project tree. See an example in the <a href="#google-add-fw">sample project</a> below (switch to the <span class="control">Catch2</span> tab).</p>           </div>       </div>   </div>   <div class="chapter"><h2 id="clion-integrations" data-toc="Unit_Testing_Tutorial#clion-integrations">Unit testing in CLion</h2>        <p id="6d82d07c">CLion's integration of Google Test, Boost.Test, and Catch2 includes full code insight for framework libraries, dedicated run/debug configurations, gutter icons to run or debug tests/suites/fixtures and check their status, a specialized test runner, and also code generation for tests and fixture classes (available for Google Tests).</p>       <div class="chapter"><h3 id="adding-framework" data-toc="Unit_Testing_Tutorial#adding-framework">Setting up a testing framework for your project</h3>       <p id="0d17b217">In this chapter, we will discuss how to add the Google Test, Boost.Test, and Catch2 framework to a project in CLion and how to write a simple set of tests.           </p>           <p id="15de644b">As an example, we will use the <span class="control">DateConverter</span> project that you can clone from <a href="https://github.com/MarinaKalashina/DateConverter" data-external="true" target="_blank" rel="noopener noreferrer">github repo</a>. This program calculates the absolute value of a date given in the Gregorian calendar format and converts it into a Julian calendar date. Initially, the project doesn't include any tests               - we will add them step by step. To see the difference between the frameworks, we will use all three to perform the same tests.  You can find the final version of the project in the <a href="https://github.com/MarinaKalashina/DateConverter_withTests" data-external="true" target="_blank" rel="noopener noreferrer">DateConverter_withTests</a> repository. Here is how the project structure will be transformed:               <figure><img alt="sample project with and without tests" title="sample project with and without tests" src="/help/img/idea/2019.3/cl_UTturorial_sampleproject_transform.png" id="17f2e151" width="472" height="736"></figure>           </p>           <p id="c8440672">            <span class="emphasis">For each framework</span>, we will do the following:        <ol class="list _decimal"><li class="list__item" id="680cac8b"><p>Add the framework to the <span class="control">DateConverter</span> project.</p></li><li class="list__item" id="8fb6d86c"><p>Create two test files, <span class="filepath">AbsoluteDateTest.cpp</span> and <span class="filepath">ConverterTests.cpp</span>. These files will be named similarly for each framework, and they will contain test code written using the syntax of a particular framework.</p></li></ol>        </p>            <p id="160b78cf">               Now let's open the cloned <span class="control">DateConverter</span> project and follow the instructions given in the tabs below:</p>           <div class="tabs" id="0b81cb35"><div class="tabs__content" data-title="Google Test" id="917e09d2">             <section class="procedure-steps"><h3 id="google-add-fw">Include the Google Test framework</h3><ol class="list _decimal"><li class="list__item" id="5ad99269"><p id="6eae0344">Create a folder for Google Tests under the <span class="control">DateConverter</span> project root. Inside it, create another folder for the framework's files. In our example, it's <span class="filepath">Google_tests</span> and <span class="filepath">Google_tests/lib</span> folders respectfully.</p>                 </li><li class="list__item" id="google-step2"><p id="c3dba79d">                     Download Google Test from the official <a href="https://github.com/google/googletest" data-external="true" target="_blank" rel="noopener noreferrer">repository</a>. Extract the contents of the <span class="control">googletest-master</span> folder into <span class="filepath">Google_tests/lib</span>.</p>                                                           </li><li class="list__item" id="95a7172f">                     <p id="d27e2754">Add a <span class="filepath">CMakeLists.txt</span> file to the <span class="control">Google_tests</span> folder (right-click it in the project tree and select <span data-skip-index="skip" class="menupath">New | CMakeLists.txt</span>). Add the following lines:</p>                     <div class="code-block" data-lang="makefile">
                     project(Google_tests)
                     add_subdirectory(lib)
                     include_directories(${gtest_SOURCE_DIR}/include ${gtest_SOURCE_DIR})
                     </div>                 </li><li class="list__item" id="1cee4783"><p id="4f3a488f">                     In the <span class="control">root</span> <span class="filepath">CMakeLists.txt</span> script, add the <code class="code">add_subdirectory(Google_tests)</code> line at the end and reload the project.                 </p>                                      </li></ol></section>               <section class="procedure-steps"><h3 id="google-add-tests">Add Google tests</h3><ol class="list _decimal"><li class="list__item" id="b818654e">                     <p id="df2cb02b">                         Click <span class="filepath">Google_tests</span> folder in the project tree and select <span data-skip-index="skip" class="menupath">New | C/C++ Source File</span>, call it <span class="control">AbsoluteDateTest.cpp</span>.                     </p>                     <p id="ebe47797">CLion prompts to add this file to an existing target. We don't need to do that, since we are going to create a new target for this file on the next step.                     </p>                     <p id="03a50d0b">Repeat this step for <span class="control">ConverterTests.cpp</span>.</p>                 </li><li class="list__item" id="52baa1f8">                     <p id="1f824288">With two source files added, we can create a test target for them and link it with the <code class="code">DateConverter_lib</code> library.</p>                     <p id="add1cad3">Add the following lines to <span class="filepath">Google_tests/CMakeLists.txt</span>:</p>                      <div class="code-block" data-lang="makefile">
                         # adding the Google_Tests_run target
                         add_executable(Google_Tests_run ConverterTests.cpp AbsoluteDateTest.cpp)

                         # linking Google_Tests_run with DateConverter_lib which will be tested
                         target_link_libraries(Google_Tests_run DateConverter_lib)

                         target_link_libraries(Google_Tests_run gtest gtest_main)
                     </div>                   </li><li class="list__item" id="f62435d2">                     <p id="deeac37c">Copy the Google Test version of our checks from <a href="https://github.com/MarinaKalashina/DateConverter_withTests/blob/master/Google_tests/AbsoluteDateTest.cpp" data-external="true" target="_blank" rel="noopener noreferrer">AbsoluteDateTest.cpp</a> and <a href="https://github.com/MarinaKalashina/DateConverter_withTests/blob/master/Google_tests/ConverterTests.cpp" data-external="true" target="_blank" rel="noopener noreferrer">ConverterTests.cpp</a> to your <span class="filepath">AbsoluteDateTest.cpp</span> and <span class="filepath">ConverterTests.cpp</span> files.                         </p>                     <p id="753d500b">                         Now the tests are ready to <a href="#run-from-gutter">run</a>. For example, let's click <img class="inline-icon-12" src="/help/img/idea/2019.3/icons.runConfigurations.testState.run_run@2x.png" width="12" alt="icons runConfigurations testState run run"> in the left gutter next to the <code class="code">DateConverterFixture</code> declaration in <span class="filepath">ConverterTests.cpp</span> and choose <span class="control">Run...</span>. We will get the following results:                         </p>                     <figure><img alt="Google tests results" title="Google tests results" src="/help/img/idea/2019.3/cl_UTtutorial_simpletestGoogle.png" id="982ec782" width="650" height="854"></figure>                 </li></ol></section>           </div><div class="tabs__content" data-title="Boost.Test" id="92e4f5e3">               <section class="procedure-steps"><h3 id="boost-add-fw">Include the Boost.Test framework</h3><ol class="list _decimal"><li class="list__item" id="0a8849be"><p>Install and build Boost Testing Framework following these <a href="https://www.boost.org/doc/libs/1_71_0/libs/test/doc/html/boost_test/adv_scenarios/build_utf.html" data-external="true" target="_blank" rel="noopener noreferrer">instructions</a> (further in the tests we will use the <a href="https://www.boost.org/doc/libs/1_71_0/libs/test/doc/html/boost_test/usage_variants.html#boost_test.usage_variants.shared_lib" data-external="true" target="_blank" rel="noopener noreferrer">shared library usage variant</a> to link the framework).</p></li><li class="list__item" id="a7e8bcf5"><p>Create a folder for Boost tests under the <span class="control">DateConverter</span> project root. In our example, it's called <span class="filepath">Boost_tests</span>.</p></li><li class="list__item" id="e95f6979"><p>                       Add a <span class="filepath">CMakeLists.txt</span> file to the <span class="control">Boost_tests</span> folder (right-click it in the project tree and select <span data-skip-index="skip" class="menupath">New | CMakeLists.txt</span>). Add the following lines:                       <div class="code-block" data-lang="makefile">
                           set (Boost_USE_STATIC_LIBS OFF)
                           find_package (Boost REQUIRED COMPONENTS unit_test_framework)
                           include_directories (${Boost_INCLUDE_DIRS})
                       </div>                   </p></li><li class="list__item" id="55510ef5"><p id="283e4a04">                       In the <span class="control">root</span> <span class="filepath">CMakeLists.txt</span> script, add the <code class="code">add_subdirectory(Boost_tests)</code> line at the end and reload the project.                   </p>                                          </li></ol></section>               <section class="procedure-steps"><h3 id="boost-add-tests">Add Boost tests</h3><ol class="list _decimal"><li class="list__item" id="5207e133">                       <p id="8d59a75e">                        Click <span class="filepath">Boost_tests</span> in the project tree and select <span data-skip-index="skip" class="menupath">New | C/C++ Source File</span>, call it <span class="control">AbsoluteDateTest.cpp</span>.                       </p>                       <p id="84441553">CLion will prompt to add this file to an existing target. We don't need to do that, since we are going to create a new target for this file on the next step.                       </p>                       <p id="63e8314c">Repeat this step for <span class="control">ConverterTests.cpp</span>.</p>                   </li><li class="list__item" id="fec227c4">                       <p id="18abe1ba">With two source files added, we can create a test target for them and link it with the <code class="code">DateConverter_lib</code> library. Add the following lines to <span class="filepath">Boost_tests/CMakeLists.txt</span>:</p>                       <div class="code-block" data-lang="makefile">
                           add_executable (Boost_Tests_run ConverterTests.cpp AbsoluteDateTest.cpp)
                           target_link_libraries (Boost_Tests_run ${Boost_LIBRARIES})
                           target_link_libraries (Boost_Tests_run DateConverter_lib)
                       </div>                       <p id="89832513">Reload the project.</p>                   </li><li class="list__item" id="6dd455a4">                       <p id="d30ab1f1">Copy the Boost.Test version of our checks from <a href="https://github.com/MarinaKalashina/DateConverter_withTests/blob/master/Boost_tests/AbsoluteDateTest.cpp" data-external="true" target="_blank" rel="noopener noreferrer">AbsoluteDateTest.cpp</a> and <a href="https://github.com/MarinaKalashina/DateConverter_withTests/blob/master/Boost_tests/ConverterTests.cpp" data-external="true" target="_blank" rel="noopener noreferrer">ConverterTests.cpp</a> to the corresponding source files in your project.</p>                                              <p id="e075be30">Now the tests are ready to <a href="#run-from-gutter">run</a>. For example, let's click <img class="inline-icon-12" src="/help/img/idea/2019.3/icons.runConfigurations.testState.run_run@2x.png" width="12" alt="icons runConfigurations testState run run"> in the left gutter next to <code class="code">BOOST_AUTO_TEST_SUITE(AbsoluteDateCheckSuite)</code> in <span class="filepath">AbsoluteDateTest.cpp</span> and choose <span class="control">Run...</span>. We will get the following results:                           <figure><img alt="Boost tests results" title="Boost tests results" src="/help/img/idea/2019.3/cl_UTtutorial_simpletestBoost.png" id="8c07cebe" width="643" height="861"></figure>                       </p>                   </li></ol></section>           </div><div class="tabs__content" data-title="Catch2" id="0179bdcf">               <section class="procedure-steps"><h3 id="catch-add-fw">Include the Catch2 framework</h3><ol class="list _decimal"><li class="list__item" id="201ce146"><p>Create a folder for Catch2 tests under the <span class="control">DateConverter</span> project root. In our example, it's called <span class="filepath">Catch_tests</span>.</p></li><li class="list__item" id="2e251d4a"><p>Download the <span class="filepath">catch.hpp</span> header using the link from the <a href="https://github.com/catchorg/Catch2" data-external="true" target="_blank" rel="noopener noreferrer">documentation</a> and place it in the <span class="filepath">Catch_tests</span> folder.                   </p></li></ol></section>               <section class="procedure-steps"><h3 id="catch-add-tests">Add Catch2 tests</h3><ol class="list _decimal"><li class="list__item" id="9c29255e">                       <p id="54827017">Click <span class="filepath">Catch_tests</span> in the project tree and select <span data-skip-index="skip" class="menupath">New | C/C++ Source File</span>, call it <span class="control">AbsoluteDateTest.cpp</span>.                       </p>                       <p id="abb1a197">CLion will prompt to add this file to an existing target. We don't need to do that, since we are going to create a new target for this file on the next step.                       </p>                       <p id="36a3945c">Repeat this step for <span class="control">ConverterTests.cpp</span>.</p>                   </li><li class="list__item" id="235914bc"><p>                       Add a <span class="filepath">CMakeLists.txt</span> file to the <span class="control">Catch_tests</span> folder (right-click the folder in the project tree and select <span data-skip-index="skip" class="menupath">New | CMakeLists.txt</span>). Add the following lines:                       <div class="code-block" data-lang="makefile">
                           add_executable(Catch_tests_run ConverterTests.cpp AbsoluteDateTest.cpp)
                           target_link_libraries(Catch_tests_run DateConverter_lib)
                       </div>                   </p></li><li class="list__item" id="02781917"><p id="db6d1892">In the <span class="control">root</span> <span class="filepath">CMakeLists.txt</span>, add <code class="code">add_subdirectory(Catch_tests)</code> in the end and reload the project.</p>                   </li><li class="list__item" id="4d0e5048">                        <p id="096f0f8b">Copy the Catch2 version of our checks from <a href="https://github.com/MarinaKalashina/DateConverter_withTests/blob/master/Catch_tests/AbsoluteDateTest.cpp" data-external="true" target="_blank" rel="noopener noreferrer">AbsoluteDateTest.cpp</a> and <a href="https://github.com/MarinaKalashina/DateConverter_withTests/blob/master/Catch_tests/ConverterTests.cpp" data-external="true" target="_blank" rel="noopener noreferrer">ConverterTests.cpp</a> to the corresponding source files in your project.                        </p>                   <p id="f28d2e57">                        Now the tests are ready to <a href="#run-from-gutter">run</a>. For example, lets' click <img class="inline-icon-16" src="/help/img/idea/2019.3/icons.actions.execute@2x.png" width="16" alt="icons actions execute"> in the left gutter next to <code class="code">TEST_CASE( "Check various dates", "[DateConverterTests]" )</code> in <span class="filepath">ConverterTests.cpp</span> and choose <span class="control">Run...</span>. We will get the following results:                       <figure><img alt="Catch tests results" title="Catch tests results" src="/help/img/idea/2019.3/cl_UTtutorial_simpletestCatch.png" id="2e719f7b" width="650" height="934"></figure>                   </p>                  </li></ol></section>           </div></div>       </div><div class="chapter"><h3 id="test-configurations" data-toc="Unit_Testing_Tutorial#test-configurations">Run/Debug configurations for tests</h3>    <p id="5cdec7b8">Test frameworks provide the <code class="code">main()</code> entry for test programs, so it is possible to run them as regular applications in CLion. However, we recommend using the dedicated run/debug configurations for Google Test, Boost.Test, and Catch2. These configurations include test-related settings and let you benefit from the built-in test runner (which is unavailable if you run the tests as regular applications).   </p>    <section class="procedure-steps"><h3 id="create-tests-config">Create a run/debug configuration for tests</h3><ul class="list "><li class="list__item" id="b9a51fcf"><p id="a38aaabd">Go to <span class="control">Run | Edit Configurations</span>, click <img class="inline-icon-16" src="/help/img/idea/2019.3/icons.general.add@2x.png" width="16" alt="icons general add"> and select one of the framework-specific templates:            <figure><img alt="test run/debug configuration templates" title="test run/debug configuration templates" src="/help/img/idea/2019.3/cl_UTtutorial_configs.png" id="d465ed78" width="239" height="434"></figure>        </p>        </li></ul><aside data-type="note" class="prompt" data-title="" rel="b9a51fcf" id="b316ab7c"><p>If your CMake target is linked with <span class="emphasis">gtest</span> or <span class="emphasis">gmock</span>, CLion creates a Google Test configuration for this target automatically.</p></aside></section>    <section class="procedure-steps"><h3 id="settings-test-configs">Set up your configuration</h3><ul class="list "><li class="list__item" id="5187ca1c">            <p id="80f31df9">Depending on the framework, specify test <span class="control">pattern</span>, <span class="control">suite</span>, or <span class="control">tags</span> (for Catch2). Auto-completion is available in the fields to help you quickly fill them up:                <figure><img alt="auto-completion in configuration fields" title="auto-completion in configuration fields" src="/help/img/idea/2019.3/cl_UTtutorial_config_completion.png" id="e82dc2fb" width="517" height="288"></figure>            </p>        </li><li class="list__item" id="5c24861e">            <p id="39fb4934">You can use wildcards when specifying test patterns. For example, set the following pattern to run only the <code class="code">PlusOneDiff</code> and <code class="code">PlusFour_Leap</code> tests from the sample project:                <figure><img alt="using wildcards in test patterns" title="using wildcards in test patterns" src="/help/img/idea/2019.3/cl_UTtutorial_configs_pattern.png" id="9d6dd81c" width="395" height="256"></figure>            </p>        </li><li class="list__item" id="fa1e8e1a">            <p id="d27ce136">In other fields of the configuration settings, you can set environment variables or command line options. For example, in the <span class="control">Program arguments</span> field you can set <code class="code">-s</code> for Catch2 tests to force passing tests to show the full output, or <code class="code">--gtest_repeat</code> to run a Google test multiple times:</p>            <div class="table-wrapper"><table class="  _layout-fixed" width="100%" id="39077dad"><thead><tr id="3144eec5" class="ijRowHead"></tr></thead><tbody><tr id="e047fa38" class="ijRowOdd"><td id="cf5a9147" width="60%">                        <figure><img alt="flags in program arguments" title="flags in program arguments" src="/help/img/idea/2019.3/cl_UTtutorial_configs_flags.png" id="f6e64def" width="516" height="451"></figure>                    </td><td id="58c18818"><p id="5c085288">                        The output will be:                        <div class="code-block" data-lang="bash">
Repeating all tests (iteration 1) . . .
Repeating all tests (iteration 2) . . .
Repeating all tests (iteration 3) . . .
    </div>                    </p>                    </td></tr></tbody></table></div>        </li></ul><aside data-type="note" class="prompt" data-title="" rel="fa1e8e1a" id="a88f61ea"><p>Instead of editing each configuration separately, you can <span class="control">modify the template itself</span>: settings will be used by default in new configurations based on that template.</p></aside></section></div><div class="chapter"><h3 id="run-from-gutter" data-toc="Unit_Testing_Tutorial#run-from-gutter">Gutter icons for tests</h3>    <p id="57994ad7">In CLion, there are <a href="performing-tests.html#RunTest">several ways</a> to start a run/debug session for tests, one of which is using special gutter icons. These icons help quickly run or debug a single test or a whole suite/fixture:    <figure><img alt="gutter icons for tests" title="gutter icons for tests" src="/help/img/idea/2019.3/cl_UTtutorial_guttericons.png" id="53876073" width="429" height="219"></figure>    </p>       <p id="f5bb39dc">Gutter icons also show test results (when already available): success <img class="inline-icon-12" src="/help/img/idea/2019.3/icons.runConfigurations.testState.green2@2x.png" width="12" alt="icons runConfigurations testState green2"> or failure <img class="inline-icon-12" src="/help/img/idea/2019.3/icons.runConfigurations.testState.red2@2x.png" width="12" alt="icons runConfigurations testState red2">.</p>    <p id="b67eaa48">When you run a test/suite/fixture using gutter icons, CLion creates <a href="creating-and-saving-temporary-run-debug-configurations.html">temporary Run/Debug configurations</a> of the corresponding type. You can see these configurations greyed out in the list. To save a temporary configuration, select it in the <span data-skip-index="skip" class="menupath">Edit Configurations</span> dialog and press <img class="inline-icon-16" src="/help/img/idea/2019.3/icons.actions.menu-saveall@2x.png" width="16" alt="icons actions menu saveall">:       <figure><img alt="saving temporary test configuration" title="saving temporary test configuration" src="/help/img/idea/2019.3/cl_UTturorial_temporaryconfigs_save.png" id="aa6f0cbd" width="507" height="343"></figure>       </p></div><div class="chapter"><h3 id="test-runner" data-toc="Unit_Testing_Tutorial#test-runner">Test runner</h3>    <p id="69a9e5b0">When you run a test configuration, the results (and the process) are shown in the test runner window that includes:        <ul class="list _ul"><li class="list__item" id="548146a5"><p><span class="control">progress bar</span> with the percentage of tests executed so far,</p></li><li class="list__item" id="2ae2aff8"><p><span class="control">tree view</span> of all the running tests with their status and duration,</p></li><li class="list__item" id="608a4438"><p>tests' <span class="control">output</span> stream,</p></li><li class="list__item" id="c39f158e"><p><span class="control">toolbar</span> with the options to rerun failed <img class="inline-icon-12" src="/help/img/idea/2019.3/icons.runConfigurations.testState.red2@2x.png" width="12" alt="icons runConfigurations testState red2"> tests, export <img class="inline-icon-16" src="/help/img/idea/2019.3/icons.toolbarDecorator.export@2x.png" width="16" alt="icons toolbarDecorator export"> or open previous results saved automatically <img class="inline-icon-16" src="/help/img/idea/2019.3/artwork.studio.icons.profiler.toolbar.clock@2x.png" width="16" alt="artwork studio icons profiler toolbar clock">, sort the tests alphabetically <img class="inline-icon-16" src="/help/img/idea/2019.3/icons.objectBrowser.sorted@2x.png" width="16" alt="icons objectBrowser sorted"> to easily find a particular test, or sort them by duration <img class="inline-icon-16" src="/help/img/idea/2019.3/icons.runConfigurations.sortbyDuration@2x.png" width="16" alt="icons runConfigurations sortbyDuration"> to understand which test ran longer than others.</p></li></ul>    </p>    <p id="9e863084">For example, here is how the test runner window looks like if we intentionally break some of the <a href="#catch-add-tests">Catch2 tests</a> in the sample project:    <figure><img alt="test runner" title="test runner" src="/help/img/idea/2019.3/cl_UTtutorial_testrunner.png" id="6c4f2878" width="850" height="467"></figure>    </p></div><div class="chapter"><h3 id="tests-codegen" data-toc="Unit_Testing_Tutorial#tests-codegen">Code generation for Google tests</h3>    <p>If you are using Google Test framework, CLion's <span class="control">Generate</span> menu can help you save time on writing test code. In a test file where you have <code class="code">gtest</code> included, press <kbd data-primary_default_for_windows="Alt+Insert" data-primary_default_for_macos="+N" data-primary_intellij_idea_classic_macos="Ctrl+N" data-primary_emacs="Alt+Insert" data-primary_visual_studio="Ctrl+N" data-primary_default_for_xwin="Alt+Insert" data-primary_default_for_gnome="Alt+Insert" data-primary_default_for_kde="Alt+Insert" data-primary_eclipse="Alt+Insert" data-primary_eclipse_macos="+N" data-primary_netbeans="Alt+Insert" data-primary_sublime_text="Alt+Insert" data-primary_sublime_text_macos="+N" data-primary_xcode="+N" data-primary_resharper="+Enter" data-primary_resharper_macos="Alt++Enter" data-secondary_default_for_windows="N/A" data-secondary_default_for_macos="N" data-secondary_intellij_idea_classic="N" data-secondary_emacs="N/A" data-secondary_visual_studio="N" data-secondary_default_for_xwin="N/A" data-secondary_default_for_gnome="N/A" data-secondary_default_for_kde="N/A" data-secondary_eclipse="N/A" data-secondary_eclipse_macos="N" data-secondary_netbeans="N/A" data-secondary_sublime_text="N/A" data-secondary_sublime_text_macos="N" data-secondary_xcode="N" data-secondary_resharper="" data-secondary_resharper_macos="">Alt+Insert</kbd> to see the code generation options. </p><p id="233decde">When called from a fixture, the menu additionally includes <span class="control"><i id="45f0f22d">SetUp Method</i></span> and <span class="control"><i id="8523c704">TearDown Method</i></span>:    <figure><img alt="generate menu for tests" title="generate menu for tests" src="/help/img/idea/2019.3/cl_UTtutorial_generatemenu.png" id="e794a147" width="392" height="756"></figure>    </p><p>     For fixture tests, code generation converts <code class="code">TEST()</code> macros into the appropriate <code class="code">TEST_F()</code>,<code class="code">TEST_P()</code>, <code class="code">TYPED_TEST()</code>, or <code class="code">TYPED_TEST_P()</code> (see <a href="https://github.com/google/googletest/blob/master/googletest/docs/advanced.md#typed-tests" data-external="true" target="_blank" rel="noopener noreferrer">Typed Tests</a>).        </p>    </div><div class="chapter"><h3 id="other-features" data-toc="Unit_Testing_Tutorial#other-features">Other features</h3>    <div class="chapter"><h4 id="quick-doc-for-macros">Quick Documentation for test macros</h4>    <p id="be95aef0">To help you explore the macros provided by testing frameworks, <a href="viewing-inline-documentation.html">Quick Documentation pop-up</a> shows the final macro replacement and formats it properly. It also highlights the strings and keywords used in the result substitution: <figure><img alt="Formatted macro expansion in quick documentation popup" title="Formatted macro expansion in quick documentation popup" src="/help/img/idea/2019.3/cl_UTtutorial_quickdoc_catchmacro.png" id="ccfea181" width="750" height="701"></figure>    </p>    </div>          <div class="chapter"><h4 id="show-test-list">Show Test List</h4>    <p id="8f40d188">To reduce the time of initial indexing, CLion uses lazy test detection. It means that tests are excluded from indexing until you open some of the test files or run/debug test configurations. To check which tests are currently detected for your project, call <span class="control"><i id="a24b1b31">Show Test List</i></span> from <span data-skip-index="skip" class="menupath">Help | Find Action</span>. Note that calling this action doesn't trigger indexing.</p>               </div></div>   </div>    <div class="last-modified" data-skip-index="skip">Last modified: 1 December 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__next" href="boost-test-support.html">Boost.Test Support</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>