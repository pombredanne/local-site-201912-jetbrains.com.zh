<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>更改签名-帮助|里昂</title><link rel="stylesheet" href="/resources.jetbrains.com/storage/help-app/v3/app.css"></head><body  data-id="procedures.refactoring.changeMethodSignature" data-breadcrumbs="Working_with_source_code.xml|Work with Source Code/Refactoring_Source_Code.xml|Refactoring/Change_Signature.xml|Change Signature" data-main-title="Change Signature" data-article-props="
                {
                
            " seeals=":[=" titl=":=" external="" link=":=" ur=":" http:="" ="" blog.jetbrains.com="" clion="" 2014="" 12="" refactorings-in-clion-be-safe-and-quick="" ="," tex=":" jetbrains="" blo="}=" web="" resource=",=" https:="" devnet.jetbrains.com="" community="" clio="," developer="" communit="}="><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索CLion帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>CLion 2019.3帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option value="primary_default_for_windows" data-group="primary" selected>Windows的默认设置</option><option value="primary_default_for_macos" data-group="primary">macOS的默认设置</option><option value="primary_intellij_idea_classic_macos" data-group="primary">IntelliJ IDEA经典版（macOS）</option><option value="primary_emacs" data-group="primary">埃马克斯</option><option value="primary_visual_studio" data-group="primary">视觉工作室</option><option value="primary_default_for_xwin" data-group="primary">XWin的默认设置</option><option value="primary_default_for_gnome" data-group="primary">GNOME的默认设置</option><option value="primary_default_for_kde" data-group="primary">KDE的默认值</option><option value="primary_eclipse" data-group="primary">日食</option><option value="primary_eclipse_macos" data-group="primary">Eclipse（macOS）</option><option value="primary_netbeans" data-group="primary">NetBeans</option><option value="primary_sublime_text" data-group="primary">崇高文字</option><option value="primary_sublime_text_macos" data-group="primary">崇高文字（macOS）</option><option value="primary_xcode" data-group="primary">Xcode</option><option value="primary_resharper" data-group="primary">锐化器</option><option value="primary_resharper_macos" data-group="primary">ReSharper（macOS）</option><option value="secondary_default_for_windows" data-group="secondary">Windows的默认设置</option><option value="secondary_default_for_macos" data-group="secondary">macOS的默认设置</option><option value="secondary_intellij_idea_classic" data-group="secondary">IntelliJ IDEA经典版</option><option value="secondary_emacs" data-group="secondary">埃马克斯</option><option value="secondary_visual_studio" data-group="secondary">视觉工作室</option><option value="secondary_default_for_xwin" data-group="secondary">XWin的默认设置</option><option value="secondary_default_for_gnome" data-group="secondary">GNOME的默认设置</option><option value="secondary_default_for_kde" data-group="secondary">KDE的默认值</option><option value="secondary_eclipse" data-group="secondary">日食</option><option value="secondary_eclipse_macos" data-group="secondary">Eclipse（macOS）</option><option value="secondary_netbeans" data-group="secondary">NetBeans</option><option value="secondary_sublime_text" data-group="secondary">崇高文字</option><option value="secondary_sublime_text_macos" data-group="secondary">崇高文字（macOS）</option><option value="secondary_xcode" data-group="secondary">Xcode</option><option value="secondary_resharper" data-group="secondary">锐化器</option><option value="secondary_resharper_macos" data-group="secondary">ReSharper（macOS）</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 id="Change_Signature.xml" data-toc="procedures.refactoring.changeMethodSignature">更改签名</h1>                                                    <a name="change_signature_introduction"></a>            <p id="b6dc216c"><span class="keyword">更改签名</span>重构结合了可以应用于功能签名的几种不同的修改。您可以使用此重构来：</p>        <ul class="list _bullet"><li class="list__item" id="ee4eca13"><p>更改函数名称和返回类型</p></li><li class="list__item" id="575000bf"><p>添加，删除和重新排序参数</p></li></ul>                        <p id="9e8ff903">更改功能签名时，CLion搜索功能的所有用法并更新所有可以安全修改以反映更改的调用，实现和替代功能。</p>                                                <div class="chapter"><h2 id="change-signature-examples">例子</h2>        <p id="a0a7da52">下表显示了对不同语言的代码执行“ <span class="emphasis">更改签名”重构的</span>可能方式。</p>        <div class="tabs" id="f8f6d928"><div class="tabs__content" id="bdcf4f3b" data-title="C/C++">                <div class="table-wrapper"><table class="  _layout-fixed" width="100%" id="067f848e"><thead><tr id="6f077f31" class="ijRowHead"><th id="73d28bbc"><p>之前</p></th><th id="9bdd9395"><p>后</p></th></tr></thead><tbody><tr id="b713bb29" class="ijRowOdd"><td id="8805b272">                            <div class="code-block" data-lang="cpp">//初始函数签名int exFunction2（int a，int b）{int x = a + b;返回x; }; int main（）{int a = 0，b = 1; int x = exFunction2（a，b）;返回0; }</div>                        </td><td id="c522083f">                            <div class="code-block" data-lang="cpp">//名称更改，第三个参数引入int exFunction3（int a，int b，int c）{int x = a + b;返回x; }; int main（）{int a = 0，b = 1; int x = exFunction3（a，b，0）; //添加默认值'0'返回0; }</div>                        </td></tr></tbody></table></div>            </div><div class="tabs__content" id="8c8baf1a" data-title="Objective-C/C++">                <div class="table-wrapper"><table class="  _layout-fixed" width="100%" id="424e178b"><thead><tr id="edacaeb5" class="ijRowHead"><th id="678aed40"><p>之前</p></th><th id="d2470582"><p>后</p></th></tr></thead><tbody><tr id="7a563350" class="ijRowOdd"><td id="10202681">                            <div class="code-block" data-lang="cpp">//此函数将变成一个块浮点乘法（int x，int y）{return x * y; } int main（int argc，const char * argv []）{@autoreleasepool {float result;结果=乘法（10，20）; }返回0; }</div>                        </td><td id="1b5e6e36">                            <div class="code-block" data-lang="cpp">int main（int argc，const char * argv []）{@autoreleasepool {浮点结果；结果= //生成一个块^ float（int x，int y）{return x * y; }（10，20）; }返回0; }</div>                        </td></tr></tbody></table></div>            </div><div class="tabs__content" id="5235e533" data-title="Python">                <div class="table-wrapper"><table class="  _layout-fixed" width="100%" id="0daa67a0"><thead><tr id="cf439ab5" class="ijRowHead"><th id="0d0db386"><p>之前</p></th><th id="f5afa83e"><p>后</p></th></tr></thead><tbody><tr id="7b6a2915" class="ijRowOdd"><td id="1d95bd73">                            <div class="code-block" data-lang="python">＃此函数将重命名为def fibonacci（n）：a，b = 0，1，而b <n：print（b）a，b = b，a + bn = int（input（“ n =”））fibonacci（ n）</div>                        </td><td id="49724762">                            <div class="code-block" data-lang="python">＃使用新名称def fibonacci_numbers（n）的函数：a，b = 0，1，而b <n：print（b）a，b = b，a + bn = int（input（“ n =”））fibonacci_numbers（ n）</div>                        </td></tr></tbody></table></div>            </div><div class="tabs__content" id="e708f108" data-title="JavaScript">                <div class="table-wrapper"><table class="  _layout-fixed" width="100%" id="22b85662"><thead><tr id="4704e652" class="ijRowHead"><th id="6f8ec823"><p>之前</p></th><th id="47dbce9f"><p>后</p></th></tr></thead><tbody><tr id="b17faced" class="ijRowOdd"><td id="37f731de">                            <div class="code-block" data-lang="javascript">//此函数将被重命名//并且将添加一个默认参数function result（）{} function show_result（）{alert（'Result：'+ result（））; }</div>                        </td><td id="f36d7587">                            <div class="code-block" data-lang="javascript">//具有新名称和默认参数的函数function generate_result（input = 100）{} function show_result（）{alert（'Result：'+ generate_result（））; }</div>                        </td></tr></tbody></table></div>            </div></div>    </div>            <div class="chapter"><h2 id="changing-function-signature">更改功能签名</h2>                            <section class="procedure-steps"><ol class="list _decimal"><li class="list__item" id="a7e48cb9"><p>将插入号放置在要重构的函数的名称上。</p></li><li class="list__item" id="94d37548">            <p id="d3384b1f">按<kbd data-primary_default_for_windows="Ctrl+F6" data-primary_default_for_macos="⌘+F6" data-primary_intellij_idea_classic_macos="⌘+F6" data-primary_emacs="Ctrl+F6" data-primary_visual_studio="Ctrl+F6" data-primary_default_for_xwin="Ctrl+F6" data-primary_default_for_gnome="Ctrl+F6" data-primary_default_for_kde="Ctrl+6" data-primary_eclipse="Shift+Alt+C" data-primary_eclipse_macos="Alt+⌘+C" data-primary_netbeans="Ctrl+F6" data-primary_sublime_text="N/A" data-primary_sublime_text_macos="N/A" data-primary_xcode="⌘+F6" data-primary_resharper="Ctrl+R, S" data-primary_resharper_macos="Ctrl+F6" data-secondary_default_for_windows="⌃F6" data-secondary_default_for_macos="⌘F6" data-secondary_intellij_idea_classic="⌘F6" data-secondary_emacs="⌃F6" data-secondary_visual_studio="⌃F6" data-secondary_default_for_xwin="⌃F6" data-secondary_default_for_gnome="⌃F6" data-secondary_default_for_kde="⌃6" data-secondary_eclipse="⌥⇧C" data-secondary_eclipse_macos="⌥⌘C" data-secondary_netbeans="⌃F6" data-secondary_sublime_text="N/A" data-secondary_sublime_text_macos="N/A" data-secondary_xcode="⌘F6" data-secondary_resharper="⌃R, S" data-secondary_resharper_macos="⌃F6">Ctrl+F6</kbd> 。或者，选择<span class="menupath" data-skip-index="skip">Refactor |</span>从主菜单或上下文菜单中<span class="menupath" data-skip-index="skip">更改签名</span> 。</p>                            </li><li class="list__item" id="cc831fe4">                <p id="6249f9d0">在“ <span class="control">更改签名”</span>对话框中，根据需要对功能签名进行必要的更改：</p>                <ul class="list _ul"><li class="list__item" id="fd242ea7"><p>更改功能名称。要更改名称，请在“ <span class="control">名称”</span>字段中编辑文本。</p></li><li class="list__item" id="manage_params">                        <p id="638351ab">管理功能参数。要配置参数，请使用表格和“ <span class="control">参数”</span>区域中的按钮：</p>                        <ul class="list _ul"><li class="list__item" id="c2d266da">                                <p id="b09c82e9">要添加新参数，请单击<img class="inline-icon-16" src="/help/img/idea/2019.3/icons.general.add@2x.png" width="16" alt="添加按钮">并在相应的表格行中指定新参数的属性。</p>                                                                                                                            </li><li class="list__item" id="2dd0020f"><p>要删除参数，请选择任意行，然后单击<img class="inline-icon-16" src="/help/img/idea/2019.3/icons.general.remove@2x.png" width="16" alt="删除按钮"> 。</p></li><li class="list__item" id="e8e25e12"><p>要重新排列参数，请单击<img class="inline-icon-16" src="/help/img/idea/2019.3/icons.actions.previousOccurence@2x.png" width="16" alt="向上图标">和<img class="inline-icon-16" src="/help/img/idea/2019.3/icons.actions.nextOccurence@2x.png" width="16" alt="向下图标"> 。例如，如果要在列表中首先放置某个参数，请单击该参数对应的行中的任何单元格，然后单击<img class="inline-icon-16" src="/help/img/idea/2019.3/icons.actions.previousOccurence@2x.png" width="16" alt="向上图标">所需的次数。</p></li></ul>                    </li></ul>                <p id="31bef025">要<a href="find-tool-window.html">查看预期的更改</a>并在重构之前进行调整，请单击<span class="control">预览</span> 。</p>            </li><li class="list__item" id="preview_expected_changes_in_change_signature"><p id="c18a50f1">单击<span class="control">重构</span> 。</p>                                <figure><img alt="更改签名重构" title="更改签名重构" src="/help/img/idea/2019.3/cl_refactoring_dialog.png" id="8b849f2c" width="470" height="843"></figure>            </li><li class="list__item" id="d31092dd"><p>要<a href="find-tool-window.html">查看预期的更改</a>并在重构之前进行调整，请单击<span class="control">预览</span> 。</p></li></ol></section>                    </div>                <div class="last-modified" data-skip-index="skip">上次修改时间：2019年12月1日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="rename-refactorings.html">改名</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>