<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>完全远程模式-帮助|里昂</title><link rel="stylesheet" href="/resources.jetbrains.com/storage/help-app/v3/app.css"></head><body  data-id="Remote_Projects_Support" data-breadcrumbs="Build, Run, Debug/Remote_Development.xml|Remote Development/Remote_Projects_Support.xml|Full Remote Mode" data-main-title="Full Remote Mode"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索CLion帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>CLion 2019.3帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option value="primary_default_for_windows" data-group="primary" selected>Windows的默认设置</option><option value="primary_default_for_macos" data-group="primary">macOS的默认设置</option><option value="primary_intellij_idea_classic_macos" data-group="primary">IntelliJ IDEA经典版（macOS）</option><option value="primary_emacs" data-group="primary">埃马克斯</option><option value="primary_visual_studio" data-group="primary">视觉工作室</option><option value="primary_default_for_xwin" data-group="primary">XWin的默认设置</option><option value="primary_default_for_gnome" data-group="primary">GNOME的默认设置</option><option value="primary_default_for_kde" data-group="primary">KDE的默认值</option><option value="primary_eclipse" data-group="primary">日食</option><option value="primary_eclipse_macos" data-group="primary">Eclipse（macOS）</option><option value="primary_netbeans" data-group="primary">NetBeans</option><option value="primary_sublime_text" data-group="primary">崇高文字</option><option value="primary_sublime_text_macos" data-group="primary">崇高文字（macOS）</option><option value="primary_xcode" data-group="primary">Xcode</option><option value="primary_resharper" data-group="primary">锐化器</option><option value="primary_resharper_macos" data-group="primary">ReSharper（macOS）</option><option value="secondary_default_for_windows" data-group="secondary">Windows的默认设置</option><option value="secondary_default_for_macos" data-group="secondary">macOS的默认设置</option><option value="secondary_intellij_idea_classic" data-group="secondary">IntelliJ IDEA经典版</option><option value="secondary_emacs" data-group="secondary">埃马克斯</option><option value="secondary_visual_studio" data-group="secondary">视觉工作室</option><option value="secondary_default_for_xwin" data-group="secondary">XWin的默认设置</option><option value="secondary_default_for_gnome" data-group="secondary">GNOME的默认设置</option><option value="secondary_default_for_kde" data-group="secondary">KDE的默认值</option><option value="secondary_eclipse" data-group="secondary">日食</option><option value="secondary_eclipse_macos" data-group="secondary">Eclipse（macOS）</option><option value="secondary_netbeans" data-group="secondary">NetBeans</option><option value="secondary_sublime_text" data-group="secondary">崇高文字</option><option value="secondary_sublime_text_macos" data-group="secondary">崇高文字（macOS）</option><option value="secondary_xcode" data-group="secondary">Xcode</option><option value="secondary_resharper" data-group="secondary">锐化器</option><option value="secondary_resharper_macos" data-group="secondary">ReSharper（macOS）</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 id="Remote_Projects_Support.xml" data-toc="Remote_Projects_Support">完全远程模式</h1>    <aside class="prompt" rel="Remote_Projects_Support.xml" id="067fbdcf" data-type="note" data-title="">        <p id="67102ad3"><span class="control">本地客户端操作系统</span> ：macOS / Linux / Windows</p>        <p id="68a81b38"><span class="control">远程主机操作系统</span> ：Linux</p>        <p id="882c2102"><span class="control">来源位置</span> ：本地计算机，具有与远程主机的自动同步</p>        <p id="ed01aa13"><span class="control">远程主机上所需的工具</span> ：</p><ul class="list _ul"><li class="list__item" id="48ae73b1"><p>适用于macOS / Linux客户端的<a href="https://rsync.samba.org/" rel="noopener noreferrer" data-external="true" target="_blank">rsync</a></p></li><li class="list__item" id="067f6be1"><p>Windows客户端的<a href="https://www.gnu.org/software/tar/" rel="noopener noreferrer" data-external="true" target="_blank">tar</a></p></li></ul>        <p></p>        <p id="e13bcc6a"><span class="control">项目模型</span> ：CMake</p>    </aside>    <p id="Intro">使用完全远程模式时，您可以在macOS，Linux或Windows桌面上工作，该桌面针对通过<a href="https://en.wikipedia.org/wiki/Secure_Shell" rel="noopener noreferrer" data-external="true" target="_blank">SSH</a>连接的远程Linux计算机。您可以选择<span class="control">任何基于Linux的目标</span> ，包括<a href="https://www.raspberrypi.org/" rel="noopener noreferrer" data-external="true" target="_blank">Raspberry Pi</a>等单板计算机上的嵌入式系统。此外，您的程序可以在云平台上启动，例如在<a href="docker.html">Docker</a>容器内启动。</p>    <p id="4bd95959">对于远程开发，CLion实例在本地运行，并且您的源文件也放置在本地客户端上，并自动同步到远程主机。在远程主机端，CLion使用主机编译器和CMake执行编译和构建，使用主机GDB进行调试，然后在远程目标上运行该应用程序。</p>      <section class="procedure-steps"><p id="01845a0e">在<span class="control">Windows客户端</span>上工作时，请记住以下几点：</p><ul class="list _ul"><li class="list__item" id="4e39ab24"><p>由于IntelliJ平台<a href="https://youtrack.jetbrains.com/issue/IDEA-135546" rel="noopener noreferrer" data-external="true" target="_blank">问题</a> ，您需要设置<a href="tuning-the-ide.html#configure-platform-properties">属性</a>值<code class="code">idea.case.sensitive.fs=true</code>在<span class="filepath">idea.properties</span>文件中（要访问属性文件，请在主菜单上选择“ <span class="menupath" data-skip-index="skip">帮助” |“编辑自定义属性...</span> ”），然后通过重置缓存重新启动CLion（“ <span class="menupath" data-skip-index="skip">文件” |“使缓存无效/重新启动...”</span> ）。</p></li><li class="list__item" id="97c6b693"><p>对于Windows上的文件同步，CLion依靠自己的<span class="control">远程主机访问</span>和使用<span class="control">tar</span>实用程序在主机上进行压缩。在macOS和Linux上，此机制导致同步执行的速度比<span class="control">rsync</span>慢。</p></li></ul></section>        <section class="procedure-steps"><h3 id="remote-toolchain" data-toc="Remote_Projects_Support#remote-toolchain">使用远程凭证创建工具链</h3><ol class="list _decimal"><li class="list__item" id="38383b80"><p>转到<span class="menupath" data-skip-index="skip">设置/首选项|构建，执行，部署|工具链</span>并单击<img class="inline-icon-14" src="/help/img/idea/2019.3/icons.toolbarDecorator.mac.add@2x.png" width="14" alt="加号图标">创建一个新的工具链。</p></li><li class="list__item" id="66e242f8"><p>从下拉菜单中选择<span class="control">远程主机</span> ，然后单击<img class="inline-icon-16" src="/help/img/idea/2019.3/icons.actions.menu-open@2x.png" width="16" alt="图标操作菜单打开">在“ <span class="control">凭据”</span>字段中。在打开的对话框中，提供用于访问远程计算机的凭据：</p><figure><img alt="访问远程主机的凭据" title="访问远程主机的凭据" src="/help/img/idea/2019.3/cl_remote_toolchaincredentials.png" id="e0dee704" width="590" height="588"></figure>                <p></p></li><li class="list__item" id="612b18d5"><p>建立连接后，CLion会尝试检测默认远程位置<span class="filepath">/ usr / bin / cmake</span>和<span class="filepath">/ usr / bin / gdb中的工具</span> （或使用完整路径，如果您已手动提供的话）。检查成功完成后，即可使用工具链：</p><figure><img alt="远程工具链配置成功" title="远程工具链配置成功" src="/help/img/idea/2019.3/cl_remote_toolchainsuccess.png" id="bcf687bf" width="490" height="636"></figure>                <p></p></li><li class="list__item" id="RemoteAsDefault">                <p id="baa651e0">您可以将新创建的工具链设置为<span class="control">默认</span>工具链（为此，通过单击将其移动到工具链列表的顶部。 <img class="inline-icon-16" src="/help/img/idea/2019.3/icons.actions.moveUp@2x.png" width="16" alt="提升"><img class="inline-icon-16" src="/help/img/idea/2019.3/icons.actions.moveDown@2x.png" width="16" alt="下移"> ）。设置为默认值时，远程工具链将用于您在CLion中创建并打开的所有项目。</p>              <p id="9f7188de">请注意，如果将远程工具链设置为默认， <span class="control">默认的CMake配置文件</span>将自动连接到它，因此您无需为其配置单独的CMake配置文件。</p>            </li></ol></section>    <section class="procedure-steps"><h3 id="CMakeProfile" data-toc="Remote_Projects_Support#CMakeProfile">创建相应的CMake配置文件</h3><aside class="prompt" rel="CMakeProfile" id="d0c61de7" data-type="note" data-title=""><p>如果将远程工具链<a href="#RemoteAsDefault">设置为默认，</a>则跳过此过程。</p></aside><ul class="list "><li class="list__item" id="4f23b12b">            <p id="ad22b7db">转到<span class="menupath" data-skip-index="skip">设置/首选项|构建，执行，部署| CMake</span> ，点击<img class="inline-icon-14" src="/help/img/idea/2019.3/icons.toolbarDecorator.mac.add@2x.png" width="14" alt="加号图标">创建一个新的<a href="cmake-profile.html">CMake配置文件</a> ，并使用“ <span class="control">工具链”</span>字段将其连接到您的远程工具<span class="control">链</span> ：</p><figure><img alt="远程工具链的cmake配置文件" title="远程工具链的cmake配置文件" src="/help/img/idea/2019.3/cl_remote_cmakeprofile.png" id="ef47bbe7" width="738" height="454"></figure>            <p></p>        </li></ul></section>    <section class="procedure-steps"><h3 id="deployment-entry" data-toc="Remote_Projects_Support#deployment-entry">检查并调整部署配置</h3><ul class="list "><li class="list__item" id="6c240035"><p id="129bc339">当您为远程工具链创建连接实体时，CLion会将其放置在<span class="menupath" data-skip-index="skip">“设置” /“首选项” |“</span> <a href="settings-deployment.html">服务器</a> ”中的<a href="settings-deployment.html">服务器访问配置</a>列表中<span class="menupath" data-skip-index="skip">。构建，执行，部署|部署</span> ：</p><figure><img alt="远程主机访问的部署配置" title="远程主机访问的部署配置" src="/help/img/idea/2019.3/cl_remote_webdeployment.png" id="f25fcfce" width="580" height="602"></figure>        <p></p>        <p id="f1cf09b9">CLion自动配置项目代码同步的路径。使用“ <span class="control">映射”</span>选项卡可以更改默认映射（例如，为复制的源设置特定的远程目录，而不是默认的<span class="filepath">tmp</span>文件夹：</p><figure><img alt="文件同步的路径映射" title="文件同步的路径映射" src="/help/img/idea/2019.3/cl_remote_pathmappings.png" id="13854a21" width="498" height="201"></figure>        <p></p>        </li><li class="list__item" id="filesync"><p>您可以在“ <span class="control">文件传输”</span>工具窗口（“ <span class="menupath" data-skip-index="skip">视图” |“工具窗口” |“文件传输”</span> ）中监视同步过程：</p><figure><img alt="文件传输工具窗口" title="文件传输工具窗口" src="/help/img/idea/2019.3/cl_remote_filetransfer.png" id="1ed96e52" width="763" height="400"></figure>        <p></p></li></ul></section>            <section class="procedure-steps"><h3 id="WorkWithRemote" data-toc="Remote_Projects_Support#WorkWithRemote">构建，运行，调试</h3><p id="cf3de283">现在您已经配置了远程工具链并配置了相应的CMake配置文件，您可以通过在“运行/调试”配置切换器中<span class="control">选择适当的CMake配置文件</span> ，以完全远程的方式构建，运行和调试应用程序并进行测试：</p><figure><img alt="cmake远程配置文件" title="cmake远程配置文件" src="/help/img/idea/2019.3/cl_remote_profile.png" id="34e01bdb" width="278" height="256"></figure>        <p></p><p id="3176b052">另外，您可以使用<a href="running-ssh-terminal.html">远程SSH终端</a>并运行<a href="settings-tools-remote-ssh-external-tools.html">远程外部工具，</a>作为运行/调试配置的<span class="control">启动前</span>步骤。</p><p id="e620ce08">在下面可以找到一个演示，该演示显示了应用程序输出如何根据运行的操作系统而变化。将macOS作为本地系统，我们远程连接到Ubuntu目标并检查OS名称。在此示例中，代码突出显示取决于操作系统标识符，因此，当我们切换CMake配置文件或<a href="switching-resolve-context.html">解析上下文时</a> ，CLion突出显示相应的代码分支：</p><figure id="83d373c0" width="600" data-theme="light"><img class="js-gif" src="/help/img/idea/2019.3/cl_remote_runapp.png" width="600" data-gif-src="/help/img/idea/2019.3/cl_remote_runapp.animated.gif" style="width:600px"></figure>        <p></p></section>    <section class="procedure-steps"><h3 id="ipv6" data-toc="Remote_Projects_Support#ipv6">启用IPv6支持</h3><ul class="list "><li class="list__item" id="e3ad49ca"><p id="b20f89d8">要连接到<a href="https://en.wikipedia.org/wiki/IPv6" rel="noopener noreferrer" data-external="true" target="_blank">IPv6</a>网络，您需要在CLion <a href="tuning-the-ide.html#configure-jvm-options">JVM选项中</a>进行调整：</p>        <ol class="list _decimal"><li class="list__item" id="cd2d6fc8">                <p id="7cd20a67">运行<span class="menupath" data-skip-index="skip">帮助|</span>在主菜单中<span class="menupath" data-skip-index="skip">编辑“自定义VM选项</span> ”。在打开的<span class="filepath">* .vmoptions</span>文件中，删除<code class="code">-Djava.net.preferIPv4Stack=true</code>行并添加以下行：</p><div class="code-block" data-lang="bash">-Djava.net.preferIPv4Stack = false -Djava.net.preferIPv6Stack = true -Djava.net.preferIPv6Addresses = true</div><p></p>            </li><li class="list__item" id="dcc043da"><p>重新启动CLion。</p></li></ol>    </li><li class="list__item" id="60335bf8">        <p id="ee6eb9b8">为了使用<span class="control">主机名</span>代替原始地址，请在Windows <span class="filepath">上</span>以管理员身份打开<span class="filepath">C：\ Windows \ System32 \ Drivers \ etc \ hosts</span> ，在macOS / Linux上以超级用户身份打开<span class="filepath">/ etc / hosts</span>并将所需地址映射到相应的主机名。</p>        <p id="f2ef6951">每个地址应放在单独的行上，后面至少要有一个空格和一列用空格分隔的主机名，例如：</p><div class="code-block" data-lang="bash">f381 :: 171d：c61c：c7f3：3a56 my.dev.host1 my.dev.host2 f381 :: 171d：c61c：c7f3：3a26％en0 my.dev.host3</div>        <p></p>    </li><li class="list__item" id="82de211b">        <p id="05f9eb22">在<span class="control">macOS上</span> ，您还需要指定禁止的网络接口的列表：</p>        <ol class="list _decimal"><li class="list__item" id="6c9a07da"><p>转到<span class="menupath" data-skip-index="skip">帮助|查找“动作”，</span>然后键入<i id="0483e009">Registry</i> 。</p></li><li class="list__item" id="5c4615c4"><p>找到<span class="control">deployment.macOs.bannedInterfaces</span>项，并设置要禁止的接口的逗号分隔列表，例如<code class="code">awdl0,bridge0,en1,en2,lo0,p2p0,utun0,utun1</code> 。</p></li></ol>    </li></ul></section>        <div class="last-modified" data-skip-index="skip">上次修改时间：2019年12月1日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__next" href="remote-debug-via-gdb-gdbserver.html">通过GDB / gdbserver进行</a> <a class="navigation-links__prev" href="remote-development.html">远程开发</a> <a class="navigation-links__next" href="remote-debug-via-gdb-gdbserver.html">远程调试</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>