<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>CMake Profile - Help | CLion</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body data-id="CMake_Profile" data-breadcrumbs="Configure Projects/Project_Models.xml|Project Formats/CMake/CMake Build System/CMake_Profile.xml|CMake Profile" data-main-title="CMake Profile"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search CLion Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>CLion 2019.3 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="primary" value="primary_default_for_windows" selected>Default for Windows</option><option data-group="primary" value="primary_default_for_macos">Default for macOS</option><option data-group="primary" value="primary_intellij_idea_classic_macos">IntelliJ IDEA Classic (macOS)</option><option data-group="primary" value="primary_emacs">Emacs</option><option data-group="primary" value="primary_visual_studio">Visual Studio</option><option data-group="primary" value="primary_default_for_xwin">Default for XWin</option><option data-group="primary" value="primary_default_for_gnome">Default for GNOME</option><option data-group="primary" value="primary_default_for_kde">Default for KDE</option><option data-group="primary" value="primary_eclipse">Eclipse</option><option data-group="primary" value="primary_eclipse_macos">Eclipse (macOS)</option><option data-group="primary" value="primary_netbeans">NetBeans</option><option data-group="primary" value="primary_sublime_text">Sublime Text</option><option data-group="primary" value="primary_sublime_text_macos">Sublime Text (macOS)</option><option data-group="primary" value="primary_xcode">Xcode</option><option data-group="primary" value="primary_resharper">ReSharper</option><option data-group="primary" value="primary_resharper_macos">ReSharper (macOS)</option><option data-group="secondary" value="secondary_default_for_windows">Default for Windows</option><option data-group="secondary" value="secondary_default_for_macos">Default for macOS</option><option data-group="secondary" value="secondary_intellij_idea_classic">IntelliJ IDEA Classic</option><option data-group="secondary" value="secondary_emacs">Emacs</option><option data-group="secondary" value="secondary_visual_studio">Visual Studio</option><option data-group="secondary" value="secondary_default_for_xwin">Default for XWin</option><option data-group="secondary" value="secondary_default_for_gnome">Default for GNOME</option><option data-group="secondary" value="secondary_default_for_kde">Default for KDE</option><option data-group="secondary" value="secondary_eclipse">Eclipse</option><option data-group="secondary" value="secondary_eclipse_macos">Eclipse (macOS)</option><option data-group="secondary" value="secondary_netbeans">NetBeans</option><option data-group="secondary" value="secondary_sublime_text">Sublime Text</option><option data-group="secondary" value="secondary_sublime_text_macos">Sublime Text (macOS)</option><option data-group="secondary" value="secondary_xcode">Xcode</option><option data-group="secondary" value="secondary_resharper">ReSharper</option><option data-group="secondary" value="secondary_resharper_macos">ReSharper (macOS)</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 data-toc="CMake_Profile" id="CMake_Profile.xml">CMake Profile</h1>                <p id="eaedb027">                        In CLion, settings required for building a CMake project are incorporated in a <span class="control">CMake profile</span>, which includes <a href="how-to-create-toolchain-in-clion.html">toolchain</a>, <a href="#buildtypes">build type</a>, CMake options such as <a href="#cmake-generators">CMake generators</a>, and <a href="">environment variables</a>. Having multiple profiles enables you, for example, to use different compilers for one project, or to build CMake targets with differing settings.</p>    <p id="e55fc829">To configure CMake profiles for your projects, go to <span data-skip-index="skip" class="menupath">Settings / Preferences | Build, Execution, Deployment | CMake</span>.</p>    <aside data-type="note" class="prompt" data-title="" rel="e55fc829" id="004b82d7"><p id="dd1980d0">To set a particular profile as default for all <a href="creating-new-project-from-scratch.html#create-prj">new projects</a>, configure it in <span data-skip-index="skip" class="menupath">File | Other Settings | Settings for New Projects | Build, Execution, Deployment | CMake</span>.</p>        <p id="787a8a3a">Currently, this setting does not apply to the case of creating a <a href="creating-new-project-from-scratch.html#import-prj">CMake project from sources</a> (<a href="https://youtrack.jetbrains.com/issue/CPP-17686" data-external="true" target="_blank" rel="noopener noreferrer">CPP-17686</a>).</p></aside>    <p id="CMakeProfileSwitcher">                        To build a target using a specific profile, select it in the Run/Debug configuration                        switcher on the toolbar (or press <kbd data-primary_default_for_windows="Shift+Alt+F10" data-primary_default_for_macos="Ctrl+Alt+R" data-primary_intellij_idea_classic_macos="Shift+Alt+F10" data-primary_emacs="Shift+Alt+F10" data-primary_visual_studio="Shift+Alt+F10" data-primary_default_for_xwin="Shift+Alt+F10" data-primary_default_for_gnome="Shift+Alt+F10" data-primary_default_for_kde="Shift+Alt+F10" data-primary_eclipse="Shift+Alt+F10" data-primary_eclipse_macos="Ctrl+Alt+R" data-primary_netbeans="Shift+Alt+F10" data-primary_sublime_text="Shift+Alt+F10" data-primary_sublime_text_macos="Ctrl+Alt+R" data-primary_xcode="Ctrl+Shift+Alt+⌘+R" data-primary_resharper="Shift+Alt+F10" data-primary_resharper_macos="Shift+Alt+F10" data-secondary_default_for_windows="⌥⇧F10" data-secondary_default_for_macos="⌃⌥R" data-secondary_intellij_idea_classic="⌥⇧F10" data-secondary_emacs="⌥⇧F10" data-secondary_visual_studio="⌥⇧F10" data-secondary_default_for_xwin="⌥⇧F10" data-secondary_default_for_gnome="⌥⇧F10" data-secondary_default_for_kde="⌥⇧F10" data-secondary_eclipse="⌥⇧F10" data-secondary_eclipse_macos="⌃⌥R" data-secondary_netbeans="⌥⇧F10" data-secondary_sublime_text="⌥⇧F10" data-secondary_sublime_text_macos="⌃⌥R" data-secondary_xcode="⌃⌥⇧⌘R" data-secondary_resharper="⌥⇧F10" data-secondary_resharper_macos="⌥⇧F10">Shift+Alt+F10</kbd> for <span class="control">Run</span> and                        <kbd data-primary_default_for_windows="Shift+Alt+F9" data-primary_default_for_macos="Ctrl+Alt+D" data-primary_intellij_idea_classic_macos="Shift+Alt+F9" data-primary_emacs="Shift+Alt+F9" data-primary_visual_studio="Shift+Alt+F9" data-primary_default_for_xwin="Shift+Alt+F9" data-primary_default_for_gnome="Shift+Alt+F9" data-primary_default_for_kde="Shift+Alt+F9" data-primary_eclipse="Shift+Alt+F9" data-primary_eclipse_macos="Ctrl+Alt+D" data-primary_netbeans="Shift+Alt+F9" data-primary_sublime_text="Shift+Alt+F9" data-primary_sublime_text_macos="Ctrl+Alt+D" data-primary_xcode="Alt+⌘+R" data-primary_resharper="Shift+Alt+F9" data-primary_resharper_macos="Shift+Alt+F9" data-secondary_default_for_windows="⌥⇧F9" data-secondary_default_for_macos="⌃⌥D" data-secondary_intellij_idea_classic="⌥⇧F9" data-secondary_emacs="⌥⇧F9" data-secondary_visual_studio="⌥⇧F9" data-secondary_default_for_xwin="⌥⇧F9" data-secondary_default_for_gnome="⌥⇧F9" data-secondary_default_for_kde="⌥⇧F9" data-secondary_eclipse="⌥⇧F9" data-secondary_eclipse_macos="⌃⌥D" data-secondary_netbeans="⌥⇧F9" data-secondary_sublime_text="⌥⇧F9" data-secondary_sublime_text_macos="⌃⌥D" data-secondary_xcode="⌥⌘R" data-secondary_resharper="⌥⇧F9" data-secondary_resharper_macos="⌥⇧F9">Shift+Alt+F9</kbd> for <span class="control">Debug</span>):                        <figure><img alt="cmake profiles in the configuration switcher" title="cmake profiles in the configuration switcher" src="/help/img/idea/2019.3/cl_profileSwitcher.png" id="63bb2c86" width="418" height="370"></figure>                </p>    <div class="chapter"><h2 id="cmake-generators" data-toc="CMake_Profile#cmake-generators">Generators</h2>        <p id="81c583f3">In the <span class="control">CMake options</span> field, you can specify the <a href="https://cmake.org/cmake/help/latest/manual/cmake-generators.7.html" data-external="true" target="_blank" rel="noopener noreferrer">CMake generator</a> via <code class="code">-G</code>. For example, in the case of <a href="https://ninja-build.org/" data-external="true" target="_blank" rel="noopener noreferrer">Ninja</a>:        <figure><img alt="specifying CMake generator" title="specifying CMake generator" src="/help/img/idea/2019.3/cl_cmakeprofile_generators.png" id="f4ac5ae4" width="648" height="480"></figure>        </p>        <p id="82b0322e">You can set up any CMake generator available for your platform and use different generators in different CMake profiles if necessary.            </p>                <p id="7383d8e5">When building your project, make sure to select the desired profile in the configuration switcher:        <figure><img alt="switch CMake profile" title="switch CMake profile" src="/help/img/idea/2019.3/cl_cmakeprofile_switcherninja.png" id="5f032491" width="235" height="286"></figure>        </p>        <p id="a7b15115">Note that for a CMake profile, the actual built tools are taken from the selected <a href="how-to-create-toolchain-in-clion.html">toolchain</a>. If you specify the generator other than Makefiles, the <span class="control">Make</span> path in the toolchain settings will be ignored.</p>        <p id="f4b90a77"><span class="control">Current issues and limitations</span></p>        <ul class="list _ul"><li class="list__item" id="00e32d36"><p> CLion uses <a href="https://cmake.org/cmake/help/v3.15/manual/cmake-file-api.7.html" data-external="true" target="_blank" rel="noopener noreferrer">CMake File API</a>, which first appeared in CMake v3.14. However, CLion supports it starting from the update introduced in CMake v3.15, so if you decide to switch from the bundled CMake, make sure to use <span class="emphasis">version 3.15.x or later</span>.            </p></li><li class="list__item" id="2d094d35"><p>                Currently, <a href="compiling-single-file.html">recompiling</a> individual files is not supported for non-default generators (<a href="https://youtrack.jetbrains.com/issue/CPP-17622" data-external="true" target="_blank" rel="noopener noreferrer">CPP-17622</a>).            </p></li><li class="list__item" id="9fdb25a9"><p>                For multi-configuration generators like Xcode and Visual Studio, CLion will use only the configuration that corresponds to the <a href="#buildtypes">build type</a> specified in the CMake profile.            </p></li></ul>    </div>    <div class="chapter"><h2 id="buildtypes" data-toc="CMake_Profile#buildtypes">Build types</h2>        <p id="016eb5dd">            By default, CMake supports the following <a href="https://cmake.org/cmake/help/latest/variable/CMAKE_BUILD_TYPE.html" data-external="true" target="_blank" rel="noopener noreferrer">build types</a>:            <ul class="list _ul"><li class="list__item" id="191d23a0"><p>                    Debug                </p></li><li class="list__item" id="061fccd6"><p>                    Release                </p></li><li class="list__item" id="62ebab12"><p>                    RelWithDebInfo (Release with debugging information)                </p></li><li class="list__item" id="6878049e"><p>                    MinSizeRel (Release optimized for size)                </p></li></ul>        </p>        <p id="c8f61bfc">            You can select the required build type in <span data-skip-index="skip" class="menupath">Settings / Preferences | Build, Execution, Deployment | CMake</span>. To refer to the build type, use <code class="code">CMAKE_BUILD_TYPE</code>. For example, add the following code into the CMakeLists.txt script:            <div class="code-block" data-lang="makefile">
                if (CMAKE_BUILD_TYPE MATCHES Debug)
                add_definitions(-DDEBUG=1)
                endif()
            </div>            And you will be able to create conditional statements in your code based on the current build type:            <div class="code-block" data-lang="cpp">
                int main(int argc, const char* argv[]) {       //TODO: add some code
                #if DEBUG
                ...
                #else
                ...
                #endif
            </div>        </p>        <div class="chapter"><h3 id="CustomBuildType">Сustom build types</h3>            <p id="2a6e6f84">                The list of the available build types is defined in the <code class="code">CMAKE_CONFIGURATION_TYPES</code> command. The default value of this command is the four build types given above, but you can extend it to have other build types. For example:                <div class="code-block" data-lang="makefile">
                    # adding two custom build types to the cached value
                    # variable CMAKE_CONFIGURATION_TYPES should be defined before other definitions:
                    set(CMAKE_CONFIGURATION_TYPES "MyDebug;MyRelease" CACHE STRING "" FORCE)
                </div>            </p>            <p id="f2823d46">After reloading the project, custom types will be available from the CMake settings:                <figure><img alt="custom build types" title="custom build types" src="/help/img/idea/2019.3/cl_cmake_custom_buildtypes.png" id="9912e312" width="600" height="537"></figure>            </p>            <p id="2e2344dc">Note that the custom types were added to the value <i id="78524a1c">Debug</i> which was cached in <span class="filepath">CMakeCache.txt</span>. So for example, if you add a new CMake profile, it will have its own <span class="filepath">CMakeCache.txt</span>, and for this profile, the list of the available build types will contain your custom types only:            <figure><img alt="custom build types for new cmake profile" title="custom build types for new cmake profile" src="/help/img/idea/2019.3/cl_cmake_custom_buildtypes_profiles.png" id="33380d02" width="600" height="466"></figure>            </p>        </div>   </div>        <div class="chapter"><h2 id="EnvVariables" data-toc="CMake_Profile#EnvVariables">Environment variables</h2>            <p id="b5b0f63c">                You can pass additional environment variables to CMake generation and build via the                <span class="control">Environment</span> field of the <span data-skip-index="skip" class="menupath">CMake Settings</span> dialog                (navigate to <span data-skip-index="skip" class="menupath">Settings / Preferences | Build, Execution, Deployment | CMake</span>).            </p>            <section class="procedure-steps"><h3 id="cmake-environment">The overall effective environment for CMake generation and build consists of:</h3><ol class="list _decimal"><li class="list__item" id="eba2ae6f">                    <p id="25e129b1">                        <i id="d0b31ae6">Parent environment</i>                    </p>                    <p id="f14496b4">                        To include parent environment, open the <span class="control">Environment Variables</span> dialog by                        clicking  <img class="inline-icon-16" src="/help/img/idea/2019.3/icons.actions.menu-open@2x.png" width="16" alt="icons actions menu open"> or pressing <kbd data-primary_default_for_windows="Shift+Enter" data-primary_default_for_macos="Shift+Enter" data-primary_intellij_idea_classic_macos="Shift+Enter" data-primary_emacs="Shift+Enter" data-primary_visual_studio="Shift+Enter" data-primary_default_for_xwin="Shift+Enter" data-primary_default_for_gnome="Shift+Enter" data-primary_default_for_kde="Shift+Enter" data-primary_eclipse="Shift+Enter" data-primary_eclipse_macos="Shift+Enter" data-primary_netbeans="Shift+Enter" data-primary_sublime_text="Shift+Enter" data-primary_sublime_text_macos="Shift+Enter" data-primary_xcode="Shift+Enter" data-primary_resharper="Shift+Enter" data-primary_resharper_macos="Shift+Enter" data-secondary_default_for_windows="⇧⏎" data-secondary_default_for_macos="⇧⏎" data-secondary_intellij_idea_classic="⇧⏎" data-secondary_emacs="⇧⏎" data-secondary_visual_studio="⇧⏎" data-secondary_default_for_xwin="⇧⏎" data-secondary_default_for_gnome="⇧⏎" data-secondary_default_for_kde="⇧⏎" data-secondary_eclipse="⇧⏎" data-secondary_eclipse_macos="⇧⏎" data-secondary_netbeans="⇧⏎" data-secondary_sublime_text="⇧⏎" data-secondary_sublime_text_macos="⇧⏎" data-secondary_xcode="⇧⏎" data-secondary_resharper="⇧⏎" data-secondary_resharper_macos="⇧⏎">Shift+Enter</kbd>, and                        set the <span class="control">Include system environment variables</span> checkbox.                        The values you specify additionally will be appended to system variables.                        Otherwise, when the checkbox is cleared, your custom values will overwrite the system ones.                    </p>                                    </li><li class="list__item" id="47f8d785">                    <p id="1d85d378">                        <i id="be94e83e">Toolchain environment</i>                    </p>                    <p id="8c12a5ad">                        For example, variables defined in <span class="filepath">vcvarsall.bat</span> for MSVC, path variables like                        <code class="code">mingw/bin</code>,                        and others.                    </p>                </li><li class="list__item" id="bb8373c4">                    <p id="3cfc9f75">                        <i id="db7a5320">CMake profile environment</i>                    </p>                    <p id="4c344a1a">                        Your custom variables specified in the <span class="control">Environment</span> field.                    </p>                </li></ol></section>                    </div>        <div class="last-modified" data-skip-index="skip">Last modified: 1 December 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="cmake-cache.html">CMake Cache</a><a class="navigation-links__next" href="how-to-create-toolchain-in-clion.html">Toolchains</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>