<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>Inspection: Unused Include Directive - Help | CLion</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body data-id="Unused_Include_Directive" data-breadcrumbs="Code_Inspection.xml|Code inspections/Inspections in Detail/Unused_Include_Directive.xml|Inspection: Unused Include Directive" data-main-title="Inspection: Unused Include Directive"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search CLion Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>CLion 2019.3 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="primary" value="primary_default_for_windows" selected>Default for Windows</option><option data-group="primary" value="primary_default_for_macos">Default for macOS</option><option data-group="primary" value="primary_intellij_idea_classic_macos">IntelliJ IDEA Classic (macOS)</option><option data-group="primary" value="primary_emacs">Emacs</option><option data-group="primary" value="primary_visual_studio">Visual Studio</option><option data-group="primary" value="primary_default_for_xwin">Default for XWin</option><option data-group="primary" value="primary_default_for_gnome">Default for GNOME</option><option data-group="primary" value="primary_default_for_kde">Default for KDE</option><option data-group="primary" value="primary_eclipse">Eclipse</option><option data-group="primary" value="primary_eclipse_macos">Eclipse (macOS)</option><option data-group="primary" value="primary_netbeans">NetBeans</option><option data-group="primary" value="primary_sublime_text">Sublime Text</option><option data-group="primary" value="primary_sublime_text_macos">Sublime Text (macOS)</option><option data-group="primary" value="primary_xcode">Xcode</option><option data-group="primary" value="primary_resharper">ReSharper</option><option data-group="primary" value="primary_resharper_macos">ReSharper (macOS)</option><option data-group="secondary" value="secondary_default_for_windows">Default for Windows</option><option data-group="secondary" value="secondary_default_for_macos">Default for macOS</option><option data-group="secondary" value="secondary_intellij_idea_classic">IntelliJ IDEA Classic</option><option data-group="secondary" value="secondary_emacs">Emacs</option><option data-group="secondary" value="secondary_visual_studio">Visual Studio</option><option data-group="secondary" value="secondary_default_for_xwin">Default for XWin</option><option data-group="secondary" value="secondary_default_for_gnome">Default for GNOME</option><option data-group="secondary" value="secondary_default_for_kde">Default for KDE</option><option data-group="secondary" value="secondary_eclipse">Eclipse</option><option data-group="secondary" value="secondary_eclipse_macos">Eclipse (macOS)</option><option data-group="secondary" value="secondary_netbeans">NetBeans</option><option data-group="secondary" value="secondary_sublime_text">Sublime Text</option><option data-group="secondary" value="secondary_sublime_text_macos">Sublime Text (macOS)</option><option data-group="secondary" value="secondary_xcode">Xcode</option><option data-group="secondary" value="secondary_resharper">ReSharper</option><option data-group="secondary" value="secondary_resharper_macos">ReSharper (macOS)</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Unused_Include_Directive" id="Unused_Include_Directive.xml">Inspection: Unused Include Directive</h1>    <aside data-type="note" class="prompt" data-title="" rel="Unused_Include_Directive.xml" id="931b1d72">        <p id="2b44d229"><span data-skip-index="skip" class="menupath">Settings / Preferences | Editor | Inspections</span> - <span data-skip-index="skip" class="menupath">C/C++, Unused Code</span>        </p>        <p id="4800d903">Default severity: <span class="control">Warning</span>        </p>        <p id="efb995b8"><span class="control">Clangd</span>-based engine        </p>    </aside>    <p id="bd033459">Needless header files included in your code slow down the compilation and can pollute global namespace or even cause prepossessing collisions. Such includes add unnecessary dependencies, making your code harder to explore and maintain (for example, you will see a lot of irrelevant results in code completion).</p>    <p id="e28cfb31">The <span class="control">Unused Include Directive</span> inspection detects the <code class="code">#include</code> directives that are not required and can be safely removed:</p>    <figure><img alt="Unused Includes inspection" title="Unused Includes inspection" src="/help/img/idea/2019.3/cl_unused_includes.png" id="f2d10da5" width="407" height="256"></figure>    <p id="a1c49f7c">The inspection <span class="control">does not warn</span> you about the includes in source files with compilation errors. Also, it checks only the headers that contain <code class="code">#pragma once</code> or <a href="header-guards.html">header guards</a> - files with none of them are always marked as used.</p>    <p id="25049992">The inspection is enabled by default when the <a href="settings-languages-cpp-clangd.html">Clangd-based language engine</a> is turned on. If you disable the <span class="control">Clangd</span> engine, <span class="control">Unused Include Directive</span> will still work, but false positives are possible in this case, and the chosen <a href="#options">strategy</a> will not affect the inspection's behavior: when working without Clangd, it suggests removing the maximum number of unused directives (the <span class="emphasis">Detect not required</span> option). Also, in this case, the inspection checks all the headers regardless of whether or not they have header guards or <code class="code">#pragma once</code>.</p>        <section class="procedure-steps"><h3 id="unusedincludes-config">Configure the inspection</h3><ol class="list _decimal"><li class="list__item" id="cd76cbc5"><p>Go to <span data-skip-index="skip" class="menupath">Settings / Preferences | Editor | Inspections</span> and navigate to <span class="control">C/C++, Unused Code, Unused Include Directive</span> in the list of inspections.        <figure><img alt="Unused Includes settings" title="Unused Includes settings" src="/help/img/idea/2019.3/cl_unusedincludes_settings.png" id="4c5d9b42" width="650" height="1118"></figure>        </p></li><li class="list__item" id="options">            <p id="64bb3ce6">In the <span class="control">Options</span> field, select the diagnostic strategy for detecting and removing unused includes:</p>            <ul class="list _ul"><li class="list__item" id="fc46b5ba"><p><span class="control">Detect completely unused</span>: the most conservative strategy, which detects only the <code class="code">#include</code> directives with the declarations never used in the translation unit.</p></li><li class="list__item" id="37c605a3"><p><span class="control">Detect not directly used (default)</span>: this strategy follows the <span class="emphasis">Include What You Use</span> principle (the principle that if you use a symbol or type from a header, you should include that header) and detects the <code class="code">#includes</code> directives with the declarations not used in the current file directly.</p></li><li class="list__item" id="b9fb0cfe"><p><span class="control">Detect not required</span>: the most aggressive strategy which detects the minimal subset of the <code class="code">#include</code> directives to keep the file compilable and suggests removing all the rest.</p></li></ul>        </li><li class="list__item" id="1bd76b5f">            <p id="1b61eafc">If required, set the <span class="control">Run inspection in header files</span> checkbox.                </p>            <p id="88bd02bd">With this option enabled, the inspection skips <span class="emphasis">umbrella headers</span>, since the directives listed in them are always considered as used (<span class="emphasis">umbrella headers</span> include all the necessary headers at once and don't contain any declarations).</p>                                            </li></ol></section>        <div class="last-modified" data-skip-index="skip">Last modified: 1 December 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="method-can-be-static-inspection.html">Inspection: Member Function Can Be Static</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>