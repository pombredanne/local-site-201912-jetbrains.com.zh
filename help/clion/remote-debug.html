<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>GDB Remote Debug - Help | CLion</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body data-id="Remote_Debug" data-breadcrumbs="Build, Run, Debug/Remote_Development.xml|Remote Development/Remote_Debug_via_GDB_gdbserver.xml|Remote Debug via GDB/gdbserver/Remote_Debug.xml|GDB Remote Debug" data-main-title="GDB Remote Debug"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search CLion Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>CLion 2019.3 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="primary" value="primary_default_for_windows" selected>Default for Windows</option><option data-group="primary" value="primary_default_for_macos">Default for macOS</option><option data-group="primary" value="primary_intellij_idea_classic_macos">IntelliJ IDEA Classic (macOS)</option><option data-group="primary" value="primary_emacs">Emacs</option><option data-group="primary" value="primary_visual_studio">Visual Studio</option><option data-group="primary" value="primary_default_for_xwin">Default for XWin</option><option data-group="primary" value="primary_default_for_gnome">Default for GNOME</option><option data-group="primary" value="primary_default_for_kde">Default for KDE</option><option data-group="primary" value="primary_eclipse">Eclipse</option><option data-group="primary" value="primary_eclipse_macos">Eclipse (macOS)</option><option data-group="primary" value="primary_netbeans">NetBeans</option><option data-group="primary" value="primary_sublime_text">Sublime Text</option><option data-group="primary" value="primary_sublime_text_macos">Sublime Text (macOS)</option><option data-group="primary" value="primary_xcode">Xcode</option><option data-group="primary" value="primary_resharper">ReSharper</option><option data-group="primary" value="primary_resharper_macos">ReSharper (macOS)</option><option data-group="secondary" value="secondary_default_for_windows">Default for Windows</option><option data-group="secondary" value="secondary_default_for_macos">Default for macOS</option><option data-group="secondary" value="secondary_intellij_idea_classic">IntelliJ IDEA Classic</option><option data-group="secondary" value="secondary_emacs">Emacs</option><option data-group="secondary" value="secondary_visual_studio">Visual Studio</option><option data-group="secondary" value="secondary_default_for_xwin">Default for XWin</option><option data-group="secondary" value="secondary_default_for_gnome">Default for GNOME</option><option data-group="secondary" value="secondary_default_for_kde">Default for KDE</option><option data-group="secondary" value="secondary_eclipse">Eclipse</option><option data-group="secondary" value="secondary_eclipse_macos">Eclipse (macOS)</option><option data-group="secondary" value="secondary_netbeans">NetBeans</option><option data-group="secondary" value="secondary_sublime_text">Sublime Text</option><option data-group="secondary" value="secondary_sublime_text_macos">Sublime Text (macOS)</option><option data-group="secondary" value="secondary_xcode">Xcode</option><option data-group="secondary" value="secondary_resharper">ReSharper</option><option data-group="secondary" value="secondary_resharper_macos">ReSharper (macOS)</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Remote_Debug" id="Remote_Debug.xml">GDB Remote Debug</h1>                <aside data-type="note" class="prompt" data-title="" rel="Remote_Debug.xml" id="f07effa1">        <p id="89551fb8"><span class="control">Local OS</span>: macOS / Linux / Windows</p>        <p id="e202cadf"><span class="control">Remote OS</span>: any supporting gdbserver</p>        <p id="23e0342a"><span class="control">Required tool</span>: <a href="https://sourceware.org/gdb/onlinedocs/gdb/Server.html" data-external="true" target="_blank" rel="noopener noreferrer">gdbserver</a> on tagret        </p>        <p id="0575070d"><span class="control">Binary and symbol file synchronization</span>: manual</p>        <p id="b4179862"><span class="control">Client debugger</span>: bundled multiarch GDB / WSL GDB / Cygwin GDB / custom GDB</p>    </aside>    <p id="06532797">With <span class="control">GDB Remote Debug</span> configuration, you can run applications that were built by <span class="control">any build system</span>. The only requirement is that debug symbols should be available for the binaries and libraries.        </p>    <p id="0bde0c47">There are also <span class="control">no restrictions on the target environment</span>: your program can run under <i id="300c3e5c">gdbserver</i> on any OS including Linux-based embedded systems (for example, <a href="https://www.raspberrypi.org/downloads/raspbian/" data-external="true" target="_blank" rel="noopener noreferrer">Raspbian OS</a>), on a cloud platform, or, for example, inside a <a href="docker.html">Docker</a> container.  You can connect to <span class="control">any GDB stub</span> that complies with the remote gdbserver protocol - for example, <a href="https://en.wikibooks.org/wiki/QEMU/Debugging_with_QEMU" data-external="true" target="_blank" rel="noopener noreferrer">Qemu</a> to debug OS kernels or <a href="http://openocd.org/doc/html/GDB-and-OpenOCD.html" data-external="true" target="_blank" rel="noopener noreferrer">OpenOCD</a> to debug flashed firmware.    </p>   <p id="8d81792b">CLion's bundled GDB, which is used as a client debugger by default, is built with <span class="control">multiarch</span> support, which makes it suitable for remote cross-platform debug in various Linux/Windows/macOS and embedded cases. Below you can find the full list of all supported targets:        </p>        <section class="procedure-steps"><div class="collapse"><div class="collapse__title"><h3 id="remote-targets" data-toc="Remote_Debug#remote-targets">Remote targets supported by the bundled GDB</h3></div><div class="collapse__content"><ul class="list "><li class="list__item" id="45afde53">            <div class="code-block" data-lang="bash">
                i686-pc-mingw32
                i686-w64-mingw32
                x86_64-w64-mingw32
                i686-linux-gnu
                x86_64-linux-gnu
                aarch64-linux-gnu
                alpha-linux-gnu
                arm-linux-gnu
                arm-linux-gnueabi
                arm-linux-gnueabihf
                hppa-linux-gnu
                ia64-linux-gnu
                m68k-linux-gnu
                m68k-rtems
                mips-linux-gnu
                mipsel-linux-gnu
                mips64-linux-gnu
                mips64el-linux-gnu
                powerpc-linux-gnu
                powerpc-linux-gnuspe
    </div>            </li></ul></div></div></section>    <section class="procedure-steps"><h3 id="remote-config" data-toc="Remote_Debug#remote-config">Create a GDB Remote Debug configuration</h3><p id="04168059">                Go to <span class="control">Run | Edit Configurations</span>, click <img class="inline-icon-16" src="/help/img/idea/2019.3/icons.general.add@2x.png" width="16" alt="icons general add">, and select  <a href="run-debug-configuration-remote-gdb.html">GDB Remote Debug</a> from the list of templates.                <figure><img alt="Remote Run/Debug Configuration" title="Remote Run/Debug Configuration" src="/help/img/idea/2019.3/cl_remoteConfig.png" id="33f9b8f8" width="650" height="562"></figure>            </p><p id="a711d174">                Specify the following settings:            </p><ul class="list _ul"><li class="list__item" id="d04e3e9a">                    <p id="43e63caf">                    <span class="control">'target remote' args</span>                    </p>                    <p id="06ed00a5">                    Here you need to provide the medium to carry debugging packets                    (serial line or an IP network using TCP or UDP). See <a href="https://sourceware.org/gdb/onlinedocs/gdb/Connecting.html#Connecting" data-external="true" target="_blank" rel="noopener noreferrer">gdb documentation</a>                    for more details on connecting to a remote target.                    </p>                </li><li class="list__item" id="41bb392f">                    <p id="5ade049b">                    <span class="control">Symbol file</span>                    </p>                    <p id="ca8edc8b">                    GDB that runs on the host needs access to debug information for the executable running on the target.                    For this, it requires the symbol file on host to be a non-stripped copy of the executable on the target.                    However, leaving this field empty may also work well, as recent versions of GDB can transfer symbols from GDB server automatically.                    </p>                </li><li class="list__item" id="be4850b3">                    <p id="207d7391">                    <span class="control">Sysroot</span>                    </p>                    <p id="e9164ff5">                    In this field, specify the local directory that contains the symbol file and the copies of target libraries in corresponding subdirectories.                    </p>                </li><li class="list__item" id="082b7ca9">                    <p id="9029f32a">                    <span class="control">Path mappings</span>                    </p>                    <p id="177ccc54">                    Use this pane to provide paths on the target machine (the <span class="control">Remote</span> column)                    to be mapped to local paths on host (the <span class="control">Local</span> column).                    </p>                </li></ul></section>        <section class="procedure-steps"><h3 id="launch-remote-debug" data-toc="Remote_Debug#launch-remote-debug">Launch a remote debug session</h3><ol class="list _decimal"><li class="list__item" id="ba261810"><p id="eaa4886f">                First, launch your application on the remote target under <span class="control">gdbserver</span>. For this, you can use the built-in SSH terminal (run <span data-skip-index="skip" class="menupath">Tools | Start SSH session</span> with the appropriate credentials):                <figure><img alt="remote ssh terminal" title="remote ssh terminal" src="/help/img/idea/2019.3/cl_remoteTerminal.png" id="b792f4d0" width="650" height="285"></figure>            </p>                <p id="44a5ffcb"><span class="control">gdbserver</span> suspends the program at the entry point and waits for the debugger to connect to it.</p>            </li><li class="list__item" id="LaunchProcedureStep2">                <p id="027e4557">                   Then switch to the newly created remote configuration and start a debug <img class="inline-icon-16" src="/help/img/idea/2019.3/icons.actions.startDebugger@2x.png" width="16" alt="icons actions startDebugger"> session. CLion’s debugger connects to the remote process and uses the provided debug information to let you inspect the code as if it was running locally (for example, set breakpoints, step through, and examine the variables):</p>                <figure><img alt="debug via gds/gdbserver" title="debug via gds/gdbserver" src="/help/img/idea/2019.3/cl_remoteDebugWindow.png" id="eb58c672" width="800" height="1370"></figure>                <aside data-type="note" class="prompt" data-title="" rel="eb58c672" id="908cdffe"><p>                    Normally, your program should stop at breakpoints set from the IDE. In case it does not, double-check that <span class="control">symbol file</span> and                    <span class="control">path mappings</span> in the Run/Debug configuration settings are specified correctly.</p></aside>            </li></ol></section>                <section class="procedure-steps"><h3 id="debug-shared-libs" data-toc="Remote_Debug#debug-shared-libs">Debug shared libraries</h3><ul class="list "><li class="list__item" id="50c2f3fc">                    <p id="61a17fe3">                        To debug shared libraries, you need to set the <a href="http://visualgdb.com/gdbreference/commands/set_solib-search-path" data-external="true" target="_blank" rel="noopener noreferrer">solib-search-paths</a> variable in the <span class="filepath">~/.gdbinit</span> script. However by default, this command will be executed on the debugger startup before attaching to the remote target (see the corresponding <a href="https://youtrack.jetbrains.com/issue/CPP-7322" data-external="true" target="_blank" rel="noopener noreferrer">issue</a>). As a workaround, you can use <a href="https://sourceware.org/gdb/onlinedocs/gdb/Hooks.html" data-external="true" target="_blank" rel="noopener noreferrer">GDB hooks</a>:                        <div class="code-block" data-lang="bash">
                            define target hookpost-remote
                            set solib-search-path /path/to/my.so:/path/to/sysroot:/path/to/vendorlibs
                            break main  # if you also need the debug sessions to pause at the beginning
                            end
    </div>                    </p>                    <p id="fadc2618">                        This way, GDB will execute <code class="code">set solib-search-path</code> specified in the hook every time the remote target is connected.                    </p>                </li></ul></section><div class="last-modified" data-skip-index="skip">Last modified: 1 December 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="remote-gdb-server.html">Remote GDB Server</a><a class="navigation-links__next" href="how-to-use-wsl-development-environment-in-clion.html">WSL</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>