<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>ROS Setup Tutorial - Help | CLion</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body data-id="ROS_Setup_Tutorial" data-breadcrumbs="Language and Framework-Specific Guidelines/ROS_Setup_Tutorial.xml|ROS Setup Tutorial" data-main-title="ROS Setup Tutorial"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search CLion Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>CLion 2019.3 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="primary" value="primary_default_for_windows" selected>Default for Windows</option><option data-group="primary" value="primary_default_for_macos">Default for macOS</option><option data-group="primary" value="primary_intellij_idea_classic_macos">IntelliJ IDEA Classic (macOS)</option><option data-group="primary" value="primary_emacs">Emacs</option><option data-group="primary" value="primary_visual_studio">Visual Studio</option><option data-group="primary" value="primary_default_for_xwin">Default for XWin</option><option data-group="primary" value="primary_default_for_gnome">Default for GNOME</option><option data-group="primary" value="primary_default_for_kde">Default for KDE</option><option data-group="primary" value="primary_eclipse">Eclipse</option><option data-group="primary" value="primary_eclipse_macos">Eclipse (macOS)</option><option data-group="primary" value="primary_netbeans">NetBeans</option><option data-group="primary" value="primary_sublime_text">Sublime Text</option><option data-group="primary" value="primary_sublime_text_macos">Sublime Text (macOS)</option><option data-group="primary" value="primary_xcode">Xcode</option><option data-group="primary" value="primary_resharper">ReSharper</option><option data-group="primary" value="primary_resharper_macos">ReSharper (macOS)</option><option data-group="secondary" value="secondary_default_for_windows">Default for Windows</option><option data-group="secondary" value="secondary_default_for_macos">Default for macOS</option><option data-group="secondary" value="secondary_intellij_idea_classic">IntelliJ IDEA Classic</option><option data-group="secondary" value="secondary_emacs">Emacs</option><option data-group="secondary" value="secondary_visual_studio">Visual Studio</option><option data-group="secondary" value="secondary_default_for_xwin">Default for XWin</option><option data-group="secondary" value="secondary_default_for_gnome">Default for GNOME</option><option data-group="secondary" value="secondary_default_for_kde">Default for KDE</option><option data-group="secondary" value="secondary_eclipse">Eclipse</option><option data-group="secondary" value="secondary_eclipse_macos">Eclipse (macOS)</option><option data-group="secondary" value="secondary_netbeans">NetBeans</option><option data-group="secondary" value="secondary_sublime_text">Sublime Text</option><option data-group="secondary" value="secondary_sublime_text_macos">Sublime Text (macOS)</option><option data-group="secondary" value="secondary_xcode">Xcode</option><option data-group="secondary" value="secondary_resharper">ReSharper</option><option data-group="secondary" value="secondary_resharper_macos">ReSharper (macOS)</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 data-toc="ROS_Setup_Tutorial" id="ROS_Setup_Tutorial.xml">ROS Setup Tutorial</h1>    <p id="62c84395"><a href="http://www.ros.org/" data-external="true" target="_blank" rel="noopener noreferrer">ROS</a> (Robot Operating System) is a set of libraries and tools designed for robot applications.        It mainly targets C++ and Python development and uses <a href="http://wiki.ros.org/catkin" data-external="true" target="_blank" rel="noopener noreferrer">catkin</a> build system,        which is based on CMake with Python scripts. ROS software <a href="http://wiki.ros.org/ROS/Installation" data-external="true" target="_blank" rel="noopener noreferrer">distributions</a> are available for Linux, and also for macOS in experimental mode.</p>    <p id="clion-as-ide">You can use CLion as an IDE for your ROS projects. This tutorial describes how to set up the workflow        and gives an example of creating a ROS package and working with it in CLion. Note that this setup procedure has been tested on Ubuntu.    </p><aside data-type="tip" class="prompt" data-title="" rel="clion-as-ide" id="6483690f">        <p id="d929f018">        There are also 3rd party plugins that you can use for ROS development in CLion: <a href="https://plugins.jetbrains.com/plugin/11420-ros-robot-operating-system" data-external="true" target="_blank" rel="noopener noreferrer">ROS-Robot Operating System</a> and <a href="https://github.com/duckietown/hatchery" data-external="true" target="_blank" rel="noopener noreferrer">Hatchery</a>.        </p>        <p id="7bf0b98e">        <span class="control">Note</span>: 3rd party plugins are not maintained or supported by the CLion team.        </p>     </aside>            <div class="chapter"><h2 id="launch-in-sourced" data-toc="ROS_Setup_Tutorial#launch-in-sourced">Launch CLion in the sourced environment</h2>        <p id="19af129d">            CLion needs to be informed of the ROS-specific environment variables.            These variables are retrieved in the current shell when you            <a href="http://wiki.ros.org/ROS/Tutorials/InstallingandConfiguringROSEnvironment#Managing_Your_Environment" data-external="true" target="_blank" rel="noopener noreferrer">source the workspace</a> by running            <div class="code-block" data-lang="bash">
                source ./devel/setup.bash
    </div>            The simplest way to provide CLion with ROS environment variables is to <span class="control">launch the IDE from the same shell</span>. After the workspace is sourced,            you can type in the same terminal:            <div class="code-block" data-lang="bash">
                sh PATH_TO_CLION/bin/clion.sh
    </div>        </p>            </div>    <div class="chapter"><h2 id="open-ros-prj" data-toc="ROS_Setup_Tutorial#open-ros-prj">Open a ROS project in CLion</h2>        <p id="c12b9767">After you have launched CLion in the sourced environment, do one of the following to open your ROS project:        </p>        <ul class="list _ul"><li class="list__item" id="cmake-open"><p>Click <span data-skip-index="skip" class="menupath">File | Open</span> and select <span class="filepath">CMakeLists.txt</span> in the <span class="filepath">src</span> directory of your                ROS workspace, then choose <span class="control">Open as Project</span>.            </p></li><li class="list__item" id="19e7c2fa"><p>                Click <span data-skip-index="skip" class="menupath">File | New CMake Project from Sources</span> and select the <span class="filepath">src</span> directory of the workspace to import the project from.            </p></li></ul>                <p id="856b751a">            The <span class="control">CMake tool window</span> will show the status of the project loading:            <figure><img alt="successfully load cmake project" title="successfully load cmake project" src="/help/img/idea/2019.3/cl_ros_cmakeload_success.png" id="28966c45" width="550" height="489"></figure>            </p>            </div>    <div class="chapter"><h2 id="set-build-paths" data-toc="ROS_Setup_Tutorial#set-build-paths">Set build paths to the catkin workspace</h2>        <p id="c19d6b66">            By default, CLion places build output in <span class="filepath">cmake-build-debug</span> or <span class="filepath">cmake-build-release</span>        directory that is created automatically. For ROS development, it means that you will have two            different builds in CLion and in the console where you run <code class="code">catkin_make</code>.        </p>        <p id="70fd5398">            To have a <span class="control">single build across the IDE and console</span>,            you need to set CLion build paths to the catkin workspace directories. For this, go to            <span data-skip-index="skip" class="menupath">File | Settings <kbd data-primary_default_for_windows="Ctrl+Alt+S" data-primary_default_for_macos="⌘+Comma" data-primary_intellij_idea_classic_macos="⌘+Comma" data-primary_emacs="Ctrl+Alt+S" data-primary_visual_studio="Alt+F7" data-primary_default_for_xwin="Ctrl+Alt+S" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-primary_eclipse_macos="⌘+Comma" data-primary_netbeans="Ctrl+Alt+S" data-primary_sublime_text="Ctrl+Alt+S" data-primary_sublime_text_macos="⌘+Comma" data-primary_xcode="⌘+Comma" data-primary_resharper="Alt+F7" data-primary_resharper_macos="Alt+F7" data-secondary_default_for_windows="⌃⌥S" data-secondary_default_for_macos="⌘," data-secondary_intellij_idea_classic="⌘," data-secondary_emacs="⌃⌥S" data-secondary_visual_studio="⌥F7" data-secondary_default_for_xwin="⌃⌥S" data-secondary_default_for_gnome="⌃⌥S" data-secondary_default_for_kde="⌃⌥S" data-secondary_eclipse="⌃⌥S" data-secondary_eclipse_macos="⌘," data-secondary_netbeans="⌃⌥S" data-secondary_sublime_text="⌃⌥S" data-secondary_sublime_text_macos="⌘," data-secondary_xcode="⌘," data-secondary_resharper="⌥F7" data-secondary_resharper_macos="⌥F7">Ctrl+Alt+S</kbd> | Build, Execution, Deployment | CMake</span> and change two fields:            <ul class="list _choices"><li class="list__item" id="f97c84c6"><p>                    In <span class="control">Generation path</span>, set <span class="filepath">workspace_folder/build</span>.                </p></li><li class="list__item" id="ef90b829"><p>                    In <span class="control">CMake options</span>, add <code class="code">-DCATKIN_DEVEL_PREFIX:PATH=workspace_folder/devel</code>.                </p></li></ul>            <figure><img alt="cmake settings for ros projects" title="cmake settings for ros projects" src="/help/img/idea/2019.3/cl_ros_cmake_settings.png" id="3e3e239a" width="800" height="566"></figure>        </p>    </div>    <div class="chapter"><h2 id="launch-files" data-toc="ROS_Setup_Tutorial#launch-files">Work with launch files</h2>        <p id="fbdf4391">You can <a href="running-applications.html">run</a> and <a href="starting-the-debugger-session.html">debug</a> ROS nodes as regular applications in CLion.</p>        <p id="78f2c698">            <a href="http://wiki.ros.org/roslaunch/XML" data-external="true" target="_blank" rel="noopener noreferrer">Launch</a> files cannot be executed directly,            but you can edit them with XML syntax highlighting and completion, and            <a href="attaching-to-local-process.html">attach the debugger</a> to a running node.</p>                <section class="procedure-steps"><h3 id="attach-to-node">Attach the debugger to a running node</h3><ol class="list _decimal"><li class="list__item" id="7f0857dd">           <p id="88814d96">               Run your <span class="filepath">.launch</span> file from the command line. For example           <div class="code-block" data-lang="bash">roslaunch roscpp_tutorials talker_listener.launch</div>           </p>           <p id="76a22405">               You can check the list of currently running nodes by the <code class="code">rosnode list</code> command.               In our example, the list will contain <code class="code">talker</code> and <code class="code">listener</code>:               <figure><img alt="ros nodes list" title="ros nodes list" src="/help/img/idea/2019.3/cl_ros_nodelists.png" id="4ead453c" width="350" height="113"></figure>           </p>       </li><li class="list__item" id="d68186d8"><p>                Call <span data-skip-index="skip" class="menupath">Run | Attach to Process</span> from the main menu or press <kbd data-primary_default_for_windows="Ctrl+Alt+F5" data-primary_default_for_macos="Shift+Alt+F5" data-primary_intellij_idea_classic_macos="Shift+Alt+F5" data-primary_emacs="Ctrl+Alt+F5" data-primary_visual_studio="Ctrl+Alt+F5" data-primary_default_for_xwin="Ctrl+Alt+5" data-primary_default_for_gnome="Ctrl+Alt+5" data-primary_default_for_kde="Ctrl+Alt+5" data-primary_eclipse="Ctrl+Alt+F5" data-primary_eclipse_macos="Shift+Alt+F5" data-primary_netbeans="Ctrl+Alt+F5" data-primary_sublime_text="Ctrl+Alt+F5" data-primary_sublime_text_macos="Shift+Alt+F5" data-primary_xcode="Shift+Alt+F5" data-primary_resharper="Ctrl+Alt+F5" data-primary_resharper_macos="Ctrl+Alt+F5" data-secondary_default_for_windows="⌃⌥F5" data-secondary_default_for_macos="⌥⇧F5" data-secondary_intellij_idea_classic="⌥⇧F5" data-secondary_emacs="⌃⌥F5" data-secondary_visual_studio="⌃⌥F5" data-secondary_default_for_xwin="⌃⌥5" data-secondary_default_for_gnome="⌃⌥5" data-secondary_default_for_kde="⌃⌥5" data-secondary_eclipse="⌃⌥F5" data-secondary_eclipse_macos="⌥⇧F5" data-secondary_netbeans="⌃⌥F5" data-secondary_sublime_text="⌃⌥F5" data-secondary_sublime_text_macos="⌥⇧F5" data-secondary_xcode="⌥⇧F5" data-secondary_resharper="⌃⌥F5" data-secondary_resharper_macos="⌃⌥F5">Ctrl+Alt+F5</kbd>.            </p></li><li class="list__item" id="6f73aa24"><p>            Connect to the desired node by its PID or name:            <figure><img alt="attach to ros node" title="attach to ros node" src="/help/img/idea/2019.3/cl_ros_attachtonode.png" id="803431a5" width="650" height="186"></figure>        </p></li></ol></section>    </div>    <div class="chapter"><h2 id="example" data-toc="ROS_Setup_Tutorial#example">Example: create a basic ROS node, edit and run it in CLion</h2>        <p id="27b4126c">In this example, we will create a simple ROS package, edit the source code, and run the node from CLion.            We will use ROS Melodic on Ubuntu 18.04 and the basic <i id="8d29ab69">publisher</i> node from the            <a href="http://wiki.ros.org/ROS/Tutorials/WritingPublisherSubscriber%28c%2B%2B%29" data-external="true" target="_blank" rel="noopener noreferrer">Writing a Simple Publisher and Subscriber (C++)</a> tutorial available on the            <a href="http://wiki.ros.org/ROS" data-external="true" target="_blank" rel="noopener noreferrer">ROS wiki</a>.</p>        <section class="procedure-steps"><h3 id="example-create-package">Create a basic ROS package</h3><ol class="list _decimal"><li class="list__item" id="4f6b718b"><p>            Create and build a ROS workspace:            <div class="code-block" data-lang="bash">
                mkdir -p ros_workspace/src
                cd ros_workspace
                catkin_make
    </div>        </p></li><li class="list__item" id="bd4adb4f"><p>                In the workspace, create a package called <span class="filepath">my_package</span>:            <div class="code-block" data-lang="bash">
                cd src
                catkin_create_pkg my_package roscpp rospy std_msgs
    </div>        </p></li></ol></section>        <section class="procedure-steps"><h3 id="example-launch-clion">Launch CLion</h3><ol class="list _decimal"><li class="list__item" id="355c7ef0"><p>            Source the workspace:            <div class="code-block" data-lang="bash">
                cd ../../../
                source ./devel/setup.bash
    </div>        </p></li><li class="list__item" id="003a2f46"><p>And launch CLion in the same terminal:                <div class="code-block" data-lang="bash">
                    sh /opt/clion-2018.2/bin/clion.sh
    </div>            </p></li></ol></section>        <section class="procedure-steps"><h3 id="open-package">Open the package as a project in CLion</h3><ul class="list "><li class="list__item" id="c9c591c8"><p>                In CLion, go to <span class="control">File | Open</span> and select the <span class="filepath">CMakeLists.txt</span> file located inside                the package folder, and choose to open it as a project:                <figure><img alt="open ros project" title="open ros project" src="/help/img/idea/2019.3/cl_ros_openprj.png" id="647cb81b" width="450" height="489"></figure>            </p></li></ul></section>    <section class="procedure-steps"><h3 id="example-add-file">Add a source file and edit CMakeLists.txt</h3><ol class="list _decimal"><li class="list__item" id="e465f1c9"><p>                Add a new source file to the project: right-click on <span class="filepath">src</span> in the Project tree, select <span data-skip-index="skip" class="menupath">New | C/C++ Source File</span>                and call it <span class="filepath">my_package.cpp</span>.         </p></li><li class="list__item" id="1359a217"><p>            Copy the entire <a href="https://raw.githubusercontent.com/ros/ros_tutorials/kinetic-devel/roscpp_tutorials/talker/talker.cpp" data-external="true" target="_blank" rel="noopener noreferrer">talker.cpp</a>            file from the <a href="http://wiki.ros.org/ROS/Tutorials/WritingPublisherSubscriber%28c%2B%2B%29" data-external="true" target="_blank" rel="noopener noreferrer">Publisher and Subscriber</a> tutorial into <span class="filepath">my_package.cpp</span>.        </p></li><li class="list__item" id="0cfb8039"><p>            Add the newly created source to <span class="filepath">CMakeLists.txt</span> and            <a href="http://wiki.ros.org/catkin/CMakeLists.txt#target_link_libraries" data-external="true" target="_blank" rel="noopener noreferrer">link</a> it against <span class="control">catkin</span> libraries:            <div class="code-block" data-lang="makefile">
                add_executable(my_package src/my_package.cpp)
                target_link_libraries(my_package ${catkin_LIBRARIES})
            </div>            After that, <a href="reloading-project.html">reload</a> the CMake project, and notice <span class="control">my_package</span> in the list of Run/Debug configurations:            <figure><img alt="add source to cmakelists and reload" title="add source to cmakelists and reload" src="/help/img/idea/2019.3/cl_ros_addcpp_reload.png" id="14fc3648" width="650" height="845"></figure>        </p></li></ol></section>    <section class="procedure-steps"><h3 id="example-run-node">Run a ROS node</h3><ol class="list _decimal"><li class="list__item" id="989bfaea"><p>           Before running the node from CLion, open the ROS master in a new terminal:           <div class="code-block" data-lang="bash">roscore</div>       </p></li><li class="list__item" id="6cfcd9da"><p>           In CLion, Run <img class="inline-icon-16" src="/help/img/idea/2019.3/icons.actions.execute@2x.png" width="16" alt="icons actions execute"> the <span class="control">my_package</span> configuration.           <span class="control">Run tool window</span> will show the node output:           <figure><img alt="output of the running node" title="output of the running node" src="/help/img/idea/2019.3/cl_ros_runnode.png" id="55205d10" width="400" height="325"></figure>       </p></li><li class="list__item" id="597d1729"><p>            In a separate terminal, check the currently active ROS topics.            If we print the messages from <code class="code">chatter</code>, the output will be similar to what we can see in CLion:            <figure><img alt="ros chatter node running" title="ros chatter node running" src="/help/img/idea/2019.3/cl_ros_chatter.png" id="f5c41a51" width="350" height="393"></figure>            Now if we stop <img class="inline-icon-16" src="/help/img/idea/2019.3/Docker-core.icons.StopContainer_1.png" width="16" alt="Docker core icons StopContainer 1"> the application in CLion, the            <code class="code">rostopic echo /chatter</code> command will have no output.        </p></li></ol></section>    </div>         <div class="last-modified" data-skip-index="skip">Last modified: 1 December 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="referencing-xml-schemas-and-dtds.html">Referencing XML Schemas and DTDs</a><a class="navigation-links__next" href="rust-support.html">Rust</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>