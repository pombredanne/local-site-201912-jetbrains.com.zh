<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>Performance Tuning Tips - Help | CLion</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body data-id="Performance_Tuning_Tips" data-breadcrumbs="Get Started/Performance_Tuning_Tips.xml|Performance Tuning Tips" data-main-title="Performance Tuning Tips"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search CLion Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>CLion 2019.3 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="primary" value="primary_default_for_windows" selected>Default for Windows</option><option data-group="primary" value="primary_default_for_macos">Default for macOS</option><option data-group="primary" value="primary_intellij_idea_classic_macos">IntelliJ IDEA Classic (macOS)</option><option data-group="primary" value="primary_emacs">Emacs</option><option data-group="primary" value="primary_visual_studio">Visual Studio</option><option data-group="primary" value="primary_default_for_xwin">Default for XWin</option><option data-group="primary" value="primary_default_for_gnome">Default for GNOME</option><option data-group="primary" value="primary_default_for_kde">Default for KDE</option><option data-group="primary" value="primary_eclipse">Eclipse</option><option data-group="primary" value="primary_eclipse_macos">Eclipse (macOS)</option><option data-group="primary" value="primary_netbeans">NetBeans</option><option data-group="primary" value="primary_sublime_text">Sublime Text</option><option data-group="primary" value="primary_sublime_text_macos">Sublime Text (macOS)</option><option data-group="primary" value="primary_xcode">Xcode</option><option data-group="primary" value="primary_resharper">ReSharper</option><option data-group="primary" value="primary_resharper_macos">ReSharper (macOS)</option><option data-group="secondary" value="secondary_default_for_windows">Default for Windows</option><option data-group="secondary" value="secondary_default_for_macos">Default for macOS</option><option data-group="secondary" value="secondary_intellij_idea_classic">IntelliJ IDEA Classic</option><option data-group="secondary" value="secondary_emacs">Emacs</option><option data-group="secondary" value="secondary_visual_studio">Visual Studio</option><option data-group="secondary" value="secondary_default_for_xwin">Default for XWin</option><option data-group="secondary" value="secondary_default_for_gnome">Default for GNOME</option><option data-group="secondary" value="secondary_default_for_kde">Default for KDE</option><option data-group="secondary" value="secondary_eclipse">Eclipse</option><option data-group="secondary" value="secondary_eclipse_macos">Eclipse (macOS)</option><option data-group="secondary" value="secondary_netbeans">NetBeans</option><option data-group="secondary" value="secondary_sublime_text">Sublime Text</option><option data-group="secondary" value="secondary_sublime_text_macos">Sublime Text (macOS)</option><option data-group="secondary" value="secondary_xcode">Xcode</option><option data-group="secondary" value="secondary_resharper">ReSharper</option><option data-group="secondary" value="secondary_resharper_macos">ReSharper (macOS)</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 data-toc="Performance_Tuning_Tips" id="Performance_Tuning_Tips.xml">Performance Tuning Tips</h1>    <p id="71f471a5">This article gives a summary of helpful techniques that you can use to improve CLion performance on large-scale projects.</p>    <div class="chapter"><h2 id="increase-heap" data-toc="Performance_Tuning_Tips#increase-heap">Increase memory heap</h2>        <section class="procedure-steps"><h3 id="memory-indicator">Enable memory indicator</h3><ul class="list "><li class="list__item" id="4094d3b8"><p>To check whether performance slowdowns are caused by low heap memory, enable the <span class="control">Show memory indicator</span> option in <span data-skip-index="skip" class="menupath">Settings/Preferences | Appearance &amp; Behavior | Appearance</span>.                 By default, both JVM and <a href="#check-clangd">Clangd</a> memory indicators will appear in the bottom right corner:                <figure><img alt="memory indicators" title="memory indicators" src="/help/img/idea/2019.3/cl_memindicators_combined.png" id="d71f9f6a" width="384" height="186"></figure>            </p></li></ul></section>        <section class="procedure-steps"><h3 id="adjust-xmx">Adjust -Xmx</h3><p id="bd30cc39">To increase memory heap, modify the corresponding JVM option, <code class="code">-Xmx</code>:</p><ol class="list _decimal"><li class="list__item" id="0b7648c5"><p>Go to <span data-skip-index="skip" class="menupath">Help | Edit Custom VM Options</span> - this action will create a copy of the <span class="filepath">.vmoptions</span> file in the IDE config directory and open it in the editor.</p></li><li class="list__item" id="1a803664"><p>Set <code class="code">-Xmx</code> to a higher value. For example, <code class="code">-Xmx4096m</code> for 4 GB value instead of the default 2 GB.</p></li><li class="list__item" id="1bf26e92"><p>Restart CLion.</p></li></ol></section>        <p id="920bcf06">CLion also warns you if the amount of the free heap memory is less than 5% of the maximum heap size:        <figure><img alt="low memory warning message" title="low memory warning message" src="/help/img/idea/2019.3/cl_lowmemory_warning.png" id="3524c81c" width="380" height="212"></figure>        </p>        <p id="408f13d9">            Click <span class="control">Configure</span> to edit <code class="code">-Xmx</code> in the <span class="control">Memory Settings</span> dialog:            <figure><img alt="change Xmx in Memory Settings" title="change Xmx in Memory Settings" src="/help/img/idea/2019.3/cl_memory_settings_dialog.png" id="bbb74d3c" width="392" height="400"></figure>        </p>    </div>    <div class="chapter"><h2 id="speedup-analysis" data-toc="Performance_Tuning_Tips#speedup-analysis">Speed up code analysis</h2>        <div class="chapter"><h3 id="filter-inspections">Filter the list of inspections</h3>            <p id="3039033c">On-the-fly code analysis is one of the most performance-consuming processes in CLion. To lighten it up, shorten the list of inspections in <span data-skip-index="skip" class="menupath">Settings / Preferences | Editor | Inspections</span> (see <a href="disabling-and-enabling-inspections.html">other ways</a> of disabling and suppressing inspections).</p>            <p id="4f53c6b9">In particular, consider disabling the <span class="control">Data Flow Analysis</span> group and the <span class="control">General | Simplifiable statement</span> inspection:</p>            <figure><img alt="disable performance-consuming inspections" title="disable performance-consuming inspections" src="/help/img/idea/2019.3/cl_inspections_disableheavy.png" id="3a7609ee" width="275" height="971"></figure>            <p id="78bc7c60">You will always be able to run inspections on demand using the <span data-skip-index="skip" class="menupath">Code | Inspect Code</span> command and explore the results in a separate tool window without affecting the editor. Also, you can postpone code analysis (and on-the-fly refactoring) until commit by setting up the <span class="control">Before Commit</span> options.</p>        </div>        <div class="chapter"><h3 id="tune-analysis-for-file">Tune analysis for a file</h3>            <p id="3a1d8640">To change the level of code analysis for the currently opened file, click the <span class="control">Hector</span> icon <img class="inline-icon-16" src="/help/img/idea/2019.3/icons.ide.hectorOn@2x.png" width="16" alt="the Hector icon"> on the Status bar or run <span data-skip-index="skip" class="menupath">Code | Configure Current File Analysis</span> <kbd data-primary_default_for_windows="Ctrl+Shift+Alt+H" data-primary_default_for_macos="Shift+Alt+⌘+H" data-primary_intellij_idea_classic_macos="Shift+Alt+⌘+H" data-primary_emacs="Ctrl+Shift+Alt+H" data-primary_visual_studio="Ctrl+Shift+Alt+H" data-primary_default_for_xwin="Ctrl+Shift+Alt+H" data-primary_default_for_gnome="Ctrl+Shift+Alt+H" data-primary_default_for_kde="Ctrl+Shift+Alt+H" data-primary_eclipse="Ctrl+Shift+Alt+H" data-primary_eclipse_macos="Shift+Alt+⌘+H" data-primary_netbeans="Ctrl+Shift+Alt+H" data-primary_sublime_text="Ctrl+Shift+Alt+H" data-primary_sublime_text_macos="Shift+Alt+⌘+H" data-primary_xcode="Shift+Alt+⌘+H" data-primary_resharper="Ctrl+Shift+Alt+H" data-primary_resharper_macos="Ctrl+Shift+Alt+H" data-secondary_default_for_windows="⌃⌥⇧H" data-secondary_default_for_macos="⌥⇧⌘H" data-secondary_intellij_idea_classic="⌥⇧⌘H" data-secondary_emacs="⌃⌥⇧H" data-secondary_visual_studio="⌃⌥⇧H" data-secondary_default_for_xwin="⌃⌥⇧H" data-secondary_default_for_gnome="⌃⌥⇧H" data-secondary_default_for_kde="⌃⌥⇧H" data-secondary_eclipse="⌃⌥⇧H" data-secondary_eclipse_macos="⌥⇧⌘H" data-secondary_netbeans="⌃⌥⇧H" data-secondary_sublime_text="⌃⌥⇧H" data-secondary_sublime_text_macos="⌥⇧⌘H" data-secondary_xcode="⌥⇧⌘H" data-secondary_resharper="⌃⌥⇧H" data-secondary_resharper_macos="⌃⌥⇧H">Ctrl+Shift+Alt+H</kbd>:            <figure><img alt="Hector the Inspector popup" title="Hector the Inspector popup" src="/help/img/idea/2019.3/cl_hector.png" id="ede5c33a" width="333" height="370"></figure>            </p>            <p id="6ff6dce0">Move the slider to one of the available positions: </p>                <ul class="list _bullets"><li class="list__item" id="f9ed41e1"><p><span class="emphasis">None</span> to turn off the highlighting completely;</p></li><li class="list__item" id="06366783"><p><span class="emphasis">Syntax</span> to show syntax problems only;</p></li><li class="list__item" id="d041d181"><p><span class="emphasis">Inspections</span> (default) to show syntax problems and inspection issues.</p></li></ul>        </div>        <div class="chapter"><h3 id="power-save-mode">Toggle Power Save mode</h3>            <p id="b1cea4b0">As an alternative to configuring individual checks or files one by one, try <span class="control">Power Save Mode</span>. It disables all inspections and other highly-consuming background tasks for the entire IDE.</p>        <p id="a9f996e8">To enable <span class="control">Power Save Mode</span>, set the corresponding checkbox in the <span class="control">Hector</span> popup (see the screenshot above), or call <span data-skip-index="skip" class="menupath">File | Power Save Mode</span>.</p>        </div>       <div class="chapter"><h3 id="check-clangd">Check the Clangd-based engine</h3>           <p id="c6a0219d">CLion incorporates a complementary <a href="settings-languages-cpp-clangd.html">Clangd-based language engine</a> which is enabled by default. Currently, it works for error/warning annotation, certain navigation tasks, code formatting via <a href="clangformat-as-alternative-formatter.html">ClangFormat</a>, and code highlighting with quick-fixes.</p>           <p id="221f8223">In most cases, Clangd-based engine works faster than the built-in one (and sometimes provides more accurate results). However, <span class="emphasis">it is not used for all operations</span>. For example, Clangd provides the location for a quick-fix, while the fix itself is performed by the CLion’s own engine. Or, <span class="control">Find Usages</span> employs Clangd to search through the files currently opened in the editor and the CLion’s own engine for all other usages.</p>            <p id="7e30f197">We recommend you take Clangd engine specifics into account when investigating performance issues. Use <span data-skip-index="skip" class="menupath">Settings / Preferences | Languages &amp; Frameworks | C/C++ | Clangd</span> to experiment with the engine settings and see if they affect the performance on certain tasks.</p>                  </div>    </div>    <div class="chapter"><h2 id="speedup-indexing" data-toc="Performance_Tuning_Tips#speedup-indexing">Speed up indexing</h2>        <div class="chapter"><h3 id="exclude-dirs">Exclude directories and file types</h3>            <p id="e8b84f1b">            By default, CLion indexes all the directories listed in <span class="filepath">CMakeLists.txt</span> (sources and <code class="code">include_directories</code> paths) for the purpose of correct resolve. Meanwhile, your project may contain folders with binaries, logs, or build artifacts, which do not affect CLion’s code insight. Also, some folders’ indexing can be too expensive due to their size or location. So it is reasonable to exclude such folders manually: right-click the directory in the project tree and choose <span class="control">Mark Directory as.. | Excluded</span>.                <figure><img alt="mark directory as excluded" title="mark directory as excluded" src="/help/img/idea/2019.3/cl_markdir_excluded.png" id="64ef89db" width="574" height="172"></figure>            </p>            <p id="d6a80121">                Since the symbols from the excluded files remain uncompleted for CLion, the following features are not available for such files: code completion and auto-import (except for the case when the excluded directory is marked with <code class="code">include_directories</code> in <span class="filepath">CMakeLists.txt</span>), code generation, Find in Path (except for the scope of the currently opened files), navigation, and refactorings.            </p>            <p id="756d199a">                Another way to eliminate files like logs or generated data from indexing is to exclude them by file type in <span data-skip-index="skip" class="menupath">Settings / Preferences | Editor | File Types</span>:                <figure><img alt="ignored files types" title="ignored files types" src="/help/img/idea/2019.3/cl_ignore_files.png" id="9d0116e0" width="409" height="137"></figure>            </p>        </div>        <div class="chapter"><h3 id="cmake-subprojects">Work with smaller CMake sub-projects</h3>            <p id="324b6d34">The scope of files being parsed is determined by the loaded CMake script. So if your project is split into several subdirectories with self-contained <span class="filepath">CMakeLists.txt</span> in each of them, you can load smaller sub-projects separately (for this, run <span class="control">Load CMake project</span> on sub-CMakeLists.txt):            <figure><img alt="load CMake sub-projects" title="load CMake sub-projects" src="/help/img/idea/2019.3/cl_cmake_subprojects.png" id="1046821f" width="255" height="590"></figure>            </p>            <p id="924655b2">Another alternative for the case when you need to explore only a part of a big project is to create a <a href="compilation-database.html">compilation database</a>, reduce it to the part of interest, and then open as a project in CLion.</p>        </div>        <div class="chapter"><h3 id="clion-ide-macro">Eliminate heavy parsing with the _CLION_IDE__ macro</h3>            <p id="cc6027b7">IDE freezes may happen during the parsing of intricate preprocessor macros. To eliminate such problematic definitions from your code, replace them with some dummy ones using the <code class="code">__CLION_IDE__</code> macro:                <figure><img alt="CLion IDE macro" title="CLion IDE macro" src="/help/img/idea/2019.3/cl_idemacro.png" id="a76e9bc3" width="528" height="200"></figure>            </p>            <p id="a88b0053">This macro affects parsing only, and it is undefined when you build or run your code.</p>        </div>    </div>    <div class="chapter"><h2 id="report-problems" data-toc="Performance_Tuning_Tips#report-problems">Report performance problems</h2>        <p id="4bb068cf">If you experience an IDE freeze or high CPU/memory usage, and the tips listed above do not help, please provide us with the IDE logs, thread dumps, and snapshots. See <a href="https://intellij-support.jetbrains.com/hc/en-us/articles/207241235-Reporting-performance-problems" data-external="true" target="_blank" rel="noopener noreferrer">this instruction</a> for details on how to retrieve and send them.</p>    </div><div class="last-modified" data-skip-index="skip">Last modified: 1 December 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="icons-and-symbols.html">Icons and Symbols</a><a class="navigation-links__next" href="getting-help.html">Getting Help</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>