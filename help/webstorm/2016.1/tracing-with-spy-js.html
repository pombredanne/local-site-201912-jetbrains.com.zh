<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta name="robots" content="noindex"></meta><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><title>WebStorm 2016.1 Help :: Tracing with Spy-js</title><link rel="stylesheet" href="/help/app/app.css"></head><body data-id="Debugging_with_Spy-js"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><div class="wrapper"><section class="panel _nav"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search WebStorm Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header"><div class="container"><h3>WebStorm 2016.1 Help</h3><div class="shortcuts-switcher"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="primary" value="default" selected>Default (Windows/Linux)</option><option data-group="primary" value="default_for_gnome">GNOME</option><option data-group="primary" value="default_for_kde">KDE</option><option data-group="primary" value="default_for_xwin">XWindow</option><option data-group="primary" value="emacs">Emacs</option><option data-group="primary" value="visual_studio">Visual Studio</option><option data-group="primary" value="netbeans_6.5">NetBeans 6.5</option><option data-group="primary" value="eclipse">Eclipse</option><option data-group="secondary" value="mac_os_x_10.5_">Default (Mac OS X 10.5+)</option><option data-group="secondary" value="mac_os_x">OS X</option><option data-group="secondary" value="eclipse_mac_os_x">OS X Eclipse</option><option data-group="secondary" value="intellij_idea_classic_os_x">IntelliJ IDEA Classic (OS X)</option><option data-group="secondary" value="xcode">Xcode</option><option data-group="secondary" value="visual_studio">Visual Studio</option><option data-group="secondary" value="resharper">ReSharper</option><option data-group="secondary" value="resharper_osx">ReSharper OSX</option><option data-group="secondary" value="emacs">Emacs</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="true"><div class="navigation-links _top"><a class="navigation-links__prev" href="using-jetbrains-chrome-extension.html">Using JetBrains Chrome Extension</a><a class="navigation-links__next" href="inline-debugging.html">Inline Debugging</a></div><h1>Tracing with Spy-js</h1><a name="d43077e120"></a><p>
        <a name="d43077e122"></a><span class="emphasis">Spy-js</span> is a tool for JavaScript developers that allows to simply debug/trace/profile JavaScript running on different platforms/browsers/devices.
        The tool fills gaps that existing browser development tools have and tackles common development tasks from a different angle.
    </p><a name="d43077e126"></a><p>
        The tool also traces <a name="d43077e128"></a><span class="emphasis">NodeJS</span>, server-side, applications.
    </p><a name="d43077e132"></a><p>
        On this page:
    </p><ul><li class="list__item"><a href="#d43077e137">Preparing for Tracing with Spy-js</a></li><li class="list__item"><a href="#d43077e172">Spy-js Basics</a></li><li class="list__item"><a href="#d43077e279">Spy-js UI</a></li><li class="list__item"><a href="#d43077e316">Spy-js Tracing Session</a><ul class="list _bullet"><li class="list__item"><a href="#createRunConfiguration">Initiating a Spy-js Tracing Session</a><ul class="list _bullet"><li class="list__item"><a href="#d43077e323">Launching a tracing session of a Web application</a></li><li class="list__item"><a href="#d43077e432">Launching a tracing session of a NodeJS application</a></li></ul></li><li class="list__item"><a href="#d43077e546">Saving and Loading Tracing Sessions</a><ul class="list _bullet"><li class="list__item"><a href="#d43077e558">To save an image of a tracing session</a></li><li class="list__item"><a href="#d43077e578">To load an image of a previous tracing session</a></li></ul></li><li class="list__item"><a href="#d43077e635">Configuring the Range of Events to Display</a><ul class="list _bullet"><li class="list__item"><a href="#d43077e648">Defining a new event filter</a></li><li class="list__item"><a href="#d43077e666">Choosing a filter to apply</a></li><li class="list__item"><a href="#d43077e671">Creating exclusion rules on the fly</a></li><li class="list__item"><a href="#label">Setting Timestamp Labels</a></li></ul></li><li class="list__item"><a href="#d43077e719">Synchronization and Navigation between the Panes and the Editor</a><ul class="list _bullet"><li class="list__item"><a href="#d43077e728">Navigating from an event or a script to the trace file</a></li><li class="list__item"><a href="#d43077e766">Navigating from an event or script to the source file</a></li><li class="list__item"><a href="#d43077e795">Navigating from a function to its call</a></li><li class="list__item"><a href="#source_maps">Navigating through ECMAScript 6, TypeScript, or CoffeeScript</a></li><li class="list__item"><a href="#advancedNavigation">Advanced Trace Navigation</a></li><li class="list__item"><a href="#advancedSearch"></a></li></ul></li><li class="list__item"><a href="#autocompletion">Expanding the Basic Completion List with Runtime Data (Spy-js Autocompletion)</a><ul class="list _bullet"><li class="list__item"><a href="#d43077e1019">Activating Spy-js autocompletion</a></li></ul></li><li class="list__item"><a href="#magnification">Evaluating Expressions without Running a Debugging Session (Spy-js Magnification)</a><ul class="list _bullet"><li class="list__item"><a href="#d43077e1060">Activating Spy-js magnification</a></li></ul></li></ul></li><li class="list__item"><a href="#diagram">Viewing Dependency Diagrams</a></li></ul><a name="d43077e137"></a><h2>Preparing for Tracing with Spy-js</h2>
    <ol class="list _decimal"><li class="list__item"><a name="d43077e141"></a>
            Download and install <a name="d43077e143"></a><a href="http://nodejs.org/" data-external="true"><span>NodeJS</span></a> because it is used by the <a name="d43077e146"></a><span class="emphasis">Spy-js</span> trace server.
        </li><li class="list__item"><a name="d43077e150"></a>
             
             
                 
        Make sure the <a name="d7162e5450"></a><span class="emphasis">Spy-js</span> plugin is enabled.
         
        The plugin is bundled with WebStorm and activated by default.
        If the plugin is not activated, enable it on the <a name="d7162e5458"></a><a href="plugins-2.html"><span>Plugins</span></a> page of the <a name="d7162e5460"></a><a href="settings-preferences-dialog.html"><span>Settings / Preferences Dialog</span></a> as described in <a name="d7162e5462"></a><a href="enabling-and-disabling-plugins.html"><span>Enabling and Disabling Plugins</span></a>.
     
     
             
        </li></ol>
    <a name="d43077e172"></a><h2>Spy-js Basics</h2>
    <a name="d43077e174"></a><p>
        With <a name="d43077e176"></a><span class="emphasis">Spy-js</span>, you can trace both Web applications and <a name="d43077e179"></a><span class="emphasis">NodeJS</span> applications. Although the <a name="d43077e182"></a><span class="emphasis">Spy-js</span> UI in either case is the same,
        the mechanisms of the tracing differ.
    </p>
    <a name="d43077e186"></a><p>
        In order to trace a script, <a name="d43077e188"></a><span class="emphasis">Spy-js</span> has to modify it on the fly. The modification does not affect the logic of the script,
        it is just inserting instrumentation instructions that report back to <a name="d43077e191"></a><span class="emphasis">Spy-js</span> UI about what functions have been invoked when the script executes.
    </p>
    <ul class="list _bullet"><li class="list__item"><a name="d43077e197"></a>
            To modify <a name="d43077e199"></a><span class="emphasis">website scripts</span>, <a name="d43077e202"></a><span class="emphasis">Spy-js</span> has to act as a proxy server that "sits" between your browser and the website you are tracing.
            When you open a traced website in your browser, <a name="d43077e205"></a><span class="emphasis">Spy-js</span> receives the script request, requests the script from your website, receives the script,
            makes the required modifications, and sends it back to your browser where the script executes, and sends the runtime information to the <a name="d43077e208"></a><span class="emphasis">Spy-js</span> UI.
            <a name="d43077e211"></a><p>
                The proxy server can be configured automatically by selecting the <a name="d43077e213"></a><span class="control">Automatically configure system proxy</span> check box in the <a name="d43077e216"></a><a href="run-debug-configuration-spy-js.html"><span>Run/Debug Configuration: Spy-Js</span></a> dialog
                or manually.
                 
                            See how to configure proxy settings manually on <a name="d43169e138"></a><a href="http://answers.oreilly.com/topic/675-how-to-configure-proxy-settings-in-windows-7/" data-external="true"><span>Windows</span></a>,
                            <a name="d43169e141"></a><a href="http://support.apple.com/kb/PH7050" data-external="true"><span>Mac</span></a>, <a name="d43169e144"></a><a href="http://www.ubuntugeek.com/how-to-configure-ubuntu-desktop-to-use-your-proxy-server.html" data-external="true"><span>Ubuntu</span></a>,
                            <a name="d43169e147"></a><a href="http://www.allanonymity.com/billing/knowledgebase/11/How-to-configure-proxy-usage-for-iPadorIphone.html" data-external="true"><span>iOS</span></a>,
                            <a name="d43169e150"></a><a href="http://support.tabpilot.com/customer/portal/articles/937845-how-to-set-proxy-server-settings-in-android" data-external="true"><span>Android</span></a>,
                            <a name="d43169e154"></a><a href="http://forum.xda-developers.com/showthread.php?t=1106268" data-external="true"><span>Windows Phone</span></a>.
                            Please note that some desktop browsers have their own screens for proxy settings configuration.
                         
            </p>
        </li><li class="list__item"><a name="d43077e222"></a>
            In case of a <a name="d43077e224"></a><span class="emphasis">NodeJS application</span>, <a name="d43077e227"></a><span class="emphasis">Spy-js</span> cannot get between the <a name="d43077e230"></a><span class="emphasis">NodeJS server</span> and the scripts if the application is already running.
            Therefore to trace a <a name="d43077e233"></a><span class="emphasis">NodeJS application</span>, <a name="d43077e236"></a><span class="emphasis">spy-js</span> launches the <a name="d43077e240"></a><span class="emphasis">NodeJS</span> server and the application itself.
            This enables <a name="d43077e243"></a><span class="emphasis">Spy-js</span> to intercept and modify script requests and scripts, whereupon the tracing procedure runs as when tracing a website script.
        </li></ul>
        <a name="d43077e248"></a><p>
            You can also trace applications with <a name="d43077e250"></a><span class="emphasis">ECMASript6</span>, <a name="d43077e253"></a><span class="emphasis">CoffeeScript</span>,
            and <a name="d43077e256"></a><span class="emphasis">TypeScript</span> code:
            <a name="d43077e259"></a><span class="emphasis">Spy-js</span> recognizes <a name="d43077e262"></a><span class="emphasis">source maps</span> that set correspondence between the original code
            and the JavaScript code generated during transpilation, see <a name="d43077e266"></a><a href="using-file-watchers.html"><span>Using File Watchers</span></a> for details.
        </p>
    <a name="d43077e269"></a><p>
        A <a name="d43077e271"></a><span class="emphasis">Spy-js</span> session is initiated from WebStorm through a run configuration, see <a name="d43077e274"></a><a href="#createRunConfiguration"><span>Initiating a Spy-js Session</span></a>.
    </p>
    <a name="d43077e279"></a><h2>Spy-js UI</h2>
    <a name="d43077e281"></a><p>
            All the tracing-related activities, such as viewing captured events, examining their call stacks, navigating to the source code, etc.
            are performed in the dedicated  <a name="d43077e283"></a><a href="spy-js-tool-window.html"><span>Spy-Js Tool Window</span></a>, in particular in its <a name="d43077e285"></a><a href="trace-run-tab.html"><span>Trace Run Tab</span></a>.

        The tab consists of a toolbar and three panes:
    </p>
    <ul class="list _bullet"><li class="list__item"><a name="d43077e290"></a>
            <a name="d43077e292"></a><span class="control">Events Pane</span>
             
    <a name="d43236e382"></a><p>
        The pane shows a tree of captured events. The top-level nodes represent <a name="d43236e384"></a><span class="emphasis">documents</span> that are Web pages involved in tracing.
        When you hover the mouse over a <a name="d43236e387"></a><span class="emphasis">document</span>, WebStorm displays a tooltip with the URL address of the <a name="d43236e390"></a><span class="emphasis">document</span>, the browser in which it is opened,
        and the operating system the browser is running on. The <a name="d43236e393"></a><span class="emphasis">document</span> node is also supplied with an icon that indicates the browser in which it is opened.
    </p>
    <a name="d43236e397"></a><p>
        Under each <a name="d43236e399"></a><span class="emphasis">document</span> node, events detected on the page and scripts started from it are listed.
        Events of the same type are grouped into visual containers. The header of a container displays the name of the events grouped in it,
        the average execution time across all the events within the container, and the number of events inside the container.
        You can expand each node  and inspect the individual events in it.
    </p>
    <a name="d43236e403"></a><p>
        Script file names have different colour indicators to help distinguishing between them when working with the <a name="d43236e405"></a><span class="control">Event Stack</span> pane.
        By hovering your mouse over a script file name, you can see the full script URL.
    </p>
    <a name="d43236e409"></a><p>
        Once an event is clicked, its call stack is displayed in the <a name="d43236e411"></a><span class="control">Event Stack</span> pane. The stack is represented by a tree of function calls.
    </p>
     
        </li><li class="list__item"><a name="d43077e298"></a>
            <a name="d43077e300"></a><span class="control">Event Stack Pane</span>
             
    <a name="d43236e767"></a><p>
        Once an event in the <a name="d43236e769"></a><span class="control">Events</span> pane is clicked, its call stack is displayed in the <a name="d43236e772"></a><span class="control">Event Stack</span> pane. The stack is represented by a tree of function calls.
        Each tree node represents the invoked function. Node text contains the total execution time, the script file name and the function name.
        When you click a node, the <a name="d43236e775"></a><span class="control">Quick Evaluation</span> pane shows additional function call details, parameter values and return value,
        occurred exception details if there was one during the function execution.
    </p>
 
    <a name="d43236e781"></a><p>
        The pane is synchronized with the editor, so you can navigate from an item in the stack tree to the corresponding <a name="d43236e783"></a><span class="emphasis">trace file</span> or <a name="d43236e786"></a><span class="emphasis">source file</span>.
        <ul class="list _bullet"><li class="list__item"><a name="d43236e791"></a>
                 
                A <a name="d43236e795"></a><span class="emphasis">trace file</span> is a write-protected prettified version of the script selected in the <a name="d43236e798"></a><span class="control">Events</span> pane
                or the script whose function is double clicked in the <a name="d43236e801"></a><span class="control">Event Stack</span> pane. A <a name="d43236e804"></a><span class="emphasis">trace file</span> is named <code class="code" data-lang="Java">&lt;file name&gt;.js.trace</code>.
                 
                When you double click an item in the stack tree or select it and choose <a name="d43236e811"></a><span class="control">Jump to Trace</span> on the context menu of the selection,
                the corresponding <a name="d43236e814"></a><span class="emphasis">trace file</span> opens in the editor with the cursor positioned at the clicked function.
                Another approach is to press the <a name="d43236e817"></a><span class="control">Autoscroll to Trace</span> toggle button and select various stack nodes.
                In this case, the trace file opens when you click an event or script in the <a name="d43236e820"></a><span class="control">Events</span> pane.
                <a name="d43236e824"></a><p>
                    You can not only jump to a function but also to the place in the code where it was called from. To do that, select the required item
                    and choose <a name="d43236e826"></a><span class="control">Jump to Caller</span> on the context menu.
                </p>
                <a name="d43236e830"></a><p>
                    The contents of the file are highlighted to display the code execution path of the selected stack node.
                </p>
            </li><li class="list__item"><a name="d43236e834"></a>
                When you are tracing an application with <a name="d43236e836"></a><span class="emphasis">ECMASript6</span>, <a name="d43236e839"></a><span class="emphasis">CoffeeScript</span>,
                and <a name="d43236e842"></a><span class="emphasis">TypeScript</span> code,
                 
        <a name="d43321e426"></a><span class="emphasis">Spy-js</span> also generates <a name="d43321e429"></a><span class="emphasis">mapped trace files</span>. These are <a name="d43321e432"></a><span class="emphasis">EcmaScript 6</span>, <a name="d43321e435"></a><span class="emphasis">TypeScript</span>,
        or <a name="d43321e438"></a><span class="emphasis">CoffeeScript</span> trace files with the extensions <code class="code" data-lang="Java">.ts.trace</code>, <code class="code" data-lang="Java">.coffee.trace</code>,
        or <code class="code" data-lang="Java">.js.trace</code>. The fragments of code in these files are highlighted as if they were really executed.
     
            </li><li class="list__item"><a name="d43236e848"></a>
                 
                You can also navigate to the <a name="d43236e852"></a><span class="emphasis">source file</span> displayed as is, without prettifying,
                  by selecting an item in the <a name="d43236e856"></a><span class="control">Event Stack</span> pane
                and choosing <a name="d43236e859"></a><span class="control">Jump to Source</span> on the context menu of the selection.
                 
                        If the traced site is mapped with a WebStorm project, WebStorm detects the corresponding local file
                        according to the mapping and opens this file in the editor. If you are tracing a site that is not mapped to a WebStorm project, WebStorm opens the read-only <a name="d43236e864"></a><span class="emphasis">page source</span>,
                        just as if you chose <a name="d43236e867"></a><span class="control">View Page Source</span> in the browser.
                 
                 
                    <a name="d43236e873"></a><p>
                        When the traced site is mapped with a WebStorm project, WebStorm opens the <a name="d43236e875"></a><span class="emphasis">source file</span> on any attempt to edit the opened <a name="d43236e878"></a><span class="emphasis">trace file</span>.
                    </p>
                 

            </li></ul>
    </p>

     
     
        </li><li class="list__item"><a name="d43077e306"></a>
            <a name="d43077e308"></a><span class="control">Quick Evaluation Pane</span>
             
    <a name="d43236e1086"></a><p>
        When you click a node in the <a name="d43236e1088"></a><span class="control">Event Stack</span> pane, the <a name="d43236e1091"></a><span class="control">Quick Evaluation</span> pane shows additional function call details,
        parameter values and return value, occurred exception details if there was one during the function execution.
    </p>
     
        </li></ul>
    <a name="d43077e316"></a><h2>Spy-js Tracing Session</h2>
    <a name="createRunConfiguration"></a><h3>Initiating a Spy-js Tracing Session</h3>
        <a name="d43077e320"></a><p>
            The way you initiate a tracing session depends on the type of the application you are going to trace.
        </p>

    <a name="d43077e323"></a><a name="dynaProc0"></a><section class="procedure-steps"><h2>Launching a tracing session of a Web application</h2><p>
            <a name="d43077e327"></a><p>
                To a trace an application with <a name="d43077e329"></a><span class="emphasis">CoffeeScript</span> or <a name="d43077e332"></a><span class="emphasis">TypeScript</span> code,
                you need to transpile the original code into JavaScript,
                see <a name="d43077e335"></a><a href="transpiling-coffeescript-to-javascript.html"><span>and</span></a><a name="d43077e337"></a><a href="transpiling-typescript-to-javascript.html"><span>Transpiling TypeScript to JavaScript</span></a> for details.
            </p>
        </p><ol class=".list _decimal"><li class="list__item">
            Create a run configuration of the type <a name="d43077e343"></a><span class="emphasis">Spy-js</span>. To do that, choose <a name="d43077e346"></a><span class="menupath">Run | Edit Configurations</span> on the main menu, click the <a name="d43077e349"></a><span class="control">Add New Configuration</span> toolbar button <img alt="add.png" width="12" height="12" title="add.png" src="/help/img/idea/2016.1/new.png" class="inline-icon-12">,
            and choose <a name="d43077e354"></a><span class="control">Spy-js</span> on the context menu. In the <a name="d43077e358"></a><a href="run-debug-configuration-spy-js.html"><span>Run/Debug Configuration: Spy-Js</span></a> dialog box that opens, specify the following:
            <ol class="list _decimal"><li class="list__item"><a name="d43077e362"></a>
                    The location of the Node interpreter.
                </li><li class="list__item"><a name="d43077e365"></a>
                    The <a name="d43077e367"></a><span class="emphasis">trace server port</span>.
                     
        This port number must be the same as your system proxy port.
        If the <a name="d43321e204"></a><span class="control">Automatically configure system proxy</span> check box is selected, the specified port number is automatically set for the system proxy server.
        Otherwise you will have to specify the value of the field in the system proxy settings manually.
        <a name="d43321e207"></a><p>
            The <a name="d43321e209"></a><span class="emphasis">trace server port</span> is filled in automatically. To avoid port conflicts, it is recommended that you accept the suggested value
            and keep the <a name="d43321e212"></a><span class="control">Automatically configure system proxy</span> check box selected.
        </p>
     
                </li><li class="list__item"><a name="d43077e373"></a>
                    The way to configure the proxy server.
                    <a name="d43077e375"></a><p>
                        To have the system proxy server activated automatically with the port specified in the <a name="d43077e377"></a><span class="control">Trace server port</span> field,
                        select the <a name="d43077e380"></a><span class="control">Automatically configure system proxy</span> check box.
                    </p>
                    <a name="d43077e384"></a><p>
                        Clear the <a name="d43077e386"></a><span class="control">Automatically configure system proxy</span> check box to specify proxy settings manually.
                         
                            See how to configure proxy settings manually on <a name="d43169e138"></a><a href="http://answers.oreilly.com/topic/675-how-to-configure-proxy-settings-in-windows-7/" data-external="true"><span>Windows</span></a>,
                            <a name="d43169e141"></a><a href="http://support.apple.com/kb/PH7050" data-external="true"><span>Mac</span></a>, <a name="d43169e144"></a><a href="http://www.ubuntugeek.com/how-to-configure-ubuntu-desktop-to-use-your-proxy-server.html" data-external="true"><span>Ubuntu</span></a>,
                            <a name="d43169e147"></a><a href="http://www.allanonymity.com/billing/knowledgebase/11/How-to-configure-proxy-usage-for-iPadorIphone.html" data-external="true"><span>iOS</span></a>,
                            <a name="d43169e150"></a><a href="http://support.tabpilot.com/customer/portal/articles/937845-how-to-set-proxy-server-settings-in-android" data-external="true"><span>Android</span></a>,
                            <a name="d43169e154"></a><a href="http://forum.xda-developers.com/showthread.php?t=1106268" data-external="true"><span>Windows Phone</span></a>.
                            Please note that some desktop browsers have their own screens for proxy settings configuration.
                         
                    </p>
                </li><li class="list__item"><a name="d43077e393"></a>
                    From the <a name="d43077e395"></a><span class="control">Use</span> dropdown list, choose the way to specify the way to configure a tracing session.
                     
        <ul class="list _bullet"><li class="list__item"><a name="d43321e151"></a>
                To have <a name="d43321e153"></a><span class="emphasis">Spy-js</span> apply its internal predefined configuration, choose <a name="d43321e156"></a><span class="control">Default configuration</span>.
            </li><li class="list__item"><a name="d43321e160"></a>
                To have your custom manually created configuration applied, choose the <a name="d43321e162"></a><span class="control">Configuration file</span> option and then specify the location of your custom configuration file in the
                <a name="d43321e165"></a><span class="control">Configuration</span> field below.
                 
        <a name="d43321e175"></a><p>
            A <a name="d43321e177"></a><span class="emphasis">configuration file</span> is a JavaScript file with the extension <code class="code" data-lang="Java">.js</code> or <code class="code" data-lang="Java">.conf.js</code>
            that contains valid JavaScript code that meets the <a name="d43321e186"></a><a href="https://github.com/spy-js/spy-js#configuration" data-external="true"><span>Spy-js configuration requirements</span></a>.
            If WebStorm detects files with the extension <code class="code" data-lang="Java">.conf.js</code> in the project, these files are displayed in the drop-down list.
        </p>
        <a name="d43321e193"></a><p>
            Type the path to the configuration file manually or click the <a name="d43321e195"></a><span class="control">Browse</span> button <img alt="browseButton" width="15" height="15" title="browseButton" src="/help/img/idea/2016.1/browseButton.png" class="inline-icon-15"> and choose the location in the dialog box that opens.
            Once specified, a configuration file is added to the drop-down list so you can get if next time from the list instead of specifying the path.
        </p>
     
            </li></ul>
     
                </li></ol>
        </li><li class="list__item">
            To launch a tracing session, click the <a name="d43077e405"></a><span class="control">Run</span> toolbar button <img alt="run" width="11" height="14" title="run" src="/help/img/idea/2016.1/run.png" class="inline-icon-14">.  The <a name="d43077e410"></a><a href="spy-js-tool-window.html"><span>Spy-Js Tool Window</span></a> opens with an empty <a name="d43077e412"></a><span class="control">Trace Run</span> tab
            and a <a name="d43077e415"></a><span class="control">Trace Proxy Server</span> tab informing you about the status of the proxy server.
        </li><li class="list__item">
            Switch to the browser and refresh the page to start debugging from. <a name="d43077e421"></a><span class="emphasis">Spy-js</span> starts capturing events on this page
            and the <a name="d43077e424"></a><span class="control">Spy-js</span> tool window shows them in the <a name="d43077e427"></a><span class="control">Events</span> pane.
        </li></ol></section>

        <a name="d43077e432"></a><a name="dynaProc1"></a><section class="procedure-steps"><h2>Launching a tracing session of a NodeJS application</h2><ol class=".list _decimal"><li class="list__item">
                Create a run configuration of the type <a name="d43077e436"></a><span class="emphasis">Spy-js for NodeJS</span>.
                To do that, choose <a name="d43077e439"></a><span class="menupath">Run | Edit Configurations</span> on the main menu, click the <a name="d43077e442"></a><span class="control">Add New Configuration</span> toolbar button <img alt="add.png" width="12" height="12" title="add.png" src="/help/img/idea/2016.1/new.png" class="inline-icon-12">,
                and choose <a name="d43077e447"></a><span class="control">Spy-js for NodeJS</span> on the context menu.
                In the <a name="d43077e451"></a><a href="run-debug-configuration-spy-js-for-node-js.html"><span>Run/Debug Configuration: Spy-js for NodeJS</span></a> dialog box that opens, specify the following:
                <ol class="list _decimal"><li class="list__item"><a name="d43077e456"></a>
                        The location of the <a name="d43077e458"></a><span class="emphasis">Node interpreter</span>.
                    </li><li class="list__item"><a name="d43077e462"></a>
                        The <a name="d43077e464"></a><span class="emphasis">Node parameters</span>, that is, the NodeJS-specific command line options to be passed to the NodeJS executable file.
                         
        For example, to enable tracing
        <a name="d43321e220"></a><a href="http://wiki.ecmascript.org/doku.php?id=harmony:specification_drafts" data-external="true"><span>ECMAScript 6</span></a> scripts,
        specify <code class="code" data-lang="Java">--harmony</code> as a Node parameter. Note that Node.js must be version 0.11.13 or higher.
     
                    </li><li class="list__item"><a name="d43077e470"></a>
                        The <a name="d43077e472"></a><a href="http://en.wikipedia.org/wiki/Working_directory" data-external="true"><span>working directory</span></a> of the application.
                         
        All references in the <a name="d43321e13"></a><span class="emphasis">starting NodeJS application file</span>, for example, <a name="d43321e16"></a><span class="emphasis">includes</span>,
        will be resolved relative to this folder, unless such references use full paths.
        <a name="d43321e19"></a><p>
            By default, the field shows the <a name="d43321e21"></a><span class="emphasis">project root folder</span>. To change this predefined setting,
            choose the desired folder from the drop-down list, or type the path manually, or click the <a name="d43321e24"></a><span class="control">Browse</span> button <img alt="browseButton.png" width="15" height="15" title="browseButton.png" src="/help/img/idea/2016.1/browseButton.png" class="inline-icon-15">
            and select the location in the dialog box, that opens.
        </p>
     
                    </li><li class="list__item"><a name="d43077e478"></a>
                        The <a name="d43077e480"></a><span class="emphasis">JavaScript file</span> to start the application with.
                         
        <a name="d43321e37"></a><p>
            If you are going to trace CoffeeScript, specify the path to the generated JavaScript file. The file can be generated externally
            or through transpilation using file watchers. For more details, see <a name="d43321e39"></a><a href="transpiling-coffeescript-to-javascript.html"><span>Transpiling CoffeeScript to JavaScript</span></a>.
        </p>
             
                    </li><li class="list__item"><a name="d43077e493"></a>
                        The <a name="d43077e495"></a><span class="emphasis">application parameters</span>:
                         
        the NodeJS-specific arguments to be passed to the <a name="d43321e51"></a><a href="lib_spy_js.html#start_file"><span>starting NodeJS application file</span></a>
        through the <a name="d43321e54"></a><a href="http://nodejs.org/docs/latest/api/process.html#process.argv" data-external="true"><span>process.argv</span></a> array.
     
                    </li><li class="list__item"><a name="d43077e502"></a>
                        The <a name="d43077e504"></a><a href="http://en.wikipedia.org/wiki/Environment_variable" data-external="true"><span>environment variables</span></a> for the NodeJS executable file, if applicable.
                        See <a name="d43077e507"></a><a href="run-debug-configuration-spy-js-for-node-js.html"><span>Run/Debug Configuration: Spy-Js for Node.js</span></a> for details.
                    </li><li class="list__item"><a name="d43077e510"></a>
                        The <a name="d43077e512"></a><span class="emphasis">configuration file </span> with the configuration settings to apply to the tracing session.
                         
        <a name="d43321e175"></a><p>
            A <a name="d43321e177"></a><span class="emphasis">configuration file</span> is a JavaScript file with the extension <code class="code" data-lang="Java">.js</code> or <code class="code" data-lang="Java">.conf.js</code>
            that contains valid JavaScript code that meets the <a name="d43321e186"></a><a href="https://github.com/spy-js/spy-js#configuration" data-external="true"><span>Spy-js configuration requirements</span></a>.
            If WebStorm detects files with the extension <code class="code" data-lang="Java">.conf.js</code> in the project, these files are displayed in the drop-down list.
        </p>
        <a name="d43321e193"></a><p>
            Type the path to the configuration file manually or click the <a name="d43321e195"></a><span class="control">Browse</span> button <img alt="browseButton" width="15" height="15" title="browseButton" src="/help/img/idea/2016.1/browseButton.png" class="inline-icon-15"> and choose the location in the dialog box that opens.
            Once specified, a configuration file is added to the drop-down list so you can get if next time from the list instead of specifying the path.
        </p>
     
                    </li><li class="list__item"><a name="d43077e518"></a>
                        The <a name="d43077e520"></a><span class="emphasis">trace server port</span>.
                         
        This port number must be the same as your system proxy port.
        If the <a name="d43321e204"></a><span class="control">Automatically configure system proxy</span> check box is selected, the specified port number is automatically set for the system proxy server.
        Otherwise you will have to specify the value of the field in the system proxy settings manually.
        <a name="d43321e207"></a><p>
            The <a name="d43321e209"></a><span class="emphasis">trace server port</span> is filled in automatically. To avoid port conflicts, it is recommended that you accept the suggested value
            and keep the <a name="d43321e212"></a><span class="control">Automatically configure system proxy</span> check box selected.
        </p>
     
                    </li></ol>
            </li><li class="list__item">
                To launch a tracing session, click the <a name="d43077e530"></a><span class="control">Run</span> toolbar button <img alt="run" width="11" height="14" title="run" src="/help/img/idea/2016.1/run.png" class="inline-icon-14">. The <a name="d43077e535"></a><span class="emphasis">Spy-js</span> tool and the NodeJS application start.
                The <a name="d43077e538"></a><a href="spy-js-tool-window.html"><span>Spy-Js Tool Window</span></a> opens showing the captured events in the <a name="d43077e540"></a><span class="control">Trace Run</span> tab.
            </li></ol></section>
     

    <a name="d43077e546"></a><h3>Saving and Loading Tracing Sessions</h3>
        <a name="d43077e548"></a><p>
            You can save an image of a tracing session and load this image at any time later.
             
        The <code class="code" data-lang="Java">.json</code> files that store the calls and properties of the session
        are compressed into a <code class="code" data-lang="Java">zip</code> archive. Upon request, when you choose <a name="d43321e235"></a><span class="control">Load trace</span>,
        the <code class="code" data-lang="Java">.json</code> files are extracted from the archive and loaded into <a name="d43321e241"></a><span class="emphasis">Spy-js</span>.
     
        </p>
        <a name="d43077e553"></a><p>
             
        Note that a loaded image does not restore the session because no scripts are actually executed. All you can do is analyze the flow and properties of previously executed code.
     
        </p>
        <a name="d43077e558"></a><a name="dynaProc2"></a><section class="procedure-steps"><h2>To save an image of a tracing session</h2><ul class=".list "><li class="list__item">
                Click the <img alt="cogwheel_blue" width="21" height="20" title="cogwheel_blue" src="/help/img/idea/2016.1/cogwheel_blue.png" class="inline-icon-20"> button on the <a name="d43077e564"></a><span class="control">Events</span> toolbar, and then choose <a name="d43077e567"></a><span class="control">Save trace</span> from the list.
                WebStorm compresses all the affected <code class="code" data-lang="Java">.json</code> files in a <code class="code" data-lang="Java">zip</code> archive and opens the folder where the archive is saved.
            </li></ul></section>

        <a name="d43077e578"></a><a name="dynaProc3"></a><section class="procedure-steps"><h2>To load an image of a previous tracing session</h2><ol class=".list _decimal"><li class="list__item">
                Initiate a tracing session of the same type as the session you are going to load the image of: a <a name="d43077e582"></a><span class="emphasis">Spy-js</span> or a <a name="d43077e585"></a><span class="emphasis">Spy-js for NodeJS</span> respectively,
                see <a name="d43077e588"></a><a href="#createRunConfiguration"><span>Initiating a Spy-js Tracing Session</span></a> above.
                We need to have this <a name="d43077e591"></a><span class="emphasis">fake</span> session running because otherwise <a name="d43077e594"></a><span class="emphasis">Spy-js</span> would be inactive
                and thus the <a name="d43077e598"></a><span class="emphasis">load trace</span> functionality would be unavailable.
                <a name="d43077e601"></a><p>
                    Of course you can load a trace while actually tracing an application, but in this case the currently running session will be lost after loading.
                </p>
            </li><li class="list__item">
                When the session starts, click the <img alt="cogwheel_blue" width="21" height="20" title="cogwheel_blue" src="/help/img/idea/2016.1/cogwheel_blue.png" class="inline-icon-20"> button on the <a name="d43077e609"></a><span class="control">Events</span> toolbar and choose <a name="d43077e612"></a><span class="control">Load Trace</span> from the list.
            </li><li class="list__item">
                In the dialog box that opens, choose the location of the <code class="code" data-lang="Java">zip</code> archive with the image of the desired session.
                <a name="d43077e621"></a><span class="emphasis">Spy-js </span> stops the running and shows the loaded trace in a new tab named <a name="d43077e624"></a><span class="control">Loaded &lt;loaded session&gt;</span>.
                <a name="d43077e627"></a><p>
                     
        Note that a loaded image does not restore the session because no scripts are actually executed. All you can do is analyze the flow and properties of previously executed code.
     
                </p>
            </li></ol></section>
     

    <a name="d43077e635"></a><h3>Configuring the Range of Events to Display</h3>
        <a name="d43077e637"></a><p>
             
                    By default, the <a name="d43236e595"></a><span class="emphasis">Spy-js</span> tool captures all events on all opened Web pages, excluding <a name="d43236e598"></a><span class="emphasis">https secure</span> web sites,
                    unless you have specified a URL address explicitly in the run configuration.
                    The <a name="d43236e601"></a><span class="control">Events</span> pane of the <a name="d43236e604"></a><span class="control">Spy-js</span> tool window shows all captured events.
                    If for some reasons you do not want to have all events captured, you can suppress capturing some of them by applying user-defined event filters.
                 
             
                    All the available filters are listed upon clicking the <a name="d43236e610"></a><span class="control">Capture Events</span> button <img alt="iconFilter" width="21" height="19" title="iconFilter" src="/help/img/idea/2016.1/iconFilter.gif" class="inline-icon-19"> on the toolbar, the currently applied filter is marked with a tick.
                    By default the <a name="d43236e615"></a><span class="control">Capture All</span> predefined filter is applied.
                 
             
        To stop capturing events without stopping the application, choose <a name="d43321e466"></a><span class="control">Mute All</span>.
        The application is still running but the <a name="d43321e469"></a><span class="control">Events</span> pane shows the last captured event.
        This is helpful if you want to analyze a script and therefore need it to be displayed in the <a name="d43321e472"></a><span class="control">Events</span> pane
        instead of being removed as new events are captured.
     
             
                    You can define new custom filters or add event patterns to existing filters on the fly.
                     
                 
        </p>

        <a name="d43077e648"></a><a name="dynaProc4"></a><section class="procedure-steps"><h2>Defining a new event filter</h2><ol class=".list _decimal"><li class="list__item">
                 
                        Click the <a name="d43236e639"></a><span class="control">Capture Events</span> button <img alt="iconFilter" width="21" height="19" title="iconFilter" src="/help/img/idea/2016.1/iconFilter.gif" class="inline-icon-19"> on the toolbar, and then choose <a name="d43236e644"></a><span class="control">Edit Capture Exclusions</span> from the list.
                     
            </li><li class="list__item">
                 
                        In the <a name="d43236e653"></a><a href="spy-js-capture-exclusions-dialog.html"><span>Spy-Js Capture Exclusions Dialog</span></a> that opens, click the <a name="d43236e655"></a><span class="control">Add</span> toolbar button <img alt="add" width="12" height="12" title="add" src="/help/img/idea/2016.1/new.png" class="inline-icon-12"> in the left-hand pane.
                     
            </li><li class="list__item">
                 
                        In the right-hand pane, specify the filter name in the <a name="d43236e666"></a><span class="control">Exclusion name</span> field
                        and configure a list of exclusion rules.
                        <a name="d43236e669"></a><p>
                             
                                To add a rule, click <img alt="add" width="12" height="12" title="add" src="/help/img/idea/2016.1/new.png" class="inline-icon-12">, the <a name="d43236e675"></a><span class="control">Add Condition to Exclusion</span> dialog box opens.
                                Type a pattern in the <a name="d43236e678"></a><span class="control">Value/pattern</span> text box, in the<a name="d43236e681"></a><span class="control">Condition type</span> drop-down list
                                specify whether the pattern should be applied to event types or script names. Note, that <a name="d43236e684"></a><a href="http://en.wikipedia.org/wiki/Glob_(programming)" data-external="true"><span>glob pattern matching</span></a> is used.
                                When you click <a name="d43236e688"></a><span class="control">OK</span>, WebStorm brings you to the <a name="d43236e691"></a><a href="spy-js-capture-exclusions-dialog.html"><span>Spy-Js Capture Exclusions Dialog</span></a>.
                             
                        </p>
                        <a name="d43236e695"></a><p>
                            To edit a rule, select it in the list, click <img alt="edit1" width="12" height="12" title="edit1" src="/help/img/idea/2016.1/editFlexLibraryNew.png" class="inline-icon-12">, and update the rule in the dialog box that opens.
                            To remove a rule, select it in the list and click <img alt="delete" width="12" height="12" title="delete" src="/help/img/idea/2016.1/delete.png" class="inline-icon-12">.
                        </p>
                     
            </li></ol></section>

        <a name="d43077e666"></a>

        <a name="d43077e671"></a><a name="dynaProc6"></a><section class="procedure-steps"><h2>Creating exclusion rules on the fly</h2><p>
                <a name="d43077e675"></a><p>
                     
                            While navigating through the tree of already captured events in the <a name="d43236e725"></a><span class="control">Events</span> pane, you may come across some events or scripts that you definitely do not want to trace.
                            You can create a filter as described above but in this case you will have to leave the pane. With WebStorm, you can create an exclusion rule based on any event or script,
                            as soon as you have detected such event or script, right from the <a name="d43236e728"></a><span class="control">Events</span> pane.
                            The rule will be either added to the currently applied filter or a new filter will be created if the current setting is <a name="d43236e731"></a><span class="control">Capture All</span>.
                         
                </p>
            </p><ul class=".list "><li class="list__item">
                 
            To add an event to an exclusion filter on the fly, select the event to exclude and choose <a name="d43236e741"></a><span class="control">Mute &lt;event name&gt; event</span> or <a name="d43236e744"></a><span class="control">Mute &lt;script name&gt; file</span>.
             
            </li></ul><p class="procIntro">
                <a name="d43077e683"></a><p>
                     
                If a user-defined filter is currently applied, the new rule is added to it silently.
                If <a name="d43236e752"></a><span class="control">Capture All</span> is currently active, the <a name="d43236e755"></a><a href="spy-js-capture-exclusions-dialog.html"><span>Spy-Js Capture Exclusions Dialog</span></a> opens, where you can create a new filter based on the selected event
                or script or choose an existing filter and add the new rule to it.
                 
                </p>
            </p></section>

        <a name="label"></a><a name="dynaProc7"></a><section class="procedure-steps"><h2>Setting Timestamp Labels</h2><p>
                <a name="d43077e699"></a><p>
                     
        Timestamp labels help you to analyze your code execution within a specific period of time.
        For example, you can set two timestamp labels and view which events were captured between them.
        Or on the contrary, you can locate the events that were not captured within a certain period of time although you expected them to be
        and thus detect performance problems.
     
                </p>
            </p><ul class=".list "><li class="list__item">
                To set a timestamp label, choose <a name="d43077e707"></a><span class="control">Add Label</span> on the context menu in the <a name="d43077e710"></a><span class="control">Events</span> pane.
                A label <a name="d43077e713"></a><span class="emphasis">Labelled at &lt;timestamp&gt;</span> is added under the document node.
            </li></ul></section>

     

    <a name="d43077e719"></a><h3>Synchronization and Navigation between the Panes and the Editor</h3>
     
    <a name="d43236e1030"></a><p>
        The <a name="d43236e1032"></a><span class="control">Events</span> and <a name="d43236e1035"></a><span class="control">Event Stack</span> panes are synchronized: when you click an event or script in the <a name="d43236e1038"></a><span class="control">Events</span> pane,
        its call stack is displayed in the <a name="d43236e1041"></a><span class="control">Event Stack</span> pane. To have also the corresponding trace file opened in the editor,
        press the  <a name="d43236e1044"></a><span class="control">Autoscroll to Trace</span> toggle button on the toolbar.
    </p>
    <a name="d43236e1048"></a><p>
        The <a name="d43236e1050"></a><span class="control">Event Stack</span> pane is synchronized with the editor: when you click an item in the stack tree twice,
        the corresponding trace file opens in the editor with the cursor positioned at the clicked function.
    </p>
     
    <a name="d43077e723"></a><p>
         
        To synchronize the <a name="d43236e1059"></a><span class="control">Events</span> pane directly with the editor, press the <a name="d43236e1062"></a><span class="control">Autoscroll to Trace</span> toggle button on the toolbar.
        In this case, as soon as you click a node in the <a name="d43236e1065"></a><span class="control">Events</span> pane, its call stack is displayed in the <a name="d43236e1068"></a><span class="control">Event Stack</span> pane
        and the corresponding trace file is opened in the editor.
            With the  <a name="d43236e1071"></a><span class="control">Autoscroll to Trace</span> mode turned on, when you navigate through the <a name="d43236e1075"></a><span class="control">Event Stack</span>
            the corresponding files are also automatically opened in the editor with the corresponding functions highlighted.
         
    </p>
    <a name="d43077e728"></a><a name="dynaProc8"></a><section class="procedure-steps"><h2>Navigating from an event or a script to the trace file</h2><p>
            <a name="d43077e732"></a><p>
                 
                A <a name="d43236e795"></a><span class="emphasis">trace file</span> is a write-protected prettified version of the script selected in the <a name="d43236e798"></a><span class="control">Events</span> pane
                or the script whose function is double clicked in the <a name="d43236e801"></a><span class="control">Event Stack</span> pane. A <a name="d43236e804"></a><span class="emphasis">trace file</span> is named <code class="code" data-lang="Java">&lt;file name&gt;.js.trace</code>.
                 
                To navigate from an event or a script to the trace file, do one of the following:
            </p>
        </p><ul class=".list "><li class="list__item">
            Activate automatic navigation:
            <ol class="list _decimal"><li class="list__item"><a name="d43077e742"></a>
                    In the <a name="d43077e744"></a><span class="control">Events</span> pane, press the <a name="d43077e747"></a><span class="control">Autoscroll to Trace</span> toggle button on the toolbar.
                </li><li class="list__item"><a name="d43077e751"></a>
                    Click the required event or script.
                </li></ol>
        </li><li class="list__item">
            In the <a name="d43077e758"></a><span class="control">Event Stack</span> pane, click the required item in the call stack twice or choose <a name="d43077e761"></a><span class="control">Jump to Trace</span>. on the context menu.
            The trace file opens with the cursor positioned at the clicked function.
        </li></ul></section>

    <a name="d43077e766"></a><a name="dynaProc9"></a><section class="procedure-steps"><h2>Navigating from an event or script to the source file</h2><p>
            <a name="d43077e770"></a><p>
                You can also navigate to the <a name="d43077e772"></a><span class="emphasis">source file</span> displayed as is, without prettifying.
            </p>
        </p><ul class=".list "><li class="list__item">
            In the <a name="d43077e787"></a><span class="control">Event Stack</span> pane, select the required item in the call stack and choose <a name="d43077e790"></a><span class="control">Jump to Source</span> on the context menu of the selection.
        </li></ul><p class="procIntro">
            <a name="d43077e779"></a><p>
                 
                        If the traced site is mapped with a WebStorm project, WebStorm detects the corresponding local file
                        according to the mapping and opens this file in the editor. If you are tracing a site that is not mapped to a WebStorm project, WebStorm opens the read-only <a name="d43236e864"></a><span class="emphasis">page source</span>,
                        just as if you chose <a name="d43236e867"></a><span class="control">View Page Source</span> in the browser.
                 
            </p>
        </p></section>


    <a name="d43077e795"></a><a name="dynaProc10"></a><section class="procedure-steps"><h2>Navigating from a function to its call</h2><p>
            <a name="d43077e799"></a><p>
                To navigate from a function to the place in the code where it was called from:
            </p>
        </p><ul class=".list "><li class="list__item">
            In the <a name="d43077e805"></a><span class="control">Event Stack</span> pane, select the required item in the call stack and choose <a name="d43077e808"></a><span class="control">Jump to Caller</span> on the context menu of the selection.
        </li></ul></section>

        <a name="source_maps"></a><a name="dynaProc11"></a><section class="procedure-steps"><h2>Navigating through ECMAScript 6, TypeScript, or CoffeeScript</h2><p>
                <a name="d43077e818"></a><p>
                     
        <a name="d43321e404"></a><span class="emphasis">Spy-js</span> supports <a name="d43321e407"></a><span class="emphasis">source maps</span>, which means that you can now jump from the <a name="d43321e410"></a><span class="control">Event Stack</span> pane
        right to the original source code in <a name="d43321e413"></a><span class="emphasis">ECMAScript 6</span>, <a name="d43321e416"></a><span class="emphasis">TypeScript</span> or <a name="d43321e420"></a><span class="emphasis">CoffeeScript</span>
        and observe what code fragments were executed.
     
                </p>
                                <a name="d43077e823"></a><p>
                                     
        <a name="d43321e426"></a><span class="emphasis">Spy-js</span> also generates <a name="d43321e429"></a><span class="emphasis">mapped trace files</span>. These are <a name="d43321e432"></a><span class="emphasis">EcmaScript 6</span>, <a name="d43321e435"></a><span class="emphasis">TypeScript</span>,
        or <a name="d43321e438"></a><span class="emphasis">CoffeeScript</span> trace files with the extensions <code class="code" data-lang="Java">.ts.trace</code>, <code class="code" data-lang="Java">.coffee.trace</code>,
        or <code class="code" data-lang="Java">.js.trace</code>. The fragments of code in these files are highlighted as if they were really executed.
     
                                 </p>
            </p><ol class=".list _decimal"><li class="list__item">
                Configure the way source maps are treated by clicking <img alt="cogwheel" width="13" height="13" title="cogwheel" src="/help/img/idea/2016.1/cogwheel.png" class="inline-icon-13"> on the toolbar of the <a name="d43077e842"></a><span class="control">Events</span> stack and
                choosing the following options on the context menu:
                <ul class="list _bullet"><li class="list__item"><a name="d43077e847"></a>
                        Choose <a name="d43077e849"></a><span class="control">Enable Source Map Look-up</span>
                         
        to enable navigation to the  <a name="d43321e478"></a><span class="emphasis">ECMAScript 6</span>, <a name="d43321e481"></a><span class="emphasis">TypeScript</span> or <a name="d43321e484"></a><span class="emphasis">CoffeeScript</span> source code
        using the source maps generated during transpilation.
     
                    </li><li class="list__item"><a name="d43077e855"></a>
                        Choose <a name="d43077e857"></a><span class="control">Enable source map generation</span>,
                         
        to generate source maps for everything to map the instrumented code.
        Choose this option if you are going to debug the original code in <a name="d43321e490"></a><span class="emphasis"> Chrome Dev Tools</span>
        or <a name="d43321e493"></a><span class="emphasis"> FireFox FireBug</span> development tools.
     
                    </li><li class="list__item"><a name="d43077e863"></a>
                        Choose <a name="d43077e865"></a><span class="control">Always open source mapped trace if available</span>,
                         
        to have <a name="d43321e500"></a><span class="emphasis">Spy-js</span> try to open the <a name="d43321e503"></a><span class="emphasis">mapped trace file</span> when you invoke navigation from an event to its caller.
     
                    </li></ul>
            </li><li class="list__item">
                To navigate from a function to the source code, select the function in question in the <a name="d43077e875"></a><span class="control">Event Stack</span> pane
                and choose one of the following options on the context menu of the selection:
                <ul class="list _ul"><li class="list__item"><a name="d43077e880"></a>
                        To navigate to the <a name="d43077e882"></a><span class="emphasis">ECMAScript 6</span>, <a name="d43077e885"></a><span class="emphasis">TypeScript</span> or <a name="d43077e888"></a><span class="emphasis">CoffeeScript</span> source code,
                        choose <a name="d43077e891"></a><span class="control">Jump to Source</span> on the context menu of the selection.
                    </li><li class="list__item"><a name="d43077e895"></a>
                        To navigate to the JavaScript trace file, choose <a name="d43077e897"></a><span class="control">Jump to Trace</span>.
                    </li><li class="list__item"><a name="d43077e901"></a>
                        To navigate to the mapped trace file (<a name="d43077e903"></a><span class="emphasis">ECMAScript 6</span>, <a name="d43077e906"></a><span class="emphasis">TypeScript</span> or <a name="d43077e909"></a><span class="emphasis">CoffeeScript</span>),
                        choose <a name="d43077e912"></a><span class="control">Jump to Mapped Trace</span>.
                    </li></ul>
            </li><li class="list__item">
                To navigate from a function to its call, select the function in the <a name="d43077e920"></a><span class="control">Event Stack</span> and choose <a name="d43077e923"></a><span class="control">Jump to Caller</span>.
                <ul class="list _ul"><li class="list__item"><a name="d43321e509"></a>
            If the <a name="d43321e511"></a><span class="control">Always open source mapped trace if available</span> option is selected, the corresponding mapped trace file opens.
        </li><li class="list__item"><a name="d43321e515"></a>
            If the <a name="d43321e517"></a><span class="control">Always open source mapped trace if available</span> option is not selected, the JavaScript trace file opens.
        </li></ul>
            </li></ol><p class="procIntro">
                <a name="d43077e831"></a><p>
                    Alternatively, you can navigate to the executed JavaScript code by choosing <a name="d43077e833"></a><span class="control">Jump to Trace</span>.
                </p>
            </p></section>


        <a name="advancedNavigation"></a><a name="dynaProc12"></a><section class="procedure-steps"><h2>Advanced Trace Navigation</h2><p>
                <a name="d43077e937"></a><p>
                    With <a name="d43077e939"></a><span class="emphasis">advanced trace navigation</span>, you can
                     
        move through the whole stack based on calls and locate the functions that have not been called, that is,
        locate the fragments of code that have not been executed and analyze the reason for them to be skipped.
     
                </p>
                <a name="d43077e945"></a><p>
                     
        The following six actions are available: move to the next/previous call of the next/current/previous function in a trace file.
        The full list of actions is available from the context menu in the <a name="d43321e324"></a><span class="control">Event Stack</span> pane.
        Moving to the next and previous calls of the selected function, to the previous call of the previous function, and to the next call of the next function
        are also available from the navigation toolbar of the <a name="d43321e327"></a><span class="control">Event Stack</span> pane.
     
                    <figure><img alt="spy_js_advanced_navigation_1.png" width="665" height="315" title="spy_js_advanced_navigation_1.png" src="/help/img/idea/2016.1/spy_js_advanced_navigation_1.png"></figure>
                     
        <figure><img alt="spy_js_advanced_navigation_1.png" width="665" height="315" title="spy_js_advanced_navigation_1.png" src="/help/img/idea/2016.1/spy_js_advanced_navigation_1.png"></figure>
        When you choose one of these actions, the cursor jumps to the call in the stack. If the <a name="d43321e335"></a><span class="control">Autoscroll to Trace</span> toggle button is pressed,
        the corresponding trace file opens automatically with the cursor positioned at the call.
     
                </p>
            </p></section>

        <a name="advancedSearch"></a><a name="dynaProc13"></a><section class="procedure-steps"><p>
                <a name="d43077e960"></a><p>
                    <a name="d43077e962"></a><span class="emphasis">Advanced trace search</span> lets you
                     
        navigate between the calls of a function within the whole trace (across all the traced events).
        This means that if you are tracing 5 pages in the browser and the <a name="d43321e342"></a><span class="control">Events</span> pane, accordingly, shows 5 document nodes,
        WebStorm searches for the calls of the selected function under all these nodes and displays the number of found calls of the function
        in the <a name="d43321e345"></a><span class="control">Status</span> bar.
     
                </p>
            </p><ul class=".list "><li class="list__item">
                To invoke the search for the calls of a function in all document nodes, select the function in question in the <a name="d43077e984"></a><span class="control">Event Stack</span> pane
                and choose <a name="d43077e987"></a><span class="control">Search this function calls across all events</span> on the context menu of the selection.
                 
        The number of found calls is displayed in the <a name="d43321e351"></a><span class="control">Status</span> bar,
        and the toolbar shows four previously hidden navigation chevron buttons.
        <figure><img alt="spy_js_advanced_search_1.png" width="608" height="324" title="spy_js_advanced_search_1.png" src="/help/img/idea/2016.1/spy_js_advanced_search_1.png"></figure>
     
            </li><li class="list__item">
                 
        Use the chevron buttons to navigate within the found calls:
        <ul class="list _bullet"><li class="list__item"><a name="d43321e361"></a>
                To jump to the first detected call, click <img alt="spy_js_advanced_search_first_occurence" width="9" height="10" title="spy_js_advanced_search_first_occurence" src="/help/img/idea/2016.1/spy_js_advanced_search_first_occurence.png" class="inline-icon-10">.
            </li><li class="list__item"><a name="d43321e366"></a>
                To jump to the last detected call, click <img alt="spy_js_advanced_search_last_occurence" width="9" height="9" title="spy_js_advanced_search_last_occurence" src="/help/img/idea/2016.1/spy_js_advanced_search_last_occurence.png" class="inline-icon-9">
            </li><li class="list__item"><a name="d43321e371"></a>
                To jump to the next detected call, click <img alt="spy_js_advanced_search_next_occurence" width="5" height="8" title="spy_js_advanced_search_next_occurence" src="/help/img/idea/2016.1/spy_js_advanced_search_next_occurence.png" class="inline-icon-8">
                The <a name="d43321e375"></a><span class="control">Status</span> bar shows a message: <code class="code" data-lang="Java">Occurrence &lt;number&gt; of &lt;total number of detected calls&gt;</code>
            </li><li class="list__item"><a name="d43321e382"></a>
                To jump to the previous detected call, click <img alt="spy_js_advanced_search_previous_occurence" width="5" height="10" title="spy_js_advanced_search_previous_occurence" src="/help/img/idea/2016.1/spy_js_advanced_search_previous_occurence.png" class="inline-icon-10">.
            </li></ul>
     
                <figure><img alt="spy_js_advanced_search_2.png" width="282" height="344" title="spy_js_advanced_search_2.png" src="/help/img/idea/2016.1/spy_js_advanced_search_2.png"></figure>
            </li></ul><p class="procIntro">
                <a name="d43077e971"></a><p>
                     
        The search results are reset and the search toolbar is hidden when you invoke another advanced search or navigation.
     
                </p>
                <a name="d43077e976"></a><p>
                     
        Also keep in mind that the number of call occurrences is calculated
        when you choose the <a name="d43321e394"></a><span class="control">Search this function calls across all events</span> option. As you analyze the detected calls,
        the time passes, new events are captured, and the first detected call can happen to be already removed from the stack
        which means that it is no longer available for navigation.
     
                </p>
            </p></section>

 
        <a name="autocompletion"></a><h3>Expanding the Basic Completion List with Runtime Data (Spy-js Autocompletion)</h3>
            <a name="d43077e1004"></a><p>
                 
        The term <a name="d43321e250"></a><span class="emphasis">Spy-js autocompletion</span> denotes expanding the <a name="d43321e253"></a><a href="basic-code-completion-completing-names-and-keywords.html"><span>basic completion list</span></a> with suggestions retrieved from the runtime data.
        The <a name="d43321e256"></a><span class="emphasis">Spy-js autocompletion</span> functionality is available from <a name="d43321e259"></a><span class="emphasis">source</span> files for the code that has already been executed
        (highlighted green in the corresponding <a name="d43321e262"></a><span class="emphasis">trace</span> file).
     
            </p>
            <a name="d43077e1009"></a><p>
                 
        When you position the caret at a symbol in the source file and press <kbd data-default="Ctrl+Space" data-default_for_gnome="Ctrl+Space" data-default_for_kde="Ctrl+Space" data-default_for_xwin="Ctrl+Space" data-emacs="Alt+Slash" data-visual_studio="Ctrl+Space" data-netbeans_6.5="N/A" data-eclipse="Ctrl+Space" data-mac_os_x_10.5_="&#x2303;Space" data-mac_os_x="&#x2303;Space" data-eclipse_mac_os_x="&#x2303;Space" data-intellij_idea_classic_os_x="N/A" data-xcode="N/A" data-resharper="N/A" data-resharper_osx="N/A">Ctrl+Space</kbd>,
        <a name="d43321e270"></a><span class="emphasis">Spy-js</span> retrieves data from the browser or from the running NodeJS application and merges it with the basic completion list according to the following rules:
     
            </p>
            <ol class="list _decimal"><li class="list__item"><a name="d43321e276"></a>
            If an object both is present on the basic completion list and is retrieved from the runtime, the variant that provides more information about parameters, attributes, their type, etc.
            remains on the list.
        </li><li class="list__item"><a name="d43321e279"></a>
            Objects retrieved by <a name="d43321e281"></a><span class="emphasis">Spy.js</span> are shown on top of the list and marked with the <img alt="icon_spy_js.png" width="14" height="15" title="icon_spy_js.png" src="/help/img/idea/2016.1/icon_spy_js.png" class="inline-icon-15"> icon.
            If a retrieved object is specific for a browser, the object is marked with the <img alt="icon_spy_js.png" width="14" height="15" title="icon_spy_js.png" src="/help/img/idea/2016.1/icon_spy_js.png" class="inline-icon-15"> icon and with the icon of this browser.
        </li></ol>
            <a name="d43077e1019"></a><a name="dynaProc14"></a><section class="procedure-steps"><h2>Activating Spy-js autocompletion</h2><p>
                    <a name="d43077e1023"></a><p>
                         
        By default, the functionality is turned off.
     
                        To activate it:
                    </p>
                </p><ul class=".list "><li class="list__item">
                    Click the <img alt="cogwheel_blue" width="21" height="20" title="cogwheel_blue" src="/help/img/idea/2016.1/cogwheel_blue.png" class="inline-icon-20"> button on the <a name="d43077e1033"></a><span class="control">Events</span> toolbar, and then choose <a name="d43077e1036"></a><span class="control">Enable Spy-js autocomplete and magnifier</span> from the list.
                </li></ul></section>
         

        <a name="magnification"></a><h3>Evaluating Expressions without Running a Debugging Session (Spy-js Magnification)</h3>
            <a name="d43077e1045"></a><p>
                 
        The term <a name="d43321e293"></a><span class="emphasis">Spy-js magnification</span> denotes <a name="d43321e296"></a><a href="evaluating-expressions.html"><span>evaluating expressions</span></a> without actually running a debugging session.
        When you click the expression in question or position the caret at it and press <kbd data-default="Ctrl+Alt+F8" data-default_for_gnome="Ctrl+Alt+8" data-default_for_kde="Ctrl+Alt+8" data-default_for_xwin="Ctrl+Alt+8" data-emacs="Ctrl+Alt+F8" data-visual_studio="Shift+F9" data-netbeans_6.5="N/A" data-eclipse="Ctrl+Alt+F8" data-mac_os_x_10.5_="&#x2325;&#x2318;F8" data-mac_os_x="&#x2325;&#x2318;F8" data-eclipse_mac_os_x="&#x2325;&#x2318;F8" data-intellij_idea_classic_os_x="N/A" data-xcode="N/A" data-resharper="N/A" data-resharper_osx="N/A">Ctrl+Alt+F8</kbd>,
        a tooltip is displayed below the expression showing the expression value.
        If <a name="d43321e301"></a><span class="emphasis">Spy-js</span> retrieves several values, click <img alt="add" width="12" height="12" title="add" src="/help/img/idea/2016.1/new.png" class="inline-icon-12"> icon in the tooltip to expand the list of values.
     
            </p>
            <a name="d43077e1050"></a><p>
                 
        The <a name="d43321e309"></a><span class="emphasis">magnification</span> functionality is available from <a name="d43321e312"></a><span class="emphasis">source</span> files for both executed and not yet executed code.
     
            </p>
            <a name="d43077e1055"></a><p>
                 
        By default, the functionality is turned off.
     
            </p>
            <a name="d43077e1060"></a><a name="dynaProc15"></a><section class="procedure-steps"><h2>Activating Spy-js magnification</h2><p>
                    <a name="d43077e1064"></a><p>
                         
        By default, the functionality is turned off.
     
                        To activate it:
                    </p>
                </p><ul class=".list "><li class="list__item">
                    Click the <img alt="cogwheel_blue" width="21" height="20" title="cogwheel_blue" src="/help/img/idea/2016.1/cogwheel_blue.png" class="inline-icon-20"> button on the <a name="d43077e1074"></a><span class="control">Events</span> toolbar, and then choose <a name="d43077e1077"></a><span class="control">Enable Spy-js autocomplete and magnifier</span> from the list.
                </li></ul></section>
         
    <a name="diagram"></a><a name="dynaProc16"></a><section class="procedure-steps"><h2>Viewing Dependency Diagrams</h2><p>
            <a name="d43077e1088"></a><p>
                With <a name="d43077e1090"></a><span class="emphasis">Spy-js</span>, you can build and examine runtime application/event diagrams for client-side
                and <a name="d43077e1093"></a><span class="emphasis">Node.js</span> applications.
            </p>
        </p><ol class=".list _decimal"><li class="list__item">
            Generate a diagram:
            <ul class="list _bullet"><li class="list__item"><a name="d43077e1104"></a>
                    To build a diagram with the dependencies within the entire application, select the document node
                    and choose <a name="d43077e1106"></a><span class="control">Show application dependency diagram</span> on the context menu of the selection.
                </li><li class="list__item"><a name="d43077e1110"></a>
                    To build a diagram with the dependencies of a single event, select the required event in the <a name="d43077e1112"></a><span class="control">Events</span> pane and choose
                    <a name="d43077e1115"></a><span class="control">Show event dependency diagram</span>.
                </li></ul>
        </li><li class="list__item">
            Analyze the diagram:
            <ul class="list _bullet"><li class="list__item"><a name="d43321e454"></a>
            The diagram is opened in a separate editor tab. The nodes in the diagram represent your project files, while the edges represent the fact
            that there’s one or more functions in the source file that invoke functions in the target file.
        </li><li class="list__item"><a name="d43321e457"></a>
            To examine the details of a node or an edge, select the node or the edge in question and view its <a name="d43321e459"></a><span class="control">Details</span> tree
            in a dedicated pane in the upper right-hand corner of the editor.
            The pane displays the connecting function combinations, along with event(s) the calls are made within and the number of calls made.
        </li></ul>
        </li></ol></section><div class="navigation-links _bottom"><a class="navigation-links__prev" href="using-jetbrains-chrome-extension.html">Using JetBrains Chrome Extension</a><a class="navigation-links__next" href="inline-debugging.html">Inline Debugging</a></div><section class="seealso"><div class="seealso__header"><h2>See Also</h2></div><div class="seealso__content"><div class="seealso__col"><h3>Reference:</h3><ul class="list"><li class="list__item"><a name="d43077e1134"></a><a href="spy-js-tool-window.html"><span>Spy-Js Tool Window</span></a></li></ul></div><div class="seealso__col"><h3>External Links:</h3><ul class="list"><li class="list__item"><a name="d43077e1139"></a><a href="https://github.com/spy-js/spy-js#spy-js-documentation" data-external="true"><span>https://github.com/spy-js/spy-js#spy-js-documentation</span></a></li></ul></div></div></section><div class="last-modified">Last modified: 11 July 2016 </div></article><div id="disqus_thread"></div></div></section></main></div><script src="/help/app/app.js"></script></body></html>