<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta name="robots" content="noindex"></meta><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><title>WebStorm 2016.1 Help :: Git Branches in Multirooted Projects</title><link rel="stylesheet" href="/help/app/app.css"></head><body data-id="Git_Branches_in_Multiroot_Projects"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><div class="wrapper"><section class="panel _nav"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search WebStorm Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header"><div class="container"><h3>WebStorm 2016.1 Help</h3><div class="shortcuts-switcher"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="primary" value="default" selected>Default (Windows/Linux)</option><option data-group="primary" value="default_for_gnome">GNOME</option><option data-group="primary" value="default_for_kde">KDE</option><option data-group="primary" value="default_for_xwin">XWindow</option><option data-group="primary" value="emacs">Emacs</option><option data-group="primary" value="visual_studio">Visual Studio</option><option data-group="primary" value="netbeans_6.5">NetBeans 6.5</option><option data-group="primary" value="eclipse">Eclipse</option><option data-group="secondary" value="mac_os_x_10.5_">Default (Mac OS X 10.5+)</option><option data-group="secondary" value="mac_os_x">OS X</option><option data-group="secondary" value="eclipse_mac_os_x">OS X Eclipse</option><option data-group="secondary" value="intellij_idea_classic_os_x">IntelliJ IDEA Classic (OS X)</option><option data-group="secondary" value="xcode">Xcode</option><option data-group="secondary" value="visual_studio">Visual Studio</option><option data-group="secondary" value="resharper">ReSharper</option><option data-group="secondary" value="resharper_osx">ReSharper OSX</option><option data-group="secondary" value="emacs">Emacs</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="false"><div class="navigation-links _top"><a class="navigation-links__prev" href="applying-changes-from-a-specific-commit-to-other-branches-cherry-picking.html">Applying Changes from a Specific Commit to Other Branches (Cherry Picking)</a><a class="navigation-links__next" href="setting-up-a-local-git-repository.html">Setting up a Local Git Repository</a></div><h1>Git Branches in Multirooted Projects</h1><a name="d67303e9"></a><p>
              Sometimes you may need to have <a name="d67303e11"></a><a href="setting-up-a-local-git-repository.html"><span>several local Git repositories</span></a> within a single project. Such multirooted project can be set up in the following ways:
              <ul class="list _bullet"><li class="list__item"><a name="d67303e16"></a>
                      The repositories are <a name="d67303e18"></a><span class="emphasis">independent</span>, they can be included in the project
                       
                        just as nested roots. 
                      One of these repositories can be intended for the project development itself while the others store the libraries used.
                      <a name="d67303e27"></a><p>
                          Such repositories are controlled <a name="d67303e29"></a><a href="#async"><span>asynchronously</span></a>, that is, commit, push, and other operations can be applied to them independently,
                          just as it is done in projects with one Git repository.
                      </p>
                  </li><li class="list__item"><a name="d67303e34"></a>
                      The repositories are <a name="d67303e36"></a><span class="emphasis">mutually connected</span>. Such repositories most often need to be controlled synchronously,
                      that is, commit, push, and other operations should be applied to all these  repositories at once.
                      For such projects WebStorm also allows you to control branches <a name="d67303e39"></a><a href="#sync"><span>synchronously</span></a>.
                      This means that all branch operations on several repositories are performed simultaneously
                      as if it were a single repository. In case an operation fails in at least one of the repositories, WebStorm <a name="d67303e42"></a><a href="#rollback"><span>rolls it back</span></a> in the repositories where the operation has passed successfully.
                  </li></ul>
          </p><a name="d67303e48"></a><p>
              In this topic:
          </p><ul><li class="list__item"><a href="#async">Asynchronous Branch Control</a></li><li class="list__item"><a href="#d67303e66">Applying a Git operation to a branch asynchronously (in one of the repositories)</a></li><li class="list__item"><a href="#sync">Synchronous Branch Control</a></li><li class="list__item"><a href="#d67303e178">Disabling synchronous branch control on and off</a></li><li class="list__item"><a href="#d67303e211">Enabling synchronous branch control on and off</a></li><li class="list__item"><a href="#rollback">Rolling back a successful operation if it fails in some of the repositories</a></li></ul><a name="async"></a><h2>Asynchronous Branch Control</h2><a name="d67303e57"></a><p>
            <a name="d67303e59"></a><span class="emphasis">Asynchronous</span> control is applied to the branches in a multirooted project when all local Git repositories in the project are <a name="d67303e62"></a><span class="emphasis">independent</span>.
            Commit, push, and other operations to the branches in the repositories are applied independently, just as it is done in projects with one Git repository.
        </p><a name="d67303e66"></a><a name="dynaProc0"></a><section class="procedure-steps"><h2>To apply a Git operation to a branch asynchronously (in one of the repositories)</h2><ol class=".list _decimal"><li class="list__item">
                <a name="openGitBranchesPopup"></a>
                <a name="d67303e72"></a><a href="accessing-git-branches-popup-menu.html"><span>Open the Git Branches</span></a> popup menu.
            </li><li class="list__item">
                In the <a name="d67303e78"></a><span class="control">Git Branches</span> popup menu that opens,  choose the branch to apply the required action to.
                The popup menu shows a list  of branches in the current repository and a list of all the repositories in the project.
                <a name="d67303e81"></a><p>
                    The current repository is detected in the following way:
                    <ul class="list _bullet"><li class="list__item"><a name="d67303e85"></a>
                            If you have explicitly selected a file or a folder in the <a name="d67303e87"></a><span class="control">Project</span> tool window or elsewhere, WebStorm treats the root under which the file is located
                            as <a name="d67303e90"></a><span class="emphasis">current repository</span>.
                        </li><li class="list__item"><a name="d67303e94"></a>
                            If you used the <a name="d67303e96"></a><span class="menupath">VCS | Git | Git Branches</span> command on the main menu, WebStorm treats the root of the file currently opened in the editor
                            as <a name="d67303e99"></a><span class="emphasis">current repository</span>.
                        </li></ul>
                </p>
                <figure><img alt="git_async_branch_control" width="674" height="315" title="git_async_branch_control" src="/help/img/idea/2016.1/git_async_branch_control.png"></figure>
                <a name="d67303e107"></a><p>Do one of the following:</p>
                <ul class="list _bullet"><li class="list__item"><a name="d67303e112"></a>
                        To update a branch in the current repository, select the branch in the list.
                    </li><li class="list__item"><a name="d67303e115"></a>
                        To access another repository, select it under the <a name="d67303e117"></a><span class="control">Repositories</span> group, and then select the relevant branch in the subordinate popup menu that opens.
                    </li></ul>
            </li><li class="list__item">
                Click the branch and choose the required <a name="d67303e125"></a><a href="managing-branches.html"><span>action</span></a> from the popup menu that opens.
            </li></ol></section><a name="sync"></a><h2>Synchronous Branch Control</h2><a name="d67303e133"></a><p>
            In a multirooted project when several <a name="d67303e135"></a><span class="emphasis">mutually connected</span> repositories, it is often helpful to apply <a name="d67303e138"></a><span class="emphasis">synchronous</span> branch control,
            which involves the following:
            <ul class="list _bullet"><li class="list__item"><a name="d67303e143"></a>
                    All branch operations on several repositories are performed simultaneously as if it were a single repository.
                    This applies to all actions including <a name="d67303e145"></a><a href="checking-out-switching-between-branches.html#checkout"><span>checkout</span></a>, <a name="d67303e148"></a><a href="merging-deleting-and-comparing-branches.html#merge"><span>merge</span></a>,
                    and <a name="d67303e151"></a><a href="merging-deleting-and-comparing-branches.html#delete"><span>delete</span></a>. If you invoke the <a name="d67303e154"></a><a href="merging-deleting-and-comparing-branches.html#compare"><span>compare</span></a> action, WebStorm shows a dialog box where you are asked to choose the repository to compare the branch with.
                </li><li class="list__item"><a name="d67303e158"></a>
                  The <a name="d67303e160"></a><span class="control">Git Branches</span> popup  lists only those local and remote branches that are common for all the repositories in the project.
                </li><li class="list__item"><a name="d67303e164"></a>
                    Creating a new branch from the popup  will create it on all the repositories.
                </li><li class="list__item"><a name="d67303e167"></a>
                    You may still control branches individually for each repository by using the repository selector in the <a name="d67303e169"></a><span class="control">Git Branches</span> popup menu.
                    If you happen to checkout a branch only in one of the repositories, you’ll get the warning that branches have diverged:
                    <figure><img alt="git_sync_branch_control.png" width="511" height="312" title="git_sync_branch_control.png" src="/help/img/idea/2016.1/git_sync_branch_control.png"></figure>
                </li></ul>
        </p><a name="d67303e178"></a><a name="dynaProc1"></a><section class="procedure-steps"><h2>To disable synchronous branch control, do one of the following</h2><p>
                <a name="d67303e182"></a><p>
                    When you <a name="d67303e184"></a><a href="accessing-git-branches-popup-menu.html"><span>invoke the Git Branches</span></a> popup menu  for the first time,
                    WebStorm examines the repositories registered in the project.
                    If they all are on branches with same names, WebStorm displays a popup menu that proposes to control branches synchronously.
                     
                </p>
            </p><ul class=".list "><li class="list__item">
                Click the <a name="d67303e193"></a><span class="control">Disable</span> link in the information popup window.
            </li><li class="list__item">
                <a name="d67303e199"></a><a href="accessing-settings.html"><span>Open the Settings dialog box</span></a>, and on the <a name="d67303e202"></a><a href="git.html"><span>Git</span></a> page
                under the <a name="d67303e204"></a><a href="version-control.html"><span>Version Control</span></a> node, clear the <a name="d67303e206"></a><span class="control">Control repositories synchronously</span> check box.
            </li></ul></section><a name="d67303e211"></a><a name="dynaProc2"></a><section class="procedure-steps"><h2>To enable synchronous branch control</h2><ul class=".list "><li class="list__item">
                <a name="d67303e215"></a><a href="accessing-settings.html"><span>Open the Settings dialog box</span></a>, and on the <a name="d67303e218"></a><a href="git.html"><span>Git</span></a> page
                under the <a name="d67303e220"></a><a href="version-control.html"><span>Version Control</span></a> node, select the <a name="d67303e222"></a><span class="control">Control repositories synchronously</span> check box.
            </li></ul></section><a name="rollback"></a><h2>Rolling back a successful operation if it fails in some of the repositories</h2><a name="d67303e230"></a><p>
            If you checkout a branch on several roots and the operation fails for some of the roots but has already succeeded for the others,
            the branches diverge. For example, the <code class="code" data-lang="Java">master</code> branch is checked out in one repository while the <code class="code" data-lang="Java">feature</code> branch is checked out in the other.
            To prevent this, WebStorm offers to rollback the successful checkout operation, so the previous checked out branch is checked out again.
            <figure><img alt="git_sync_branch_control_rollback.png" width="537" height="194" title="git_sync_branch_control_rollback.png" src="/help/img/idea/2016.1/git_sync_branch_control_rollback.png"></figure>
        </p><a name="d67303e241"></a><p>
            Besides checkout, WebStorm suggests to rollback merge and other branch operations.
        </p><div class="navigation-links _bottom"><a class="navigation-links__prev" href="applying-changes-from-a-specific-commit-to-other-branches-cherry-picking.html">Applying Changes from a Specific Commit to Other Branches (Cherry Picking)</a><a class="navigation-links__next" href="setting-up-a-local-git-repository.html">Setting up a Local Git Repository</a></div><section class="seealso"><div class="seealso__header"><h2>See Also</h2></div><div class="seealso__content"><div class="seealso__col"><h3>Procedures:</h3><ul class="list"><li class="list__item"><a name="d67303e248"></a><a href="managing-branches.html"><span>Managing Branches</span></a></li></ul></div><div class="seealso__col"><h3>Reference:</h3><ul class="list"><li class="list__item"><a name="d67303e255"></a><a href="version-control-reference.html"><span>Version Control Reference</span></a></li><li class="list__item"><a name="d67303e259"></a><a href="checkout-dialog.html"><span>Checkout Dialog</span></a></li><li class="list__item"><a name="d67303e263"></a><a href="merge-branches-dialog.html"><span>Merge Branches Dialog</span></a></li></ul></div><div class="seealso__col"><h3>External Links:</h3><ul class="list"><li class="list__item"><a name="d67303e270"></a><a href="http://blog.jetbrains.com/idea/2012/08/git-branches-for-multi-root-projects/#more-6754" data-external="true"><span>Git Branches for Multi-root Projects</span></a></li></ul></div></div></section><div class="last-modified">Last modified: 11 July 2016 </div></article><div id="disqus_thread"></div></div></section></main></div><script src="/help/app/app.js"></script></body></html>