<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta name="robots" content="noindex"></meta><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><title>WebStorm 2016.1 Help :: V8 Profiling Tool Window</title><link rel="stylesheet" href="/help/app/app.css"></head><body data-id="reference.tool.window.v8.profiling"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><div class="wrapper"><section class="panel _nav"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search WebStorm Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header"><div class="container"><h3>WebStorm 2016.1 Help</h3><div class="shortcuts-switcher"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="primary" value="default" selected>Default (Windows/Linux)</option><option data-group="primary" value="default_for_gnome">GNOME</option><option data-group="primary" value="default_for_kde">KDE</option><option data-group="primary" value="default_for_xwin">XWindow</option><option data-group="primary" value="emacs">Emacs</option><option data-group="primary" value="visual_studio">Visual Studio</option><option data-group="primary" value="netbeans_6.5">NetBeans 6.5</option><option data-group="primary" value="eclipse">Eclipse</option><option data-group="secondary" value="mac_os_x_10.5_">Default (Mac OS X 10.5+)</option><option data-group="secondary" value="mac_os_x">OS X</option><option data-group="secondary" value="eclipse_mac_os_x">OS X Eclipse</option><option data-group="secondary" value="intellij_idea_classic_os_x">IntelliJ IDEA Classic (OS X)</option><option data-group="secondary" value="xcode">Xcode</option><option data-group="secondary" value="visual_studio">Visual Studio</option><option data-group="secondary" value="resharper">ReSharper</option><option data-group="secondary" value="resharper_osx">ReSharper OSX</option><option data-group="secondary" value="emacs">Emacs</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="false"><div class="navigation-links _top"><a class="navigation-links__prev" href="v8-heap-search-dialog.html">V8 Heap Search Dialog</a><a class="navigation-links__next" href="version-control-reference.html">Version Control Reference</a></div><h1>V8 Profiling Tool Window</h1><a name="d267161e3"></a><p>
        The tool window is opened automatically when you stop the <a name="d267161e5"></a><span class="emphasis">Node.js</span> application you  are profiling.
         
        If the window is already opened and shows the profiling data for another session, a new tab is added. Tabs that were opened automatically are named after the run configurations
        that control execution of the applications and  collecting the profiling data.
     
    </p><a name="d267161e11"></a><p>
         
        If you want to open and analyze some previously saved profiling data, choose <a name="d9041e2783"></a><span class="menupath">V8 Profiling - Analyze V8 Profiling Log</span> on the main menu
        and select the relevant V8 log file <code class="code" data-lang="Java">isolate-&lt;session number&gt;</code>. WebStorm creates a separate tab with the name of the log file.
     
    </p><a name="d267161e16"></a><p>
         
        Based on the collected profiling data, WebStorm builds three call trees and displays each of them in a separate pane.
        Having several call trees provides the possibility to analyze the application execution from two different points of view: on the one hand,
        which calls were time consuming ("heavy"), and on the other hand, "who called whom".
     
    </p><a name="d267161e21"></a><p>
        On this page:
    </p><ul><li class="list__item"><a href="#d267161e27">Toolbar</a></li><li class="list__item"><a href="#d267161e220">Context Menu</a></li><li class="list__item"><a href="#d267161e290">Top Calls Pane</a></li><li class="list__item"><a href="#d267161e301">Bottom-up Pane</a></li><li class="list__item"><a href="#d267161e306">Top-down Pane</a></li><li class="list__item"><a href="#d267161e315">Flame Chart</a></li><li class="list__item"><a href="#d267161e319">Selecting a Fragment in the Timeline</a></li><li class="list__item"><a href="#d267161e324">Synchronization in the Flame Chart</a></li></ul><a name="d267161e27"></a><h2>Toolbar</h2>
        <table class=" wide" width="100%" id="d267161e29"><thead><tr id="d267161e31" class="ijRowHead"><a name="d267161e31"></a><th width="5%"><a name="d267161e33"></a>Item</th><th width="15%"><a name="d267161e36"></a>Tooltip</th><th width="65%"><a name="d267161e39"></a>Description</th><th width="15%"><a name="d267161e42"></a>Available in</th></tr></thead><tbody><tr id="d267161e46" class="ijRowOdd"><a name="d267161e46"></a><td><a name="d267161e48"></a>
                    <img alt="edit.png" width="14" height="15" title="edit.png" src="/help/img/idea/2016.1/edit.png" class="inline-icon-15">
                </td><td><a name="d267161e53"></a>
                    Jump to source
                </td><td><a name="d267161e56"></a>
                    Click this button to navigate to the function definition.
                </td><td><a name="d267161e59"></a>
                    Top Calls<br>
                    Bottom-up<br>
                    Top-down
                </td></tr><tr id="d267161e67" class="ijRowEven"><a name="d267161e67"></a><td><a name="d267161e69"></a>
                    <img alt="filter.png" width="16" height="16" title="filter.png" src="/help/img/idea/2016.1/filter.png" class="inline-icon-16">
                </td><td><a name="d267161e74"></a>
                    Filter
                </td><td><a name="d267161e77"></a>
                    Click this button to filter out light calls and have WebStorm display only the calls that indeed cause performance problems.
                     
        Using the slider, specify the minimum <a name="d9041e2914"></a><span class="emphasis">Total%</span> or <a name="d9041e2917"></a><span class="emphasis">Parent%</span> value for a call to be displayed and click <a name="d9041e2920"></a><span class="control">Done</span>.
     
                </td><td><a name="d267161e82"></a>
                    Top Calls<br>
                    Bottom-up<br>
                    Top-down
                </td></tr><tr id="d267161e90" class="ijRowOdd"><a name="d267161e90"></a><td><a name="d267161e92"></a>
                    <img alt="icon_expand_heavy_calls.png" width="15" height="15" title="icon_expand_heavy_calls.png" src="/help/img/idea/2016.1/icon_expand_heavy_calls.png" class="inline-icon-15">
                </td><td><a name="d267161e97"></a>
                    Expand Heavy Traces
                </td><td><a name="d267161e100"></a>
                     
        When a tab for a profiling session is opened, by default the nodes with heaviest calls are expanded. While exploring the trees, you may like to fold some nodes or expand other ones.
     
                    Click this button to restore the original tree presentation.
                </td><td><a name="d267161e105"></a>
                    Top Calls<br>
                    Bottom-up<br>
                    Top-down
                </td></tr><tr id="d267161e113" class="ijRowEven"><a name="d267161e113"></a><td><a name="d267161e115"></a>
                    <img alt="expandAll.png" width="16" height="22" title="expandAll.png" src="/help/img/idea/2016.1/expandAll.png" class="inline-icon-22"><br>
                    <img alt="collapseAll.png" width="12" height="14" title="collapseAll.png" src="/help/img/idea/2016.1/collapseAll.png" class="inline-icon-14">
                </td><td><a name="d267161e123"></a>
                    Expand All/<br>
                    Collapse All
                </td><td><a name="d267161e128"></a>
                    Click these buttons to expand or collapse all the nodes in the current pane.
                </td><td><a name="d267161e131"></a>
                    Top Calls<br>
                    Bottom-up<br>
                    Top-down
                </td></tr><tr id="d267161e140" class="ijRowOdd"><a name="d267161e140"></a><td><a name="d267161e142"></a>
                    <img alt="exportToTextFile.png" width="16" height="19" title="exportToTextFile.png" src="/help/img/idea/2016.1/exportToTextFile.png" class="inline-icon-19">
                </td><td><a name="d267161e147"></a>
                    Export to text file/<br>
                    Export Timeline Chart
                </td><td><a name="d267161e152"></a>
                    Click this button to save the call tree in the current pane to a text file or the current timeline chart to a <code class="code" data-lang="Java">.png</code> file. Then specify the target file in the dialog box that opens.
                </td><td><a name="d267161e158"></a>
                    All
                </td></tr><tr id="d267161e162" class="ijRowEven"><a name="d267161e162"></a><td><a name="d267161e164"></a>
                    <img alt="help.png" width="10" height="14" title="help.png" src="/help/img/idea/2016.1/help.png" class="inline-icon-14">
                </td><td><a name="d267161e169"></a>
                    Help
                </td><td><a name="d267161e172"></a>
                    Click this button to navigate to the Help topic for the tool window.
                </td><td><a name="d267161e175"></a>
                    All
                </td></tr><tr id="d267161e179" class="ijRowOdd"><a name="d267161e179"></a><td><a name="d267161e181"></a>
                    <img alt="close.png" width="12" height="12" title="close.png" src="/help/img/idea/2016.1/close.png" class="inline-icon-12">
                </td><td><a name="d267161e186"></a>
                    Close
                </td><td><a name="d267161e189"></a>
                    Click this button to close the <a name="d267161e191"></a><span class="control">V8 Profiling</span> tool window.
                </td><td><a name="d267161e195"></a>
                    All
                </td></tr><tr id="d267161e199" class="ijRowEven"><a name="d267161e199"></a><td><a name="d267161e201"></a>
                    <img alt="erDiagramIconZoomIn.png" width="22" height="23" title="erDiagramIconZoomIn.png" src="/help/img/idea/2016.1/erDiagramIconZoomIn.png" class="inline-icon-23">
                </td><td><a name="d267161e206"></a>
                    Zoom
                </td><td><a name="d267161e209"></a>
                    Click this button to open the selected fragment of the flame chart in a separate tab
                    and have the selected fragment enlarged to fit the tab width so you can examine the fragment with more details.
                </td><td><a name="d267161e212"></a>
                    Flame Chart
                </td></tr></tbody></table>
    <a name="d267161e220"></a><h2>Context Menu</h2>
        <a name="d267161e222"></a><p>
            The context menu is available only from items in the <a name="d267161e224"></a><span class="control">Top Calls</span>, <a name="d267161e227"></a><span class="control">Bottom-up</span>, and <a name="d267161e230"></a><span class="control">Top-down</span> panes.
        </p>

        <table class="" width="100%" id="d267161e234"><thead><tr id="d267161e236" class="ijRowHead"><a name="d267161e236"></a><th><a name="d267161e238"></a>Item</th><th><a name="d267161e241"></a>Description</th></tr></thead><tbody><tr id="d267161e245" class="ijRowOdd"><a name="d267161e245"></a><td><a name="d267161e247"></a>
                    Copy Call
                </td><td><a name="d267161e250"></a>
                    Choose this option to copy the name of the selected function and the name of the file where it is defined to the Clipboard.
                </td></tr><tr id="d267161e254" class="ijRowEven"><a name="d267161e254"></a><td><a name="d267161e256"></a>
                    Copy
                </td><td><a name="d267161e259"></a>
                    Choose this option to copy the name of the selected function, the name of the file where it is defined, and the measurements data.
                     
        This may be helpful if you want to compare the measurements for a function from two sessions, for example, after you make some improvements to the code.
     
                </td></tr><tr id="d267161e265" class="ijRowOdd"><a name="d267161e265"></a><td><a name="d267161e267"></a>
                    Compare with Clipboard
                </td><td><a name="d267161e270"></a>
                    Choose this option to compare the selected with the contents of the Clipboard in the  <a name="d267161e272"></a><span class="emphasis">Difference Viewer</span> that opens.
                </td></tr><tr id="d267161e277" class="ijRowEven"><a name="d267161e277"></a><td><a name="d267161e279"></a>
                    Expand Node/<br>
                    Collapse Node
                </td><td><a name="d267161e284"></a>
                    Choose these options to expand or collapse the selected tree node.
                </td></tr></tbody></table>

    <a name="d267161e290"></a><h2>Top Calls Pane</h2>
         
        The <a name="d9041e2823"></a><span class="control">Top Calls</span> pane shows a list of performed activities sorted in the descending order by the <a name="d9041e2826"></a><span class="emphasis">Self</span> metrics.
        For each activity WebStorm displays its <a name="d9041e2829"></a><span class="emphasis">Total</span>, <a name="d9041e2832"></a><span class="emphasis">Total%</span>, and <a name="d9041e2835"></a><span class="emphasis">Self%</span> metrics.
         
        For each function call, WebStorm displays the name of the file, the line, and the  column where the function is defined.
     
     
        <figure><img alt="v8ProfilerCPUTopCalls.png" width="625" height="319" title="v8ProfilerCPUTopCalls.png" src="/help/img/idea/2016.1/v8ProfilerCPUTopCalls.png"></figure>
         
        The diagram in the <a name="d9041e2878"></a><span class="control">Overview</span> pane shows distribution of self time for calls
        with the <a name="d9041e2881"></a><span class="emphasis">Self%</span> metrics above 1%.
     
        <figure><img alt="v8ProfilerCPUTopCallsOverviewPane.png" width="442" height="283" title="v8ProfilerCPUTopCallsOverviewPane.png" src="/help/img/idea/2016.1/v8ProfilerCPUTopCallsOverviewPane.png"></figure>
    <a name="d267161e301"></a><h2>Bottom-up Pane</h2>
         
        The <a name="d9041e2844"></a><span class="control">Bottom-up</span> pane also shows the performed activities sorted in the descending order by the <a name="d9041e2847"></a><span class="emphasis">Self</span> metrics. Unlike the <a name="d9041e2850"></a><span class="control">Top Calls</span> pane,
        the <a name="d9041e2853"></a><span class="control">Bottom-up</span> pane shows only the activities with the <a name="d9041e2856"></a><span class="emphasis">Total%</span> metrics above 2 and the functions that called them. This is helpful if you encounter
        a <a name="d9041e2860"></a><span class="emphasis">heavy</span> function and want to find out where it was called from.
        <a name="d9041e2863"></a><p>
            For each activity WebStorm displays its execution time in <a name="d9041e2865"></a><span class="emphasis">ticks</span> and the <a name="d9041e2868"></a><span class="emphasis">Of Parent</span> metrics.
             
        For each function call, WebStorm displays the name of the file, the line, and the  column where the function is defined.
     
        </p>
     
    <a name="d267161e306"></a><h2>Top-down Pane</h2>
         
        The <a name="d9041e2887"></a><span class="control">Top-down</span> pane shows the entire call hierarchy with the functions that are execution entry points at the top.
        For each activity WebStorm displays its <a name="d9041e2890"></a><span class="emphasis">Total</span>, <a name="d9041e2893"></a><span class="emphasis">Total%</span>, <a name="d9041e2896"></a><span class="emphasis">Self</span>, and <a name="d9041e2899"></a><span class="emphasis">Self%</span> metrics.
         
        For each function call, WebStorm displays the name of the file, the line, and the  column where the function is defined.
     
     
         
        Some of the functions may have been optimized by V8, see <a name="d9041e2933"></a><a href="http://floitsch.blogspot.de/2012/03/optimizing-for-v8-introduction.html" data-external="true"><span>Optimizing for V8</span></a> for details.
        <ul class="list _bullet"><li class="list__item"><a name="d9041e2938"></a>
                The functions that have been optimized are marked with an asterisk (<code class="code" data-lang="Java">*</code>) before the function name.
            </li><li class="list__item"><a name="d9041e2944"></a>
                The functions that possibly require optimization but still have not been optimized
                are marked with a tilde (<code class="code" data-lang="Java">~</code>) character before the function name.
                Though optimization may be delayed by the engine or skipped if the code is short-running,
                a tilde (<code class="code" data-lang="Java">~</code>) points at a place where the code can be rewritten to achieve better performance.
            </li></ul>
     
        <figure><img alt="v8ProfilerCPUTrees.png" width="625" height="282" title="v8ProfilerCPUTrees.png" src="/help/img/idea/2016.1/v8ProfilerCPUTrees.png"></figure>
    <a name="d267161e315"></a><h2>Flame Chart</h2>
         
        <a name="d9041e3844"></a><p>
            Use the multicolor chart in the <a name="d9041e3846"></a><span class="control">Flame Chart</span> tab to find where the application paused and explore the calls that provoked these pauses.
            The chart consists of four areas:
        </p>
        <ul class="list _bullet"><li class="list__item"><a name="d9041e3852"></a>
                The upper area shows a timeline with two sliders to limit the beginning and the end of a fragment to investigate.
            </li><li class="list__item"><a name="d9041e3855"></a>
                The bottom area shows a stack of calls in the form of a multicolor chart. When called for the first time, each function is assigned a random color,
                whereupon every call of this function within the current session is shown in this color.
            </li><li class="list__item"><a name="d9041e3858"></a>
                The middle area shows a summary of  calls from the <a name="d9041e3860"></a><span class="emphasis">Garbage Collector</span>, the engine, the external calls,
                and the execution itself. The  colors reserved for the <a name="d9041e3863"></a><span class="emphasis">Garbage Collector</span>, the engine , the external calls,
                and the execution are listed on top of the area:
                <figure><img alt="v8_flame_chart_reserved_colors.png" width="236" height="22" title="v8_flame_chart_reserved_colors.png" src="/help/img/idea/2016.1/v8_flame_chart_reserved_colors.png"></figure>
            </li><li class="list__item"><a name="d9041e3869"></a>
                The right-hand pane lists the calls within a selected fragment, for each call the list shows its duration, the name of the called function,
                and file where the function is defined.
            </li></ul>
     
        <a name="d267161e319"></a><h3>Selecting a Fragment in the Timeline</h3>
             
        <a name="d9041e3876"></a><p>To explore  the processes within a certain period of time, you need to select the fragment in question. You can do it in two ways:</p>
        <ul class="list _bullet"><li class="list__item"><a name="d9041e3881"></a>
                Use the sliders:
                <figure><img alt="v8_flame_chart_sliders.png" width="184" height="63" title="v8_flame_chart_sliders.png" src="/help/img/idea/2016.1/v8_flame_chart_sliders.png"></figure>
            </li><li class="list__item"><a name="d9041e3886"></a>
                Click the <a name="d9041e3888"></a><span class="emphasis">window</span> between two sliders and drag it to the required fragment:
                <figure><img alt="v8_flame_chart_window_between_sliders.png" width="184" height="62" title="v8_flame_chart_window_between_sliders.png" src="/help/img/idea/2016.1/v8_flame_chart_window_between_sliders.png"></figure>
            </li></ul>
        <a name="d9041e3895"></a><p>
            In either case, the multicolor chart below shows the stack of calls within the selected fragment.
        </p>
        <a name="d9041e3898"></a><p>
            To enlarge the chart, click the selected fragment and then click the <a name="d9041e3900"></a><span class="control">Zoom</span> button <img alt="erDiagramIconZoomIn.png" width="22" height="23" title="erDiagramIconZoomIn.png" src="/help/img/idea/2016.1/erDiagramIconZoomIn.png" class="inline-icon-23">
            on the toolbar. WebStorm opens a new tab and shows the selected fragment enlarged to fit the tab width so you can examine the fragment with more details.
        </p>
     
         
        <a name="d267161e324"></a><h3>Synchronization in the Flame Chart</h3>
             
        <a name="d9041e3909"></a><p>
            The bottom and the right-hand areas are synchronized: as you drag the slider in the bottom area through the timeline
            the focus in the right-hand pane moves to the call that was performed at each moment.
        </p>
        <a name="d9041e3912"></a><p>
            Moreover, if you click a call in the bottom area, the slider moves to it automatically
            and the focus in the right-hand pane switches to the corresponding function, if necessary the list scrolls automatically.
            And vice versa, if you click an item in the list, WebStorm selects the corresponding call in the bottom area
            and drags the slider to it automatically:
            <figure><img alt="v8_flame_chart_.bottom_area.png" width="689" height="510" title="v8_flame_chart_.bottom_area.png" src="/help/img/idea/2016.1/v8_flame_chart_.bottom_area.png"></figure>
        </p>
         
        <a name="d9041e3934"></a><p>
            WebStorm supports navigation from the right-hand area to the source code of called functions, to the other panes of the tool window, and to areas in the flame chart with specific metrics.
        </p>
        <ul class="list _bullet"><li class="list__item"><a name="d9041e3939"></a>
                To jump to the source code of a called function, select the call in question
                and choose <a name="d9041e3941"></a><span class="control">Jump to Source</span> on the context menu of the selection.
            </li><li class="list__item"><a name="d9041e3945"></a>
                To switch to another pane, select the call in question, choose <a name="d9041e3947"></a><span class="control">Navigate To</span> on the context menu of the selection, and then choose the destination:
                <ul class="list _bullet"><li class="list__item"><a name="d9041e3952"></a><a name="d9041e3953"></a><span class="control">Navigate in Top Calls</span></li><li class="list__item"><a name="d9041e3956"></a><a name="d9041e3957"></a><span class="control">Navigate in Bottom-up</span></li><li class="list__item"><a name="d9041e3960"></a><a name="d9041e3961"></a><span class="control">Navigate in Top-down</span></li></ul>
                WebStorm switches to the selected pane and moves the focus to the call in question.
            </li><li class="list__item"><a name="d9041e3966"></a>
                To have the flame chart zoomed at the fragments with specific metrics of a call, select the call in question, choose <a name="d9041e3968"></a><span class="control">Navigate To</span> on the context menu of the slection,
                and then choose the metrics:
                <ul class="list _bullet"><li class="list__item"><a name="d9041e3973"></a><a name="d9041e3974"></a><span class="control">Navigate to Longest Time</span></li><li class="list__item"><a name="d9041e3977"></a><a name="d9041e3978"></a><span class="control">Navigate to Typical Time</span></li><li class="list__item"><a name="d9041e3981"></a><a name="d9041e3982"></a><span class="control">Navigate to Longest Self Time</span></li><li class="list__item"><a name="d9041e3985"></a><a name="d9041e3986"></a><span class="control">Navigate to Typical Self Time</span></li></ul>
            </li></ul>
     
        <a name="d9041e3919"></a><p>
            You can also navigate to the stacktrace of a call to view and anlyze exceptions. To do that, select the call in question and choose <a name="d9041e3921"></a><span class="control">Show As Stacktrace</span>. WebStorm opens the stacktrace in a separate tab,
            to return to the <a name="d9041e3924"></a><span class="control">Flame Chart</span> pane, click <a name="d9041e3927"></a><span class="control">V8 CPU Profiling</span>  tool window button in the bottom tool window.
        </p>
     
         
    <div class="navigation-links _bottom"><a class="navigation-links__prev" href="v8-heap-search-dialog.html">V8 Heap Search Dialog</a><a class="navigation-links__next" href="version-control-reference.html">Version Control Reference</a></div><section class="seealso"><div class="seealso__header"><h2>See Also</h2></div><div class="seealso__content"><div class="seealso__col"><h3>Procedures:</h3><ul class="list"><li class="list__item"><a name="d267161e335"></a><a href="v8-cpu-and-memory-profiling.html"><span>V8 CPU and Memory Profiling</span></a></li></ul></div><div class="seealso__col"><h3>Reference:</h3><ul class="list"><li class="list__item"><a name="d267161e340"></a><a href="run-debug-configuration-node-js.html"><span>Run/Debug Configuration: Node JS</span></a></li><li class="list__item"><a name="d267161e342"></a><a href="v8-heap-tool-window.html"><span>V8 Heap Tool Window</span></a></li></ul></div></div></section><div class="last-modified">Last modified: 11 July 2016 </div></article><div id="disqus_thread"></div></div></section></main></div><script src="/help/app/app.js"></script></body></html>