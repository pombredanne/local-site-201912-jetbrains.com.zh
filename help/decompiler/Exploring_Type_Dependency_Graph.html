<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>探索类型依赖图-帮助dotPeek</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body type=""  data-id="Exploring_Type_Dependency_Graph" data-article-props="
                {
                
            " seeals=":[=" titl=":=" procedure=",=" link=":=" ur=":" navigation_and_search__viewing_type_hierarchy.htm="," tex=":" explore="" hierarch="}=" exploring_assembly_dependency_diagram.htm="," assembly="" dependency="" diagra="}=" ="" data-disqus-id="Exploring_Type_Dependency_Graph_dpk"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索dotPeek帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>dotPeek 2019.2帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option value="rs" data-group="secondary">ReSharper 2.x / IntelliJ IDEA</option><option value="vs" data-group="primary">视觉工作室</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 id="Exploring_Type_Dependency_Graph.xml" data-toc="Exploring_Type_Dependency_Graph">探索类型依赖图</h1>                <a name="access_intro"></a>        <p id="2355ae5a">            <span class="menupath" data-skip-index="skip">检查显示类型依赖图</span>                                                        </p>        <p id="3fe41eb3">        <a name="intro"></a> dotPeek允许您直观地研究解决方案中类型如何相互依赖。在类型依赖关系图中，您可以添加来自不同项目或已编译程序集的任意数量的类型，并可视化它们之间的不同类型的依赖关系。</p>    <div class="chapter"><h2 id="build">建立初始图</h2>        <p id="61c5e94b">有几种方法可以构建新的类型依赖关系图：</p>        <ul class="list _ul"><li class="list__item" id="7f7cda74"><p>在代码查看器中的任意位置设置插入符号，然后选择“ <span class="menupath" data-skip-index="skip">检查” |“检查”。</span>在主菜单中<span class="menupath" data-skip-index="skip">显示类型依赖关系图</span>或调用“ <a href="Code_Analysis__Inspect_This.html">检查此</a>命令”（按<kbd data-rs="Ctrl+Shift+Alt+A" data-vs="Ctrl+Shift+Alt+A">Ctrl+Shift+Alt+A</kbd> ），然后选择<span class="control">显示类型依赖关系图</span> 。<br>在这种情况下，文件中的所有类型都将添加到图中，并且可视化聚合，用法和继承<a href="#depend">依赖性</a> 。</p></li><li class="list__item" id="bbe79b7d"><p>在“ <a href="Navigation_and_Search__Go_to_Base.html">转到基本符号”</a> ，“ <a href="Navigation_and_Search__Go_to_Inheritor.html">转到派生符号”</a> ，“ <a href="Navigate_To_Exposing_APIs.html">导航到公开API”</a>或类似命令的结果列表中，按<a name="show_on_diagram"></a><kbd class="keystroke" data-bypass="true"><span class="keystroke__value">Alt+Num+</span></kbd>或单击<span class="control">在图表上显示</span> <img alt="主题图标类型布局替代屏幕灰色" title="主题图标类型布局替代屏幕灰色" src="/help/img/dotnet/2019.2/ThemedIcon.TypeLayoutAlt.Screen.[Gray].png" id="d25becab" width="16" height="16" class="inline-icon-16">                                <br>对于基础/派生符号，继承层次结构的相应部分将添加到图中，并且仅可视化继承<a href="#depend">依赖关系</a> 。在使用公开API的情况下，该图显示的类型包含返回给定类型且仅返回类型<a href="#depend">依赖项的方法</a> 。</p></li><li class="list__item" id="67bfe861"><p>对于“ <a href="Reference__Windows__Find_Results_Window.html">查找结果”窗口</a>或“ <a href="Reference__Windows__Type_Hierarchy_Window.html">层次结构”窗口中</a> <span class="control">显示</span>的结果列表，单击<span class="control">“在图上显示”</span> <img alt="主题图标类型布局替代屏幕灰色" title="主题图标类型布局替代屏幕灰色" src="/help/img/dotnet/2019.2/ThemedIcon.TypeLayoutAlt.Screen.[Gray].png" id="4dd0c39a" width="16" height="16" class="inline-icon-16"> 。<br>在这些情况下，所有用法或层次结构条目都将添加到图中，并且用法/继承<a href="#depend">关系</a>将可视化。</p></li></ul>        <p id="5d61ce88">新创建的项目依赖关系图显示在“ <a href="Reference__Windows__Type_Hierarchy_Window.html">层次结构”窗口</a>的新选项卡中。</p>        <p id="964d18dc">请注意，该图与解决方案不同步，也就是说，如果您重命名或删除代码中的类型，则该图不会更改。要查看该图是否最新，您可以检查右下角显示的创建时间。您还可以通过单击<span class="control">刷新类型相关性</span>来重建图。 <img alt="ThemedIcon刷新屏幕灰色" title="ThemedIcon刷新屏幕灰色" src="/help/img/dotnet/2019.2/ThemedIcon.Refresh.Screen.[Gray].png" id="76ab8199" width="16" height="16" class="inline-icon-16">在工具栏上。</p>    </div>    <div class="chapter"><h2 id="adjusting-the-view-of-the-diagram">调整图的视图</h2>        <p id="e1f00553">类型依赖关系图可以通过两种方式进行布局：</p>        <ul class="list _ul"><li class="list__item" id="c9f87597"><p>                <span class="keyword">继承层次结构布局器</span> -此选项根据其继承关系排列类型：基类型向上移动。</p></li><li class="list__item" id="458273c5"><p>                <span class="keyword">Business Logic Layouter-</span>此选项根据它们之间所有显示的关系排列类型。</p></li></ul>        <p id="895ba3c5">您可以使用左侧的相应选择器在这些选项之间切换：</p>        <figure><img alt="在类型依赖关系图上切换布局" title="在类型依赖关系图上切换布局" src="/help/img/dotnet/2019.2/layouter_switch.png" id="24a08e86" width="183" height="144"></figure>        <p id="f69028b4">每次刷新图， <a href="#add">添加或删除类型</a>或<a href="#depend">更改依赖项过滤器时</a> ，图布局都会自动更新。</p>        <p id="13e6579f">要平移和缩放图表，请使用图表区域左上角的控件。或者，您可以单击图项目之外的图区域中的任何位置，然后在手形光标拖动时<img alt="光标手" title="光标手" src="/help/img/dotnet/2019.2/cursor_hand.png" id="7a7a093a" width="19" height="22" class="inline-icon-19">显示。要缩放，也可以使用鼠标滚轮。</p>        <p id="d529c5e2">图表布局是自动计算的，但是您可以根据需要更改它：可以移动所有项目。若要移动项目（类型，依赖项链接或分组项目），请先单击它以进行选择，然后在交叉光标的同时单击并拖动它<img alt="光标交叉" title="光标交叉" src="/help/img/dotnet/2019.2/cursor_cross.png" id="0f8f6f09" width="23" height="23" class="inline-icon-23">显示。</p>        <p id="23847865">如有必要，可以通过以下方式之一折叠和展开图中的分组项：</p>        <ul class="list _ul"><li class="list__item" id="7a36319f"><p>单击分组项目左上角的向下箭头。折叠后，该符号将变为向上箭头，您可以单击它以展开该项目。</p></li><li class="list__item" id="036ecc59"><p>在图中选择一个分组项目，然后按<kbd class="keystroke" data-bypass="true"><span class="keystroke__value">Ctrl+Left,Arrow</span></kbd>和<kbd class="keystroke" data-bypass="true"><span class="keystroke__value">Ctrl+Right,Arrow</span></kbd> 。</p></li></ul>    </div>    <div class="chapter"><h2 id="add">在图上添加和删除项目</h2>        <p id="ad7b392d">您随时可以修改显示的图表，以便仅显示所需的类型。如有必要，您可以通过单击<span class="control">撤消</span>来逐步<span class="control">撤消</span>对图表（添加/删除的项目）中所做的更改。 <img alt="ThemedIcon撤销屏幕灰色" title="ThemedIcon撤销屏幕灰色" src="/help/img/dotnet/2019.2/ThemedIcon.Undo.Screen.[Gray].png" id="bc0a9968" width="16" height="16" class="inline-icon-16">或按<kbd class="keystroke" data-bypass="true"><span class="keystroke__value">Ctrl+Z</span></kbd> 。要<span class="control">撤消撤消</span>命令，请单击“ <span class="control">重做”。</span> <img alt="ThemedIcon重做屏幕灰色" title="ThemedIcon重做屏幕灰色" src="/help/img/dotnet/2019.2/ThemedIcon.Redo.Screen.[Gray].png" id="957d3fd6" width="16" height="16" class="inline-icon-16">或按<kbd class="keystroke" data-bypass="true"><span class="keystroke__value">Ctrl+Y</span></kbd> 。</p>        <aside class="prompt" rel="ad7b392d" id="8ab1ada7" data-type="tip" data-title="">            <p id="db6a5f89">当您将重点放在图表区域中的任何地方时，您可以开始键入内容以从整个解决方案中查找和添加类型。</p>        </aside>        <p id="e2c026fe">要从图中删除类型和文件夹，请使用分组项目右上角的叉号或按<kbd class="keystroke" data-bypass="true"><span class="keystroke__value">Delete</span></kbd>选择项目时。或者，选择要保留的项目，右键单击选择，然后在上下文菜单中选择<span class="control">“仅显示选定的项目</span> ”。对于多项选择， <kbd class="keystroke" data-bypass="true"><span class="keystroke__value">Ctrl</span></kbd>单击项目。</p>        <p id="e0630c43">还有几种向图中添加项目的方法：</p>        <ul class="list _ul"><li class="list__item" id="8cd3fc08"><p>在代码查看器中选择一种类型，然后将所选类型拖放到图中。</p></li><li class="list__item" id="0981515f"><p>要查找并添加所有引用的类型，请右键单击一种类型或分组项，然后在上下文菜单中选择“ <span class="control">添加所有引用的类型</span> ”。如果在分组项目（文件夹或项目）上调用此命令，则dotPeek将为当前显示的所有类型添加引用的类型。</p></li><li class="list__item" id="ee2aabda"><p>要从当前加载的程序集和引用的程序集中按名称查找和添加类型，请开始在搜索框中键入名称。您可以使用通配符（例如星号<code class="code">*</code> ）和CamelHumps，同时输入：</p><figure><img alt="向类型依赖关系图添加类型" title="向类型依赖关系图添加类型" src="/help/img/dotnet/2019.2/type_graph_01.png" id="626305e2" width="656" height="228"></figure>选择一种类型，然后按<kbd class="keystroke" data-bypass="true"><span class="keystroke__value">Enter</span></kbd>或单击它以将其添加到图中。下拉菜单中以绿色突出显示的类型已经添加到图中。如果选择此类，则图焦点将移至该类型。<p></p></li><li class="list__item" id="e157e110"><p>在<a href="#details">详细信息</a>弹出窗口中，单击任何相关类型将其添加，或使用“ <span class="control">将所有使用的类型添加到图”</span> ，“ <span class="control">将所有用法添加到图”</span> ，“ <span class="control">添加所有基本类型</span> ”和“ <span class="control">添加所有直接继承者”</span>链接添加多个类型。</p></li></ul>        <aside class="prompt" rel="b1f9d7e6" id="e1ec2796" data-type="tip" data-title="">            <p id="171984a6">为了加快布局图的速度，请先禁用所有<a href="#depend">依赖项筛选器</a> ，然后再向图中添加许多新类型或扩展大型分组节点，然后再次启用必要的筛选器。</p>        </aside>    </div>    <div class="chapter"><h2 id="details">研究特定类型和容器</h2>        <p id="9199620f">当节点折叠时，您可以将鼠标悬停在该节点上并快速查看其中的内容。在出现的弹出窗口中，您可以看到在该节点内添加到图中的类型的数目以及从该节点内引用的所有模块：</p>        <figure><img alt="研究项目和容器" title="研究项目和容器" src="/help/img/dotnet/2019.2/container_popup.png" id="11de2b95" width="484" height="157"></figure>        <p id="32b789a8">如有必要，您可以单击引用的模块和/或单击“ <span class="control">添加缺少的项目”</span>以将该节点中的其他项目添加到图中。</p>        <p id="a9052601">您可以双击任何类型以在编辑器中将其打开。如果类型是在已编译程序集中定义的，则根据您<a href="Navigation_and_Search__Navigating_to_External_Sources.html">导航到已编译代码的</a>首选方式将其打开。</p>        <p id="94569544">您可以获得有关任何特定类型（以及类型之间的任何<a href="#depend">依赖</a>关系）的详细信息。要获取类型的详细信息，请将鼠标悬停在该类型上，一旦出现详细信息弹出窗口，请在其上移动鼠标指针。</p>        <p id="74df776d">在类型详细信息弹出窗口上，您将看到给定类型使用哪些类型，使用类型，继承的类型，构造函数参数中使用的类型等等。<br>如果类型具有XML文档，则摘要也会显示在弹出窗口中。</p>        <p id="fbb75af7">您可以单击类型以将其添加到图中。用绿色突出显示的类型已经添加到该图中。如果单击此类，则图焦点将移至该类型。右上角的“ <span class="control">转到声明”</span>链接使您可以在编辑器中打开类型。</p>        <figure><img alt="依赖关系图上特定类型的详细信息" title="依赖关系图上特定类型的详细信息" src="/help/img/dotnet/2019.2/type_graph_04.png" id="6b626253" width="673" height="538"></figure>    </div>    <div class="chapter"><h2 id="depend">研究类型之间的依赖性</h2>        <p id="d2556a75">在类型依赖关系图上，您可以可视化几种依赖关系。要显示或隐藏特定种类的依赖关系，请使用“ <span class="control">筛选器依赖关系”中</span>的相应项目<img alt="ThemedIcon过滤器屏幕灰色" title="ThemedIcon过滤器屏幕灰色" src="/help/img/dotnet/2019.2/ThemedIcon.Filter.Screen.[Gray].png" id="2109269a" width="16" height="16" class="inline-icon-16">选择器：</p>        <ul class="list _ul"><li class="list__item" id="2018610b"><p>                <span class="control">聚合依存关系</span> -当一种类型是其他类型的集合或容器时，显示一种依存关系，<br>这种依赖关系显示为绿色虚线。该行旁边显示相应字段的名称。您可以将鼠标悬停在此行上以查看字段声明并导航到编辑器中的相应位置。</p></li><li class="list__item" id="57b849fc"><p>                <span class="control">用法依赖关系</span> —当一种类型的变量，参数或方法返回值用于另一种类型时，显示一种依赖关系。<br>这种依赖关系显示为一条蓝线，其粗细反映了用法的相对数量。您可以将鼠标悬停在此行上以查看用法列表：</p><figure><img alt="使用依赖" title="使用依赖" src="/help/img/dotnet/2019.2/type_graph_07.png" id="c3bfa93b" width="476" height="270"></figure>单击特定用法，将带您到文本编辑器中的相应位置，单击“ <span class="control">显示所有用法”</span>链接可在“ <a href="Reference__Windows__Find_Results_Window.html">查找结果”窗口中</a>打开所有用法。<p></p></li><li class="list__item" id="1ec99d45"><p>                <span class="control">继承依赖关系</span> -当一种类型扩展或实现另一种类型时，显示一种依赖关系。这种依赖性显示为一条灰线。您可以将鼠标悬停在此行上以查看继承关系，并导航到编辑器中的相应位置。<br>传递继承依赖关系用虚线显示。您可以将鼠标悬停在这些行上，并使用弹出窗口检查依赖关系所在的类型，并通过单击将这些类型添加到图中。</p><figure><img alt="传递依存关系" title="传递依存关系" src="/help/img/dotnet/2019.2/depend_through.png" id="cfbff473" width="473" height="145"></figure>            <p></p></li><li class="list__item" id="2906016c"><p>                <span class="control">返回类型依赖关系</span> -当一种类型的方法或属性返回另一种类型时，显示一种依赖关系。这种依赖性显示为紫线。您可以将鼠标悬停在此行上以查看成员列表，并导航到编辑器中的相应位置。</p></li><li class="list__item" id="adbce95a"><p>                <span class="control">构造函数注入</span> —当一种类型作为另一种类型的构造函数参数公开时，显示一种依赖关系。这种依赖性显示为棕线。您可以将鼠标悬停在此行上以查看构造函数并导航到编辑器中的相应位置。</p></li></ul>    </div>    <div class="chapter"><h2 id="invoking-other-features-on-the-diagram">调用图中的其他dotPeek功能</h2>        <div class="chapter"><h3 id="navigating-from-items-on-the-diagram">从图上的项目导航</h3>            <p id="22b0bb6c">要在“ <a href="Navigation_and_Search__Navigate_from_Here.html">导航至”</a>菜单中列出任何项目的所有可用导航目标，请按或右键单击该项目，然后选择“ <span class="control">导航至”</span> 。</p>            <p id="f80c61de">您可以通过按以下方式<a href="Navigation_and_Search__Context_Dependent_Navigation.html#locating-current-document-in-explorer">在Assembly Explorer中</a>找到任何项目（文件，文件夹或项目） <kbd data-rs="Shift+Alt+L" data-vs="Shift+Alt+L">Shift+Alt+L</kbd>选择项目时。</p>            <p id="b7dc01ae">您还可以通过以下方式列出相关用途：单击<span class="control">类型</span>的<a href="#details">详细信息弹出</a> <span class="control">窗口</span>中的<span class="control">在“查找结果”窗口</span>中<span class="control">显示所有使用的类型，</span>或<span class="control">在“查找结果”窗口</span>中<span class="control">显示所有用法</span> ，或在<a href="#depend">依赖项链接</a>的弹出式<span class="control">窗口</span>中<span class="control">显示所有用法</span> 。</p>        </div>            </div>    <div class="chapter"><h2 id="export">将图导出到图像</h2>        <p id="82ce5e2e">在探索依赖项的任何时候，都可以将当前视图导出到图像。为此，请点击<span class="control">导出到PNG</span> <img alt="ThemedIcon导出屏幕灰色" title="ThemedIcon导出屏幕灰色" src="/help/img/dotnet/2019.2/ThemedIcon.Export.Screen.[Gray].png" id="8d677ff6" width="16" height="16" class="inline-icon-16">并指定保存图像文件的位置。</p>    </div>    <a name="supported_in"></a>        <a name="supported_in_csharp"></a>                                                <a name="resharper_feature"></a>        <p id="13e993f8">            <i id="8f86e8bc" origin="dotnet">此功能的灵感来自<a href="http://www.jetbrains.com/resharper/" rel="noopener noreferrer" data-external="true" target="_blank">JetBrains ReSharper</a> （Microsoft Visual Studio的开发人员生产力工具）。</i>        </p>        <div class="last-modified" data-skip-index="skip">上次修改时间：2019年11月18日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="Navigation_and_Search__Viewing_Type_Hierarchy.html">探索类型层次结构</a> <a class="navigation-links__next" href="Accessing_Decompiled_Files.html">访问反编译的文件</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>