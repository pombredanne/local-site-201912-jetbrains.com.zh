<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>使用ZIP发行版升级-帮助|帮助毂</title><link rel="stylesheet" href="/resources.jetbrains.com/storage/help-app/v3/app.css"></head><body  data-id="Upgrade-with-a-ZIP-Distribution"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索中心帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>Hub 2019.1帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 id="Upgrade-with-a-ZIP-Distribution.xml" data-toc="Upgrade-with-a-ZIP-Distribution">通过ZIP发行版升级</h1>    <p id="0f13a0b3">您可以使用ZIP发行版来升级任何类型的现有集线器安装。</p>    <div class="chapter"><h2 id="upgrade-zip-prerequisites" data-toc="Upgrade-with-a-ZIP-Distribution#upgrade-zip-prerequisites">先决条件</h2>        <p id="dce996b1">升级之前，请<span>创建当前数据库的备份</span> 。集线器不提供前向数据库兼容性。在升级过程中，数据库将迁移为与最新版本兼容的格式。这意味着您无法还原到以前的版本，而无法继续使用升级期间处理的数据库。</p>        <p id="406d9d31">将当前数据库的备份复制到安全位置，以防万一升级遇到问题并需要回滚到以前的版本。</p>    </div>    <div class="chapter"><h2 id="zip-distribution-upgrade-zip-msi" data-toc="Upgrade-with-a-ZIP-Distribution#zip-distribution-upgrade-zip-msi">升级ZIP或MSI安装</h2>        <p id="0118a423">无论您以前是使用ZIP还是MSI发行版安装的Hub服务，都可以使用ZIP发行版升级到最新版本的Hub。</p>        <aside class="note " rel="0118a423" id="97c53a36" data-title="">            <p id="8c9dcf3d">此过程中的所有命令均适用于Linux和macOS。如果要在Windows服务器上升级集线器，请更换<code class="code">.sh</code>与<code class="code">.bat</code>并使用反斜杠。</p>        </aside>        <section class="procedure-steps"><h3 id="9a23fe4e">要升级现有的集线器安装：</h3><ol class="list _decimal"><li class="list__item" id="55d5b38f"><p>从<a href="/hub/download/" rel="noopener noreferrer" data-external="true" target="_blank">JetBrains网站</a>下载ZIP发行版。</p></li><li class="list__item" id="072e1dd4"><p>停止集线器服务。有关特定说明，请参阅<a href="Starting-and-Stopping-Hub.html">停止和启动集线器服务</a> 。</p></li><li class="list__item" id="f684f63e"><p>使用操作系统工具来验证由Hub启动的所有Java进程都不再运行。如果仍有与Hub相关的Java进程仍在运行，请终止未完成的进程树。</p></li><li class="list__item" id="b7dfb235">清除您的<code class="code"><hub_home></code>目录。<ul class="list _ul"><li class="list__item" id="106bb7ff"><p>对于ZIP安装， <code class="code"><hub_home></code> directory是安装过程中解压缩ZIP分发包的位置。</p></li><li class="list__item" id="c2bbc3e7"><p>对于MSI安装， <code class="code"><hub_home></code>目录是<code class="code">%programdata%\JetBrains\Hub</code> 。</p></li></ul>                <p id="df23a875">不要将ZIP安装文件解压缩到包含旧文件的目录中。</p>            <p id="f6b22aa2">我们建议您执行以下步骤：</p>            <ul class="list _ul"><li class="list__item" id="f223ff6b"><p>重命名现有的<code class="code"><hub_home></code>目录到<code class="code">Hub_old</code> （您可以使用其他名称）。</p></li><li class="list__item" id="387edfef"><p>创建一个新的<code class="code"><hub_home></code>目录位于与先前安装相同的位置。</p></li></ul>            <p id="5c70a212">如果要升级MSI安装，请确认您有权访问<code class="code"><hub_home></code>目录和要用作升级源的位置。</p></li><li class="list__item" id="1cf1e4bf"><p>将ZIP归档文件的内容提取为空<code class="code"><hub_home></code>目录。</p></li><li class="list__item" id="156e5c1c">在命令行界面中，输入命令以开始升级：<ul class="list _ul"><li class="list__item" id="3765ca9b"><p>如果输入<code class="code"><hub_home>/bin/hub.sh run</code> ，控制台将被阻止，直到服务停止。</p></li><li class="list__item" id="73aaff1a"><p>如果输入<code class="code"><hub_home>/bin/hub.sh start</code> ，仅在启动过程中阻止控制台。</p></li></ul>                <p id="a0bddbc8">如果您的主机上没有安装Web浏览器，请按照以下命令操作<code class="code">--no-browser</code>选项。例如， <code class="code"><hub_home>/bin/hub.sh start --no-browser</code> 。</p>                <aside class="tip sideblock" rel="a0bddbc8" id="6b8a0a46" data-title=""><p id="c2055c3b">要查看所有可用的命令选项，请输入<code class="code"><hub_home>/bin/hub.sh help</code> 。</p></aside>            </li><li class="list__item" id="69044cef">在基于Web的<span class="control">配置向导中</span>继续进行升级安装。<ul class="list _ul"><li class="list__item" id="10c02d51"><p>如果您在主机上安装了浏览器，则配置向导将自动打开。</p></li><li class="list__item" id="7bde9c8d"><p>如果主机上未安装Web浏览器，请在另一个工作站上的Web浏览器中打开向导的URL。向导URL打印在控制台输出中：</p><div class="code-block" data-lang="none"><version><hub base="" url="">启动后，</hub></version> JetBrains Hub <version>将在[ <hub base="" url="">/ bundle / starting]</hub>上可用</version></div><p></p></li></ul></li><li class="list__item" id="2e71ecc2"><p>在<span class="control">配置向导中</span> ，单击“ <span class="control">升级”</span> 。</p><figure><a class="lightbox" href="/help/img/hub/2019.1/upgrade-config-wizard-start.zoomed.png"><img alt="集线器ZIP升级：配置向导" title="集线器ZIP升级：配置向导" src="/help/img/hub/2019.1/upgrade-config-wizard-start.png" id="93195cb2" width="600" height="263"></a></figure>            <p></p></li><li class="list__item" id="7c7d54b5">在“ <span class="control">选择升级源”</span>页面上，单击“ <span class="control">选择”</span>按钮，然后选择一个升级源。<figure><a class="lightbox" href="/help/img/hub/2019.1/zip-upgrade-source.zoomed.png"><img alt="集线器ZIP升级：选择源" title="集线器ZIP升级：选择源" src="/help/img/hub/2019.1/zip-upgrade-source.png" id="cdfbeac8" width="600" height="505"></a></figure>            <p id="4c467455">您可以选择备份的位置或现有集线器安装的位置。</p></li><li class="list__item" id="e9dd86d6"><p>完成后，单击“ <span class="control">下一步”</span> 。</p></li><li class="list__item" id="25e6bab4"><p>在“ <span class="control">确认设置”</span>页面上，确认或更改系统设置和系统目录的位置。</p><figure><a class="lightbox" href="/help/img/hub/2019.1/zip-upgrade-http-confirm.zoomed.png"><img alt="集线器ZIP升级：确认设置" title="集线器ZIP升级：确认设置" src="/help/img/hub/2019.1/zip-upgrade-http-confirm.png" id="720fe2cd" width="600" height="696"></a></figure><p></p></li><li class="list__item" id="9264108d">完成后，点击<span class="control">升级</span> 。<ul class="list _ul"><li class="list__item" id="989ce9ad">集线器启动其组件。<p id="ab205f8c">设置完成之前，请勿在浏览器中关闭页面。当集线器服务器准备就绪时，您将被重定向到登录页面。</p></li></ul></li><li class="list__item" id="96527017">输入集线器管理员帐户的凭据，然后单击“ <span class="control">登录”</span>按钮。<ul class="list _ul"><li class="list__item" id="76741f25"><p>集线器将打开“ <span class="control">用户”</span>页面。</p></li></ul>            <p id="86b570c8">您的集线器安装已升级并可以使用。</p></li></ol></section>    </div>    <div class="chapter"><h2 id="upgrade-from-docker-to-zip" data-toc="Upgrade-with-a-ZIP-Distribution#upgrade-from-docker-to-zip">从Docker映像升级到ZIP发行版</h2>        <p id="324025d2">您可以升级在Docker容器中运行的现有安装，并同时将安装类型更改为ZIP。</p>        <section class="procedure-steps"><h3 id="57d11a0c">要将Docker映像升级到ZIP发行版：</h3><ol class="list _decimal"><li class="list__item" id="76e2e164"><p>现有集线器安装正在运行时， <a href="Backing-up-and-restoring-data.html">创建</a>集线器数据库<a href="Backing-up-and-restoring-data.html">的备份</a> 。</p></li><li class="list__item" id="f2824453"><p>从<a href="/hub/download/" rel="noopener noreferrer" data-external="true" target="_blank">JetBrains网站</a>下载ZIP发行版。</p></li><li class="list__item" id="ffb58dbd"><p><a href="start-stop-hub-docker.html">停止Hub docker容器</a> 。</p></li><li class="list__item" id="9648f9c5"><p>将ZIP归档文件的内容提取为空<code class="code"><hub_home></code>目录。</p></li><li class="list__item" id="d99dae47">在命令行界面中，输入以下命令以启动集线器：<br>                <code class="code"><hub_home>/bin/hub.sh run</code>                <p id="2bfcafb8">如果主机上未安装Web浏览器，请输入<code class="code">./hub.sh run --no-browser</code> 。</p>            </li><li class="list__item" id="3029e4ee">在基于Web的<span class="control">配置向导中</span>继续进行升级安装。<ul class="list _ul"><li class="list__item" id="2dc2acf8"><p>如果您在主机上安装了浏览器，则配置向导将自动打开。</p></li><li class="list__item" id="b0b2ca63"><p>如果主机上未安装Web浏览器，请在另一个工作站上的Web浏览器中打开向导的URL。向导URL打印在控制台输出中：</p><div class="code-block" data-lang="none"><version><hub base="" url="">启动后，</hub></version> JetBrains Hub <version>将在[ <hub base="" url="">/ bundle / starting]</hub>上可用</version></div><p></p></li></ul>            </li><li class="list__item" id="63e7ce14"><p>在<span class="control">配置向导中</span> ，单击“ <span class="control">升级”</span> 。</p><figure><a class="lightbox" href="/help/img/hub/2019.1/upgrade-config-wizard-start.zoomed.png"><img alt="集线器ZIP升级：配置向导" title="集线器ZIP升级：配置向导" src="/help/img/hub/2019.1/upgrade-config-wizard-start.png" id="611ea439" width="600" height="263"></a></figure>            <p></p></li><li class="list__item" id="7fa72cd3"><p>在“ <span class="control">选择升级源”</span>页面上，单击“ <span class="control">选择”</span>按钮，然后选择创建的备份文件作为升级源。</p><figure><a class="lightbox" href="/help/img/hub/2019.1/zip-upgrade-source.zoomed.png"><img alt="集线器ZIP升级：选择源" title="集线器ZIP升级：选择源" src="/help/img/hub/2019.1/zip-upgrade-source.png" id="58861560" width="600" height="505"></a></figure>完成后，单击“ <span class="control">下一步”</span> 。<p></p></li><li class="list__item" id="25e0fd17"><p>在“ <span class="control">确认设置”</span>页面上，确认或您的系统设置以及系统目录的位置。</p><figure><a class="lightbox" href="/help/img/hub/2019.1/zip-upgrade-http-confirm.zoomed.png"><img alt="集线器ZIP升级：确认设置" title="集线器ZIP升级：确认设置" src="/help/img/hub/2019.1/zip-upgrade-http-confirm.png" id="1310b5ca" width="600" height="696"></a></figure><p></p></li><li class="list__item" id="a0d6513a">完成后，点击<span class="control">升级</span> 。<ul class="list _ul"><li class="list__item" id="c26be23d">集线器启动其组件。<p id="2bfc25c6">设置完成之前，请勿在浏览器中关闭页面。当集线器服务器准备就绪时，您将被重定向到登录页面。</p>                    </li></ul>            </li><li class="list__item" id="f7b56668">输入集线器管理员帐户的凭据，然后单击“ <span class="control">登录”</span>按钮。<ul class="list _ul"><li class="list__item" id="dec2d5a8"><p>集线器将打开“ <span class="control">用户”</span>页面。</p></li></ul>                <p id="03fdf3d8">您的集线器安装已升级并可以使用。</p>            </li></ol></section>    </div>    <div class="last-modified" data-skip-index="skip">上次修改时间：2019年9月9日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="Installing-Hub-with-Zip-Distribution.html">ZIP安装</a> <a class="navigation-links__next" href="Restore-ZIP-Installation.html">恢复ZIP安装</a></div><section class="seealso" data-skip-index="skip"><div class="seealso__header"><h2>也可以看看</h2></div><div class="seealso__content"><div class="seealso__col" data-skip-index="skip"><h3>安装和升级：</h3><ul class="list"><li class="list__item"><a href="Configure-JVM-Options.html">配置JVM选项</a></li><li class="list__item"><span>系统属性列表</span></li></ul></div></div></section></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>