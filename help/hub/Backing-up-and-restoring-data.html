<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>备份-帮助|毂</title><link rel="stylesheet" href="/resources.jetbrains.com/storage/help-app/v3/app.css"></head><body  data-id="Backing-up-and-restoring-data"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索中心帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>Hub 2019.1帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 id="Backing-up-and-restoring-data.xml" data-toc="Backing-up-and-restoring-data">后备</h1>        <p id="7955a981">为了保护您的安装不受勒索软件的侵害并从硬件或软件故障中恢复，您应该定期备份集线器数据库。您应该始终至少有一个数据库的最新有效备份副本，可用于<span>还原安装</span> 。</p>        <p id="e081ea43">要访问集线器的备份设置，请从<span class="control">“</span> <span class="control">管理”</span>菜单的“ <span class="control">服务器设置”</span>部分中选择“ <span class="control">备份</span> <span class="control">”</span> 。</p>    <aside class="warning " rel="e081ea43" id="71798953" data-title=""><p id="e922ab35">此页面上描述的过程仅适用于外部集线器安装以及与Upsource安装捆绑在一起的内置集线器服务。在使用内置集线器服务或YouTrack InCloud实例的YouTrack Standalone安装中，请勿尝试更改这些设置。</p> </aside>    <p id="6c450315">        </p><figure><a class="lightbox" href="/help/img/hub/2019.1/backup-settings.zoomed.png"><img alt="备份设定" title="备份设定" src="/help/img/hub/2019.1/backup-settings.png" id="6383a1ae" width="600" height="464"></a></figure>    <p></p>    <div class="chapter"><h2 id="back-up-database" data-toc="Backing-up-and-restoring-data#back-up-database">备份数据库</h2>    <p id="0a743570">使用此页面上的控件，可以创建中心数据库和系统设置的备份副本。使用此功能可以保存和存档数据库副本。每次升级集线器安装时，建议您事先创建数据库备份。</p>    <p id="95a2a66f">您还可以设置计划以自动创建数据库的备份副本。</p>        <section class="procedure-steps"><h3 id="create-procedure">手动创建备份：</h3><aside class="tip sideblock" rel="create-procedure" id="cc6a389e" data-title=""><p>需要权限：低级管理员写</p></aside><ol class="list _decimal"><li class="list__item" id="98fe6667"><p>在<span class="control">“</span> <span class="control">管理”</span>菜单的“ <span class="control">服务器设置”</span>部分中，选择“ <span class="menupath" data-skip-index="skip">备份”</span> 。</p></li><li class="list__item" id="58bd6ea3"><p>在“ <span class="control">备份位置”</span>字段中，确认或设置服务器备份文件夹的位置。</p></li><li class="list__item" id="fd885e9e"><p>在“ <span class="control">文件名前缀”</span>字段中，确认或设置分配给备份文件的文件名的前缀。</p></li><li class="list__item" id="bf712275"><p id="822d5069">设置<span class="control">存档格式，</span>以确定是否将备份文件创建为TAR.GZ或ZIP存档。</p>            <p id="6aacf6e9">ZIP备份文件的最大大小为2Gb。对于较大的数据库，请使用TAR.GZ存档。</p>        </li><li class="list__item" id="fa009337"><p id="a08d7449">点击<span class="control">创建备份</span>按钮。</p>            <ul class="list _ul"><li class="list__item" id="af0cda49"><p>备份文件已创建。</p></li><li class="list__item" id="95b64dac"><p>完成后，备份文件的详细信息将显示在页面列表中。</p></li></ul>        </li></ol></section>        <section class="procedure-steps"><h3 id="schedule-procedure">计划自动备份：</h3><aside class="tip sideblock" rel="schedule-procedure" id="bd4bf4de" data-title=""><p>需要权限：低级管理员写</p></aside><ol class="list _decimal"><li class="list__item" id="b5eba208"><p>按照上面手动备份过程中的说明配置<span class="control">备份位置</span> ， <span class="control">文件名前缀</span>和<span class="control">存档格式</span> 。</p></li><li class="list__item" id="7188c659"><p>从“ <span class="control">备份间隔”</span>下拉列表中，选择一个预先配置的间隔，或者选择“ <span class="control">自定义”</span>并输入cron表达式。有关更多信息，请参考<a href="http://www.quartz-scheduler.org/documentation/quartz-2.3.0/tutorials/crontrigger.html" rel="noopener noreferrer" data-external="true" target="_blank">Quartz文档</a> 。</p></li><li class="list__item" id="c9ec79dd"><p>在“ <span class="control">备份文件轮换”</span>输入字段中，输入要保留的备份文件数。</p></li><li class="list__item" id="734764cf"><p>单击<span class="control">保存</span>按钮以存储您的更改。</p></li></ol></section>    </div>    <div class="chapter"><h2 id="restoring-your-installation" data-toc="Backing-up-and-restoring-data#restoring-your-installation">恢复安装</h2>        <p id="58a28466">存储备份的主要原因之一是保留数据的有效副本，可用于从硬件或软件故障中恢复。为了确保数据安全，我们强烈建议您启用数据库的常规备份并测试恢复安装的过程。</p>        <p id="8ac3a790">有关其他信息和说明，请参阅针对您的分发类型的说明：</p>        <ul class="list _ul"><li class="list__item" id="c9dccef1"><a href="restore-docker-installation.html">恢复Docker安装</a></li><li class="list__item" id="b307eaa6"><a href="Restore-MSI-Installation.html">还原MSI安装</a></li><li class="list__item" id="be9e2ac0"><a href="Restore-ZIP-Installation.html">还原ZIP安装</a></li></ul>    </div>    <div class="chapter"><h2 id="database-backup-settings" data-toc="Backing-up-and-restoring-data#database-backup-settings">备份设定</h2>        <a name="Configuring_Backup_Settings"></a>        <p id="8fde53a4">您可以修改数据库备份配置的默认设置。可以使用以下设置：</p>        <div class="table-wrapper"><table width="100%" id="33320d28"><thead><tr id="79a96ecf" class="ijRowHead"><th id="6f25c9fa" width="20%"><p>设置</p></th><th id="2fc8b0d4"><p>描述</p></th></tr></thead><tbody><tr id="792fce11" class="ijRowOdd"><td id="ef7d5dd7"><p>备份位置</p></td><td id="dc39026e"><p>设置集线器存储数据库备份的目录。</p></td></tr><tr id="53bb13a4" class="ijRowEven"><td id="c7e0cdbf"><p>文件名前缀</p></td><td id="8cc353ae"><p>设置分配给备份文件名的前缀。备份文件的完整文件名包含此前缀，后跟创建备份的日期和时间。</p></td></tr><tr id="67583357" class="ijRowOdd"><td id="4672e1e7"><p>存档格式</p></td><td id="5ecca892"><p>确定备份文件是以TAR.GZ还是ZIP格式保存。</p></td></tr><tr id="d77abd81" class="ijRowEven"><td id="81dd95b8"><p>备份间隔</p></td><td id="393abe52"><p>设置自动备份的时间表。选择一个预配置的时间间隔，或使用cron表达式设置自定义时间间隔。</p></td></tr><tr id="d27c527b" class="ijRowOdd"><td id="70f1163f"><p>备份文件轮换</p></td><td id="0a894ee2"><p>确定要在服务器上保留多少个数据库备份文件。此参数使您可以创建数据库备份的轮换。服务器上仅保留指定数量的备份文件。要禁用自动备份轮换，请将数字设置为“ 0”（零）。在这种情况下，所有备份文件都将保留，并且必须从备份位置手动删除。</p></td></tr></tbody></table></div>    </div><div class="last-modified" data-skip-index="skip">上次修改时间：2019年9月9日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="custom-localization.html">基于社区的语言支持</a> <a class="navigation-links__next" href="Monitoring-Hub-Metrics.html">指标</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>