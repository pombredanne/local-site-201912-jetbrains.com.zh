<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>OAuth 2.0 Authorization - Help | Hub</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body data-id="OAuth-2.0-Authorization"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search Hub Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>Hub 2019.1 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="OAuth-2.0-Authorization" id="OAuth-2.0-Authorization.xml">OAuth 2.0 Authorization</h1>    <p id="7cf1ed23">        Hub implementation of <a href="https://tools.ietf.org/html/rfc6749" data-external="true" target="_blank" rel="noopener noreferrer">OAuth 2.0</a> supports        several authentication/authorization flows. To access resources of Hub itself and services connected to Hub,        a client should obtain an access token. The flow that the client may use depends on:    </p>    <ul class="list _ul"><li class="list__item" id="17173ebf"><p>What information the client has (service credentials / user credentials).</p></li><li class="list__item" id="8f7ab249"><p>Where from the client access resources (from a browser / from the server side / from a standalone application).</p></li></ul>    <div class="chapter"><h2 id="oauth-authorization-flows" data-toc="OAuth-2.0-Authorization#oauth-authorization-flows">What Flow to Use?</h2>        <div class="table-wrapper"><table class=" wide" width="100%" id="3a5033ee"><thead><tr id="d4c25017" class="ijRowHead"><th id="ff42b576"><p>You develop...</p></th><th id="1d06a336"><p>Flow to use</p></th><th id="dabbdece"><p>Required parameters</p></th><th id="43fed21c"><p>Additional requirement</p></th></tr></thead><tbody><tr id="285e691b" class="ijRowOdd"><td id="2d247f65"><p>A rich client web application with all authorization logic in browser</p></td><td id="b049e9f8"><a href="Implicit.html">Implicit flow</a></td><td id="616c815c"><code class="code">service id</code></td><td id="534e5ac5"><p>Handle in browser request with a grant from Hub</p></td></tr><tr id="4b86c815" class="ijRowEven"><td id="1d917577"><p>A web application with the authorization login on the server side</p></td><td id="ab225a56"><a href="Authorization-Code.html">Authorization Code flow</a></td><td id="6ecc3304"><p><code class="code">service id</code>, <code class="code">service&nbsp;secret</code></p></td><td id="2ffd9ba9"><p>Handle request with a grant from Hub server on server side</p></td></tr><tr id="71031909" class="ijRowOdd"><td id="b9fb88b5"><p>A desktop or a mobile application able to request authorization token non-interactively</p></td><td id="ffd1aba6"><a href="Refresh-Token.html">Refresh Token flow</a></td><td id="1c8a61b5"><p><code class="code">service id</code>, <code class="code">service&nbsp;secret</code></p></td><td id="8800a7a2"><p>Handle request with a grant from Hub server on server side</p></td></tr><tr id="052f5291" class="ijRowEven"><td id="60cabd64"><p>A script that needs to access resources on behalf of itself</p></td><td id="bdba50d9"><a href="Client-Credentials.html">Client Credentials flow</a></td><td id="bdf4fc16"><p><code class="code">service id</code>, <code class="code">service&nbsp;secret</code></p></td><td id="340aada7"><p>None</p></td></tr><tr id="7d45f7b1" class="ijRowOdd"><td id="dcfe90f9"><p>A script that needs to access resources on behalf of some user</p></td><td id="d7389207"><a href="Resource-Owner-Password-Credentials.html">Resource Owner Password Credentials flow</a></td><td id="54d364b8"><p><code class="code">service id</code>, <code class="code">service&nbsp;secret</code>, <code class="code">username</code> and <code class="code">password</code></p></td><td id="0a18c933"><p>None</p></td></tr></tbody></table></div>    </div>    <div class="chapter"><h2 id="oauth-authorization-requirements" data-toc="OAuth-2.0-Authorization#oauth-authorization-requirements">What Information You Should Have</h2>        <div class="table-wrapper"><table class=" wide" width="100%" id="7788ca81"><thead><tr id="e678cd9e" class="ijRowHead"><th id="0241a35a"><p>Parameter</p></th><th id="8e87cc14"><p>Is&nbsp;it&nbsp;required?</p></th><th id="42c2b887"><p>Description</p></th></tr></thead><tbody><tr id="5deed244" class="ijRowOdd"><td id="a93106a2"><code class="code">Client&nbsp;service&nbsp;ID</code></td><td id="e0e35965"><b id="ef79f907">Always</b></td><td id="149293b6"><p>An identifier (ID) of the service associated with the client in Hub.</p></td></tr><tr id="c9294e13" class="ijRowEven"><td id="cdbb82ea"><code class="code">Client&nbsp;service&nbsp;secret</code></td><td id="9878d187"><p>Depends on flow</p></td><td id="97e0b853"><p>A secret for the service associated with the client in Hub.</p></td></tr><tr id="843f5cd9" class="ijRowOdd"><td id="ea505e69"><code class="code">Scope</code></td><td id="f1940dbc"><b id="1d97d5fa">Always</b></td><td id="0b70c8f4"><p id="e3585d79">An ID of the registered in Hub service associated with                    the resource server. For example, if the client wants to access issues in YouTrack, it should find out                    the id of YouTrack service in Hub.</p>                    <p id="8615b94e">The client can access more then one resource server with a single                    access token. In this case, the Scope is the space-separated list of the IDs of the services registered in Hub.</p>                </td></tr><tr id="bdc78508" class="ijRowEven"><td id="095bdf07"><code class="code">Client&nbsp;redirect&nbsp;URI</code></td><td id="60541c9d"><p>Depends on flow</p></td><td id="22e529cf"><p>An URI at the client application that can handle response from authorization server (Hub).</p></td></tr><tr id="4700e773" class="ijRowOdd"><td id="3dca892e"><code class="code">Username</code></td><td id="d003d32f"><p>Depends on flow</p></td><td id="a9a29a5e"><p>End-user's username, or id, or email.</p></td></tr><tr id="c19ce359" class="ijRowEven"><td id="0b430a58"><code class="code">Password</code></td><td id="9f209744"><p>Depends on flow</p></td><td id="589a24ec"><p>End-user's password.</p></td></tr></tbody></table></div>            </div>    <div class="chapter"><h2 id="HubOauthEndpoints" data-toc="OAuth-2.0-Authorization#HubOauthEndpoints">OAuth 2.0 Endpoints for Hub</h2>        <p id="69595f3f">For the Hub service, the OAuth 2.0 endpoints for authentication and token are:</p>        <ul class="list _bullet"><li class="list__item" id="f5ae9a28"><p>Authentication endpoint URL: <code class="code">&lt;Hub Service URL&gt;/api/rest/oauth2/auth</code></p></li><li class="list__item" id="ab09c1a5"><p>Token endpoint URL: <code class="code">&lt;Hub Service URL&gt;/api/rest/oauth2/token</code></p></li></ul>        <p id="5baad496"><code class="code">&lt;Hub Service URL&gt;</code> is the URL that is configured for the Hub service in your network environment.            For example, you have your company's server <code class="code">www.mycompany.com</code> and a Hub service. You can configure Hub to be accessible by <code class="code">www.mycompany.com/hub</code> or, let's say <code class="code">hub.mycompany.com</code>.            Subsequently, the OAuth 2.0 endpoints are as follows, respectively:</p>        <ul class="list _bullet"><li class="list__item" id="056945f7"><p>For <code class="code">www.mycompany.com/hub</code>: <code class="code">https://www.mycompany.com/hub/api/rest/oauth2/auth</code> and <code class="code">https://www.mycompany.com/hub/api/rest/oauth2/token</code></p></li><li class="list__item" id="f4f08ecd"><p>For <code class="code">hub.mycompany.com</code>: <code class="code">https://hub.mycompany.com/api/rest/oauth2/auth</code> and <code class="code">https://hub.mycompany.com/api/rest/oauth2/token</code>.</p></li></ul>    </div>    <div class="chapter"><h2 id="oauth-authorization-service-registration" data-toc="OAuth-2.0-Authorization#oauth-authorization-service-registration">Register Client as a Service</h2>        <p id="1b379d72">            To enable authorization you should register your client as a Hub service. You can do it either in            <a href="Managing-Services.html">administrative UI</a> or            <a href="HUB-REST-API_Services_Create-New-Service.html">programmatically</a>.            Basically, you just send <code class="code">POST</code> request on <code class="code">/services</code> URL and get credentials of the newly            created service in response.        </p>        <div class="chapter"><h3 id="SampleScriptForRegisteringClientAsService">Sample script for registering client as a service</h3>           <p id="e5af6b1c">               The following sample script considers Hub service to be installed to <code class="code">https://hub.company.com</code> and a client               OAuth 2.0 service - to <code class="code">https://myservice.company.com</code>.           </p>           <div class="chapter"><h4 id="1679cb52">Request</h4>               <div class="code-block" data-lang="markup">
                   POST /api/rest/services?fields=id,secret HTTP/1.1
                   Host: hub.company.com
                   Accept: application/json
                   Content-Type: application/json

                   {
                   "name": "My Service",
                   "homeUrl": "https://myservice.company.com",
                   "redirectUris": ["https://myservice.company.com/authorized"],
                   "applicationName": "My Service",
                   "vendor": "Company Inc.",
                   "version": "1.0"
                   }
               </div>           </div>           <div class="chapter"><h4 id="0d7bd03f">Response</h4>               <div class="code-block" data-lang="markup">
                   {
                   "id": "98071167-004c-4ddf-ba37-5d4599fdf319",
                   "secret": "eAUyKgVfhSbV"
                   }
               </div>               <p id="156d1d6f">You can later use service's <code class="code">id</code> and <code class="code">secret</code> for authorization.</p>               <p id="0e66365b">                   Service in Hub can be either trusted or not. If a service is <span class="emphasis">trusted</span>, then it can access Hub resource servers                   on behalf of itself. Also, when a user is sent from the trusted service to authorize himself,                   the user sees no additional warning.               </p>           </div>        </div>    </div><div class="last-modified" data-skip-index="skip">Last modified: 9 September 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="Permanent-Token.html">Permanent Token Authorization</a><a class="navigation-links__next" href="Implicit.html">Implicit</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>