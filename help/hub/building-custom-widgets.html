<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>Widget Development Guide - Help | Hub</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body data-id="building-custom-widgets"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search Hub Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>Hub 2019.1 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="building-custom-widgets" id="building-custom-widgets.xml">Widget Development Guide</h1>    <p id="07440149">Custom widgets are miniature application views that can you can embed in a Hub dashboard or project overview page.        You can build a widget that lets you view and interact with any application that is part of your software        ecosystem, including custom views for applications that are already connected to your Hub service.</p>    <p id="79e5feff">This page includes a basic overview of the widget package and manifest file.    For a step-by-step introduction to custom widgets, read the <a href="how-to-build-custom-widget.html">Custom Widget Tutorial</a>.</p>    <div class="chapter"><h2 id="yeoman-generator-custom-widget" data-toc="building-custom-widgets#yeoman-generator-custom-widget">Quick Start</h2>        <p id="c5f1f37a">The fastest way to build a custom widget is to use our Yeoman generator.            When you run the generator:</p>        <ul class="list _ul"><li class="list__item" id="66fb0987"><p>Yeoman builds the basic project structure and installs all of the required dependencies.</p></li><li class="list__item" id="34de7589"><p>The <code class="code">index.html</code> file that is required for the widget package is created in the <code class="code">src</code> directory.</p></li><li class="list__item" id="a4791a3d"><p>The prompts in the command line let you specify values for the <code class="code">name</code>, <code class="code">description</code>, and <code class="code">author</code> attributes in the <code class="code">manifest.json</code> file.</p></li><li class="list__item" id="3f7d20db"><p>The code for a sample widget is saved to the <code class="code">app</code> subdirectory.</p></li></ul>        <p id="6e80211f">To build a custom widget with the generator, <a href="https://github.com/JetBrains/ring-ui/blob/master/packages/generator/hub-widget" data-external="true" target="_blank" rel="noopener noreferrer">access the widget generator in GitHub</a> and follow the instructions in the README file.        To get started, use the following commands:</p>        <div class="code-block" data-lang="none">npm install -g yo @jetbrains/generator-ring-ui</div>        <p id="d2cd6ef1">Then switch to the root directory of your widget (create one if necessary) and run:</p>        <div class="code-block" data-lang="none">yo @jetbrains/ring-ui:hub-widget</div>        <p id="65e1751d">The generator prompts you to enter the widget name (defaults to the name of the current directory), widget description, and author.            Yeoman creates your project files and installs all the dependencies for you.</p>        <p id="c207dfa7">At this point, you should have all of the tools that you need to get started.            As you build your widget, use the information on this page for reference.</p>    </div>    <div class="chapter"><h2 id="widget-package" data-toc="building-custom-widgets#widget-package">Widget Package</h2>        <p id="51c1599b">Widgets are built using HTML, CSS, and JavaScript.            These are static web apps that run in a sandboxed inline frame (iFrame).        </p>        <ul class="list _ul"><li class="list__item" id="c46ae315"><p>The widget must have entry file that is named <code class="code">index.html</code>.            </p></li><li class="list__item" id="84db432b"><p>Your widget package can contain related source files.</p></li></ul>        <p id="66cba0f4">There are a few resources that you can use to build your widgets.</p>        <div class="table-wrapper"><table class="  _layout-fixed" width="100%" id="adf48d58"><thead><tr id="379177c2" class="ijRowHead"><th id="d418e72c" width="20%"><p>Resource</p></th><th id="37551fef"><p>Description</p></th></tr></thead><tbody><tr id="b95ab16f" class="ijRowOdd"><td id="b2d9b760">                    <a href="https://unpkg.com/hub-dashboard-addons@0.0.8/dashboard.css" data-external="true" target="_blank" rel="noopener noreferrer">dashboard.css</a>                </td><td id="941f4cd1"><p>This .css file contains the default text styles and layout definitions that are used for widgets in                    Hub.                    You can use this as the default stylesheet for your widgets or modify these style to                    change your widget layout.                </p></td></tr><tr id="f9e4b8a7" class="ijRowEven"><td id="398010ba">                    <a href="https://unpkg.com/hub-dashboard-addons@latest" data-external="true" target="_blank" rel="noopener noreferrer">dashboard script</a>                </td><td id="0051d649">This script contains code that communicates with a dashboard through messages.                    It creates a <code class="code">Dashboard</code> object in the global scope, where you can call the single method <code class="code">registerWidget</code>.                    <p id="00d7e383">To use this script, choose one of the following implementations:</p>                    <ul class="list _ul"><li class="list__item" id="f62f45ee"><p>Add a reference to it in the header of your <code class="code">index.html</code> file.                            Wrap the reference inside a <code class="code">&lt;script&gt;</code> tag. For example:                            <div class="code-block" data-lang="markup">
                                &lt;script src="https://unpkg.com/hub-dashboard-addons@latest"&gt;&lt;/script&gt;
                            </div>                        </p></li><li class="list__item" id="f5a3507c"><p>Use the npm package manager to install the script with the <code class="code">npm install hub-dashboard-addons</code> command.                            You can then add references to the script in your application any way you want.                        </p></li></ul>                </td></tr><tr id="a211f648" class="ijRowOdd"><td id="3382cfe8"><a href="https://github.com/JetBrains/ring-ui" data-external="true" target="_blank" rel="noopener noreferrer">Ring UI</a></td><td id="32237830"><p>JetBrains has published an open-source library of web components that are used for our web-based products.                    The library contains over 50 React controls, ranging from simple links and buttons to sophisticated controls                    like a <a href="https://jetbrains.github.io/ring-ui/master/index.html?path=/story/components-date-picker--range" data-external="true" target="_blank" rel="noopener noreferrer">date picker</a>                    and an <a href="https://jetbrains.github.io/ring-ui/master/index.html?path=/story/components-datalist--basic" data-external="true" target="_blank" rel="noopener noreferrer">interactive hierarchical data list</a>.                    This library is used extensively inside YouTrack, Hub, Upsource, and other products.<br><br>                For a complete list of components and setup instructions, access the <a href="https://jetbrains.github.io/ring-ui/master/index.html" data-external="true" target="_blank" rel="noopener noreferrer">Ring UI library online</a>.</p></td></tr></tbody></table></div>        <p id="fea1b34e">When you have assembled all of the content and source files for your widget, add a manifest to the top-most            directory and create a ZIP archive.            You can then import the ZIP archive into Hub and enable the widget for use on your dashboards and project overview pages.        </p>    </div>    <div class="chapter"><h2 id="widget-manifest" data-toc="building-custom-widgets#widget-manifest">Widget Manifest</h2>        <p id="33569544">Each widget should contain a <code class="code">manifest.json</code> file.            This file defines the attributes for your custom widget.        </p>        <p id="75908033">For Hub to read and display the attributes in the widget manifest:</p>        <ul class="list _ul"><li class="list__item" id="55f2987f"><p>The file must be named <code class="code">manifest.json</code>.            </p></li><li class="list__item" id="e3bc1c12"><p>The file must be stored in the top-most directory of the ZIP archive.</p></li></ul>        <p id="97038807">The following attributes are defined in the widget manifest:</p>        <div class="table-wrapper"><table class=" wide" width="100%" id="4a25913b"><thead><tr id="1b9dd886" class="ijRowHead"><th id="f605968d" width="20%"><p>Attribute</p></th><th id="3f79cf3a" width="10%"><p>Type</p></th><th id="57fffe8f"><p>Description</p></th><th id="25b21457" width="10%"><p>Condition</p></th></tr></thead><tbody><tr id="7c70016c" class="ijRowOdd"><td id="e75dd5f7"><p>key</p></td><td id="9d7691f8"><p>string</p></td><td id="8ccae392"><p>The internal ID that is used to identify the widget in Hub.                    This ID must be unique per server.                </p></td><td id="5947d559"><p>required</p></td></tr><tr id="241244ad" class="ijRowEven"><td id="7a71120a"><p>version</p></td><td id="6c810001"><p>string</p></td><td id="787cd658"><p>The version number of the widget app.</p></td><td id="985dc933"><p>required</p></td></tr><tr id="f23349f6" class="ijRowOdd"><td id="2e457a19"><p>name</p></td><td id="b78719f4"><p>string</p></td><td id="9be11ef0"><p>The name of the custom widget.                    This identifies the widget in the <span class="control">Custom Widgets</span> list and is shown in the <span class="control">                        Add widget                    </span> drop-down menu.                </p></td><td id="d73f35a1"><p>required</p></td></tr><tr id="740f4cce" class="ijRowEven"><td id="09de66c0"><p>description</p></td><td id="705a563e"><p>string</p></td><td id="3788f9e8"><p>The description that is displayed on the <span class="control">Custom Widgets</span> list.                </p></td><td id="3fd61338"><p>required</p></td></tr><tr id="809db040" class="ijRowOdd"><td id="07cd33b6"><p>author</p></td><td id="5b0d0467"><p>string</p></td><td id="b5aa5cd2"><p>The name and email address of the developer who created the widget.                    Specified in the same format that is used in an NPM package.                    For more information, refer to the <a href="https://docs.npmjs.com/files/package.json#people-fields-author-contributors" data-external="true" target="_blank" rel="noopener noreferrer">npm package description</a>.                </p></td><td id="4c2a1c73"><p>required</p></td></tr><tr id="4b65ff2f" class="ijRowEven"><td id="dfe4c800"><p>homeUrl</p></td><td id="29e15565"><p>URL</p></td><td id="50fe0738"><p>The web address of the widget homepage or code repository.                    Shown in the <span class="control">Details</span> sidebar in the widget list.                </p></td><td id="f4ad1b2d"><p>optional</p></td></tr><tr id="a566c3ff" class="ijRowOdd"><td id="352741ad"><p>applicationName</p></td><td id="a1711eaa"><p>string</p></td><td id="964d6487"><p>The name of the application that the widget is designed to display content from.                    For example, <code class="code">YouTrack</code>.                </p></td><td id="5703c97a"><p>optional</p></td></tr><tr id="282f10a0" class="ijRowEven"><td id="616139db"><p>iconUrl</p></td><td id="2aeb2e29"><p>URL</p></td><td id="2316d620"><p>The address of the image that is used as the widget icon.                    The location is relative to the widget root folder, without a leading slash.                    If empty, the icon of the application referenced in the <code class="code">applicationName</code> is shown in the                    widget header.                </p></td><td id="a734c6c9"><p>optional</p></td></tr><tr id="fa6a84e7" class="ijRowOdd"><td id="05403a46"><p>dependencies</p></td><td id="4dab938c"><p>sequence</p></td><td id="0661da06">A list of services to which the widget sends HTTP requests. Specified as a sequence of key and value pairs.                    For the widget to work as expected, these services must be connected to your Hub installation.                    For more information, see <a href="#widget-dependencies">Dependencies</a>.                    <ul class="list _ul"><li class="list__item" id="2924bc13"><p>The key must be equal to the application name attribute of a registered service.                            If the key does not match any service in Hub, the attribute is ignored.                        </p></li><li class="list__item" id="64950629"><p>The values correspond to the application versions that are supported for the specified                            service.                            Only applications whose version matches the specified service are available for the widget.<br><br>                            Versions numbers follow the format recommended by the Semantic Versioning Specification                            (SemVer).                            For more information, refer to the <a href="https://docs.npmjs.com/misc/semver" data-external="true" target="_blank" rel="noopener noreferrer">semantic versioner for npm</a>.                        </p></li></ul>                </td><td id="3632b792"><p>optional</p></td></tr><tr id="7151524a" class="ijRowEven"><td id="f7eea0c5"><p>products</p></td><td id="98a84006"><p>sequence</p></td><td id="b7be5794">A list of products and compatible versions where the widget can be installed.                Specified as a sequence of key and value pairs, similar to the list of dependencies.                    For more information, see <a href="#widget-products">Products</a>.                    <ul class="list _ul"><li class="list__item" id="f7c9931b"><p>The key must be equal to the application name attribute of a registered service.                            If the key does not match any service in Hub, the attribute is ignored.                        </p></li><li class="list__item" id="bba2a1d3"><p>The values correspond to the application versions that the widget is compatible with.                            Installation is only supported by applications whose version matches the specified service.                        </p></li></ul>                </td><td id="40fc6bc8"><p>required</p></td></tr><tr id="7bfe8959" class="ijRowOdd"><td id="dc4a2ec6"><p>view</p></td><td id="a02ccfe9"><p>sequence</p></td><td id="358c6093">A list of visual attributes.                    The following attributes are supported:                    <div class="table-wrapper"><table class=" wide" width="100%" id="a9103d04"><thead><tr id="da329093" class="ijRowHead"><th id="0731e2f7"><p>Attribute</p></th><th id="7f4480af"><p>Type</p></th><th id="3a6d66c0"><p>Description</p></th></tr></thead><tbody><tr id="95efcf04" class="ijRowOdd"><td id="34a63753"><p>fadeOut</p></td><td id="3e5ad198"><p>Boolean</p></td><td id="29ffb594"><p>Determines the visual presentation of the scrolling content area.                            When <code class="code">true</code>, applies shading to the top and bottom of the scrolling content area inside the widget.</p></td></tr><tr id="7e42bb3c" class="ijRowEven"><td id="914b87ec"><p>defaultWidth</p></td><td id="b52d14ec"><p>integer</p></td><td id="6d3ed6a2"><p>Sets the default width of the widget when a user adds it to a dashboard or project overview page.                            When empty, the value is set to <code class="code">2</code>.</p></td></tr><tr id="4b0fbb63" class="ijRowOdd"><td id="a918c291"><p>defaultHeight</p></td><td id="d31e54df"><p>integer</p></td><td id="81906d34"><p>Sets the default width of the widget when a user adds it to a dashboard or project overview page.                                When empty, the value is set to <code class="code">2</code>.</p></td></tr></tbody></table></div>                    The values that can be specified for the <code class="code">defaultWidth</code> and <code class="code">defaultHeight</code> attributes correspond with the columns and rows for the grid on the target page.                    <ul class="list _ul"><li class="list__item" id="88667c6d"><p>The grid for the <span class="control">Dashboard</span> page has eight columns and an infinite number of rows.</p></li><li class="list__item" id="d11e16ab"><p>The grid for the <span class="control">Project Overview</span> page has six columns and an infinite number of rows.</p></li></ul>                    When you set these attributes in the widget manifest, you determine the width and height that is most appropriate for displaying the content in your widget.                </td><td id="378f32e2"><p>optional</p></td></tr><tr id="7072abb3" class="ijRowEven"><td id="9e83dbf8"><p>capabilities</p></td><td id="20a75515"><p>sequence</p></td><td id="64993fe6">A list of capabilities that the widget supports in the web browser.                    These attributes inform users who install the widget of functionality that manipulates browser behavior.                    The following attributes are supported:                    <div class="table-wrapper"><table class=" wide" width="100%" id="160efe4e"><thead><tr id="75f142e9" class="ijRowHead"><th id="a0be34a0"><p>Attribute</p></th><th id="3324c938"><p>Type</p></th><th id="295b8738"><p>Description</p></th></tr></thead><tbody><tr id="ca7a25d9" class="ijRowOdd"><td id="9a881c2a"><p>popups</p></td><td id="688c9467"><p>Boolean</p></td><td id="9ae5c760"><p>When <code class="code">true</code>, the widget is capable of displaying alerts and opening links in new browser tabs or windows.                                Specify this attribute when your widget uses the <code class="code">target="_blank"</code> attribute for one or more links, uses the <code class="code">window.open()</code> method, or uses the <code class="code">alert()</code> method.</p></td></tr><tr id="238843c9" class="ijRowEven"><td id="3417691f"><p>topNavigation</p></td><td id="a40452a7"><p>Boolean</p></td><td id="f6b05c2f"><p>When <code class="code">true</code>, the widget is capable of opening a link as the top document in the browser window, navigating away from the current page.                                Specify this attribute when your widget uses the <code class="code">target="_parent"</code> or <code class="code">target="_top"</code> attribute for one or more links.</p></td></tr></tbody></table></div>                </td><td id="c6fa3417"><p>optional</p></td></tr></tbody></table></div>        <p id="c6d2783d">The following example shows how these attributes are defined in the JSON file.            To build your own manifest, copy this example, paste it into your editor, and replace the sample attributes            with your own.        </p>        <div class="code-block" data-lang="json">{
    "key": "some-widget",
    "version": "1.0",
    "name": "Display name",
    "description": "A widget to do something",
    "author": "Dee Veloper &lt;dee.veloper@gmail.com&gt;",
    "homeUrl": "https://github.com/huston007/some-widget",
    "applicationName": "YouTrack",
    "iconUrl": "static/icon.svg",
    "dependencies": {
        "YouTrack": "&gt;2017.1",
        "Hub": "&gt;3.0"
    },
    "products": {
        "Hub": "&gt;=2018.1",
        "Upsource": "&gt;=2018.1",
        "YouTrack": "&gt;=2018.1"
    },
    "view": {
        "fadeOut": true,
        "defaultWidth": 3,
        "defaultHeight": 2
    },
    "capabilities": {
        "popups": true,
        "topNavigation": true
    }
}</div>    </div>    <div class="chapter"><h2 id="widget-compatibility" data-toc="building-custom-widgets#widget-compatibility">Widget Compatibility</h2>        <p id="2189aa4f">There are two sections in the widget manifest that define whether the widget is compatible with an installation and the services that are connected to it.        Use the information provided here to set the values in your manifest accordingly.</p>        <div class="chapter"><h3 id="widget-dependencies">Dependencies</h3>            <p id="f93bba9d">The <code class="code">dependencies</code> section contains a list of services to which the widget sends HTTP requests.            If these services are not connected to the Hub installation, the widget does not have any data to display.</p>            <p id="26893008">In some cases, your HTTP requests require a specific API version for the connected service.            To function properly, your widget needs to specify the minimum version number that supports the request.</p>        </div>        <div class="chapter"><h3 id="widget-products">Products</h3>            <p id="c346c9b1">The <code class="code">products</code> section lists the products into which the widget can be installed.            Here, the versioning depends on the version of the dashboard API that is supported by the product itself.</p>            <p id="0e8dbafe">Extensions to the dashboard API are officially supported in new minor versions of Hub.            New minor versions of YouTrack and Upsource incorporate these changes as well.</p>            <p id="cc2e23d6">For example, if a widget uses a method that was added after the release of Hub 2018.1, the widget can be installed in Hub versions 2018.2 and later.            The references to YouTrack and Upsource in the <code class="code">products</code> section should also require 2081.2 as the minimum version for installation.</p>        </div>    </div>    <div class="chapter"><h2 id="widget-size-limitations" data-toc="building-custom-widgets#widget-size-limitations">Size Limitations</h2>        <p id="4827ff29">To protect your installation against malicious archive packages, Hub blocks uploads that are too large or contain too many files.            These limitations apply to all uploads, including custom widgets that have been downloaded from the JetBrains Plugins Repository.        Each widget package is subject to the following limitations:</p>        <ul class="list _ul"><li class="list__item" id="b79df7c4"><p>The ZIP archive itself cannot be larger than 10 MB.</p></li><li class="list__item" id="36fd1e3f"><p>Single uncompressed files inside the archive cannot be larger than 30 MB.</p></li><li class="list__item" id="8f0d382a"><p>The ZIP archive cannot contain more than 1000 files.</p></li></ul>    </div><div class="last-modified" data-skip-index="skip">Last modified: 9 September 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="Resources-for-Developers.html">Resources for Developers</a><a class="navigation-links__next" href="how-to-build-custom-widget.html">Custom Widget Tutorial</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>