<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>Client Credentials - Help | Hub</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body data-id="Client-Credentials"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search Hub Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>Hub 2019.1 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Client-Credentials" id="Client-Credentials.xml">Client Credentials</h1>    <div class="chapter"><h2 id="ClientCredentialsFlow" data-toc="Client-Credentials#ClientCredentialsFlow">Reference to the Standard</h2>        <p id="de0e295e">            <a href="https://tools.ietf.org/html/rfc6749#section-4.4" data-external="true" target="_blank" rel="noopener noreferrer">Specification for the Client Credentials Flow (RFC6749)</a>        </p>    </div>    <div class="chapter"><h2 id="Prerequisites" data-toc="Client-Credentials#Prerequisites">Prerequisites</h2>        <p id="ae32439b">            <b id="6872a68d">Client knows its own credentials and accesses resources on behalf of itself</b>.        </p>        <p id="d98af74a">The client can request an access token using only its client            credentials (or other supported means of authentication) when the            client is requesting access to the protected resources under its            control, or those of another resource owner that have been previously            arranged with the Hub server.        </p>        <p id="8c2dac9a">The client credentials grant type <b id="d1521994">must</b> only be used by confidential clients.        </p>        <p id="63314a7c">The client <b id="1010b90c">must</b> be a trusted service registered in Hub.</p>    </div>    <a name="Access Token Fetch"></a>    <h4 id="6c6f2aca">Access Token Fetch</h4>    <p id="4ad048a6">The client makes a request to the token endpoint by adding the        following parameters using the        <code class="code">"application/x-www-form-urlencoded"</code>        format with a character encoding of UTF-8 in the HTTP request<code class="code">entity-body</code>:    </p>    <dl><dt id="d14ba804">grant_type</dt><dd>            Required. Value must be set to "client_credentials".        </dd><dt id="ba0d52e4">scope</dt><dd>            <p id="f017fab1">Optional. A space separated list of IDs of the registered in Hub services associated with the                resource servers. For example, if the client wants to access issues in YouTrack it should find out the                ID                of YouTrack service in Hub. The client can access more then one resource server with a single access                token.            </p>        </dd></dl>    <p id="93b28772">The request must contain the "Authorization" header in the following format:</p>    <div class="code-block" data-lang="markup">
        Authorization: Basic base64(service_id + “:” + service_secret)
    </div>    <p id="ba6d7ec2">For example, the client makes the following HTTP request using transport-layer security:</p>    <div class="code-block" data-lang="markup">
        POST /api/rest/oauth2/token
        Host: hub.company.com
        Authorization: Basic czZCaGRSa3F0MzpnWDFmQmF0M2JW
        Content-Type: application/x-www-form-urlencoded

        grant_type=client_credentials
    </div>    <p id="7d504e51">The authorization server must authenticate the client.</p>    <a name="AccessTokenResponse"></a>    <h4 id="179e8e1b">Access Token Response</h4>    <div class="chapter"><h2 id="SuccessfulResponse" data-toc="Client-Credentials#SuccessfulResponse">Successful response</h2>        <p id="474908cb">If the access token request is valid and authorized, Hub will issue an access token as described below.            Please note that a refresh token is not included.        </p>        <p id="55ac0c48">The authorization server issues an access token and optional refresh            token, and constructs the response by adding the following parameters            to the entity-body of the HTTP response with a 200 (OK) status code:        </p>        <dl><dt id="ec266091">access_token</dt><dd>Required. The access token issued by Hub.</dd><dt id="1c0dcb02">token_type</dt><dd>Required. The type of the token issued. Value is case insensitive.</dd><dt id="174f8dab">expires_in</dt><dd>Recommended. The lifetime in seconds of the access token. For                example, the value "3600" denotes that the access token will                expire in one hour from the time the response was generated.            </dd><dt id="fbd61389">scope</dt><dd>                <p id="38675c27">Required. A space-separated list of IDs of the services registered in Hub and associated with the                    resource servers. For example, if the client wants to access issues in YouTrack it should find out                    the ID                    of YouTrack service in Hub. The client can access more then one resource server with a single access                    token.                </p>            </dd></dl>        <p id="b56be661">The parameters are included in the            <code class="code">entity-body</code>            of the HTTP response            using the "application/json" media type. The            parameters are serialized into a JavaScript Object Notation (JSON)            structure by adding each parameter at the highest structure level.            Parameter names and string values are included as JSON strings.            Numerical values are included as JSON numbers. The order of            parameters does not matter and can vary.        </p>        <p id="5400b0c6">Hub includes the HTTP "Cache-Control"            response header field with a value of "no-store" in any            response containing tokens, credentials, or other sensitive            information, as well as the "Pragma" response header field with a value of "no-cache".        </p>        <p id="ed1d8383">An example of successful response:</p>        <div class="code-block" data-lang="markup">
            HTTP/1.1 200 OK
            Content-Type: application/json;charset=UTF-8
            Cache-Control: no-store
            Pragma: no-cache

            {
            "access_token":"2YotnFZFEjr1zCsicMWpAA",
            "token_type":"example",
            "expires_in":3600,
            "example_parameter":"example_value"
            }
        </div>    </div>    <div class="chapter"><h2 id="HandlingErrorResponse" data-toc="Client-Credentials#HandlingErrorResponse">Handling Error response</h2>        <p id="ec4b707d">If the request failed client authentication or is invalid, Hub responds with an HTTP 400 (Bad Request)            status code (unless specified otherwise) and includes the following            parameters with the response:        </p>        <dl><dt id="bd5646f1">error</dt><dd>                <p id="8fee27bc">A single ASCII [USASCII] error code from the following:</p>                <ul class="list _bullet"><li class="list__item" id="00fd214d"><p>                        <code class="code">invalid_request</code>                        -                        The request is missing a required parameter, includes an                        unsupported parameter value (other than grant type),                        repeats a parameter, includes multiple credentials,                        utilizes more than one mechanism for authenticating the                        client, or is otherwise malformed.                    </p></li><li class="list__item" id="38462ff3"><p>                        <code class="code">invalid_client</code>                        -                        Client authentication failed (e.g., unknown client, no                        client authentication included, or unsupported                        authentication method). Hub may                        return an HTTP 401 (Unauthorized) status code to indicate                        which HTTP authentication schemes are supported. If the                        client attempted to authenticate via the "Authorization"                        request header field, the Hub server will                        respond with an HTTP 401 (Unauthorized) status code and                        include the "WWW-Authenticate" response header field                        matching the authentication scheme used by the client.                    </p></li><li class="list__item" id="5a9c2491"><p>                        <code class="code">invalid_grant</code>                        -                        The provided authorization grant (e.g., authorization                        code, resource owner credentials) or refresh token is                        invalid, expired, revoked, does not match the redirection                        URI used in the authorization request, or was issued to                        another client.                    </p></li><li class="list__item" id="5572a811"><p>                        <code class="code">unauthorized_client</code>                        -                        The authenticated client is not authorized to use this                        authorization grant type.                    </p></li><li class="list__item" id="bb9d6d13"><p>                        <code class="code">unsupported_grant_type</code>                        -                        The authorization grant type is not supported by Hub.                    </p></li><li class="list__item" id="de2812c8"><p>                        <code class="code">invalid_scope</code>                        -                        The requested scope is invalid, unknown, malformed, or                        exceeds the scope granted by the resource owner.                    </p></li></ul>            </dd><dt id="0e61a87b">error_description</dt><dd>                Human-readable ASCII [USASCII] text providing                additional information to assist the client developer in                understanding the error that occurred.            </dd><dt id="19e48fdd">error_uri</dt><dd>                An URI identifying a human-readable web page used to provide the client                developer with additional information about the error.            </dd></dl>        <p id="dd7b8687">The parameters are included in the entity-body of the HTTP response            using the "application/json" media type. The            parameters are serialized into a JSON structure by adding each            parameter at the highest structure level. Parameter names and string            values are included as JSON strings. Numerical values are included            as JSON numbers. The order of parameters does not matter and can            vary.        </p>        <p id="d010e50e">For example:</p>        <div class="code-block" data-lang="markup">
            HTTP/1.1 400 Bad Request
            Content-Type: application/json;charset=UTF-8
            Cache-Control: no-store
            Pragma: no-cache

            {
            "error":"invalid_request"
            }
        </div>    </div><div class="last-modified" data-skip-index="skip">Last modified: 9 September 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="Resource-Owner-Password-Credentials.html">Resource Owner Password Credentials</a><a class="navigation-links__next" href="OAuth-2.0-Errors.html">OAuth 2.0 Errors</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>