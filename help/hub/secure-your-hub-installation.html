<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>Secure Your Hub Installation - Help | Hub</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body data-id="secure-your-hub-installation"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search Hub Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>Hub 2019.1 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="secure-your-hub-installation" id="secure-your-hub-installation.xml">Secure Your Hub Installation</h1>    <p id="16e2ff1b">As an application that is dedicated to user and access management, we develop Hub with security in mind.        We take great care to eliminate exposures to different types of attacks.        We work with third-parties who scan Hub for vulnerabilities and perform penetration tests.        When a security issue is discovered, we strive to address the problem in the next major version or bug-fix release.</p>    <p id="7c277a56">The recommendations on this page are intended to help you keep your Hub data secure.        These best practices can help you avoid pitfalls that leave your data vulnerable to theft, damage, or loss.</p>    <div class="chapter"><h2 id="document-security-plan" data-toc="secure-your-hub-installation#document-security-plan">Document Your Setup</h2>        <p id="b46bc899">Documentation is an important part of your security plan.            If your Hub administration changes hands, the new administrator shouldn't have to learn how the application is configured through trial and error.            As you follow this guide to secure your Hub environment, make a note of each change and explain why you set it up the way you did.            When done, collect your notes and add them to your information security policy documentation.</p>    </div>    <div class="chapter"><h2 id="security-updates" data-toc="secure-your-hub-installation#security-updates">Stay Up To Date</h2>            <p id="145a0008">To ensure that your installation includes the most recent security enhancements, make sure you always use the latest version of Hub.                To make sure you haven't missed an important update:</p>            <ul class="list _ul"><li class="list__item" id="cb772c67"><p>Subscribe to announcements for major releases on the <a href="https://blog.jetbrains.com/hub/" data-external="true" target="_blank" rel="noopener noreferrer">Hub blog</a>.</p></li><li class="list__item" id="a6c3c877"><p>Follow Hub on <a href="https://twitter.com/jetbrains_hub" data-external="true" target="_blank" rel="noopener noreferrer">Twitter</a> for minor updates.</p></li></ul>        <p id="de1643b5">To prevent accidental disclosure, we usually restrict the visibility to issues that are classified as a <span class="control">Security Problem</span> to members of the JetBrains team.            You may see issues in the <span class="control">Security Problem</span> section of our release notes, but this is by no means a comprehensive list of security-related issues that have been fixed in any given release.</p>            <p id="a547d25f">For this reason, we strongly recommend that you update your installation to the latest version as soon as possible. </p>    </div>        <div class="chapter"><h2 id="secure-environment" data-toc="secure-your-hub-installation#secure-environment">Create a Safe Environment</h2>            <p id="2623bc77">As a web-based application, registered users can connect to Hub from outside your network.                Any server that is exposed to the Internet is vulnerable to hackers who can destroy data, encrypt data and hold it for ransom, or steal your secrets.                We recommend that you install Hub in a trusted environment that is protected by a firewall.                Your firewall rules should not allow traffic without any business justification.</p>            <p id="e16f9837">Follow these guidelines to ensure the security of your installation:</p>            <ul class="list _ul"><li class="list__item" id="f11030f0"><p>Restrict access to database files to prevent users or other processes from modifying or deleting your Hub data.</p></li><li class="list__item" id="785d5d6a"><p>Install security updates for the operating system as well as third-party software that is connected to your installation.</p></li><li class="list__item" id="67762e57"><p>Use firewall rules to whitelist only ports that are required for inbound network connections.</p></li></ul>        </div>        <div class="chapter"><h2 id="secure-connection" data-toc="secure-your-hub-installation#secure-connection">Secure Your Connection</h2>            <p id="d08d97c9">To secure communication over your network, you need to install Hub behind a reverse proxy server that provides SSL encryption.                All of your traffic is then encrypted using HTTPS (HTTP over SSL/TLS).                For more information, see <a href="Proxy-Configuration.html">Reverse Proxy Configuration</a>.</p>            <p id="350a79f2">When users log in to Hub with an authentication modules that does not support SSL/TLS encryption (for example, the Hub authentication module), the password is transmitted in plain text.                If you don't use HTTPS, a packet sniffer can intercept and log this traffic and compromise your passwords.                To protect your accounts, use a reverse proxy to secure all of your connections using HTTPS (HTTP over SSL/TLS).</p>        </div>        <div class="chapter"><h2 id="dedicated-service-user" data-toc="secure-your-hub-installation#dedicated-service-user">Use a Dedicated Service User Account</h2>            <p id="dde6d788">You should always use a dedicated user account to run Hub on your server.</p>            <ul class="list _ul"><li class="list__item" id="8bb1d590"><p>For MSI installations, Hub creates a dedicated service user account with the name <span class="control">JetBrainsHub</span> during installation.                    By default, this account only has access to the Hub installation and home directories.<br>                    If you change the user account that runs the Windows service, this account should have limited access as well.                                </p></li><li class="list__item" id="313e2720"><p>For ZIP and JAR installations, the Hub service is run by the user who enters the command to start the application.                    This should be a user account that was created specifically to run Hub.                    Limit the access rights that are available to this account at the operating system level to protect critical parts of the system.                    This should be a non-privileged user that only has access to the Hub installation and home directories.</p></li></ul>        </div>        <div class="chapter"><h2 id="encrypt-data" data-toc="secure-your-hub-installation#encrypt-data">Encrypt your Data</h2>            <p id="06e51278">Hub stores passwords in the database as salted hashes.                Each user's password is hashed with a different, randomized salt.                The salted passwords are hashed using the SHA-256 cryptographic hash function.</p>            <p id="a3834643">The Hub database, however, is not encrypted.                To ensure that your data is secure, we recommend that you apply filesystem-level or full disc encryption to the server that runs Hub.            You should apply encryption to any backup copies of the database that are stored on the server as well.</p>        </div>    <div class="chapter"><h2 id="use-digital-certificates" data-toc="secure-your-hub-installation#use-digital-certificates">Use Digital Certificates</h2>            <p id="d9af3a11">You should not only secure access to Hub over HTTPS, but secure the data that is exchanged between Hub and the web services that are connected to it.                Obtain an SSL certificate for each external service and import the certificates into Hub.</p>        <ul class="list _ul"><li class="list__item" id="0d376a91"><p>You should import trusted SSL certificates for any external application that is integrated with Hub.                For more information, see <a href="Trusted-SSL-Certificates.html">Trusted SSL Certificates</a>.</p></li><li class="list__item" id="ae792f70"><p>You should also have an SSL keystore that identifies Hub as a client when it tries to connect to a third party.                For more information, see <a href="Managing-SSL-Keys-and-Trusted-Certificates.html">SSL Keys</a>.</p></li></ul>        <p id="e8083039">The following integrations can be configured to establish a secure connection using SSL:</p>        <ul class="list _ul"><li class="list__item" id="e97619d6"><a href="LDAP-Authentication-Module.html">LDAP Auth Module</a></li><li class="list__item" id="5abc2cb2"><a href="Atlassian-Jira-Auth-Module.html">Atlassian Jira Auth Module</a></li></ul>            <p id="0222af36">You should also use a digital certificate to secure the connection to the SMTP server that sends email notifications from Hub.            For more information, see <a href="Configuring-HUB-SMTP-Settings.html">SMTP</a>.</p>    </div>    <div class="chapter"><h2 id="two-factor-authentication" data-toc="secure-your-hub-installation#two-factor-authentication">Require Two-factor Authentication</h2>        <p id="17f47c6c">Hub supports two-factor authentication (2FA).            Many of the third-party authentication modules that are supported in Hub also support 2FA.            Hub lets you require 2FA for every member of your organization.        Users can choose to protect their accounts with app-based or token-based 2FA.</p>        <ul class="list _ul"><li class="list__item" id="57ae1755"><p>With app-based 2FA, users must use an external app to generate an authentication code, which they must then enter when they log in with their password.                This adds an extra layer of security.                Even if a password is compromised, the malicious user cannot access the application without the authentication code from the external app.</p></li><li class="list__item" id="dc33b42f"><p>With token-based 2FA, users pair their Hub account with a hardware device.            Users must have this hardware device in their possession when they log in.</p></li></ul>        <p id="2fa04abb">When you require 2FA for one or more groups, the information that is accessible to members of these groups is subject to an additional layer of protection.        To learn how to enable this feature, see <a href="require-two-factor-authentication.html">Require Two-factor Authentication</a>.</p>    </div>    <div class="chapter"><h2 id="enforce-password-policy" data-toc="secure-your-hub-installation#enforce-password-policy">Enforce a Password Policy</h2>        <p id="4df4c400">If you're using third-party services for authentication and don't require 2FA, you can't guarantee that every user sets it up.            Or uses a strong password.</p>        <p id="95559b31">Here's what you do know:</p>        <ul class="list _ul"><li class="list__item" id="4379bb88"><p>Many users don't create unique passwords for each of their accounts.</p></li><li class="list__item" id="5eb15d3f"><p>Most passwords are extremely weak and easy to crack.</p></li><li class="list__item" id="eb0e1fb2"><p>An attacker only has to guess one weak password to gain access to your system.</p></li></ul>        <p id="10174f34">The Hub authentication module lets you ensure that users create passwords that keep your data safe.            If you use this module to manage logins, we recommend that you set the <span class="control">Password Strength</span> to <span class="control">Good</span> or <span class="control">Very Strong</span>.            For more information, see <a href="Set-Password-Policy.html">Set a Password Policy</a>.</p>    </div>    <div class="chapter"><h2 id="require-email-verification" data-toc="secure-your-hub-installation#require-email-verification">Require Email Verification</h2>        <p id="6f3cc338">Asking users to verify their email addresses ensures that your users confirm ownership of their accounts.            This is especially important when you let users register their own accounts.</p>        <p id="ce6eb844">For Hub installations that are connected to YouTrack, email verification can be especially important.            YouTrack supports features like the Mailbox Integration that creates user accounts from incoming email messages and the Zendesk Integration that can create accounts when importing tickets.            The option to require email verification prevents users from registering accounts that can be used to gain unauthorized access to Hub and other applications in your business environment.</p>        <p id="2f9db94e">The option to require email verification is located on the <span class="control">Auth Modules &gt; Common Settings</span> page in Hub.            For more information, see <a href="auth-module-common-settings.html">Common Settings for Auth Modules</a>.</p>    </div>    <div class="chapter"><h2 id="enable-recaptcha" data-toc="secure-your-hub-installation#enable-recaptcha">Banish Bots</h2>            <p id="9d109f1f">The Hub authentication module lets users register their own accounts in Hub.                If you allow self-registration and your installation is accessible from outside your network, you should protect your installation from registration bots.                These bots can consume resources and claim licenses that are intended for use by humans.</p>        <p id="71b4ed37">To block registration bots, enable <span class="control">reCAPTCHA</span> in the Hub authentication module.            For more information, see <a href="Hub-Auth-Module.html">Hub Authentication Module</a>.</p>    </div>    <div class="chapter"><h2 id="throttle-rate-limit-failed-logins" data-toc="secure-your-hub-installation#throttle-rate-limit-failed-logins">Throttle Failed Login Attempts</h2>        <p id="3e98c3cb">Throttling or rate limitation helps protect the application from brute-force attacks.            The common settings for authentication modules let you apply rate limits to logins and requests to verify credentials.</p>         <p id="fbcfd46d">Rate limits help slow down brute-force attacks by blocking new login requests for a short time following a series of consecutive login failures, so they keep your passwords safe.            When used in combination with reCAPTCHA, legitimate users can bypass the throttling by solving a CAPTCHA-based challenge.            For more information, see <a href="auth-module-common-settings.html#throttling-settings">Throttling Settings</a>.</p>    </div>    <div class="chapter"><h2 id="limit-privileges" data-toc="secure-your-hub-installation#limit-privileges">Grant Permissions with Care</h2>        <p id="458dd07d">All of the operations in Hub are managed by a permission scheme.            Permissions are assigned to a collection of roles, which are then granted to users and groups for a specific project.            Users only have permission to perform the operations that are allowed for the role that they are assigned in each project.</p>        <p id="d5d00ddd">If you are overly-generous with granting permissions, you expose your system to high risk from insider threats.            It also gives external hackers access to sensitive data as soon as any of your accounts is compromised.</p>        <p id="14fa0edc">We recommend that you follow the principle of least privilege and only grant access to the information and resources that are absolutely necessary to perform the operations that are required for each user.            Start small, then go bigger â€” but only with good reason.            Follow these guidelines to prevent unnecessary access to sensitive data:</p>        <ul class="list _ul"><li class="list__item" id="aa6b4c19"><p>Grant as little access as necessary to new accounts, then add permissions if necessary.</p></li><li class="list__item" id="73a2eb80"><p>Revoke access when it is no longer required. </p></li><li class="list__item" id="9da7d632"><p>Delete or ban unnecessary user accounts.</p></li><li class="list__item" id="ce8b016e"><p>Avoid the auto-join groups option if user registration is enabled in the Hub authentication module.</p></li><li class="list__item" id="e8eaf687"><p>Limit the permissions that are available to the <span class="control">Guest</span> user account.</p></li><li class="list__item" id="bd6f3c17"><p>Grant roles with very limited permissions to the <span class="control">All Users</span> and <span class="control">Registered Users</span> groups.</p></li><li class="list__item" id="8dad35e3"><p>Limit the number of users who are assigned roles in the <span class="control">Global</span> project.</p></li><li class="list__item" id="9bc296d2"><p>Use as few accounts with <span class="control">System Admin</span> roles as possible and monitor their activity.</p></li></ul>    </div>        <div class="chapter"><h2 id="backup-and-restore" data-toc="secure-your-hub-installation#backup-and-restore">Back up Your Data</h2>            <p id="c21310b6">To protect your installation against ransomware and recover from hardware or software failure, make sure your Hub database is included in your backup plan.</p>            <ul class="list _ul"><li class="list__item" id="8201443c"><p>Enable regular backup of your Hub database                    For more information, see <a href="Backing-up-and-restoring-data.html">Backup</a>.</p></li><li class="list__item" id="78349307"><p>Test backups by restoring your system to make sure the process works.                    For more information, see <span>Restore An Installation</span>.</p></li><li class="list__item" id="ad83c956"><p>Keep copies of recent backups off premises.</p></li><li class="list__item" id="fb5f03d4"><p>Make sure your backups are secure and encrypted.</p></li></ul>        </div>    <div class="chapter"><h2 id="secure-default-administrator-account" data-toc="secure-your-hub-installation#secure-default-administrator-account">Secure the Default Administrator Account</h2>            <p id="1854e1aa">You set the login and password for the default administrator account when you install Hub on your server.                This account has permission to perform any operation in Hub.</p>        <p id="beca6c20">One of the most common problems detected by risk and security audits is an administrator account that is not tied to a specific individual.            You might be tempted to create a simple login and password combination and share the default administrator account with more than one administrator. Don't.</p>        <ul class="list _ul"><li class="list__item" id="2bbb85e1"><p>Shared accounts are often used to gain uncontrolled access to systems.</p></li><li class="list__item" id="8256635e"><p>Audit events and logs are rendered useless when you cannot associate a change with a specific individual.</p></li><li class="list__item" id="e18e4aa9"><p>Administrator accounts have unlimited access and should use the strongest possible passwords.</p></li></ul>        <p id="6b9dd529">Follow these guidelines to secure your default administrator account:</p>        <ul class="list _ul"><li class="list__item" id="5c2a8dae"><p>After initial setup, create personal user accounts for each administrator and grant them the required level of access.                Administrators should use their own accounts to perform administrative tasks.</p></li><li class="list__item" id="e453a4ce"><p>Limit the number of accounts with administrative access rights to the users who require this level of access.</p></li><li class="list__item" id="16fe21ba"><p>Require that users with administrator privileges use strong passwords and change them periodically.</p></li><li class="list__item" id="78ee9c60"><p>Revoke administrative access as soon as it is no longer required.</p></li><li class="list__item" id="22515d20"><p id="0f4529ea">Manage ownership of the default administrator account carefully.                If the user who is responsible for this account leaves your organization or is no longer responsible for the application,                select another user to assume ownership and transfer this responsibility.                If the previous administrator no longer requires access to Hub:</p>                <ul class="list _ul"><li class="list__item" id="90e272e4"><p>Use the <span class="control">Merge User</span> operation to combine these two user accounts.                        For more information, see <a href="Merging-User-Accounts.html">Merge User Accounts</a>.</p></li><li class="list__item" id="3cb115f0"><p>Remove the login credentials for the previous administrator from the merged user account.</p></li></ul>                <p id="c9850c35">If the previous administrator still requires access to Hub in a non-administrative role:</p>                <ul class="list _ul"><li class="list__item" id="bd3004e1"><p>Create a new user account for the previous administrator and grant the appropriate level of access to the account.</p></li><li class="list__item" id="6eeb9bcf"><p>Use the <span class="control">Merge User</span> operation as described above to transfer ownership of the default administrator account to the new administrator.</p></li></ul>            </li></ul>    </div>        <div class="chapter"><h2 id="browse-audit-events-check-security-logs" data-toc="secure-your-hub-installation#browse-audit-events-check-security-logs">Browse Audit Events and Check Security Logs</h2>            <p id="f2d85d92">Hub provides tools that let you monitor your application for suspicious activity.</p>            <ul class="list _ul"><li class="list__item" id="d5f091c3"><p>The <span class="control">Audit Events</span> page provides a list of events, targets, and authors for every event that is logged in Hub.                    These events are recorded every time an operation is applied to a target entity.                    This includes changes that are applied to users, groups, projects, roles, auth modules, services, and resources, among others.                    You can filter the list to search for specific types of activity or download the events as a JSON file for further investigation.</p></li><li class="list__item" id="300a689a"><p>Events that are considered to be security-related are printed to a dedicated <code class="code">security.log</code> file.                    This file contains a wider range of events and target entities.</p></li><li class="list__item" id="9baf2a47"><p>Login events are printed to a dedicated <code class="code">hub-login.log</code> file.</p></li></ul>            <p id="2a4b9b28">You can browse the audit events and security logs to detect unusual activity or for troubleshooting.                However, if your organization uses security information and event management software, a much better solution is to include your Hub log files as a data source.                These solutions let you scan and analyze aggregated log files and generate alerts when a suspicious pattern of activity is detected.</p>            <p id="7ca88b21">Follow these guidelines to secure your log files:</p>            <ul class="list _ul"><li class="list__item" id="59c597eb"><p>Ensure that only individuals who have a job-related need have access to the data directory where you store your Hub log files.</p></li><li class="list__item" id="70c82f6e"><p>Create backup copies of your Hub log files on a centralized log server.</p></li></ul>        </div>    <div class="chapter"><h2 id="limit-access-sensitive-information" data-toc="secure-your-hub-installation#limit-access-sensitive-information">Limit Access to Sensitive Information</h2>        <p id="63a71d79">If you store sensitive information in your issues, take extra efforts to make sure this data is secure.</p>        <ul class="list _ul"><li class="list__item" id="8749a87e"><p>Use dedicated projects to store issues that contain information that can be used to identify a person.</p></li><li class="list__item" id="a7bca7d3"><p>Make sure the users who have access to issues in this project understand the sensitivity of this information.</p></li><li class="list__item" id="5b5698dd"><p>Restrict project access to the users who need to view and use this information.</p></li></ul>    </div>    <div class="chapter"><h2 id="restrict-anonymous-access" data-toc="secure-your-hub-installation#restrict-anonymous-access">Restrict Anonymous Access</h2>            <p id="f36a98da">By default, all Hub installations include a dedicated user account for guests.                While this account isn't granted any roles in Hub, it can be allowed limited access in connected services like YouTrack and Upsource.                If your installation is accessible from outside your network, anyone who knows your server address can use the guest account to browse issues and code in your projects without having to log in.</p>            <p id="ed089cc6">If you wish to limit or block anonymous access, you have the following options:</p>            <ul class="list _ul"><li class="list__item" id="10de03cc"><p>You can revoke the role that is assigned to the guest account in the <span class="control">Global</span> project.                    We generally discourage granting roles with update permissions to the guest account, as these actions cannot be associated with an individual.</p></li><li class="list__item" id="65583d9a"><p>You can ban the guest account. All users are required to log in to view issues with a registered account.                    Access to each project is determined by the roles that are assigned on a per-user or per-group basis.</p></li></ul>    </div><div class="last-modified" data-skip-index="skip">Last modified: 9 September 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="Starting-and-Stopping-Hub.html">Stop and Start the Hub Service</a><a class="navigation-links__next" href="hub-personal-data-protection-gdpr.html">Protect Personal Data</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>