<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>保护集线器安装-帮助|帮助毂</title><link rel="stylesheet" href="/resources.jetbrains.com/storage/help-app/v3/app.css"></head><body  data-id="secure-your-hub-installation"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索中心帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>Hub 2019.1帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 id="secure-your-hub-installation.xml" data-toc="secure-your-hub-installation">保护您的集线器安装</h1>    <p id="16e2ff1b">作为专用于用户和访问管理的应用程序，我们在开发Hub时考虑了安全性。我们非常注意避免遭受各种类型的攻击。我们与第三方合作，后者扫描Hub的漏洞并执行渗透测试。发现安全问题后，我们将努力在下一个主要版本或错误修复版本中解决该问题。</p>    <p id="7c277a56">本页上的建议旨在帮助您保护中心数据的安全。这些最佳做法可以帮助您避免导致数据容易被盗，损坏或丢失的陷阱。</p>    <div class="chapter"><h2 id="document-security-plan" data-toc="secure-your-hub-installation#document-security-plan">记录您的设置</h2>        <p id="b46bc899">文档是安全计划的重要组成部分。如果您的集线器管理易手，则新管理员不必通过反复试验来了解如何配置应用程序。在遵循本指南以保护集线器环境时，请记下每个更改并解释为什么按照您的方式进行设置。完成后，收集笔记并将其添加到信息安全策略文档中。</p>    </div>    <div class="chapter"><h2 id="security-updates" data-toc="secure-your-hub-installation#security-updates">保持最新</h2>            <p id="145a0008">为确保您的安装包括最新的安全性增强功能，请确保始终使用最新版本的Hub。为确保您没有错过重要更新：</p>            <ul class="list _ul"><li class="list__item" id="cb772c67"><p>在<a href="https://blog.jetbrains.com/hub/" rel="noopener noreferrer" data-external="true" target="_blank">Hub博客</a>上订阅主要版本的公告。</p></li><li class="list__item" id="a6c3c877"><p>在<a href="https://twitter.com/jetbrains_hub" rel="noopener noreferrer" data-external="true" target="_blank">Twitter上</a>关注Hub，以进行较小的更新。</p></li></ul>        <p id="de1643b5">为防止意外泄露，我们通常将可见性限制为JetBrains团队成员的被视为<span class="control">安全问题的问题</span> 。您可能会在发行说明的“ <span class="control">安全问题”</span>部分中看到问题，但这绝不是任何给定版本中已解决的与安全相关的问题的完整列表。</p>            <p id="a547d25f">因此，强烈建议您尽快将安装更新为最新版本。</p>    </div>        <div class="chapter"><h2 id="secure-environment" data-toc="secure-your-hub-installation#secure-environment">创造安全的环境</h2>            <p id="2623bc77">作为基于Web的应用程序，注册用户可以从网络外部连接到Hub。暴露于Internet的任何服务器都容易受到黑客的攻击，黑客可以破坏数据，加密数据并将其保存以勒索赎金或窃取您的秘密。我们建议您在受防火墙保护的受信任环境中安装集线器。您的防火墙规则在没有任何业务依据的情况下不应允许流量。</p>            <p id="e16f9837">请遵循以下准则，以确保安装的安全性：</p>            <ul class="list _ul"><li class="list__item" id="f11030f0"><p>限制对数据库文件的访问，以防止用户或其他进程修改或删除您的Hub数据。</p></li><li class="list__item" id="785d5d6a"><p>安装操作系统以及与您的安装连接的第三方软件的安全更新。</p></li><li class="list__item" id="67762e57"><p>使用防火墙规则仅将入站网络连接所需的端口列入白名单。</p></li></ul>        </div>        <div class="chapter"><h2 id="secure-connection" data-toc="secure-your-hub-installation#secure-connection">保护您的连接</h2>            <p id="d08d97c9">为了确保通过网络的通信安全，您需要在提供SSL加密的反向代理服务器后面安装集线器。然后，您所有的流量都使用HTTPS（基于SSL / TLS的HTTP）进行加密。有关更多信息，请参阅<a href="Proxy-Configuration.html">反向代理配置</a> 。</p>            <p id="350a79f2">当用户使用不支持SSL / TLS加密的身份验证模块（例如，集线器身份验证模块）登录集线器时，密码以纯文本格式传输。如果您不使用HTTPS，则数据包嗅探器可以拦截和记录此流量并破坏您的密码。为了保护您的帐户，请使用反向代理通过HTTPS（HTTP over SSL / TLS）保护所有连接的安全。</p>        </div>        <div class="chapter"><h2 id="dedicated-service-user" data-toc="secure-your-hub-installation#dedicated-service-user">使用专用服务用户帐户</h2>            <p id="dde6d788">您应该始终使用专用的用户帐户在服务器上运行Hub。</p>            <ul class="list _ul"><li class="list__item" id="8bb1d590"><p>对于MSI安装，在安装过程中，Hub创建一个专用的服务用户帐户，名称为<span class="control">JetBrainsHub</span> 。默认情况下，该帐户只能访问集线器安装目录和主目录。<br>如果更改运行Windows服务的用户帐户，则该帐户也应具有受限的访问权限。</p></li><li class="list__item" id="313e2720"><p>对于ZIP和JAR安装，集线器服务由输入命令以启动应用程序的用户运行。这应该是专门为运行Hub而创建的用户帐户。在操作系统级别上限制此帐户可用的访问权限，以保护系统的关键部分。该用户应该是非特权用户，只能访问集线器安装目录和主目录。</p></li></ul>        </div>        <div class="chapter"><h2 id="encrypt-data" data-toc="secure-your-hub-installation#encrypt-data">加密您的数据</h2>            <p id="06e51278">集线器将密码作为盐值存储在数据库中。每个用户的密码都使用不同的随机盐进行哈希处理。使用SHA-256密码哈希函数对加盐的密码进行哈希处理。</p>            <p id="a3834643">但是，集线器数据库未加密。为确保数据安全，我们建议您对运行集线器的服务器应用文件系统级或全盘加密。您还应该对存储在服务器上的数据库的任何备份副本应用加密。</p>        </div>    <div class="chapter"><h2 id="use-digital-certificates" data-toc="secure-your-hub-installation#use-digital-certificates">使用数字证书</h2>            <p id="d9af3a11">您不仅应该保护通过HTTPS对集线器的访问，还应该保护集线器和与其连接的Web服务之间交换的数据。为每个外部服务获取一个SSL证书，并将证书导入到Hub中。</p>        <ul class="list _ul"><li class="list__item" id="0d376a91"><p>您应该为与集线器集成的任何外部应用程序导入受信任的SSL证书。有关更多信息，请参见<a href="Trusted-SSL-Certificates.html">Trusted SSL Certificates</a> 。</p></li><li class="list__item" id="ae792f70"><p>您还应该具有一个SSL密钥库，该密钥库在尝试连接到第三方时将Hub标识为客户端。有关更多信息，请参见<a href="Managing-SSL-Keys-and-Trusted-Certificates.html">SSL密钥</a> 。</p></li></ul>        <p id="e8083039">可以将以下集成配置为使用SSL建立安全连接：</p>        <ul class="list _ul"><li class="list__item" id="e97619d6"><a href="LDAP-Authentication-Module.html">LDAP认证模块</a></li><li class="list__item" id="5abc2cb2"><a href="Atlassian-Jira-Auth-Module.html">Atlassian Jira Auth模块</a></li></ul>            <p id="0222af36">您还应该使用数字证书来保护与从集线器发送电子邮件通知的SMTP服务器的连接的安全。有关更多信息，请参见<a href="Configuring-HUB-SMTP-Settings.html">SMTP</a> 。</p>    </div>    <div class="chapter"><h2 id="two-factor-authentication" data-toc="secure-your-hub-installation#two-factor-authentication">需要两因素验证</h2>        <p id="17f47c6c">集线器支持两因素身份验证（2FA）。集线器支持的许多第三方身份验证模块也支持2FA。Hub允许您为组织的每个成员要求2FA。用户可以选择使用基于应用程序或基于令牌的2FA保护其帐户。</p>        <ul class="list _ul"><li class="list__item" id="57ae1755"><p>使用基于应用程序的2FA，用户必须使用外部应用程序来生成验证码，然后在使用密码登录时必须输入该验证码。这增加了一层额外的安全性。即使密码被泄露，没有来自外部应用程序的验证码，恶意用户也无法访问该应用程序。</p></li><li class="list__item" id="dc33b42f"><p>使用基于令牌的2FA，用户可以将其Hub帐户与硬件设备配对。用户登录时必须拥有此硬件设备。</p></li></ul>        <p id="2fa04abb">当您为一个或多个组要求2FA时，这些组的成员可访问的信息将受到附加保护。要了解如何启用此功能，请参阅“ <a href="require-two-factor-authentication.html">要求两因素验证”</a> 。</p>    </div>    <div class="chapter"><h2 id="enforce-password-policy" data-toc="secure-your-hub-installation#enforce-password-policy">实施密码策略</h2>        <p id="4df4c400">如果您使用第三方服务进行身份验证并且不需要2FA，则不能保证每个用户都进行设置。或使用强密码。</p>        <p id="95559b31">您所知道的是：</p>        <ul class="list _ul"><li class="list__item" id="4379bb88"><p>许多用户没有为每个帐户创建唯一的密码。</p></li><li class="list__item" id="5eb15d3f"><p>大多数密码都非常弱，很容易破解。</p></li><li class="list__item" id="eb0e1fb2"><p>攻击者只需猜测一个弱密码即可访问您的系统。</p></li></ul>        <p id="10174f34">通过集线器身份验证模块，可以确保用户创建密码来保护您的数据安全。如果使用此模块来管理登录，我们建议您将<span class="control">密码强度</span>设置为<span class="control">好</span>或<span class="control">非常强</span> 。有关更多信息，请参见<a href="Set-Password-Policy.html">设置密码策略</a> 。</p>    </div>    <div class="chapter"><h2 id="require-email-verification" data-toc="secure-your-hub-installation#require-email-verification">需要电子邮件验证</h2>        <p id="6f3cc338">要求用户验证其电子邮件地址可确保您的用户确认其帐户的所有权。当您让用户注册自己的帐户时，这一点尤其重要。</p>        <p id="ce6eb844">对于连接到YouTrack的集线器安装，电子邮件验证尤其重要。YouTrack支持的功能包括可以从传入电子邮件中创建用户帐户的邮箱集成，以及可以在导入票证时创建帐户的Zendesk集成。需要电子邮件验证的选项可防止用户注册帐户，该帐户可用于未经授权访问您的业务环境中的集线器和其他应用程序。</p>        <p id="2f9db94e">要求电子邮件验证的选项位于集线器中的<span class="control">“</span>身份<span class="control">验证模块”>“通用设置”</span>页面上。有关更多信息，请参阅<a href="auth-module-common-settings.html">身份验证模块的通用设置</a> 。</p>    </div>    <div class="chapter"><h2 id="enable-recaptcha" data-toc="secure-your-hub-installation#enable-recaptcha">放逐机器人</h2>            <p id="9d109f1f">集线器身份验证模块使用户可以在集线器中注册自己的帐户。如果允许自我注册并且可以从网络外部访问安装，则应保护安装不受注册机器人的攻击。这些漫游器可以消耗资源并要求获得供人类使用的许可证。</p>        <p id="71b4ed37">要阻止注册机器人，请在集线器身份验证模块中启用<span class="control">reCAPTCHA</span> 。有关更多信息，请参阅<a href="Hub-Auth-Module.html">集线器身份验证模块</a> 。</p>    </div>    <div class="chapter"><h2 id="throttle-rate-limit-failed-logins" data-toc="secure-your-hub-installation#throttle-rate-limit-failed-logins">节气门尝试登录失败</h2>        <p id="3e98c3cb">节流或速率限制有助于保护应用程序免受暴力攻击。身份验证模块的通用设置使您可以将速率限制应用于登录名和请求以验证凭据。</p>         <p id="fbcfd46d">速率限制通过在一系列连续的登录失败后在短时间内阻止新的登录请求来帮助减缓暴力攻击，从而确保密码安全。与reCAPTCHA结合使用时，合法用户可以通过解决基于CAPTCHA的挑战来绕过限制。有关更多信息，请参见<a href="auth-module-common-settings.html#throttling-settings">节流设置</a> 。</p>    </div>    <div class="chapter"><h2 id="limit-privileges" data-toc="secure-your-hub-installation#limit-privileges">小心授予权限</h2>        <p id="458dd07d">集线器中的所有操作均由权限方案管理。将权限分配给角色集合，然后将其授予特定项目的用户和组。用户仅具有执行在每个项目中分配的角色所允许的操作的权限。</p>        <p id="d5d00ddd">如果您过于宽容地授予权限，则会使系统面临内部威胁的高风险。一旦您的任何帐户遭到入侵，它也使外部黑客可以访问敏感数据。</p>        <p id="14fa0edc">我们建议您遵循最小特权原则，仅授予对执行每个用户所需的操作绝对必要的信息和资源的访问权限。从小开始，然后再大-但只有有充分的理由。请遵循以下准则，以防止不必要的访问敏感数据：</p>        <ul class="list _ul"><li class="list__item" id="aa6b4c19"><p>向新帐户授予尽可能少的访问权限，然后根据需要添加权限。</p></li><li class="list__item" id="73a2eb80"><p>不再需要时撤消访问权限。</p></li><li class="list__item" id="9da7d632"><p>删除或禁止不必要的用户帐户。</p></li><li class="list__item" id="ce8b016e"><p>如果在集线器身份验证模块中启用了用户注册，请避免使用“自动加入组”选项。</p></li><li class="list__item" id="e8eaf687"><p>限制<span class="control">来宾</span>用户帐户可用的权限。</p></li><li class="list__item" id="bd6f3c17"><p>向“ <span class="control">所有用户”</span>和“ <span class="control">注册用户”</span>组授予具有非常有限权限的角色。</p></li><li class="list__item" id="8dad35e3"><p>限制在<span class="control">全局</span>项目中分配角色的用户数量。</p></li><li class="list__item" id="9bc296d2"><p>尽可能少使用具有<span class="control">系统管理员</span>角色的帐户，并监视其活动。</p></li></ul>    </div>        <div class="chapter"><h2 id="backup-and-restore" data-toc="secure-your-hub-installation#backup-and-restore">备份资料</h2>            <p id="c21310b6">为了保护您的安装免受勒索软件侵害并从硬件或软件故障中恢复，请确保集线器数据库已包含在备份计划中。</p>            <ul class="list _ul"><li class="list__item" id="8201443c"><p>启用Hub数据库的常规备份有关更多信息，请参阅<a href="Backing-up-and-restoring-data.html">备份</a> 。</p></li><li class="list__item" id="78349307"><p>通过还原系统来测试备份，以确保该过程正常进行。有关更多信息，请参阅<span>还原安装</span> 。</p></li><li class="list__item" id="ad83c956"><p>将最新备份的副本保留在本地。</p></li><li class="list__item" id="fb5f03d4"><p>确保您的备份是安全且加密的。</p></li></ul>        </div>    <div class="chapter"><h2 id="secure-default-administrator-account" data-toc="secure-your-hub-installation#secure-default-administrator-account">保护默认管理员帐户</h2>            <p id="1854e1aa">在服务器上安装集线器时，可以设置默认管理员帐户的登录名和密码。此帐户有权在集线器中执行任何操作。</p>        <p id="beca6c20">风险和安全审核发现的最常见问题之一是与特定个人无关的管理员帐户。您可能会想创建一个简单的登录名和密码组合，并与多个管理员共享默认管理员帐户。别。</p>        <ul class="list _ul"><li class="list__item" id="2bbb85e1"><p>共享帐户通常用于获得对系统的不受控制的访问。</p></li><li class="list__item" id="8256635e"><p>当您无法将更改与特定个人相关联时，审核事件和日志将变得无用。</p></li><li class="list__item" id="e18e4aa9"><p>管理员帐户具有无限访问权限，应使用尽可能强的密码。</p></li></ul>        <p id="6b9dd529">请遵循以下准则来保护您的默认管理员帐户：</p>        <ul class="list _ul"><li class="list__item" id="5c2a8dae"><p>初始设置后，为每个管理员创建个人用户帐户，并授予他们所需的访问级别。管理员应使用自己的帐户执行管理任务。</p></li><li class="list__item" id="e453a4ce"><p>将具有管理访问权限的帐户数限制为需要此访问级别的用户。</p></li><li class="list__item" id="16fe21ba"><p>要求具有管理员特权的用户使用强密码并定期更改它们。</p></li><li class="list__item" id="78ee9c60"><p>不再需要管理员访问权限时，将其撤消。</p></li><li class="list__item" id="22515d20"><p id="0f4529ea">仔细管理默认管理员帐户的所有权。如果负责此帐户的用户离开您的组织或不再对应用程序负责，请选择另一个用户来承担所有权并转移此责任。如果以前的管理员不再需要访问集线器：</p>                <ul class="list _ul"><li class="list__item" id="90e272e4"><p>使用<span class="control">合并用户</span>操作来合并这两个用户帐户。有关更多信息，请参见<a href="Merging-User-Accounts.html">合并用户帐户</a> 。</p></li><li class="list__item" id="3cb115f0"><p>从合并的用户帐户中删除以前的管理员的登录凭据。</p></li></ul>                <p id="c9850c35">如果以前的管理员仍然要求以非管理员角色访问集线器：</p>                <ul class="list _ul"><li class="list__item" id="bd3004e1"><p>为以前的管理员创建一个新的用户帐户，并授予对该帐户的适当访问权限。</p></li><li class="list__item" id="6eeb9bcf"><p>如上所述，使用“ <span class="control">合并用户”</span>操作将默认管理员帐户的所有权转移给新管理员。</p></li></ul>            </li></ul>    </div>        <div class="chapter"><h2 id="browse-audit-events-check-security-logs" data-toc="secure-your-hub-installation#browse-audit-events-check-security-logs">浏览审核事件并检查安全日志</h2>            <p id="f2d85d92">集线器提供的工具可让您监视应用程序中的可疑活动。</p>            <ul class="list _ul"><li class="list__item" id="d5f091c3"><p>“ <span class="control">审核事件”</span>页面提供了在Hub中记录的每个事件的事件，目标和作者的列表。每次将操作应用于目标实体时，都会记录这些事件。这包括应用于用户，组，项目，角色，身份验证模块，服务和资源等的更改。您可以过滤列表以搜索特定类型的活动，或将事件下载为JSON文件以进行进一步调查。</p></li><li class="list__item" id="300a689a"><p>被认为与安全相关的事件被打印到专用<code class="code">security.log</code>文件。该文件包含更广泛的事件和目标实体。</p></li><li class="list__item" id="9baf2a47"><p>登录事件被打印到专用<code class="code">hub-login.log</code>文件。</p></li></ul>            <p id="2a4b9b28">您可以浏览审核事件和安全日志以检测异常活动或进行故障排除。但是，如果您的组织使用安全信息和事件管理软件，则更好的解决方案是将集线器日志文件包含为数据源。这些解决方案使您可以扫描和分析聚合的日志文件，并在检测到活动的可疑模式时生成警报。</p>            <p id="7ca88b21">请遵循以下准则来保护您的日志文件：</p>            <ul class="list _ul"><li class="list__item" id="59c597eb"><p>确保只有与工作相关的个人才能访问您存储中心日志文件的数据目录。</p></li><li class="list__item" id="70c82f6e"><p>在集中式日志服务器上创建集线器日志文件的备份副本。</p></li></ul>        </div>    <div class="chapter"><h2 id="limit-access-sensitive-information" data-toc="secure-your-hub-installation#limit-access-sensitive-information">限制对敏感信息的访问</h2>        <p id="63a71d79">如果您在问题中存储敏感信息，请付出额外的努力以确保此数据的安全性。</p>        <ul class="list _ul"><li class="list__item" id="8749a87e"><p>使用专用项目来存储包含可用于识别人员的信息的问题。</p></li><li class="list__item" id="a7bca7d3"><p>确保有权访问此项目中的问题的用户了解此信息的敏感性。</p></li><li class="list__item" id="5b5698dd"><p>将项目访问权限限制为需要查看和使用此信息的用户。</p></li></ul>    </div>    <div class="chapter"><h2 id="restrict-anonymous-access" data-toc="secure-your-hub-installation#restrict-anonymous-access">限制匿名访问</h2>            <p id="f36a98da">默认情况下，所有集线器安装都包含用于来宾的专用用户帐户。虽然此帐户未在集线器中被授予任何角色，但可以允许其在诸如YouTrack和Upsource之类的连接服务中进行有限访问。如果可以从网络外部访问您的安装，则知道您服务器地址的任何人都可以使用来宾帐户浏览项目中的问题和代码，而无需登录。</p>            <p id="ed089cc6">如果您希望限制或阻止匿名访问，则可以使用以下选项：</p>            <ul class="list _ul"><li class="list__item" id="10de03cc"><p>您可以撤消在<span class="control">全局</span>项目中分配给来宾帐户的角色。我们通常不鼓励授予具有来宾帐户更新权限的角色，因为这些操作不能与个人相关联。</p></li><li class="list__item" id="65583d9a"><p>您可以禁止访客帐户。所有用户都必须登录才能查看注册帐户的问题。对每个项目的访问权限是由按用户或组分配的角色确定的。</p></li></ul>    </div><div class="last-modified" data-skip-index="skip">上次修改时间：2019年9月9日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="Starting-and-Stopping-Hub.html">停止并启动集线器服务</a> <a class="navigation-links__next" href="hub-personal-data-protection-gdpr.html">保护个人数据</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>