<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>基于应用程序的身份验证-帮助|帮助毂</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body  data-id="2fa-with-app"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索中心帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>Hub 2019.1帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 id="2fa-with-app.xml" data-toc="2fa-with-app">基于应用程序的身份验证</h1>    <p id="7b082159">集线器中两因素身份验证的选项之一使您可以将集线器帐户与外部应用程序配对。在这种情况下，您需要输入由第三方身份验证应用程序生成的代码才能登录到集线器。</p>    <aside class="note " rel="7b082159" id="1e3ef54d" data-title="Application Passwords">        <p id="5746b6ab">为您的集线器帐户启用双重身份验证时，登录使用集线器帐户进行授权的第三方应用程序时可能会遇到问题。例如，YouTrack Mobile。</p>        <p id="f215e150">要在没有第二身份验证因素的情况下登录到外部应用程序或设备，请使用<a href="application-passwords.html">应用程序密码</a> 。</p></aside>    <div class="chapter"><h2 id="supported-apps" data-toc="2fa-with-app#supported-apps">支援的应用程式</h2>    <p id="8ec8d9f7">集线器中基于应用程序的2FA与任何接受QR码或密钥以与您的集线器帐户配对的应用程序兼容。这种身份验证方法基于基于时间的一次性密码算法（TOTP）。许多流行的身份验证应用程序都支持该算法，包括<a href="https://play.google.com/store/apps/details?id=com.google.android.apps.authenticator2" rel="noopener noreferrer" data-external="true" target="_blank">Google Authenticator</a> ， <a href="https://1password.com/" rel="noopener noreferrer" data-external="true" target="_blank">1Password</a> ， <a href="https://authy.com/" rel="noopener noreferrer" data-external="true" target="_blank">Authy</a>和<a href="https://www.lastpass.com/business-password-manager" rel="noopener noreferrer" data-external="true" target="_blank">LastPass</a> 。</p>    </div>    <div class="chapter"><h2 id="hardware-limitations" data-toc="2fa-with-app#hardware-limitations">局限性</h2>        <p id="9286dc5b">集线器中基于应用程序的身份验证受以下限制：</p>        <ul class="list _ul"><li class="list__item" id="7f2a6223"><p id="4a0d15c8"><b id="a6423e0b">您仅限于一种两因素身份验证。</b>                这意味着您不能将基于令牌的身份验证与基于应用程序的身份验证一起使用。将集线器帐户与硬件令牌配对后，设置基于应用程序的身份验证的选项将不可用。若要从基于令牌的身份验证切换到基于应用程序的2FA，必须首先取消注册当前用作第二因素的硬件设备。</p></li><li class="list__item" id="0b2bdcbf"><p id="c8a4c14d"><b id="4b602720">集线器仅请求基于密码的登录的第二个因素。</b>                如果您使用第三方身份验证模块（例如Google或GitHub）支持的身份验证方法，则不需要第二个因素。这些服务中的许多服务也支持2FA，因此当您使用这些身份验证模块登录时，您仍然可以保护您的Hub帐户。您只需要在auth模块支持的服务中为您的帐户设置2FA。</p>            <p id="5ccd5e89">如果您是需要2FA的组的成员，则必须为支持使用用户名和密码登录的所有身份验证模块设置第二个身份验证因子。您可以删除基于密码的凭据，然后继续使用第三方身份验证登录，或者按照此处所述为帐户设置2FA。</p></li><li class="list__item" id="8845ed50"><p id="1cec2993"><b id="d550d65c">启用2FA后，使用登录名和密码进行Hub REST API的基本身份验证无效。</b>                您仍然可以使用永久令牌进行身份验证，而不必禁用2FA。有关更多信息，请参阅<a href="Manage-Permanent-Tokens.html">管理永久令牌</a> 。</p>                <p id="71184b0f">要在外部应用程序中规避2FA，请生成并使用应用程序密码。有关详细信息，请参见<a href="application-passwords.html">生成应用程序密码</a> 。</p></li><li class="list__item" id="7c33e804"><p id="7f8b38b1"><b id="0dae22f0">您不能使用使用2FA的帐户将集线器数据迁移到另一个集线器安装。</b>                支持<a href="Migrating-Data-to-External-Hub.html">集线器到集线器迁移的服务</a>使用应用程序令牌进行身份验证。如果需要将集线器数据迁移到外部安装，则需要为用于登录迁移服务的帐户禁用2FA。迁移完成后，您可以为您的帐户重新启用2FA。</p></li></ul>    </div>    <div class="chapter"><h2 id="enable-app-based-2fa" data-toc="2fa-with-app#enable-app-based-2fa">启用基于应用的2FA</h2>    <p id="23f009cd">在Hub中启用2FA之前，您应该已经在计算机或移动设备上安装了支持2FA的应用程序。</p>    <section class="procedure-steps"><h3 id="enable-procedure">要为您的中心帐户启用两因素身份验证：</h3><aside class="tip sideblock" rel="enable-procedure" id="88b905ef" data-title=""><p>需要权限：更新自我</p></aside><ol class="list _decimal"><li class="list__item" id="bbacf0c7"><p>通过单击您的头像，然后选择<span class="control">Profile</span>来打开您的Hub配置<span class="control">文件</span> 。</p></li><li class="list__item" id="733938d5"><p id="4ca14964">找到<span class="control">两因素身份验证</span>设置，然后单击“ <span class="control">与身份验证应用配对”</span>链接。</p>            <figure><a class="lightbox" href="/help/img/hub/2019.1/enable-two-factor-authentication.zoomed.png"><img alt="启用两因素验证" title="启用两因素验证" src="/help/img/hub/2019.1/enable-two-factor-authentication.png" id="01e8c775" width="600" height="178"></a></figure>            <ul class="list _ul"><li class="list__item" id="2c1293b5"><p>将<span class="control">打开</span> “ <span class="control">启用两因素身份验证”</span>对话框。</p></li></ul>            <figure><a class="lightbox" href="/help/img/hub/2019.1/enable-two-factor-authentication-dialog.zoomed.png"><img alt="启用两因素验证对话框" title="启用两因素验证对话框" src="/help/img/hub/2019.1/enable-two-factor-authentication-dialog.png" id="0e48215a" width="600" height="444"></a></figure>        </li><li class="list__item" id="ef8b0eeb"><p>将帐户的恢复代码复制到单独的文件中，或将其存储在密码管理器中。这些代码可帮助您在手机丢失的情况下恢复对帐户的访问权限，因此请确保安全存储它们。</p></li><li class="list__item" id="8719e378"><p id="11228c35">使用以下方法之一将身份验证应用程序与您的集线器帐户配对：</p>            <ul class="list _ul"><li class="list__item" id="55fa0fd9"><p>使用移动设备中的内置摄像头扫描QR码。在大多数设备上，系统会提示您将代码复制到身份验证应用程序。</p></li><li class="list__item" id="79a75f21"><p>打开身份验证应用程序，然后输入对话框中显示的密钥。</p></li></ul>            <p id="8b821512">您可以使用相同的QR码或密钥将您的Hub帐户与多个设备上的应用程序配对。</p>        </li><li class="list__item" id="848de481"><p>在对话框的输入字段中输入由身份验证应用程序生成的6位代码。</p></li><li class="list__item" id="20d84566"><p id="069560ee">单击<span class="control">启用</span>按钮。</p>            <ul class="list _ul"><li class="list__item" id="9a94d112"><p>您的集线器帐户启用了两因素身份验证。</p></li><li class="list__item" id="05419b39"><p>每当使用集线器凭据登录时，都会要求您输入由身份验证应用程序生成的代码。</p></li></ul></li></ol></section>    </div>    <div class="chapter"><h2 id="account-recovery" data-toc="2fa-with-app#account-recovery">帐户恢复</h2>            <p id="1bc5aa85">当您将帐户与身份验证应用程序配对时，集线器会生成一组一次性恢复代码。通过这些代码，即使您无权访问身份验证应用程序，也可以登录自己的帐户。</p>      <section class="procedure-steps"><h3 id="1caea36d">要使用恢复码登录：</h3><ol class="list _decimal"><li class="list__item" id="0341f42c"><p>打开集线器登录页面。</p></li><li class="list__item" id="aac50250"><p>输入您的用户名和密码，然后单击“ <span class="control">登录”</span>按钮。</p></li><li class="list__item" id="adf43f97"><p>当集线器要求您输入由身份验证应用程序生成的代码时，请输入恢复代码之一。</p></li></ol><p id="b72be0ab">您的恢复代码仅供一次性使用。使用恢复代码登录后，请确保注意该代码不再有效。</p></section>        <p id="7d24af74">如果您无权访问或使用了所有恢复代码，请与管理员联系。具有“ <span class="control">更新用户”</span>权限的<span class="control">用户</span>可以访问您的配置文件并为您禁用两因素身份验证。然后，您可以仅使用您的登录名和密码登录。您可以重新启用该功能，并将集线器帐户与新设备配对或将连接恢复到旧设备。</p>        <ul class="list _ul"><li class="list__item" id="09b21e36"><p>要了解如何为其他用户禁用2FA，请参阅<a href="disable-two-factor-authentication.html">禁用两因素身份验证</a> 。</p></li><li class="list__item" id="56f2d574"><p>要了解如何为默认管理员禁用2FA，请参阅“ <a href="Manage-the-Default-Admin-Account.html">管理默认管理员帐户”</a> 。</p></li></ul>      <p id="cc8ee618">如果您的安装支持第三方身份验证模块，则您也可以尝试使用不需要第二身份验证因素的第三方服务登录。登录表单底部显示每个活动身份验证模块的按钮。</p>      <figure><a class="lightbox" href="/help/img/hub/2019.1/federated-logins.zoomed.png"><img alt="一组可用的身份验证模块，如登录表单上所示。" title="一组可用的身份验证模块，如登录表单上所示。" src="/help/img/hub/2019.1/federated-logins.png" id="14357373" width="600" height="268"></a></figure>      <p id="770bb209">这些登录选项通过第三方服务重定向，因此Hub不会要求您输入验证码。</p>    </div>    <div class="chapter"><h2 id="troubleshooting-app-based-2fa" data-toc="2fa-with-app#troubleshooting-app-based-2fa">故障排除</h2>        <p id="4814904d">如果在尝试设置基于应用程序的2FA时遇到错误，请查看是否满足以下条件。</p>        <div class="table-wrapper"><table class=" no_header" width="100%" id="dd80370a"><tbody><tr id="be4ddcd2" class="ijRowOdd"><td id="440da4fb" width="15%"><p>条件</p></td><td id="f511fc6e"><p>您反复输入由身份验证器应用程序（例如，Google Authenticator）生成的代码，但未成功。集线器显示错误消息<code class="code">Code <code> is not a valid two-factor authentication code for user <username></code> 。</p></td></tr><tr id="7aaeb0be" class="ijRowEven"><td id="ab9340c8"><p>原因</p></td><td id="14022171"><p id="72f7d0b4">设备的内部时钟不同步。</p>                    <p id="851a71b0">许多应用程序使用UNIX时间戳生成身份验证代码。如果您设备的内部时钟甚至只有1分钟不同步，则代码会过期，然后您才有机会在确认对话框中输入它们。</p></td></tr><tr id="56f25988" class="ijRowOdd"><td id="30c2d666"><p>解</p></td><td id="6eac9431"><p id="73f7f0b6">手动将运行身份验证应用程序的设备的内部时钟与当前时间同步。请遵循特定于您的操作系统和设备硬件的说明。</p>                <p id="3ef14e5f">如果仍然不能解决问题，请与管理员联系。当集线器服务器的内部时钟不同步时，也会出现此问题。</p></td></tr></tbody></table></div>    </div>    <div class="last-modified" data-skip-index="skip">上次修改时间：2019年9月9日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="enable-two-factor-authentication.html">启用两因素身份验证</a> <a class="navigation-links__next" href="2fa-with-token.html">基于令牌的身份验证</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>