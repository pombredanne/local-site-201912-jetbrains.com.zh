<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta name="robots" content="noindex"></meta><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><title>Hub 2.0 Help :: Host a Hub Instance on Microsoft Azure</title><link rel="stylesheet" href="/help/app/app.css"></head><body data-id="Host-Hub-on-Microsoft-Azure"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><div class="wrapper"><section class="panel _nav"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search Hub Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header"><div class="container"><h3>Hub 2.0 Help</h3><div class="shortcuts-switcher"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="false"><div class="navigation-links _top"><a class="navigation-links__prev" href="Change-Database-Location.html">Change Database Location</a><a class="navigation-links__next" href="Connecting-JetBrains-Teamware-to-Hub.html">Connect JetBrains Teamware to Hub</a></div><h1>Host a Hub Instance on Microsoft Azure</h1><a name="d61266e3"></a><p>Cloud hosting gives you the flexibility to add resources to your network without having to install and maintain your own servers.
        If you prefer not to host your own Hub instance, you can install Hub on a virtual machine that is hosted on Microsoft Azure.</p><a name="d61266e6"></a><p>This guide shows you how to configure a virtual machine and install Hub in a Microsoft Azure account.
        There are a number of different configurations you can use to run Hub in a hosted environment.
        The setup in this guide uses the following components:</p><ul class="list _ul"><li class="list__item"><a name="d61266e11"></a>Windows Server 2012 R2 Datacenter for the virtual machine</li><li class="list__item"><a name="d61266e14"></a>Hub MSI distribution for the installation package</li></ul><a name="d61266e18"></a><p>If you want to use a different type of virtual machine or installation, you can still follow this guide for general setup guidelines.</p><a name="d61266e21"></a><h2>Overview</h2>
        <a name="d61266e23"></a><p>To host a Hub instance in Microsoft Azure, perform the following steps:</p>
        <ul class="list _ul"><li class="list__item"><a name="d61266e28"></a><a name="d61266e29"></a><a href="#Creating-virtual-machine"><span>Create a virtual machine</span></a>.</li><li class="list__item"><a name="d61266e33"></a><a name="d61266e34"></a><a href="#AddEndpoints"><span>Add endpoints to the virtual machine</span></a>.</li><li class="list__item"><a name="d61266e38"></a><a name="d61266e39"></a><a href="#OpenHTTPPort"><span>Open an HTTP port in the firewall</span></a>.</li><li class="list__item"><a name="d61266e43"></a><a name="d61266e44"></a><a href="#InstallHub"><span>Install Hub</span></a>.</li></ul>
    <a name="d61266e51"></a><h2>Prerequisites</h2>
        <a name="d61266e53"></a><p>This setup requires that you have an active Microsoft Azure subscription.</p>
        <ul class="list _ul"><li class="list__item"><a name="d61266e58"></a>The amount of storage that you need to host Hub varies based on the size of your Hub database.</li><li class="list__item"><a name="d61266e61"></a>If your subscription does not already include a standalone virtual machine, you will need to create one.</li></ul>
        <a name="d61266e65"></a><p>If you don't have a Microsoft Azure subscription, you can sign up for a free 30-day trial.
            The trial lets you create and try out any combination of Azure resources.
            For more information, visit the <a name="d61266e67"></a><a href="https://azure.microsoft.com/en-us/free/" data-external="true"><span>official Microsoft Azure website</span></a>.</p>
    <a name="Creating-virtual-machine"></a><h2>Create a Virtual Machine</h2>

        <a name="d61266e74"></a><p>To get started, you need to add a virtual machine to your Microsoft Azure subscription.
            If you already have a virtual machine that has enough free resources to host Hub, skip this procedure and <a name="d61266e76"></a><a href="#AddEndpoints"><span>continue with the next step</span></a>.</p>
        <aside class="note sideblock">
            <a name="d61266e82"></a><p>This guide shows you one of several options for setting up your Microsoft Azure environment.</p>
            <a name="d61266e85"></a><p>For additional options, refer to the documentation on the <a name="d61266e87"></a><a href="https://azure.microsoft.com/en-us/documentation/articles/virtual-machines-windows-hero-tutorial/" data-external="true"><span>Microsoft Azure website</span></a>.</p></aside>

        <a name="d61266e91"></a><a name="dynaProc0"></a><section class="procedure-steps"><h2>To create a virtual machine:</h2><ol class=".list _decimal"><li class="list__item">Sign in to the <a name="d61266e95"></a><a href="https://portal.azure.com/" data-external="true"><span>Microsoft Azure management portal</span></a>.</li><li class="list__item">Click the <a name="d61266e101"></a><span class="control">New</span> button and select <a name="d61266e104"></a><span class="control">Virtual Machines</span>.</li><li class="list__item">Select an image from the list. You can run Hub on either a Windows or Linux server.
                This setup uses a Windows Server 2012 R2 Datacenter.
                <a name="d61266e110"></a><p><figure><a class="lightbox" href="/help/img/hub/2.0/AzureNewHubVM.png"><img alt="AzureNewHubVM" width="600" height="338" title="AzureNewHubVM" src="/help/img/hub/2.0/AzureNewHubVM_thumbnail.png"></a></figure></p></li><li class="list__item">From the <a name="d61266e115"></a><span class="control">Select a deployment model</span> drop-down list, select <a name="d61266e118"></a><span class="control">Classic</span>.</li><li class="list__item">Click the <a name="d61266e124"></a><span class="control">Create</span> button.
                <ul class="list _ul"><li class="list__item"><a name="d61266e129"></a>The <a name="d61266e131"></a><span class="control">Create VM</span> wizard opens.
                        <figure><a class="lightbox" href="/help/img/hub/2.0/AzureCreateHubVM.png"><img alt="AzureCreateHubVM" width="600" height="341" title="AzureCreateHubVM" src="/help/img/hub/2.0/AzureCreateHubVM_thumbnail.png"></a></figure></li></ul></li><li class="list__item">Enter values for the following settings:
                <table class="" width="100%" id="d61266e140"><thead><tr id="d61266e142" class="ijRowHead"><a name="d61266e142"></a><th width="15%"><a name="d61266e144"></a>Setting</th><th><a name="d61266e147"></a>Description</th></tr></thead><tbody><tr id="d61266e151" class="ijRowOdd"><a name="d61266e151"></a><td><a name="d61266e153"></a>Host Name</td><td><a name="d61266e156"></a>Enter a name for the virtual machine.
                            This value is added as a prefix to the DNS name that you use to access the machine remotely.
                            The virtual machine is assigned a unique DNS name that always uses the subdomain <code class="code" data-lang="Java">.cloudapp.net</code>.
                            If you want to use a custom domain name, <a name="d61266e161"></a><a href="https://azure.microsoft.com/en-us/documentation/articles/cloud-services-custom-domain-name-portal/" data-external="true"><span>configure the custom domain name</span></a> before you proceed with the next step in this setup.</td></tr><tr id="d61266e166" class="ijRowEven"><a name="d61266e166"></a><td><a name="d61266e168"></a>User name</td><td><a name="d61266e171"></a>Enter a name for the user account that is used to manage the virtual machine.</td></tr><tr id="d61266e175" class="ijRowOdd"><a name="d61266e175"></a><td><a name="d61266e177"></a>Password</td><td><a name="d61266e180"></a>Set the password for the user account that is used to access the virtual machine.</td></tr></tbody></table></li><li class="list__item">In the <a name="d61266e187"></a><span class="control">Pricing Tier</span> section, choose the size of the virtual machine.</li><li class="list__item">In the <a name="d61266e193"></a><span class="control">Location</span> section, select a location that is closest to you to reduce latency.</li><li class="list__item">Click the <a name="d61266e199"></a><span class="control">Create</span> button.
                <ul class="list _ul"><li class="list__item"><a name="d61266e204"></a>The virtual machine is created and added to your subscription.
                        Depending on the size of the virtual machine, this can take some time.
                        The status of the virtual machine is shown under the <a name="d61266e206"></a><span class="control">Notifications</span> pane in the toolbar.</li></ul></li></ol></section>
        <a name="d61266e212"></a><p>Once the setup of your virtual machine is complete, you can proceed with the next step.</p>
    <a name="AddEndpoints"></a><h2>Add Endpoints to the Virtual Machine</h2>
        <a name="d61266e218"></a><p>When you create a new Windows virtual machine, the TCP port 3389 is opened to connect with the Remote Desktop.
            Linux virtual machines use TCP port 22 to allow an SSH connection.
            To give external users access to your Hub service, you need to set the entry point for the service in the virtual machine.</p>

        <a name="d61266e221"></a><a name="dynaProc1"></a><section class="procedure-steps"><h2>To add an endpoint to the virtual machine:</h2><ol class=".list _decimal"><li class="list__item">Select the name of your virtual machine in the Microsoft Azure portal.</li><li class="list__item">Click the <a name="d61266e228"></a><span class="control">Settings</span> button in the toolbar.</li><li class="list__item">In the <a name="d61266e234"></a><span class="control">General</span> section, click <a name="d61266e237"></a><span class="control">Endpoints</span>.</li><li class="list__item">Click the <a name="d61266e243"></a><span class="control">Add</span> button in the toolbar.
                <a name="d61266e246"></a><p><figure><a class="lightbox" href="/help/img/hub/2.0/AzureVMEndpointHub.png"><img alt="AzureVMEndpointHub" width="600" height="269" title="AzureVMEndpointHub" src="/help/img/hub/2.0/AzureVMEndpointHub_thumbnail.png"></a></figure></p></li><li class="list__item">In the <a name="d61266e251"></a><span class="control">Add endpoint</span> blade, enter values for the following settings:
                <table class="" width="100%" id="d61266e254"><thead><tr id="d61266e256" class="ijRowHead"><a name="d61266e256"></a><th><a name="d61266e258"></a>Setting</th><th><a name="d61266e261"></a>Description</th></tr></thead><tbody><tr id="d61266e265" class="ijRowOdd"><a name="d61266e265"></a><td><a name="d61266e267"></a>Name</td><td><a name="d61266e270"></a>Enter a name for the endpoint, for example, <code class="code" data-lang="Java">Hub</code>.</td></tr><tr id="d61266e277" class="ijRowEven"><a name="d61266e277"></a><td><a name="d61266e279"></a>Protocol</td><td><a name="d61266e282"></a>Select <a name="d61266e284"></a><span class="control">TCP</span>.</td></tr><tr id="d61266e289" class="ijRowOdd"><a name="d61266e289"></a><td><a name="d61266e291"></a>Public port</td><td><a name="d61266e294"></a>Enter <code class="code" data-lang="Java">80</code>.</td></tr><tr id="d61266e301" class="ijRowEven"><a name="d61266e301"></a><td><a name="d61266e303"></a>Private port</td><td><a name="d61266e306"></a>Enter <code class="code" data-lang="Java">80</code>.</td></tr></tbody></table></li><li class="list__item">Click the <a name="d61266e317"></a><span class="control">OK</span> button.
                <ul class="list _ul"><li class="list__item"><a name="d61266e322"></a>The virtual machine endport is saved.
                        The status of the virtual machine is shown under the <a name="d61266e324"></a><span class="control">Notifications</span> pane in the toolbar.</li></ul></li></ol></section>
        <a name="d61266e330"></a><p>Now that you have configured the virtual machine, continue with the next step to configure the firewall.</p>
    <a name="OpenHTTPPort"></a><h2>Open an HTTP port in the Firewall</h2>
        <a name="d61266e336"></a><p>The image for the virtual machine that is used in this setup includes a pre-configured firewall.
            If your virtual machine has a firewall enabled, you need to open a port to allow access to Hub over HTTP.</p>

        <a name="d61266e339"></a><a name="dynaProc2"></a><section class="procedure-steps"><h2>To open a port in the Windows Firewall:</h2><ol class=".list _decimal"><li class="list__item">Select the name of your virtual machine in the Microsoft Azure portal.</li><li class="list__item">Click the <a name="d61266e346"></a><span class="control">Connect</span> button in the toolbar.
                <ul class="list _ul"><li class="list__item"><a name="d61266e351"></a>A Remote Desktop Connection to the virtual machine is downloaded to your local directory.</li></ul></li><li class="list__item">Open the Remote Desktop Connection with the username and password that you entered when you created the virtual machine.</li><li class="list__item">In the <a name="d61266e360"></a><span class="control">Server Manager</span>, select the <a name="d61266e363"></a><span class="control">Local Server</span>.</li><li class="list__item">In the <a name="d61266e369"></a><span class="control">Properties</span> section, click the link next to the <a name="d61266e372"></a><span class="control">Windows Firewall</span> property.
                <figure><a class="lightbox" href="/help/img/hub/2.0/AzureLocalServerHub.png"><img alt="AzureLocalServerHub" width="600" height="152" title="AzureLocalServerHub" src="/help/img/hub/2.0/AzureLocalServerHub_thumbnail.png"></a></figure>
                <ul class="list _ul"><li class="list__item"><a name="d61266e379"></a>The <a name="d61266e381"></a><span class="control">Windows Firewall</span> window opens.</li></ul></li><li class="list__item">Click the <a name="d61266e389"></a><span class="control">Advanced Settings</span> link.
                <ul class="list _ul"><li class="list__item"><a name="d61266e394"></a>The <a name="d61266e396"></a><span class="control">Windows Firewall with Advanced Security</span> dialog opens.</li></ul></li><li class="list__item">Right-click <a name="d61266e403"></a><span class="control">Inbound Rules</span> and select the <a name="d61266e406"></a><span class="control">New Rule</span> option.
                <figure><a class="lightbox" href="/help/img/hub/2.0/AzureNewFirewallRule.png"><img alt="AzureNewFirewallRule" width="600" height="446" title="AzureNewFirewallRule" src="/help/img/hub/2.0/AzureNewFirewallRule_thumbnail.png"></a></figure>
                <ul class="list _ul"><li class="list__item"><a name="d61266e413"></a>The <a name="d61266e415"></a><span class="control">New Inbound Rule Wizard</span> opens.</li></ul></li><li class="list__item">Foll the steps in the wizard to configure the rule as follows:
                <table class="" width="100%" id="d61266e422"><thead><tr id="d61266e424" class="ijRowHead"><a name="d61266e424"></a><th><a name="d61266e426"></a>Step</th><th><a name="d61266e429"></a>Option</th></tr></thead><tbody><tr id="d61266e433" class="ijRowOdd"><a name="d61266e433"></a><td><a name="d61266e435"></a>Rule Type</td><td><a name="d61266e438"></a>Select <a name="d61266e440"></a><span class="control">Port</span>.</td></tr><tr id="d61266e445" class="ijRowEven"><a name="d61266e445"></a><td><a name="d61266e447"></a>Protocol and Ports</td><td><a name="d61266e450"></a><ul class="list _ul"><li class="list__item"><a name="d61266e453"></a>Select <a name="d61266e455"></a><span class="control">TCP</span>.</li><li class="list__item"><a name="d61266e459"></a>In the <a name="d61266e461"></a><span class="control">Specific local ports</span> input field, enter <code class="code" data-lang="Java">80</code>.</li></ul></td></tr><tr id="d61266e470" class="ijRowOdd"><a name="d61266e470"></a><td><a name="d61266e472"></a>Action</td><td><a name="d61266e475"></a>Select <a name="d61266e477"></a><span class="control">Allow the connection</span>.</td></tr><tr id="d61266e482" class="ijRowEven"><a name="d61266e482"></a><td><a name="d61266e484"></a>Profile</td><td><a name="d61266e487"></a>Apply the rule to all firewall modes.</td></tr><tr id="d61266e492" class="ijRowOdd"><a name="d61266e492"></a><td><a name="d61266e494"></a>Name</td><td><a name="d61266e497"></a>Enter a name, for example, <code class="code" data-lang="Java">Allow Hub</code>. Enter an optional description.</td></tr></tbody></table></li><li class="list__item">When done, click the <a name="d61266e507"></a><span class="control">Finish</span> button.
                <ul class="list _ul"><li class="list__item"><a name="d61266e512"></a>The firewall rule is enabled.</li></ul></li></ol></section>
        <a name="d61266e517"></a><p>Alternatively, you can open <a name="d61266e519"></a><span class="control">Windows PowerShell</span> and enter the following command:</p>
        <a name="d61266e523"></a><div class="code-block" data-lang="Console"><code class="code-block__wrapper">netsh advfirewall firewall add rule <span class="nv">name</span><span class="o">=</span><span class="s2">&quot;Hub&quot;</span> <span class="nv">dir</span><span class="o">=</span>in <span class="nv">action</span><span class="o">=</span>allow <span class="nv">protocol</span><span class="o">=</span>TCP <span class="nv">localport</span><span class="o">=</span>80</code></div>
        <a name="d61266e526"></a><p>Now that you have opened the port that will be used by Hub, stay logged in to the Remote Desktop Connection and continue with the final step.</p>
    <a name="InstallHub"></a><h2>Install Hub</h2>

        <a name="d61266e532"></a><p>The procedure for installing Hub on the virtual machine is similar to any other Hub installation.
            You can install whichever distribution type you want to use. This setup follows the <a name="d61266e534"></a><a href="Installing-Hub-with-MSI-Distribution.html"><span>installation procedure for the MSI distribution</span></a>.</p>
        <a name="d61266e538"></a><p>The Windows virtual machine includes Internet Explorer as the default browser, however, the browser is configured to use the enhanced security configuration.
            This configuration does not trust any web sites and disables downloads. Before you continue with the installation:</p>
        <ul class="list _ul"><li class="list__item"><a name="d61266e543"></a>Disable Internet Explorer Enhanced Security.<br>
                or</li><li class="list__item"><a name="d61266e548"></a>Download and install a different web browser. If you install a different browser, set it as the default browser for your operating system.</li></ul>

        <a name="d61266e552"></a><a name="dynaProc3"></a><section class="procedure-steps"><h2>To install Hub:</h2><ol class=".list _decimal"><li class="list__item">Download the MSI distribution from the <a name="d61266e556"></a><a href="/hub/download/#section=windows-version" data-external="true"><span>JetBrains website</span></a>.</li><li class="list__item">Open the Windows Installer Package (MSI file).
                <ul class="list _ul"><li class="list__item"><a name="d61266e564"></a>The <a name="d61266e566"></a><span class="control">JetBrains Hub 2.0 Setup Wizard</span> opens.</li></ul></li><li class="list__item">Follow the instructions in the setup wizard.
                <ul class="list _ul"><li class="list__item"><a name="d61266e575"></a>When the installation wizard is finished, the web-based Configuration Wizard opens in your default browser.</li></ul>
            </li><li class="list__item">In the <a name="d61266e582"></a><span class="control">Configuration Wizard</span>, click <a name="d61266e585"></a><span class="control">Set up</span>.</li><li class="list__item">On the <a name="d61266e591"></a><span class="control">Confirm Settings</span> page, change the <a name="d61266e594"></a><span class="control">Base URL</span> to the full DNS name of your virtual machine.
                This ensures that notifications that contain links to your Hub instance point to the correct URL.
                <figure><a class="lightbox" href="/help/img/hub/2.0/AzureChangeBaseURLHub.png"><img alt="AzureChangeBaseURLHub" width="600" height="517" title="AzureChangeBaseURLHub" src="/help/img/hub/2.0/AzureChangeBaseURLHub_thumbnail.png"></a></figure>
            </li><li class="list__item">Continue with the remaining steps in the wizard.</li><li class="list__item">When done, click <a name="d61266e606"></a><span class="control">Finish</span>.
                <ul class="list _ul"><li class="list__item"><a name="d61266e611"></a>The configuration is applied to your Hub server.</li></ul>
                <a name="d61266e615"></a><p>Do not close the page in the browser until the setup is complete.
                    When the Hub server is ready, you are redirected to the login page.</p>
            </li><li class="list__item">Enter the credentials for the administrator account that you created during the configuration and click the <a name="d61266e621"></a><span class="control">Log in</span> button.
                <ul class="list _ul"><li class="list__item"><a name="d61266e626"></a>Hub opens to the <a name="d61266e628"></a><span class="control">Users</span> page.</li></ul>
                </li></ol></section>
        <a name="d61266e635"></a><p>That's it. Your Hub instance is installed and available for use in the cloud.</p>
    <div class="last-modified">Last modified: 19 September 2016 </div></article><div id="disqus_thread"></div></div></section></main></div><script src="/help/app/app.js"></script></body></html>