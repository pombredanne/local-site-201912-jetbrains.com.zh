<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>Common Settings for Auth Modules - Help | Hub</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body data-id="auth-module-common-settings"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search Hub Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>Hub 2019.1 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="auth-module-common-settings" id="auth-module-common-settings.xml">Common Settings for Auth Modules</h1>    <p id="71aa3a88">The <span class="control">Common Settings</span> page displays configuration options that are applied to all of the authentication modules in Hub.    To access this page, select <span class="control">Auth Modules</span> from the <span class="control">Access Management</span> section of the <span class="control">Administration</span> menu, then click the <span class="control">Common settings</span> link in the toolbar.</p>    <figure><a class="lightbox" href="/help/img/hub/2019.1/common-settings-general.zoomed.png"><img alt="Common settings general" title="Common settings general" src="/help/img/hub/2019.1/common-settings-general.png" id="3d12c1c6" width="706" height="411"></a></figure>    <div class="chapter"><h2 id="auth-module-common-settings-general" data-toc="auth-module-common-settings#auth-module-common-settings-general">General Settings</h2>    <p id="e23d4d83">The following settings are shown on the <span class="control">General</span> tab:</p>    <div class="table-wrapper"><table width="100%" id="3d5568a4"><thead><tr id="e0572ddd" class="ijRowHead"><th id="242c927a" width="20%"><p>Setting</p></th><th id="3586c45a"><p>Description</p></th></tr></thead><tbody><tr id="fd833bb2" class="ijRowOdd"><td id="b2d30d37"><p>Token timeout</p></td><td id="eef8bf1c"><p>Specifies the maximum lifespan for access tokens.            By reducing this value, you limit the amount of time a malicious user who has obtained an access token can access the application.                The default is one hour.                <br><br>                Shortly before an access token expires, Hub uses a refresh token to acquire a new refresh token and access token.            As long as the user still has a valid session cookie, this process takes place in the background without logging the user out.                Reducing this value has an increasing negative impact on performance, as the application has to replace expired tokens with greater frequency.</p></td></tr><tr id="5099dec5" class="ijRowEven"><td id="6982c5b8"><p>Session timeout</p></td><td id="74987a3e"><p>Specifies the duration that a session can remain idle before Hub terminates it automatically.            This sets the lifetime for the session cookie that lets users access the application without having to log in again when the <span class="control">Remember me</span> option is disabled.</p></td></tr><tr id="2b50fe37" class="ijRowOdd"><td id="7c857b0d"><p>Remember Me duration</p></td><td id="5a10b516"><p>Specifies the duration that Hub remembers a login session.                This sets the lifetime for the session cookie that lets users access the application without having to log in again when the <span class="control">Remember me</span> option is enabled.</p></td></tr><tr id="04bc9c35" class="ijRowEven"><td id="9797af94"><p>Email verification</p></td><td id="9ede49bb"><p id="eb5744e5">Determines whether users must verify their email addresses to log in to Hub.                To improve the security of your installation, enable this option.</p>            <p id="cd3ee477">Note that email verification is not required for users who have <span class="control">Low-level Administration</span> permissions.                This ensures that your administrators always have access to the application.</p></td></tr><tr id="85fab232" class="ijRowOdd"><td id="1c5af64b"><p>Login field placeholder</p></td><td id="99f67bba"><p id="16b02024">Sets the placeholder text that is shown for the login field on the login page.                Use this setting to tell users which values are accepted as a login.                The default placeholder is <span class="control">Username or Email</span>.</p>                <p id="ed6f9191">For example, if you're using a directory service that only accepts logins with an employee ID,                you can show <span class="control">Employee ID</span> instead of the default placeholder.</p></td></tr><tr id="ab582990" class="ijRowEven"><td id="27733e83"><p>Login message</p></td><td id="8190b343"><p>Adds a message to the login page for your Hub installation.            Use this, for example, to provide a link to legal documents that describe how you manage personal data that is stored in the application.</p></td></tr></tbody></table></div>    </div>    <div class="chapter"><h2 id="throttling-settings" data-toc="auth-module-common-settings#throttling-settings">Throttling Settings</h2>        <p id="3d62e2df">Throttling or rate limitation helps protect Hub from brute-force attacks.            The options on the <span class="control">Common Settings</span> page lets you apply rate limits to login attempts and requests to verify credentials.            Rate limits are applied per login.            Rate limits help slow down brute-force attacks by blocking new login requests following a series of consecutive login failures, so they keep your passwords safe.</p>        <p id="832b7d82">This feature is designed for use with reCAPTCHA.        When rate limitation is applied to a login, the user can solve a CAPTCHA-based challenge and try another password.        If reCAPTCHA is not configured, affected users must wait until the cooldown period elapses to attempt another login.</p>        <p id="890d6a04">When you enable <span class="control">Throttling by login</span>, use the settings on this tab to manage how throttling is applied to logins and requests to verify credentials.</p>        <figure><a class="lightbox" href="/help/img/hub/2019.1/common-settings-throttling.zoomed.png"><img alt="Common settings throttling" title="Common settings throttling" src="/help/img/hub/2019.1/common-settings-throttling.png" id="f44e55c0" width="706" height="408"></a></figure>        <div class="table-wrapper"><table width="100%" id="92934cfe"><thead><tr id="8a95d116" class="ijRowHead"><th id="f75874ef" width="20%"><p>Setting</p></th><th id="ee746720"><p>Description</p></th></tr></thead><tbody><tr id="5cec61aa" class="ijRowOdd"><td id="38a011e9"><p>Throttling</p></td><td id="ff26f117"><p>Enables rate limitation for logins and requests to verify credentials.</p></td></tr><tr id="dabddb6e" class="ijRowEven"><td id="30f73615"><p>Max logins</p></td><td id="31d8ca70"><p id="2ad61785">The maximum number of logins that are tracked for rate limiting.                    The purpose of this setting is to maintain a relatively large number of counters that is not an infinite value.                    This avoids storing all failed logins and consuming too much memory.</p>                    <p id="67a72e71">A counter is created for each login that uses an invalid password.                        When Hub has active counters equal to the maximum number of logins, the collection is full.                        If the collection is full:</p>                <ul class="list _ul"><li class="list__item" id="8a52ce2c"><p>New requests with logins that are not in the collection are rejected.</p></li><li class="list__item" id="28b2509f"><p>Requests with logins that are stored in the collection follow the same rules as if the collection wasn't full.</p></li></ul>                <p id="958fe1de">The number of active counters decreases according to the settings for the <span class="control">Cooldown period</span> and <span class="control">Cooldown value</span> as described below.</p></td></tr><tr id="6eda166a" class="ijRowOdd"><td id="cf1892ac"><p>Max failures per login</p></td><td id="9d438890"><p id="e2dff756">The maximum number of consecutive failed requests that are allowed before rate limitations are applied to a login.</p>                    <p id="6870a6f0">Every time Hub registers a failed login, an entry is added to the counter.                    When the counter for a login reaches the threshold that is set as the <span class="control">Max failures per login</span>, rate limits are applied to this login.                    Subsequent attempts for this login are rejected even when the password is correct.                    This prevents attackers from iterating over a list of passwords until they guess correctly.</p>                    <ul class="list _ul"><li class="list__item" id="24d20fe6"><p>When reCAPTCHA is configured, the throttled user can solve a CAPTCHA-based challenge and try another password.</p></li><li class="list__item" id="31c1edbe"><p>Without reCAPTCHA, the user must wait for the cooldown to elapse before attempting to log in again.</p></li></ul>                    <p id="8437b686">Attempts that are rejected when the counter is full do not increment the counter higher than the maximum number.                    This prevents attackers from overloading the counter, forcing the account owner to solve a CAPTCHA challenge on every login attempt.</p>                </td></tr><tr id="a36ee750" class="ijRowEven"><td id="6fd33cc5"><p>Cooldown period</p></td><td id="c349c25a"><p id="f9b7d38f">The interval at which entries are removed from the counter for each login, in seconds.</p>                <p id="375246f0">Entries are removed from the counter for each login according to the cooldown period.                    The cooldown value determines how many failed logins are forgotten in this time frame.</p>                </td></tr><tr id="fbe28bb5" class="ijRowOdd"><td id="c827db1d"><p>Cooldown value</p></td><td id="f8086bc0"><p id="567d457a">The number of entries that are removed from the counter for each login per cooldown period.</p>                <p id="587046cd">For counters that reach the maximum number of allowed failures, login requests are rejected for the login that hit the threshold.                    When the counter falls below the maximum, login requests are processed.                    The user once again try to guess the password for this login.</p>                    <ul class="list _ul"><li class="list__item" id="63aaf144"><p>If the number of consecutive invalid requests reaches the maximum, subsequent requests are rejected again.</p></li><li class="list__item" id="ac3cb360"><p>When a counter reaches zero, the login is removed from the collection.</p></li></ul>                </td></tr><tr id="28122d5c" class="ijRowEven"><td id="3c2c971e"><p>Login whitelist</p></td><td id="f7632d42"><p id="bd3374b7">A list of logins that are not tracked for failed login requests.                    Enter each login on a new line.</p>                    <p id="bfb37a60">When a user exceeds the max failures per login, the login is shown in the <span class="control">Throttled logins</span> list.                        To add a login to the whitelist and disable throttling for the affected user, click the <span class="control">Add to whitelist</span> button.</p>                <p id="02517933">You can use the whitelist to ensure that your administrators can still log in even when Hub is tracking the maximum number of logins.                   However, users on the whitelist should take extra precaution to secure their accounts with strong passwords, as their logins are not protected against a brute-force attack.</p></td></tr><tr id="49291cff" class="ijRowOdd"><td id="66c4fe55"><p>Audit</p></td><td id="561a9a87"><p>Links to a list of audit events related to changes that have been applied to the throttling settings on this page.</p></td></tr><tr id="b6713543" class="ijRowEven"><td id="58dd5b89"><p>Throttled logins</p></td><td id="9d5f4e75"><p>A list of logins that are currently tracked for rate limiting.                Use this list to track which accounts have recorded one or more failed login within the cooldown period.                To add accounts to the login whitelist, select one or more accounts in the list, then click the <span class="control">Add to whitelist</span> button.</p></td></tr></tbody></table></div>    </div>    <div class="chapter"><h2 id="recaptcha-settings" data-toc="auth-module-common-settings#recaptcha-settings">CAPTCHA Settings</h2>        <p id="70608232">The settings on the <span class="control">CAPTCHA</span> tab let you set up and use Google reCAPTCHA.</p>        <figure><a class="lightbox" href="/help/img/hub/2019.1/common-settings-captcha.zoomed.png"><img alt="Common settings captcha" title="Common settings captcha" src="/help/img/hub/2019.1/common-settings-captcha.png" id="87cd6585" width="706" height="249"></a></figure>        <p id="9c744a97">The reCAPTCHA service asks users to solve a CAPTCHA-based challenge to prove that they are not a robot.        This challenge is presented in the following situations:</p>        <ul class="list _ul"><li class="list__item" id="940657d3"><p>When registration is enabled for the Hub authentication module.            Users must prove that they are not a robot to register their own account.</p></li><li class="list__item" id="0cf99adb"><p>When throttling by logins is enabled and the maximum number of failed login attempts is exceeded.            The affected user must complete the challenge to try another password.</p></li></ul>        <section class="procedure-steps"><h3 id="recaptcha-procedure">To enable reCAPTCHA for self-registration and throttled logins:</h3><aside class="tip sideblock" data-title="" rel="recaptcha-procedure" id="e2826810"><p>Requires permissions: Low-level Admin Write</p></aside><ol class="list _decimal"><li class="list__item" id="757b5a23"><p id="4c1c1426">In the <span class="control">reCAPTCHA Settings</span> section of the <span class="control">Auth Modules &gt; Common Settings</span> page, click the link to access the reCAPTCHA key management console.</p>            <ul class="list _ul"><li class="list__item" id="65b96a90"><p>The <a href="https://www.google.com/recaptcha/intro/index.html" data-external="true" target="_blank" rel="noopener noreferrer">Create reCAPTCHA key</a> page opens.</p></li></ul></li><li class="list__item" id="5b699f15"><p>Register your Hub domain with the reCAPTCHA service. reCAPTCHA is a part of Google services, so you can use your Google account to log in.            Read the tips provided on the page before you register and generate your keys.</p></li><li class="list__item" id="53658542"><p>Copy the <span class="control">Site key</span> in Google and paste it into the corresponding input field in the <span class="control">Common Settings</span> page.</p></li><li class="list__item" id="12080970"><p>Copy the <span class="control">Secret key</span> in Google and paste it into the corresponding input field in the <span class="control">Common Settings</span> page.</p></li><li class="list__item" id="11818f91"><p id="a9dfb185">Click the <span class="control">Save</span> button.</p>            <ul class="list _ul"><li class="list__item" id="423067c8"><p>The reCAPTCHA validation input is enabled for users who register their own accounts in Hub or whose logins are throttled.</p></li></ul></li></ol></section>    </div>    <div class="chapter"><h2 id="recover-from-brute-force-attack" data-toc="auth-module-common-settings#recover-from-brute-force-attack">How to Recover from a Brute-force Attack</h2>        <p id="2e366d9f">Few attackers are going to have the patience to guess the conditions that trigger authentication throttling.            They're much more likely to give up and move on to an easier target.</p>        <p id="daf0abe5">However, if an attacker managed to gain access to the application without triggering the rate limitation, you might have a problem.            It doesn't necessarily mean that the throttling failed â€” it means that you let users create weak passwords that were too easy to guess.</p>        <p id="5c701811">If you suspect that a malicious user has gained unauthorized access:</p>        <ul class="list _ul"><li class="list__item" id="50bbc926"><p>Check your security logs to identify compromised accounts.</p></li><li class="list__item" id="b2e1a6ec"><p>Browse the audit events to detect suspicious activity and identify changes that were performed by compromised users.</p></li><li class="list__item" id="73c3cc9f"><p>Update the settings of your Hub authentication module to enforce a stronger password policy.                For more information, see <a href="Set-Password-Policy.html">Set a Password Policy</a>.</p></li><li class="list__item" id="c2008868"><p>Access the user profile for each compromised account and request that they change their passwords.                You can force these users to change their passwords the next time they attempt to log in.            Alternatively, you can force all users to change the passwords for their Hub accounts.            For more information, see <a href="request-password-reset.html">Require New Passwords for Hub Logins</a>.</p></li></ul>    </div><div class="last-modified" data-skip-index="skip">Last modified: 9 September 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="Managing-Auth-Modules.html">Auth Modules</a><a class="navigation-links__next" href="Hub-Auth-Module.html">Hub Authentication Module</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>