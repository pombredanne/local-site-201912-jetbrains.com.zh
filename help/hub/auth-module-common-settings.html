<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>身份验证模块的通用设置-帮助|帮助毂</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body  data-id="auth-module-common-settings"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索中心帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>Hub 2019.1帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 id="auth-module-common-settings.xml" data-toc="auth-module-common-settings">验证模块的通用设置</h1>    <p id="71aa3a88">“ <span class="control">通用设置”</span>页面显示应用于集线器中所有身份验证模块的配置选项。要访问此页，从<span class="control">管理</span>菜单的<span class="control">访问管理</span>部分，选择<span class="control">身份验证模块</span> ，然后单击<span class="control">常用设置</span>工具栏中的链接。</p>    <figure><a class="lightbox" href="/help/img/hub/2019.1/common-settings-general.zoomed.png"><img alt="通用设置常规" title="通用设置常规" src="/help/img/hub/2019.1/common-settings-general.png" id="3d12c1c6" width="706" height="411"></a></figure>    <div class="chapter"><h2 id="auth-module-common-settings-general" data-toc="auth-module-common-settings#auth-module-common-settings-general">通用设置</h2>    <p id="e23d4d83"><span class="control">常规</span>选项卡上显示以下设置：</p>    <div class="table-wrapper"><table width="100%" id="3d5568a4"><thead><tr id="e0572ddd" class="ijRowHead"><th id="242c927a" width="20%"><p>设置</p></th><th id="3586c45a"><p>描述</p></th></tr></thead><tbody><tr id="fd833bb2" class="ijRowOdd"><td id="b2d30d37"><p>令牌超时</p></td><td id="eef8bf1c"><p>指定访问令牌的最大寿命。通过减小此值，可以限制已获得访问令牌的恶意用户访问应用程序的时间。默认值为一小时。<br><br>访问令牌到期之前不久，集线器使用刷新令牌来获取新的刷新令牌和访问令牌。只要用户仍然具有有效的会话cookie，该过程就会在后台进行，而无需注销用户。降低此值会对性能产生越来越大的负面影响，因为应用程序必须更频繁地替换过期的令牌。</p></td></tr><tr id="5099dec5" class="ijRowEven"><td id="6982c5b8"><p>会话超时</p></td><td id="74987a3e"><p>指定会话在Hub自动终止之前可以保持空闲的持续时间。这设置了会话cookie的生存期，该会话cookie使用户在禁用“ <span class="control">记住我”</span>选项时无需再次登录即可访问应用程序。</p></td></tr><tr id="2b50fe37" class="ijRowOdd"><td id="7c857b0d"><p>记住我的时间</p></td><td id="5a10b516"><p>指定集线器记住登录会话的持续时间。这将设置会话cookie的生存时间，该会话cookie允许用户在启用“ <span class="control">记住我”</span>选项时无需再次登录即可访问应用程序。</p></td></tr><tr id="04bc9c35" class="ijRowEven"><td id="9797af94"><p>电子邮件验证</p></td><td id="9ede49bb"><p id="eb5744e5">确定用户是否必须验证其电子邮件地址才能登录到集线器。为了提高安装的安全性，请启用此选项。</p>            <p id="cd3ee477">请注意，具有“ <span class="control">低级管理”</span>权限的用户不需要电子邮件验证。这样可以确保您的管理员始终可以访问该应用程序。</p></td></tr><tr id="85fab232" class="ijRowOdd"><td id="1c5af64b"><p>登录字段占位符</p></td><td id="99f67bba"><p id="16b02024">设置在登录页面上为登录字段显示的占位符文本。使用此设置可以告诉用户哪些值被接受为登录名。默认的占位符是<span class="control">Username或Email</span> 。</p>                <p id="ed6f9191">例如，如果您使用的目录服务仅接受带有员工ID的登录，则可以显示<span class="control">员工ID</span>而不是默认的占位符。</p></td></tr><tr id="ab582990" class="ijRowEven"><td id="27733e83"><p>登录信息</p></td><td id="8190b343"><p>将消息添加到集线器安装的登录页面。例如，使用此链接可提供法律文档的链接，这些文档描述了您如何管理存储在应用程序中的个人数据。</p></td></tr></tbody></table></div>    </div>    <div class="chapter"><h2 id="throttling-settings" data-toc="auth-module-common-settings#throttling-settings">节流设置</h2>        <p id="3d62e2df">节流或速率限制有助于保护集线器免受暴力攻击。“ <span class="control">通用设置”</span>页面上的选项使您可以将速率限制应用于登录尝试和请求以验证凭据。速率限制适用于每次登录。速率限制通过在一系列连续的登录失败后阻止新的登录请求来帮助减缓暴力攻击，从而使您的密码安全。</p>        <p id="832b7d82">此功能设计用于reCAPTCHA。当速率限制应用于登录时，用户可以解决基于CAPTCHA的挑战并尝试另一个密码。如果未配置reCAPTCHA，则受影响的用户必须等待，直到冷却时间过后才能尝试再次登录。</p>        <p id="890d6a04">启用“ <span class="control">通过登录</span>进行<span class="control">节流”时</span> ，请使用此选项卡上的设置来管理如何将节流应用于登录名和请求以验证凭据。</p>        <figure><a class="lightbox" href="/help/img/hub/2019.1/common-settings-throttling.zoomed.png"><img alt="常用设置节流" title="常用设置节流" src="/help/img/hub/2019.1/common-settings-throttling.png" id="f44e55c0" width="706" height="408"></a></figure>        <div class="table-wrapper"><table width="100%" id="92934cfe"><thead><tr id="8a95d116" class="ijRowHead"><th id="f75874ef" width="20%"><p>设置</p></th><th id="ee746720"><p>描述</p></th></tr></thead><tbody><tr id="5cec61aa" class="ijRowOdd"><td id="38a011e9"><p>节流</p></td><td id="ff26f117"><p>对登录和请求验证凭据启用速率限制。</p></td></tr><tr id="dabddb6e" class="ijRowEven"><td id="30f73615"><p>最大登录</p></td><td id="31d8ca70"><p id="2ad61785">跟踪速率限制的最大登录数。此设置的目的是保持相对较大数量的计数器，而不是无限值。这样可以避免存储所有失败的登录名和占用过多的内存。</p>                    <p id="67a72e71">将为使用无效密码的每个登录创建一个计数器。当集线器的活动计数器等于最大登录数时，集合已满。如果集合已满：</p>                <ul class="list _ul"><li class="list__item" id="8a52ce2c"><p>登录名不在集合中的新请求将被拒绝。</p></li><li class="list__item" id="28b2509f"><p>存储在集合中的具有登录名的请求遵循与集合未满相同的规则。</p></li></ul>                <p id="958fe1de">活动计数器的数量根据“ <span class="control">冷却时间”</span>和“ <span class="control">冷却时间”值</span>的设置而减少，如下所述。</p></td></tr><tr id="6eda166a" class="ijRowOdd"><td id="cf1892ac"><p>每次登录的最大失败次数</p></td><td id="9d438890"><p id="e2dff756">将速率限制应用于登录之前允许的连续失败请求的最大数量。</p>                    <p id="6870a6f0">每次集线器注册失败的登录时，都会将一个条目添加到计数器。当登录的计数器达到设置为“ <span class="control">每次登录</span>的<span class="control">最大失败次数”</span>的阈值时，速率限制将应用于此登录。即使密码正确，此登录的后续尝试也会被拒绝。这样可以防止攻击者遍历密码列表，直到他们正确猜出为止。</p>                    <ul class="list _ul"><li class="list__item" id="24d20fe6"><p>配置reCAPTCHA后，受限制的用户可以解决基于CAPTCHA的挑战，并尝试另一个密码。</p></li><li class="list__item" id="31c1edbe"><p>如果没有reCAPTCHA，则用户必须等待冷却时间过去后才能尝试再次登录。</p></li></ul>                    <p id="8437b686">计数器已满时拒绝的尝试不会使计数器的值增加到最大数量以上。这样可以防止攻击者使计数器超负荷，从而迫使帐户所有者在每次登录尝试时都要解决验证码挑战。</p>                </td></tr><tr id="a36ee750" class="ijRowEven"><td id="6fd33cc5"><p>冷却时间</p></td><td id="c349c25a"><p id="f9b7d38f">每次登录从计数器中删除条目的时间间隔（以秒为单位）。</p>                <p id="375246f0">根据冷却时间，将从每次登录的计数器中删除条目。冷却时间值确定在此时间范围内忘记了多少次失败的登录。</p>                </td></tr><tr id="fbe28bb5" class="ijRowOdd"><td id="c827db1d"><p>冷却时间</p></td><td id="f8086bc0"><p id="567d457a">每个冷却时间段内每次登录从计数器中删除的条目数。</p>                <p id="587046cd">对于达到允许的最大失败次数的计数器，登录请求将达到阈值的登录请求被拒绝。当计数器降至最大值以下时，将处理登录请求。用户再次尝试猜测该登录名的密码。</p>                    <ul class="list _ul"><li class="list__item" id="63aaf144"><p>如果连续无效请求的数量达到最大值，则后续请求将再次被拒绝。</p></li><li class="list__item" id="ac3cb360"><p>当计数器达到零时，将从集合中删除登录名。</p></li></ul>                </td></tr><tr id="28122d5c" class="ijRowEven"><td id="3c2c971e"><p>登录白名单</p></td><td id="f7632d42"><p id="bd3374b7">未针对失败的登录请求进行跟踪的登录列表。在新行中输入每个登录名。</p>                    <p id="bfb37a60">当用户超过每次登录的最大失败次数时，该登录将显示在“限制<span class="control">登录”</span>列表中。要将登录名添加到白名单并为受影响的用户禁用限制，请单击“ <span class="control">添加到白名单”</span>按钮。</p>                <p id="02517933">您可以使用白名单来确保即使Hub跟踪最大登录数时，管理员仍然可以登录。但是，白名单上的用户应格外小心，以使用强密码保护帐户安全，因为他们的登录名没有受到暴力攻击的保护。</p></td></tr><tr id="49291cff" class="ijRowOdd"><td id="66c4fe55"><p>审计</p></td><td id="561a9a87"><p>链接到与此页面上的节流设置已应用的更改相关的审核事件列表。</p></td></tr><tr id="b6713543" class="ijRowEven"><td id="58dd5b89"><p>限制登录</p></td><td id="9d5f4e75"><p>当前为速率限制而跟踪的登录列表。使用此列表可以跟踪在冷却期间哪些帐户记录了一次或多次失败的登录。要将帐户添加到登录白名单，请在列表中选择一个或多个帐户，然后单击“ <span class="control">添加到白名单”</span>按钮。</p></td></tr></tbody></table></div>    </div>    <div class="chapter"><h2 id="recaptcha-settings" data-toc="auth-module-common-settings#recaptcha-settings">验证码设置</h2>        <p id="70608232">通过“ <span class="control">验证码”</span>标签上的设置，您可以设置和使用Google reCAPTCHA。</p>        <figure><a class="lightbox" href="/help/img/hub/2019.1/common-settings-captcha.zoomed.png"><img alt="常用设置验证码" title="常用设置验证码" src="/help/img/hub/2019.1/common-settings-captcha.png" id="87cd6585" width="706" height="249"></a></figure>        <p id="9c744a97">reCAPTCHA服务要求用户解决基于CAPTCHA的挑战，以证明他们不是机器人。在以下情况下会出现此挑战：</p>        <ul class="list _ul"><li class="list__item" id="940657d3"><p>为集线器身份验证模块启用注册时。用户必须证明他们不是自动注册自己的帐户的机器人。</p></li><li class="list__item" id="0cf99adb"><p>启用通过登录进行节流并且超过最大失败登录尝试次数时。受影响的用户必须完成质询才能尝试另一个密码。</p></li></ul>        <section class="procedure-steps"><h3 id="recaptcha-procedure">要启用reCAPTCHA进行自我注册和限制登录：</h3><aside class="tip sideblock" rel="recaptcha-procedure" id="e2826810" data-title=""><p>需要权限：低级管理员写</p></aside><ol class="list _decimal"><li class="list__item" id="757b5a23"><p id="4c1c1426">在<span class="control">“</span> <span class="control">验证模块”>“通用设置”</span>页面的“ <span class="control">reCAPTCHA设置”</span>部分中，单击链接以访问reCAPTCHA密钥管理控制台。</p>            <ul class="list _ul"><li class="list__item" id="65b96a90"><p>将打开“ <a href="https://www.google.com/recaptcha/intro/index.html" rel="noopener noreferrer" data-external="true" target="_blank">创建reCAPTCHA密钥”</a>页面。</p></li></ul></li><li class="list__item" id="5b699f15"><p>使用reCAPTCHA服务注册您的Hub域。 reCAPTCHA是Google服务的一部分，因此您可以使用您的Google帐户登录。在注册并生成密钥之前，请阅读页面上提供的提示。</p></li><li class="list__item" id="53658542"><p>在Google中复制<span class="control">站点密钥</span> ，然后将其粘贴到“ <span class="control">通用设置”</span>页面的相应输入字段中。</p></li><li class="list__item" id="12080970"><p>在Google中复制<span class="control">密钥</span> ，然后将其粘贴到“ <span class="control">通用设置”</span>页面的相应输入字段中。</p></li><li class="list__item" id="11818f91"><p id="a9dfb185">单击<span class="control">保存</span>按钮。</p>            <ul class="list _ul"><li class="list__item" id="423067c8"><p>对于在Hub中注册自己的帐户或限制登录的用户，启用了reCAPTCHA验证输入。</p></li></ul></li></ol></section>    </div>    <div class="chapter"><h2 id="recover-from-brute-force-attack" data-toc="auth-module-common-settings#recover-from-brute-force-attack">如何从暴力攻击中恢复</h2>        <p id="2e366d9f">很少有攻击者会耐心地猜测触发认证限制的条件。他们更有可能放弃并朝着更容易的目标前进。</p>        <p id="daf0abe5">但是，如果攻击者设法在不触发速率限制的情况下获得了对应用程序的访问权限，则可能会遇到问题。这不一定意味着限制失败，而是意味着您让用户创建太容易猜到的弱密码。</p>        <p id="5c701811">如果您怀疑恶意用户已获得未经授权的访问：</p>        <ul class="list _ul"><li class="list__item" id="50bbc926"><p>检查您的安全日志以识别受感染的帐户。</p></li><li class="list__item" id="b2e1a6ec"><p>浏览审核事件以检测可疑活动，并确定受感染用户执行的更改。</p></li><li class="list__item" id="73c3cc9f"><p>更新集线器身份验证模块的设置，以实施更严格的密码策略。有关更多信息，请参见<a href="Set-Password-Policy.html">设置密码策略</a> 。</p></li><li class="list__item" id="c2008868"><p>访问每个受感染帐户的用户个人资料，并请求他们更改密码。您可以强制这些用户下次尝试登录时更改其密码。或者，您可以强制所有用户更改其集线器帐户的密码。有关更多信息，请参阅<a href="request-password-reset.html">要求中心登录需要新密码</a> 。</p></li></ul>    </div><div class="last-modified" data-skip-index="skip">上次修改时间：2019年9月9日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__next" href="Hub-Auth-Module.html">身份</a> <a class="navigation-links__prev" href="Managing-Auth-Modules.html">验证模块</a> <a class="navigation-links__next" href="Hub-Auth-Module.html">集线器身份验证模块</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>