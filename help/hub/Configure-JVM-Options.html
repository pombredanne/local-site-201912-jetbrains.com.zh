<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>Configure JVM Options - Help | Hub</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body data-id="Configure-JVM-Options"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search Hub Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>Hub 2019.1 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Configure-JVM-Options" id="Configure-JVM-Options.xml">Configure JVM Options</h1>    <p id="189c895d">You can configure the JVM options for your Hub instance.    These options let you manage behavioral, garbage collection, performance, and debugging options for your server.    These parameters cannot be updated in the Hub user interface.</p>    <p id="a3fbddd9">Hub stores JVM options in an internal file named <code class="code">hub.jvmoptions</code>.        Every time you start the Hub service, Hub reads this file and applies the parameters that are stored in this configuration to the Hub instance.</p>    <p id="f3622903">There are two methods that you can use to update these parameters:</p>    <div class="table-wrapper"><table width="100%" id="3dff09e6"><thead><tr id="6eb8adc8" class="ijRowHead"><th id="12dd6889"><p>Method</p></th><th id="f65c032c"><p>Description</p></th></tr></thead><tbody><tr id="067f8d24" class="ijRowOdd"><td id="fdb5ed11" width="30%"><p><a href="#set-ad-hoc-parameter">Update the parameter temporarily</a>.</p></td><td id="5a812fa5"><p>You can pass the JVM option on a temporary basis as an ad hoc start parameter.            The value for the parameter is set for the current run only.            The <code class="code">hub.jvmoptions</code> file is not updated, so when you restart your Hub instance without the start parameter, the parameter resets to the value that is stored in the configuration.            Use this option to test changes to your environment before you apply them on a persistent basis.</p></td></tr><tr id="9d3e2523" class="ijRowEven"><td id="94a0b8b3"><p><a href="#update-configuration-file">Update the parameter on a persistent basis</a>.</p></td><td id="ba04542f"><p>To change the value of a parameter on a persistent basis, you can update the JVM option in the <code class="code">hub.jvmoptions</code> file.</p></td></tr></tbody></table></div>    <div class="chapter"><h2 id="set-ad-hoc-parameter" data-toc="Configure-JVM-Options#set-ad-hoc-parameter">Update Parameters Temporarily</h2>        <p id="3352cb84">When you want to modify a JVM option on a temporary basis, you can use an ad hoc parameter in the service start command.            This method bypasses the <code class="code">hub.jvmoptions</code> file and runs Hub with the specified parameters.            Subsequent starts that do not specify the ad hoc parameter use the JVM options that are stored in the configuration file.</p>        <aside class="note " data-title="" rel="3352cb84" id="24dc939a">            <p id="61cdc4ea">The commands on this page are for Linux and macOS.                For a Windows installation, replace <code class="code">.sh</code> with <code class="code">.bat</code> and use the backslash.</p>        </aside>        <section class="procedure-steps"><h3 id="fc32a649">To pass a JVM option as an ad hoc parameter:</h3><ol class="list _decimal"><li class="list__item" id="d2e3f970"><p><a href="Starting-and-Stopping-Hub.html">Stop the Hub service</a>.</p></li><li class="list__item" id="5240d1f5"><p id="aaad31dc">In a command-line interface, change the directory to <code class="code">&lt;hub_home&gt;/bin</code>.</p>                <ul class="list _ul"><li class="list__item" id="bcbb03e1"><p>For a ZIP installation, the <code class="code">&lt;hub_home&gt;</code> directory is the location where the ZIP distribution was unpacked during installation.</p></li><li class="list__item" id="0319f352"><p>For an MSI installation, the <code class="code">&lt;hub_home&gt;</code> directory is the location where the MSI distribution was installed.                    The default installation directory is <code class="code">C:\Hub</code></p></li></ul>            </li><li class="list__item" id="73588b55"><p id="62e4b8d1">Enter the <code class="code">hub.sh start</code>command, followed by all of the settings that you want to pass to the Hub database on start.</p>                <ul class="list _ul"><li class="list__item" id="fa1aaa87"><p>Use the <code class="code">--J</code> prefix to pass the settings as ad hoc parameters.</p></li><li class="list__item" id="24bc9a36"><p id="61500e48">Follow the prefix with a JVM option.                        Do not add any spaces between the prefix and the option.                        The symbol that precedes the option determines how it is applied.</p>                        <ul class="list _ul"><li class="list__item" id="11be01a1"><p>Add an option with the <code class="code">-</code> symbol.</p></li><li class="list__item" id="5dc1d738"><p>Ignore an option with the <code class="code">+</code> symbol.                                If you specify a value, the corresponding option is only ignored if it has exactly the same value.</p></li></ul>                    </li></ul>                <p id="21798009">For example:</p>                <div class="code-block" data-lang="bash">hub.sh start --J-XX:+HeapDumpOnOutOfMemoryError --J-Xmx1024m</div>                <ul class="list _ul"><li class="list__item" id="c225c5ba"><p>The Hub service starts using the specified settings.</p></li><li class="list__item" id="1f1c723a"><p>The <code class="code">hub.jvmoptions</code> file is not modified.</p></li></ul>            </li></ol></section>        <section class="procedure-steps"><h3 id="f353b4c3">To pass a JVM option as an ad hoc parameter to Docker image:</h3><ol class="list _decimal"><li class="list__item" id="89182c52"><p><a href="Starting-and-Stopping-Hub.html">Stop Hub docker container</a>.</p></li><li class="list__item" id="364968d9"><p id="d79e2891">Run the <code class="code">configure-next-start</code> command:</p>            <div class="code-block" data-lang="bash">
                docker run -it --rm \
                -v &lt;path to conf directory&gt;:/opt/hub/conf
                jetbrains/hub:&lt;version&gt; \
                configure-next-start \
                &lt;ad hoc JVM options&gt;
    </div>                <p id="3c693bdb">&lt;ad hoc parameters&gt; â€” a list of all JVM options that should be applied on the next start of Hub service. Ad hoc JVM options should be provided in the following format:</p>                <div class="code-block" data-lang="none">--J&lt;JVM option&gt;</div>                <p id="a381867d"><code class="code">--J</code> is the ad hoc prefix followed by the option. Do not add any spaces between the prefix and the option.                    The symbol that precedes the option determines how it is applied.</p>                    <ul class="list _ul"><li class="list__item" id="6e34652b"><p>Add an option with the <code class="code">-</code> symbol.</p></li><li class="list__item" id="0cb70812"><p>Ignore an option with the <code class="code">+</code> symbol.                            If you specify a value, the corresponding option is only ignored if it has exactly the same value.</p></li></ul>                    <p id="165dce60">For example:</p>                <div class="code-block" data-lang="bash">
                    docker run -it --rm \
                    -v &lt;path to conf directory&gt;:/opt/hub/conf
                    jetbrains/hub:&lt;version&gt; \
                    configure-next-start \
                    --J-XX:+HeapDumpOnOutOfMemoryError \
                    --J-Xmx1024m
    </div>            </li><li class="list__item" id="101e14d7"><a href="start-stop-hub-docker.html#hub-docker-start">Start the docker container.</a>                <ul class="list _ul"><li class="list__item" id="d5133706"><p>The Hub service starts using the specified settings.</p></li><li class="list__item" id="f133e38f"><p>The <code class="code">hub.jvmoptions</code> file is not modified.</p></li></ul>            </li></ol></section>        <p id="75657e63">To run Hub with the previous settings, restart the service without passing any custom parameters.</p>    </div>    <div class="chapter"><h2 id="update-configuration-file" data-toc="Configure-JVM-Options#update-configuration-file">Update Parameters on a Persistent Basis</h2>        <p id="656da672">When you want to update a JVM option on a persistent basis, update the <code class="code">hub.jvmoptions</code> file.            You can update the file programmatically, or manually change the settings in the file.</p>        <div class="chapter"><h3 id="update-config-file-with-command">Update JVM Options with a Command</h3>            <section class="procedure-steps"><h3 id="30a4c520">To update JVM options programmatically for ZIP or MSI distribution:</h3><ol class="list _decimal"><li class="list__item" id="42c85775"><p><a href="Starting-and-Stopping-Hub.html">Stop the Hub service</a>.</p></li><li class="list__item" id="20b2079d"><p id="3e4f5020">In a command-line interface, change the directory to <code class="code">&lt;hub_home&gt;/bin</code>.</p>                    <ul class="list _ul"><li class="list__item" id="00dc0037"><p>For a ZIP installation, the <code class="code">&lt;hub_home&gt;</code> directory is the location where the ZIP distribution was unpacked during installation.</p></li><li class="list__item" id="f8afea5f"><p>For an MSI installation, the <code class="code">&lt;hub_home&gt;</code> directory is the location where the MSI distribution was installed.                            The default installation directory is <code class="code">C:\Hub</code></p></li></ul>                </li><li class="list__item" id="51204d9b"><p id="3439d07c">Enter the <code class="code">hub.sh configure</code> command, followed by all of the JVM options that you want to update in the configuration file.                    The symbol that precedes the option determines how it is applied.</p>                    <ul class="list _ul"><li class="list__item" id="8c5e5e5b"><p>Add an option to the configuration file with the <code class="code">-</code> symbol.</p></li><li class="list__item" id="d401e09c"><p>Remove an option from the configuration file with the <code class="code">+</code> symbol.                            If you specify a value, the corresponding option is only removed if it has exactly the same value.</p></li></ul>                    <p id="b3b40a52">For example:</p>                    <code class="code">hub.sh configure -J-XX:+HeapDumpOnOutOfMemoryError -J-Xmx1024m</code>                </li><li class="list__item" id="fa959691"><p><a href="Starting-and-Stopping-Hub.html">Start the Hub service</a>.</p></li></ol></section>            <section class="procedure-steps"><h3 id="7fac2fd0">To update JVM options programmatically for a Docker image:</h3><ol class="list _decimal"><li class="list__item" id="d6290b8c"><p><a href="Starting-and-Stopping-Hub.html">Stop Hub docker container</a>.</p></li><li class="list__item" id="a3e429eb"><p id="8d56d87e">Run the <code class="code">configure</code> command:</p>                    <aside class="note " data-title="" rel="8d56d87e" id="216c2c0c"><p id="b5348b39">When you execute the <code class="code">configure</code> command, make sure to keep the local system path to the <code class="code">conf</code> directory in volume mappings the same as the mapping specified in the run command for the main server.                        Otherwise, updates are not applied to the Hub configuration files.</p></aside>                    <div class="code-block" data-lang="bash">
                        docker run -it --rm \
                        -v &lt;path to conf directory&gt;:/opt/hub/conf
                        jetbrains/hub:&lt;version&gt; \
                        configure \
                        -J&lt;[+-]jvmOptions&gt;
    </div>                    <p id="ed2dce47"><code class="code">-J&lt;[+-]jvmOptions&gt;</code> â€” is a list of all of the JVM options that you want to update in the                        configuration file.                        The symbol that precedes the option determines how it is applied.                    </p>                    <ul class="list _ul"><li class="list__item" id="2cbaf6e3"><p>Add an option to the configuration file with the <code class="code">-</code> symbol.</p></li><li class="list__item" id="856ac2e1"><p>Remove an option from the configuration file with the <code class="code">+</code> symbol.                            If you specify a value, the corresponding option is only removed if it has exactly the same                            value.</p></li></ul>                    <p id="8916a54c">For example:</p>                    <div class="code-block" data-lang="bash">
                        docker run -it --rm \
                        -v &lt;path to conf directory&gt;:/opt/hub/conf
                        jetbrains/hub:&lt;version&gt; \
                        configure \
                        -J-XX:+HeapDumpOnOutOfMemoryError \
                        -J-Xmx1024m
    </div>                </li><li class="list__item" id="582b7b21"><p><a href="start-stop-hub-docker.html#hub-docker-start">Start Hub docker container</a>.</p></li></ol></section>        </div>        <div class="chapter"><h3 id="modify-jvm-options-in-file">Modify JVM Options Manually</h3>        <p id="4a163e1a">If you prefer not to modify the file from the command line, you can edit the <code class="code">hub.jvmoptions</code> file manually.            This file is created automatically when you modify the default configuration.            The location of the file depends on the distribution type of your Hub installation.</p>        <aside class="note " data-title="Changing Database Location" rel="4a163e1a" id="8063ad99">            <p id="a75f726f">You cannot change the database location manually.                This parameter is rewritten on server start. For details, see <a href="Change-Database-Location.html">Change Database Location</a>.            </p>        </aside>        <ul class="list _bullet"><li class="list__item" id="12f2e7f2"><p>For a ZIP distribution, the file is located in the <code class="code">&lt;Hub Installation Directory&gt;\conf</code> directory.</p></li><li class="list__item" id="d5841f56"><p>For an MSI distribution the file is located in the <code class="code">%programdata%\JetBrains\Hub\conf</code> directory.</p></li><li class="list__item" id="06b75a75"><p>For a Docker image, the file is located in the <code class="code">conf</code> directory on the host machine that is mapped to the <code class="code">/opt/hub/conf</code> directory inside the container.</p></li></ul>        <p id="18d77f87">If you have not changed the JVM options for your server, the directory contains a sample configuration file.            The sample configuration file uses the <code class="code">.dist</code> extension and contains a list of default JVM options.            If the file you want to edit does not exist:</p>        <ul class="list _ul"><li class="list__item" id="d7aad064"><p>Copy the <span class="control">hub.jvmoptions.dist</span> file and save it as <span class="control">hub.jvmoptions</span><br>                or</p></li><li class="list__item" id="a2b108f3"><p>Create a <span class="control">hub.jvmoptions</span> file in this directory and paste the contents of the sample configuration file into it.</p></li></ul>        <p id="15c04635">You can then edit the contents of the file to configure the JVM options.</p>        <section class="procedure-steps"><h3 id="2b7f4ae0">To update JVM options manually:</h3><ol class="list _decimal"><li class="list__item" id="c49dd821"><p><a href="Starting-and-Stopping-Hub.html">Stop the Hub service</a>.</p></li><li class="list__item" id="25d3f662"><p>Open the <code class="code">hub.jvmoptions</code> file.</p></li><li class="list__item" id="aec84ed6"><p id="76aba2d7">Edit the JVM options directly in the file.</p>                <ul class="list _ul"><li class="list__item" id="0ab38b91"><p>To change the value of a pre-defined JVM option, uncomment the corresponding line and update the value of the parameter.</p></li><li class="list__item" id="90faf417"><p>List each JVM option on a new line.</p></li></ul>            </li><li class="list__item" id="15f73e43"><p>Save and close the file.</p></li><li class="list__item" id="c4d68443"><p id="4ad1e39c"><a href="Starting-and-Stopping-Hub.html">Start the Hub service</a>.</p>                <ul class="list _ul"><li class="list__item" id="d278b2d2"><p>The changes to the configuration file are applied to the environment.</p></li><li class="list__item" id="f0864566"><p>The Hub service starts using the specified JVM options.</p></li></ul>            </li></ol></section>        </div>    </div>    <div class="chapter"><h2 id="default-jvm-options" data-toc="Configure-JVM-Options#default-jvm-options">Default JVM Options</h2>        <p id="ac08b008">The following JVM options are configured for your Hub instance by default.</p>        <div class="code-block" data-lang="none">
            -ea
            -XX:+HeapDumpOnOutOfMemoryError
            -XX:HeapDumpPath=%APP_LOGS_DIR%
            -XX:ErrorFile=%APP_LOGS_DIR%%FILE_SEPARATOR%hs_err_pid%%p.log
            -Dfile.encoding=UTF-8
            *Djava.awt.headless=true
            -XX:MaxPermSize=150m
            -XX:MaxMetaspaceSize=150m
            -Xmx600m
            -Dorg.eclipse.jetty.server.Request.maxFormContentSize=5000000
            -Dorg.eclipse.jetty.server.Request.maxFormKeys=10000
    </div>    </div><div class="last-modified" data-skip-index="skip">Last modified: 9 September 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="Proxy-Configuration.html">Reverse Proxy Configuration</a><a class="navigation-links__next" href="Change-Database-Location.html">Change Database Location</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>