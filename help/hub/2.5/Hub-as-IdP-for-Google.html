<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><title>Hub 2.5 Help :: Hub as SAML Identity Provider for Google Apps for Work</title><link rel="stylesheet" href="/help/app/app.css"></head><body data-id="Hub-as-IdP-for-Google"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><div class="wrapper"><section class="panel _nav"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search Hub Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header"><div class="container"><h3>Hub 2.5 Help</h3><div class="shortcuts-switcher"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="false"><div class="navigation-links _top"><a class="navigation-links__prev" href="Set-Up-SSL-Keys-for-SAML2.0.html">Set Up SSL Keys for SAML2.0</a><a class="navigation-links__next" href="Hub-as-IdP-for-Artifactory.html">Hub as SAML Identity Provider for Artifactory</a></div><h1>Hub as SAML Identity Provider for Google Apps for Work</h1><a name="d56532e3"></a><p>When you configure a Hub server as the Identity Provider for your Google Apps instance, end-users can log into
        Google Apps with their credentials in Hub or any other authentication module enabled in Hub.</p><a name="d56532e6"></a><p>This configuration also enables single-sign-on. When a user logs into one of the services that is connected to Hub,
        they are logged into all connected services.
    </p><a name="d56532e9"></a><h2>Prerequisites</h2>

        <a name="d56532e11"></a><p>Before you start, verify the following prerequisites:</p>

        <ul class="list _bullet"><li class="list__item"><a name="d56532e16"></a>You must have administrative privileges in both Google Apps for Work and Hub.</li><li class="list__item"><a name="d56532e19"></a>To log into Google Apps with Hub, a user must have a registered account in Google Apps. In Google Apps, it is not allowed to create new users automatically via SAML.</li><li class="list__item"><a name="d56532e22"></a>You must have the SSL certificate file that you use for SAML&nbsp;2.0 in Hub. You will need to upload this file to Google Apps during the configuration.</li></ul>

    <a name="d56532e27"></a><p>Due to the Google Apps requirements, only end-users can log into Google Apps using a third-party SAML IdP (in this case, Hub).
        Google Apps administrators can only log in directly on the Google Admin console login page. For details, refer to this <a name="d56532e29"></a><a href="https://support.google.com/a/answer/6341409" data-external="true"><span>Google documentation page</span></a>.
        <br>
        Keeping this in mind, use a non-administrative account to test the SAML configuration.</p><a name="connectingGoogle AppsViaSAML"></a><a name="dynaProc0"></a><section class="procedure-steps"><h2>Configuring your Google Apps Instance</h2><ol class=".list _decimal"><li class="list__item">
            In your Google Apps instance, sign in to the <a name="d56532e39"></a><span class="control">Admin Console</span>.
            <figure><a class="lightbox" href="/help/img/hub/2.5/samlGAAdminConsole_thumbnail.zoomed.png"><img alt="/help/img/hub/2.5/samlGAAdminConsole_thumbnail.png" title="/help/img/hub/2.5/samlGAAdminConsole_thumbnail.png" src="/help/img/hub/2.5/samlGAAdminConsole_thumbnail.png" width="600" height="420"></a></figure>
        </li><li class="list__item">Open the <a name="d56532e47"></a><span class="control">Security</span> page.</li><li class="list__item">Select the <a name="d56532e53"></a><span class="control">Set up single sign-on (SSO)</span> panel.</li><li class="list__item">Enable the <a name="d56532e59"></a><span class="control">Setup SSO with third party identity provider</span> option.
            <figure><a class="lightbox" href="/help/img/hub/2.5/samlGASecuritySSO_thumbnail.zoomed.png"><img alt="/help/img/hub/2.5/samlGASecuritySSO_thumbnail.png" title="/help/img/hub/2.5/samlGASecuritySSO_thumbnail.png" src="/help/img/hub/2.5/samlGASecuritySSO_thumbnail.png" width="600" height="250"></a></figure>
        </li><li class="list__item">Configure the parameters:
            <table class="" width="100%" id="d56532e67"><thead><tr id="d56532e69" class="ijRowHead"><a name="d56532e69"></a><th width="20%"><a name="d56532e71"></a>Parameter</th><th><a name="d56532e74"></a>Description</th></tr></thead><tbody><tr id="d56532e78" class="ijRowOdd"><a name="d56532e78"></a><td><a name="d56532e80"></a>Sign-in page URL</td><td><a name="d56532e83"></a>Paste the content of the
                        <a name="d56532e85"></a><span class="control">Sign In URL</span>
                        field on
                        <a name="d56532e88"></a><span class="menupath">More Settings &gt; SAML2.0 &gt; Settings</span>
                        page of the Hub server.
                    </td></tr><tr id="d56532e93" class="ijRowEven"><a name="d56532e93"></a><td><a name="d56532e95"></a>Sign-out page URL</td><td><a name="d56532e98"></a>Paste the content of the <a name="d56532e100"></a><span class="control">Sign Out URL</span> field on the
                        <a name="d56532e103"></a><span class="menupath">More Settings &gt; SAML2.0 &gt; Settings</span> page of the Hub server.</td></tr><tr id="d56532e108" class="ijRowOdd"><a name="d56532e108"></a><td><a name="d56532e110"></a>Change password URL</td><td><a name="d56532e113"></a>If you want to redirect all your end-users who try to change their passwords at Google Apps to Hub,
                        then enter the URL of the login page of your Hub instance in the following format:
                        <code class="code" data-lang="Java">&lt;Hub server Base URL&gt;/auth/login</code>
                        For details, refer to the <a name="d56532e118"></a><a href="https://support.google.com/a/answer/60224" data-external="true"><span>Google Apps documentation page</span></a>.
                        
                    </td></tr><tr id="d56532e125" class="ijRowEven"><a name="d56532e125"></a><td><a name="d56532e127"></a>Verification certificate</td><td><a name="d56532e130"></a>Upload the file of the SSL certificate that is packed in the SSL key store set up for SAML in Hub.</td></tr><tr id="d56532e135" class="ijRowOdd"><a name="d56532e135"></a><td><a name="d56532e137"></a>Use a domain specific issuer</td><td><a name="d56532e140"></a>Choose whether Google should whether to include a standard or domain specific issuer. Standard issuer is <code class="code" data-lang="Java">google.com</code>.
                        Format of the domain specific issuer is <code class="code" data-lang="Java">google.com/a/&lt;your domain&gt;</code>
                        For details, refer to the <a name="d56532e148"></a><a href="https://support.google.com/a/answer/6349809" data-external="true"><span>Google Apps documentation page</span></a>.
                    </td></tr><tr id="d56532e153" class="ijRowEven"><a name="d56532e153"></a><td><a name="d56532e155"></a>Network masks</td><td><a name="d56532e158"></a>Provide a semicolon-separated list of IP addresses that should always be routed through Hub for authentication. By
                        default, we recommend that you leave the field blank to authenticate all end-users via Hub.
                    </td></tr></tbody></table>
        </li><li class="list__item">In Hub, select <a name="d56532e167"></a><span class="menupath">SAML 2.0</span> from the <a name="d56532e170"></a><span class="control">Access Management</span> section of the <a name="d56532e173"></a><span class="control">Administration</span> menu.</li><li class="list__item">Select the <a name="d56532e179"></a><span class="control">Registered Service Providers</span> tab.
        </li><li class="list__item">
            Click the <a name="d56532e185"></a><span class="control">Register service provider</span> button.
        </li><li class="list__item">In the dialog, enter the parameters of your Google Apps instance:
            <table class="" width="100%" id="d56532e191"><thead><tr id="d56532e193" class="ijRowHead"><a name="d56532e193"></a><th width="20%"><a name="d56532e195"></a>Parameter</th><th><a name="d56532e198"></a>Description</th></tr></thead><tbody><tr id="d56532e202" class="ijRowOdd"><a name="d56532e202"></a><td><a name="d56532e204"></a>Name</td><td><a name="d56532e207"></a>Enter a name to be displayed for the Google Apps instance in Hub.</td></tr><tr id="d56532e211" class="ijRowEven"><a name="d56532e211"></a><td><a name="d56532e213"></a>Issuer</td><td><a name="d56532e216"></a>Enter either standard or domain-specific issuer depending on the <a name="d56532e218"></a><span class="control">Use a domain specific issuer</span> option status.

                    </td></tr><tr id="d56532e223" class="ijRowOdd"><a name="d56532e223"></a><td><a name="d56532e225"></a>Description</td><td><a name="d56532e228"></a>Optionally, enter a description of the Google Apps instance.</td></tr><tr id="d56532e232" class="ijRowEven"><a name="d56532e232"></a><td><a name="d56532e234"></a>Consumer URL</td><td><a name="d56532e237"></a>Paste the Access Consumer Service (ACS) URL of your Google Apps instance in the format:
                        <code class="code" data-lang="Java">https://www.google.com/a/&lt;yourdomain.com&gt;/acs</code>
                    </td></tr><tr id="d56532e245" class="ijRowOdd"><a name="d56532e245"></a><td><a name="d56532e247"></a>Hub should send <code class="code" data-lang="Java">LogoutResponse</code></td><td><a name="d56532e252"></a>Enable the option.</td></tr></tbody></table>
        </li></ol></section><div class="last-modified">Last modified: 31 January 2017 </div></article><div id="disqus_thread"></div></div></section></main></div><script></script><script src="/help/app/app.js"></script></body></html>