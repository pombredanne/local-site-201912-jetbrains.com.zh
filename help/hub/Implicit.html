<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>隐式-帮助|毂</title><link rel="stylesheet" href="/resources.jetbrains.com/storage/help-app/v3/app.css"></head><body  data-id="Implicit"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索中心帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>Hub 2019.1帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 id="Implicit.xml" data-toc="Implicit">隐含的</h1>    <div class="chapter"><h2 id="StandardReference" data-toc="Implicit#StandardReference">参考标准</h2>        <p id="8e267a4a">            <a href="https://tools.ietf.org/html/rfc6749#section-4.2" rel="noopener noreferrer" data-external="true" target="_blank">隐式授权流程规范</a>        </p>    </div>    <div class="chapter"><h2 id="Prerequisites" data-toc="Implicit#Prerequisites">先决条件</h2>        <p id="0ed1ac5a">            <b id="7a78ffa5">客户是公开的</b> 。通常是浏览器中的JavaScript代码。</p>        <ol class="list _decimal"><li class="list__item" id="d64d1569"><p>                <code class="code">Client service ID</code> —与集线器中的客户端关联的服务的ID。</p></li><li class="list__item" id="40efd2e3"><p>                <code class="code">Scope</code> —用空格分隔的与资源服务器关联的集线器服务中已注册ID的列表。例如，如果客户端要访问YouTrack中的问题，则应在Hub中找出YouTrack服务的ID。客户端可以使用单个访问令牌访问超过一个资源服务器。</p></li><li class="list__item" id="a5743c29"><p>                <code class="code">Client redirect URI</code> —客户端应用程序上的URI，可以处理来自Hub的响应。</p></li><li class="list__item" id="eceee868"><p>                <code class="code">Hub URL</code> —集线器服务器的URL。</p></li><li class="list__item" id="57653954"><p>                <code class="code">State</code> —当前应用程序状态的标识符。例如，它可以是包含有关客户端服务中当前用户位置信息的本地存储对象的键。</p></li><li class="list__item" id="ad72d27c">                <code class="code">Request credentials mode</code> —控制是否应向用户显示登录表单的参数。以下值是有效的：<ul class="list _bullet"><li class="list__item" id="74003a0f">                        <code class="code">skip</code> —如果客户端服务通常允许匿名访问，请使用此选项。它的工作方式如下：<ul class="list _bullet"><li class="list__item" id="91929fe9"><p>如果用户已经登录到集线器，则授权该用户使用客户端服务。</p></li><li class="list__item" id="a53eb32c"><p>如果用户未登录到集线器并且访客帐户未被禁止，则授权访客使用客户端服务。</p></li><li class="list__item" id="be62b107"><p>如果用户未登录到集线器并且访客帐户被禁止，则导航该用户以登录表单。</p></li></ul>                    </li><li class="list__item" id="27e34a37"><p>                        <code class="code">silent</code> - 和...一样<code class="code">skip</code> ，但无论如何都会返回。如果来宾帐户被禁止，则此选项将返回到带有身份验证错误的客户端服务。</p></li><li class="list__item" id="46ca5646"><p>                        <code class="code">required</code> —注销用户并显示登录表单。使用此选项作为注销客户端服务的响应。</p></li><li class="list__item" id="0f7092ec">                        <code class="code">default</code> —如果客户端服务不允许匿名访问，请使用此选项。它的工作方式如下：<ul class="list _bullet"><li class="list__item" id="d985f1c5"><p>如果用户已经登录到Hub，则授权该用户使用客户端服务，</p></li><li class="list__item" id="21ed1427"><p>如果用户未登录到集线器，则将用户导航到登录表单。</p></li></ul>                    </li></ul>            </li></ol>    </div>    <a name="Send User to Authorization Server (Hub)"></a>    <div class="chapter"><h2 id="SendUserToAuthServer" data-toc="Implicit#SendUserToAuthServer">将用户发送到授权服务器（Hub）</h2>        <p id="55c10731">要启动身份验证代码，应将浏览器重定向到：</p>        <div class="code-block" data-lang="markup">$ {Hub服务网址} / api / rest / oauth2 / auth？response_type = token＆state = $ {State}＆redirect_uri = $ {客户端重定向URI}＆request_credentials = $ {请求凭据模式}＆client_id = $ {客户端服务ID}＆scope = $ {Scope}</div>        <p id="b9693aee">例：</p>        <div class="code-block" data-lang="markup">https://hub.company.com/api/rest/oauth2/auth?response_type=token&state=9b8fdea0-fc3a-410c-9577-5dee1ae028da&redirect_uri=https%3A%2F%2Fmyservice.company.com%2Fauthorized&request_credentials=skip&client-id=980 004c-4ddf-ba37-5d4599fdf319＆scope = 0-0-0-0-0％2098071167-004c-4ddf-ba37-5d4599fdf319</div>    </div>    <div class="chapter"><h2 id="AuthServerResponse" data-toc="Implicit#AuthServerResponse">处理授权服务器（Hub）响应</h2>        <p id="a3d7849b">客户端服务应该能够处理来自Hub的URL传递，响应为<code class="code">redirect_uri</code> 。响应参数在URL中的井号后传递。因此，这些参数不会发送到服务器，也不会被恶意因素拦截。</p>        <p id="e7643d97">如果资源所有者批准了访问请求，则集线器将使用以下命令将以下参数添加到重定向URI的片段组件中，以发出访问令牌并将其传递给客户端。 <code class="code">"application/x-www-form-urlencoded"</code>格式：</p>        <dl><dt id="75b39b5e">access_token</dt><dd>授权服务器发布的访问令牌。</dd><dt id="081d6d29">token_type</dt><dd>                <p id="3df9783a">Hub发行的令牌的类型。值不区分大小写。</p>            </dd><dt id="fa48d56c">过期日期在</dt><dd>访问令牌的生存时间（以秒为单位）。例如，值“ 3600”表示访问令牌将在生成响应后的一小时内过期。</dd><dt id="c809431d">范围</dt><dd>可选（如果与客户要求的范围相同）；否则，是必需的。集线器中访问令牌的范围是service_id。</dd><dt id="ff105b06">州</dt><dd>如果客户端授权请求中存在“状态”参数，则为必需。从客户端收到的确切值。</dd></dl>        <p id="c6aaec9a">授权服务器（Hub）将不会发出刷新令牌。</p>        <p id="07f917f6">例如，中心服务器通过发送以下HTTP响应来重定向用户代理：</p>        <div class="code-block" data-lang="markup">HTTP / 1.1 302找到的位置：http://myservice.company.com/authorized#access_token=1443459450185.0-0-0-0-0.98071167-004c-4ddf-ba37-5d4599fdf319.0-0-0-0-0%3B1 .MCwCFC％2FYWvLjHdzOdpLleDLITJn4Mz9rAhRklCoZ2dlMkh2aCd1K5QQ89ibsxg％3D％3D＆token_type = Bearer＆expires_in = 3600＆scope = 0-0-0-0-0％2098071167-a-da-dd-f4df-a4df-d4-df-a4df-a4df-d4-df-a-df-a-df-a-d-a-df-a-d-a-d-a-df-a-d-a-df-a-dd-state = 3d％3D％3d＆token_type = bearer＆expires_in = 3600＆scope = 0-0-0-0-0％2098071167-a4df4df-d4a-d5a-d4df-a4df-d4-df-d4df-d4df-a-df-a-df-a-d-a-df-a-dd-state</div>    </div>    <div class="chapter"><h2 id="ErrorRedirectBackFromHub" data-toc="Implicit#ErrorRedirectBackFromHub">从集线器处理错误重定向回</h2>        <p id="e6efcc4f">如果由于丢失，无效或不匹配的重定向URI而导致请求失败，或者客户端标识符丢失或无效，则集线器服务器将错误通知资源所有者，并且不会自动将用户代理重定向到无效的重定向URI。</p>        <p id="12626f27">如果资源所有者拒绝访问请求，或者请求由于丢失或无效的重定向URI之外的其他原因而失败，则授权服务器通过使用“ <code class="code">application/x-www-form-urlencoded</code>格式：</p>        <dl><dt id="1dcb7c25">错误</dt><dd>                <p id="d4e3d09d">来自以下位置的单个ASCII [USASCII]错误代码：</p>                <ul class="list _bullet"><li class="list__item" id="a5312277"><p>                        <code class="code">invalid_request</code> -请求缺少必需的参数，包含无效的参数值，多次包含参数或格式错误。</p></li><li class="list__item" id="900e5f9f"><p>                        <code class="code">unauthorized_client</code> -客户端无权使用此方法请求授权码。</p></li><li class="list__item" id="dfeffc62"><p>                        <code class="code">access_denied</code> -资源所有者或集线器拒绝了该请求。</p></li><li class="list__item" id="a4edc9b3"><p>                        <code class="code">unsupported_response_type</code>集线器不支持使用此方法获取授权码。</p></li><li class="list__item" id="d41debbf"><p>                        <code class="code">invalid_scope</code>请求的范围无效，未知或格式错误。</p></li><li class="list__item" id="1172403a"><p>                        <code class="code">server_error</code>集线器服务器遇到意外情况，阻止其满足请求。（因为无法通过HTTP重定向将500内部服务器错误HTTP状态代码返回给客户端，所以需要此错误代码。）</p></li><li class="list__item" id="05c237db"><p>                        <code class="code">temporarily_unavailable</code>由于服务器的暂时超载或维护，授权服务器当前无法处理该请求。（需要此错误代码，因为无法通过HTTP重定向将503服务不可用HTTP状态代码返回给客户端。）</p></li></ul>            </dd><dt id="f3406bb5">error_description</dt><dd>人类可读的ASCII [USASCII]文本，提供了其他信息，用于帮助客户端开发人员了解所发生的错误。</dd><dt id="2316db2b">error_uri</dt><dd>一个URI，用于标识人类可读的网页以及有关错误的信息，用于向客户端开发人员提供有关该错误的其他信息。</dd><dt id="214febca">州</dt><dd>如果客户端授权请求中存在“状态”参数，则为必需。从客户端收到的确切值。</dd></dl>        <p id="a47fe452">例如，集线器通过发送以下HTTP响应来重定向用户代理：</p>        <div class="code-block" data-lang="markup">HTTP / 1.1 302找到位置：https://myservice.company.com/cb#error=access_denied&state=xyz</div>    </div><div class="last-modified" data-skip-index="skip">上次修改时间：2019年9月9日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="OAuth-2.0-Authorization.html">OAuth 2.0授权</a> <a class="navigation-links__next" href="Authorization-Code.html">授权码</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>