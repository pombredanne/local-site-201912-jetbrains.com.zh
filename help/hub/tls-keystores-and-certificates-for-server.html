<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>TLS服务器证书和密钥库-帮助|帮助毂</title><link rel="stylesheet" href="/resources.jetbrains.com/storage/help-app/v3/app.css"></head><body  data-id="tls-keystores-and-certificates-for-server"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索中心帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>Hub 2019.1帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 id="tls-keystores-and-certificates-for-server.xml" data-toc="tls-keystores-and-certificates-for-server">TLS服务器证书和密钥库</h1>        <p id="5b73225b">要使用内置的TLS保护与集线器服务器的连接，必须具有服务器证书和私钥或密钥库。</p>    <p id="5ff0ceae">对于生产环境，我们敦促您从受信任的证书颁发机构获取SSL证书。</p>    <p id="59c77bbf">但是，出于测试和评估目的，可以使用自签名证书。有几种工具可让您创建SSL密钥和证书。此页面描述了使用<a href="https://www.openssl.org" rel="noopener noreferrer" data-external="true" target="_blank">OpenSSL工具箱</a>创建自签名服务器证书的过程。</p>        <div class="chapter"><h2 id="create-self-signed-server-certificate">创建自签名服务器证书</h2>                <aside class="note " rel="create-self-signed-server-certificate" id="558bfaed" data-title=""><p id="14853504">我们建议生成版本v3的证书，以确保与大多数浏览器兼容。</p></aside>                <section class="procedure-steps"><h3 id="a7d849b9">使用OpenSSL创建自签名服务器证书</h3><ol class="list _decimal"><li class="list__item" id="c778c99f"><p>生成一个新的2048位RSA密钥：</p><div class="code-block" data-lang="bash">openssl genrsa -out Hub_Server_TLS.pem 2048</div>                        <p></p></li><li class="list__item" id="a9c2f4b2">为生成的密钥生成证书请求：<div class="code-block" data-lang="bash">openssl req-新-key Hub_Server_TLS.pem -out Hub_Server_TLS_req.csr</div>                                <p id="af286ab7">作为“ <span class="control">通用名称”</span>参数，设置服务器的标准域名（FQDN）。该服务将通过URL通过生成的服务器证书提供：</p>                                <div class="code-block" data-lang="none">https：// <fqdn of="" your="" server="">： <port>/</port></fqdn></div>                        </li><li class="list__item" id="8eddeb59"><p>要生成v3版本的证书，您需要初步创建一个配置文件，并在证书生成过程中提供它。创建一个文本配置文件，命名为<code class="code">v3.ext</code> ，其内容如下：</p><div class="code-block" data-lang="bash">AuthorityKeyIdentifier = keyid，发行人basicConstraints = CA：FALSE keyUsage = digitalSignature，不可否认性，keyEncipherment，dataEncipherment</div>                        <p></p></li><li class="list__item" id="e63b568f"><p>生成证书（版本v3）：</p><div class="code-block" data-lang="bash">openssl x509 -in Hub_Server_TLS_req.csr -out Hub_Server_TLS_cert.pem -req -signkey Hub_Server_TLS.pem -days 3650 -extfile v3.ext</div>                        <p></p></li></ol></section>                <p id="d76a0cad">                        <b id="93bd4079">结果：</b>您具有一个自签名服务器证书<code class="code">Hub_Server_TLS_cert.pem</code>以及准备好上传到集线器的私钥。现在，在安装或升级期间，在基于Web的配置向导的“ <span class="control">确认设置”</span>步骤中：</p>                        <ol class="list _decimal"><li class="list__item" id="cff72a42"><p>打开<span class="control">HTTPS>私钥和证书</span>设置。</p></li><li class="list__item" id="85571026"><p>上传创建的<code class="code">Hub_Server_TLS.pem</code>文件作为私钥。</p></li><li class="list__item" id="2d3ada7a"><p>上传创建的<code class="code">Hub_Server_TLS_cert.pem</code>作为证书。</p></li></ol>        </div><div class="last-modified" data-skip-index="skip">上次修改时间：2019年9月9日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="configure-server-tls-from-command-line.html">通过命令行在</a> <a class="navigation-links__next" href="switch-between-third-party-proxy-and-built-in-tls.html">第三方代理和内置TLS之间切换</a> <a class="navigation-links__prev" href="configure-server-tls-from-command-line.html">配置内置</a> <a class="navigation-links__next" href="switch-between-third-party-proxy-and-built-in-tls.html">TLS</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>