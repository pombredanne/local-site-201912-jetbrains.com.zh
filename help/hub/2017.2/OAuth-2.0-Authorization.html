<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><meta class="swiftype" name="product" data-type="string" content="/hub/2017.2/"><meta charset="UTF-8"><meta name="robots" content="noindex"><title>OAuth 2.0 Authorization - Help | Hub</title><link rel="stylesheet" href="/help/app/app.css"></head><body data-id="OAuth-2.0-Authorization"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper" data-swiftype-index="false"><section class="panel _nav" data-swiftype-index="false"><header class="panel__header" data-swiftype-index="false"><div class="container" data-swiftype-index="false"><form class="search-box" data-swiftype-index="false"><label for="search-box__input" class="search-box__label" data-swiftype-index="false"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search Hub Help"></label><div class="search-box__clear" title="Clear" data-swiftype-index="false"></div></form></div></header><nav class="panel__content" data-swiftype-index="false"><div class="container _nav" data-swiftype-index="false"><menu class="nav-tree" data-swiftype-index="false"></menu></div><div class="container _footer panel__footer" data-swiftype-index="false"><p data-swiftype-index="false"><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main" data-swiftype-index="false"><header class="panel__header" data-swiftype-index="false"><div class="container" data-swiftype-index="false"><h3>Hub 2017.2 Help</h3><div class="shortcuts-switcher" data-swiftype-index="false"><label for="switch-shortcuts" data-swiftype-index="false">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1" data-swiftype-index="false"></select></div><div class="panel-trigger" data-swiftype-index="false"></div></div></header><section class="panel__content" data-swiftype-index="false"><div class="container"><article class="article" data-shortcut-switcher="false" data-swiftype-index="true"><div class="navigation-links _top" data-swiftype-index="false"><a class="navigation-links__prev" href="Permanent-Token.html" data-swiftype-index="false">Permanent Token Authorization</a><a class="navigation-links__next" href="Implicit.html" data-swiftype-index="false">Implicit</a></div><h1>OAuth 2.0 Authorization</h1><a name="d77914e3"></a><p>        Hub implementation of <a name="d77914e5"></a><a href="https://tools.ietf.org/html/rfc6749" data-external="true"><span>OAuth 2.0</span></a> supports        several authentication/authorization flow. To access resources of Hub itself and services connected to Hub,        a client should obtain an access token. The flow that the client may use depends on:    </p><ul class="list _ul"><li class="list__item"><a name="d77914e11"></a>What information the client has (service credentials / user credentials).</li><li class="list__item"><a name="d77914e14"></a>Where from the client access resources (from a browser / from the server side / from a standalone application).</li></ul><a name="d77914e18"></a><h2>What Flow to Use?</h2>        <table class=" wide             " width="100%" id="d77914e20"><thead><tr id="d77914e22" class="ijRowHead"><a name="d77914e22"></a><th><a name="d77914e24"></a>You develop...</th><th><a name="d77914e27"></a>Flow to use</th><th><a name="d77914e30"></a>Required parameters</th><th><a name="d77914e33"></a>Additional requirement</th></tr></thead><tbody><tr id="d77914e37" class="ijRowOdd"><a name="d77914e37"></a><td><a name="d77914e39"></a>A rich client web application with all authorization logic in browser</td><td><a name="d77914e42"></a><a name="d77914e43"></a><a href="Implicit.html">Implicit flow</a></td><td><a name="d77914e46"></a><code class="code" data-lang="Java">service id</code></td><td><a name="d77914e50"></a>Handle in browser request with a grant from Hub</td></tr><tr id="d77914e54" class="ijRowEven"><a name="d77914e54"></a><td><a name="d77914e56"></a>A web application with the authorization login on the server side</td><td><a name="d77914e59"></a><a name="d77914e60"></a><a href="Authorization-Code.html">Authorization Code flow</a></td><td><a name="d77914e63"></a><code class="code" data-lang="Java">service id</code>, <code class="code" data-lang="Java">service&nbsp;secret</code></td><td><a name="d77914e70"></a>Handle request with a grant from Hub server on server side</td></tr><tr id="d77914e74" class="ijRowOdd"><a name="d77914e74"></a><td><a name="d77914e76"></a>A desktop or a mobile application able to request authorization token non-interactively</td><td><a name="d77914e79"></a><a name="d77914e80"></a><a href="Refresh-Token.html">Refresh Token flow</a></td><td><a name="d77914e83"></a><code class="code" data-lang="Java">service id</code>, <code class="code" data-lang="Java">service&nbsp;secret</code></td><td><a name="d77914e90"></a>Handle request with a grant from Hub server on server side</td></tr><tr id="d77914e94" class="ijRowEven"><a name="d77914e94"></a><td><a name="d77914e96"></a>A script that needs to access resources on behalf of itself</td><td><a name="d77914e99"></a><a name="d77914e100"></a><a href="Client-Credentials.html">Client Credentials flow</a></td><td><a name="d77914e103"></a><code class="code" data-lang="Java">service id</code>, <code class="code" data-lang="Java">service&nbsp;secret</code></td><td><a name="d77914e110"></a>None</td></tr><tr id="d77914e115" class="ijRowOdd"><a name="d77914e115"></a><td><a name="d77914e117"></a>A script that needs to access resources on behalf of some user</td><td><a name="d77914e120"></a><a name="d77914e121"></a><a href="Resource-Owner-Password-Credentials.html">Resource Owner Password Credentials flow</a></td><td><a name="d77914e124"></a><code class="code" data-lang="Java">service id</code>, <code class="code" data-lang="Java">service&nbsp;secret</code>, <code class="code" data-lang="Java">username</code> and <code class="code" data-lang="Java">password</code></td><td><a name="d77914e137"></a>None</td></tr></tbody></table>    <a name="d77914e143"></a><h2>What Information You Should Have</h2>        <table class=" wide             " width="100%" id="d77914e145"><thead><tr id="d77914e147" class="ijRowHead"><a name="d77914e147"></a><th><a name="d77914e149"></a>Parameter</th><th><a name="d77914e152"></a>Is&nbsp;it&nbsp;required?</th><th><a name="d77914e155"></a>Description</th></tr></thead><tbody><tr id="d77914e159" class="ijRowOdd"><a name="d77914e159"></a><td><a name="d77914e161"></a><code class="code" data-lang="Java">Client&nbsp;service&nbsp;ID</code></td><td><a name="d77914e165"></a><a name="d77914e166"></a><b id="d77914e166">Always</b></td><td><a name="d77914e169"></a>An identifier (ID) of the service associated with the client in Hub.</td></tr><tr id="d77914e173" class="ijRowEven"><a name="d77914e173"></a><td><a name="d77914e175"></a><code class="code" data-lang="Java">Client&nbsp;service&nbsp;secret</code></td><td><a name="d77914e179"></a>Depends on flow</td><td><a name="d77914e182"></a>A secret for the service associated with the client in Hub.</td></tr><tr id="d77914e186" class="ijRowOdd"><a name="d77914e186"></a><td><a name="d77914e188"></a><code class="code" data-lang="Java">Scope</code></td><td><a name="d77914e192"></a><a name="d77914e193"></a><b id="d77914e193">Always</b></td><td><a name="d77914e196"></a><a name="d77914e197"></a><p>An ID of the registered in Hub service associated with                    the resource server. For example, if the client wants to access issues in YouTrack, it should find out                    the id of YouTrack service in Hub.</p>                    <a name="d77914e200"></a><p>The client can access more then one resource server with a single                    access token. In this case, the Scope is the space-separated list of the IDs of the services registered in Hub.</p>                </td></tr><tr id="d77914e205" class="ijRowEven"><a name="d77914e205"></a><td><a name="d77914e207"></a><code class="code" data-lang="Java">Client&nbsp;redirect&nbsp;URI</code></td><td><a name="d77914e211"></a>Depends on flow</td><td><a name="d77914e214"></a>An URI at the client application that can handle response from authorization server (Hub).</td></tr><tr id="d77914e219" class="ijRowOdd"><a name="d77914e219"></a><td><a name="d77914e221"></a><code class="code" data-lang="Java">Username</code></td><td><a name="d77914e225"></a>Depends on flow</td><td><a name="d77914e228"></a>End-user's username, or id, or email.</td></tr><tr id="d77914e232" class="ijRowEven"><a name="d77914e232"></a><td><a name="d77914e234"></a><code class="code" data-lang="Java">Password</code></td><td><a name="d77914e238"></a>Depends on flow</td><td><a name="d77914e241"></a>End-user's password.</td></tr></tbody></table>             <a name="HubOauthEndpoints"></a><h2>OAuth 2.0 Endpoints for Hub</h2>        <a name="d77914e251"></a><p>For the Hub service, the OAuth 2.0 endpoints for authentication and token are:</p>        <ul class="list _bullet"><li class="list__item"><a name="d77914e256"></a>Authentication endpoint URL: <code class="code" data-lang="Java">&lt;Hub Service URL&gt;/api/rest/oauth2/auth</code></li><li class="list__item"><a name="d77914e261"></a>Token endpoint URL: <code class="code" data-lang="Java">&lt;Hub Service URL&gt;/api/rest/oauth2/token</code></li></ul>        <a name="d77914e267"></a><p><code class="code" data-lang="Java">&lt;Hub Service URL&gt;</code> is the URL that is configured for the Hub <a name="d77914e271"></a><i id="d77914e271">service</i> in your network environment.            For example, you have your company's server <code class="code" data-lang="Java">www.mycompany.com</code> and a Hub service. You can configure Hub to be accessible by <code class="code" data-lang="Java">www.mycompany.com/hub</code> or, let's say <code class="code" data-lang="Java">hub.mycompany.com</code>.            Subsequently, the OAuth 2.0 endpoints are as follows, respectively:</p>        <ul class="list _bullet"><li class="list__item"><a name="d77914e286"></a>For <code class="code" data-lang="Java">www.mycompany.com/hub</code>: <code class="code" data-lang="Java">https://www.mycompany.com/hub/api/rest/oauth2/auth</code> and <code class="code" data-lang="Java">https://www.mycompany.com/hub/api/rest/oauth2/token</code></li><li class="list__item"><a name="d77914e297"></a>For <code class="code" data-lang="Java">hub.mycompany.com</code>: <code class="code" data-lang="Java">https://hub.mycompany.com/api/rest/oauth2/auth</code> and <code class="code" data-lang="Java">https://hub.mycompany.com/api/rest/oauth2/token</code>.</li></ul>    <a name="d77914e312"></a><h2>Register Client as a Service</h2>        <a name="d77914e314"></a><p>            To enable authorization you should register your client as a Hub service. You can do it either in            <a name="d77914e316"></a><a href="Managing-Services.html">administrative UI</a> or            <a name="d77914e319"></a><a href="HUB-REST-API_Services_Create-New-Service.html">programmatically</a>.            Basically, you just send <code class="code" data-lang="Java">POST</code> request on <code class="code" data-lang="Java">/services</code> URL and get credentials of the newly            created service in response.        </p>        <a name="SampleScriptForRegisteringClientAsService"></a><h3>Sample script for registering client as a service</h3>           <a name="d77914e331"></a><p>               The following sample script considers Hub service to be installed to <code class="code" data-lang="Java">https://hub.company.com</code> and a client               OAuth 2.0 service - to <code class="code" data-lang="Java">https://myservice.company.com</code>.           </p>           <a name="d77914e340"></a><h4>Request</h4>               <a name="d77914e342"></a><div class="code-block" data-lang="HTML"><code class="code-block__wrapper">POST /api/rest/services?fields=id,secret HTTP/1.1
Host: hub.company.com
Accept: application/json
Content-Type: application/json

{
&quot;name&quot;: &quot;My Service&quot;,
&quot;homeUrl&quot;: &quot;https://myservice.company.com&quot;,
&quot;redirectUris&quot;: [&quot;https://myservice.company.com/authorized&quot;],
&quot;applicationName&quot;: &quot;My Service&quot;,
&quot;vendor&quot;: &quot;Company Inc.&quot;,
&quot;version&quot;: &quot;1.0&quot;
}</code></div>                      <a name="d77914e346"></a><h4>Response</h4>               <a name="d77914e348"></a><div class="code-block" data-lang="HTML"><code class="code-block__wrapper">{
&quot;id&quot;: &quot;98071167-004c-4ddf-ba37-5d4599fdf319&quot;,
&quot;secret&quot;: &quot;eAUyKgVfhSbV&quot;
}</code></div>               <a name="d77914e351"></a><p>You can later use service's <code class="code" data-lang="Java">id</code> and <code class="code" data-lang="Java">secret</code> for authorization.</p>               <a name="d77914e360"></a><p>                   Service in Hub can be either trusted or not. If a service is <a name="d77914e362"></a><i id="d77914e362">trusted</i>, then it can access Hub resource servers                   on behalf of itself. Also, when a user is sent from the trusted service to authorize himself,                   the user sees no additional warning.               </p>                       <div class="last-modified" data-swiftype-index="false">Last modified: 19 July 2017 </div></article><div id="disqus_thread" data-swiftype-index="false"></div></div></section></main></div><script></script><script src="/help/app/app.js"></script></body></html>