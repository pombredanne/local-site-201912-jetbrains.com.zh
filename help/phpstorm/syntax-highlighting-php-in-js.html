<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>Tutorial: Highlighting PHP syntax inside JavaScript - Help | PhpStorm</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body data-id="Syntax_Highlighting_PHP_in_JS" data-breadcrumbs="Development environment/Configuring_Project_and_IDE_Settings.xml|Configuring Project and IDE Settings/Creating_and_Registering_File_Types.xml|Set file type associations/Syntax_Highlighting_PHP_in_JS.xml|Tutorial: Highlighting PHP syntax inside JavaScript" data-main-title="Tutorial: Highlighting PHP syntax inside JavaScript" data-article-props="&#xA;                {&#xA;                &#xA;            &#34;seeAlso&#34;:[&#xA;            &#xA;                {&#34;title&#34;: &#34;Procedures&#34;,&#xA;                 &#34;links&#34;: [&#xA;                &#xA;        {&#34;url&#34;:&#34;creating-and-registering-file-types.html&#34;,&#34;text&#34;:&#34;Set file type associations&#34;}&#xA;    &#xA;                    ]},&#xA;                {&#34;title&#34;: &#34;Reference&#34;,&#xA;                 &#34;links&#34;: [&#xA;                &#xA;        {&#34;url&#34;:&#34;template-data-languages-settings.html&#34;,&#34;text&#34;:&#34;Template Data Languages&#34;}&#xA;    ,&#xA;        {&#34;url&#34;:&#34;file-types-settings.html&#34;,&#34;text&#34;:&#34;File Types&#34;}&#xA;    &#xA;                    ]},&#xA;                {&#34;title&#34;: &#34;Web Resources&#34;,&#xA;                 &#34;links&#34;: [&#xA;                &#xA;        {&#34;url&#34;:&#34;http://www.jetbrains.net/devnet/community/wi&#34;,&#34;text&#34;:&#34;Discussion Forum&#34;}&#xA;    ,&#xA;        {&#34;url&#34;:&#34;http://youtrack.jetbrains.com/issues/WI&#xA;            &#34;,&#34;text&#34;:&#34;Issue Tracker&#34;}&#xA;    &#xA;                    ]}&#xA;            ]&#xA;        &#xA;                }&#xA;            "><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search PhpStorm Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>PhpStorm 2019.3 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="primary" value="primary_default_for_windows" selected>Default for Windows</option><option data-group="primary" value="primary_default_for_macos">Default for macOS</option><option data-group="primary" value="primary_intellij_idea_classic_macos">IntelliJ IDEA Classic (macOS)</option><option data-group="primary" value="primary_emacs">Emacs</option><option data-group="primary" value="primary_visual_studio">Visual Studio</option><option data-group="primary" value="primary_default_for_xwin">Default for XWin</option><option data-group="primary" value="primary_default_for_gnome">Default for GNOME</option><option data-group="primary" value="primary_default_for_kde">Default for KDE</option><option data-group="primary" value="primary_eclipse">Eclipse</option><option data-group="primary" value="primary_eclipse_macos">Eclipse (macOS)</option><option data-group="primary" value="primary_netbeans">NetBeans</option><option data-group="primary" value="primary_sublime_text">Sublime Text</option><option data-group="primary" value="primary_sublime_text_macos">Sublime Text (macOS)</option><option data-group="secondary" value="secondary_default_for_windows">Default for Windows</option><option data-group="secondary" value="secondary_default_for_macos">Default for macOS</option><option data-group="secondary" value="secondary_intellij_idea_classic">IntelliJ IDEA Classic</option><option data-group="secondary" value="secondary_emacs">Emacs</option><option data-group="secondary" value="secondary_visual_studio">Visual Studio</option><option data-group="secondary" value="secondary_default_for_xwin">Default for XWin</option><option data-group="secondary" value="secondary_default_for_gnome">Default for GNOME</option><option data-group="secondary" value="secondary_default_for_kde">Default for KDE</option><option data-group="secondary" value="secondary_eclipse">Eclipse</option><option data-group="secondary" value="secondary_eclipse_macos">Eclipse (macOS)</option><option data-group="secondary" value="secondary_netbeans">NetBeans</option><option data-group="secondary" value="secondary_sublime_text">Sublime Text</option><option data-group="secondary" value="secondary_sublime_text_macos">Sublime Text (macOS)</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 data-toc="Syntax_Highlighting_PHP_in_JS" id="Syntax_Highlighting_PHP_in_JS.xml">Tutorial: Highlighting PHP syntax inside JavaScript</h1>    <p id="62446cb4">        In this tutorial, we'll explore using Template Data Language for working with mixed syntax in PhpStorm. From time to time we are mixing different programming languages in one file. If there is only one or two occurrences of such injections, using <a href="using-language-injections.html">Language Injections</a> is the way to go. But what if we have a lot of them? For example, a JavaScript or CSS file in which we are making use of a PHP variable or a function? How do we get mixed syntax highlighting, code completion and inspections? There's a nice trick to do this: configuring the <span class="emphasis">Template Data Language</span>.    </p>    <p id="f101104c">        Consider the following JavaScript file. Inside the file, we are making use of a PHP variable which we want to show in an alert when the current document has loaded. We can also spot a syntax error: I missed the <code class="code">$</code> to access the variable. How do we make PhpStorm recognize both the JavaScript code and PHP code?    </p>    <figure><img alt="Mixed syntax highlighting in a js file" title="Mixed syntax highlighting in a js file" src="/help/img/idea/2019.3/ps_mixed_syntax_highlighting_sample_js.png" id="c21e7fb3" width="300" height="176"></figure>    <p id="fd418853">        To have PhpStorm recognize different languages in one file, perform the following steps.    </p>    <ol class="list _decimal"><li class="list__item" id="f1a1ca89"><p><a href="#rename-file">Rename the file</a>, so that PhpStorm treats it as PHP, while its extension differs from <span class="filepath">php</span>.</p></li><li class="list__item" id="3c72acff"><p><a href="#associate-file-type-with-php">Associate new file type with PHP</a> (or another language).</p></li><li class="list__item" id="bd1b8669"><p><a href="#set-template-data-language">Set the Template Data Language</a> via the settings.</p></li></ol>    <div class="chapter"><h2 id="rename-file">Rename the file</h2>        <p id="6b8784bf">            As a first step, we'll rename our file from <span class="filepath">alert.js</span> to <span class="filepath">alert.js.php</span> (the extension can be arbitrary). Why do we need to change the extension? It's essential to separate the files we would like to have custom languages in from other <span class="filepath">php</span> files so that highlighting, code completion, and analysis remain operable for all files. Why <span class="filepath">.js.php</span>? Once deployed, this file will have to be executed by PHP. Of course we can reconfigure our server to run JavaScript files through the PHP interpreter, but the current approach is probably easier.        </p>        <p id="694c4345">Here's what the file looks like after renaming:</p>        <figure><img alt="Mixed syntax highlighting in a js.php file" title="Mixed syntax highlighting in a js.php file" src="/help/img/idea/2019.3/ps_mixed_syntax_highlighting_sample_php.png" id="77e7172e" width="314" height="186"></figure>    </div>    <div class="chapter"><h2 id="associate-file-type-with-php">Associate new file type with PHP</h2>        <p id="b50d3c93">            We now need to associate the new (<span class="filepath">js.php</span> file type with PHP on the <a href="file-types-settings.html">File Types</a> page of the <span class="control">Settings/Preferences</span> dialog. If you do not want to use a custom extension, then you'll have to use the full filename as a pattern, which is not recommended.        </p>        <figure><img alt="File types settings page" title="File types settings page" src="/help/img/idea/2019.3/ps_mixed_syntax_highlighting_file_types_prefs.png" id="033debf9" width="835" height="974"></figure>        <p id="ff8cad50">            Note that since this setting is <a href="configuring-project-and-ide-settings.html">IDE-wide</a>, the created file type association will affect all projects. Therefore, having a custom extension is the best way to proceed with it.        </p>    </div>    <div class="chapter"><h2 id="set-template-data-language">Set the Template Data Language</h2>        <p id="18a8061a">            Now PhpStorm recognizes the PHP syntax, but no longer recognizes JavaScript. <a name="open_settings"></a>                In the        <a name="settings_dialog"></a>        <span class="control">Settings/Preferences</span> dialog <kbd data-primary_default_for_windows="Ctrl+Alt+S" data-primary_default_for_macos="⌘+Comma" data-primary_intellij_idea_classic_macos="⌘+Comma" data-primary_emacs="Ctrl+Alt+S" data-primary_visual_studio="Alt+F7" data-primary_default_for_xwin="Ctrl+Alt+S" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-primary_eclipse_macos="⌘+Comma" data-primary_netbeans="Ctrl+Alt+S" data-primary_sublime_text="Ctrl+Alt+S" data-primary_sublime_text_macos="⌘+Comma" data-secondary_default_for_windows="⌃⌥S" data-secondary_default_for_macos="⌘," data-secondary_intellij_idea_classic="⌘," data-secondary_emacs="⌃⌥S" data-secondary_visual_studio="⌥F7" data-secondary_default_for_xwin="⌃⌥S" data-secondary_default_for_gnome="⌃⌥S" data-secondary_default_for_kde="⌃⌥S" data-secondary_eclipse="⌃⌥S" data-secondary_eclipse_macos="⌘," data-secondary_netbeans="⌃⌥S" data-secondary_sublime_text="⌃⌥S" data-secondary_sublime_text_macos="⌘,">Ctrl+Alt+S</kbd>, select <span class="control">Template Data Languages</span> under <span class="control">Languages &amp; Frameworks</span>. Here, we can specify a secondary language for a specific file, folder, or the entire project. For our example, we can select <span class="control">JavaScript</span> for our file.        </p>        <figure><img alt="Template Data Languages settings page" title="Template Data Languages settings page" src="/help/img/idea/2019.3/ps_mixed_syntax_highlighting_template_lang_prefs.png" id="14b462e1" width="844" height="686"></figure>        <p id="9c7be7e4">            Once the Template Data Language has been specified, PhpStorm recognizes both languages, and PhpStorm provides syntax highlighting, code completion, inspections, refactorings, and so on.        </p>        <figure><img alt="PHP inspection in php.js" title="PHP inspection in php.js" src="/help/img/idea/2019.3/ps_mixed_syntax_highlighting_sample_php_inspection.png" id="21ba3f2f" width="374" height="202"></figure>    </div>    <div class="last-modified" data-skip-index="skip">Last modified: 29 November 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="creating-and-registering-file-types.html">Set file type associations</a><a class="navigation-links__next" href="managing-plugins.html">Managing plugins</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>