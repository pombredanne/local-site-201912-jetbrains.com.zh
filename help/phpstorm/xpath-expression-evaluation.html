<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>XPath表达式评估-帮助|帮助暴风雨</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body  data-id="xpath.evaluate" data-breadcrumbs="application_gevelopment_guidelines.xml|Web Technologies/XPath_and_XSLT_Support.xml|XPath and XSLT Support/XPath_Expression_Evaluation.xml|XPath Expression Evaluation" data-main-title="XPath Expression Evaluation"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索PhpStorm帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>PhpStorm 2019.3帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option value="primary_default_for_windows" data-group="primary" selected>Windows默认</option><option value="primary_default_for_macos" data-group="primary">macOS的默认设置</option><option value="primary_intellij_idea_classic_macos" data-group="primary">IntelliJ IDEA经典版（macOS）</option><option value="primary_emacs" data-group="primary">埃马克斯</option><option value="primary_visual_studio" data-group="primary">视觉工作室</option><option value="primary_default_for_xwin" data-group="primary">XWin的默认设置</option><option value="primary_default_for_gnome" data-group="primary">GNOME的默认设置</option><option value="primary_default_for_kde" data-group="primary">KDE的默认值</option><option value="primary_eclipse" data-group="primary">日食</option><option value="primary_eclipse_macos" data-group="primary">Eclipse（macOS）</option><option value="primary_netbeans" data-group="primary">NetBeans</option><option value="primary_sublime_text" data-group="primary">崇高文字</option><option value="primary_sublime_text_macos" data-group="primary">崇高文字（macOS）</option><option value="secondary_default_for_windows" data-group="secondary">Windows默认</option><option value="secondary_default_for_macos" data-group="secondary">macOS的默认设置</option><option value="secondary_intellij_idea_classic" data-group="secondary">IntelliJ IDEA经典版</option><option value="secondary_emacs" data-group="secondary">埃马克斯</option><option value="secondary_visual_studio" data-group="secondary">视觉工作室</option><option value="secondary_default_for_xwin" data-group="secondary">XWin的默认设置</option><option value="secondary_default_for_gnome" data-group="secondary">GNOME的默认设置</option><option value="secondary_default_for_kde" data-group="secondary">KDE的默认值</option><option value="secondary_eclipse" data-group="secondary">日食</option><option value="secondary_eclipse_macos" data-group="secondary">Eclipse（macOS）</option><option value="secondary_netbeans" data-group="secondary">NetBeans</option><option value="secondary_sublime_text" data-group="secondary">崇高文字</option><option value="secondary_sublime_text_macos" data-group="secondary">崇高文字（macOS）</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 id="XPath_Expression_Evaluation.xml" data-toc="xpath.evaluate">XPath表达式评估</h1>        <p id="a55a9ea2">在程序代码或XSLT脚本中使用XPath表达式之前或对XML文档进行结构化查询之前，需要对XPath表达式进行评估以对其进行测试。</p>    <p id="3121bb9f">PhpStorm允许您以两种模式评估XPath表达式：</p><ul class="list _bullet"><li class="list__item" id="316637be"><p>在“ <span class="emphasis">简单”</span>模式下，您可以输入不需要任何名称空间前缀自定义的简单单行表达式。此模式不允许您配置上下文设置或使用预定义的变量。</p></li><li class="list__item" id="bb19cbc4"><p>在<span class="emphasis">高级</span>模式下，您可以方便地在多行模式下编辑长表达式，并编辑XPath上下文。</p></li></ul>    <p></p>    <p id="638fb1b8">一些错误检查和XPath检查还提供了针对检测到的问题的快速修复，例如，可以有意将未解决的名称空间前缀映射到URI。</p>    <section class="procedure-steps"><h3 id="9fb1c05f">评估XPath表达式</h3><ol class="list _decimal"><li class="list__item" id="c0a77452"><p>从活动的编辑器选项卡的上下文菜单中选择“ <span class="menupath" data-skip-index="skip">评估XPath”</span> ，或转到“ <span class="menupath" data-skip-index="skip">编辑” |“更改”。查找|评估XPath</span> 。将打开“ <span class="control">评估XPath表达式”</span>对话框。</p></li><li class="list__item" id="6cdcba72"><p>要切换评估模式，请单击“ <span class="control">高级</span> / <span class="control">简单”</span>按钮。在任何一种模式下，对话框均具有最近评估的表达式的历史记录，完成，语法检查和突出显示，以及对输入表达式的一些语义错误检查。语义检查包括验证使用的名称空间前缀，无用的XPath表达式（例如<code class="code">@comment()</code> ）和节点测试，以查找上下文文档中未出现且无法成功匹配的元素/属性名称。</p></li><li class="list__item" id="7eb6d5ff">要浏览表达式的历史记录，请执行以下操作：<ul class="list _bullet"><li class="list__item" id="dc16086d"><p>在“ <span class="control">简单”</span>模式下，可以从下拉列表中选择最近使用的表达式。</p></li><li class="list__item" id="3cee2248"><p>在<span class="control">高级</span>模式下，使用<img class="inline-icon-16" src="/help/img/idea/2019.3/icons.actions.previousOccurence@2x.png" width="16" alt="图标操作以前发生"> / <img class="inline-icon-16" src="/help/img/idea/2019.3/icons.actions.nextOccurence@2x.png" width="16" alt="图标操作下一步">或按<kbd data-primary_default_for_windows="Alt+Up" data-primary_default_for_macos="Ctrl+Up" data-primary_intellij_idea_classic_macos="Ctrl+Up" data-primary_emacs="Alt+Up" data-primary_visual_studio="Alt+Up" data-primary_default_for_xwin="Alt+Up" data-primary_default_for_gnome="Alt+Up" data-primary_default_for_kde="Alt+Up" data-primary_eclipse="Ctrl+Shift+Up" data-primary_eclipse_macos="Ctrl+Alt+Up" data-primary_netbeans="Ctrl+Alt+Up" data-primary_sublime_text="Alt+Up" data-primary_sublime_text_macos="Ctrl+Up" data-secondary_default_for_windows="⌥↑" data-secondary_default_for_macos="⌃↑" data-secondary_intellij_idea_classic="⌃↑" data-secondary_emacs="⌥↑" data-secondary_visual_studio="⌥↑" data-secondary_default_for_xwin="⌥↑" data-secondary_default_for_gnome="⌥↑" data-secondary_default_for_kde="⌥↑" data-secondary_eclipse="⌃⇧↑" data-secondary_eclipse_macos="⌃⌥↑" data-secondary_netbeans="⌃⌥↑" data-secondary_sublime_text="⌥↑" data-secondary_sublime_text_macos="⌃↑">Alt+Up</kbd> / <kbd data-primary_default_for_windows="Alt+Down" data-primary_default_for_macos="Ctrl+Down" data-primary_intellij_idea_classic_macos="Ctrl+Down" data-primary_emacs="Alt+Down" data-primary_visual_studio="Alt+Down" data-primary_default_for_xwin="Alt+Down" data-primary_default_for_gnome="Alt+Down" data-primary_default_for_kde="Alt+Down" data-primary_eclipse="Ctrl+Shift+Down" data-primary_eclipse_macos="Ctrl+Alt+Down" data-primary_netbeans="Ctrl+Alt+Down" data-primary_sublime_text="Alt+Down" data-primary_sublime_text_macos="Ctrl+Down" data-secondary_default_for_windows="⌥↓" data-secondary_default_for_macos="⌃↓" data-secondary_intellij_idea_classic="⌃↓" data-secondary_emacs="⌥↓" data-secondary_visual_studio="⌥↓" data-secondary_default_for_xwin="⌥↓" data-secondary_default_for_gnome="⌥↓" data-secondary_default_for_kde="⌥↓" data-secondary_eclipse="⌃⇧↓" data-secondary_eclipse_macos="⌃⌥↓" data-secondary_netbeans="⌃⌥↓" data-secondary_sublime_text="⌥↓" data-secondary_sublime_text_macos="⌃↓">Alt+Down</kbd> 。</p></li></ul>        </li><li class="list__item" id="a632b82b">要重新配置XPath上下文，请点击<span class="control">编辑上下文</span> 。在打开的对话框中，将自定义前缀分配给上下文文档中使用的名称空间URI，并定义要在查询中用于重复表达式的变量。<p id="fac845b9">分配较短的前缀，解决前缀冲突或为默认名称空间实际定义前缀可能很有用。这很重要，因为XPath不会在不为要匹配的元素指定前缀的情况下自动匹配默认名称空间中的元素。编辑名称空间及其前缀，以及</p>            <p id="d0d57047">可以为表中的每个变量分配一个表达式，该表达式在执行查询时将被评估一次。然后，所得值可用于多次使用而无需额外的计算成本。</p>        </li><li class="list__item" id="7ae71eee">            <span class="emphasis">可选地：</span>            <ul class="list _bullet"><li class="list__item" id="a67c4294"><p>选中<span class="control">突出显示结果</span>复选框，以突出显示当前编辑器中匹配的节点。不属于当前编辑器的匹配节点（可以通过使用<code class="code">document()</code>功能）未突出显示。建议在“ <span class="control">查找用法”</span>工具窗口中显示此类跨文档结果。</p></li><li class="list__item" id="a4b82f51"><p>选中<span class="control">在使用情况视图中显示结果</span>复选框，以在“ <span class="control">查找使用情况”</span>工具窗口中显示所有匹配的节点。选中“ <span class="control">在新选项卡</span>中打开”复选框，以<span class="control">在新选项卡</span>中打开结果，而不是重复使用最后一个选项卡。</p></li></ul>        </li></ol></section><div class="last-modified" data-skip-index="skip">上次修改时间：2019年11月29日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="xpath-and-xslt-support.html">XPath和XSLT支持</a> <a class="navigation-links__next" href="xpath-search.html">XPath搜索</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>