<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>调试Oracle PL / SQL代码-帮助|帮助暴风雨</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body  data-id="Debugging_Oracle_PL_SQL_code" data-breadcrumbs="Development environment/Relational_Databases.xml|Database tools and SQL/Working with SQL code/Debugging_Oracle_PL_SQL_code.xml|Debugging Oracle PL/SQL code" data-main-title="Debugging Oracle PL/SQL code"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索PhpStorm帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>PhpStorm 2019.3帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option value="primary_default_for_windows" data-group="primary" selected>Windows的默认设置</option><option value="primary_default_for_macos" data-group="primary">macOS的默认设置</option><option value="primary_intellij_idea_classic_macos" data-group="primary">IntelliJ IDEA经典版（macOS）</option><option value="primary_emacs" data-group="primary">埃马克斯</option><option value="primary_visual_studio" data-group="primary">视觉工作室</option><option value="primary_default_for_xwin" data-group="primary">XWin的默认设置</option><option value="primary_default_for_gnome" data-group="primary">GNOME的默认设置</option><option value="primary_default_for_kde" data-group="primary">KDE的默认值</option><option value="primary_eclipse" data-group="primary">日食</option><option value="primary_eclipse_macos" data-group="primary">Eclipse（macOS）</option><option value="primary_netbeans" data-group="primary">NetBeans</option><option value="primary_sublime_text" data-group="primary">崇高文字</option><option value="primary_sublime_text_macos" data-group="primary">崇高文字（macOS）</option><option value="secondary_default_for_windows" data-group="secondary">Windows的默认设置</option><option value="secondary_default_for_macos" data-group="secondary">macOS的默认设置</option><option value="secondary_intellij_idea_classic" data-group="secondary">IntelliJ IDEA经典版</option><option value="secondary_emacs" data-group="secondary">埃马克斯</option><option value="secondary_visual_studio" data-group="secondary">视觉工作室</option><option value="secondary_default_for_xwin" data-group="secondary">XWin的默认设置</option><option value="secondary_default_for_gnome" data-group="secondary">GNOME的默认设置</option><option value="secondary_default_for_kde" data-group="secondary">KDE的默认值</option><option value="secondary_eclipse" data-group="secondary">日食</option><option value="secondary_eclipse_macos" data-group="secondary">Eclipse（macOS）</option><option value="secondary_netbeans" data-group="secondary">NetBeans</option><option value="secondary_sublime_text" data-group="secondary">崇高文字</option><option value="secondary_sublime_text_macos" data-group="secondary">崇高文字（macOS）</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 id="Debugging_Oracle_PL_SQL_code.xml" data-toc="Debugging_Oracle_PL_SQL_code">调试Oracle PL / SQL代码</h1><a name="pl_sql_debugger_oracle"></a>            <p id="e5d896b8">该调试器基于使用DBMS_DEBUG包的API的Oracle探针，并且应在Oracle服务器9.0及更高版本上运行。</p>            <p id="b3c4bd07">在Oracle中，您可以调试以下程序单元（PL / SQL程序）：匿名块，程序包，过程，函数和触发器。</p><div class="chapter"><h2 id="step-1-create-a-pl-sql-object" data-toc="Debugging_Oracle_PL_SQL_code#step-1-create-a-pl-sql-object">步骤1。创建一个PL / SQL对象</h2>            <section class="procedure-steps"><ol class="list _decimal"><li class="list__item" id="bdc831e5"><p>右键单击Oracle数据源，然后选择“ <span class="control">打开控制台”</span> <kbd data-primary_default_for_windows="Ctrl+Shift+F10" data-primary_default_for_macos="Shift+⌘+F10" data-primary_intellij_idea_classic_macos="Shift+⌘+F10" data-primary_emacs="Ctrl+Shift+F10" data-primary_visual_studio="Ctrl+Shift+F10" data-primary_default_for_xwin="Ctrl+Shift+F10" data-primary_default_for_gnome="Ctrl+Shift+F10" data-primary_default_for_kde="Ctrl+Shift+F10" data-primary_eclipse="Ctrl+Shift+F10" data-primary_eclipse_macos="Shift+⌘+F10" data-primary_netbeans="Ctrl+Shift+F10" data-primary_sublime_text="Ctrl+Shift+F10" data-primary_sublime_text_macos="Shift+⌘+F10" data-secondary_default_for_windows="⌃⇧F10" data-secondary_default_for_macos="⇧⌘F10" data-secondary_intellij_idea_classic="⇧⌘F10" data-secondary_emacs="⌃⇧F10" data-secondary_visual_studio="⌃⇧F10" data-secondary_default_for_xwin="⌃⇧F10" data-secondary_default_for_gnome="⌃⇧F10" data-secondary_default_for_kde="⌃⇧F10" data-secondary_eclipse="⌃⇧F10" data-secondary_eclipse_macos="⇧⌘F10" data-secondary_netbeans="⌃⇧F10" data-secondary_sublime_text="⌃⇧F10" data-secondary_sublime_text_macos="⇧⌘F10">Ctrl+Shift+F10</kbd> 。</p></li><li class="list__item" id="64a73fc1"><p>在控制台中键入或粘贴您的代码。</p></li><li class="list__item" id="1222c088"><p id="9f073be2">点击<span class="control">执行</span>按钮<img class="inline-icon-16" src="/help/img/idea/2019.3/icons.actions.execute@2x.png" width="16" alt="执行按钮">或按<kbd data-primary_default_for_windows="Ctrl+Enter" data-primary_default_for_macos="⌘+Enter" data-primary_intellij_idea_classic_macos="⌘+Enter" data-primary_emacs="Ctrl+Enter" data-primary_visual_studio="Ctrl+Enter" data-primary_default_for_xwin="Ctrl+Enter" data-primary_default_for_gnome="Ctrl+Enter" data-primary_default_for_kde="Ctrl+Enter" data-primary_eclipse="Ctrl+Enter" data-primary_eclipse_macos="⌘+Enter" data-primary_netbeans="Ctrl+Enter" data-primary_sublime_text="Ctrl+Enter" data-primary_sublime_text_macos="⌘+Enter" data-secondary_default_for_windows="⌃⏎" data-secondary_default_for_macos="⌘⏎" data-secondary_intellij_idea_classic="⌘⏎" data-secondary_emacs="⌃⏎" data-secondary_visual_studio="⌃⏎" data-secondary_default_for_xwin="⌃⏎" data-secondary_default_for_gnome="⌃⏎" data-secondary_default_for_kde="⌃⏎" data-secondary_eclipse="⌃⏎" data-secondary_eclipse_macos="⌘⏎" data-secondary_netbeans="⌃⏎" data-secondary_sublime_text="⌃⏎" data-secondary_sublime_text_macos="⌘⏎">Ctrl+Enter</kbd>运行过程代码。</p>                    <p id="08a72494">结果，您会在<span class="control">数据库</span>工具窗口（ <span class="menupath" data-skip-index="skip">视图|工具窗口|数据库</span> ）中看到一个创建的对象。</p></li></ol><figure><img alt="创建一个PL / SQL对象" title="创建一个PL / SQL对象" src="/help/img/idea/2019.3/pl_sql_debugging_create_procedure.png" id="c530a177" class=" _border-line" width="706" height="612"></figure><p id="16bdb6ec"><a href="https://github.com/apronichev/datagrip-code-examples/blob/master/oracle/plSqlDebugger/SIMPLEPROCEDURE.sql" rel="noopener noreferrer" data-external="true" target="_blank">GitHub上的过程的代码片段</a></p></section></div>            <div class="chapter"><h2 id="step-2-compile-a-pl-sql-object-with-the-debug-option" data-toc="Debugging_Oracle_PL_SQL_code#step-2-compile-a-pl-sql-object-with-the-debug-option">第2步。使用debug选项编译PL / SQL对象</h2>            <section class="procedure-steps"><p id="df3a5788">要启用PL / SQL代码的调试功能，您需要使用<code class="code">debug</code>选项。编译过程将PL / SQL代码转换为Pro * C，然后将其编译为Oracle共享库。该编译有助于Oracle解释器更快地处理您的代码。</p><ol class="list _decimal"><li class="list__item" id="5e3d178f"><p>右键单击要调试的PL / SQL对象，然后选择“ <span class="menupath" data-skip-index="skip">数据库工具” |“数据库”。重新编译</span> 。</p></li><li class="list__item" id="754cd08e"><p>在“重新<span class="control">编译”</span>对话框中，选择<span class="control">“调试”选项</span> 。</p></li><li class="list__item" id="6760931b"><p id="9332f565">单击<span class="control">确定</span> 。</p>                                <figure><img alt="编译代码进行调试" title="编译代码进行调试" src="/help/img/idea/2019.3/pl_sql_debugging_compile_for_debug.png" id="c1f6faaf" class=" _border-line" width="706" height="866"></figure>                </li></ol></section>            </div>            <div class="chapter"><h2 id="step-3-debug-pl-sql-program-objects-through-anonymous-blocks" data-toc="Debugging_Oracle_PL_SQL_code#step-3-debug-pl-sql-program-objects-through-anonymous-blocks">第三步调试PL / SQL程序单元</h2>            <section class="procedure-steps"><h3 id="debug-pl-sql-program-objects-through-anonymous-blocks">通过匿名块调试PL / SQL过程和功能</h3><p id="b4b066b3">PL / SQL程序单元将代码组织成块。没有名称的块是匿名块。匿名块未存储在Oracle数据库中。在调试过程中，使用匿名块传递参数值。</p><p id="2f3e0cd9">要调试过程和功能，请编写一个调用必要例程的匿名块。</p><ol class="list _decimal"><li class="list__item" id="8e70f0bc"><p>在“ <span class="control">数据库</span>工具”窗口（“ <span class="menupath" data-skip-index="skip">视图” |“工具窗口” |“数据库”</span> ）中，双击<a href="#step-1-create-a-pl-sql-object">创建</a>和<a href="#step-2-compile-a-pl-sql-object-with-the-debug-option">编译</a>用于调试的PL / SQL对象。</p></li><li class="list__item" id="fd7c33ce"><p>单击<span class="control">运行过程</span>按钮<img class="inline-icon-16" src="/help/img/idea/2019.3/database-openapi.icons.procedureRun@2x.png" width="16" alt="运行过程按钮"> 。如果未选择会话，请从下拉列表中选择一个会话。有关管理会话的更多信息，请参阅<a href="run-a-query.html#managing-connection-sessions">管理连接会话</a> 。</p></li><li class="list__item" id="53d72318"><p>在“ <span class="control">执行例程”</span>对话框中，单击“ <span class="control">在控制台中打开”</span>图标（ <img class="inline-icon-16" src="/help/img/idea/2019.3/icons.actions.MoveTo2@2x.png" width="16" alt="在控制台中打开图标"> ）以在Oracle控制台中打开匿名块。或者，您可以手动将匿名块复制并粘贴到控制台。</p></li><li class="list__item" id="89be406c"><p>将断点放在匿名块和此匿名块中引用的PL / SQL程序对象中。</p></li><li class="list__item" id="8e819965"><p>（可选）修改参数值。</p></li><li class="list__item" id="1ddd2685"><p id="812bc7b2">点击<span class="control">调试</span> 。</p>                <figure id="e0e2e3ce" width="706" data-theme="light"><img class="js-gif" src="/help/img/idea/2019.3/pl_sql_debugging_run_debug_in_anonymous_block.png" width="706" data-gif-src="/help/img/idea/2019.3/pl_sql_debugging_run_debug_in_anonymous_block.animated.gif" style="width:706px"></figure>                </li></ol><p id="697b6a28"><a href="https://github.com/apronichev/datagrip-code-examples/blob/master/oracle/plSqlDebugger/SIMPLEPROCEDURE.sql" rel="noopener noreferrer" data-external="true" target="_blank">GitHub上的过程的代码片段</a></p></section>                <section class="procedure-steps"><h3 id="debug-pl-sql-triggers-through-queries">通过查询调试PL / SQL触发器</h3><p id="c8d33bbc">触发器是一个PL / SQL程序单元，当您发出INSERT，UPDATE或DELETE查询时，DBMS会自动调用它。触发器与表相关联，并在插入，更新或删除数据行之前或之后调用。一个表可以有多个触发器。</p><p id="c72db0fa">要调试触发器，请将INSERT，UPDATE或DELETE查询写入表或视图。</p><ol class="list _decimal"><li class="list__item" id="e5e9168f"><p>右键单击Oracle数据源，然后选择“ <span class="control">打开控制台”</span> <kbd data-primary_default_for_windows="Ctrl+Shift+F10" data-primary_default_for_macos="Shift+⌘+F10" data-primary_intellij_idea_classic_macos="Shift+⌘+F10" data-primary_emacs="Ctrl+Shift+F10" data-primary_visual_studio="Ctrl+Shift+F10" data-primary_default_for_xwin="Ctrl+Shift+F10" data-primary_default_for_gnome="Ctrl+Shift+F10" data-primary_default_for_kde="Ctrl+Shift+F10" data-primary_eclipse="Ctrl+Shift+F10" data-primary_eclipse_macos="Shift+⌘+F10" data-primary_netbeans="Ctrl+Shift+F10" data-primary_sublime_text="Ctrl+Shift+F10" data-primary_sublime_text_macos="Shift+⌘+F10" data-secondary_default_for_windows="⌃⇧F10" data-secondary_default_for_macos="⇧⌘F10" data-secondary_intellij_idea_classic="⇧⌘F10" data-secondary_emacs="⌃⇧F10" data-secondary_visual_studio="⌃⇧F10" data-secondary_default_for_xwin="⌃⇧F10" data-secondary_default_for_gnome="⌃⇧F10" data-secondary_default_for_kde="⌃⇧F10" data-secondary_eclipse="⌃⇧F10" data-secondary_eclipse_macos="⇧⌘F10" data-secondary_netbeans="⌃⇧F10" data-secondary_sublime_text="⌃⇧F10" data-secondary_sublime_text_macos="⇧⌘F10">Ctrl+Shift+F10</kbd> 。</p></li><li class="list__item" id="d89e7d93"><p>在控制台中键入查询。</p></li><li class="list__item" id="f1c93682"><p>将断点放在触发器中。</p></li><li class="list__item" id="c2025cfb"><p id="12efd9f0">点击<span class="control">调试</span> 。</p>                                                <figure id="2d87d78d" width="706" data-theme="light"><img class="js-gif" src="/help/img/idea/2019.3/pl_sql_debugging_run_debug_triggers.png" width="706" data-gif-src="/help/img/idea/2019.3/pl_sql_debugging_run_debug_triggers.animated.gif" style="width:706px"></figure>                    </li></ol><p id="9212df28"><a href="https://github.com/apronichev/datagrip-code-examples/blob/master/oracle/plSqlDebugger/TRIGGERS.sql" rel="noopener noreferrer" data-external="true" target="_blank">GitHub上的触发器的代码片段</a></p></section>            </div>    <a name="stepping_modes_settings"></a>        <div class="chapter"><h2 id="stepping-modes" data-toc="Debugging_Oracle_PL_SQL_code#stepping-modes">步进模式</h2>            <p id="46e833c3">调试PL / SQL代码时，可以在两种步进模式之间进行选择： <span class="control">Graceful</span>和<span class="control">Native</span> 。</p>            <p id="2b7e22d7">在<span class="control">优美的</span>模式，你可以暂停调试（目标会话）会话，设置和删除断点。如果未设置有效的断点，则调试器将逐行逐步执行代码。</p>            <p id="dfee3fd4">在<span class="control">纯</span>模式下，调试器使用Oracle本机调试命令。您无法暂停目标会话或管理断点，但是在CPU密集型操作（包括大量计算和循环的操作）中，性能可能会有所提高。您可以在Oracle <a href="https://docs.oracle.com/database/121/ARPLS/d_debug.htm#ARPLS66129" rel="noopener noreferrer" data-external="true" target="_blank">官方文档中</a>阅读有关Oracle调试命令的更多信息。如果未设置有效的断点，则调试器将执行整个例程。</p>            <section class="procedure-steps"><h3 id="change-the-stepping-mode">更改步进模式</h3><ol class="list _decimal"><li class="list__item" id="1493a7e9"><p>打开设置 （ <kbd data-primary_default_for_windows="Ctrl+Alt+S" data-primary_default_for_macos="⌘+Comma" data-primary_intellij_idea_classic_macos="⌘+Comma" data-primary_emacs="Ctrl+Alt+S" data-primary_visual_studio="Alt+F7" data-primary_default_for_xwin="Ctrl+Alt+S" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-primary_eclipse_macos="⌘+Comma" data-primary_netbeans="Ctrl+Alt+S" data-primary_sublime_text="Ctrl+Alt+S" data-primary_sublime_text_macos="⌘+Comma" data-secondary_default_for_windows="⌃⌥S" data-secondary_default_for_macos="⌘," data-secondary_intellij_idea_classic="⌘," data-secondary_emacs="⌃⌥S" data-secondary_visual_studio="⌥F7" data-secondary_default_for_xwin="⌃⌥S" data-secondary_default_for_gnome="⌃⌥S" data-secondary_default_for_kde="⌃⌥S" data-secondary_eclipse="⌃⌥S" data-secondary_eclipse_macos="⌘," data-secondary_netbeans="⌃⌥S" data-secondary_sublime_text="⌃⌥S" data-secondary_sublime_text_macos="⌘,">Ctrl+Alt+S</kbd> ），然后导航到“ <span class="menupath" data-skip-index="skip">构建，执行，部署|调试器踩</span> 。</p></li><li class="list__item" id="b5ec3319"><p>从“ <span class="control">步进模式”</span>列表中，选择所需的步进模式。</p></li></ol></section>            <section class="procedure-steps"><h3 id="pause-at-the-beginning-of-debuggable-code">在可调试代码的开头暂停</h3><p id="6b572e2f">您可以强制调试器在可调试代码的开头暂停。自动检测到调试器暂停的位置。如果在声明部分中分配变量值，调试器将在变量声明处暂停。如果没有为变量分配任何值，则调试器将跳过声明部分，并在<code class="code">BEGIN</code>执行部分中的关键字。</p><ol class="list _decimal"><li class="list__item" id="11f77607"><p>打开设置 （ <kbd data-primary_default_for_windows="Ctrl+Alt+S" data-primary_default_for_macos="⌘+Comma" data-primary_intellij_idea_classic_macos="⌘+Comma" data-primary_emacs="Ctrl+Alt+S" data-primary_visual_studio="Alt+F7" data-primary_default_for_xwin="Ctrl+Alt+S" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-primary_eclipse_macos="⌘+Comma" data-primary_netbeans="Ctrl+Alt+S" data-primary_sublime_text="Ctrl+Alt+S" data-primary_sublime_text_macos="⌘+Comma" data-secondary_default_for_windows="⌃⌥S" data-secondary_default_for_macos="⌘," data-secondary_intellij_idea_classic="⌘," data-secondary_emacs="⌃⌥S" data-secondary_visual_studio="⌥F7" data-secondary_default_for_xwin="⌃⌥S" data-secondary_default_for_gnome="⌃⌥S" data-secondary_default_for_kde="⌃⌥S" data-secondary_eclipse="⌃⌥S" data-secondary_eclipse_macos="⌘," data-secondary_netbeans="⌃⌥S" data-secondary_sublime_text="⌃⌥S" data-secondary_sublime_text_macos="⌘,">Ctrl+Alt+S</kbd> ），然后导航到“ <span class="menupath" data-skip-index="skip">构建，执行，部署|调试器踩</span> 。</p></li><li class="list__item" id="a5d0ecd7"><p>选择<span class="control">开始时暂停</span> 。</p></li></ol><figure><img alt="在可调试代码的开头暂停" title="在可调试代码的开头暂停" src="/help/img/idea/2019.3/db_pause_at_debuggable_code.svg" id="d22f986a" class=" _border-line" width="296" height="397"></figure></section>        </div>    <div class="last-modified" data-skip-index="skip">上次修改时间：2019年11月29日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="extending-the-product-functionality.html">扩展数据库工具的功能</a> <a class="navigation-links__next" href="exporting-and-importing-data.html">导出和导入数据</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>