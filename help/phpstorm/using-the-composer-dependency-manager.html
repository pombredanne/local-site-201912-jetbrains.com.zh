<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>Composer Dependency Manager-帮助|帮助暴风雨</title><link rel="stylesheet" href="/resources.jetbrains.com/storage/help-app/v3/app.css"></head><body  data-id="composer.settings.dialog" data-breadcrumbs="Development environment/Configuring_PHP_Development_Environment.xml|Configuring PHP Development Environment/Using_the_Composer_Dependency_Manager.xml|Composer Dependency Manager" data-main-title="Composer Dependency Manager" data-article-props="
                {
                
            " seeals=":[=" titl=":=" procedure=",=" link=":=" ur=":" php-specific-command-line-tools.htm="," tex=":" php="" command="" line="" tool="" referenc=",=" composer-page.htm="," compose="}=" add-composer-dependency.htm="," manage="" composer="" dependencies="" dialo="}=" command-line-tool-support.htm="," suppor="}=" composer.htm="," support:="" command-line-tools-console.htm="," tools="" console="" windo="}=" web="" resource=",=" http:="" ="" www.jetbrains.net="" devnet="" community="" w="," discussion="" foru="}=" ="text"="issue=" }="" ]}="" ]=""><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索PhpStorm帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>PhpStorm 2019.3帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option value="primary_default_for_windows" data-group="primary" selected>Windows的默认设置</option><option value="primary_default_for_macos" data-group="primary">macOS的默认设置</option><option value="primary_intellij_idea_classic_macos" data-group="primary">IntelliJ IDEA经典版（macOS）</option><option value="primary_emacs" data-group="primary">埃马克斯</option><option value="primary_visual_studio" data-group="primary">视觉工作室</option><option value="primary_default_for_xwin" data-group="primary">XWin的默认设置</option><option value="primary_default_for_gnome" data-group="primary">GNOME的默认设置</option><option value="primary_default_for_kde" data-group="primary">KDE的默认值</option><option value="primary_eclipse" data-group="primary">日食</option><option value="primary_eclipse_macos" data-group="primary">Eclipse（macOS）</option><option value="primary_netbeans" data-group="primary">NetBeans</option><option value="primary_sublime_text" data-group="primary">崇高文字</option><option value="primary_sublime_text_macos" data-group="primary">崇高文字（macOS）</option><option value="secondary_default_for_windows" data-group="secondary">Windows的默认设置</option><option value="secondary_default_for_macos" data-group="secondary">macOS的默认设置</option><option value="secondary_intellij_idea_classic" data-group="secondary">IntelliJ IDEA经典版</option><option value="secondary_emacs" data-group="secondary">埃马克斯</option><option value="secondary_visual_studio" data-group="secondary">视觉工作室</option><option value="secondary_default_for_xwin" data-group="secondary">XWin的默认设置</option><option value="secondary_default_for_gnome" data-group="secondary">GNOME的默认设置</option><option value="secondary_default_for_kde" data-group="secondary">KDE的默认值</option><option value="secondary_eclipse" data-group="secondary">日食</option><option value="secondary_eclipse_macos" data-group="secondary">Eclipse（macOS）</option><option value="secondary_netbeans" data-group="secondary">NetBeans</option><option value="secondary_sublime_text" data-group="secondary">崇高文字</option><option value="secondary_sublime_text_macos" data-group="secondary">崇高文字（macOS）</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 id="Using_the_Composer_Dependency_Manager.xml" data-toc="composer.settings.dialog">作曲家依赖管理器</h1>                            <p id="c38d9b65">PhpStorm与<a href="http://getcomposer.org/" rel="noopener noreferrer" data-external="true" target="_blank">Composer</a>依赖项管理器集成在一起，该管理器允许您从<a href="http://www.packagist.org/" rel="noopener noreferrer" data-external="true" target="_blank">Packagist</a>声明程序包为项目的依赖项，并从IDE管理它们。</p>    <p id="composer_interface">PhpStorm为常见的Composer命令提供了专用的用户界面：</p>    <ul class="list _bullet"><li class="list__item" id="3d1d770e"><p>            使用Composer <a href="#creatingFromTemplate">创建一个新项目</a> ，</p></li><li class="list__item" id="cadb5f95"><p>            在现有的PhpStorm项目中<a href="#initializing_in_existing_project">初始化Composer</a> ，</p></li><li class="list__item" id="47eb6af4"><p>            <a href="#addingDependencies">管理项目依赖项</a></p></li><li class="list__item" id="148ca700"><p>执行<a href="#additional-commands">其他任务</a> 。</p></li></ul>    <p id="70a64836">当您运行上述命令时，PhpStorm将通过<a href="#composer_log">Composer Log</a>控制台显示其输出。</p>    <p id="b2282e9a">如果希望在PhpStorm项目中使用<a href="https://getcomposer.org/doc/03-cli.md#command-line-interface-commands" rel="noopener noreferrer" data-external="true" target="_blank">完整的Composer命令</a> ，则可以将Composer配置和运行为<a href="#enableComposerInProduct">外部命令行工具</a> 。</p>    <div class="chapter"><h2 id="downloading-installing-composer" data-toc="composer.settings.dialog#downloading-installing-composer">下载并安装Composer</h2>        <p id="d84a1b33">有关安装Composer的详细信息，请参阅<a href="https://getcomposer.org/doc/00-intro.md#installation-linux-unix-osx" rel="noopener noreferrer" data-external="true" target="_blank">Composer官方文档</a> 。</p>        <p id="882d62f9">如果您在本地环境中工作，则PhpStorm中的Composer命令将通过配置的<a href="configuring-local-interpreter.html">本地PHP解释器运行</a> 。您可以作为系统级独立工具手动下载并安装Composer，或者在<a href="#creatingFromTemplate">创建新的Composer项目</a> ， <a href="#initializing_in_existing_project">初始化Composer</a>或在现有项目中<a href="#additional-commands">调用其他Composer命令</a>时，让PhpStorm自动下载。</p>        <p id="24766536">此外，PhpStorm使您可以通过任何已配置的<a href="configuring-remote-interpreters.html">远程PHP解释器</a>运行Composer命令。</p>    </div>    <div class="chapter"><h2 id="creatingFromTemplate" data-toc="composer.settings.dialog#creatingFromTemplate">创建一个新的Composer项目</h2>        <p id="a2f9dbe8">当您创建一个新的Composer项目时，PhpStorm将根据您选择的Composer软件包创建一个项目，解析依赖关系并将其安装在项目的<span class="filepath">供应商</span>目录下。</p>        <aside class="prompt" rel="a2f9dbe8" id="note-only-local-composer-allowed" data-type="note" data-title="">            <p id="36695b83">仅当通过配置的<a href="configuring-local-interpreter.html">本地PHP解释器</a>运行Composer时，才可以创建项目。</p>        </aside>                        <section class="procedure-steps"><ol class="list _decimal"><li class="list__item" id="ea9e2f95">                <p id="01c7bcd5">                    <a name="ps_open_new_project_dialog_php"></a>选择<span class="menupath" data-skip-index="skip">文件|新建项目，</span>或在PhpStorm欢迎屏幕上单击<span class="control">创建新项目</span> 。</p>                <p id="76358aca">“ <span class="control">新建项目”</span>对话框打开：</p>                <figure><img alt="创建一个新的Composer项目" title="创建一个新的Composer项目" src="/help/img/idea/2019.3/ps_new_composer_project.png" id="6910c33b" width="800" height="964"></figure>            </li><li class="list__item" id="8838563e">                <p id="cba2c290">在对话框中，指定项目的参数：</p>                <ul class="list _alpha-lower"><li class="list__item" id="4e27573e">                        <p id="4e537b1d">选择项目类型和位置：</p>                        <ul class="list _bullet"><li class="list__item" id="b3de6423"><p>                                <a name="generate_project_stub_php_choose_project_type"></a>在左侧窗格中，选择<span class="control">Composer Project</span> 。</p></li><li class="list__item" id="f24b8118"><p>                                <a name="create_project_specify_location"></a>在右侧窗格的“ <span class="control">位置”</span>字段中，指定将在其中创建项目的文件夹。</p></li></ul>                    </li><li class="list__item" id="4b310952">                        <a name="chooseComposerPhar"></a>选择如何执行Composer命令：<ul class="list _bullet"><li class="list__item" id="cb15c8c0"><p>要通过全局安装的<span class="filepath">composer</span>可执行文件运行命令，请选择<span class="control">“ composer”可执行文件</span>并在字段中指定其位置。</p></li><li class="list__item" id="d8ea96da">                <p id="304fb799">要通过本地<span class="filepath">composer.phar</span>存档运行命令，请选择<span class="control">composer.phar</span> 。然后，在字段中指定现有<span class="filepath">composer.phar</span>文件的位置，或选中<span class="control">从getcomposer.org下载composer.phar</span>复选框以下载文件的新实例。 <a name="DownloadedComposerPharLocation"></a>                                                                                    下载的<span class="filepath">composer.phar</span>文件将保存在项目根文件夹下。</p>                <p id="6ca39ddd">然后，从<span class="control">PHP解释器</span>列表中选择已配置的本地PHP解释<span class="control">器之一</span> 。有关详细信息，请参考<a href="configuring-local-interpreter.html">配置本地PHP解释器</a> 。</p>            </li></ul>                            <a name="composer_settings_area"></a> （可选）在“ <span class="control">命令行参数”</span>字段中， <a name="composer_add_dependency_advanced_settings"></a>键入其他命令行参数。</li><li class="list__item" id="0f44749f"><p>                        <a name="choosePackage"></a>在“ <span class="control">软件包”</span>区域中，从列表中选择软件包，然后从“ <span class="control">要安装的</span>版本”列表中选择相关的版本。要搜索软件包，请使用<span class="control">过滤软件包</span>搜索字段。</p></li></ul>            </li><li class="list__item" id="f3ddd0d0">                <p id="0dfdcbdf">                    <a name="composer_installation_completed_remark_end"></a>点击<span class="control">创建</span> 。<a href="https://getcomposer.org/doc/03-cli.md#create-project" rel="noopener noreferrer" data-external="true" target="_blank">create-project</a> Composer命令将与所选软件包一起调用。结果，将创建Composer项目，其配置和结构取决于所选的软件包。之后，打开创建的PhpStorm项目。</p>            </li></ol></section>    </div>    <div class="chapter"><h2 id="initializing_in_existing_project" data-toc="composer.settings.dialog#initializing_in_existing_project">在现有项目中初始化Composer</h2>        <p id="e8f374f0">在项目中初始化Composer时，将创建一个<span class="filepath">composer.json</span>文件。该文件列出了项目依赖项和其他元数据。</p>        <section class="procedure-steps"><ol class="list _decimal"><li class="list__item" id="composer_interface_restricted_to_project">                <p id="5abb5cd2">在主菜单中，选择<span class="menupath" data-skip-index="skip">工具|作曲家|初始化作曲家</span> 。</p>                <p id="235bfe33">“ <span class="control">Composer设置”</span>对话框打开：</p>                <figure><img alt="“作曲家设置”对话框" title="“作曲家设置”对话框" src="/help/img/idea/2019.3/ps_composer_settings_dialog.png" id="9a711962" width="484" height="314"></figure>            </li><li class="list__item" id="44c076c7">                <a name="chooseComposerPhar"></a>选择如何执行Composer命令：<ul class="list _bullet"><li class="list__item" id="0db8f1ee"><p>要通过全局安装的<span class="filepath">composer</span>可执行文件运行命令，请选择<span class="control">“ composer”可执行文件</span>并在字段中指定其位置。</p></li><li class="list__item" id="1028a604">                <p id="c368ccf8">要通过本地<span class="filepath">composer.phar</span>存档运行命令，请选择<span class="control">composer.phar</span> 。然后，在字段中指定现有<span class="filepath">composer.phar</span>文件的位置，或选中<span class="control">从getcomposer.org下载composer.phar</span>复选框以下载文件的新实例。 <a name="DownloadedComposerPharLocation"></a>                                                                                    下载的<span class="filepath">composer.phar</span>文件将保存在项目根文件夹下。</p>                <p id="1c71cbf5">然后，从<span class="control">PHP解释器</span>列表中选择已配置的本地PHP解释<span class="control">器之一</span> 。有关详细信息，请参考<a href="configuring-local-interpreter.html">配置本地PHP解释器</a> 。</p>            </li><li class="list__item" id="b51654db">                <p id="ddea74f1">要通过远程解释器运行命令，请选择<span class="control">远程解释器</span> 。</p>                <ul class="list _ul"><li class="list__item" id="6e52b4f9">                        <p id="258fb349">从<span class="control">CLI解释器</span>列表中，选择要使用的远程解释器，或单击<img class="inline-icon-9" src="/help/img/idea/2019.3/icons.general.ellipsis@2x.png" width="9" alt="图标一般省略号">并按照<a href="configuring-remote-interpreters.html">配置远程PHP解释器中的说明</a>配置一个新的。</p>                        <p id="e4d6660d">在大多数情况下，PhpStorm自动检测路径映射。如有必要，可以单击<img class="inline-icon-16" src="/help/img/idea/2019.3/icons.general.openDisk@2x.png" width="16" alt="浏览按钮">在“ <span class="control">路径映射”</span>字段中，然后在打开的“ <a href="edit-project-path-mappings-dialog.html">编辑项目路径映射”对话框</a>中手动指定它们。</p>                    </li><li class="list__item" id="7e08d170"><p>在<span class="control">Composer可执行文件</span>字段中，提供<span class="control">Composer可执行文件</span>的名称。您可以点击<img class="inline-icon-16" src="/help/img/idea/2019.3/icons.general.openDisk@2x.png" width="16" alt="浏览按钮"> ，然后在打开的“ <span class="control">在服务器上选择路径”</span>对话框中找到可执行文件。</p></li></ul>                <aside class="prompt" rel="409c72b0" id="686e5df7" data-type="note" data-title="">                    <p id="899e699b">如果您依赖Docker，则可以使用<a href="https://hub.docker.com/_/composer" rel="noopener noreferrer" data-external="true" target="_blank">composer</a> Official Docker映像，该映像已在PhpStorm中预先配置为远程解释器。该图像不适用于生产用途。如有必要，您可以按照“管理映像”中的说明在PhpStorm中创建和管理自己的Docker <a href="docker.html#managing-images">映像</a> 。</p>                </aside>            </li></ul>                </li><li class="list__item" id="ef656841">                <p id="e5c03fe2">单击“ <span class="control">确定”</span>关闭“ <span class="control">Composer设置”</span>对话框。PhpStorm创建<span class="filepath">composer.json</span>文件的存根，并在编辑器中将其打开：</p>                <figure><img alt="composer.json文件存根" title="composer.json文件存根" src="/help/img/idea/2019.3/ps_composer_json_stub.png" id="0e467466" width="645" height="484"></figure>                <p id="1fdfb02b">完成代码或接受生成的值。有关使用<span class="filepath">composer.json</span>文件的详细信息，请参阅<a href="http://getcomposer.org/doc/01-basic-usage.md#composer-json-project-setup" rel="noopener noreferrer" data-external="true" target="_blank">Composer.json：项目设置</a> 。</p>            </li></ol><p id="a1a0a5f2">使用<span class="filepath">composer.json</span>编辑器面板顶部的快捷链接可以快速<a href="#addingDependencies">安装</a>或<a href="#updating-dependencies">更新</a>项目依赖项，打开<a href="#composer_log">Composer日志</a> ，并访问<a href="#additional-commands">其他命令</a> 。</p><p id="fa0bbac9">                <a name="ps_several_composer_json_intro"></a>一个PhpStorm项目中可以有多个<span class="filepath">composer.json</span>文件。对于每个<span class="filepath">composer.json</span> ，从编辑器或项目视图中的上下文菜单中调用操作，或使用编辑器面板顶部的快捷链接来调用操作。</p></section>    </div>    <div class="chapter"><h2 id="setting-up-an-external-composer-project" data-toc="composer.settings.dialog#setting-up-an-external-composer-project">在PhpStorm中打开现有的Composer项目</h2>        <p id="0d21730f">当您打开现有的Composer项目时，PhpStorm使用<span class="filepath">composer.json</span>文件中包含的信息来自动应用某些配置选项，例如项目的<a href="content-root.html">内容根目录</a>和<a href="php.html">PHP语言级别</a> 。</p>        <section class="procedure-steps"><ol class="list _decimal"><li class="list__item" id="b47b1f46">                <a name="ps_open_external_project"></a>在“欢迎”屏幕上单击“ <span class="control">打开</span> ”，或选择“ <span class="menupath" data-skip-index="skip">文件” |“</span>选择” <span class="menupath" data-skip-index="skip">。</span>从主菜单<span class="menupath" data-skip-index="skip">打开</span> ，然后选择存储Composer项目的文件夹。<p id="e2ebb030">PhpStorm将显示一条通知：</p>                <figure><img alt="ps_composer_notification_composer_json_detected.png" title="ps_composer_notification_composer_json_detected.png" src="/help/img/idea/2019.3/ps_composer_notification_composer_json_detected.png" id="a2cfffcd" width="360" height="73"></figure>            </li><li class="list__item" id="f626cc6c"><p>单击<span class="menupath" data-skip-index="skip">初始化Composer设置</span> 。在打开的<a href="composer-page.html">Composer</a>对话框中，指定<span class="filepath">composer.json</span>文件的位置。如果PhpStorm检测到现有文件，则<span class="menupath" data-skip-index="skip">composer.json</span>的<span class="menupath" data-skip-index="skip">Path</span>字段将自动填充：</p><figure><img alt="ps_composer_path_detected.png" title="ps_composer_path_detected.png" src="/help/img/idea/2019.3/ps_composer_path_detected.png" id="ff1bedf7" width="522" height="180"></figure>            <p></p></li><li class="list__item" id="88cbcec1">                <p id="6aa13e9d">配置项目设置：</p>                <ul class="list _bullet"><li class="list__item" id="c95a5d9a">                        <p id="fdc6950e">默认情况下， <span class="filepath">vendor / * / *</span>目录下的所有软件包都从项目中排除，并作为写保护库添加。为了防止它们被编辑，请选中“ <span class="menupath" data-skip-index="skip">将软件包添加为库”</span>复选框。否则，如果要在<span class="filepath">vendor / * / *</span>下编辑Composer软件包，请清除将<span class="menupath" data-skip-index="skip">软件包添加为库</span>复选框。</p>                    </li><li class="list__item" id="b9bdb96b">                        <p>确保选中“ <span class="menupath" data-skip-index="skip">使用composer.json同步IDE设置”</span>复选框<a name="ps_composer_enable_settings_synchronization"></a>可以根据<span class="filepath">composer.json</span>的配置自动检测PHP语言级别并配置项目Source和Test根目录。</p><p id="1dee7eff">PhpStorm知道PSR-0 / PSR-4源根及其名称空间前缀。设置源根<img class="inline-icon-16" src="/help/img/idea/2019.3/icons.modules.sourceRoot@2x.png" width="16" alt="源根图标">基于<code class="code">autoload</code>部分和“测试”根目录<img class="inline-icon-16" src="/help/img/idea/2019.3/icons.modules.testRoot@2x.png" width="16" alt="测试根目录图标">基于<code class="code">autoload-dev</code>部分。PhpStorm还会根据以下内容检测PHP语言级别： <code class="code">php</code>设置在<code class="code">require</code>部分。</p><p>确保选中“ <span class="menupath" data-skip-index="skip">使用composer.json同步IDE设置”</span>复选框<a name="ps_composer_enable_settings_synchronization"></a>可以根据<span class="filepath">composer.json</span>的配置自动检测PHP语言级别并配置项目Source和Test根目录。</p><p id="1dee7eff">由于<span class="filepath">composer.json</span>包含有关项目配置的最新信息，因此这种自动同步可确保Source和Test文件夹与项目结构完全匹配，并自动设置正确的PHP语言级别。</p><p>确保选中“ <span class="menupath" data-skip-index="skip">使用composer.json同步IDE设置”</span>复选框<a name="ps_composer_enable_settings_synchronization"></a>可以根据<span class="filepath">composer.json</span>的配置自动检测PHP语言级别并配置项目Source和Test根目录。</p><p id="1dee7eff">要了解有关PSR和自动加载的更多信息，请参考<a href="https://getcomposer.org/doc/04-schema.md#autoload" rel="noopener noreferrer" data-external="true" target="_blank">Composer官方网站</a> 。有关同步设置的示例和详细信息，请参阅<a href="https://blog.jetbrains.com/phpstorm/2017/07/configuring-with-composer-in-phpstorm-2017-2/" rel="noopener noreferrer" data-external="true" target="_blank">PhpStorm博客文章</a> 。要了解有关配置内容根<a href="content-root.html">目录的</a>更多信息，请参阅<a href="content-root.html">内容根目录</a> 。</p><p></p><aside class="prompt" rel="8aa3a582" id="1e8691bc" data-type="note" data-title="">            <p id="175c7c2f">启用与<span class="filepath">composer.json的</span>设置同步后，无法在<a href="php.html">PHP</a>页面上手动设置PHP语言级别<a name="open_settings"></a>的<a name="settings_dialog"></a> <span class="control">设置/首选项</span>对话框<kbd data-primary_default_for_windows="Ctrl+Alt+S" data-primary_default_for_macos="⌘+Comma" data-primary_intellij_idea_classic_macos="⌘+Comma" data-primary_emacs="Ctrl+Alt+S" data-primary_visual_studio="Alt+F7" data-primary_default_for_xwin="Ctrl+Alt+S" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-primary_eclipse_macos="⌘+Comma" data-primary_netbeans="Ctrl+Alt+S" data-primary_sublime_text="Ctrl+Alt+S" data-primary_sublime_text_macos="⌘+Comma" data-secondary_default_for_windows="⌃⌥S" data-secondary_default_for_macos="⌘," data-secondary_intellij_idea_classic="⌘," data-secondary_emacs="⌃⌥S" data-secondary_visual_studio="⌥F7" data-secondary_default_for_xwin="⌃⌥S" data-secondary_default_for_gnome="⌃⌥S" data-secondary_default_for_kde="⌃⌥S" data-secondary_eclipse="⌃⌥S" data-secondary_eclipse_macos="⌘," data-secondary_netbeans="⌃⌥S" data-secondary_sublime_text="⌃⌥S" data-secondary_sublime_text_macos="⌘,">Ctrl+Alt+S</kbd> 。</p>        </aside><p></p>                    </li></ul>                <p id="fa2e0833">单击<span class="control">确定</span>以应用指定的项目设置并关闭对话框。</p>            </li><li class="list__item" id="62ae3af5">                <p id="db77903c">设置Composer命令执行：</p>                <ul class="list _alpha-lower"><li class="list__item" id="24c668a8">                        <p id="ebfc1364">请执行以下任一操作：</p>                        <ul class="list _bullet"><li class="list__item" id="95c88f03">                                <p id="a1435139">                                    <a name="open_settings"></a>在里面<a name="settings_dialog"></a> <span class="control">设置/首选项</span>对话框<kbd data-primary_default_for_windows="Ctrl+Alt+S" data-primary_default_for_macos="⌘+Comma" data-primary_intellij_idea_classic_macos="⌘+Comma" data-primary_emacs="Ctrl+Alt+S" data-primary_visual_studio="Alt+F7" data-primary_default_for_xwin="Ctrl+Alt+S" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-primary_eclipse_macos="⌘+Comma" data-primary_netbeans="Ctrl+Alt+S" data-primary_sublime_text="Ctrl+Alt+S" data-primary_sublime_text_macos="⌘+Comma" data-secondary_default_for_windows="⌃⌥S" data-secondary_default_for_macos="⌘," data-secondary_intellij_idea_classic="⌘," data-secondary_emacs="⌃⌥S" data-secondary_visual_studio="⌥F7" data-secondary_default_for_xwin="⌃⌥S" data-secondary_default_for_gnome="⌃⌥S" data-secondary_default_for_kde="⌃⌥S" data-secondary_eclipse="⌃⌥S" data-secondary_eclipse_macos="⌘," data-secondary_netbeans="⌃⌥S" data-secondary_sublime_text="⌃⌥S" data-secondary_sublime_text_macos="⌘,">Ctrl+Alt+S</kbd> ，转到“ <span class="menupath" data-skip-index="skip">语言和框架” | PHP |作曲家</span> 。</p>                            </li><li class="list__item" id="6c3c3cad"><p>如果项目中只有一个<span class="filepath">composer.json</span>文件，请选择“ <span class="menupath" data-skip-index="skip">工具” |“工具”。作曲家|</span>从主菜单进行<span class="menupath" data-skip-index="skip">安装</span>以打开“ <span class="control">Composer设置”</span>对话框。</p></li></ul>                    </li><li class="list__item" id="68a110f1">                        <a name="chooseComposerPhar"></a>选择如何执行Composer命令：<ul class="list _bullet"><li class="list__item" id="ead4ddca"><p>要通过全局安装的<span class="filepath">composer</span>可执行文件运行命令，请选择<span class="control">“ composer”可执行文件</span>并在字段中指定其位置。</p></li><li class="list__item" id="f62ab27e">                <p id="3eb3aac7">要通过本地<span class="filepath">composer.phar</span>存档运行命令，请选择<span class="control">composer.phar</span> 。然后，在字段中指定现有<span class="filepath">composer.phar</span>文件的位置，或选中<span class="control">从getcomposer.org下载composer.phar</span>复选框以下载文件的新实例。 <a name="DownloadedComposerPharLocation"></a>                                                                                    下载的<span class="filepath">composer.phar</span>文件将保存在项目根文件夹下。</p>                <p id="601b531c">然后，从<span class="control">PHP解释器</span>列表中选择已配置的本地PHP解释<span class="control">器之一</span> 。有关详细信息，请参考<a href="configuring-local-interpreter.html">配置本地PHP解释器</a> 。</p>            </li><li class="list__item" id="f06d1077">                <p id="bb00a418">要通过远程解释器运行命令，请选择<span class="control">远程解释器</span> 。</p>                <ul class="list _ul"><li class="list__item" id="988725f6">                        <p id="f9d705e6">从<span class="control">CLI解释器</span>列表中，选择要使用的远程解释器，或单击<img class="inline-icon-9" src="/help/img/idea/2019.3/icons.general.ellipsis@2x.png" width="9" alt="图标一般省略号">并按照<a href="configuring-remote-interpreters.html">配置远程PHP解释器中的说明</a>配置一个新的。</p>                        <p id="d40b6e17">在大多数情况下，PhpStorm自动检测路径映射。如有必要，可以单击<img class="inline-icon-16" src="/help/img/idea/2019.3/icons.general.openDisk@2x.png" width="16" alt="浏览按钮">在“ <span class="control">路径映射”</span>字段中，然后在打开的“ <a href="edit-project-path-mappings-dialog.html">编辑项目路径映射”对话框</a>中手动指定它们。</p>                    </li><li class="list__item" id="dfbee332"><p>在<span class="control">Composer可执行文件</span>字段中，提供<span class="control">Composer可执行文件</span>的名称。您可以点击<img class="inline-icon-16" src="/help/img/idea/2019.3/icons.general.openDisk@2x.png" width="16" alt="浏览按钮"> ，然后在打开的“ <span class="control">在服务器上选择路径”</span>对话框中找到可执行文件。</p></li></ul>                <aside class="prompt" rel="6d4af765" id="8f94131f" data-type="note" data-title="">                    <p id="af020a09">如果您依赖Docker，则可以使用<a href="https://hub.docker.com/_/composer" rel="noopener noreferrer" data-external="true" target="_blank">composer</a> Official Docker映像，该映像已在PhpStorm中预先配置为远程解释器。该图像不适用于生产用途。如有必要，您可以按照“管理映像”中的说明在PhpStorm中创建和管理自己的Docker <a href="docker.html#managing-images">映像</a> 。</p>                </aside>            </li></ul>                        </li></ul>            </li><li class="list__item" id="0bd8766d">                <p id="2609350d">安装项目依赖项：</p>                <ul class="list _bullet"><li class="list__item" id="2762b786"><p>如果项目中只有一个<span class="filepath">composer.json</span>文件，请选择“ <span class="menupath" data-skip-index="skip">工具” |“工具”。作曲家|</span>从主菜单<span class="menupath" data-skip-index="skip">安装</span> 。</p></li><li class="list__item" id="2ee86fba"><p>否则，如果您有几个<span class="filepath">composer.json</span>文件，请选择<span class="menupath" data-skip-index="skip">Composer |。</span>从相关菜单的上下文菜单中<span class="menupath" data-skip-index="skip">安装</span> 。另请参阅<a href="#default_composer_json">在PhpStorm项目中指定默认的composer.json</a> 。</p></li></ul>                <p id="6bf47cc6">您也可以在编辑器中打开<span class="filepath">composer.json</span>文件，然后单击编辑器面板顶部的“ <span class="control">安装</span>快捷方式”链接。</p>            </li></ol></section>    </div>    <div class="chapter"><h2 id="default_composer_json" data-toc="composer.settings.dialog#default_composer_json">在PhpStorm项目中指定默认的composer.json</h2>        <p id="df7b6342">            <a name="ps_several_composer_json_intro"></a>一个PhpStorm项目中可以有多个<span class="filepath">composer.json</span>文件。对于每个<span class="filepath">composer.json</span> ，从编辑器或项目视图中的上下文菜单中调用操作，或使用编辑器面板顶部的快捷链接来调用操作。您也可以为PhpStorm项目指定<span class="emphasis">默认的composer.json</span> 。可以从“ <span class="menupath" data-skip-index="skip">工具” |“工具”</span>中调用它的Composer操作。从主菜单中的<span class="menupath" data-skip-index="skip">作曲家</span> 。</p>        <section class="procedure-steps"><ol class="list _decimal"><li class="list__item" id="33ab06bb">                <p id="f0685a2d">                    <a name="open_settings"></a>在里面<a name="settings_dialog"></a> <span class="control">设置/首选项</span>对话框<kbd data-primary_default_for_windows="Ctrl+Alt+S" data-primary_default_for_macos="⌘+Comma" data-primary_intellij_idea_classic_macos="⌘+Comma" data-primary_emacs="Ctrl+Alt+S" data-primary_visual_studio="Alt+F7" data-primary_default_for_xwin="Ctrl+Alt+S" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-primary_eclipse_macos="⌘+Comma" data-primary_netbeans="Ctrl+Alt+S" data-primary_sublime_text="Ctrl+Alt+S" data-primary_sublime_text_macos="⌘+Comma" data-secondary_default_for_windows="⌃⌥S" data-secondary_default_for_macos="⌘," data-secondary_intellij_idea_classic="⌘," data-secondary_emacs="⌃⌥S" data-secondary_visual_studio="⌥F7" data-secondary_default_for_xwin="⌃⌥S" data-secondary_default_for_gnome="⌃⌥S" data-secondary_default_for_kde="⌃⌥S" data-secondary_eclipse="⌃⌥S" data-secondary_eclipse_macos="⌘," data-secondary_netbeans="⌃⌥S" data-secondary_sublime_text="⌃⌥S" data-secondary_sublime_text_macos="⌘,">Ctrl+Alt+S</kbd> ，转到“ <span class="menupath" data-skip-index="skip">语言和框架” | PHP |作曲家</span> 。</p>            </li><li class="list__item" id="3cff0167"><p>指定默认的<span class="filepath">composer.json</span>的位置。如果PhpStorm项目中只有一个Composer配置文件，则<span class="menupath" data-skip-index="skip">composer.json</span>的<span class="menupath" data-skip-index="skip">Path</span>字段将自动填充。</p></li><li class="list__item" id="ae7a8f04">                <p id="284ca2ea">默认情况下， <span class="filepath">vendor / * / *</span>目录下的所有软件包都从项目中排除，并作为写保护库添加。为了防止它们被编辑，请选中“ <span class="control">将软件包添加为库”</span>复选框。</p>                <p id="34e2d5f6">否则，如果要在<span class="filepath">vendor / * / *</span>下编辑Composer软件包，请清除将<span class="menupath" data-skip-index="skip">软件包添加为库</span>复选框。</p>            </li><li class="list__item" id="931edb2c">                <p>确保选中“ <span class="menupath" data-skip-index="skip">使用composer.json同步IDE设置”</span>复选框<a name="ps_composer_enable_settings_synchronization"></a>可以根据<span class="filepath">composer.json</span>的配置自动检测PHP语言级别并配置项目Source和Test根目录。</p><p id="7d50a279">PhpStorm知道PSR-0 / PSR-4源根及其名称空间前缀。设置源根<img class="inline-icon-16" src="/help/img/idea/2019.3/icons.modules.sourceRoot@2x.png" width="16" alt="源根图标">基于<code class="code">autoload</code>部分和“测试”根目录<img class="inline-icon-16" src="/help/img/idea/2019.3/icons.modules.testRoot@2x.png" width="16" alt="测试根目录图标">基于<code class="code">autoload-dev</code>部分。PhpStorm还会根据以下内容检测PHP语言级别： <code class="code">php</code>设置在<code class="code">require</code>部分。</p><p>确保选中“ <span class="menupath" data-skip-index="skip">使用composer.json同步IDE设置”</span>复选框<a name="ps_composer_enable_settings_synchronization"></a>可以根据<span class="filepath">composer.json</span>的配置自动检测PHP语言级别并配置项目Source和Test根目录。</p><p id="7d50a279">由于<span class="filepath">composer.json</span>包含有关项目配置的最新信息，因此这种自动同步可确保Source和Test文件夹与项目结构完全匹配，并自动设置正确的PHP语言级别。</p><p>确保选中“ <span class="menupath" data-skip-index="skip">使用composer.json同步IDE设置”</span>复选框<a name="ps_composer_enable_settings_synchronization"></a>可以根据<span class="filepath">composer.json</span>的配置自动检测PHP语言级别并配置项目Source和Test根目录。</p><p id="7d50a279">要了解有关PSR和自动加载的更多信息，请参考<a href="https://getcomposer.org/doc/04-schema.md#autoload" rel="noopener noreferrer" data-external="true" target="_blank">Composer官方网站</a> 。有关同步设置的示例和详细信息，请参阅<a href="https://blog.jetbrains.com/phpstorm/2017/07/configuring-with-composer-in-phpstorm-2017-2/" rel="noopener noreferrer" data-external="true" target="_blank">PhpStorm博客文章</a> 。要了解有关配置内容根<a href="content-root.html">目录的</a>更多信息，请参阅<a href="content-root.html">内容根目录</a> 。</p><p></p><aside class="prompt" rel="7b35d32e" id="849ba75f" data-type="note" data-title="">            <p id="9ee6e41b">启用与<span class="filepath">composer.json的</span>设置同步后，无法在<a href="php.html">PHP</a>页面上手动设置PHP语言级别<a name="open_settings"></a>的<a name="settings_dialog"></a> <span class="control">设置/首选项</span>对话框<kbd data-primary_default_for_windows="Ctrl+Alt+S" data-primary_default_for_macos="⌘+Comma" data-primary_intellij_idea_classic_macos="⌘+Comma" data-primary_emacs="Ctrl+Alt+S" data-primary_visual_studio="Alt+F7" data-primary_default_for_xwin="Ctrl+Alt+S" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-primary_eclipse_macos="⌘+Comma" data-primary_netbeans="Ctrl+Alt+S" data-primary_sublime_text="Ctrl+Alt+S" data-primary_sublime_text_macos="⌘+Comma" data-secondary_default_for_windows="⌃⌥S" data-secondary_default_for_macos="⌘," data-secondary_intellij_idea_classic="⌘," data-secondary_emacs="⌃⌥S" data-secondary_visual_studio="⌥F7" data-secondary_default_for_xwin="⌃⌥S" data-secondary_default_for_gnome="⌃⌥S" data-secondary_default_for_kde="⌃⌥S" data-secondary_eclipse="⌃⌥S" data-secondary_eclipse_macos="⌘," data-secondary_netbeans="⌃⌥S" data-secondary_sublime_text="⌃⌥S" data-secondary_sublime_text_macos="⌘,">Ctrl+Alt+S</kbd> 。</p>        </aside><p></p>            </li></ol></section>    </div>    <div class="chapter"><h2 id="addingDependencies" data-toc="composer.settings.dialog#addingDependencies">安装依赖项</h2>        <p id="6bed0d0b">您可以单独安装特定的软件包，PhpStorm将自动更新<span class="filepath">composer.json</span> 。另外，您也可以在<code class="code">require</code>和<code class="code">require-dev</code> <span class="filepath">composer.json的</span>各个部分，然后一次安装它们。</p>        <p id="a1cc49f1">如果当前目录中存在<span class="filepath">composer.lock</span>文件，则将安装其中列出的确切软件包版本。否则，如果缺少<span class="filepath">composer.lock</span>文件，则Composer将在安装软件包后创建它，从而将您的项目锁定为其特定版本。</p>        <p id="02248c7e">在<a href="https://getcomposer.org/doc/03-cli.md#install" rel="noopener noreferrer" data-external="true" target="_blank">Composer官方网站</a>上了解有关添加依赖项的更多信息。</p>        <section class="procedure-steps"><h3 id="installing-a-specific-package">安装特定的软件包</h3><ol class="list _decimal"><li class="list__item" id="1ae721c8">                <p id="0b72a419">请执行以下任一操作：</p>                <ul class="list _bullet"><li class="list__item" id="da590c1e"><p>从<span class="filepath">composer.json</span>上下文菜单中，选择<span class="menupath" data-skip-index="skip">Composer |。管理依赖项</span> 。</p></li><li class="list__item" id="d76bb150"><p>要从<a href="#default_composer_json">默认的composer.json</a>安装软件包，请选择“ <span class="menupath" data-skip-index="skip">工具” |“安装”。作曲家|</span>从主菜单<span class="menupath" data-skip-index="skip">管理依赖关系</span> 。</p></li></ul>            </li><li class="list__item" id="80ef278a">                <p id="e0226c60">在打开的“ <span class="control">管理Composer依赖关系”</span>对话框中，从“ <span class="menupath" data-skip-index="skip">可用软件包”</span>列表中选择所需的<span class="menupath" data-skip-index="skip">软件包</span> 。要查找软件包，请使用搜索字段。 <a name="previouslyInstalledPackages"></a>        该列表显示了所有可用的软件包。已安装的软件包带有复选标记。</p>                <p id="21ca3972">                    <a name="composer_choose_package_version"></a>从“ <span class="control">要安装</span>的<span class="control">版本”</span>列表中选择相关版本。</p>            </li><li class="list__item" id="5e52c5bc">                <p id="446d260c">（可选）定制软件包安装。在<span class="control">命令行参数</span>字段中， <a name="composer_add_dependency_advanced_settings"></a>键入其他命令行参数。</p>            </li><li class="list__item" id="8dea8fe8"><p>单击<span class="control">安装</span>开始安装。要退出对话框，请单击“ <span class="control">关闭”</span> 。</p></li></ol><p id="aee808ed">安装软件包后，PhpStorm将在<span class="filepath">供应商</span>下创建一个新的子文件夹，并将新软件包存储在此子文件夹中。相应的包装记录将添加到<code class="code">require</code>或者<code class="code">require-dev</code> <span class="filepath">composer.json</span>文件的部分以及<a href="https://getcomposer.org/doc/01-basic-usage.md#installing-with-composer-lock" rel="noopener noreferrer" data-external="true" target="_blank">composer.lock</a>文件。</p></section>        <section class="procedure-steps"><h3 id="installing-all-packages-at-once">一次安装所有软件包</h3><p id="2cc13f3c">请执行以下任一操作：</p><ul class="list "><li class="list__item" id="2287b3d9"><p>从<span class="filepath">composer.json</span>上下文菜单中，选择<span class="menupath" data-skip-index="skip">Composer |。安装</span> 。</p></li><li class="list__item" id="e1f7e377"><p>在编辑器中打开<span class="filepath">composer.json</span> ，然后单击编辑器面板顶部的<span class="control">安装</span>快捷方式链接。</p></li><li class="list__item" id="23339e0c"><p>要安装<a href="#default_composer_json">默认composer.json中</a>列出的所有软件包，请选择“ <span class="menupath" data-skip-index="skip">工具” |“其他”。作曲家|</span>从主菜单<span class="menupath" data-skip-index="skip">安装</span> 。</p></li></ul><p id="951ff54f">PhpStorm将安装<code class="code">require</code>和<code class="code">require-dev</code> <span class="filepath">composer.json</span>文件的各个部分。</p></section>    </div>    <div class="chapter"><h2 id="updating-dependencies" data-toc="composer.settings.dialog#updating-dependencies">更新依赖</h2>        <p id="c9c173e6">您可以将特定的软件包分别更新为最新版本，PhpStorm会自动更新<span class="filepath">composer.json</span> 。或者，您可以更新列表中列出的所有软件包。 <code class="code">require</code>和<code class="code">require-dev</code> <span class="filepath">composer.json</span>文件的各个部分。</p>        <section class="procedure-steps"><h3 id="updating-a-specific-package">更新特定的程序包</h3><ol class="list _decimal"><li class="list__item" id="3b2ce68d">                <p id="79b6badb">请执行以下任一操作：</p>                <ul class="list _bullet"><li class="list__item" id="314b265c"><p>从<span class="filepath">composer.json</span>上下文菜单中，选择<span class="menupath" data-skip-index="skip">Composer |。管理依赖项</span> 。</p></li><li class="list__item" id="e53da16b"><p>要从<a href="#default_composer_json">默认的composer.json</a>更新软件包，请选择“ <span class="menupath" data-skip-index="skip">工具” |“工具”。作曲家|</span>从主菜单<span class="menupath" data-skip-index="skip">管理依赖关系</span> 。</p></li></ul>            </li><li class="list__item" id="7c1504a3"><p>从“ <span class="control">可用软件包”</span>列表中选择所需的软件包，并在其中打勾的软件包中单击，然后单击“ <span class="control">更新”</span> 。</p></li></ol></section>        <section class="procedure-steps"><h3 id="updating-all-packages-at-once">一次更新所有软件包</h3><p id="3ca9e64d">请执行以下任一操作：</p><ul class="list "><li class="list__item" id="1eeca0fa"><p>从<span class="filepath">composer.json</span>上下文菜单中，选择<span class="menupath" data-skip-index="skip">Composer |。更新</span> 。</p></li><li class="list__item" id="7192b5da"><p>在编辑器中打开<span class="filepath">composer.json</span> ，然后单击编辑器面板顶部的“ <span class="control">更新”</span>快捷方式链接。</p></li><li class="list__item" id="b1e6eb9f"><p>要更新<a href="#default_composer_json">默认composer.json中</a>列出的所有软件包，请选择“ <span class="menupath" data-skip-index="skip">工具” |“更新”。作曲家|</span>从主菜单<span class="menupath" data-skip-index="skip">安装</span> 。</p></li></ul><p id="21b0a902">PhpStorm更新了<code class="code">require</code>和<code class="code">require-dev</code> <span class="filepath">composer.json</span>文件的各个部分。</p></section>    </div>    <div class="chapter"><h2 id="uninstalling-dependencies" data-toc="composer.settings.dialog#uninstalling-dependencies">卸载依赖项</h2>        <section class="procedure-steps"><ol class="list _decimal"><li class="list__item" id="deeb4eb4">                <p id="921aba28">请执行以下任一操作：</p>                <ul class="list _bullet"><li class="list__item" id="7ab09cb6"><p>从<span class="filepath">composer.json</span>上下文菜单中，选择<span class="menupath" data-skip-index="skip">Composer |。管理依赖项</span> 。</p></li><li class="list__item" id="1e89f08c"><p>要卸载<a href="#default_composer_json">默认composer.json中</a>列出的程序包，请选择“ <span class="menupath" data-skip-index="skip">工具” |“工具”。作曲家|</span>从主菜单<span class="menupath" data-skip-index="skip">管理依赖关系</span> 。</p></li></ul>            </li><li class="list__item" id="79fa87b6"><p>在“ <span class="control">可用软件包”</span>列表中，在标有对号的<span class="control">软件包</span>中选择要卸载的软件包，然后单击“ <span class="control">删除”</span> 。</p></li></ol><p id="74f97bd4">卸载软件包后，PhpStorm会更新<code class="code">require</code>或者<code class="code">require-dev</code> <span class="filepath">composer.json</span>部分自动。</p></section>    </div>    <div class="chapter"><h2 id="composer_log" data-toc="composer.settings.dialog#composer_log">查看作曲家日志</h2>        <p id="composer-json-link">通过PhpStorm界面执行与Composer相关的命令时，该命令的输出将显示在专用的<span class="control">Composer Log</span>控制台中：</p><aside class="prompt" rel="composer-json-link" id="f2578ff8" data-type="tip" data-title="">            <p id="a37bedcb">单击日志中的<span class="filepath">composer.json</span>链接以在编辑器中打开文件。</p>        </aside>        <figure><img alt="Composer日志控制台" title="Composer日志控制台" src="/help/img/idea/2019.3/ps-composer-log-panel.png" id="6de57fe0" class=" _border-line" width="800" height="306"></figure>        <section class="procedure-steps"><h3 id="f41fa672">打开作曲家日志</h3><p id="5acbb1ce">请执行以下任一操作：</p><ul class="list "><li class="list__item" id="3e98ca82">                <p id="9735cf2b">首次执行任何Composer命令后，请单击“ <a href="event-log-tool-window.html">事件日志”</a>通知消息中的<span class="control">“在日志中显示”</span>快捷方式链接：</p>                <figure><img alt="Composer日志通知消息" title="Composer日志通知消息" src="/help/img/idea/2019.3/ps-composer-event-log-message.png" id="daf6a459" width="360" height="178"></figure>            </li><li class="list__item" id="ef5cb91f"><p>在编辑器中打开<span class="filepath">composer.json</span> ，然后单击编辑器面板顶部的<span class="control">Show Log</span>快捷链接。</p></li></ul></section>        <section class="procedure-steps"><h3 id="9620f63b">查看折叠的Composer日志消息</h3><p id="rerun-command">如果Composer命令已成功执行，则<span class="control">Composer Log</span>将折叠其执行详细信息。</p><aside class="prompt" rel="rerun-command" id="a3679795" data-type="tip" data-title="">            <p id="00dfd8b7">要重新运行命令，请单击<img class="inline-icon-16" src="/help/img/idea/2019.3/icons.actions.execute@2x.png" width="16" alt="运行按钮">在排水沟中。</p>        </aside><ul class="list "><li class="list__item" id="d857db03"><p>请点击<img class="inline-icon-16" src="/help/img/idea/2019.3/uiDesigner.com.intellij.uiDesigner.icons.expandNode@2x.png" width="16" alt="展开按钮">在装订线中展开消息。</p></li><li class="list__item" id="055c6ae7">                <p id="b00544d9">将鼠标悬停在省略号上可以在工具提示中查看消息：</p>                <figure><img alt="折叠的Composer日志消息" title="折叠的Composer日志消息" src="/help/img/idea/2019.3/ps-composer-folded-message-hover.png" id="a50088a1" width="767" height="426"></figure>            </li></ul></section>                <p id="634fbbf5">在项目中<a href="#default_composer_json">指定默认的composer.json时</a> ，可以启用PhpStorm与<span class="filepath">composer.json</span>的设置同步。<span class="control">Composer Log</span>会突出显示设置中发生的此类更改。请点击<img class="inline-icon-16" src="/help/img/idea/2019.3/icons.general.settings@2x.png" width="16" alt="设置按钮">在装订线中可以快速导航到相应的<a href="settings-directories.html">目录</a> ， <a href="php.html">PHP</a>或<a href="php-test-frameworks.html">测试框架</a>设置页面。</p>            </div>    <div class="chapter"><h2 id="additional-commands" data-toc="composer.settings.dialog#additional-commands">运行其他Composer命令</h2>                <section class="procedure-steps"><p id="composer_commands_intro">PhpStorm为一组其他Composer命令提供了用户界面。</p><aside class="prompt" rel="composer_commands_intro" id="56dd07af" data-type="tip" data-title="">            <p id="96f0fc19">有关所有Composer命令的详细说明，请参考<a href="https://getcomposer.org/doc/03-cli.md#command-line-interface-commands" rel="noopener noreferrer" data-external="true" target="_blank">Composer文档</a> 。</p>        </aside><ul class="list "><li class="list__item" id="4a2c00c6"><p>从<span class="filepath">composer.json</span>上下文菜单中，选择<span class="menupath" data-skip-index="skip">Composer |。 <command name=""></span> 。</p></li><li class="list__item" id="c8ea83c3"><p>在编辑器中打开<span class="filepath">composer.json</span> ，单击<img class="inline-icon-16" src="/help/img/idea/2019.3/icons.general.gearPlain@2x.png" width="16" alt="设置按钮">在<span class="filepath">composer.json</span>编辑器面板的顶部，然后从列表中选择所需的命令。</p></li><li class="list__item" id="58b62dd7"><p>要为<a href="#default_composer_json">默认的composer.json</a>运行命令，请选择“ <span class="menupath" data-skip-index="skip">工具” |“</span>命令”。 <span class="menupath" data-skip-index="skip">作曲家| <command name="">            </span>从主菜单。</p></li></ul></section>如果未设置Composer执行，“ <span class="control">Composer设置”</span>对话框将打开，提示您<a name="chooseComposerPhar"></a>选择如何执行Composer命令：<ul class="list _bullet"><li class="list__item" id="1835e810"><p>要通过全局安装的<span class="filepath">composer</span>可执行文件运行命令，请选择<span class="control">“ composer”可执行文件</span>并在字段中指定其位置。</p></li><li class="list__item" id="a92a697a">                <p id="d3b5ed5e">要通过本地<span class="filepath">composer.phar</span>存档运行命令，请选择<span class="control">composer.phar</span> 。然后，在字段中指定现有<span class="filepath">composer.phar</span>文件的位置，或选中<span class="control">从getcomposer.org下载composer.phar</span>复选框以下载文件的新实例。 <a name="DownloadedComposerPharLocation"></a>                                                                                    下载的<span class="filepath">composer.phar</span>文件将保存在项目根文件夹下。</p>                <p id="ccefbb40">然后，从<span class="control">PHP解释器</span>列表中选择已配置的本地PHP解释<span class="control">器之一</span> 。有关详细信息，请参考<a href="configuring-local-interpreter.html">配置本地PHP解释器</a> 。</p>            </li><li class="list__item" id="3f82769c">                <p id="88f0301e">要通过远程解释器运行命令，请选择<span class="control">远程解释器</span> 。</p>                <ul class="list _ul"><li class="list__item" id="00ecea93">                        <p id="0d56e114">从<span class="control">CLI解释器</span>列表中，选择要使用的远程解释器，或单击<img class="inline-icon-9" src="/help/img/idea/2019.3/icons.general.ellipsis@2x.png" width="9" alt="图标一般省略号">并按照<a href="configuring-remote-interpreters.html">配置远程PHP解释器中的说明</a>配置一个新的。</p>                        <p id="325f48d7">在大多数情况下，PhpStorm自动检测路径映射。如有必要，可以单击<img class="inline-icon-16" src="/help/img/idea/2019.3/icons.general.openDisk@2x.png" width="16" alt="浏览按钮">在“ <span class="control">路径映射”</span>字段中，然后在打开的“ <a href="edit-project-path-mappings-dialog.html">编辑项目路径映射”对话框</a>中手动指定它们。</p>                    </li><li class="list__item" id="54669da5"><p>在<span class="control">Composer可执行文件</span>字段中，提供<span class="control">Composer可执行文件</span>的名称。您可以点击<img class="inline-icon-16" src="/help/img/idea/2019.3/icons.general.openDisk@2x.png" width="16" alt="浏览按钮"> ，然后在打开的“ <span class="control">在服务器上选择路径”</span>对话框中找到可执行文件。</p></li></ul>                <aside class="prompt" rel="875bdf8a" id="9f6fc110" data-type="note" data-title="">                    <p id="1a4943fb">如果您依赖Docker，则可以使用<a href="https://hub.docker.com/_/composer" rel="noopener noreferrer" data-external="true" target="_blank">composer</a> Official Docker映像，该映像已在PhpStorm中预先配置为远程解释器。该图像不适用于生产用途。如有必要，您可以按照“管理映像”中的说明在PhpStorm中创建和管理自己的Docker <a href="docker.html#managing-images">映像</a> 。</p>                </aside>            </li></ul>            <div class="chapter"><h3 id="validate">验证</h3>            <p id="c4335dbd">运行此命令对<span class="filepath">composer.json</span>文件执行几次有效性检查，建议在将<span class="filepath">composer.json</span>提交到VCS之前进行此检查。验证结果显示在<span class="control">Composer日志</span>控制台中。</p>            <p id="d75cfe68">                <a name="cli_command_alias"></a>等效的<span class="emphasis">Composer</span> CLI命令是<a href="https://getcomposer.org/doc/03-cli.md#validate" rel="noopener noreferrer" data-external="true" target="_blank">validate</a> 。</p>            <p id="cd95a55a">执行命令之前，请在“ <span class="control">验证设置”</span>对话框中选择所需的选项：</p>            <ul class="list _bullet"><li class="list__item" id="069207b7">                    <p id="e8e55a77"><span class="control">允许未绑定版本约束</span> ：如果选中，则版本约束没有上限（例如<code class="code">*</code> ， <code class="code">>3.1</code> ）将被允许。请注意，这将允许对依赖关系的任何将来版本进行更新，如果依赖关系发生意外更改，则可能导致向后兼容性问题。</p>                    <p id="e801be26">                        <a name="cli_command_option_alias"></a> <span class="emphasis">Composer</span> CLI命令的等效选项是<code class="code">--no-check-all</code> 。</p>                </li><li class="list__item" id="d062223b">                    <p id="5abf7804"><span class="control">检查composer.lock达最新</span> ：如果选择，在<span class="filepath">composer.lock</span>列出的版本的限制将针对<span class="filepath">composer.json</span>列出的检查。如果版本限制不匹配，建议通过<a href="#updating-dependencies">更新package</a>来解决。将软件包更新到所需的版本后， <span class="filepath">composer.lock</span>和<span class="filepath">composer.json</span>文件将同步。</p>                    <p id="33b28bd6">                        <a name="cli_command_option_alias"></a> <span class="emphasis">Composer</span> CLI命令的等效选项是<code class="code">--no-check-lock</code> 。</p>                </li><li class="list__item" id="d8b55969">                    <p id="daaff0c5"><span class="control">检查程序包是否已准备就绪</span> ：如果选中，则将根据<a href="https://packagist.org" rel="noopener noreferrer" data-external="true" target="_blank">Packagist</a>发布要求检查程序包的<span class="filepath">composer.json</span> 。通常，对于要准备好打包的包装， <code class="code">name</code> ， <code class="code">description</code>和<code class="code">require</code>必须指定其<span class="filepath">composer.json</span>文件中的部分。有关发布软件包的详细信息，请参阅<a href="https://packagist.org/about" rel="noopener noreferrer" data-external="true" target="_blank">Packagist文档</a> 。</p>                    <p id="5f1a7bd6">                        <a name="cli_command_option_alias"></a> <span class="emphasis">Composer</span> CLI命令的等效选项是<code class="code">--no-check-publish</code> 。</p>                </li><li class="list__item" id="908586c3">                    <p id="646a3881"><span class="control">验证软件包的依赖关系</span> ：如果选中，则还将验证当前软件包的所有已安装依赖关系的<span class="filepath">composer.json</span>文件。</p>                    <p id="9029e7ee">                        <a name="cli_command_option_alias"></a> <span class="emphasis">Composer</span> CLI命令的等效选项是<code class="code">--with-dependencies</code> 。</p>                </li></ul>        </div>        <div class="chapter"><h3 id="dump-autoloader">转储自动装带器</h3>            <p id="52686a9c">运行此命令以生成自动加载的类的列表。如果列表已经存在，它将重新生成。当您在项目中引入新类并需要将其包括在自动加载的类列表中时，这很有用。有关使用Composer自动加载类的更多详细信息，请参考<a href="https://getcomposer.org/doc/01-basic-usage.md#autoloading" rel="noopener noreferrer" data-external="true" target="_blank">Composer文档</a> 。</p>            <p id="c2cd93b8">                <a name="cli_command_alias"></a>等效的<span class="emphasis">Composer</span> CLI命令是<a href="https://getcomposer.org/doc/03-cli.md#dump-autoload-dumpautoload-" rel="noopener noreferrer" data-external="true" target="_blank">dump-autoload</a> 。</p>            <p id="autoloader-settings">在执行命令之前，请在“ <span class="control">自动加载器生成设置”</span>对话框中选择所需的选项：</p><aside class="prompt" rel="autoloader-settings" id="a8585a38" data-type="note" data-title="">                <p id="514be3f4">有关常规自动装带器优化策略的更多详细信息，请参阅<a href="https://getcomposer.org/doc/articles/autoloader-optimization.md" rel="noopener noreferrer" data-external="true" target="_blank">自动装带器优化</a>文章。</p>            </aside>            <ul class="list _bullet"><li class="list__item" id="2e951b54">                    <p id="27538e0c">                        <span class="control">跳过脚本执行</span> ：如果选中，则在<code class="code">scripts</code>未执行<span class="filepath">composer.json</span>文件的部分。</p>                    <p id="fd18a8ca">                        <a name="cli_command_option_alias"></a> <span class="emphasis">Composer</span> CLI命令的等效选项是<code class="code">--no-scripts</code> 。</p>                </li><li class="list__item" id="15378ab0">                    <p id="be3e2671"><span class="control">优化自动加载器（将PSR-0 / 4自动加载器转换为类映射）</span> ：如果选中，Composer将扫描给定的PSR-0 / 4自动加载目录/文件中的<span class="filepath">php</span>和<span class="filepath">inc</span>文件，并生成一个<code class="code">autoload_classmap</code>键值数组以加快自动加载速度。请注意，如果类的数量很大，则运行此命令可能很耗时。</p>                    <p id="8e1e7d65">                        <a name="cli_command_option_alias"></a> <span class="emphasis">Composer</span> CLI命令的等效选项是<code class="code">--optimize</code> 。</p>                </li><li class="list__item" id="06b3fea8">                    <p id="006b24a0"><span class="control">仅从</span>类映射<span class="control">自动加载类</span> ：如果选中，则仅自动加载类映射中列出的类。Composer不会在类映射中未列出的类中搜索后备PSR-4目录。由于这自然需要现有的类映射，因此Composer还将执行<span class="control">Optimize自动加载器（将PSR-0 / 4自动加载器转换为类映射）</span>命令以生成一个命令，这可能是一个耗时的过程。</p>                    <p id="f8ac4669">                        <a name="cli_command_option_alias"></a> <span class="emphasis">Composer</span> CLI命令的等效选项是<code class="code">--classmap-authoritative</code> 。</p>                </li><li class="list__item" id="fcc3ca9a">                    <p id="0f7540f9">                        <span class="control">使用APCu缓存已发现/未找到的类</span> ：如果选中，则将启用通过<a href="http://php.net/manual/en/book.apcu.php" rel="noopener noreferrer" data-external="true" target="_blank">APCu</a>进行缓存。当在类映射中找到（或未找到）一个类时，相应的记录将缓存在APCu中，以便可以在下一个请求时快速检索该记录。</p>                    <p id="cd3a21ee">                        <a name="cli_command_option_alias"></a> <span class="emphasis">Composer</span> CLI命令的等效选项是<code class="code">--apcu</code> 。</p>                </li><li class="list__item" id="dda14446">                    <p id="3dddef2a"><span class="control">禁用autoload-dev依赖项</span> ：如果选中，则自动加载的名称空间和文件将列在<code class="code">autoload-dev</code>部分不包括在自动加载的类列表中。</p>                    <p id="e3530c3b">                        <a name="cli_command_option_alias"></a> <span class="emphasis">Composer</span> CLI命令的等效选项是<code class="code">--no-dev</code> 。</p>                </li></ul>                    </div>        <div class="chapter"><h3 id="check-for-changes-in-dependencies">检查依存关系的变化</h3>            <p id="1adc1fb9">运行此命令以检查软件包依赖项的代码中是否有任何本地更改。</p>            <p id="2241f599">                <a name="cli_command_alias"></a>等效的<span class="emphasis">Composer</span> CLI命令为<a href="https://getcomposer.org/doc/03-cli.md#status" rel="noopener noreferrer" data-external="true" target="_blank">status</a> 。</p>        </div>        <div class="chapter"><h3 id="clear-cache">清除缓存</h3>            <p id="0e1f6dd3">运行此命令以删除Composer的缓存目录，该目录包含下载的软件包。默认情况下，缓存目录在Windows上设置为<span class="filepath">C：\ Users \ <user>\ AppData \ Local \ Composer</user></span> ，在Linux和macOS上设置为<span class="filepath">〜/ .composer / cache</span> 。有关详细信息，请参考<a href="https://getcomposer.org/doc/06-config.md#cache-dir" rel="noopener noreferrer" data-external="true" target="_blank">Composer文档</a> 。</p>            <p id="27c6b05c">                <a name="cli_command_alias"></a>等效的<span class="emphasis">Composer</span> CLI命令是<a href="https://getcomposer.org/doc/03-cli.md#clear-cache-clearcache-" rel="noopener noreferrer" data-external="true" target="_blank">clear-cache</a> 。</p>        </div>        <div class="chapter"><h3 id="list-licenses">列出许可证</h3>            <p id="44846683">运行此命令以查看每个已安装软件包的名称，版本和许可证类型。</p>            <p id="27969d85">                <a name="cli_command_alias"></a>等效的<span class="emphasis">Composer</span> CLI命令是<a href="https://getcomposer.org/doc/03-cli.md#licenses" rel="noopener noreferrer" data-external="true" target="_blank">licenses</a> 。</p>        </div>        <div class="chapter"><h3 id="diagnose">诊断</h3>            <p id="a2b57a1b">运行此命令以针对最常见的Composer问题（例如，连接问题，使用的Composer / PHP版本，可用磁盘空间， <span class="filepath">composer.json</span>有效性）执行自动检查。如果未发现问题，请参阅《 <a href="https://getcomposer.org/doc/articles/troubleshooting.md" rel="noopener noreferrer" data-external="true" target="_blank">Composer故障排除指南》</a> 。</p>            <p id="9b2afd46">                <a name="cli_command_alias"></a>等效的<span class="emphasis">Composer</span> CLI命令是<a href="https://getcomposer.org/doc/03-cli.md#diagnose" rel="noopener noreferrer" data-external="true" target="_blank">diagnostic</a> 。</p>        </div>        <div class="chapter"><h3 id="self-update">自我更新</h3>            <p id="6b2e0805">运行此命令以将Composer本身（即<span class="filepath">composer.phar</span>文件）更新为最新版本。</p>            <p id="ac230f39">                <a name="cli_command_alias"></a>等效的<span class="emphasis">Composer</span> CLI命令是<a href="https://getcomposer.org/doc/03-cli.md#self-update-selfupdate-" rel="noopener noreferrer" data-external="true" target="_blank">self-update</a> 。</p>        </div>    </div>    <div class="chapter"><h2 id="enableComposerInProduct" data-toc="composer.settings.dialog#enableComposerInProduct">从命令行运行Composer</h2>                <p id="plugins_note">命令行模式为您提供了完整的Composer命令。要在此模式下使用Composer，您需要将其配置为外部命令行工具。有关使用命令行工具的详细信息，请参阅<a href="php-specific-command-line-tools.html">PHP命令行工具</a> 。</p>        <p id="738cf1b2">您可以配置Composer的多个实例，并通过在<a href="#initializing_in_existing_project">Composer初始化</a>期间指定相关的一个在一个项目之间切换到另一个项目。</p>                <aside class="prompt" rel="738cf1b2" id="9d73d5ac" data-type="note" data-title="">            <p id="8c68b87a">                <a name="ps_command_line_tools_work_with_local_interpreter_note"></a>命令行工具仅适用于<a href="configuring-local-interpreter.html">本地PHP解释器</a> 。</p>        </aside>        <section class="procedure-steps"><h3 id="3e063c3a">将Composer配置为命令行工具</h3><a name="integrate_built_in_cli_tool"></a><ol class="list _decimal"><li class="list__item" id="3cb4f276">            <p id="a7d1cc49"><a name="open_settings"></a>在里面<a name="settings_dialog"></a> <span class="control">设置/首选项</span>对话框<kbd data-primary_default_for_windows="Ctrl+Alt+S" data-primary_default_for_macos="⌘+Comma" data-primary_intellij_idea_classic_macos="⌘+Comma" data-primary_emacs="Ctrl+Alt+S" data-primary_visual_studio="Alt+F7" data-primary_default_for_xwin="Ctrl+Alt+S" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-primary_eclipse_macos="⌘+Comma" data-primary_netbeans="Ctrl+Alt+S" data-primary_sublime_text="Ctrl+Alt+S" data-primary_sublime_text_macos="⌘+Comma" data-secondary_default_for_windows="⌃⌥S" data-secondary_default_for_macos="⌘," data-secondary_intellij_idea_classic="⌘," data-secondary_emacs="⌃⌥S" data-secondary_visual_studio="⌥F7" data-secondary_default_for_xwin="⌃⌥S" data-secondary_default_for_gnome="⌃⌥S" data-secondary_default_for_kde="⌃⌥S" data-secondary_eclipse="⌃⌥S" data-secondary_eclipse_macos="⌘," data-secondary_netbeans="⌃⌥S" data-secondary_sublime_text="⌃⌥S" data-secondary_sublime_text_macos="⌘,">Ctrl+Alt+S</kbd> ，转到<span class="menupath" data-skip-index="skip">工具|命令行工具支持</span> 。</p>        </li><li class="list__item" id="2c49bcc3">            <p id="visibility_level">请点击<img class="inline-icon-16" src="/help/img/idea/2019.3/icons.general.add@2x.png" width="16" alt="添加按钮">在工具栏上。</p>        </li><li class="list__item" id="e235ac18">            <p id="399da9bc">在“ <span class="control">命令行工具”</span>对话框中，从列表中选择<span class="control">Composer</span> ，然后指定其可见性级别（ <span class="control">Project</span>或<span class="control">Global</span> ）。</p>            <figure><img alt="命令行工具对话框" title="命令行工具对话框" src="/help/img/idea/2019.3/ps_cli_composer_dialog.png" id="b6433949" width="400" height="294"></figure>        </li><li class="list__item" id="c4ef90b6">            <p id="5106319e">单击<span class="control">确定时</span> ，对话框将打开。</p>                                                                                        <p id="48eab2d0">通过选择以下选项之一来指定启动Composer的方式： <span class="control">composer.phar或php脚本</span>或<span class="control">composer可执行文件</span> 。根据您的选择，指定PHP安装文件夹和<span class="filepath">composer.phar</span>或<span class="filepath">composer</span>可执行文件的路径。</p>                <p id="144de64f">                    <a name="parsing_phar_or_exe_for_composer_commands"></a> PhpStorm解析Composer命令的指定<span class="filepath">.phar</span>存档或可执行文件的内容。文件分析完成后，PhpStorm将返回“ <span class="control">命令行工具支持”</span>页面，在该页面上将指定文件添加到PhpStorm中可用的命令行工具列表中。</p>                    </li><li class="list__item" id="149e994b"><p>            <a name="customize_built_in_cli_tool"></a>单击“ <span class="control">确定”</span>以应用更改并返回“ <span class="control">命令行工具支持”</span>页面。（可选）单击<img class="inline-icon-16" src="/help/img/idea/2019.3/icons.actions.edit@2x.png" width="16" alt="编辑按钮">编辑工具属性，或<img class="inline-icon-16" src="/help/img/idea/2019.3/icons.actions.editSource@2x.png" width="16" alt="编辑源按钮">自定义命令集。有关详细信息，请参见<a href="php-specific-command-line-tools.html#customize_tool_definition">自定义工具</a> 。</p></li></ol></section>        <section class="procedure-steps"><h3 id="6f5e79b5">运行Composer命令</h3><ul class="list "><li class="list__item" id="02bb72e6">                <a name="ps_run_command_line_tool_command"></a>                        <p id="5698992e">在主菜单中，选择“ <span class="menupath" data-skip-index="skip">工具” |“工具”。运行命令</span>或按<kbd data-primary_default_for_windows="Ctrl" data-primary_default_for_macos="Ctrl" data-primary_intellij_idea_classic_macos="Ctrl" data-primary_emacs="Ctrl" data-primary_visual_studio="Ctrl" data-primary_default_for_xwin="Ctrl" data-primary_default_for_gnome="Ctrl" data-primary_default_for_kde="Ctrl" data-primary_eclipse="Ctrl" data-primary_eclipse_macos="Ctrl" data-primary_netbeans="Ctrl" data-primary_sublime_text="Ctrl" data-primary_sublime_text_macos="Ctrl" data-secondary_default_for_windows="^" data-secondary_default_for_macos="^" data-secondary_intellij_idea_classic="^" data-secondary_emacs="^" data-secondary_visual_studio="^" data-secondary_default_for_xwin="^" data-secondary_default_for_gnome="^" data-secondary_default_for_kde="^" data-secondary_eclipse="^" data-secondary_eclipse_macos="^" data-secondary_netbeans="^" data-secondary_sublime_text="^" data-secondary_sublime_text_macos="^">Ctrl</kbd>两次。</p>        <p id="fb1ce92b">在打开的<span class="control">“运行任何内容”</span>窗口中，在<code class="code"><c> <command></code>格式。</p>        <p id="2574d2be">命令执行结果显示在“ <a href="run-tool-window.html">运行工具”窗口中</a> 。</p>                <figure id="f0b561b0" width="800" data-theme="light"><img class="js-gif" src="/help/img/idea/2019.3/ps_run_cli_tool_composer.png" width="800" data-gif-src="/help/img/idea/2019.3/ps_run_cli_tool_composer.animated.gif" style="width:800px"></figure>                </li></ul></section>        <section class="procedure-steps"><h3 id="terminate-command">终止命令</h3><ul class="list "><li class="list__item" id="b526affd"><p>请点击<img class="inline-icon-16" src="/help/img/idea/2019.3/icons.actions.suspend@2x.png" width="16" alt="停止按钮">在<a href="run-tool-window.html">运行工具窗口</a>工具栏上。</p></li></ul></section>    </div>    <div class="last-modified" data-skip-index="skip">上次修改时间：2019年11月29日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="keeping-namespaces-in-compliance-with-psr0-and-psr4.html">在项目中配置PHP命名空间</a> <a class="navigation-links__next" href="creating-and-managing-projects.html">创建和管理项目</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>