<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>Analyze duplicates - Help | PhpStorm</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body data-id="procedures.workingwithmodules.duplicates" data-breadcrumbs="Working_with_source_code.xml|Working with source code/Analyzing Applications/Analyzing_Duplicates.xml|Analyze duplicates" data-main-title="Analyze duplicates" data-article-props="&#xA;                {&#xA;                &#xA;            &#34;seeAlso&#34;:[&#xA;            &#xA;                {&#34;title&#34;: &#34;Procedures&#34;,&#xA;                 &#34;links&#34;: [&#xA;                &#xA;        {&#34;url&#34;:&#34;extract-method.html&#34;,&#34;text&#34;:&#34;Extract method&#34;}&#xA;    ,&#xA;        {&#34;url&#34;:&#34;code-inspection.html&#34;,&#34;text&#34;:&#34;Code inspections&#34;}&#xA;    &#xA;                    ]},&#xA;                {&#34;title&#34;: &#34;Reference&#34;,&#xA;                 &#34;links&#34;: [&#xA;                &#xA;        {&#34;url&#34;:&#34;specify-code-duplication-analysis-scope.html&#34;,&#34;text&#34;:&#34;Specify Code Duplication Analysis Scope&#34;}&#xA;    ,&#xA;        {&#34;url&#34;:&#34;code-duplication-analysis-settings.html&#34;,&#34;text&#34;:&#34;Code Duplication Analysis Settings&#34;}&#xA;    ,&#xA;        {&#34;url&#34;:&#34;duplicates-tool-window.html&#34;,&#34;text&#34;:&#34;Duplicates Tool Window&#34;}&#xA;    &#xA;                    ]},&#xA;                {&#34;title&#34;: &#34;Web Resources&#34;,&#xA;                 &#34;links&#34;: [&#xA;                &#xA;        {&#34;url&#34;:&#34;http://www.jetbrains.net/devnet/community/wi&#34;,&#34;text&#34;:&#34;Discussion Forum&#34;}&#xA;    ,&#xA;        {&#34;url&#34;:&#34;http://youtrack.jetbrains.com/issues/WI&#xA;            &#34;,&#34;text&#34;:&#34;Issue Tracker&#34;}&#xA;    &#xA;                    ]}&#xA;            ]&#xA;        &#xA;                }&#xA;            "><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search PhpStorm Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>PhpStorm 2019.3 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="primary" value="primary_default_for_windows" selected>Default for Windows</option><option data-group="primary" value="primary_default_for_macos">Default for macOS</option><option data-group="primary" value="primary_intellij_idea_classic_macos">IntelliJ IDEA Classic (macOS)</option><option data-group="primary" value="primary_emacs">Emacs</option><option data-group="primary" value="primary_visual_studio">Visual Studio</option><option data-group="primary" value="primary_default_for_xwin">Default for XWin</option><option data-group="primary" value="primary_default_for_gnome">Default for GNOME</option><option data-group="primary" value="primary_default_for_kde">Default for KDE</option><option data-group="primary" value="primary_eclipse">Eclipse</option><option data-group="primary" value="primary_eclipse_macos">Eclipse (macOS)</option><option data-group="primary" value="primary_netbeans">NetBeans</option><option data-group="primary" value="primary_sublime_text">Sublime Text</option><option data-group="primary" value="primary_sublime_text_macos">Sublime Text (macOS)</option><option data-group="secondary" value="secondary_default_for_windows">Default for Windows</option><option data-group="secondary" value="secondary_default_for_macos">Default for macOS</option><option data-group="secondary" value="secondary_intellij_idea_classic">IntelliJ IDEA Classic</option><option data-group="secondary" value="secondary_emacs">Emacs</option><option data-group="secondary" value="secondary_visual_studio">Visual Studio</option><option data-group="secondary" value="secondary_default_for_xwin">Default for XWin</option><option data-group="secondary" value="secondary_default_for_gnome">Default for GNOME</option><option data-group="secondary" value="secondary_default_for_kde">Default for KDE</option><option data-group="secondary" value="secondary_eclipse">Eclipse</option><option data-group="secondary" value="secondary_eclipse_macos">Eclipse (macOS)</option><option data-group="secondary" value="secondary_netbeans">NetBeans</option><option data-group="secondary" value="secondary_sublime_text">Sublime Text</option><option data-group="secondary" value="secondary_sublime_text_macos">Sublime Text (macOS)</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 data-toc="procedures.workingwithmodules.duplicates" id="Analyzing_Duplicates.xml">Analyze duplicates</h1>                                              <p id="1b2073bc">PhpStorm helps you find repetitive blocks of code in a certain set of files by means of the            <span class="control">Duplicated code fragment</span> <a href="code-inspection.html">inspection</a>.            If you create a duplicate by writing or pasting code, PhpStorm highlights it right away and suggests            quick-fixes.        </p>        <p id="1bf2e26a">To see all duplicates in the selected set of files at once,  <a href="running-inspections.html#run-one-inspection">run the inspection by name</a>.</p>        <p id="694f84f0">The inspection works out of the box and has <a href="#configure-inspection">a number of settings</a> that you can change to adjust its behavior.</p>                <figure><img alt="Detecting duplicates on-fly" title="Detecting duplicates on-fly" src="/help/img/idea/2019.3/ps_detect_duplicates.png" id="090c6325" class=" _border-line" width="800" height="300"></figure>                            <section class="procedure-steps"><h3 id="configure-inspection">Configure the inspection</h3><ol class="list _decimal"><li class="list__item" id="b2d28550">            <p id="a20fa11f">                <a name="open_settings"></a>                In the        <a name="settings_dialog"></a>        <span class="control">Settings/Preferences</span> dialog <kbd data-primary_default_for_windows="Ctrl+Alt+S" data-primary_default_for_macos="⌘+Comma" data-primary_intellij_idea_classic_macos="⌘+Comma" data-primary_emacs="Ctrl+Alt+S" data-primary_visual_studio="Alt+F7" data-primary_default_for_xwin="Ctrl+Alt+S" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-primary_eclipse_macos="⌘+Comma" data-primary_netbeans="Ctrl+Alt+S" data-primary_sublime_text="Ctrl+Alt+S" data-primary_sublime_text_macos="⌘+Comma" data-secondary_default_for_windows="⌃⌥S" data-secondary_default_for_macos="⌘," data-secondary_intellij_idea_classic="⌘," data-secondary_emacs="⌃⌥S" data-secondary_visual_studio="⌥F7" data-secondary_default_for_xwin="⌃⌥S" data-secondary_default_for_gnome="⌃⌥S" data-secondary_default_for_kde="⌃⌥S" data-secondary_eclipse="⌃⌥S" data-secondary_eclipse_macos="⌘," data-secondary_netbeans="⌃⌥S" data-secondary_sublime_text="⌃⌥S" data-secondary_sublime_text_macos="⌘,">Ctrl+Alt+S</kbd>, go to <span data-skip-index="skip" class="menupath">Editor | Inspections</span>.            </p>            <figure><img alt="Duplicated Code Fragment inspection settings" title="Duplicated Code Fragment inspection settings" src="/help/img/idea/2019.3/ps_duplicated_code_fragment_inspection_settings.png" id="92d12424" width="686" height="1056"></figure>                                </li><li class="list__item" id="d986e6d7"><p>            Make sure that the necessary <a href="customizing-profiles.html">inspection profile</a> is selected in the <span class="control">Profile</span> list.        </p></li><li class="list__item" id="a9102465">            <p id="d208703a">                In the search field of the <span class="control">Inspections</span> dialog, type <code class="code">duplicated code fragment</code>                to locate the inspection in the list.</p>            <p id="settings">                Once you click the inspection, its settings appear on the right.            </p>            <ul class="list _bullet"><li class="list__item" id="ded6d6f3"><p>                    <span class="control">Severity</span>: select a <a href="configuring-inspection-severities.html">severity level</a> from the                    list or <a href="configuring-inspection-severities.html#new_severity">create a new one</a>.                </p></li><li class="list__item" id="82358ce7"><p>                    <span class="control">Scope</span>: select the scope of files in which the inspection is going to operate                    (the code on which the inspection in going to run).                </p></li><li class="list__item" id="2bb28e5f">                    <p id="89ebe902">                        <span class="control">Show duplicates from</span>: select the set of files from which duplicates are                        going to be shown.                    </p>                    <p id="1ef77469">                        You can restrict the analysis to see duplicates only from the same module or from the same                        file to avoid false-positive results.                    </p>                </li><li class="list__item" id="0e7eb6bf">                    <p id="703dc28b">                        <span class="control">Skip duplicates simpler than</span>: configure the size of the code fragment                        that is compared against the rest of the code in the selected set of files in units.                    </p>                    <p id="aef68a08">                        The default value is a compromise between accuracy and the amount of found duplicates.                        Increase the value to get more accurate results. Decrease the value to find more duplicates.                    </p>                    <p id="1845b7e4">                        The exact value of units can be calculated as follows:                        <code class="code">units = 2 * number of statements + number of expressions</code>.                    </p>                </li><li class="list__item" id="ebd61159"><p>                    Select the languages for which this inspection is going to work.                </p></li></ul>        </li><li class="list__item" id="e4ac6708"><p>            Apply the changes and close the dialog.        </p></li></ol></section>            <section class="procedure-steps"><h3 id="anonymize-constructs">Anonymize constructs</h3><p id="ad7d171c">                        You can configure the constructs that you want to anonymize for each file type. This means that you            can define whether two identical entities that use different names or values should be treated as duplicates.                                </p><ol class="list _decimal"><li class="list__item" id="0145eea7">            <p id="0521f6bd">Click the link in the inspection description, or <a name="open_settings"></a>                open the        <a name="settings_dialog"></a>        <span class="control">Settings/Preferences</span> dialog <kbd data-primary_default_for_windows="Ctrl+Alt+S" data-primary_default_for_macos="⌘+Comma" data-primary_intellij_idea_classic_macos="⌘+Comma" data-primary_emacs="Ctrl+Alt+S" data-primary_visual_studio="Alt+F7" data-primary_default_for_xwin="Ctrl+Alt+S" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-primary_eclipse_macos="⌘+Comma" data-primary_netbeans="Ctrl+Alt+S" data-primary_sublime_text="Ctrl+Alt+S" data-primary_sublime_text_macos="⌘+Comma" data-secondary_default_for_windows="⌃⌥S" data-secondary_default_for_macos="⌘," data-secondary_intellij_idea_classic="⌘," data-secondary_emacs="⌃⌥S" data-secondary_visual_studio="⌥F7" data-secondary_default_for_xwin="⌃⌥S" data-secondary_default_for_gnome="⌃⌥S" data-secondary_default_for_kde="⌃⌥S" data-secondary_eclipse="⌃⌥S" data-secondary_eclipse_macos="⌘," data-secondary_netbeans="⌃⌥S" data-secondary_sublime_text="⌃⌥S" data-secondary_sublime_text_macos="⌘,">Ctrl+Alt+S</kbd>         and                go to <span data-skip-index="skip" class="menupath">Editor | Duplicates</span>.            </p>            <figure><img alt="Anonymize constructs" title="Anonymize constructs" src="/help/img/idea/2019.3/ps_duplicates-constructs.png" id="76383a8d" width="800" height="650"></figure>                                </li><li class="list__item" id="0698b40d">            <p id="a0a3d229">                Select the file types to which the analysis should apply and select the checkboxes next to the constructs                that you want to anonymize.            </p>            <p id="a58c1e40">                For example, if the <span class="control">Variable or identifier names</span> and <span class="control">Function or field names</span> are enabled, the following two functions will be considered duplicate:            </p>            <p id="f9e61a20">                <div class="code-block" data-lang="php">
                    function multiply($a, $b)
                    {
                        return ($a * $b);
                    }

                    function multiplicator($c, $d)
                    {
                        return ($c * $d);
                    }
                </div>                                            </p>        </li><li class="list__item" id="a42df7ed"><p>            Apply the changes and close the dialog.        </p></li></ol><p id="3aaed00c">            The dialog also allows you to completely exclude a language from the analysis and indexing. If you            disable a language on this page, this language will be hidden in the <a href="#settings">inspection settings</a>.        </p></section>    <section class="procedure-steps"><h3 id="search-duplicates">Search for duplicates manually (deprecated)</h3><aside data-type="note" class="prompt" data-title="" rel="search-duplicates" id="3e9c2235">            <p id="ed7cedd6">This option has been deprecated and is going to be removed soon.</p>        </aside><ol class="list _decimal"><li class="list__item" id="c1e9342c"><p>From the main menu, select <span data-skip-index="skip" class="menupath">Code | Locate Duplicates</span>.</p></li><li class="list__item" id="f7bc5e48"><p>            In the <span class="control">Specify Code Duplication Analysis Scope</span> dialog,            specify the analysis scope: whole project, current file, uncommitted files (for the projects under            version control), or some custom scope. In addition, you can include test sources into the analysis, too.        </p></li><li class="list__item" id="14b5c1e2">            <p id="2328e734">In the <span class="control">Code Duplication Analysis Settings</span> dialog, select the languages that you want to analyze.</p>            <p id="05ef364f">For each language, check the options to define the analysis preferences.                For example, you can opt to request identical match for code fragments to be considered duplicates,                or specify a certain limit below which the code constructs are not considered duplicates (for example, to avoid                reporting each <code class="code">if</code> construct in the source code).            </p>        </li><li class="list__item" id="409dc447">            <p id="a06a2dc0">In the <a href="duplicates-tool-window.html">Duplicates tool window</a>, explore the analysis results.</p>                                                <figure><img alt="Duplicates tool window" title="Duplicates tool window" src="/help/img/idea/2019.3/ps_analyzeDuplicates_tool_window.png" id="9961ffbb" width="800" height="510"></figure>            <ul class="list _ul"><li class="list__item" id="83cecd95"><p>                    View the list of duplicates in the left pane of the tool window.</p></li><li class="list__item" id="9a8ed3a2"><p>                    View the differences between the found duplicates in the right pane. Use the arrow buttons to                    place the selected duplicate in one of the sections of the differences viewer and                    compare fragments of the code.                </p></li><li class="list__item" id="2844f0cc"><p>                    Navigate to the duplicates in the editor by using the <span class="control">Jump to Source</span> or                <span class="control">Show Source</span> context menu commands.                </p></li><li class="list__item" id="aafe362d"><p>                      Eliminate duplicates from the source code by applying the                                            <a href="extract-method.html">Extract method refactoring</a>                                                                  to the detected repetitive blocks of code that are found and highlighted automatically.</p></li></ul>            </li></ol></section>  <div class="last-modified" data-skip-index="skip">Last modified: 29 November 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="navigating-from-stacktrace-to-source-code.html">Navigating from Stacktrace to Source Code</a><a class="navigation-links__next" href="tutorial-using-textmate-bundles.html">TextMate Bundles</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>