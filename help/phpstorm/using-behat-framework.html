<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>Testing with Behat - Help | PhpStorm</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body data-id="Using_Behat_Framework" data-breadcrumbs="Testing and Profiling/Testing.xml|Testing/Using_Behat_Framework.xml|Testing with Behat" data-main-title="Testing with Behat" data-article-props="&#xA;                {&#xA;                &#xA;            &#34;seeAlso&#34;:[&#xA;            &#xA;                {&#34;title&#34;: &#34;Procedures&#34;,&#xA;                 &#34;links&#34;: [&#xA;                &#xA;        {&#34;url&#34;:&#34;creating-run-debug-configuration-for-tests.html&#34;,&#34;text&#34;:&#34;Creating run/debug configurations for tests&#34;}&#xA;    &#xA;                    ]},&#xA;                {&#34;title&#34;: &#34;Reference&#34;,&#xA;                 &#34;links&#34;: [&#xA;                &#xA;        {&#34;url&#34;:&#34;php-test-frameworks.html&#34;,&#34;text&#34;:&#34;Test Frameworks&#34;}&#xA;    ,&#xA;        {&#34;url&#34;:&#34;run-debug-configuration-behat.html&#34;,&#34;text&#34;:&#34;Run/Debug Configuration: Behat&#34;}&#xA;    ,&#xA;        {&#34;url&#34;:&#34;test-runner-tab.html&#34;,&#34;text&#34;:&#34;Test Runner Tab&#34;}&#xA;    &#xA;                    ]},&#xA;                {&#34;title&#34;: &#34;Web Resources&#34;,&#xA;                 &#34;links&#34;: [&#xA;                &#xA;        {&#34;url&#34;:&#34;http://www.jetbrains.net/devnet/community/wi&#34;,&#34;text&#34;:&#34;Discussion Forum&#34;}&#xA;    ,&#xA;        {&#34;url&#34;:&#34;http://youtrack.jetbrains.com/issues/WI&#xA;            &#34;,&#34;text&#34;:&#34;Issue Tracker&#34;}&#xA;    &#xA;                    ]}&#xA;            ]&#xA;        &#xA;                }&#xA;            "><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search PhpStorm Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>PhpStorm 2019.3 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="primary" value="primary_default_for_windows" selected>Default for Windows</option><option data-group="primary" value="primary_default_for_macos">Default for macOS</option><option data-group="primary" value="primary_intellij_idea_classic_macos">IntelliJ IDEA Classic (macOS)</option><option data-group="primary" value="primary_emacs">Emacs</option><option data-group="primary" value="primary_visual_studio">Visual Studio</option><option data-group="primary" value="primary_default_for_xwin">Default for XWin</option><option data-group="primary" value="primary_default_for_gnome">Default for GNOME</option><option data-group="primary" value="primary_default_for_kde">Default for KDE</option><option data-group="primary" value="primary_eclipse">Eclipse</option><option data-group="primary" value="primary_eclipse_macos">Eclipse (macOS)</option><option data-group="primary" value="primary_netbeans">NetBeans</option><option data-group="primary" value="primary_sublime_text">Sublime Text</option><option data-group="primary" value="primary_sublime_text_macos">Sublime Text (macOS)</option><option data-group="secondary" value="secondary_default_for_windows">Default for Windows</option><option data-group="secondary" value="secondary_default_for_macos">Default for macOS</option><option data-group="secondary" value="secondary_intellij_idea_classic">IntelliJ IDEA Classic</option><option data-group="secondary" value="secondary_emacs">Emacs</option><option data-group="secondary" value="secondary_visual_studio">Visual Studio</option><option data-group="secondary" value="secondary_default_for_xwin">Default for XWin</option><option data-group="secondary" value="secondary_default_for_gnome">Default for GNOME</option><option data-group="secondary" value="secondary_default_for_kde">Default for KDE</option><option data-group="secondary" value="secondary_eclipse">Eclipse</option><option data-group="secondary" value="secondary_eclipse_macos">Eclipse (macOS)</option><option data-group="secondary" value="secondary_netbeans">NetBeans</option><option data-group="secondary" value="secondary_sublime_text">Sublime Text</option><option data-group="secondary" value="secondary_sublime_text_macos">Sublime Text (macOS)</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 data-toc="Using_Behat_Framework" id="Using_Behat_Framework.xml">Testing with Behat</h1>                        <p id="a560789d">        With PhpStorm, you can practice behaviour-driven development by running <span class="emphasis">scenarios</span> using the <span class="emphasis">Behat</span> framework.        Currently PhpStorm supports integration with <a href="http://docs.behat.org/en/v3.0/" data-external="true" target="_blank" rel="noopener noreferrer">Behat 3</a> and <a href="http://docs.behat.org/en/v2.5/" data-external="true" target="_blank" rel="noopener noreferrer">Behat 2</a> versions.    </p>    <p id="1957da33">        Native support of Behat in PhpStorm includes:    </p>    <ul class="list _bullet"><li class="list__item" id="f3508702"><p>            Recognition of and coding assistance for <span class="filepath">feature</span> scenario files and <span class="filepath">PHP</span> scenario definition files.        </p></li><li class="list__item" id="b095ef1c"><p>            <a href="https://github.com/cucumber/cucumber/wiki/Gherkin" data-external="true" target="_blank" rel="noopener noreferrer">Gherkin</a> syntax support in <span class="filepath">feature</span> files:            <code class="code">Feature</code>, <code class="code">Scenario</code>, <code class="code">Given</code>, <code class="code">When</code>,            <code class="code">Then</code>, <code class="code">And</code>, and <code class="code">But</code> keywords.        </p></li><li class="list__item" id="fbee7aba"><p>            Recognition of <code class="code">@given</code>, <code class="code">@when</code>, and <code class="code">@then</code> annotations in definition files.        </p></li><li class="list__item" id="028a4205"><p>            Setting correspondence between <span class="emphasis">scenarios</span> and their <span class="emphasis">definitions</span> through regular expressions in accordance with the <a href="http://www.pcre.org/" data-external="true" target="_blank" rel="noopener noreferrer">PCRE</a> standard for Behat 2.4 and PCRE+ for Behat 3.0. <a href="http://cukes.narkive.com/eAlea2Oy/cucumber-turnip-expressions-in-cucumber" data-external="true" target="_blank" rel="noopener noreferrer">Turnip expressions</a> are also welcome.        </p></li></ul>    <div class="chapter"><h2 id="php_test_frameworks_behat_before_you_start" data-toc="Using_Behat_Framework#php_test_frameworks_behat_before_you_start">Before you start</h2>                <p id="f5e54724">            <a name="makeSurePhpInterpreterInstalledAndConfigured"></a>                Make sure the PHP interpreter is configured in PhpStorm on the <a href="php.html">PHP page</a>,    as described in <a href="configuring-local-interpreter.html">Configuring Local PHP Interpreters</a> and <a href="configuring-remote-interpreters.html">Configuring Remote PHP Interpreters</a>.                Note that Behat 3 requires PHP 5.5 and later.        </p>    </div>    <div class="chapter"><h2 id="php_test_frameworks_behat_download" data-toc="Using_Behat_Framework#php_test_frameworks_behat_download">Downloading and installing Behat</h2>            <p id="6b5cf56b">                Before you start, <a name="composer-prereq"></a>                make sure Composer is installed on your machine and initialized in the current project as described in <a href="using-the-composer-dependency-manager.html">Composer Dependency Manager</a>.                </p>            <section class="procedure-steps"><h3 id="245df197">Download Behat installation package manually</h3><ul class="list "><li class="list__item" id="b062af74">                    <a name="manual_test_framework_download"></a>                                        <p id="2aa8e03d">        Download <span class="filepath">behat.phar</span> from the <a href="https://github.com/Behat/Behat/releases" data-external="true" target="_blank" rel="noopener noreferrer">Behat Downloads page</a> and save it on your computer:        </p>        <ul class="list _bullet"><li class="list__item" id="244a2a5c"><p>                If you need full coding assistance in addition to the ability of running Behat tests, store <span class="filepath">behat.phar</span> under the root of the project where Behat will be later used.            </p></li><li class="list__item" id="3608d293"><p>                If you only need to run Behat tests and you do not need any coding assistance, you can save <span class="filepath">behat.phar</span> outside the project.            </p></li></ul>                    </li></ul></section>            <section class="procedure-steps"><h3 id="behat_install_with_composer">Download and install Behat with Composer</h3><a name="install_composer_package"></a><ol class="list _decimal"><li class="list__item" id="eb4fb2c6"><p>            From the <span class="filepath">composer.json</span> context menu, choose <span data-skip-index="skip" class="menupath">Composer | Manage            Dependencies</span>. Alternatively choose <span data-skip-index="skip" class="menupath">Tools | Composer | Manage Dependencies</span> from the main menu.        </p></li><li class="list__item" id="c647682b">            <p id="c29227ee">In the                <a href="add-composer-dependency.html">Manage Composer Dependencies Dialog</a>                that opens, select the <span class="emphasis">behat/behat</span> package from the <span class="control">Available Packages                </span> list,                possibly using the search field.            </p>            <p id="b7c2e233">                <a name="composer_choose_package_version"></a>        Choose the relevant version from the <span class="control">Version to install</span> list.                </p>        </li><li class="list__item" id="71146d08">            <p id="407bb127">If necessary, expand the <span class="control">Settings</span> hidden area and specify the advanced installation                options. In the <span class="control">Command line parameters</span> field,                <a name="composer_add_dependency_advanced_settings"></a>                type the additional command line parameters.                        </p>        </li><li class="list__item" id="ac3374f3"><p>            Click <span class="control">Install</span>.        </p></li></ol></section>            <p id="3a164676">                Learn more about installing Behat from <a href="http://behat.org/en/latest/quick_start.html#installation" data-external="true" target="_blank" rel="noopener noreferrer">Behat Official website</a>.            </p>    </div>    <div class="chapter"><h2 id="php_test_frameworks_behat_integrate" data-toc="Using_Behat_Framework#php_test_frameworks_behat_integrate">Integrating Behat with PhpStorm in a project</h2>                                <a name="automatic_setup_test_framework"></a>                                        <p id="ec480754">            If you use a <a href="configuring-local-interpreter.html">local PHP interpreter</a>, PhpStorm            performs initial Behat configuration automatically. In the case of <a href="configuring-remote-interpreters.html">remote            PHP interpreters</a>, manual Behat configuration is required.        </p>        <section class="procedure-steps"><h3 id="6ec65560">Configure Behat automatically</h3><ol class="list _decimal"><li class="list__item" id="8df1b7bd"><p>                Store the <span class="filepath">behat.yml</span> or <span class="filepath">behat.yml.dist</span> configuration                file under the project root.            </p></li><li class="list__item" id="6894e99c"><p>                <a href="#behat_install_with_composer">Install Behat with Composer</a>.            </p></li></ol><p id="19053946">                PhpStorm will create the local framework configuration on the <a href="php-test-frameworks.html">Test Frameworks page</a> and the <a href="run-debug-configuration-behat.html">Behat</a> run/debug configuration.            </p></section>            <section class="procedure-steps"><h3 id="e80e4e5c">Configure Behat manually</h3><ol class="list _decimal"><li class="list__item" id="choose_php_interpreter">                <a name="ps_php_test_fw_open_settings_test_frameworks"></a>        <p id="4838a4ee">            <a name="open_settings"></a>                In the        <a name="settings_dialog"></a>        <span class="control">Settings/Preferences</span> dialog <kbd data-primary_default_for_windows="Ctrl+Alt+S" data-primary_default_for_macos="⌘+Comma" data-primary_intellij_idea_classic_macos="⌘+Comma" data-primary_emacs="Ctrl+Alt+S" data-primary_visual_studio="Alt+F7" data-primary_default_for_xwin="Ctrl+Alt+S" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-primary_eclipse_macos="⌘+Comma" data-primary_netbeans="Ctrl+Alt+S" data-primary_sublime_text="Ctrl+Alt+S" data-primary_sublime_text_macos="⌘+Comma" data-secondary_default_for_windows="⌃⌥S" data-secondary_default_for_macos="⌘," data-secondary_intellij_idea_classic="⌘," data-secondary_emacs="⌃⌥S" data-secondary_visual_studio="⌥F7" data-secondary_default_for_xwin="⌃⌥S" data-secondary_default_for_gnome="⌃⌥S" data-secondary_default_for_kde="⌃⌥S" data-secondary_eclipse="⌃⌥S" data-secondary_eclipse_macos="⌘," data-secondary_netbeans="⌃⌥S" data-secondary_sublime_text="⌃⌥S" data-secondary_sublime_text_macos="⌘,">Ctrl+Alt+S</kbd>, expand the <span data-skip-index="skip" class="menupath">Languages and Frameworks</span> node and select <span data-skip-index="skip" class="menupath">Test Frameworks</span> under <span data-skip-index="skip" class="menupath">PHP</span>.        </p>        <p id="a6aaaf5b">            On the <a href="php-test-frameworks.html">Test Frameworks page</a> that opens, click <img class="inline-icon-16" src="/help/img/idea/2019.3/icons.general.add@2x.png" width="16" alt="Add icon"> in the central pane and choose the configuration type from the list:        </p>        <figure><img alt="ps_settings_php_test_frameworks.png" title="ps_settings_php_test_frameworks.png" src="/help/img/idea/2019.3/ps_settings_php_test_frameworks.png" id="a15dda6b" width="381" height="498"></figure>                    <a name="choose_php_interpreter_type"></a>                        <ul class="list _ul"><li class="list__item" id="140d5d30">                <p id="8ce8565d">                    In local configurations, the default project PHP interpreter is used, see <a href="php.html#ps_settings_php_default_php_interpreter">Default project CLI interpreters</a> for details.                </p>            </li><li class="list__item" id="ee181a2c">                <p id="730e0e03">                    To use Behat with a remote PHP interpreter, choose one of the configurations in the dialog that opens:                </p>                <figure><img alt="ps_settings_php_test_frameworks_behat_choose_php_interpreter.png" title="ps_settings_php_test_frameworks_behat_choose_php_interpreter.png" src="/help/img/idea/2019.3/ps_settings_php_test_frameworks_behat_choose_php_interpreter.png" id="2b28f654" width="525" height="350"></figure>            </li></ul>                </li><li class="list__item" id="784d01cd">                <p id="779791cd">                    In the <span class="control">Behat Library</span> area, specify the location of the Behat executable file or <span class="filepath">behat.phar</span> archive.                </p>                <a name="detectBehatVersion"></a>                Click <img class="inline-icon-16" src="/help/img/idea/2019.3/icons.actions.refresh@2x.png" width="16" alt="the Reload button"> next to the <span class="control">Path to Behat directory or        phar        file</span> field. PhpStorm detects the version of Behat        and displays it below the field.                </li><li class="list__item" id="fe0d9879">                <p id="12033676">In the <span class="control">Test Runner</span> area,                    <a name="behat_test_runner_default_config_file"></a>                                appoint the configuration <span class="filepath">YML</span> file to use for launching and executing scenarios.        <br>            By default, Behat looks for a <span class="filepath">behat.yml</span> configuration file in the project root folder or in the <span class="filepath">config</span> folder.            You can appoint a custom configuration file.                    </p>                <ul class="list _bullet"><li class="list__item" id="00ccc532">                        <p id="a8df373f">Clear the <span class="control">Default configuration file</span> checkbox                            <a name="behat_use_default_config_yaml_file"></a>                                to have Behat use the <span class="filepath">behat.yml</span> configuration file from the project root folder or from the <span class="filepath">config</span> folder.        If no such file is found, test execution fails, therefore it may be more reliable to specify the configuration file explicitly.                            </p>                    </li><li class="list__item" id="69da88ca">                        <p>Select the <span class="control">Default configuration file</span> checkbox                            <a name="behat_specify_custom_yaml_file"></a>                                to specify your own <span class="filepath">YML</span> configuration file.        This file will be later used as default in all Behat run/debug configurations.                </p><p id="b6dde970">            In the field, specify the location of the configuration file to use. Type the path manually            or click <img class="inline-icon-16" src="/help/img/idea/2019.3/icons.general.openDisk@2x.png" width="16" alt="the Browse button"> and choose the file in the dialog that opens.        </p>                    </li></ul>            </li></ol></section>    </div>    <div class="chapter"><h2 id="php_test_frameworks_behat_run_tests" data-toc="Using_Behat_Framework#php_test_frameworks_behat_run_tests">Running and debugging Behat tests</h2>        <p id="27066f67">            For information about writing <span class="emphasis">Behat features</span>, refer to the <a href="http://docs.behat.org/en/latest/user_guide/writing_scenarios.html" data-external="true" target="_blank" rel="noopener noreferrer">Behat Documentation</a>.        </p>        <section class="procedure-steps"><h3 id="69b0b5c3">Run or debug Behat tests</h3><ul class="list "><li class="list__item" id="edb62438">                <a name="run_debug_tests_general"></a>                        <p id="7d355e09">            In the Project tool window, select the feature file to run your tests from and choose <span class="control">Run '&lt;feature file&gt;'</span> or <span class="control">Debug '&lt;feature file&gt;'</span>            from the context menu of the selection:</p>        <figure><img alt="ps_test_frameworks_behat_launch_tests.png" title="ps_test_frameworks_behat_launch_tests.png" src="/help/img/idea/2019.3/ps_test_frameworks_behat_launch_tests.png" id="bc5e345d" width="442" height="653"></figure>        <p id="019f646a">            PhpStorm generates a default run configuration and starts a run/debug test session with it.        </p>                </li></ul></section>        <section class="procedure-steps"><h3 id="4b97317c">Save an automatically generated default configuration</h3><ul class="list "><li class="list__item" id="f402a5ed"><p>                <a name="save_generated_configuration"></a>        After a test session is over, choose <span class="control">Save &lt;default_test_configuration_name&gt;</span> from the context menu of the file or folder.                </p></li></ul></section>        <section class="procedure-steps"><h3 id="795f0750">Create a custom run/debug configuration</h3><ol class="list _decimal"><li class="list__item" id="59250ecc"><p>                <a name="ps_test_fw_create_run_config"></a>                        In the Project tool window, select the file or folder with the tests to run and choose <span class="control">Create run configuration</span> from the context menu.        Alternatively, choose <span data-skip-index="skip" class="menupath">Run | Edit Configurations</span> from the main menu, then click <img class="inline-icon-16" src="/help/img/idea/2019.3/icons.general.add@2x.png" width="16" alt="Add icon"> and choose <span class="control">Behat</span> from the list.                </p></li><li class="list__item" id="4827f1c2"><p>                <a name="finalize_generated_configuration"></a>                In the <a href="run-debug-configuration-behat.html">Run/Debug Configuration: Behat</a> dialog that opens, specify the scenarios to run, choose the <span class="emphasis">PHP interpreter</span> to use, and customize its behavior by specifying the options and arguments to be passed to the PHP executable.                </p></li></ol></section>    </div>    <div class="chapter"><h2 id="behat_monitor_test_results" data-toc="Using_Behat_Framework#behat_monitor_test_results">Monitoring Behat test results</h2>        <a name="ps_php_test_fw_monitor_test"></a>                        <p id="1bab0b46">            PhpStorm shows the tests execution results in the <a href="test-runner-tab.html">Test Runner tab</a> of the <a href="run-tool-window.html">Run Tool Window</a>.        </p>                <figure><img alt="ps_test_result_behat.png" title="ps_test_result_behat.png" src="/help/img/idea/2019.3/ps_test_result_behat.png" id="d631571c" width="717" height="415"></figure>        <p id="42b81523">            The tab is divided into 2 main areas:        </p>        <ul class="list _ul"><li class="list__item" id="e3a5c2fc"><p>                The left-hand area lets you drill down through all unit tests to see the succeeded and failed ones.                You can filter tests, export results, and use the context menu commands to run specific tests or                navigate to the source code.            </p></li><li class="list__item" id="f87a5d93"><p>                The right-hand area displays the raw Behat output.            </p></li></ul>        </div>    <div class="last-modified" data-skip-index="skip">Last modified: 29 November 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="using-phpunit-framework.html">Testing with PHPUnit</a><a class="navigation-links__next" href="using-codeception-framework.html">Testing with Codeception</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>