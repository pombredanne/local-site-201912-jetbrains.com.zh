<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>Extract variable - Help | PhpStorm</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body data-id="procedures.refactoring.introduceVariable" data-breadcrumbs="Working_with_source_code.xml|Working with source code/Refactoring_Source_Code.xml|Refactoring code/Extract refactorings/Extract_Variable.xml|Extract variable" data-main-title="Extract variable" data-article-props="&#xA;                {&#xA;                &#xA;            &#34;seeAlso&#34;:[&#xA;            &#xA;                {&#34;title&#34;: &#34;Procedures&#34;,&#xA;                 &#34;links&#34;: [&#xA;                &#xA;        {&#34;url&#34;:&#34;refactoring-source-code.html&#34;,&#34;text&#34;:&#34;Refactoring code&#34;}&#xA;    &#xA;                    ]},&#xA;                {&#34;title&#34;: &#34;Reference&#34;,&#xA;                 &#34;links&#34;: [&#xA;                &#xA;        {&#34;url&#34;:&#34;extract-variable-refactoring-dialog.html&#34;,&#34;text&#34;:&#34;Extract Variable Dialog&#34;}&#xA;    &#xA;                    ]},&#xA;            ]&#xA;        &#xA;                }&#xA;            "><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search PhpStorm Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>PhpStorm 2019.3 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="primary" value="primary_default_for_windows" selected>Default for Windows</option><option data-group="primary" value="primary_default_for_macos">Default for macOS</option><option data-group="primary" value="primary_intellij_idea_classic_macos">IntelliJ IDEA Classic (macOS)</option><option data-group="primary" value="primary_emacs">Emacs</option><option data-group="primary" value="primary_visual_studio">Visual Studio</option><option data-group="primary" value="primary_default_for_xwin">Default for XWin</option><option data-group="primary" value="primary_default_for_gnome">Default for GNOME</option><option data-group="primary" value="primary_default_for_kde">Default for KDE</option><option data-group="primary" value="primary_eclipse">Eclipse</option><option data-group="primary" value="primary_eclipse_macos">Eclipse (macOS)</option><option data-group="primary" value="primary_netbeans">NetBeans</option><option data-group="primary" value="primary_sublime_text">Sublime Text</option><option data-group="primary" value="primary_sublime_text_macos">Sublime Text (macOS)</option><option data-group="secondary" value="secondary_default_for_windows">Default for Windows</option><option data-group="secondary" value="secondary_default_for_macos">Default for macOS</option><option data-group="secondary" value="secondary_intellij_idea_classic">IntelliJ IDEA Classic</option><option data-group="secondary" value="secondary_emacs">Emacs</option><option data-group="secondary" value="secondary_visual_studio">Visual Studio</option><option data-group="secondary" value="secondary_default_for_xwin">Default for XWin</option><option data-group="secondary" value="secondary_default_for_gnome">Default for GNOME</option><option data-group="secondary" value="secondary_default_for_kde">Default for KDE</option><option data-group="secondary" value="secondary_eclipse">Eclipse</option><option data-group="secondary" value="secondary_eclipse_macos">Eclipse (macOS)</option><option data-group="secondary" value="secondary_netbeans">NetBeans</option><option data-group="secondary" value="secondary_sublime_text">Sublime Text</option><option data-group="secondary" value="secondary_sublime_text_macos">Sublime Text (macOS)</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 data-toc="procedures.refactoring.introduceVariable" id="Extract_Variable.xml">Extract variable</h1>                                                                          <p id="13847130">The <span class="keyword">Extract Variable</span> refactoring puts the result of the selected expression into a variable.            It declares a new variable and uses the expression as an initializer.                         The original expression is replaced with the new variable (<a href="">see the examples below</a>).                                </p>                        <a name="how2refactor"></a>        <p id="2faaaac7">To perform this refactoring, you can use:</p>        <ul class="list _ul"><li class="list__item" id="847850fa"><p>                <a href="#inplace_refactoring">In-place refactoring</a>.                In this case you specify the new name right in the editor.</p></li><li class="list__item" id="d0169c41"><p>                <a href="#extract_variable_dialog">Refactoring dialog</a>, where you specify all the required information.                To make such a dialog accessible, you have to clear the checkbox                <a href="settings-editor-general.html#in_place_refactorings">Enable in-place mode</a> in the editor settings.</p></li></ul>            <p id="cbfc12c7">You can select the expression to be replaced with a variable yourself.            You can as well use                        <a href="working-with-source-code.html">smart expression selection</a>.            In this case PhpStorm will help you select the desired expression.        </p>        <p id="ade76327">            This refactoring is also available for            <a href="specific-javascript-refactorings.html#javascript_extract_variable">JavaScript</a>            and <a href="style-sheets.html#ws_style_sheets_extract_variable">Style Sheets</a>.        </p>            <section class="procedure-steps"><h3 id="inplace_refactoring">Extracting a variable using in-place refactoring</h3><ol class="list _decimal"><li class="list__item" id="218e77ba">            <a name="select_expression_intro"></a>        In the editor, select the expression to be replaced with a variable. You can do that yourself or        use the        <span class="emphasis">smart expression selection</span>        feature to let PhpStorm help you. So, do one of the following:                <ul class="list _ul"><li class="list__item" id="108fdc86">                    <a name="select_expression_yourself"></a>        Highlight the expression. Then choose <span data-skip-index="skip" class="menupath">Refactor | Extract | Variable</span>         on the main menu or on the context menu.        <p id="b4ef110d">Alternatively, press <kbd data-primary_default_for_windows="Ctrl+Alt+V" data-primary_default_for_macos="Alt+⌘+V" data-primary_intellij_idea_classic_macos="Alt+⌘+V" data-primary_emacs="Ctrl+Alt+V" data-primary_visual_studio="Ctrl+Alt+V" data-primary_default_for_xwin="Ctrl+Alt+V" data-primary_default_for_gnome="Ctrl+Alt+V" data-primary_default_for_kde="Shift+Alt+V" data-primary_eclipse="Shift+Alt+L" data-primary_eclipse_macos="Alt+⌘+L" data-primary_netbeans="Shift+Alt+V" data-primary_sublime_text="Ctrl+Alt+V" data-primary_sublime_text_macos="N/A" data-secondary_default_for_windows="⌃⌥V" data-secondary_default_for_macos="⌥⌘V" data-secondary_intellij_idea_classic="⌥⌘V" data-secondary_emacs="⌃⌥V" data-secondary_visual_studio="⌃⌥V" data-secondary_default_for_xwin="⌃⌥V" data-secondary_default_for_gnome="⌃⌥V" data-secondary_default_for_kde="⌥⇧V" data-secondary_eclipse="⌥⇧L" data-secondary_eclipse_macos="⌥⌘L" data-secondary_netbeans="⌥⇧V" data-secondary_sublime_text="⌃⌥V" data-secondary_sublime_text_macos="N/A">Ctrl+Alt+V</kbd>.</p>                                        </li><li class="list__item" id="smart_select_expression_select_note"><p>                    <a name="smart_select_expression_start_1"></a>        Place the cursor before or within the expression.                        <a name="smart_select_expression_start_2"></a>Choose        <span data-skip-index="skip" class="menupath">Refactor | Introduce Variable</span>         on the main menu or on the context menu.        or press <kbd data-primary_default_for_windows="Ctrl+Alt+V" data-primary_default_for_macos="Alt+⌘+V" data-primary_intellij_idea_classic_macos="Alt+⌘+V" data-primary_emacs="Ctrl+Alt+V" data-primary_visual_studio="Ctrl+Alt+V" data-primary_default_for_xwin="Ctrl+Alt+V" data-primary_default_for_gnome="Ctrl+Alt+V" data-primary_default_for_kde="Shift+Alt+V" data-primary_eclipse="Shift+Alt+L" data-primary_eclipse_macos="Alt+⌘+L" data-primary_netbeans="Shift+Alt+V" data-primary_sublime_text="Ctrl+Alt+V" data-primary_sublime_text_macos="N/A" data-secondary_default_for_windows="⌃⌥V" data-secondary_default_for_macos="⌥⌘V" data-secondary_intellij_idea_classic="⌥⌘V" data-secondary_emacs="⌃⌥V" data-secondary_visual_studio="⌃⌥V" data-secondary_default_for_xwin="⌃⌥V" data-secondary_default_for_gnome="⌃⌥V" data-secondary_default_for_kde="⌥⇧V" data-secondary_eclipse="⌥⇧L" data-secondary_eclipse_macos="⌥⌘L" data-secondary_netbeans="⌥⇧V" data-secondary_sublime_text="⌃⌥V" data-secondary_sublime_text_macos="N/A">Ctrl+Alt+V</kbd>.                                                                                                                                            </p></li></ul>        </li><li class="list__item" id="b018169a"><p>            If more than one occurrence of the selected expression is found, select            <span class="control">Replace this occurrence only</span>            or            <span class="control">Replace all occurrences</span>            in the            <span class="control">Multiple occurrences found</span>            popup menu.            To select the required option, just click it. Alternatively, use the            Up and Down arrow keys to navigate to the option of interest, and press            <kbd data-primary_default_for_windows="Enter" data-primary_default_for_macos="Enter" data-primary_intellij_idea_classic_macos="Enter" data-primary_emacs="Enter" data-primary_visual_studio="Enter" data-primary_default_for_xwin="Enter" data-primary_default_for_gnome="Enter" data-primary_default_for_kde="Enter" data-primary_eclipse="Enter" data-primary_eclipse_macos="Enter" data-primary_netbeans="Enter" data-primary_sublime_text="Enter" data-primary_sublime_text_macos="Enter" data-secondary_default_for_windows="⏎" data-secondary_default_for_macos="⏎" data-secondary_intellij_idea_classic="⏎" data-secondary_emacs="⏎" data-secondary_visual_studio="⏎" data-secondary_default_for_xwin="⏎" data-secondary_default_for_gnome="⏎" data-secondary_default_for_kde="⏎" data-secondary_eclipse="⏎" data-secondary_eclipse_macos="⏎" data-secondary_netbeans="⏎" data-secondary_sublime_text="⏎" data-secondary_sublime_text_macos="⏎">Enter</kbd>            to select it.                                            </p></li><li class="list__item" id="708b724b">            <p id="95c2d233">                Specify the name of the variable. Do one of the following:            </p>            <ul class="list _ul"><li class="list__item" id="d51ca9a3"><p>Select one of the suggested names from the list. To do that, double-click the suitable                    name.                    Alternatively, use the Up and Down arrow keys to navigate to the name of interest, and                    <kbd data-primary_default_for_windows="Enter" data-primary_default_for_macos="Enter" data-primary_intellij_idea_classic_macos="Enter" data-primary_emacs="Enter" data-primary_visual_studio="Enter" data-primary_default_for_xwin="Enter" data-primary_default_for_gnome="Enter" data-primary_default_for_kde="Enter" data-primary_eclipse="Enter" data-primary_eclipse_macos="Enter" data-primary_netbeans="Enter" data-primary_sublime_text="Enter" data-primary_sublime_text_macos="Enter" data-secondary_default_for_windows="⏎" data-secondary_default_for_macos="⏎" data-secondary_intellij_idea_classic="⏎" data-secondary_emacs="⏎" data-secondary_visual_studio="⏎" data-secondary_default_for_xwin="⏎" data-secondary_default_for_gnome="⏎" data-secondary_default_for_kde="⏎" data-secondary_eclipse="⏎" data-secondary_eclipse_macos="⏎" data-secondary_netbeans="⏎" data-secondary_sublime_text="⏎" data-secondary_sublime_text_macos="⏎">Enter</kbd>                    to select it.                                                        </p></li><li class="list__item" id="500630de"><p>Edit the name by typing. The name is shown in the box with red borders and changes as you type.                    When finished, press <kbd data-primary_default_for_windows="Enter" data-primary_default_for_macos="Enter" data-primary_intellij_idea_classic_macos="Enter" data-primary_emacs="Enter" data-primary_visual_studio="Enter" data-primary_default_for_xwin="Enter" data-primary_default_for_gnome="Enter" data-primary_default_for_kde="Enter" data-primary_eclipse="Enter" data-primary_eclipse_macos="Enter" data-primary_netbeans="Enter" data-primary_sublime_text="Enter" data-primary_sublime_text_macos="Enter" data-secondary_default_for_windows="⏎" data-secondary_default_for_macos="⏎" data-secondary_intellij_idea_classic="⏎" data-secondary_emacs="⏎" data-secondary_visual_studio="⏎" data-secondary_default_for_xwin="⏎" data-secondary_default_for_gnome="⏎" data-secondary_default_for_kde="⏎" data-secondary_eclipse="⏎" data-secondary_eclipse_macos="⏎" data-secondary_netbeans="⏎" data-secondary_sublime_text="⏎" data-secondary_sublime_text_macos="⏎">Enter</kbd>.                                                        </p></li></ul>        </li></ol></section>        <section class="procedure-steps"><h3 id="extract_variable_dialog">Extract a variable using the dialog</h3><a name="refactor_with_dialog_remark"></a><p id="c08658fd">If the <span class="control">Enable in place refactorings</span> checkbox is cleared in the Editor settings,            the <span class="control">Introduce Variable</span> refactoring is performed by means of the            <a href="extract-variable-refactoring-dialog.html">Extract Variable Dialog</a>.</p><figure><img alt="the Enable in-place mode setting" title="the Enable in-place mode setting" src="/help/img/idea/2019.3/ps_enableInplaceRefactoringCleared.png" id="6320e637" width="666" height="662"></figure><ol class="list _decimal"><li class="list__item" id="21aca6c1">            <a name="select_expression_intro"></a>        In the editor, select the expression to be replaced with a variable. You can do that yourself or        use the        <span class="emphasis">smart expression selection</span>        feature to let PhpStorm help you. So, do one of the following:                <ul class="list _ul"><li class="list__item" id="7e50bc91">                    <a name="select_expression_yourself"></a>        Highlight the expression. Then choose <span data-skip-index="skip" class="menupath">Refactor | Extract | Variable</span>         on the main menu or on the context menu.        <p id="443ea951">Alternatively, press <kbd data-primary_default_for_windows="Ctrl+Alt+V" data-primary_default_for_macos="Alt+⌘+V" data-primary_intellij_idea_classic_macos="Alt+⌘+V" data-primary_emacs="Ctrl+Alt+V" data-primary_visual_studio="Ctrl+Alt+V" data-primary_default_for_xwin="Ctrl+Alt+V" data-primary_default_for_gnome="Ctrl+Alt+V" data-primary_default_for_kde="Shift+Alt+V" data-primary_eclipse="Shift+Alt+L" data-primary_eclipse_macos="Alt+⌘+L" data-primary_netbeans="Shift+Alt+V" data-primary_sublime_text="Ctrl+Alt+V" data-primary_sublime_text_macos="N/A" data-secondary_default_for_windows="⌃⌥V" data-secondary_default_for_macos="⌥⌘V" data-secondary_intellij_idea_classic="⌥⌘V" data-secondary_emacs="⌃⌥V" data-secondary_visual_studio="⌃⌥V" data-secondary_default_for_xwin="⌃⌥V" data-secondary_default_for_gnome="⌃⌥V" data-secondary_default_for_kde="⌥⇧V" data-secondary_eclipse="⌥⇧L" data-secondary_eclipse_macos="⌥⌘L" data-secondary_netbeans="⌥⇧V" data-secondary_sublime_text="⌃⌥V" data-secondary_sublime_text_macos="N/A">Ctrl+Alt+V</kbd>.</p>                                        </li><li class="list__item" id="smart_select_expression_select">                    <a name="smart_select_expression_start_1"></a>        Place the cursor before or within the expression.                        <a name="smart_select_expression_start_2"></a>Choose        <span data-skip-index="skip" class="menupath">Refactor | Introduce Variable</span>         on the main menu or on the context menu.        or press <kbd data-primary_default_for_windows="Ctrl+Alt+V" data-primary_default_for_macos="Alt+⌘+V" data-primary_intellij_idea_classic_macos="Alt+⌘+V" data-primary_emacs="Ctrl+Alt+V" data-primary_visual_studio="Ctrl+Alt+V" data-primary_default_for_xwin="Ctrl+Alt+V" data-primary_default_for_gnome="Ctrl+Alt+V" data-primary_default_for_kde="Shift+Alt+V" data-primary_eclipse="Shift+Alt+L" data-primary_eclipse_macos="Alt+⌘+L" data-primary_netbeans="Shift+Alt+V" data-primary_sublime_text="Ctrl+Alt+V" data-primary_sublime_text_macos="N/A" data-secondary_default_for_windows="⌃⌥V" data-secondary_default_for_macos="⌥⌘V" data-secondary_intellij_idea_classic="⌥⌘V" data-secondary_emacs="⌃⌥V" data-secondary_visual_studio="⌃⌥V" data-secondary_default_for_xwin="⌃⌥V" data-secondary_default_for_gnome="⌃⌥V" data-secondary_default_for_kde="⌥⇧V" data-secondary_eclipse="⌥⇧L" data-secondary_eclipse_macos="⌥⌘L" data-secondary_netbeans="⌥⇧V" data-secondary_sublime_text="⌃⌥V" data-secondary_sublime_text_macos="N/A">Ctrl+Alt+V</kbd>.                                            <p id="f6794abb">                        <a name="smart_select_expression_select"></a>        From the        <span class="control">Expressions</span>        list, select the expression.        To do that, click the required expression. Alternatively, use the Up and Down arrow keys        to navigate to the expression of interest, and then press <kbd data-primary_default_for_windows="Enter" data-primary_default_for_macos="Enter" data-primary_intellij_idea_classic_macos="Enter" data-primary_emacs="Enter" data-primary_visual_studio="Enter" data-primary_default_for_xwin="Enter" data-primary_default_for_gnome="Enter" data-primary_default_for_kde="Enter" data-primary_eclipse="Enter" data-primary_eclipse_macos="Enter" data-primary_netbeans="Enter" data-primary_sublime_text="Enter" data-primary_sublime_text_macos="Enter" data-secondary_default_for_windows="⏎" data-secondary_default_for_macos="⏎" data-secondary_intellij_idea_classic="⏎" data-secondary_emacs="⏎" data-secondary_visual_studio="⏎" data-secondary_default_for_xwin="⏎" data-secondary_default_for_gnome="⏎" data-secondary_default_for_kde="⏎" data-secondary_eclipse="⏎" data-secondary_eclipse_macos="⏎" data-secondary_netbeans="⏎" data-secondary_sublime_text="⏎" data-secondary_sublime_text_macos="⏎">Enter</kbd> to select it.                        </p>                                                        </li></ul>        </li><li class="list__item" id="b023fd73">            <p id="c506110d">In the <a href="extract-variable-refactoring-dialog.html">Extract Variable Dialog</a> dialog:            </p>            <ol class="list _decimal"><li class="list__item" id="cb3f0aed"><p>Specify the variable name next to <span class="control">Name</span> field. You can select one of the                        suggested names from the list or type the name in the <span class="control">Name</span> box.</p></li><li class="list__item" id="e26d27a7"><p>If more than one occurrence of the selected expression is found, you can select to replace                        all the found occurrences by selecting the corresponding checkbox. If you want to replace                        only the current occurrence, clear the <span class="control">Replace all occurrences</span>                        checkbox.</p></li><li class="list__item" id="630e8c25">                        <p id="05e05d9a">For ActionScript, you can choose to introduce a constant rather than a variable.                            To do that, select the <span class="control">Make constant</span> checkbox.                        </p>                                            </li><li class="list__item" id="ac06105a"><p>Click <span class="control">OK</span>.                                    </p></li></ol>        </li></ol></section>                <h2 id="code_examples">PHP Example</h2>        <div class="table-wrapper"><table class="  _layout-fixed" width="100%" id="39e22812"><thead><tr id="01a5587c" class="ijRowHead"><th id="7c4c5ae4" width="50%"><p>Before</p></th><th id="c3b52e89" width="50%"><p>After</p></th></tr></thead><tbody><tr id="6f495358" class="ijRowOdd"><td id="1ffda41b">                    <div class="code-block" data-lang="php">
public function getFeedObject($title, $description)
    {
      global $wgSitename, $wgContLanguageCode, $wgFeedClasses, $wgTitle;
      if (!isset($wgFeedClasses[$this-&gt;format]))
        return false;
      return new $wgFeedClasses[$this-&gt;format]
      ("$wgSitename - {$title} [$wgContLanguageCode]", htmlspecialchars());
    }
</div>                </td><td id="110c50bc">                    <div class="code-block" data-lang="php">
public function getFeedObject($title, $description)
    {
      global $wgSitename, $wgContLanguageCode, $wgFeedClasses, $wgTitle;
      $feedTitle = "$wgSitename - {$title} [$wgContLanguageCode]";
      if (!isset($wgFeedClasses[$this-&gt;format]))
        return false;
      return new $wgFeedClasses[$this-&gt;format]
      ($feedTitle, htmlspecialchars());
    }
</div>                </td></tr></tbody></table></div>          <div class="last-modified" data-skip-index="skip">Last modified: 29 November 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="extract-method.html">Extract method</a><a class="navigation-links__next" href="introduce-parameter.html">Extract parameter</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>