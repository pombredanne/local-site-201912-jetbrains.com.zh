<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>解决常见的部署问题-帮助|帮助暴风雨</title><link rel="stylesheet" href="/resources.jetbrains.com/storage/help-app/v3/app.css"></head><body  data-id="Troubleshooting_deployment" data-breadcrumbs="Development environment/Deploying_Applications.xml|Deploying your application/Troubleshooting_deployment.xml|Troubleshooting common deployment issues" data-main-title="Troubleshooting common deployment issues"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索PhpStorm帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>PhpStorm 2019.3帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option value="primary_default_for_windows" data-group="primary" selected>Windows的默认设置</option><option value="primary_default_for_macos" data-group="primary">macOS的默认设置</option><option value="primary_intellij_idea_classic_macos" data-group="primary">IntelliJ IDEA经典版（macOS）</option><option value="primary_emacs" data-group="primary">埃马克斯</option><option value="primary_visual_studio" data-group="primary">视觉工作室</option><option value="primary_default_for_xwin" data-group="primary">XWin的默认设置</option><option value="primary_default_for_gnome" data-group="primary">GNOME的默认设置</option><option value="primary_default_for_kde" data-group="primary">KDE的默认值</option><option value="primary_eclipse" data-group="primary">日食</option><option value="primary_eclipse_macos" data-group="primary">Eclipse（macOS）</option><option value="primary_netbeans" data-group="primary">NetBeans</option><option value="primary_sublime_text" data-group="primary">崇高文字</option><option value="primary_sublime_text_macos" data-group="primary">崇高文字（macOS）</option><option value="secondary_default_for_windows" data-group="secondary">Windows的默认设置</option><option value="secondary_default_for_macos" data-group="secondary">macOS的默认设置</option><option value="secondary_intellij_idea_classic" data-group="secondary">IntelliJ IDEA经典版</option><option value="secondary_emacs" data-group="secondary">埃马克斯</option><option value="secondary_visual_studio" data-group="secondary">视觉工作室</option><option value="secondary_default_for_xwin" data-group="secondary">XWin的默认设置</option><option value="secondary_default_for_gnome" data-group="secondary">GNOME的默认设置</option><option value="secondary_default_for_kde" data-group="secondary">KDE的默认值</option><option value="secondary_eclipse" data-group="secondary">日食</option><option value="secondary_eclipse_macos" data-group="secondary">Eclipse（macOS）</option><option value="secondary_netbeans" data-group="secondary">NetBeans</option><option value="secondary_sublime_text" data-group="secondary">崇高文字</option><option value="secondary_sublime_text_macos" data-group="secondary">崇高文字（macOS）</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 id="Troubleshooting_deployment.xml" data-toc="Troubleshooting_deployment">解决常见的部署问题</h1>    <p id="72a348bc">本节提供了针对PhpStorm中的<a href="deploying-applications.html">部署</a>常见问题的解决方案和变通办法的列表。</p>    <a name="collect_logs"></a>                <div class="chapter"><h2 id="collecting-logs">收集PhpStorm部署日志</h2>            <p id="38aaec8a">如果本节未解决您的问题，请联系我们的支持工程师。如果要求提供部署日志，请<a href="https://intellij-support.jetbrains.com/hc/en-us/articles/207241115" rel="noopener noreferrer" data-external="true" target="_blank">按照说明</a>进行收集。</p>            <section class="procedure-steps"><div class="collapse"><div class="collapse__title"><h3 id="c42b9091">收集部署日志</h3></div><div class="collapse__content"><ol class="list _decimal"><li class="list__item" id="1e0d9f05"><p>选择<span class="menupath" data-skip-index="skip">帮助|</span>在主菜单中<span class="menupath" data-skip-index="skip">配置调试日志</span> 。</p></li><li class="list__item" id="f77e2668">                    <p id="c3a174f3">在打开的“ <span class="control">自定义调试日志配置”</span>对话框中，根据遇到的问题添加以下几行：</p>                    <ul class="list _ul"><li class="list__item" id="d7ef847f"><p>部署/同步问题： <code class="code">#com.jetbrains.plugins.webDeployment</code>                        </p></li><li class="list__item" id="bea75e1e"><p>与SSH / SFTP有关的问题： <code class="code">#com.intellij.ssh</code>                        </p></li></ul>                    <p id="2a5e1121">                                                </p><figure><img alt="收集日志" title="收集日志" src="/help/img/idea/2019.3/ps_collect_deployment_logs.png" id="3a188233" width="384" height="554"></figure>                    <p></p>                </li><li class="list__item" id="0c138bdd"><p>单击<span class="control">确定，</span>并重现该问题。</p></li><li class="list__item" id="9d83ddb3">                    <p id="b7854373">通过选择<span class="menupath" data-skip-index="skip">帮助|</span>查找日志文件<span class="menupath" data-skip-index="skip">。在资源管理器中显示登录</span> （适用于Windows和Linux）或“ <span class="menupath" data-skip-index="skip">帮助” |显示在Finder中登录</span> （适用于macOS）。</p>                    <p id="ddaa1321">如有必要，您可以手动找到日志：</p>                    <div class="tabs" id="272cf0cf"><div class="tabs__content" id="069b9c39" data-title="Windows">                            <dl><dt id="55eafe31">句法</dt><dd>                                    <span class="filepath">％HOMEPATH％\。 <product><version>\ system \ log</version></product></span>                                </dd><dt id="514d7240">例</dt><dd>                                    <span class="filepath">C：\ Users \ JohnS \。PhpStorm2019.3 \ system \ log</span>                                </dd></dl>                        </div><div class="tabs__content" id="f859b0df" data-title="macOS">                            <dl><dt id="e2185e43">句法</dt><dd>                                    <span class="filepath">〜/图书馆/日志/ <product><version></version></product></span>                                </dd><dt id="91960984">例</dt><dd>                                    <span class="filepath">〜/图书馆/日志/PhpStorm2019.3</span>                                </dd></dl>                        </div><div class="tabs__content" id="bf13f183" data-title="Linux">                            <dl><dt id="d8733597">句法</dt><dd>                                    <span class="filepath">〜/。 <product><version>/系统/日志</version></product></span>                                </dd><dt id="c844b5f3">例</dt><dd>                                    <span class="filepath">〜/。PhpStorm2019.3 /系统/日志</span>                                </dd></dl>                        </div></div>                    <p id="d67bb272">最新的日志文件名为<span class="filepath">idea.log</span> ；较旧的文件名以数字结尾，即<span class="filepath">idea.log.1</span> ， <span class="filepath">idea.log.2</span>等。在大多数情况下，您只需要最新的。</p>                </li><li class="list__item" id="132f2547"><p>将日志文件附加到<a href="http://youtrack.jetbrains.net/issues/WI#newissue=yes" rel="noopener noreferrer" data-external="true" target="_blank">问题</a>或<a href="https://intellij-support.jetbrains.com/hc/en-us/community/topics/200367219-PhpStorm" rel="noopener noreferrer" data-external="true" target="_blank">论坛主题</a> 。</p></li></ol></div></div></section>        </div>        <div class="chapter"><h2 id="general-troubleshooting">常规故障排除</h2>        <div class="chapter"><h3 id="deployment-is-slow-or-fails">部署缓慢或失败</h3>            <p id="3e63ecb6">部署可能是一项资源密集型操作，尤其是在项目或部署服务器包含大量目录和文件的情况下。 <a name="open_settings"></a>                在里面<a name="settings_dialog"></a> <span class="control">设置/首选项</span>对话框<kbd data-primary_default_for_windows="Ctrl+Alt+S" data-primary_default_for_macos="⌘+Comma" data-primary_intellij_idea_classic_macos="⌘+Comma" data-primary_emacs="Ctrl+Alt+S" data-primary_visual_studio="Alt+F7" data-primary_default_for_xwin="Ctrl+Alt+S" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-primary_eclipse_macos="⌘+Comma" data-primary_netbeans="Ctrl+Alt+S" data-primary_sublime_text="Ctrl+Alt+S" data-primary_sublime_text_macos="⌘+Comma" data-secondary_default_for_windows="⌃⌥S" data-secondary_default_for_macos="⌘," data-secondary_intellij_idea_classic="⌘," data-secondary_emacs="⌃⌥S" data-secondary_visual_studio="⌥F7" data-secondary_default_for_xwin="⌃⌥S" data-secondary_default_for_gnome="⌃⌥S" data-secondary_default_for_kde="⌃⌥S" data-secondary_eclipse="⌃⌥S" data-secondary_eclipse_macos="⌘," data-secondary_netbeans="⌃⌥S" data-secondary_sublime_text="⌃⌥S" data-secondary_sublime_text_macos="⌘,">Ctrl+Alt+S</kbd> ，导航至“ <span class="control">构建，执行，部署”</span>并浏览以下配置选项，这些选项可以加快部署速度：</p>            <ul class="list _ul"><li class="list__item" id="56d8ab79">                    <p id="c02a48f8">从部署中排除不需要的目录（例如，映像）。这可以从“ <a href="deployment-excluded-paths-tab.html">部署：排除的路径”选项卡</a>页面完成。</p>                </li><li class="list__item" id="2aa85ca7">                    <p id="35ee540d">在“ <a href="settings-deployment-options.html">选项”</a>页面上，清除“ <span class="control">覆盖最新文件”</span>以跳过不需要上传的文件。</p>                </li><li class="list__item" id="d633a6dd">                    <p id="52e9442a">根据服务器的不同，在高级FTP设置中在主动和被动传输模式之间切换可能会有所帮助。这可以通过在服务器的“ <a href="deployment-connection-tab.html">部署：连接”选项卡中</a>切换“ <span class="control">被动”模式</span>来完成。</p>                </li><li class="list__item" id="c88c66c8">                    <p id="43ececb9">限制并发FTP连接数。可以通过在服务器的“ <a href="deployment-connection-tab.html">部署：连接”选项卡中</a>切换“ <span class="control">限制并发连接</span>数”并设置<span class="control">连接</span>数（如果遇到更多连接数的问题，对于任何服务器通常为3-5个并发连接都可以）来完成。</p>                </li></ul>        </div>        <div class="chapter"><h3 id="download-upload-actions-are-not-available">下载/上传操作不可用</h3>            <p id="ca16813c">由于缺少映射，因此下载/上传操作可能不可用。如果未在任何映射中配置要下载的文件或文件夹，PhpStorm将不会下载它。可以按照将<a href="creating-local-server-configuration.html#mapping">项目文件夹映射到服务器上的文件夹以及访问它们的URL地址</a>中的说明配置映射。</p>            <p id="160bfb79">对于某些操作，需要在<span class="control">“设置/首选项”</span>对话框的<span class="control">“</span> <a href="settings-deployment.html">部署”</a>页面上选择默认的部署服务器。</p>        </div>        <div class="chapter"><h3 id="some-folders-are-not-deployed">某些文件夹未部署</h3>            <p id="4df415b3">文件夹未部署的常见原因是明确排除了它们。要解决此问题，请在“ <a href="remote-host-tool-window.html">远程主机工具”窗口中，</a>右键单击给定的文件夹，然后从上下文菜单中选择“ <span class="control">从排除的路径中删除”</span> 。完成此操作后，将部署文件夹。</p>            <p id="9a4b7e14">也可以从“ <a href="settings-deployment.html">部署”</a>页面进行配置<a name="open_settings"></a>的<a name="settings_dialog"></a> <span class="control">设置/首选项</span>对话框<kbd data-primary_default_for_windows="Ctrl+Alt+S" data-primary_default_for_macos="⌘+Comma" data-primary_intellij_idea_classic_macos="⌘+Comma" data-primary_emacs="Ctrl+Alt+S" data-primary_visual_studio="Alt+F7" data-primary_default_for_xwin="Ctrl+Alt+S" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-primary_eclipse_macos="⌘+Comma" data-primary_netbeans="Ctrl+Alt+S" data-primary_sublime_text="Ctrl+Alt+S" data-primary_sublime_text_macos="⌘+Comma" data-secondary_default_for_windows="⌃⌥S" data-secondary_default_for_macos="⌘," data-secondary_intellij_idea_classic="⌘," data-secondary_emacs="⌃⌥S" data-secondary_visual_studio="⌥F7" data-secondary_default_for_xwin="⌃⌥S" data-secondary_default_for_gnome="⌃⌥S" data-secondary_default_for_kde="⌃⌥S" data-secondary_eclipse="⌃⌥S" data-secondary_eclipse_macos="⌘," data-secondary_netbeans="⌃⌥S" data-secondary_sublime_text="⌃⌥S" data-secondary_sublime_text_macos="⌘,">Ctrl+Alt+S</kbd> 。打开服务器的“ <span class="control">排除的路径”</span>选项卡，然后删除排除的路径。请注意，应同时检查源文件夹和目标文件夹。也可以在“ <span class="control">按名称排除项目”</span>下的“ <a href="settings-deployment-options.html">选项”</a>页面上按名称排除文件夹。</p>        </div>        <div class="chapter"><h3 id="sharing-deployment-configurations-between-projects">在项目之间共享部署配置</h3>            <p id="453cae2d">部署服务器是在IDE级别配置的：它们可用于所有项目，并且可以在它们之间共享。</p>            <p id="01ec244f">请注意，项目之间仅共享名称和连接详细信息（在“ <a href="deployment-connection-tab.html">部署：连接选项</a>卡” <a href="deployment-connection-tab.html">选项</a>卡上指定）：映射和排除的路径是特定于项目的，必须分别进行配置。使用这种方法，连接详细信息只需输入一次，而映射和排除的路径可以针对每个项目进行配置，共享连接详细信息。当项目共享相同的部署服务器并使用相同的连接设置时，这很有用。如果项目之间的连接设置不同，则必须为每个项目分别配置它们。</p>            <p id="e25400e3">如有必要，可以通过选择“ <a href="deployment-connection-tab.html">部署：连接”选项卡</a>上的“ <span class="control">仅对此项目可见”</span>复选框，将服务器设置为在单个项目中<span class="control">可见。</span>            </p>        </div>        <div class="chapter"><h3 id="ide-settings-do-not-allow-me-to-configure-mappings">IDE设置不允许我配置映射</h3>            <p id="a0935c34"><a href="configuring-project-and-ide-settings.html#access-ide-settings">IDE设置</a>用于配置将来项目的默认设置，并且不影响当前打开的项目。要配置这些，请使用<a name="open_settings"></a>的<a name="settings_dialog"></a> <span class="control">设置/首选项</span>对话框<kbd data-primary_default_for_windows="Ctrl+Alt+S" data-primary_default_for_macos="⌘+Comma" data-primary_intellij_idea_classic_macos="⌘+Comma" data-primary_emacs="Ctrl+Alt+S" data-primary_visual_studio="Alt+F7" data-primary_default_for_xwin="Ctrl+Alt+S" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-primary_eclipse_macos="⌘+Comma" data-primary_netbeans="Ctrl+Alt+S" data-primary_sublime_text="Ctrl+Alt+S" data-primary_sublime_text_macos="⌘+Comma" data-secondary_default_for_windows="⌃⌥S" data-secondary_default_for_macos="⌘," data-secondary_intellij_idea_classic="⌘," data-secondary_emacs="⌃⌥S" data-secondary_visual_studio="⌥F7" data-secondary_default_for_xwin="⌃⌥S" data-secondary_default_for_gnome="⌃⌥S" data-secondary_default_for_kde="⌃⌥S" data-secondary_eclipse="⌃⌥S" data-secondary_eclipse_macos="⌘," data-secondary_netbeans="⌃⌥S" data-secondary_sublime_text="⌃⌥S" data-secondary_sublime_text_macos="⌘,">Ctrl+Alt+S</kbd> 。</p>        </div>        <div class="chapter"><h3 id="subfolders-within-the-same-folder-have-different-deployment-settings">同一文件夹中的子文件夹可以具有不同的部署设置吗？本地文件夹可以部署到多个位置吗？</h3>            <p id="6e58bc7c">在上载文件夹和配置映射时，请注意以下几点：</p>            <ul class="list _ul"><li class="list__item" id="7342df19">                    <p id="3f1ba71c">您可以指定特定文件夹到部署服务器上不同路径的映射。可以在服务器的“ <a href="deployment-mappings-tab.html">部署：映射”选项卡上</a>进行配置。</p>                </li><li class="list__item" id="0069aeb2">                    <p id="101e6e56">您可以从上载/下载中排除特定的文件夹和文件。可以在服务器的“ <a href="deployment-excluded-paths-tab.html">部署：排除的路径”选项卡上</a>进行配置。</p>                </li><li class="list__item" id="ff3b8e60">                    <p id="dfd34291">您不能一次将同一文件夹（或子文件夹）上传到其他站点。需要为每个应用程序创建一个单独的部署配置，并将它们一个一个地上传到每个站点。</p>                </li></ul>            <p id="025fc770">如果您要这样做，我们建议您使用功能强大的工具来自动化该过程。例如， <a href="phing.html">Phing</a>具有可从PhpStorm使用的<span class="emphasis">FTP</span>任务。在PhpStorm中，您可以使用“ <span class="control">与部署同步...”</span>命令，并从可用的部署服务器中进行选择，以进行每次上载。</p>        </div>        <div class="chapter"><h3 id="i-cannot-assign-a-keyboard-shortcut-to-the-sync-with-deployed-to-my-server-menu-item">我无法将键盘快捷方式分配给“与部署到我的服务器同步”菜单项</h3>            <p id="e2dd643e">无法将键盘快捷方式直接分配给“ <span class="control">与部署同步到” <server name="">            </server></span>命令，仅适用于通用的“ <span class="control">与已部署到...同步”</span>命令，该命令随后将显示带有服务器列表的弹出菜单。有关详细信息，请参考<a href="configuring-keyboard-and-mouse-shortcuts.html">配置键盘快捷键</a> 。</p>            <p id="4fbb8d15">如果确实希望将键盘快捷方式分配给特定的部署服务器，则可以记录宏并为其分配快捷方式：</p>            <section class="procedure-steps"><ol class="list _decimal"><li class="list__item" id="db78d59b">                    <p id="8448c528">选择<span class="menupath" data-skip-index="skip">编辑|宏|开始宏录制</span>并开始录制宏。</p>                </li><li class="list__item" id="111365a6">                    <p id="e4e35f51">选择<span class="menupath" data-skip-index="skip">工具|部署|与同步部署到</span> <server name="">并关闭同步窗口。</server></p>                </li><li class="list__item" id="94ec3af8">                    <p id="86298362">通过选择<span class="menupath" data-skip-index="skip">编辑|</span>停止录制宏<span class="menupath" data-skip-index="skip">。宏|</span>从主菜单<span class="menupath" data-skip-index="skip">停止宏录制</span> 。</p>                </li><li class="list__item" id="82ad50e2">                    <p id="f0795e17">设置宏名称，例如<span class="emphasis">与同步<server name=""></server></span> 。</p>                </li><li class="list__item" id="e7664466">                    <p id="c7ae09fc">打开<a name="open_settings"></a>在里面<a name="settings_dialog"></a> <span class="control">设置/首选项</span>对话框<kbd data-primary_default_for_windows="Ctrl+Alt+S" data-primary_default_for_macos="⌘+Comma" data-primary_intellij_idea_classic_macos="⌘+Comma" data-primary_emacs="Ctrl+Alt+S" data-primary_visual_studio="Alt+F7" data-primary_default_for_xwin="Ctrl+Alt+S" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-primary_eclipse_macos="⌘+Comma" data-primary_netbeans="Ctrl+Alt+S" data-primary_sublime_text="Ctrl+Alt+S" data-primary_sublime_text_macos="⌘+Comma" data-secondary_default_for_windows="⌃⌥S" data-secondary_default_for_macos="⌘," data-secondary_intellij_idea_classic="⌘," data-secondary_emacs="⌃⌥S" data-secondary_visual_studio="⌥F7" data-secondary_default_for_xwin="⌃⌥S" data-secondary_default_for_gnome="⌃⌥S" data-secondary_default_for_kde="⌃⌥S" data-secondary_eclipse="⌃⌥S" data-secondary_eclipse_macos="⌘," data-secondary_netbeans="⌃⌥S" data-secondary_sublime_text="⌃⌥S" data-secondary_sublime_text_macos="⌘,">Ctrl+Alt+S</kbd> ，选择“ <span class="control">键盘映射”，</span>然后找到“ <span class="control">宏”</span>节点。从刚刚记录的新同步宏的上下文菜单中，选择“ <span class="control">添加键盘快捷方式”</span>并提供所需的快捷方式。</p>                </li></ol></section>        </div>        <div class="chapter"><h3 id="how-do-i-deploy-a-database-using-phpstorm">如何使用PhpStorm部署数据库？</h3>            <p id="e80346c8">有两种使用PhpStorm部署数据库的方法：</p>            <ul class="list _ul"><li class="list__item" id="be3e175c">                    <p id="b7f0e262">利用<a href="relational-databases.html">集成的数据库工具</a>并手动运行所需的DDL和SQL语句。</p>                </li><li class="list__item" id="2ce38bf7">                    <p id="1938e29b">使用<a href="phing.html">Phing</a>并<a href="http://davedevelopment.co.uk/2008/04/14/how-to-simple-database-migrations-with-phing-and-dbdeploy.html" rel="noopener noreferrer" data-external="true" target="_blank">设置DBDeploy任务</a> 。</p>                </li></ul>        </div>        <div class="chapter"><h3 id="can-i-run-a-script-or-executable-on-my-files-before-the-upload-occurs">上传之前，我可以在文件上运行脚本或可执行文件吗？</h3>            <p id="d4d7cd59">最小化CSS，优化图像，使用<a href="http://www.ioncube.com" rel="noopener noreferrer" data-external="true" target="_blank">IonCube</a>编码PHP文件等是您可能需要在上载之前执行的操作。做到这一点的最佳方法不是在开始上载时运行它们，而是在文件更改时通过使用PhpStorm中的<a href="using-file-watchers.html">文件监视程序</a>来运行它们。需要将它们上传到部署服务器时，请上传已处理的文件。</p>            <p id="a140fa2d">请注意，必须在“ <a href="settings-deployment-options.html">选项”</a>页面上清除“ <span class="control">跳过外部更改”</span>复选框，此功能才能起作用。</p>        </div>        <div class="chapter"><h3 id="sometimes-files-are-not-uploaded-automatically">有时文件不会自动上传</h3>            <p id="46912b83">默认情况下，如果文件被某些外部进程（VCS，编译器等）更改，则PhpStorm将上载文件。如果未上传文件，请确保将“ <a href="settings-deployment-options.html">选项”</a>页面上的“将<span class="control">更改后的文件自动上传到默认服务器</span> ”设置为“ <span class="control">始终”，</span>并清除“ <span class="control">跳过外部更改”</span>复选框。</p>        </div>        <div class="chapter"><h3 id="can-i-run-pre-and-post-deployment-actions">我可以执行部署前和部署后的操作吗？</h3>可以使用“运行/调试”配置。您可以创建伪造的Run / Debug配置，或者应该是最后一步的Run / Debug配置，然后<span class="control">在启动之前</span>添加所需的步骤。<p id="ba649d1d">作为替代方案，我们建议使用<a href="phing.html">Phing</a>或任何其他构建系统来执行复杂的步骤序列。</p>        </div>    </div>    <div class="chapter"><h2 id="ftp-troubleshooting">FTP故障排除</h2>        <div class="chapter"><h3 id="ftp-issue-invalid-descendent-file-name">FTP问题：无效的后代文件名“ http：”</h3>            <p id="112ddfe6">配置部署服务器或在项目设置中使用“ <span class="control">测试连接”</span>按钮时，将显示<span class="emphasis">无效的后代文件名“ http：”</span>错误。请注意，名称中带有冒号<span class="filepath">：的</span>所有文件名将被视为无效。</p>            <p id="5be14821">如果项目中包含名称为<span class="filepath">http：</span>的文件，则会发生这种情况。PhpStorm用于连接到FTP的库（Apache Commons VFS）无法读取包含此类文件的文件夹的内容，这将导致操作失败。唯一的解决方案是从项目中删除名称中包含<span class="filepath">http：</span>的文件。</p>        </div>        <div class="chapter"><h3 id="phpstorm-seems-to-connect-to-the-server-but-cant-list-files-or-perform-upload">PhpStorm似乎已连接到服务器，但无法列出文件或执行上传</h3>            <p id="241df14e">这可能是因为部署服务器需要所谓的被动FTP连接。若要设置此模式，请在选定服务器的“ <a href="deployment-connection-tab.html">部署：连接”选项卡中</a>选中“ <span class="control">被动模式”</span>复选框。</p>            <p id="e1bd2f53">在这种情况下，限制并发FTP连接的数量也可能会有所帮助。为此，请打开所选服务器的“ <a href="deployment-connection-tab.html">部署：连接”选项卡</a> ，选中“ <span class="control">限制并发连接数”</span>复选框，然后设置连接数（通常，如果遇到更多数量的服务器出现问题，则对于任何服务器，3-5个并发连接都可以。连接）。</p>        </div>        <div class="chapter"><h3 id="deploying-files-when-changing-branches-using-git-checkout">使用Git签出更改分支时部署文件</h3>            <p id="330c4daa">使用Git checkout在分支之间切换时，有两种方法可以部署文件：</p>            <ul class="list _ul"><li class="list__item" id="4ed4a79f">                    <p id="34d61061">一种方法是将部署配置为始终上传文件和外部更改。为此，在“ <a href="settings-deployment-options.html">选项”</a>页面上，将“将<span class="control">更改的文件上传到默认服务器”设置</span>为“ <span class="control">始终”，</span>然后清除“ <span class="control">跳过外部更改”</span>复选框。请注意，切换分支时，这会将所有文件上传到服务器。</p>                </li><li class="list__item" id="b30981b1">                    <p id="21ea11cb">使用<a href="https://github.com/git-ftp/git-ftp" rel="noopener noreferrer" data-external="true" target="_blank">git-ftp</a> 。它执行最少的上载，还能够镜像文件和目录的删除。</p>                </li></ul>        </div>    </div>    <div class="chapter"><h2 id="known-issues">已知的问题</h2>        <div class="chapter"><h3 id="is-rsync-supported-to-synchronize-files-and-folders-with-a-deployment-server">是否支持rsync将文件和文件夹与部署服务器同步？</h3>否。如果您认为这应该是PhpStorm <a href="https://youtrack.jetbrains.com/issue/WI-473" rel="noopener noreferrer" data-external="true" target="_blank">对该问题进行</a>投票的一部分。</div>    </div><div class="last-modified" data-skip-index="skip">上次修改时间：2019年11月29日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="editing-individual-files-on-remote-hosts.html">在远程主机上编辑单个文件</a> <a class="navigation-links__next" href="deployment-in-phpstorm.html">教程：在PhpStorm中进行部署</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>