<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>Using the WP-CLI command line tool - Help | PhpStorm</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body data-id="Using_the_WordPress_Command_Line_Tool_WP-CLI" data-breadcrumbs="PHP frameworks and external tools/Using_WordPress_Content_Management_System.xml|WordPress/Using_the_WordPress_Command_Line_Tool_WP-CLI.xml|Using the WP-CLI command line tool" data-main-title="Using the WP-CLI command line tool" data-article-props="&#xA;                {&#xA;                &#xA;            &#34;seeAlso&#34;:[&#xA;            &#xA;                {&#34;title&#34;: &#34;Procedures&#34;,&#xA;                 &#34;links&#34;: [&#xA;                &#xA;        {&#34;url&#34;:&#34;php-specific-command-line-tools.html&#34;,&#34;text&#34;:&#34;PHP Command Line Tools&#34;}&#xA;    &#xA;                    ]},&#xA;                {&#34;title&#34;: &#34;Reference&#34;,&#xA;                 &#34;links&#34;: [&#xA;                &#xA;        {&#34;url&#34;:&#34;frameworks-page.html&#34;,&#34;text&#34;:&#34;Frameworks&#34;}&#xA;    &#xA;                    ]},&#xA;                {&#34;title&#34;: &#34;Web Resources&#34;,&#xA;                 &#34;links&#34;: [&#xA;                &#xA;        {&#34;url&#34;:&#34;http://www.jetbrains.net/devnet/community/wi&#34;,&#34;text&#34;:&#34;Discussion Forum&#34;}&#xA;    ,&#xA;        {&#34;url&#34;:&#34;http://youtrack.jetbrains.com/issues/WI&#xA;            &#34;,&#34;text&#34;:&#34;Issue Tracker&#34;}&#xA;    &#xA;                    ]}&#xA;            ]&#xA;        &#xA;                }&#xA;            "><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search PhpStorm Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>PhpStorm 2019.3 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="primary" value="primary_default_for_windows" selected>Default for Windows</option><option data-group="primary" value="primary_default_for_macos">Default for macOS</option><option data-group="primary" value="primary_intellij_idea_classic_macos">IntelliJ IDEA Classic (macOS)</option><option data-group="primary" value="primary_emacs">Emacs</option><option data-group="primary" value="primary_visual_studio">Visual Studio</option><option data-group="primary" value="primary_default_for_xwin">Default for XWin</option><option data-group="primary" value="primary_default_for_gnome">Default for GNOME</option><option data-group="primary" value="primary_default_for_kde">Default for KDE</option><option data-group="primary" value="primary_eclipse">Eclipse</option><option data-group="primary" value="primary_eclipse_macos">Eclipse (macOS)</option><option data-group="primary" value="primary_netbeans">NetBeans</option><option data-group="primary" value="primary_sublime_text">Sublime Text</option><option data-group="primary" value="primary_sublime_text_macos">Sublime Text (macOS)</option><option data-group="secondary" value="secondary_default_for_windows">Default for Windows</option><option data-group="secondary" value="secondary_default_for_macos">Default for macOS</option><option data-group="secondary" value="secondary_intellij_idea_classic">IntelliJ IDEA Classic</option><option data-group="secondary" value="secondary_emacs">Emacs</option><option data-group="secondary" value="secondary_visual_studio">Visual Studio</option><option data-group="secondary" value="secondary_default_for_xwin">Default for XWin</option><option data-group="secondary" value="secondary_default_for_gnome">Default for GNOME</option><option data-group="secondary" value="secondary_default_for_kde">Default for KDE</option><option data-group="secondary" value="secondary_eclipse">Eclipse</option><option data-group="secondary" value="secondary_eclipse_macos">Eclipse (macOS)</option><option data-group="secondary" value="secondary_netbeans">NetBeans</option><option data-group="secondary" value="secondary_sublime_text">Sublime Text</option><option data-group="secondary" value="secondary_sublime_text_macos">Sublime Text (macOS)</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 data-toc="Using_the_WordPress_Command_Line_Tool_WP-CLI" id="Using_the_WordPress_Command_Line_Tool_WP-CLI.xml">Using the WP-CLI command line tool</h1>              <p id="124bf92d">        <a name="wp-cli"></a>        To run WordPress in the command line mode, you will need a set of command line tools, which you can acquire        by installing the <span class="emphasis">wp-cli/wp-cli</span> package using the Composer dependency manager or by downloading        the <span class="filepath">wp-cli.phar</span> archive.            The downloaded command line tool must be registered in PhpStorm as described in <a href="php-specific-command-line-tools.html">PHP Command Line Tools</a>.    </p>    <p id="0d885978">        For information about <span class="emphasis">running</span> the tool in the command line mode,        see <a href="php-specific-command-line-tools.html">PHP Command Line Tools</a>.    </p>    <div class="chapter"><h2 id="before-you-start" data-toc="Using_the_WordPress_Command_Line_Tool_WP-CLI#before-you-start">Before you start</h2>        <ul class="list _ul"><li class="list__item" id="998e0048"><p>                <a name="makeSurePhpInterpreterInstalledAndConfigured"></a>                Make sure the PHP interpreter is configured in PhpStorm on the <a href="php.html">PHP page</a>,    as described in <a href="configuring-local-interpreter.html">Configuring Local PHP Interpreters</a> and <a href="configuring-remote-interpreters.html">Configuring Remote PHP Interpreters</a>.                </p></li><li class="list__item" id="e8e5d1c5">                <p id="701bfb16">                    Make sure the <span class="emphasis">PHP</span> and <span class="emphasis">Command Line Tool Support</span> plugins                    are installed and enabled.                </p>                <a name="bundledPluginIfNotEnablePlural"></a>        The plugins are activated by default.        If the plugins are disabled, enable them on the <a href="plugins-settings.html">Plugins</a> page         as described in <a href="managing-plugins.html">Managing plugins</a>.                                </li><li class="list__item" id="5baffd83"><p>                Configure the <span class="emphasis">PHP interpreter</span> to use <span class="emphasis">WordPress</span> with, as                described <a href="configuring-remote-interpreters.html">Configuring Remote PHP Interpreters</a>.                Note that <span class="emphasis">WordPress</span> requires <span class="emphasis">PHP 5.3</span> or later.            </p></li></ul>    </div>    <div class="chapter"><h2 id="installing-the-wp-cli-package" data-toc="Using_the_WordPress_Command_Line_Tool_WP-CLI#installing-the-wp-cli-package">Installing the WP-CLI package using the Composer dependency manager</h2>        <p id="9a6fe95f">            Before you start, <a name="composer-prereq"></a>                make sure Composer is installed on your machine and initialized in the current project as described in <a href="using-the-composer-dependency-manager.html">Composer Dependency Manager</a>.            </p>        <p id="a9848a14">            <a name="composer_installation_completed_remark_end"></a>                Click <span class="control">Create</span>. The <a href="https://getcomposer.org/doc/03-cli.md#create-project" data-external="true" target="_blank" rel="noopener noreferrer">create-project</a> Composer command will be invoked with the selected package. As a result, the Composer project will be created, whose configuration and structure depends on the selected package. After that, the created PhpStorm project opens.            </p>        <section class="procedure-steps"><ol class="list _decimal"><li class="list__item" id="invoke_composer_add_dependency_alt"><p>                From the <span class="filepath">composer.json</span> context menu, choose <span class="control">Composer | Manage Dependencies</span>.            </p></li><li class="list__item" id="6b58fa0a">                <p id="afba26a9">In the                    <a href="add-composer-dependency.html">Manage Composer Dependencies Dialog</a>                    that opens, select the <span class="control">wp-cli/wp-cli</span> package from the <span class="control">Available Packages                    </span> list,                    possibly using the search field.                </p>                <p id="1af6b14f">                    <a name="composer_choose_package_version"></a>        Choose the relevant version from the <span class="control">Version to install</span> list.                    </p>            </li><li class="list__item" id="9e3bdd20">                <p id="ce340df0">                    If necessary, expand the <span class="control">Settings</span> hidden area and specify the advanced                    installation options.                </p>                <p id="623a53d5">In the <span class="control">Command line parameters</span> field,                    <a name="composer_add_dependency_advanced_settings"></a>                type the additional command line parameters.                            </p>            </li><li class="list__item" id="6c7a23b1"><p>                Click <span class="control">Install</span>.            </p></li></ol></section>            </div>    <div class="chapter"><h2 id="configuring-wp-cli" data-toc="Using_the_WordPress_Command_Line_Tool_WP-CLI#configuring-wp-cli">Using WP-CLI as a PhpStorm command line tool</h2>                <p id="65032cab">            Before you begin, download the <span class="filepath">wp-cli.phar</span> at <a href="http://wp-cli.org/" data-external="true" target="_blank" rel="noopener noreferrer">WordPress CLI</a>.        </p>        <section class="procedure-steps"><h3 id="configure-wp-cli">Configure WP-CLI as a command line tool</h3><a name="integrate_built_in_cli_tool"></a><ol class="list _decimal"><li class="list__item" id="339bfa42">            <p id="46179811"><a name="open_settings"></a>                In the        <a name="settings_dialog"></a>        <span class="control">Settings/Preferences</span> dialog <kbd data-primary_default_for_windows="Ctrl+Alt+S" data-primary_default_for_macos="⌘+Comma" data-primary_intellij_idea_classic_macos="⌘+Comma" data-primary_emacs="Ctrl+Alt+S" data-primary_visual_studio="Alt+F7" data-primary_default_for_xwin="Ctrl+Alt+S" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-primary_eclipse_macos="⌘+Comma" data-primary_netbeans="Ctrl+Alt+S" data-primary_sublime_text="Ctrl+Alt+S" data-primary_sublime_text_macos="⌘+Comma" data-secondary_default_for_windows="⌃⌥S" data-secondary_default_for_macos="⌘," data-secondary_intellij_idea_classic="⌘," data-secondary_emacs="⌃⌥S" data-secondary_visual_studio="⌥F7" data-secondary_default_for_xwin="⌃⌥S" data-secondary_default_for_gnome="⌃⌥S" data-secondary_default_for_kde="⌃⌥S" data-secondary_eclipse="⌃⌥S" data-secondary_eclipse_macos="⌘," data-secondary_netbeans="⌃⌥S" data-secondary_sublime_text="⌃⌥S" data-secondary_sublime_text_macos="⌘,">Ctrl+Alt+S</kbd>, go to <span data-skip-index="skip" class="menupath">Tools | Command Line Tool                Support</span>.            </p>        </li><li class="list__item" id="c55a2a83">            <p id="visibility_level">Click <img class="inline-icon-16" src="/help/img/idea/2019.3/icons.general.add@2x.png" width="16" alt="the Add button"> on the                toolbar.            </p>        </li><li class="list__item" id="2686c4e9">            <p id="cbcea3ac">In the <span class="control">Command Line Tools</span> dialog, choose                                <span class="control">WP-CLI</span>                                                from the list, and specify its visibility level (<span class="control">Project</span> or <span class="control">Global</span>).            </p>            <figure><img alt="the Command Line Tools dialog" title="the Command Line Tools dialog" src="/help/img/idea/2019.3/ps_cli_wp-cli_dialog.png" id="a9a658fa" width="400" height="294"></figure>        </li><li class="list__item" id="f3d1ee5f">            <p id="ae37e8a8">When you click <span class="control">OK</span>, the <span class="control">WP-CLI</span> dialog opens.             </p>                                                    <p id="8737ec14">                    Choose the way to run <span class="emphasis">WP-CLI</span>:                </p>                <ul class="list _bullet"><li class="list__item" id="2ebeca66">                        <span class="control">Installed via PHAR:</span>                        <a name="launch_composer_through_php_script_or_composer_phar"></a>                        Choose this option to launch <span class="emphasis">WordPress</span> through a PHP script or have PhpStorm detect and start the launcher in the <span class="filepath">wp-cli.phar</span> archive.                                    <p id="7baafeca">                            Choose one of the configured local PHP interpreters from the <span class="control">PHP Interpreter</span> list.                            See <a href="configuring-local-interpreter.html">Configuring Local PHP Interpreters</a> for details.                        </p>                        <p id="d6329e50">                            In the <span class="control">Path to phar</span> field, specify the location of the <span class="filepath">wp-cli.phar</span> archive.                            <a name="browseButton"></a>        Type the path manually or click <img class="inline-icon-16" src="/help/img/idea/2019.3/icons.general.openDisk@2x.png" width="16" alt="the Browse button">        and choose the desired location in the dialog that opens.                            </p>                    </li><li class="list__item" id="f950f18d">                        <span class="control">Executable available (installed via Composer, and so on):</span>                        <a name="wpExeAvailable"></a>                choose this option to launch <span class="emphasis">WordPress</span> through an executable file, which is available when you install <span class="emphasis">WordPress</span> using a package management tool,        for example, Composer.                            <p id="cb2fb654">                            In the <span class="control">Path to wp.bat</span> field,                            <a name="pathToWpBat"></a>        specify the location of the <span class="filepath">wp.bat</span> or <span class="filepath">wp</span> executable file. If you used Composer, the default location is        <span class="filepath">\vendor\wp\cli\bin\wp</span> or <span class="filepath">\vendor\wp\cli\bin\wp.bat</span>.                                <a name="browseButton"></a>        Type the path manually or click <img class="inline-icon-16" src="/help/img/idea/2019.3/icons.general.openDisk@2x.png" width="16" alt="the Browse button">        and choose the desired location in the dialog that opens.                            </p>                    </li></ul>                                                        </li><li class="list__item" id="c11a6fd1"><p>            <a name="customize_built_in_cli_tool"></a>        Click <span class="control">OK</span> to apply changes and return to the <span class="control">Command Line Tool        Support</span> page. Optionally, click <img class="inline-icon-16" src="/help/img/idea/2019.3/icons.actions.edit@2x.png" width="16" alt="the Edit button"> to edit the tool properties, or <img class="inline-icon-16" src="/help/img/idea/2019.3/icons.actions.editSource@2x.png" width="16" alt="the Edit Source button"> to customize the commands set. See <a href="php-specific-command-line-tools.html#customize_tool_definition">Customizing a tool</a> for details.            </p></li></ol></section>        <section class="procedure-steps"><h3 id="running-the-wp-cli-tool">Run WP-CLI commands</h3><p id="57a63c77">                You can run <span class="emphasis">WP-CLI</span> commands and analyze their output right in PhpStorm, just as the commands of any other command line tools, see <a href="php-specific-command-line-tools.html">PHP Command Line Tools</a>.            </p><ul class="list "><li class="list__item" id="1b1031fe">                <a name="ps_run_command_line_tool_command"></a>                        <p id="46660803">From the main menu, choose <span data-skip-index="skip" class="menupath">Tools | Run Command</span> or press <kbd data-primary_default_for_windows="Ctrl" data-primary_default_for_macos="Ctrl" data-primary_intellij_idea_classic_macos="Ctrl" data-primary_emacs="Ctrl" data-primary_visual_studio="Ctrl" data-primary_default_for_xwin="Ctrl" data-primary_default_for_gnome="Ctrl" data-primary_default_for_kde="Ctrl" data-primary_eclipse="Ctrl" data-primary_eclipse_macos="Ctrl" data-primary_netbeans="Ctrl" data-primary_sublime_text="Ctrl" data-primary_sublime_text_macos="Ctrl" data-secondary_default_for_windows="^" data-secondary_default_for_macos="^" data-secondary_intellij_idea_classic="^" data-secondary_emacs="^" data-secondary_visual_studio="^" data-secondary_default_for_xwin="^" data-secondary_default_for_gnome="^" data-secondary_default_for_kde="^" data-secondary_eclipse="^" data-secondary_eclipse_macos="^" data-secondary_netbeans="^" data-secondary_sublime_text="^" data-secondary_sublime_text_macos="^">Ctrl</kbd> twice.</p>        <p id="5b5e1cd9">In the <span class="control">Run Anything</span> window that opens, type the call of the command in the <code class="code">&lt;wp&gt; &lt;command&gt;</code>  format.</p>        <p id="4333a2af">            The command execution result is displayed in the <a href="run-tool-window.html">Run Tool Window</a>.        </p>                <figure data-theme="light" id="d28b73ff" width="800"><img class="js-gif" src="/help/img/idea/2019.3/ps_run_cli_tool_wp-cli.png" data-gif-src="/help/img/idea/2019.3/ps_run_cli_tool_wp-cli.animated.gif" width="800" style="width:800px;"></figure>                </li></ul></section>        <section class="procedure-steps"><h3 id="terminate-command">Terminate a command</h3><ul class="list "><li class="list__item" id="f6b860fa"><p>                Click <img class="inline-icon-16" src="/help/img/idea/2019.3/icons.actions.suspend@2x.png" width="16" alt="the Stop button"> on the <a href="run-tool-window.html">Run Tool Window</a> toolbar.            </p></li></ul></section>        <section class="procedure-steps"><h3 id="debugging-wp-cli-commands">Debug WP-CLI commands</h3><a name="debug_cli_tool_commands"></a><p id="53d72c43">            Wordpress commands are defined in controller classes that extend <code class="code">WP_CLI_Command</code>, as well as in arbitrary functions.            To debug a command, it is crucial that you debug the command itself, and not the controller class  or the  file it is defined in. Otherwise, the Wordpress bootstrapping process will be skipped, and the execution will fail.        </p><ol class="list _decimal"><li class="list__item" id="22a529f8">            <p id="a8e25a39">                In the controller class  or the file  corresponding to the selected command, click the editor gutter at a code line where you want to set a <a href="using-breakpoints.html">breakpoint</a>.            </p>            <figure><img alt="Set a breakpoint in a Wordpress command" title="Set a breakpoint in a Wordpress command" src="/help/img/idea/2019.3/ps_cli_wp-cli_command_set_breakpoint.png" id="05afb58d" class=" _border-line" width="800" height="252"></figure>        </li><li class="list__item" id="a44a5fc0">            <p id="1d8352c5">                Create a <a href="run-debug-configuration.html">run/debug configuration</a> that will run the <span class="filepath">wp-cli</span> tool with the selected command. In the main menu, select <span data-skip-index="skip" class="menupath">Run | Edit Configurations</span>,                then click <img class="inline-icon-16" src="/help/img/idea/2019.3/icons.general.add@2x.png" width="16" alt="the Add button"> and choose <span class="control">PHP Script</span> from the list.            </p>            <figure><img alt="Run/Debug configuration: PHP script" title="Run/Debug configuration: PHP script" src="/help/img/idea/2019.3/ps_run_debug_configuration_php_script.png" id="6a7394f5" width="1600" height="955"></figure>        </li><li class="list__item" id="e209d6b8">            <p id="8ab8b7ea">                In the <a href="run-debug-configuration-php-script.html">Run/Debug Configuration: PHP Script</a> dialog, provide the run/debug configuration parameters.            </p>            <ul class="list _ul"><li class="list__item" id="9a4180de"><p>                    In the <span class="control">File</span> field, provide the path to the <span class="filepath">wp-cli</span> executable file.                </p></li><li class="list__item" id="749ebbc8"><p>                    In the <span class="control">Arguments</span> field, type the actual command and its arguments, such as <code class="code">my-command print_year</code>.                </p></li></ul>            <figure><img alt="Run/Debug Configurations dialog for Wordpress CLI command" title="Run/Debug Configurations dialog for Wordpress CLI command" src="/help/img/idea/2019.3/ps_run_debug_cli_wp-cli_command.png" id="0fcbe292" width="800" height="802"></figure>        </li><li class="list__item" id="e9a89a71">            <p id="7b70ae54">On the PhpStorm toolbar, select the created run/debug configuration and click <img class="inline-icon-16" src="/help/img/idea/2019.3/icons.actions.startDebugger@2x.png" width="16" alt="the Debug button">. The command execution will stop at the specified breakpoint.</p>            <figure data-theme="light" id="8086e424" width="800"><img class="js-gif" src="/help/img/idea/2019.3/ps_cli_wp-cli_command_start_debugger.png" data-gif-src="/help/img/idea/2019.3/ps_cli_wp-cli_command_start_debugger.animated.gif" width="800" style="width:800px;"></figure>        </li></ol></section>    </div>    <div class="last-modified" data-skip-index="skip">Last modified: 29 November 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="wordpress-aware-coding-assistance.html">WordPress-specific coding assistance</a><a class="navigation-links__next" href="drupal-support.html">Drupal</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>