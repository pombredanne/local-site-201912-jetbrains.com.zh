<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>解决常见的PHP调试问题-帮助|帮助暴风雨</title><link rel="stylesheet" href="/resources.jetbrains.com/storage/help-app/v3/app.css"></head><body  data-id="php.debugging.troubleshoot" data-breadcrumbs="Debugging_with_PhpStorm_Ultimate_Guide.xml|Debugging with PhpStorm: Ultimate Guide/Troubleshooting_PHP_debugging.xml|Troubleshooting common PHP debugging issues" data-main-title="Troubleshooting common PHP debugging issues"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索PhpStorm帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>PhpStorm 2019.3帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option value="primary_default_for_windows" data-group="primary" selected>Windows的默认设置</option><option value="primary_default_for_macos" data-group="primary">macOS的默认设置</option><option value="primary_intellij_idea_classic_macos" data-group="primary">IntelliJ IDEA经典版（macOS）</option><option value="primary_emacs" data-group="primary">埃马克斯</option><option value="primary_visual_studio" data-group="primary">视觉工作室</option><option value="primary_default_for_xwin" data-group="primary">XWin的默认设置</option><option value="primary_default_for_gnome" data-group="primary">GNOME的默认设置</option><option value="primary_default_for_kde" data-group="primary">KDE的默认值</option><option value="primary_eclipse" data-group="primary">日食</option><option value="primary_eclipse_macos" data-group="primary">Eclipse（macOS）</option><option value="primary_netbeans" data-group="primary">NetBeans</option><option value="primary_sublime_text" data-group="primary">崇高文字</option><option value="primary_sublime_text_macos" data-group="primary">崇高文字（macOS）</option><option value="secondary_default_for_windows" data-group="secondary">Windows的默认设置</option><option value="secondary_default_for_macos" data-group="secondary">macOS的默认设置</option><option value="secondary_intellij_idea_classic" data-group="secondary">IntelliJ IDEA经典版</option><option value="secondary_emacs" data-group="secondary">埃马克斯</option><option value="secondary_visual_studio" data-group="secondary">视觉工作室</option><option value="secondary_default_for_xwin" data-group="secondary">XWin的默认设置</option><option value="secondary_default_for_gnome" data-group="secondary">GNOME的默认设置</option><option value="secondary_default_for_kde" data-group="secondary">KDE的默认值</option><option value="secondary_eclipse" data-group="secondary">日食</option><option value="secondary_eclipse_macos" data-group="secondary">Eclipse（macOS）</option><option value="secondary_netbeans" data-group="secondary">NetBeans</option><option value="secondary_sublime_text" data-group="secondary">崇高文字</option><option value="secondary_sublime_text_macos" data-group="secondary">崇高文字（macOS）</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 id="Troubleshooting_PHP_debugging.xml" data-toc="php.debugging.troubleshoot">解决常见的PHP调试问题</h1>    <p id="e24f8b65">本节提供了有关PhpStorm中<a href="debugging-with-phpstorm-ultimate-guide.html">调试</a>常见问题的解决方案和变通办法的列表。</p>    <a name="collect_logs"></a>                <div class="chapter"><h2 id="collecting-logs" data-toc="php.debugging.troubleshoot#collecting-logs">收集PhpStorm调试日志</h2>            <p id="a0c64710">如果本节未解决您的问题，请联系我们的支持工程师。如果要求提供部署日志，请<a href="https://intellij-support.jetbrains.com/hc/en-us/articles/207241115" rel="noopener noreferrer" data-external="true" target="_blank">按照说明</a>进行收集。</p>            <section class="procedure-steps"><div class="collapse"><div class="collapse__title"><h3 id="c99fcb56">收集调试日志</h3></div><div class="collapse__content"><ol class="list _decimal"><li class="list__item" id="ff03a354"><p>选择<span class="menupath" data-skip-index="skip">帮助|</span>在主菜单中<span class="menupath" data-skip-index="skip">配置调试日志</span> 。</p></li><li class="list__item" id="42e4d774">                    <p id="a45c37a0">在打开的“ <span class="control">自定义调试日志配置”</span>对话框中，根据遇到的问题添加以下几行：</p>                    <ul class="list _ul"><li class="list__item" id="83fcb035"><p>PHP调试问题： <code class="code">#com.jetbrains.php.debug</code>                        </p></li></ul>                    <p id="110dab69">                                                </p><figure><img alt="收集日志" title="收集日志" src="/help/img/idea/2019.3/ps_collect_debugging_logs.png" id="7ac2ba4e" width="384" height="554"></figure>                    <p></p>                </li><li class="list__item" id="c0b35336"><p>单击<span class="control">确定，</span>并重现该问题。</p></li><li class="list__item" id="b6372f22">                    <p id="b7772d76">通过选择<span class="menupath" data-skip-index="skip">帮助|</span>查找日志文件<span class="menupath" data-skip-index="skip">。在资源管理器中显示登录</span> （适用于Windows和Linux）或“ <span class="menupath" data-skip-index="skip">帮助” |显示在Finder中登录</span> （适用于macOS）。</p>                    <p id="2cf677ef">如有必要，您可以手动找到日志：</p>                    <div class="tabs" id="6ae043c4"><div class="tabs__content" id="471dad58" data-title="Windows">                            <dl><dt id="73ca7b8d">句法</dt><dd>                                    <span class="filepath">％HOMEPATH％\。 <product><version>\ system \ log</version></product></span>                                </dd><dt id="7e92089f">例</dt><dd>                                    <span class="filepath">C：\ Users \ JohnS \。PhpStorm2019.3 \ system \ log</span>                                </dd></dl>                        </div><div class="tabs__content" id="59a91696" data-title="macOS">                            <dl><dt id="dd4c6e43">句法</dt><dd>                                    <span class="filepath">〜/图书馆/日志/ <product><version></version></product></span>                                </dd><dt id="1affa0f7">例</dt><dd>                                    <span class="filepath">〜/图书馆/日志/PhpStorm2019.3</span>                                </dd></dl>                        </div><div class="tabs__content" id="d8c3e856" data-title="Linux">                            <dl><dt id="7c643f3a">句法</dt><dd>                                    <span class="filepath">〜/。 <product><version>/系统/日志</version></product></span>                                </dd><dt id="5f456c08">例</dt><dd>                                    <span class="filepath">〜/。PhpStorm2019.3 /系统/日志</span>                                </dd></dl>                        </div></div>                    <p id="17ff8735">最新的日志文件名为<span class="filepath">idea.log</span> ；较旧的文件名以数字结尾，即<span class="filepath">idea.log.1</span> ， <span class="filepath">idea.log.2</span>等。在大多数情况下，您只需要最新的。</p>                </li><li class="list__item" id="94217bd5"><p>将日志文件附加到<a href="http://youtrack.jetbrains.net/issues/WI#newissue=yes" rel="noopener noreferrer" data-external="true" target="_blank">问题</a>或<a href="https://intellij-support.jetbrains.com/hc/en-us/community/topics/200367219-PhpStorm" rel="noopener noreferrer" data-external="true" target="_blank">论坛主题</a> 。</p></li></ol></div></div></section>        </div>        <div class="chapter"><h2 id="collect-xdebug-logs" data-toc="php.debugging.troubleshoot#collect-xdebug-logs">收集Xdebug日志</h2>        <p id="enable_logging">使用Xdebug时，可以使其<a href="https://xdebug.org/docs/all_settings#remote_log" rel="noopener noreferrer" data-external="true" target="_blank">记录操作</a> 。</p><aside class="prompt" rel="enable_logging" id="f48751f6" data-type="note" data-title="">            <p id="f2ef9aa3">日志文件将不会自动翻转或被截断，并且可能会增长到很大的文件大小。当不再需要日志记录时，建议将其禁用。</p>        </aside>        <ol class="list _decimal"><li class="list__item" id="7d9767a7">            <p id="a96e0f9a">                <a name="open_settings"></a>在里面<a name="settings_dialog"></a> <span class="control">设置/首选项</span>对话框<kbd data-primary_default_for_windows="Ctrl+Alt+S" data-primary_default_for_macos="⌘+Comma" data-primary_intellij_idea_classic_macos="⌘+Comma" data-primary_emacs="Ctrl+Alt+S" data-primary_visual_studio="Alt+F7" data-primary_default_for_xwin="Ctrl+Alt+S" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-primary_eclipse_macos="⌘+Comma" data-primary_netbeans="Ctrl+Alt+S" data-primary_sublime_text="Ctrl+Alt+S" data-primary_sublime_text_macos="⌘+Comma" data-secondary_default_for_windows="⌃⌥S" data-secondary_default_for_macos="⌘," data-secondary_intellij_idea_classic="⌘," data-secondary_emacs="⌃⌥S" data-secondary_visual_studio="⌥F7" data-secondary_default_for_xwin="⌃⌥S" data-secondary_default_for_gnome="⌃⌥S" data-secondary_default_for_kde="⌃⌥S" data-secondary_eclipse="⌃⌥S" data-secondary_eclipse_macos="⌘," data-secondary_netbeans="⌃⌥S" data-secondary_sublime_text="⌃⌥S" data-secondary_sublime_text_macos="⌘,">Ctrl+Alt+S</kbd> ，在“ <span class="control">语言和框架”</span>下选择“ <span class="control">PHP</span> <span class="control">”</span> 。</p>        </li><li class="list__item" id="8da0ab71"><p>从<span class="control">PHP可执行文件</span>列表中，选择相关的PHP解释器，然后单击<img class="inline-icon-9" src="/help/img/idea/2019.3/icons.general.ellipsis@2x.png" width="9" alt="浏览按钮">在它的旁边。在打开的“ <a href="php-interpreters.html">CLI解释器”</a>对话框中，单击<span class="control">配置文件</span>旁边的“ <span class="control">在编辑器中打开”</span>链接<span class="control">： <path to="" php.ini=""></path></span>文件。关闭所有对话框，然后切换到打开<span class="filepath">php.ini</span>文件的选项卡。</p></li><li class="list__item" id="d4b8d1db">                <p id="c055b417">在<span class="filepath">php.ini中</span> ，启用<code class="code">xdebug.remote_log</code>通过添加以下行：</p>                <div class="code-block" data-lang="bash">xdebug.remote_log = path_to_log / xdebug.log</div>                <p id="6702637b">日志文件包含PhpStorm和Xdebug之间的原始通信以及任何警告或错误：</p>                <div class="code-block" data-lang="bash">日志于2018-01-08 08:14:28打开：I：连接到已配置的地址/端口：127.0.0.1:9000。I：已连接到客户端。 :-)-> <init xmlns="urn:debugger_protocol_v1" xmlns:xdebug="http://xdebug.org/dbgp/xdebug" fileuri="file:///C:/Projects/Samples/DebuggingTutorial/debugging.php" language="PHP" protocol_version="1.0" appid="3040" idekey="11774"><engine version="2.2.5"><![CDATA[Xdebug]]></engine> <author><![CDATA[Derick
                    Rethans]] gtc:encodedoriginal="PCFbQ0RBVEFbRGVyaWNrCiAgICAgICAgICAgICAgICAgICAgUmV0aGFuc11dPg=="></author> <url><![CDATA[http://xdebug.org]] gtc:encodedoriginal="PCFbQ0RBVEFbaHR0cDovL3hkZWJ1Zy5vcmddXT4="></url> <copyright><![CDATA[Copyright
                    (c) 2002-2018 by Derick Rethans]] gtc:encodedoriginal="PCFbQ0RBVEFbQ29weXJpZ2h0CiAgICAgICAgICAgICAgICAgICAgKGMpIDIwMDItMjAxOCBieSBEZXJpY2sgUmV0aGFuc11dPg=="></copyright></init> <-step_into -i 5-> <response xmlns="urn:debugger_protocol_v1" xmlns:xdebug="http://xdebug.org/dbgp/xdebug" command="step_into" transaction_id="5" status="break" reason="ok"><xdebug:message filename="file:///C:/Projects/Samples/DebuggingTutorial/debugging.php" lineno="2"></xdebug:message></response>
    </div>            </li></ol>            </div>    <div class="chapter"><h2 id="verify-xdebug-zend-debugger" data-toc="php.debugging.troubleshoot#verify-xdebug-zend-debugger">确保已安装和配置Xdebug或Zend Debugger</h2>        <p id="385291bc">要使用PhpStorm调试PHP代码，请确保已正确安装和配置了调试引擎<a href="http://xdebug.org/download.php" rel="noopener noreferrer" data-external="true" target="_blank">Xdebug</a>或<a href="http://www.zend.com/en/products/studio/downloads" rel="noopener noreferrer" data-external="true" target="_blank">Zend Debugger</a> 。</p>        <p id="74bbf916">这些工具相互阻塞，因此无法同时使用。为避免此问题，您需要按照<a href="configuring-xdebug.html">配置Xdebug</a>和<a href="configuring-zend-debugger.html">配置Zend Debugger中的</a>描述更新<span class="filepath">php.ini</span>文件中的相应部分。</p>        <p id="a4caadac">为了验证调试发动机配置，执行的步骤中描述的<a href="validating-the-configuration-of-the-debugging-engine.html">验证一个调试引擎的配置</a>        </p>    </div>    <div class="chapter"><h2 id="startup-warnings-errors" data-toc="php.debugging.troubleshoot#startup-warnings-errors">启动警告和错误导致调试器无法运行</h2>        <p id="00e7a5d4">运行PHP时，可能会显示启动警告或错误。在这种情况下，调试器可能无法工作。PhpStorm也将无法识别正在使用的调试器。</p>        <p id="8606fa1c">要验证没有显示启动警告或错误，请运行以下命令：</p>        <div class="code-block" data-lang="bash">php --version</div>        <p id="3d3d7980">这将返回类似于以下内容的消息：</p>        <div class="code-block" data-lang="bash">
            <some error="" /warning="">PHP 7.1.20（CLI）（内置：2018年7月20日10:27:12）（NTS）版权所有（c）1997-2018 The PHP Group Zend Engine v3.1.0，版权所有（c）1998-2018 Zend Technologies with Zend OPcache v7.1.20，版权所有（c）1999-2018，由Zend Technologies与Xdebug v2.6.0，版权所有（c）2002-2018，由Derick Rethans</some></div>        <p id="7bc46bc4">如果第一行出现任何错误或警告，建议在继续操作之前进行修复。</p>    </div>    <div class="chapter"><h2 id="debugger-cannot-connect" data-toc="php.debugging.troubleshoot#debugger-cannot-connect">调试器无法连接</h2>        <p id="08142471">当调试器无法连接或拒绝连接时，请检查以下内容：</p>        <ul class="list _ul"><li class="list__item" id="d66026a7">                <p id="b6262899">确保将Xdebug或Zend Debugger配置为连接到主机，并且PhpStorm端口正在运行。</p>                <ul class="list _ul"><li class="list__item" id="fd725f51"><p>在Xdebug配置中，确保<code class="code" data-markx="189"></code>和<code class="code" data-markx="190"></code>是正确的。有关详细信息，请参考<a href="http://xdebug.org/docs/all_settings#remote_host" rel="noopener noreferrer" data-external="true" target="_blank">Xdebug文档</a> 。</p></li><li class="list__item" id="66315a6e"><p>使用Zend Debugger时，请确保将生成的<a href="/phpstorm/marklets/" rel="noopener noreferrer" data-external="true" target="_blank">PhpStorm书签</a>或<a href="browser-debugging-extensions.html">浏览器调试扩展</a>配置为使用正确的IP地址和端口。</p></li><li class="list__item" id="a50cbf15"><p>使用远程PHP解释器时，请验证<a href="remote-debugging-via-ssh-tunnel.html">通过SSH隧道</a>进行<a href="remote-debugging-via-ssh-tunnel.html">远程调试中</a>概述的步骤。</p></li></ul>            </li><li class="list__item" id="5667c079">                <p id="6b1955e2"><a name="open_settings"></a>在里面<a name="settings_dialog"></a> <span class="control">设置/首选项</span>对话框<kbd data-primary_default_for_windows="Ctrl+Alt+S" data-primary_default_for_macos="⌘+Comma" data-primary_intellij_idea_classic_macos="⌘+Comma" data-primary_emacs="Ctrl+Alt+S" data-primary_visual_studio="Alt+F7" data-primary_default_for_xwin="Ctrl+Alt+S" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-primary_eclipse_macos="⌘+Comma" data-primary_netbeans="Ctrl+Alt+S" data-primary_sublime_text="Ctrl+Alt+S" data-primary_sublime_text_macos="⌘+Comma" data-secondary_default_for_windows="⌃⌥S" data-secondary_default_for_macos="⌘," data-secondary_intellij_idea_classic="⌘," data-secondary_emacs="⌃⌥S" data-secondary_visual_studio="⌥F7" data-secondary_default_for_xwin="⌃⌥S" data-secondary_default_for_gnome="⌃⌥S" data-secondary_default_for_kde="⌃⌥S" data-secondary_eclipse="⌃⌥S" data-secondary_eclipse_macos="⌘," data-secondary_netbeans="⌃⌥S" data-secondary_sublime_text="⌃⌥S" data-secondary_sublime_text_macos="⌘," data-markx="204"></kbd> ，导航到<span class="menupath" data-skip-index="skip">语言和框架| PHP |调试</span>并确保PhpStorm和Xdebug / Zend Debugger配置了相同的端口号。</p>            </li><li class="list__item" id="5a067d64"><p>                <a name="enable_listening_debug_connections"></a>在PhpStorm中，通过单击以下任一方法来侦听传入的调试连接<img class="inline-icon-16" src="/help/img/idea/2019.3/php.icons.debug_listen_off@2x.png" width="16" alt="“开始侦听PHP调试连接”按钮">在工具栏上，或选择<span class="menupath" data-skip-index="skip">运行|</span>在主菜单中<span class="menupath" data-skip-index="skip">开始侦听PHP调试连接</span> 。这将确保PhpStorm在启动调试会话时做出反应，并自动打开“ <a href="debug-tool-window.html">调试工具”窗口</a> 。启动脚本之前，请确保在<span class="control">“设置/首选项”</span>对话框的<span class="control">“</span> <a href="debug.html">调试”</a>页面上<span class="control">设置</span>了<a href="using-breakpoints.html">断点</a>或启用了“ <span class="control">PHP脚本中的第一行中断</span> <span class="control">”选项。</span> <kbd data-primary_default_for_windows="Ctrl+Alt+S" data-primary_default_for_macos="⌘+Comma" data-primary_intellij_idea_classic_macos="⌘+Comma" data-primary_emacs="Ctrl+Alt+S" data-primary_visual_studio="Alt+F7" data-primary_default_for_xwin="Ctrl+Alt+S" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-primary_eclipse_macos="⌘+Comma" data-primary_netbeans="Ctrl+Alt+S" data-primary_sublime_text="Ctrl+Alt+S" data-primary_sublime_text_macos="⌘+Comma" data-secondary_default_for_windows="⌃⌥S" data-secondary_default_for_macos="⌘," data-secondary_intellij_idea_classic="⌘," data-secondary_emacs="⌃⌥S" data-secondary_visual_studio="⌥F7" data-secondary_default_for_xwin="⌃⌥S" data-secondary_default_for_gnome="⌃⌥S" data-secondary_default_for_kde="⌃⌥S" data-secondary_eclipse="⌃⌥S" data-secondary_eclipse_macos="⌘," data-secondary_netbeans="⌃⌥S" data-secondary_sublime_text="⌃⌥S" data-secondary_sublime_text_macos="⌘," data-markx="216"></kbd> 。</p></li><li class="list__item" id="6bb638ee"><p>确认没有防火墙，路由器或ISP阻止连接。可以通过运行来验证<code class="code" data-markx="219"></code>要么<code class="code" data-markx="220"></code> （适用于Zend Debugger）从远程服务器（主机是运行PhpStorm的本地计算机的IP地址）中并建立连接。您可以使用<a href="http://www.canyouseeme.org" rel="noopener noreferrer" data-external="true" target="_blank">http://www.canyouseeme.org</a>或类似的服务来检查打开的入站端口。</p></li><li class="list__item" id="4495e5f5"><p>确保<code class="code" data-markx="224"></code> （对于Xdebug）或<code class="code" data-markx="225"></code> （对于Zend Debugger）已正确配置。该值可以是主机名（例如<span class="filepath">localhost</span> ）或运行PhpStorm的计算机的IP地址，并且必须可以从服务器ping通。使用Xdebug时，可以使用<a href="https://xdebug.org/docs/all_settings#remote_connect_back" rel="noopener noreferrer" data-external="true" target="_blank">xdebug.remote_connect_back</a>进行故障排除。</p></li></ul>    </div>    <div class="chapter"><h2 id="no-mappings" data-toc="php.debugging.troubleshoot#no-mappings">远程文件路径未映射到项目中的任何文件路径</h2>        <p id="6b7f74d6">在某些情况下，调试器可以连接，但是我们收到错误消息，指示未定义远程文件与项目文件之间的映射。这意味着PhpStorm无法确定哪个本地文件对应于正在调试的文件。</p>        <figure><img alt="没有指定文件夹映射" title="没有指定文件夹映射" src="/help/img/idea/2019.3/ps_debug_no_mapping.png" id="ffb00db8" width="776" height="484"></figure>        <p id="8d07039d">我们可以通过单击<span class="control">Click来设置路径映射</span>并提供必要的路径映射来解决此问题。</p>        <p id="67795fba">当服务器处理的文件路径与PhpStorm项目中的文件路径不同时，将使用路径映射。在以下情况下会发生这种情况：</p>        <ul class="list _ul"><li class="list__item" id="1fe02095"><p>服务器是远程的，项目文件是原始文件的本地副本。</p></li><li class="list__item" id="26b1404e"><p>服务器处理的文件和在IDE中打开的文件是相同的，但是使用了符号链接。由于调试器会在调试会话期间解析符号链接，因此您需要告诉IDE服务器上文件的实际实际物理路径。</p></li></ul>        <p id="a3628b86">要配置路径映射， <a name="open_settings"></a>在里面<a name="settings_dialog"></a> <span class="control">设置/首选项</span>对话框<kbd data-primary_default_for_windows="Ctrl+Alt+S" data-primary_default_for_macos="⌘+Comma" data-primary_intellij_idea_classic_macos="⌘+Comma" data-primary_emacs="Ctrl+Alt+S" data-primary_visual_studio="Alt+F7" data-primary_default_for_xwin="Ctrl+Alt+S" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-primary_eclipse_macos="⌘+Comma" data-primary_netbeans="Ctrl+Alt+S" data-primary_sublime_text="Ctrl+Alt+S" data-primary_sublime_text_macos="⌘+Comma" data-secondary_default_for_windows="⌃⌥S" data-secondary_default_for_macos="⌘," data-secondary_intellij_idea_classic="⌘," data-secondary_emacs="⌃⌥S" data-secondary_visual_studio="⌥F7" data-secondary_default_for_xwin="⌃⌥S" data-secondary_default_for_gnome="⌃⌥S" data-secondary_default_for_kde="⌃⌥S" data-secondary_eclipse="⌃⌥S" data-secondary_eclipse_macos="⌘," data-secondary_netbeans="⌃⌥S" data-secondary_sublime_text="⌃⌥S" data-secondary_sublime_text_macos="⌘," data-markx="245"></kbd> ，导航到<span class="menupath" data-skip-index="skip">语言和框架| PHP |服务器</span> 。</p>        <figure><img alt="设置文件夹映射" title="设置文件夹映射" src="/help/img/idea/2019.3/ps_php_debug_server_mappings.png" id="50a70b75" width="893" height="886"></figure>        <p id="ad3fdf45">如果服务器处理的文件在项目中，并且您没有使用符号链接，请清除“ <span class="control">使用路径映射”</span>复选框。在这种情况下，IDE将根据从调试器收到的路径打开文件。</p>        <p id="dea3576a">为父目录指定的路径映射将自动应用于其所有子目录。如有必要，可以指定任何子目录或文件的路径映射。</p>        <p id="4e0cb310">有关更多详细信息，请参见<a href="configuring-synchronization-with-a-remote-host.html">配置与Web服务器的同步</a> 。</p>    </div>        <div class="chapter"><h2 id="breakpoints-not-hit" data-toc="php.debugging.troubleshoot#breakpoints-not-hit">断点没有被击中</h2>        <p id="faf0619a">当没有达到断点但调试器似乎已连接时，请验证以下内容：</p>        <ul class="list _ul"><li class="list__item" id="92687e2f"><p>确认未禁用断点。使用<span class="menupath" data-skip-index="skip">运行|查看断点...</span>菜单命令（ <kbd data-primary_default_for_windows="Ctrl+Shift+F8" data-primary_default_for_macos="Shift+⌘+F8" data-primary_intellij_idea_classic_macos="Shift+⌘+F8" data-primary_emacs="Ctrl+Shift+F8" data-primary_visual_studio="Alt+F9" data-primary_default_for_xwin="Ctrl+Shift+F8" data-primary_default_for_gnome="Ctrl+Shift+F8" data-primary_default_for_kde="Ctrl+Shift+8" data-primary_eclipse="Ctrl+Shift+F8" data-primary_eclipse_macos="Shift+⌘+F8" data-primary_netbeans="Ctrl+Shift+F8" data-primary_sublime_text="Ctrl+Shift+F8" data-primary_sublime_text_macos="Shift+⌘+F8" data-secondary_default_for_windows="⌃⇧F8" data-secondary_default_for_macos="⇧⌘F8" data-secondary_intellij_idea_classic="⇧⌘F8" data-secondary_emacs="⌃⇧F8" data-secondary_visual_studio="⌥F9" data-secondary_default_for_xwin="⌃⇧F8" data-secondary_default_for_gnome="⌃⇧F8" data-secondary_default_for_kde="⌃⇧8" data-secondary_eclipse="⌃⇧F8" data-secondary_eclipse_macos="⇧⌘F8" data-secondary_netbeans="⌃⇧F8" data-secondary_sublime_text="⌃⇧F8" data-secondary_sublime_text_macos="⇧⌘F8" data-markx="261"></kbd> ），检查是否已启用断点。选中一个断点旁边的复选框以启用它。</p></li><li class="list__item" id="945d3a49"><p>确保<a href="#no-mappings">路径映射正确</a> 。</p></li><li class="list__item" id="47c7eb93"><p>在macOS上，当使用Finder重命名文件或文件夹并且字母大小写更改时，PhpStorm可能无法找到文件。如果需要重命名，请确保在IDE中或使用终端进行重命名。 <code class="code" data-markx="267"></code>命令。使用Finder重命名项目文件或文件夹可能会导致奇怪的行为。有关更多详细信息，请参见<a href="http://devnet.jetbrains.com/message/5488439#5488439" rel="noopener noreferrer" data-external="true" target="_blank">此处</a> 。</p></li><li class="list__item" id="1bf3f25b"><p>在极少数情况下，由于技术限制（例如，由PHP生成字节码的方式引起的）无法击中断点。有关更多详细信息，请参见<a href="https://youtrack.jetbrains.com/issue/WI-20398#comment=27-599855" rel="noopener noreferrer" data-external="true" target="_blank">此处</a> 。</p></li></ul>        <p id="288a9d75">使用Xdebug时，您可以使用<code class="code" data-markx="273"></code>用于从PHP内部强制断点的函数。当Xdebug在执行过程中遇到此函数时，即使最初未在其中定义断点，它也会在IDE中的下一条语句处暂停。</p>    </div>        <div class="chapter"><h2 id="debugger-does-not-work-nginx" data-toc="php.debugging.troubleshoot#debugger-does-not-work-nginx">使用Nginx时，调试器不起作用</h2>使用<a href="https://www.nginx.com" rel="noopener noreferrer" data-external="true" target="_blank">Nginx</a> Web服务器时，如果<code class="code" data-markx="277"></code>不是由PHP提供的。要解决此问题，请添加一个<code class="code" data-markx="278"></code> nginx配置的参数：<div class="code-block" data-lang="bash">fastcgi_param SERVER_NAME $ server_name;</div>                <p id="61d2dfd2">要么</p>                <div class="code-block" data-lang="bash">fastcgi_param SERVER_NAME $ host;</div>请参阅<a href="https://www.nginx.com/resources/wiki/start/topics/examples/phpfcgi/" rel="noopener noreferrer" data-external="true" target="_blank">nginx文档，</a>并<a href="https://devnet.jetbrains.com/message/5494835#5494835" rel="noopener noreferrer" data-external="true" target="_blank">在此处</a>查看更多详细信息。</div>    <div class="chapter"><h2 id="xdebug-cannot-connect" data-toc="php.debugging.troubleshoot#xdebug-cannot-connect">Xdebug无法连接到PhpStorm</h2>                <p id="ba7aeaf5">如果您在Xdebug日志中看到以下消息：</p>                <div class="code-block" data-lang="bash">日志于2017-02-21 17:52:27打开：I：连接到已配置的地址/端口：172.19.0.1:9000。W：正在为“ 172.19.0.1:9000”创建套接字，轮询成功，但是错误：操作正在进行中（29）。E：无法连接到客户端。 ：失望：日志于2017-02-21 17:52:27关闭</div>                <p id="c8502e31">要么</p>                <div class="code-block" data-lang="bash">日志于2017-02-22 13:17:13打开：I：连接到已配置的地址/端口：10.10.10.10:9000。E：超时连接到客户端。 :-(日志于2017-02-22 13:17:14关闭</div>                <p id="bbf8a2a1">这意味着Xdebug尝试连接到主机，无法建立连接。要解决此问题，请设置<code class="code" data-markx="291"></code>并确保<code class="code" data-markx="292"></code>设置正确。</p>    </div>    <div class="chapter"><h2 id="debugging-framework-cli-command-results-in-php-errors" data-toc="php.debugging.troubleshoot#debugging-framework-cli-command-results-in-php-errors">尝试调试框架CLI命令会导致PHP错误</h2>        <p id="a3d38e38">尝试调试PHP框架命令行工具（例如<span class="emphasis">Symfony Console</span>或<span class="emphasis">Laravel Artisan）</span>的CLI命令时，调试失败并显示PHP错误<code class="code" data-markx="298"></code>或类似。</p>        <p id="e6db4ca3">导致此类错误的常见原因是尝试直接使用命令调试文件或类。相反，您应该使用<a href="run-debug-configuration-php-script.html">“运行/调试配置：PHP脚本”</a> ，在其中提供命令行工具的路径以及要运行的实际命令。在这种情况下，将应用框架命令自举逻辑，并且调试将正常进行。</p>        <figure><img alt="Artisan的PHP脚本运行/调试配置" title="Artisan的PHP脚本运行/调试配置" src="/help/img/idea/2019.3/ps_run_debug_cli_artisan_command.png" id="30c2ca5e" width="800" height="816"></figure>        <p id="1d311cd6">有关详细信息，请参阅以下特定于框架的指南：</p>        <ul class="list _ul"><li class="list__item" id="b06a34f9">                <a href="symfony-support.html#debug_cli_tool_commands">调试Symfony CLI命令</a>            </li><li class="list__item" id="5fb43246">                <a href="laravel.html#debug_cli_tool_commands">调试Artisan CLI命令</a>            </li><li class="list__item" id="404c4e22">                <a href="using-the-wordpress-command-line-tool-wp-cli.html#debug_cli_tool_commands">调试Wordpress WP-CLI命令</a>            </li><li class="list__item" id="f2cf6fee">                <a href="drupal-support.html#debug_cli_tool_commands">调试Drush CLI命令</a>            </li></ul>    </div>    <div class="chapter"><h2 id="zend-debugger-not-dropping-privileges" data-toc="php.debugging.troubleshoot#zend-debugger-not-dropping-privileges">Zend Debugger将不会执行特权删除</h2>    <p id="26afe943">在Linux上使用Zend Debugger时，有时可能会看到以下错误：</p>    <div class="code-block" data-lang="bash">Zend Debugger：无法读取zend_debugger.httpd_uid或zend.httpd_uid的有效值，将不会执行特权删除</div>    <p id="b3005e28">当调试器无法确定运行Web服务器进程的用户的UID时，会发生此错误。找到该用户的UID并将其添加到<span class="filepath">php.ini中</span> ：</p>        <div class="code-block" data-lang="ini">zend_debugger.httpd_uid = 1234</div>        <p id="e2b81b84">更新设置后，重新启动Web服务器。</p>        </div>    <div class="chapter"><h2 id="debugging-with-ioncube" data-toc="php.debugging.troubleshoot#debugging-with-ioncube">在安装ionCube的情况下进行调试</h2>    <p id="fe87a6b2">在某些PHP环境中， <a href="http://www.ioncube.com" rel="noopener noreferrer" data-external="true" target="_blank">ionCube</a>用于加载和运行编码的PHP代码。ionCube loader扩展程序通过对要运行的PHP代码进行解码，然后确保PHP解释程序可以执行它，来实现此目的。</p>        <p id="885ae01f">正式地，在启用ionCube的情况下，Xdebug和Zend Debugger都不支持运行，但是可以尝试一些解决方法。请注意，JetBrains，ionCube，Xdebug或Zend Debugger不支持这些功能。</p>        <ul class="list _ul"><li class="list__item" id="e12a3d4c">                <p id="48713034">                    <span class="emphasis">确保先加载ionCube加载程序模块</span>                </p>                <p id="e2beae18">在<span class="filepath">php.ini中</span> ，在加载任何调试器扩展之前，请验证是否已加载ionCube加载程序，例如：</p>                <div class="code-block" data-lang="ini">zend_extension = / usr / local / lib / php / extensions / no-debug-non-zts-20100525 / ioncube_loader_lin_5.4.so zend_extension = / usr / local / lib / php / extensions / no-debug-non-zts-20100525 /xdebug.so</div>            </li><li class="list__item" id="21733501">                <p id="c1cbf50b">                    <span class="emphasis">使用ionCube按需加载</span>                </p>                <p id="bd5fa5dc">我们可以在<span class="filepath">php.ini中</span>禁用ionCube扩展，并使用ionCube的按需加载功能。加载第一个编码的PHP脚本时，PHP解释器将检查配置的<code class="code" data-markx="338"></code>查找ionCube扩展并运行编码的PHP脚本。</p>                <p id="cb410595">请注意，此方法不受官方支持。它仅应用于调试目的，决不能在生产服务器上使用。</p>            </li></ul>    </div>    <div class="last-modified" data-skip-index="skip">上次修改时间：2019年11月29日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="monitoring-the-debug-information.html">监视调试信息</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>]]></author></init></div></li></ol></div></article></div></section></main></div></body></html>