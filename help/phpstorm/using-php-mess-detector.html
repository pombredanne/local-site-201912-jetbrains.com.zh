<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>PHP Mess Detector - Help | PhpStorm</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body data-id="Using_PHP_Mess_Detector" data-breadcrumbs="PHP frameworks and external tools/PHP_Code_Quality_Tools.xml|PHP Code Quality Tools/Using_PHP_Mess_Detector.xml|PHP Mess Detector" data-main-title="PHP Mess Detector" data-article-props="&#xA;                {&#xA;                &#xA;            &#34;seeAlso&#34;:[&#xA;            &#xA;                {&#34;title&#34;: &#34;Procedures&#34;,&#xA;                 &#34;links&#34;: [&#xA;                &#xA;        {&#34;url&#34;:&#34;code-inspection.html&#34;,&#34;text&#34;:&#34;Code inspections&#34;}&#xA;    ,&#xA;        {&#34;url&#34;:&#34;using-the-composer-dependency-manager.html&#34;,&#34;text&#34;:&#34;Composer Dependency Manager&#34;}&#xA;    &#xA;                    ]},&#xA;                {&#34;title&#34;: &#34;Reference&#34;,&#xA;                 &#34;links&#34;: [&#xA;                &#xA;        {&#34;url&#34;:&#34;php-quality-tools.html#php_quality_tools_mess_detector&#34;,&#34;text&#34;:&#34;Mess Detector Page&#34;}&#xA;    &#xA;                    ]},&#xA;                {&#34;title&#34;: &#34;Web Resources&#34;,&#xA;                 &#34;links&#34;: [&#xA;                &#xA;        {&#34;url&#34;:&#34;http://blog.jetbrains.com/webide/2012/12/php-mess-detector-support/&#34;,&#34;text&#34;:&#34;http://blog.jetbrains.com/webide/2012/12/php-mess-detector-support/&#34;}&#xA;    ,&#xA;        {&#34;url&#34;:&#34;http://www.jetbrains.net/devnet/community/wi&#34;,&#34;text&#34;:&#34;Discussion Forum&#34;}&#xA;    ,&#xA;        {&#34;url&#34;:&#34;http://youtrack.jetbrains.com/issues/WI&#xA;            &#34;,&#34;text&#34;:&#34;Issue Tracker&#34;}&#xA;    &#xA;                    ]}&#xA;            ]&#xA;        &#xA;                }&#xA;            "><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search PhpStorm Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>PhpStorm 2019.3 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="primary" value="primary_default_for_windows" selected>Default for Windows</option><option data-group="primary" value="primary_default_for_macos">Default for macOS</option><option data-group="primary" value="primary_intellij_idea_classic_macos">IntelliJ IDEA Classic (macOS)</option><option data-group="primary" value="primary_emacs">Emacs</option><option data-group="primary" value="primary_visual_studio">Visual Studio</option><option data-group="primary" value="primary_default_for_xwin">Default for XWin</option><option data-group="primary" value="primary_default_for_gnome">Default for GNOME</option><option data-group="primary" value="primary_default_for_kde">Default for KDE</option><option data-group="primary" value="primary_eclipse">Eclipse</option><option data-group="primary" value="primary_eclipse_macos">Eclipse (macOS)</option><option data-group="primary" value="primary_netbeans">NetBeans</option><option data-group="primary" value="primary_sublime_text">Sublime Text</option><option data-group="primary" value="primary_sublime_text_macos">Sublime Text (macOS)</option><option data-group="secondary" value="secondary_default_for_windows">Default for Windows</option><option data-group="secondary" value="secondary_default_for_macos">Default for macOS</option><option data-group="secondary" value="secondary_intellij_idea_classic">IntelliJ IDEA Classic</option><option data-group="secondary" value="secondary_emacs">Emacs</option><option data-group="secondary" value="secondary_visual_studio">Visual Studio</option><option data-group="secondary" value="secondary_default_for_xwin">Default for XWin</option><option data-group="secondary" value="secondary_default_for_gnome">Default for GNOME</option><option data-group="secondary" value="secondary_default_for_kde">Default for KDE</option><option data-group="secondary" value="secondary_eclipse">Eclipse</option><option data-group="secondary" value="secondary_eclipse_macos">Eclipse (macOS)</option><option data-group="secondary" value="secondary_netbeans">NetBeans</option><option data-group="secondary" value="secondary_sublime_text">Sublime Text</option><option data-group="secondary" value="secondary_sublime_text_macos">Sublime Text (macOS)</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 data-toc="Using_PHP_Mess_Detector" id="Using_PHP_Mess_Detector.xml">PHP Mess Detector</h1>                                                <p id="8841cffc">In addition to built-in coding assistance, PhpStorm provides checking the source code through integration with        the <a href="http://phpmd.org/" data-external="true" target="_blank" rel="noopener noreferrer">PHP Mess Detector</a> tool, which detects <a href="http://phpmd.org/rules/index.html" data-external="true" target="_blank" rel="noopener noreferrer">potential problems</a> related to code size, inconsistency, unused code, violation of naming conventions, poor design, and so on.    </p>    <p id="8f3ef7b7">        To use PHP Mess Detector from PhpStorm instead of command line, you need to register it in PhpStorm and configure it as a        PhpStorm <a href="code-inspection.html">code inspection</a>. Once installed and enabled in PhpStorm, the tool        is available in any opened PHP file, and no additional steps are required to launch it. The on-the-fly code        check is activated upon every update in the file thus making it easy to get rid of discovered problems.    </p>    <p id="78e603d9">        Errors and warnings reported by PHP Mess Detector on-the-fly are displayed as popup messages. When the tool is run in the        batch mode, the errors and warnings are displayed in the <a href="inspection-results-tool-window.html">Inspection        Results    </a> tool window. Each message has the <code class="code">phpmd</code> prefix to distinguish it from PhpStorm internal        inspections.    </p>    <p id="cd64c145">        You can have <a href="http://phpmd.org/rules/index.html" data-external="true" target="_blank" rel="noopener noreferrer">predefined rules</a> applied        or define your own <a href="http://phpmd.org/documentation/creating-a-ruleset.html" data-external="true" target="_blank" rel="noopener noreferrer">custom set of rules</a>.    </p>    <div class="chapter"><h2 id="before-you-start" data-toc="Using_PHP_Mess_Detector#before-you-start">Before you start</h2>        <p id="3710a4af">            Make sure the <span class="keyword">PHP</span> plugin is enabled.            <a name="bundledPluginIfNotEnable"></a>                The <span class="emphasis"></span> plugin is activated by default.        If the plugin is disabled, enable it on the <a href="plugins-settings.html">Plugins</a> page                as described in <a href="managing-plugins.html">Managing plugins</a>.                        </p>    </div>    <div class="chapter"><h2 id="installing-configuring-mess-detector" data-toc="Using_PHP_Mess_Detector#installing-configuring-mess-detector">Installing and configuring PHP Mess Detector</h2>        <p id="40e752b5">            <a name="ps_code_quality_tool_installation_overview"></a>                        PHP Mess Detector scripts can be used as local scripts, the scripts associated with PHP interpreters, or scripts declared as project dependencies and installed via <a href="using-the-composer-dependency-manager.html">Composer</a>, which is the preferable and recommended way.                <aside data-type="note" class="prompt" data-title="" rel="7c5565d1" id="20f210c1">            <p id="22904269">                <a name="ps_code_quality_tool_php_path_note"></a>                    Code quality tool scripts contain a call to the system-wide PHP engine. To be able to use them, make sure that the directory        containing the PHP engine executable is added to the system <code class="code">path</code>.                </p>        </aside>            </p>        <div class="chapter"><h3 id="installing-mess-detector-composer">Installing PHP Mess Detector with Composer</h3>            <p id="451d60e4">                Before you start, <a name="composer-prereq"></a>                make sure Composer is installed on your machine and initialized in the current project as described in <a href="using-the-composer-dependency-manager.html">Composer Dependency Manager</a>.                </p>                        <p id="5b525c6e">                When you install PHP Mess Detector with Composer, PhpStorm automatically downloads the necessary scripts and registers them in the IDE.            </p>            <section class="procedure-steps"><a name="install_composer_package"></a><ol class="list _decimal"><li class="list__item" id="ba51cb31"><p>            From the <span class="filepath">composer.json</span> context menu, choose <span data-skip-index="skip" class="menupath">Composer | Manage            Dependencies</span>. Alternatively choose <span data-skip-index="skip" class="menupath">Tools | Composer | Manage Dependencies</span> from the main menu.        </p></li><li class="list__item" id="83c37feb">            <p id="8a95e6db">In the                <a href="add-composer-dependency.html">Manage Composer Dependencies Dialog</a>                that opens, select the <span class="emphasis">phpmd/phpmd</span> package from the <span class="control">Available Packages                </span> list,                possibly using the search field.            </p>            <p id="8458aad1">                <a name="composer_choose_package_version"></a>        Choose the relevant version from the <span class="control">Version to install</span> list.                </p>        </li><li class="list__item" id="a6598cb0">            <p id="3ff08ab6">If necessary, expand the <span class="control">Settings</span> hidden area and specify the advanced installation                options. In the <span class="control">Command line parameters</span> field,                <a name="composer_add_dependency_advanced_settings"></a>                type the additional command line parameters.                        </p>        </li><li class="list__item" id="7eadf24b"><p>            Click <span class="control">Install</span>.        </p></li></ol></section>        </div>    <div class="chapter"><h3 id="configuring-php-mess-detector-manually">Configuring PHP Mess Detector manually</h3>        <p id="1032203a">            <a name="ps_code_quality_manual_config_overview"></a>        You can use the manually downloaded local PHP code quality tool scripts or scripts associated with PHP interpreters. There can be a number of local and remote PHP interpreters, the one specified on the <a href="php.html">PHP</a> page of the <span class="control">Settings/Preferences</span> dialog is considered <span class="emphasis">Project Default</span>.        Learn more about configuring PHP interpreters in <a href="configuring-remote-interpreters.html">Configuring Remote PHP Interpreters</a> or in <a href="configuring-local-interpreter.html">Configuring Local PHP Interpreters</a>.            </p>        <a name="ps_code_quality_choose_local_script_procedure"></a>                        <section class="procedure-steps"><h3 id="7426d496">Choose a PHP Mess Detector script to use</h3><ol class="list _decimal"><li class="list__item" id="e249844c">                <p id="47f70c90"><a name="open_settings"></a>                In the        <a name="settings_dialog"></a>        <span class="control">Settings/Preferences</span> dialog <kbd data-primary_default_for_windows="Ctrl+Alt+S" data-primary_default_for_macos="⌘+Comma" data-primary_intellij_idea_classic_macos="⌘+Comma" data-primary_emacs="Ctrl+Alt+S" data-primary_visual_studio="Alt+F7" data-primary_default_for_xwin="Ctrl+Alt+S" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-primary_eclipse_macos="⌘+Comma" data-primary_netbeans="Ctrl+Alt+S" data-primary_sublime_text="Ctrl+Alt+S" data-primary_sublime_text_macos="⌘+Comma" data-secondary_default_for_windows="⌃⌥S" data-secondary_default_for_macos="⌘," data-secondary_intellij_idea_classic="⌘," data-secondary_emacs="⌃⌥S" data-secondary_visual_studio="⌥F7" data-secondary_default_for_xwin="⌃⌥S" data-secondary_default_for_gnome="⌃⌥S" data-secondary_default_for_kde="⌃⌥S" data-secondary_eclipse="⌃⌥S" data-secondary_eclipse_macos="⌘," data-secondary_netbeans="⌃⌥S" data-secondary_sublime_text="⌃⌥S" data-secondary_sublime_text_macos="⌘,">Ctrl+Alt+S</kbd>, navigate to <span data-skip-index="skip" class="menupath">Languages &amp; Frameworks                    | PHP | Quality Tools</span>.                </p>            </li><li class="list__item" id="61f3303d">                <p id="9e37ccd8">                    On the <a href="php-quality-tools.html">Quality Tools</a> page that opens, expand the <span class="control">Mess Detector</span> area. From the <span class="control">Configuration</span> list, <a name="ps_code_quality_tool_choose_script_configuration_list"></a>                                        choose the PHP Mess Detector script:        <ul class="list _bullet"><li class="list__item" id="9ba898aa"><p>                To use the script associated with a specific remote PHP interpreter, choose the name of this interpreter.            </p></li><li class="list__item" id="bde38f09"><p>                To use a local script, choose <span class="control">Local</span>. In this case the local PHP Mess Detector will be executed no matter                which PHP interpreter - local or remote - is used in the project. Note that there can be only one                <span class="emphasis">Local</span> configuration for PHP Mess Detector because PhpStorm runs a script                (<span class="filepath">phpmd.bat</span> for Windows or <span class="filepath">phpmd</span> for Linux and macOS)                that contains a path to a PHP engine.            </p></li><li class="list__item" id="5672f6c6"><p>                To use the script associated with the default project interpreter, that is, the one chosen on the                <span class="control">PHP</span> page of the <span class="control">Settings/Preferences</span> dialog, choose <span class="control">By default project interpreter</span>.            </p></li></ul>                    </p>            </li></ol></section>            <a name="ps_code_quality_configure_local_script_procedure"></a>                                <section class="procedure-steps"><h3 id="1890bdbb">Configure a local PHP Mess Detector script</h3><ol class="list _decimal"><li class="list__item" id="a2d0ac2d">                <p id="621bb4b5">                    Download and install the <a href="https://phpmd.org/download/index.html" data-external="true" target="_blank" rel="noopener noreferrer">PHP Mess Detector</a> scripts.                </p>                <p id="4e66d6cf">                    To check the PHP Mess Detector installation, switch to the installation directory and run the following command:                </p>                <div class="code-block" data-lang="bash">
                    phpmd --version
    </div>                <p id="375365d4">                    If the tool is available, you will get a message in the following format:                                        <div class="code-block" data-lang="bash">
                        PHPMD version &lt;version&gt;
    </div>                                    </p>                                <p id="18b88b8a">                    To have code checked against your own custom coding standard, <a href="https://phpmd.org/documentation/creating-a-ruleset.html" data-external="true" target="_blank" rel="noopener noreferrer">create it</a>. Store the rules and the <span class="filepath">ruleset.xml</span> file that points to them in the <span class="emphasis">rulesets</span> root directory.                </p>                            </li><li class="list__item" id="408aad93">                <p id="77d8ff29">                    Register the local PHP Mess Detector script in PhpStorm:                </p>                <ul class="list _alpha-lower"><li class="list__item" id="d96552dd">                        <p id="24652190"><a name="open_settings"></a>                In the        <a name="settings_dialog"></a>        <span class="control">Settings/Preferences</span> dialog <kbd data-primary_default_for_windows="Ctrl+Alt+S" data-primary_default_for_macos="⌘+Comma" data-primary_intellij_idea_classic_macos="⌘+Comma" data-primary_emacs="Ctrl+Alt+S" data-primary_visual_studio="Alt+F7" data-primary_default_for_xwin="Ctrl+Alt+S" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-primary_eclipse_macos="⌘+Comma" data-primary_netbeans="Ctrl+Alt+S" data-primary_sublime_text="Ctrl+Alt+S" data-primary_sublime_text_macos="⌘+Comma" data-secondary_default_for_windows="⌃⌥S" data-secondary_default_for_macos="⌘," data-secondary_intellij_idea_classic="⌘," data-secondary_emacs="⌃⌥S" data-secondary_visual_studio="⌥F7" data-secondary_default_for_xwin="⌃⌥S" data-secondary_default_for_gnome="⌃⌥S" data-secondary_default_for_kde="⌃⌥S" data-secondary_eclipse="⌃⌥S" data-secondary_eclipse_macos="⌘," data-secondary_netbeans="⌃⌥S" data-secondary_sublime_text="⌃⌥S" data-secondary_sublime_text_macos="⌘,">Ctrl+Alt+S</kbd>, navigate to <span data-skip-index="skip" class="menupath">Languages &amp;                            Frameworks | PHP | Quality Tools</span>.                        </p>                    </li><li class="list__item" id="0e0f2edf"><p>                        On the <a href="php-quality-tools.html">Quality Tools</a> page that opens, expand the <span class="control">Mess Detector</span> area and click <img class="inline-icon-9" src="/help/img/idea/2019.3/icons.general.ellipsis@2x.png" width="9" alt="the Browse button"> next to the <span class="control">Configuration</span> list.                    </p></li><li class="list__item" id="46e60e5a">                        <p id="a83af474">                            <a name="ps_code_quality_tool_specify_local_script_path"></a>                            In the <span class="control">PHP Mess Detector</span> dialog that opens, specify the location of the <span class="filepath">phpmd.bat</span>        or <span class="filepath">phpmd</span> PHP Mess Detector executable in the <span class="control">PHP Mess Detector path</span> field. Type the path        manually or click <img class="inline-icon-16" src="/help/img/idea/2019.3/icons.general.openDisk@2x.png" width="16" alt="the Browse button">        and select the relevant folder in the dialog that opens.                            </p>                        <p id="3a772e24">                            <a name="ps_code_quality_tool_validate"></a>                                        To check that the specified path to <span class="filepath">phpmd.bat</span> or <span class="filepath">phpmd</span> ensures interaction between PhpStorm and PHP Mess Detector, that is,        the tool can be launched from PhpStorm        and PhpStorm will receive problem reports from it, click the <span class="control">Validate</span> button.        This validation is equal to running the <code class="code">phpmd --version</code> command.        If validation passes successfully, PhpStorm displays the information on the detected PHP Mess Detector version.                            </p>                    </li></ul>            </li></ol></section>            <section class="procedure-steps"><h3 id="configure-a-php-mess-detector-script-associated-with-a-php-interpreter">Configure a PHP Mess Detector script associated with a PHP interpreter</h3><ol class="list _decimal"><li class="list__item" id="23af3587">                <p id="f0b6bfc3"><a name="open_settings"></a>                In the        <a name="settings_dialog"></a>        <span class="control">Settings/Preferences</span> dialog <kbd data-primary_default_for_windows="Ctrl+Alt+S" data-primary_default_for_macos="⌘+Comma" data-primary_intellij_idea_classic_macos="⌘+Comma" data-primary_emacs="Ctrl+Alt+S" data-primary_visual_studio="Alt+F7" data-primary_default_for_xwin="Ctrl+Alt+S" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-primary_eclipse_macos="⌘+Comma" data-primary_netbeans="Ctrl+Alt+S" data-primary_sublime_text="Ctrl+Alt+S" data-primary_sublime_text_macos="⌘+Comma" data-secondary_default_for_windows="⌃⌥S" data-secondary_default_for_macos="⌘," data-secondary_intellij_idea_classic="⌘," data-secondary_emacs="⌃⌥S" data-secondary_visual_studio="⌥F7" data-secondary_default_for_xwin="⌃⌥S" data-secondary_default_for_gnome="⌃⌥S" data-secondary_default_for_kde="⌃⌥S" data-secondary_eclipse="⌃⌥S" data-secondary_eclipse_macos="⌘," data-secondary_netbeans="⌃⌥S" data-secondary_sublime_text="⌃⌥S" data-secondary_sublime_text_macos="⌘,">Ctrl+Alt+S</kbd>, navigate to <span data-skip-index="skip" class="menupath">Languages &amp; Frameworks | PHP | Quality Tools</span>.</p>                            </li><li class="list__item" id="7c7468b2">                <a name="ps_code_quality_tool_configure_script_by_PHP_Interpreter_step_1"></a>                                <p id="200c4cbb">On the <a href="php-quality-tools.html">Quality Tools</a> page that opens, expand the <span class="control">Mess Detector</span> area            and click <img class="inline-icon-9" src="/help/img/idea/2019.3/icons.general.ellipsis@2x.png" width="9" alt="the Browse button"> next to the <span class="control">Configuration            </span> list.        The <span class="control">PHP Mess Detector</span> dialog opens showing the list of all the configured PHP Mess Detector scripts in the left-hand pane,        one of them is of the type <span class="emphasis">Local</span> and others are named after the PHP interpreters with which the scripts are associated.            Click <img class="inline-icon-16" src="/help/img/idea/2019.3/icons.general.add@2x.png" width="16" alt="the Add button"> on the toolbar.</p>                        </li><li class="list__item" id="08c27b95">                <a name="ps_code_quality_tool_configure_script_by_PHP_Interpreter_step_2"></a>                <p id="2ff7a240">            In the <span class="control">PHP Mess Detector by Remote Interpreter</span> dialog that opens, choose the remote PHP interpreter to use the associated script from.        If the list does not contain a relevant interpreter, click <img class="inline-icon-9" src="/help/img/idea/2019.3/icons.general.ellipsis@2x.png" width="9" alt="the Browse button">        and configure a remote interpreter in the <span class="control">CLI Interpreters</span> dialog as described in <a href="configuring-remote-interpreters.html">Configuring Remote PHP Interpreters</a>.        </p>        <p id="02db4a1a">            When you click <span class="control">OK</span>, PhpStorm brings you back to the <span class="control">PHP Mess Detector</span> dialog            where the new <span class="emphasis">PHP Mess Detector</span> configuration is added to the list and the right-hand pane shows the chosen remote PHP interpreter,            the path to the PHP Mess Detector associated with it, and the advanced PHP Mess Detector options.        </p>                </li></ol></section>    </div>        <div class="chapter"><h3 id="configuring-advanced-php-mess-detector-options">Configuring advanced PHP Mess Detector options</h3>            <p id="7f49955a">                PhpStorm lets you specify advanced PHP Mess Detector options and thus fine-tune the PHP Mess Detector process behavior depending on the configuration of your computer and the rule sets used.            </p>            <a name="ps_code_quality_tool_advanced_options_procedure"></a>                        <section class="procedure-steps"><ol class="list _decimal"><li class="list__item" id="5398a972">                <p id="c353ad54"><a name="open_settings"></a>                In the        <a name="settings_dialog"></a>        <span class="control">Settings/Preferences</span> dialog <kbd data-primary_default_for_windows="Ctrl+Alt+S" data-primary_default_for_macos="⌘+Comma" data-primary_intellij_idea_classic_macos="⌘+Comma" data-primary_emacs="Ctrl+Alt+S" data-primary_visual_studio="Alt+F7" data-primary_default_for_xwin="Ctrl+Alt+S" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-primary_eclipse_macos="⌘+Comma" data-primary_netbeans="Ctrl+Alt+S" data-primary_sublime_text="Ctrl+Alt+S" data-primary_sublime_text_macos="⌘+Comma" data-secondary_default_for_windows="⌃⌥S" data-secondary_default_for_macos="⌘," data-secondary_intellij_idea_classic="⌘," data-secondary_emacs="⌃⌥S" data-secondary_visual_studio="⌥F7" data-secondary_default_for_xwin="⌃⌥S" data-secondary_default_for_gnome="⌃⌥S" data-secondary_default_for_kde="⌃⌥S" data-secondary_eclipse="⌃⌥S" data-secondary_eclipse_macos="⌘," data-secondary_netbeans="⌃⌥S" data-secondary_sublime_text="⌃⌥S" data-secondary_sublime_text_macos="⌘,">Ctrl+Alt+S</kbd>, navigate to <span data-skip-index="skip" class="menupath">Languages &amp; Frameworks                    | PHP | Quality Tools</span>.                </p>            </li><li class="list__item" id="56d6fc23"><p>                On the <a href="php-quality-tools.html">Quality Tools</a> page that opens, expand the <span class="control">Mess Detector</span> area. In the <span class="control">Maximum number of messages per file</span> field set the upper limit for the total number of messages to be reported for a file.                All the messages above this limit will be rejected and PhpStorm will display the warning message at top of the editor tab or in the <a href="inspection-results-tool-window.html">Inspection Results Tool Window</a> after the inspection is performed.            </p></li><li class="list__item" id="7b426f5d"><p>                In the <span class="control">Tool process timeout</span> field, specify how long you want PhpStorm to wait for a result from PHP Mess Detector, whereupon the process is killed to prevent excessive CPU and memory usage.            </p></li></ol></section>            </div>    </div>    <div class="chapter"><h2 id="enabling-tool-inspection" data-toc="Using_PHP_Mess_Detector#enabling-tool-inspection">Configuring PHP Mess Detector as a PhpStorm inspection</h2>        <section class="procedure-steps"><h3 id="configure-the-php-mess-detector-inspection">Configure the PHP Mess Detector inspection</h3><ol class="list _decimal"><li class="list__item" id="658865f3">                <p id="29379350"><a name="open_settings"></a>                In the        <a name="settings_dialog"></a>        <span class="control">Settings/Preferences</span> dialog <kbd data-primary_default_for_windows="Ctrl+Alt+S" data-primary_default_for_macos="⌘+Comma" data-primary_intellij_idea_classic_macos="⌘+Comma" data-primary_emacs="Ctrl+Alt+S" data-primary_visual_studio="Alt+F7" data-primary_default_for_xwin="Ctrl+Alt+S" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-primary_eclipse_macos="⌘+Comma" data-primary_netbeans="Ctrl+Alt+S" data-primary_sublime_text="Ctrl+Alt+S" data-primary_sublime_text_macos="⌘+Comma" data-secondary_default_for_windows="⌃⌥S" data-secondary_default_for_macos="⌘," data-secondary_intellij_idea_classic="⌘," data-secondary_emacs="⌃⌥S" data-secondary_visual_studio="⌥F7" data-secondary_default_for_xwin="⌃⌥S" data-secondary_default_for_gnome="⌃⌥S" data-secondary_default_for_kde="⌃⌥S" data-secondary_eclipse="⌃⌥S" data-secondary_eclipse_macos="⌘," data-secondary_netbeans="⌃⌥S" data-secondary_sublime_text="⌃⌥S" data-secondary_sublime_text_macos="⌘,">Ctrl+Alt+S</kbd>, click <span class="control">Inspections</span> under <span class="control">Editor</span>.</p>                            </li><li class="list__item" id="fe627e10"><p>                On the                <a href="inspections-settings.html">Inspections</a>                page that opens, expand the <span data-skip-index="skip" class="menupath">PHP | Quality tools</span> node and select the checkbox next                to <span class="control">PHP Mess Detector validation</span>.            </p></li><li class="list__item" id="3e57f581">                <p id="719c5ac5">In the right-hand pane, configure the PHP Mess Detector tool by using the controls in the <span class="control">Options</span> area:</p>                <ul class="list _alpha-lower"><li class="list__item" id="c83000fb"><p>            From the <span class="control">Severity</span> list, choose the <a href="configuring-inspection-severities.html">severity degree</a> for the PHP Mess Detector inspection. The selected value determines how serious the detected discrepancies will be treated by PhpStorm and presented in the <a href="running-inspections.html">inspection            results</a>.        </p></li><li class="list__item" id="a2eb680b"><p>            From the <span class="control">Scope</span> list, choose the <a href="scope.html">scope</a> to limit the            inspection application to.        </p></li><li class="list__item" id="9bf4cd83">                       <p id="appointCodingStyle">                           Appoint the rules to apply.                       </p>                        <ul class="list _bullet"><li class="list__item" id="9c58a8c5"><p>                                To use <a href="http://phpmd.org/rules/index.html" data-external="true" target="_blank" rel="noopener noreferrer">predefined rules</a>, in the <span class="control">Options</span> area, select the checkboxes next to the validations to be performed.                            </p></li><li class="list__item" id="f01cd681">                                <p id="cf79c245">                                    To use a custom ruleset:                                </p>                                <ol class="list _decimal"><li class="list__item" id="9e8de262"><p>                                        Create and save one or several <span class="emphasis">ruleset files</span>. A valid <span class="emphasis">ruleset file</span> is an <span class="filepath">.xml</span> file that contains the <code class="code">&lt;ruleset&gt;</code> root element with the <code class="code">name</code> attribute. For more details on <span class="emphasis">custom rulesets</span>, see <a href="http://phpmd.org/documentation/creating-a-ruleset.html" data-external="true" target="_blank" rel="noopener noreferrer">http://phpmd.org/documentation/creating-a-ruleset.html</a>.                                    </p></li><li class="list__item" id="a7c8114e"><p>                                        In the <span class="control">Custom rulesets</span> area,                                        click <img class="inline-icon-16" src="/help/img/idea/2019.3/icons.general.add@2x.png" width="16" alt="Add button"> and select the                                         relevant rule                                         definition file in the dialog that opens. When you click <span class="control">OK</span>, a new item is added to the <span class="control">Custom rulesets</span> list, where the <span class="control">Name</span> field shows the ruleset name retrieved from the attribute <code class="code">name</code> within the <code class="code">&lt;ruleset&gt;</code> tag and the <span class="control">File</span> field shows the location of the selected ruleset file.                                    </p></li></ol>                            </li></ul>                    </li></ul>            </li></ol></section>        <div class="chapter"><h3 id="configure-tool-inspection-composer">Configuring the PHP Mess Detector inspection with Composer</h3>            <a name="ps_code_quality_tool_inspection_composer_intro"></a>                        <p id="321d3ea5">            You can include information on the default and custom PHP Mess Detector rulesets inside the            <a href="https://getcomposer.org/doc/articles/scripts.md" data-external="true" target="_blank" rel="noopener noreferrer">scripts</a> section of <span class="filepath">composer.json</span>. When you <a href="using-the-composer-dependency-manager.html#addingDependencies">install        </a> or <a href="using-the-composer-dependency-manager.html#updating-dependencies">update</a> project            dependencies, the specified rulesets will be detected and the <span class="emphasis">PHP Mess Detector validation</span> inspection            will be enabled automatically.        </p>        <p id="2fd82126">            If no ruleset is specified in the <code class="code">scripts</code> section of <span class="filepath">composer.json</span>, PhpStorm will            additionally check the project root to locate the ruleset with the                            <span class="filepath">phpmd.xml</span>                                    default name.            If the file is present, it will be automatically selected as the inspection's <span class="emphasis">Custom</span> ruleset.        </p>                <a name="ps_code_quality_tool_inspection_composer_procedure"></a>                <section class="procedure-steps"><h3 id="fd5edae7">Configure the PHP Mess Detector inspection with Composer</h3><ul class="list "><li class="list__item" id="da22c6cc">                <p id="46e37126">                    In the <code class="code">scripts</code> section of <span class="filepath">composer.json</span>, add the <code class="code">phpmd</code> PHP Mess Detector                    launch command into one of the leaf elements.                </p>                                                    <p id="3fcdddfe">                        Provide the names of the built-in standards or the paths to custom rulesets as the arguments to                        denote the coding standards used.                    </p>                    <p id="1dd720fa">For example, adding the following record will select the                        <span class="emphasis">Codesize</span>                        and <span class="emphasis">Controversial</span> built-in rulesets, as well as the custom ruleset defined                        in the <span class="filepath">/my/src/custom_ruleset.xml</span> file:                    </p>                    <div class="code-block" data-lang="json">
                        "scripts": {
                            "phpmd": "phpmd codesize,controversial,/my/src/custom_ruleset.xml"
                        }
                    </div>                                            </li></ul></section>            </div>    </div>    <div class="chapter"><h2 id="sharing-custom-coding-style" data-toc="Using_PHP_Mess_Detector#sharing-custom-coding-style">Sharing a custom coding style with the team</h2>        <a name="share-code-style-vcs-procedure"></a>                <section class="procedure-steps"><ol class="list _decimal"><li class="list__item" id="25bea899"><p>                Put the root directory of your coding standard under the                                <a href="creating-and-managing-projects.html#project_root">project root</a>.            </p></li><li class="list__item" id="1a3e0b61"><p>                <a href="#enabling-tool-inspection">Configure PHP Mess Detector as a PhpStorm inspection</a>.            </p></li><li class="list__item" id="b50479f2"><p>                <a href="#appointCodingStyle">Appoint your coding standard</a>.            </p></li><li class="list__item" id="71895ad8"><p>                Make sure that a <span class="emphasis">project profile</span> is selected at the top of the                <a href="inspections-settings.html">Inspections</a>                page. Such profiles are saved in a particular project's <span class="filepath">.idea</span> directory (for                example, <span class="filepath">$PROJECT_DIR/.idea/inspectionProfiles</span>). See <a href="customizing-profiles.html">Configure profiles</a>                for details.            </p></li><li class="list__item" id="40840fc0"><p>                On the <a href="settings-version-control.html">Version Control</a> page of the <span class="control">Settings/Preferences</span> dialog, make sure that the <span class="filepath">.idea</span> directory is put <a href="enabling-version-control.html#associate_directory_with_VCS">under version control</a>.            </p></li></ol></section>        </div>    <div class="chapter"><h2 id="running-php-mess-detector-in-batch-mode" data-toc="Using_PHP_Mess_Detector#running-php-mess-detector-in-batch-mode">Running PHP Mess Detector in the batch mode</h2>        <a name="ps_code_quality_tool_batch_inspection"></a>                <section class="procedure-steps"><ol class="list _decimal"><li class="list__item" id="aea18761"><p>                <a href="running-inspections.html">Run the inspection</a>, by choosing <span data-skip-index="skip" class="menupath">Code | Inspect code            </span> from the main menu. Specify the inspection scope and profile.            </p></li><li class="list__item" id="3b588333"><p>                View the inspection results in the <a href="inspection-results-tool-window.html">Inspection Results Tool Window</a>. Errors and warnings                reported by PHP Mess Detector are prefixed with                <code class="code">phpmd</code>                                to distinguish them from PhpStorm internal inspections.            </p></li></ol></section>        </div>    <div class="chapter"><h2 id="excluding-files-from-inspection" data-toc="Using_PHP_Mess_Detector#excluding-files-from-inspection">Excluding files from PHP Mess Detector inspection</h2>        <a name="ExcludingFilesFromInspection"></a>                                <p id="31153393">When waiting for Mess Detector response exceeds the limit specified in the <span class="control">Tool process timeout</span> field        in the <span class="control">Mess Detector</span> dialog, PhpStorm suggests adding the file to the <span class="emphasis">ignore        list</span>.</p>        <section class="procedure-steps"><h3 id="1df7e11b">Manage ignored files</h3><ol class="list _decimal"><li class="list__item" id="f6fa63fc">                <p id="23f1e095">                    <a name="open_settings"></a>                In the        <a name="settings_dialog"></a>        <span class="control">Settings/Preferences</span> dialog <kbd data-primary_default_for_windows="Ctrl+Alt+S" data-primary_default_for_macos="⌘+Comma" data-primary_intellij_idea_classic_macos="⌘+Comma" data-primary_emacs="Ctrl+Alt+S" data-primary_visual_studio="Alt+F7" data-primary_default_for_xwin="Ctrl+Alt+S" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-primary_eclipse_macos="⌘+Comma" data-primary_netbeans="Ctrl+Alt+S" data-primary_sublime_text="Ctrl+Alt+S" data-primary_sublime_text_macos="⌘+Comma" data-secondary_default_for_windows="⌃⌥S" data-secondary_default_for_macos="⌘," data-secondary_intellij_idea_classic="⌘," data-secondary_emacs="⌃⌥S" data-secondary_visual_studio="⌥F7" data-secondary_default_for_xwin="⌃⌥S" data-secondary_default_for_gnome="⌃⌥S" data-secondary_default_for_kde="⌃⌥S" data-secondary_eclipse="⌃⌥S" data-secondary_eclipse_macos="⌘," data-secondary_netbeans="⌃⌥S" data-secondary_sublime_text="⌃⌥S" data-secondary_sublime_text_macos="⌘,">Ctrl+Alt+S</kbd>, navigate to <span data-skip-index="skip" class="menupath">Languages &amp; Frameworks | PHP | Quality Tools</span>.                </p>            </li><li class="list__item" id="e2c1ae43">                <p id="fa16cbc7">                    On the                <a href="php-quality-tools.html">Quality Tools</a>                page that opens, expand the <span class="control">Mess Detector</span> area and click the <span class="control">Show ignored                files            </span> link.</p>                <ul class="list _ul"><li class="list__item" id="62a02ec2"><p>                        To add a file, click <img class="inline-icon-16" src="/help/img/idea/2019.3/icons.general.add@2x.png" width="16" alt="the Add button"> and locate                        the desired file in the dialog that opens.                    </p></li><li class="list__item" id="6c240214"><p>                        To delete a file from the list and have Mess Detector process it again, select the file and click                        <img class="inline-icon-16" src="/help/img/idea/2019.3/icons.general.remove@2x.png" width="16" alt="the Remove button">.                    </p></li><li class="list__item" id="daf8218b"><p>                        To remove all the files from the list, click the <span class="control">Clean the list</span> button <img class="inline-icon-16" src="/help/img/idea/2019.3/icons.actions.close@2x.png" width="16" alt="the Close button">.                    </p></li></ul>            </li></ol></section>        </div>    <div class="last-modified" data-skip-index="skip">Last modified: 29 November 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="using-php-code-sniffer.html">PHP_CodeSniffer</a><a class="navigation-links__next" href="using-php-cs-fixer.html">PHP CS Fixer</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>