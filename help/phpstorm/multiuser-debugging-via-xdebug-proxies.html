<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>Multiuser Debugging via Xdebug Proxies - Help | PhpStorm</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body data-id="Multiuser_Debugging_via_XDebug_Proxies" data-breadcrumbs="Debugging_with_PhpStorm_Ultimate_Guide.xml|Debugging with PhpStorm: Ultimate Guide/PHP_Debugging_Session.xml|PHP Debugging Session/Multiuser_Debugging_via_XDebug_Proxies.xml|Multiuser Debugging via Xdebug Proxies" data-main-title="Multiuser Debugging via Xdebug Proxies" data-article-props="&#xA;                {&#xA;                &#xA;            &#34;seeAlso&#34;:[&#xA;            &#xA;                {&#34;title&#34;: &#34;Procedures&#34;,&#xA;                 &#34;links&#34;: [&#xA;                &#xA;        {&#34;url&#34;:&#34;configuring-xdebug.html&#34;,&#34;text&#34;:&#34;Configuring Xdebug&#34;}&#xA;    &#xA;                    ]},&#xA;                {&#34;title&#34;: &#34;Reference&#34;,&#xA;                 &#34;links&#34;: [&#xA;                &#xA;        {&#34;url&#34;:&#34;xdebug-proxy.html&#34;,&#34;text&#34;:&#34;DBGp Proxy&#34;}&#xA;    ,&#xA;        {&#34;url&#34;:&#34;debug.html&#34;,&#34;text&#34;:&#34;Debug&#34;}&#xA;    &#xA;                    ]},&#xA;                {&#34;title&#34;: &#34;Web Resources&#34;,&#xA;                 &#34;links&#34;: [&#xA;                &#xA;        {&#34;url&#34;:&#34;http://www.jetbrains.net/devnet/community/wi&#34;,&#34;text&#34;:&#34;Discussion Forum&#34;}&#xA;    ,&#xA;        {&#34;url&#34;:&#34;http://youtrack.jetbrains.com/issues/WI&#xA;            &#34;,&#34;text&#34;:&#34;Issue Tracker&#34;}&#xA;    &#xA;                    ]}&#xA;            ]&#xA;        &#xA;                }&#xA;            "><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search PhpStorm Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>PhpStorm 2019.3 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="primary" value="primary_default_for_windows" selected>Default for Windows</option><option data-group="primary" value="primary_default_for_macos">Default for macOS</option><option data-group="primary" value="primary_intellij_idea_classic_macos">IntelliJ IDEA Classic (macOS)</option><option data-group="primary" value="primary_emacs">Emacs</option><option data-group="primary" value="primary_visual_studio">Visual Studio</option><option data-group="primary" value="primary_default_for_xwin">Default for XWin</option><option data-group="primary" value="primary_default_for_gnome">Default for GNOME</option><option data-group="primary" value="primary_default_for_kde">Default for KDE</option><option data-group="primary" value="primary_eclipse">Eclipse</option><option data-group="primary" value="primary_eclipse_macos">Eclipse (macOS)</option><option data-group="primary" value="primary_netbeans">NetBeans</option><option data-group="primary" value="primary_sublime_text">Sublime Text</option><option data-group="primary" value="primary_sublime_text_macos">Sublime Text (macOS)</option><option data-group="secondary" value="secondary_default_for_windows">Default for Windows</option><option data-group="secondary" value="secondary_default_for_macos">Default for macOS</option><option data-group="secondary" value="secondary_intellij_idea_classic">IntelliJ IDEA Classic</option><option data-group="secondary" value="secondary_emacs">Emacs</option><option data-group="secondary" value="secondary_visual_studio">Visual Studio</option><option data-group="secondary" value="secondary_default_for_xwin">Default for XWin</option><option data-group="secondary" value="secondary_default_for_gnome">Default for GNOME</option><option data-group="secondary" value="secondary_default_for_kde">Default for KDE</option><option data-group="secondary" value="secondary_eclipse">Eclipse</option><option data-group="secondary" value="secondary_eclipse_macos">Eclipse (macOS)</option><option data-group="secondary" value="secondary_netbeans">NetBeans</option><option data-group="secondary" value="secondary_sublime_text">Sublime Text</option><option data-group="secondary" value="secondary_sublime_text_macos">Sublime Text (macOS)</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 data-toc="Multiuser_Debugging_via_XDebug_Proxies" id="Multiuser_Debugging_via_XDebug_Proxies.xml">Multiuser Debugging via Xdebug Proxies</h1>                            <p id="f8c77d47">        When you start a debugging session, the Xdebug extension connects to the IP address PhpStorm is        running at, specified as the <code class="code">xdebug.remote_host</code> value. PhpStorm accepts this connection and can communicate with Xdebug over        it. Xdebug only supports connecting to a single IP address, and does not automatically connect back to the IP        address that runs the browser because of security reasons. To debug PHP applications in <a href="https://derickrethans.nl/debugging-with-multiple-users.html" data-external="true" target="_blank" rel="noopener noreferrer">multiuser environments</a>, Xdebug        offers a so-called <a href="http://www.xdebug.org/docs-dbgp.php#just-in-time-debugging-and-debugger-proxies" data-external="true" target="_blank" rel="noopener noreferrer">DBGp proxy</a>.    </p>    <p id="110f4af2">When a proxy is used, the PHP Xdebug extension no longer connects to PhpStorm directly, but instead connects        to the DBGp proxy server. All developers in the team, in turn, then connect to that proxy. Each developer        has a separate debugging session running over this proxy, which makes it possible to do multi-user debugging        of the same code on the same server.    </p>    <figure><img alt="ps xdebug schema proxy" title="ps xdebug schema proxy" src="/help/img/idea/2019.3/ps_xdebug_schema_proxy.png" id="b956f9ea" width="353" height="377"></figure>    <div class="chapter"><h2 id="a96c82a3" data-toc="Multiuser_Debugging_via_XDebug_Proxies#a96c82a3">Configuring multiuser debugging via an Xdebug proxy (DBGp) server</h2>        <p id="d7da2535">            To configure multiuser debugging via an Xdebug proxy (DBGp) server, perform the following general steps:        </p>        <ul class="list" data-skip-index="skip"><li class="list__item"><a href="#download-install-dbgp-proxy">Download and install a DBGp proxy</a></li><li class="list__item"><a href="#538194b6">Make sure Xdebug is installed and configured on the web server</a></li><li class="list__item"><a href="#configure-access-to-dbgp-proxy">Configure access to the DBGp proxy server from PhpStorm</a></li><li class="list__item"><a href="#start-debugging-session">Start a debugging session in the browser</a></li></ul>        <section class="procedure-steps"><h3 id="download-install-dbgp-proxy">Download and install a DBGp proxy</h3><p id="dc2b4650">                To be able to start a debugging session, you'll need to have a DBGp proxy running on a server that can                be reached by the web server itself as well as all developer machines. We can install the proxy on the                web server, on a machine in the same network, or a machine accessible via an SSH tunnel.            </p><ol class="list _decimal"><li class="list__item" id="deaad7d5"><p>On the <a href="http://code.activestate.com/komodo/remotedebugging/" data-external="true" target="_blank" rel="noopener noreferrer">Komodo downloads page</a>, you                can find the DBGp proxy platform-specific Python binaries. Download the required package and run the                <span class="filepath">pydbgpproxy</span> or <span class="filepath">pydbgpproxy.exe</span> file.            </p></li><li class="list__item" id="5f373ea3">                <p id="5907f5f8">                    Start the DBGp proxy either on the web server or on a machine that can communicate both with the                    web server and all developer machines. The DBGp proxy executable accepts two arguments: <code class="code">-d</code> and <code class="code">-i</code>.                </p>                <p id="d0a1077b">                    The arguments define which IP address and port to listen for debugger connections from the web server                    and on which IP address and port to listen for developers.                </p>                <p id="e63d55d1">                    As an example that listens for debugger connections on the loopback address (                    <span class="filepath">127.0.0.1</span>                    ) and port                    <span class="filepath">9001</span>,                    and listens for developers on the machine IP address and port                    <span class="filepath">9000</span>.                </p>                <div class="code-block" data-lang="bash">
                    pydbgpproxy -d 127.0.0.1:9001 -i 192.168.99.1:9000
    </div>                <p id="bb3bdf61">                    The DBGp proxy will confirm these settings when started:                </p>                <figure><img alt="ps pdgp running" title="ps pdgp running" src="/help/img/idea/2019.3/ps_pdgp_running.png" id="4de414e8" width="612" height="368"></figure>            </li></ol></section>        <section class="procedure-steps"><h3 id="538194b6">Make sure Xdebug is installed and configured on the web server</h3><ol class="list _decimal"><li class="list__item" id="a597b1a7">                <p id="531c0717">                    Open the active <span class="filepath">php.ini</span> file in the editor:                </p>                <a name="ps_openActivePhpIni"></a>        <ol class="list _decimal"><li class="list__item" id="9d37c5e3">                <p id="9cd495d2"><a name="open_settings"></a>                In the        <a name="settings_dialog"></a>        <span class="control">Settings/Preferences</span> dialog <kbd data-primary_default_for_windows="Ctrl+Alt+S" data-primary_default_for_macos="⌘+Comma" data-primary_intellij_idea_classic_macos="⌘+Comma" data-primary_emacs="Ctrl+Alt+S" data-primary_visual_studio="Alt+F7" data-primary_default_for_xwin="Ctrl+Alt+S" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-primary_eclipse_macos="⌘+Comma" data-primary_netbeans="Ctrl+Alt+S" data-primary_sublime_text="Ctrl+Alt+S" data-primary_sublime_text_macos="⌘+Comma" data-secondary_default_for_windows="⌃⌥S" data-secondary_default_for_macos="⌘," data-secondary_intellij_idea_classic="⌘," data-secondary_emacs="⌃⌥S" data-secondary_visual_studio="⌥F7" data-secondary_default_for_xwin="⌃⌥S" data-secondary_default_for_gnome="⌃⌥S" data-secondary_default_for_kde="⌃⌥S" data-secondary_eclipse="⌃⌥S" data-secondary_eclipse_macos="⌘," data-secondary_netbeans="⌃⌥S" data-secondary_sublime_text="⌃⌥S" data-secondary_sublime_text_macos="⌘,">Ctrl+Alt+S</kbd>, click <span class="control">PHP</span> under <span class="control">Languages &amp; Frameworks</span>.                </p>            </li><li class="list__item" id="9ea314cd"><p>                On the <a href="php.html">PHP</a> page that opens, click <img class="inline-icon-9" src="/help/img/idea/2019.3/icons.general.ellipsis@2x.png" width="9" alt="the Browse button"> next                to the <span class="control">CLI Interpreter</span> field.            </p></li><li class="list__item" id="663290da"><p>                In the <span class="control">CLI Interpreters</span> dialog that opens, the <span class="control">Configuration File</span> read-only field                shows the path to the active <span class="filepath">php.ini</span> file. Click <span class="control">Open in Editor</span>.            </p></li></ol>                </li><li class="list__item" id="95275e51">                <p id="bfb3c7ef">Make sure that at least the following settings are specified:</p>                <div class="code-block" data-lang="bash">
                    [xdebug]
                    zend_extension=xdebug_module_goes_here
                    xdebug.remote_enable=1
                    xdebug.remote_host=dbgp_proxy_hostname_or_ip
                    xdebug.remote_port=9001
    </div>            </li></ol><p id="5e66fbcc">                For details on configuring Xdebug, refer to                <a href="configuring-xdebug.html">Configuring Xdebug</a>            </p></section>        <section class="procedure-steps"><h3 id="configure-access-to-dbgp-proxy">Configure access to the DBGp proxy server from PhpStorm</h3><ol class="list _decimal"><li class="list__item" id="4a528d7e"><p>                In the main menu, select <span data-skip-index="skip" class="menupath">Tools | Xdebug Proxy | Register IDE</span>.            </p></li><li class="list__item" id="ad6bb45f">                <p id="5deb3a8d">In the <a href="xdebug-proxy.html">Xdebug Proxy</a> dialog that opens, specify the <span class="control">                    IDE key</span> value (this should be a unique value for each developer, as it identifies the                    debugging session), the host and port of the Xdebug proxy server.                </p>                <figure><img alt="ps pdgp register ide" title="ps pdgp register ide" src="/help/img/idea/2019.3/ps_pdgp_register_ide.png" id="6f608bdc" width="329" height="328"></figure>            </li><li class="list__item" id="988ecc41">                <p id="dd4f2ea8">                    Click <span class="control">OK</span> to connect to the specified proxy server.                    The server registers the credentials, and confirms the connection.                </p>                <figure><img alt="ps pdgp register ide connected" title="ps pdgp register ide connected" src="/help/img/idea/2019.3/ps_pdgp_register_ide_connected.png" id="6959762f" width="675" height="303"></figure>                <p id="25f3cce1">                    PhpStorm will notify about the successful connection, too.                </p>                <figure><img alt="ps pdgp register ide successful" title="ps pdgp register ide successful" src="/help/img/idea/2019.3/ps_pdgp_register_ide_successful.png" id="981b41a1" width="361" height="134"></figure>            </li><li class="list__item" id="5fb7885c">                <p id="b5b278d1">                    To update the existing credentials, select <span data-skip-index="skip" class="menupath">Tools | Xdebug Proxy |                    Configuration</span> in the main menu. In the <a href="xdebug-proxy.html">Xdebug Proxy</a>                    dialog that opens, edit the IDE key, the host, and the port settings.                </p>                <p id="cf2ef803">                    To discard the current credentials, select <span data-skip-index="skip" class="menupath">Tools | Xdebug Proxy | Cancel IDE                    Registration </span> in the main menu.                </p>            </li></ol></section>        <section class="procedure-steps"><h3 id="start-debugging-session">Start a debugging session in the browser</h3><ol class="list _decimal"><li class="list__item" id="6e0e8812">                <p id="947a2642">                    Make sure that the <a href="browser-debugging-extensions.html">browser debugging extension</a> that                    you are using is set to the registered IDE key:                </p>                <figure><img alt="ps pdgp ide key" title="ps pdgp ide key" src="/help/img/idea/2019.3/ps_pdgp_ide_key.png" id="87da594a" width="684" height="1186"></figure>            </li><li class="list__item" id="bc1096f0">                <p id="9453ab6f">                    <a name="enable_listening_debug_connections"></a>        In PhpStorm, enable listening to incoming debug connections by either clicking        <img class="inline-icon-16" src="/help/img/idea/2019.3/php.icons.debug_listen_off@2x.png" width="16" alt="the Start Listening for PHP Debug Connections button">        on the toolbar or selecting <span data-skip-index="skip" class="menupath">Run | Start Listening for PHP Debug Connections</span> in the main        menu. This will        ensure PhpStorm reacts when a debugging session is started and opens the <a href="debug-tool-window.html">Debug        tool window    </a> automatically. Before launching the script, make sure that either a <a href="using-breakpoints.html">        breakpoint    </a> is set or the        <span class="control">Break at first line in PHP scripts</span>        option is enabled on the        <a href="debug.html">Debug</a>        page of the <span class="control">Settings/Preferences</span> dialog <kbd data-primary_default_for_windows="Ctrl+Alt+S" data-primary_default_for_macos="⌘+Comma" data-primary_intellij_idea_classic_macos="⌘+Comma" data-primary_emacs="Ctrl+Alt+S" data-primary_visual_studio="Alt+F7" data-primary_default_for_xwin="Ctrl+Alt+S" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-primary_eclipse_macos="⌘+Comma" data-primary_netbeans="Ctrl+Alt+S" data-primary_sublime_text="Ctrl+Alt+S" data-primary_sublime_text_macos="⌘+Comma" data-secondary_default_for_windows="⌃⌥S" data-secondary_default_for_macos="⌘," data-secondary_intellij_idea_classic="⌘," data-secondary_emacs="⌃⌥S" data-secondary_visual_studio="⌥F7" data-secondary_default_for_xwin="⌃⌥S" data-secondary_default_for_gnome="⌃⌥S" data-secondary_default_for_kde="⌃⌥S" data-secondary_eclipse="⌃⌥S" data-secondary_eclipse_macos="⌘," data-secondary_netbeans="⌃⌥S" data-secondary_sublime_text="⌃⌥S" data-secondary_sublime_text_macos="⌘,">Ctrl+Alt+S</kbd>.                    </p>                <p id="26f7c674">Start the debugging session by refreshing the page in the browser.</p>                <figure><img alt="ps pdgp debugging started" title="ps pdgp debugging started" src="/help/img/idea/2019.3/ps_pdgp_debugging_started.png" id="72184a71" width="827" height="980"></figure>            </li></ol></section>    </div>    <div class="chapter"><h2 id="5b49a145" data-toc="Multiuser_Debugging_via_XDebug_Proxies#5b49a145">Troubleshooting</h2>        <div class="chapter"><h3 id="0d8bbd0b">Remote file path is not mapped to any file path in project</h3>            <p id="43707b4b">                In some cases, the debugger can connect, but we get the error messages indicating that no mapping between the remote and project files is defined. This means that PhpStorm cannot determine which local file corresponds to the file being debugged.            </p>            <figure><img alt="ps debug no mapping" title="ps debug no mapping" src="/help/img/idea/2019.3/ps_debug_no_mapping.png" id="5afea68d" width="776" height="484"></figure>            <p id="866c4d24">                We can solve this problem by clicking <span class="control">Click to set up path mappings</span>             and providing the necessary path mappings.            </p>            <p id="5b8b5afc">                Additionally, we can configure these mappings using the techniques outlined in <a href="configuring-synchronization-with-a-remote-host.html">Configuring Synchronization with a Web Server</a>.            </p>        </div>        <div class="chapter"><h3 id="04dc63d4">No connection could be made because the target machine actively refused it</h3>            <ul class="list _ul"><li class="list__item" id="8c9495e8"><p>                    Make sure that PhpStorm has been                    <a href="#configure-access-to-dbgp-proxy">registered with the DBGp proxy</a>,                    and it is                    <a href="#start-debugging-session">listening for incoming                        debugger connections                    </a>.                </p></li><li class="list__item" id="af3275bb"><p>                    Make sure that the                    <a href="#configure-access-to-dbgp-proxy">correct IDE key is set</a>                    in PhpStorm and in the                    <a href="#start-debugging-session">debugger bookmarklet or browser                        extension                    </a>.                </p></li><li class="list__item" id="67c34fc6"><p>                    Is there a firewall blocking connections to the DBGp proxy? If so, make sure the PHP Xdebug                    extension can connect to it, as well as the developer machines. You can use                    <a href="http://canyouseeme.org" data-external="true" target="_blank" rel="noopener noreferrer">http://canyouseeme.org</a>                    or a similar service to check for opened inbound ports.                </p></li><li class="list__item" id="f8e90921"><p>                    Is there a firewall blocking connections to the IDE? Make sure that PhpStorm can be connected to                    from the DBGp proxy machine. You can use <a href="http://canyouseeme.org" data-external="true" target="_blank" rel="noopener noreferrer">http://canyouseeme.org</a> or a similar service                    to check for opened                    inbound ports.                </p></li><li class="list__item" id="4144ab13"><p>The DBGp proxy application binds to the wrong IP address. Run it using                    <span class="filepath">0.0.0.0</span> as the address so it binds to any IP address on the DBGp proxy server. For                    example, run <code class="code">pydbgpproxy -i 0.0.0.0:9001 -d 0.0.0.0:9000</code>.                </p></li></ul>            <p id="49ff28fa">                When testing multi-user debugging in PhpStorm with Xdebug and DBGp proxy installed on the same                machine, there are some additional things to verify:            </p>            <ul class="list _ul"><li class="list__item" id="57b09ff1"><p>PhpStorm binds to the wrong IP address. When a DBGp proxy runs on a local machine where                    PhpStorm is also being run, the IDE may be using the wrong network subnet. To fix this, select                    <span data-skip-index="skip" class="menupath">Tools |                        DBGp Proxy | Configuration...                    </span>                    in the main menu and set DBGp proxy server IP address to                    <span class="filepath">0.0.0.0</span>. Then, try re-registering PhpStorm with the DBGp proxy.                </p></li><li class="list__item" id="82e98009"><p>                    A port conflict exists. When testing DBGp on a local machine, both PhpStorm and DBGp may want to                    bind to the same port. Make sure this is not the case by either configuring DBGp to use a                    different port or changing the PhpStorm's Xdebug port on the                    <span data-skip-index="skip" class="menupath">Languages &amp; Frameworks | PHP | Debug</span> page of the <span class="control">Settings/Preferences</span> dialog <kbd data-primary_default_for_windows="Ctrl+Alt+S" data-primary_default_for_macos="⌘+Comma" data-primary_intellij_idea_classic_macos="⌘+Comma" data-primary_emacs="Ctrl+Alt+S" data-primary_visual_studio="Alt+F7" data-primary_default_for_xwin="Ctrl+Alt+S" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-primary_eclipse_macos="⌘+Comma" data-primary_netbeans="Ctrl+Alt+S" data-primary_sublime_text="Ctrl+Alt+S" data-primary_sublime_text_macos="⌘+Comma" data-secondary_default_for_windows="⌃⌥S" data-secondary_default_for_macos="⌘," data-secondary_intellij_idea_classic="⌘," data-secondary_emacs="⌃⌥S" data-secondary_visual_studio="⌥F7" data-secondary_default_for_xwin="⌃⌥S" data-secondary_default_for_gnome="⌃⌥S" data-secondary_default_for_kde="⌃⌥S" data-secondary_eclipse="⌃⌥S" data-secondary_eclipse_macos="⌘," data-secondary_netbeans="⌃⌥S" data-secondary_sublime_text="⌃⌥S" data-secondary_sublime_text_macos="⌘,">Ctrl+Alt+S</kbd>.                </p></li></ul>        </div>    </div>    <div class="last-modified" data-skip-index="skip">Last modified: 29 November 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="debugging-php-js.html">Debugging PHP and JavaScript code at the same time</a><a class="navigation-links__next" href="pausing-and-resuming-the-debugger-session.html">Pausing and Resuming a Debugging Session</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>