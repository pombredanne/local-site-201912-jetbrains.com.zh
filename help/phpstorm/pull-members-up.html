<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>Pull Members Up, Push Members Down - Help | PhpStorm</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body data-id="procedures.refactoring.pullMembersUp" data-breadcrumbs="Working_with_source_code.xml|Working with source code/Refactoring_Source_Code.xml|Refactoring code/Pull_Members_Up.xml|Pull Members Up, Push Members Down" data-main-title="Pull Members Up, Push Members Down" data-article-props="&#xA;                {&#xA;                &#xA;            &#34;seeAlso&#34;:[&#xA;            &#xA;                {&#34;title&#34;: &#34;Procedures&#34;,&#xA;                 &#34;links&#34;: [&#xA;                &#xA;        {&#34;url&#34;:&#34;refactoring-source-code.html&#34;,&#34;text&#34;:&#34;Refactoring code&#34;}&#xA;    &#xA;                    ]},&#xA;                {&#34;title&#34;: &#34;Reference&#34;,&#xA;                 &#34;links&#34;: [&#xA;                &#xA;        {&#34;url&#34;:&#34;pull-members-up-dialog.html&#34;,&#34;text&#34;:&#34;Pull Members Up Dialog&#34;}&#xA;    ,&#xA;        {&#34;url&#34;:&#34;push-members-down-dialog.html&#34;,&#34;text&#34;:&#34;Push Members Down Dialog&#34;}&#xA;    &#xA;                    ]},&#xA;                {&#34;title&#34;: &#34;Web Resources&#34;,&#xA;                 &#34;links&#34;: [&#xA;                &#xA;        {&#34;url&#34;:&#34;http://www.jetbrains.net/devnet/community/wi&#34;,&#34;text&#34;:&#34;Discussion Forum&#34;}&#xA;    ,&#xA;        {&#34;url&#34;:&#34;http://youtrack.jetbrains.com/issues/WI&#xA;            &#34;,&#34;text&#34;:&#34;Issue Tracker&#34;}&#xA;    &#xA;                    ]}&#xA;            ]&#xA;        &#xA;                }&#xA;            "><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search PhpStorm Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>PhpStorm 2019.3 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="primary" value="primary_default_for_windows" selected>Default for Windows</option><option data-group="primary" value="primary_default_for_macos">Default for macOS</option><option data-group="primary" value="primary_intellij_idea_classic_macos">IntelliJ IDEA Classic (macOS)</option><option data-group="primary" value="primary_emacs">Emacs</option><option data-group="primary" value="primary_visual_studio">Visual Studio</option><option data-group="primary" value="primary_default_for_xwin">Default for XWin</option><option data-group="primary" value="primary_default_for_gnome">Default for GNOME</option><option data-group="primary" value="primary_default_for_kde">Default for KDE</option><option data-group="primary" value="primary_eclipse">Eclipse</option><option data-group="primary" value="primary_eclipse_macos">Eclipse (macOS)</option><option data-group="primary" value="primary_netbeans">NetBeans</option><option data-group="primary" value="primary_sublime_text">Sublime Text</option><option data-group="primary" value="primary_sublime_text_macos">Sublime Text (macOS)</option><option data-group="secondary" value="secondary_default_for_windows">Default for Windows</option><option data-group="secondary" value="secondary_default_for_macos">Default for macOS</option><option data-group="secondary" value="secondary_intellij_idea_classic">IntelliJ IDEA Classic</option><option data-group="secondary" value="secondary_emacs">Emacs</option><option data-group="secondary" value="secondary_visual_studio">Visual Studio</option><option data-group="secondary" value="secondary_default_for_xwin">Default for XWin</option><option data-group="secondary" value="secondary_default_for_gnome">Default for GNOME</option><option data-group="secondary" value="secondary_default_for_kde">Default for KDE</option><option data-group="secondary" value="secondary_eclipse">Eclipse</option><option data-group="secondary" value="secondary_eclipse_macos">Eclipse (macOS)</option><option data-group="secondary" value="secondary_netbeans">NetBeans</option><option data-group="secondary" value="secondary_sublime_text">Sublime Text</option><option data-group="secondary" value="secondary_sublime_text_macos">Sublime Text (macOS)</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="procedures.refactoring.pullMembersUp" id="Pull_Members_Up.xml">Pull Members Up, Push Members Down</h1>                                        <p id="a286d1e1">The <span class="control">Pull Members Up</span> refactoring allows you to move class members to a parent class.                            This may be helpful when you start to add functionality from the bottom of the class hierarchy                and then realize that it can also be used in more common cases (otherwise some parts of your code may                become obsolete                for the parent class but still be valid for one of its children).                With the <span class="emphasis">Pull members up</span> refactoring, you no longer need to manually copy a method                or field                from one class, paste it into another and fix internal references in the member.                    </p>                                <p id="93df4982">The <span class="control">Push Members Down</span> refactoring helps clean up the class hierarchy            by moving class members to a subclass. The members are then relocated into the direct subclasses only.        </p>                            <section class="procedure-steps"><h3 id="pull-up">Pulling members up</h3><ol class="list _decimal"><li class="list__item" id="c02a688d"><p>Select the class to be moved to a parent class.</p></li><li class="list__item" id="f78892f5"><p>                On the main menu or onthe context menu, choose                <span data-skip-index="skip" class="menupath">Refactor | Pull Members Up</span>.                The <a href="pull-members-up-dialog.html">Pull Members Up</a> dialog appears.            </p></li><li class="list__item" id="91794f99"><p>Select the destination object (parent class).</p></li><li class="list__item" id="258ada02"><p>In the <span class="control">Members</span> section, select the members you want to move.            </p></li><li class="list__item" id="f94a7451"><p>Click                <span class="control">Refactor</span>                                to pull the selected members to their destination.            </p></li></ol></section>            <div class="chapter"><h2 id="2dd917fa">PHP example</h2>        <p id="5b72cf7d">            Suppose you have a class <code class="code">Car</code> which extends the parent class <code class="code">Vehicle</code>:            <div class="code-block" data-lang="php">
                abstract class Vehicle {
                }

                class Car extends Vehicle {
                protected $weight;
                private $numOfPassengers;

                function __construct($weight,$numOfPassengers) {
                $this-&gt;weight = $weight;
                $this-&gt;numOfPassengers = $numOfPassengers;
                }

                protected function printWeight() {
                echo 'Weight = ' . $this-&gt;weight;
                }

                protected function printPassengers() {
                echo 'Number of passengers = ' . $this-&gt;numOfPassengers;
                }
                }
            </div>            Let's pull the <code class="code">printPassengers()</code> method and the <code class="code">$numOfPassengers</code> field from <code class="code">Car</code> to <code class="code">Vehicle</code>.        </p>        <ol class="list _decimal"><li class="list__item" id="b029b69d"><p>                Place the caret inside the class <code class="code">Car</code> and choose <span data-skip-index="skip" class="menupath">Refactor | Pull Members Up...            </span> from the context menu.            </p></li><li class="list__item" id="a0b88171"><p>                In the                <a href="pull-members-up-dialog.html">Pull Members Up Dialog</a>                that opens, select the checkboxes                next to <code class="code">printPassengers()</code> and <code class="code">$numOfPassengers</code>. PhpStorm informs you that the                visibility of                <code class="code">$numOfPassengers</code>                will be changed from <span class="emphasis">private</span> to <span class="emphasis">protected</span>.                <figure><img alt="ps_pull_members_dialog_php_example.png" title="ps_pull_members_dialog_php_example.png" src="/help/img/idea/2019.3/ps_pull_members_dialog_php_example.png" id="7b326f92" width="428" height="348"></figure>            </p></li><li class="list__item" id="1066a625"><p>                Click <span class="control">Refactor</span>. After the refactoring your classes will look as follows:                <div class="code-block" data-lang="php">
                    abstract class Vehicle {
                    protected $numOfPassengers;

                    protected function printPassengers() {
                    echo 'Number of passengers = ' . $this-&gt;numOfPassengers;
                    }
                    }

                    class Car extends Vehicle {
                    protected $weight;

                    function __construct($weight,$numOfPassengers) {
                    $this-&gt;weight = $weight;
                    $this-&gt;numOfPassengers = $numOfPassengers;
                    }

                    protected function printWeight() {
                    echo 'Weight = ' . $this-&gt;weight;
                    }

                    }
                </div>            </p></li></ol>    </div>        <section class="procedure-steps"><h3 id="push_down">Pushing members down</h3><ol class="list _decimal"><li class="list__item" id="d259687c"><p>In the editor, open the class whose members you need to push down.</p></li><li class="list__item" id="03ee6916"><p>On the main menu or onthe context menu, choose                <span data-skip-index="skip" class="menupath">Refactor | Push Members Down</span>.                <a href="push-members-down-dialog.html">Push Members Down dialog</a>                displays the list of members to be pushed down.            </p></li><li class="list__item" id="248b38f8">                <p id="7958181f">In the <span class="control">Members to be pushed down</span> area, select the members you want to move.                    Note that the member at caret is already selected.                </p>                <p id="24fee9bc">If pushing a member might cause problems, you will be                    notified with red highlighting. It means that, if the situation is                    unattended, an error will emerge after refactoring. PhpStorm                    prompts you with a Problems Detected dialog, where you can opt to ignore or fix the problem.                </p>            </li><li class="list__item" id="c2ab239f"><p>Preview and apply changes.</p></li></ol></section>            <div class="chapter"><h2 id="abfd499d">PHP example</h2>        <p id="f6a60eff">            Suppose you have a <code class="code">Vehicle</code> class, a <code class="code">Car</code> class that extends <code class="code">Vehicle</code>,            and a <code class="code">Truck</code> class that also extends <code class="code">Vehicle</code>:            <div class="code-block" data-lang="php">
                abstract class Vehicle {
                protected $code;
                public $name;

                protected function start() {
                echo "Let's start!";
                }

                public function printName() {
                echo "Name = " . $this-&gt;name;
                }
                }

                class Car extends Vehicle {
                protected $weight;

                function __construct($weight) {
                $this-&gt;weight = $weight;
                }
                }

                class Truck extends Vehicle {
                protected $length;

                function __construct($length) {
                $this-&gt;length = $length;
                }
                }
            </div>            Let's push the <code class="code">start()</code> method from the parent class <code class="code">Vehicle</code> to its child            classes <code class="code">Car</code> and <code class="code">Truck</code>.        </p>        <ol class="list _decimal"><li class="list__item" id="510f97cb"><p>                Place the caret inside the <code class="code">Car</code> class and choose <span data-skip-index="skip" class="menupath">Refactor | Push Members                Down            </span> from the context menu.            </p></li><li class="list__item" id="83bcb285">                <p id="bb44617e">In the                    <a href="push-members-down-dialog.html">Push Members Down Dialog</a>                    that opens, select the checkbox next to <code class="code">start()</code> and click <span class="control">Refactor</span>.                    The refactored classes will look as follows:                </p>                <div class="code-block" data-lang="php">
                    abstract class Vehicle {
                    protected $code;
                    public $name;

                    public function printName() {
                    echo "Name = " . $this-&gt;name;
                    }
                    }

                    class Car extends Vehicle {
                    protected $weight;

                    function __construct($weight) {
                    $this-&gt;weight = $weight;
                    }

                    protected function start() {
                    echo "Let's start!";
                    }
                    }

                    class Truck extends Vehicle {
                    protected $length;

                    function __construct($length) {
                    $this-&gt;length = $length;
                    }

                    protected function start() {
                    echo "Let's start!";
                    }
                    }
                </div>            </li></ol>    </div>            <div class="last-modified" data-skip-index="skip">Last modified: 29 November 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="tutorial-moving-php-classes.html">Tutorial: Moving PHP classes</a><a class="navigation-links__next" href="rename-refactorings.html">Rename refactorings</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>