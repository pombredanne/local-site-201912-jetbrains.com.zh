<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><meta content="Kubernetes plugin for PhpStorm adds support for editing Kubernetes resource files" name="description" data-skip-index="skip"><title>Kubernetes - Help | PhpStorm</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body data-id="Kubernetes" data-breadcrumbs="Development environment/SSH, Docker, Vagrant/Kubernetes.xml|Kubernetes" data-main-title="Kubernetes"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search PhpStorm Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>PhpStorm 2019.3 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="primary" value="primary_default_for_windows" selected>Default for Windows</option><option data-group="primary" value="primary_default_for_macos">Default for macOS</option><option data-group="primary" value="primary_intellij_idea_classic_macos">IntelliJ IDEA Classic (macOS)</option><option data-group="primary" value="primary_emacs">Emacs</option><option data-group="primary" value="primary_visual_studio">Visual Studio</option><option data-group="primary" value="primary_default_for_xwin">Default for XWin</option><option data-group="primary" value="primary_default_for_gnome">Default for GNOME</option><option data-group="primary" value="primary_default_for_kde">Default for KDE</option><option data-group="primary" value="primary_eclipse">Eclipse</option><option data-group="primary" value="primary_eclipse_macos">Eclipse (macOS)</option><option data-group="primary" value="primary_netbeans">NetBeans</option><option data-group="primary" value="primary_sublime_text">Sublime Text</option><option data-group="primary" value="primary_sublime_text_macos">Sublime Text (macOS)</option><option data-group="secondary" value="secondary_default_for_windows">Default for Windows</option><option data-group="secondary" value="secondary_default_for_macos">Default for macOS</option><option data-group="secondary" value="secondary_intellij_idea_classic">IntelliJ IDEA Classic</option><option data-group="secondary" value="secondary_emacs">Emacs</option><option data-group="secondary" value="secondary_visual_studio">Visual Studio</option><option data-group="secondary" value="secondary_default_for_xwin">Default for XWin</option><option data-group="secondary" value="secondary_default_for_gnome">Default for GNOME</option><option data-group="secondary" value="secondary_default_for_kde">Default for KDE</option><option data-group="secondary" value="secondary_eclipse">Eclipse</option><option data-group="secondary" value="secondary_eclipse_macos">Eclipse (macOS)</option><option data-group="secondary" value="secondary_netbeans">NetBeans</option><option data-group="secondary" value="secondary_sublime_text">Sublime Text</option><option data-group="secondary" value="secondary_sublime_text_macos">Sublime Text (macOS)</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 data-toc="Kubernetes" id="Kubernetes.xml">Kubernetes</h1>                   <p id="intro">        <a href="https://kubernetes.io/" data-external="true" target="_blank" rel="noopener noreferrer">Kubernetes</a> enables deployment, scaling, and management of containerized applications.        PhpStorm provides support for <a href="https://kubernetes.io/docs/concepts/configuration/overview/" data-external="true" target="_blank" rel="noopener noreferrer">Kubernetes resource configuration files</a>        via the <a href="https://plugins.jetbrains.com/plugin/10485-kubernetes" data-external="true" target="_blank" rel="noopener noreferrer">Kubernetes plugin</a>.    </p><aside data-type="warning" class="prompt" data-title="" rel="intro" id="02b05942">        <p id="44ed4fee">            The <span class="emphasis">Kubernetes</span> plugin is not bundled with PhpStorm,            and should be installed separately, from the JetBrains plugin repository.            For more information, see <a href="managing-plugins.html">Managing plugins</a>.        </p>    </aside>        <p id="64bd3bb6">        The <span class="emphasis">Kubernetes</span> plugin supports Kubernetes API starting from version 1.5.        It provides rich support for resource configuration files in YAML,        and only basic support for the JSON format.    </p>    <div class="table-wrapper"><table class=" wide" width="100%" id="3aac6a19"><thead><tr id="09e70edc" class="ijRowHead"><th id="276cc158"><p>Feature</p></th><th id="ccd086be" width="250"><p>YAML</p></th><th id="4f1915ec" width="250"><p>JSON</p></th></tr></thead><tbody><tr id="9f19aa9f" class="ijRowOdd"><td id="a1c9fe01"><a href="auto-completing-code.html">Auto-completion</a></td><td id="a8055ba9"><p>Supported</p></td><td id="bb5cb9f3"><p>Supported</p></td></tr><tr id="a09b262d" class="ijRowEven"><td id="5d6bd299">                <a href="viewing-reference-information.html#inline-quick-documentation">Quick documentation</a>            </td><td id="f43f0435"><p>Supported</p></td><td id="f907d7b0"><p>Supported</p></td></tr><tr id="5619a074" class="ijRowOdd"><td id="d38dd9e3"><a href="code-inspection.html">Inspections and quick fixes</a></td><td id="d39bc285">                <ul class="list _ul"><li class="list__item" id="900e4a1f"><p>Invalid, missing, and duplicated keys</p></li><li class="list__item" id="13d5cddd"><p>Non-editable (read-only) keys and resources</p></li><li class="list__item" id="ac72788b"><p>Deprecated keys and resources</p></li><li class="list__item" id="0ec51744"><p>Invalid integer and enum key values</p></li></ul>            </td><td id="da6e1389">                <ul class="list _ul"><li class="list__item" id="d6383b4d"><p>Invalid, missing, and duplicated properties</p></li></ul>            </td></tr><tr id="8cb11b6f" class="ijRowEven"><td id="64a91b08"><a href="using-live-templates.html">Live templates</a></td><td id="149841ac">                <p id="0697000e">Predefined templates for common configuration kinds:</p>                <ul class="list _ul"><li class="list__item" id="61268934"><p><code class="code">kcm</code>: ConfigMap</p></li><li class="list__item" id="91c3d2fa"><p><code class="code">kdep</code>: Deployment</p></li><li class="list__item" id="574e6d55"><p><code class="code">kpod</code>: Pod</p></li><li class="list__item" id="fe2e109d"><p><code class="code">kres</code>: Generic resource</p></li><li class="list__item" id="7cef2ba5"><p><code class="code">kser</code>: Service</p></li></ul>            </td><td id="d93af4d7"><p>No predefined live templates</p></td></tr><tr id="88ebc2e3" class="ijRowOdd"><td id="3effd9c4"><a href="auto-completing-code.html#smart_completion">Smart completion</a></td><td id="e8b7c869"><p>Supported</p></td><td id="0f2105ad"><p>Not supported</p></td></tr><tr id="6b178ff3" class="ijRowEven"><td id="ed0ff347"><a href="#crd">Custom resource definitions</a></td><td id="cfd366dd"><p>Supported</p></td><td id="a13fc2bf"><p>Not supported</p></td></tr><tr id="a7a9aa13" class="ijRowOdd"><td id="e4aab203"><p>Label definitions and selectors</p></td><td id="3729fe3e"><p>Navigation using gutter icons, find usages, and renaming</p></td><td id="eeaf9439"><p>Not supported</p></td></tr><tr id="5b02723f" class="ijRowEven"><td id="a29b9cc3"><p>Enhancements of the original Kubernetes model</p></td><td id="baeae187"><p>Enums instead of plain strings where applicable</p></td><td id="eea794c4"><p>None</p></td></tr></tbody></table></div>    <p id="7b6b9d33">        The <span class="emphasis">Kubernetes</span> plugin also adds support for path completion in <a href="https://kustomize.io/" data-external="true" target="_blank" rel="noopener noreferrer">Kustomize</a> files        and navigation between Kustomize files and patches.        The list of related Kustomize files appears in the editor at the top of the open Kustomize patch.    </p>    <p id="b70e24f0">        You can use the <a href="services-tool-window.html">Services tool window</a> to see all resources of the Kubernetes cluster in the current context,        jump to relevant resource definitions, and view logs for containers running on pods.    </p>    <div class="chapter"><h2 id="resource-config-files" data-toc="Kubernetes#resource-config-files">Resource configuration files</h2>        <p id="49cd477d">PhpStorm recognizes Kubernetes resource configuration files using the following mandatory fields:</p>        <ul class="list _ul"><li class="list__item" id="0a76f108"><p><code class="code">apiVersion</code>: identifies the versioned schema of the object representation</p></li><li class="list__item" id="9808b7df"><p><code class="code">kind</code>: identifies the object kind (for example, <code class="code">Service</code>, <code class="code">Pod</code>, <code class="code">Deployment</code>, and so on)</p></li></ul>        <p id="5fd99ec6">            If both of the previous fields are present in a YAML or JSON file,            PhpStorm will mark the file with the corresponding Kubernetes icon and enable all available features:        </p>        <figure data-theme="light" id="061ef8b6" width="396"><img class="js-gif" src="/help/img/idea/2019.3/KubernetesRecognizeYAML.png" data-gif-src="/help/img/idea/2019.3/KubernetesRecognizeYAML.animated.gif" width="396" style="width:396px;"></figure>        <p id="74d9cce7">            For YAML files, you can also use predefined <a href="using-live-templates.html">Live Templates</a> to create the necessary type of configuration:        </p>        <figure data-theme="light" id="784d23de" width="394"><img class="js-gif" src="/help/img/idea/2019.3/KubernetesLiveTemplateKdep.png" data-gif-src="/help/img/idea/2019.3/KubernetesLiveTemplateKdep.animated.gif" width="394" style="width:394px;"></figure>        <p id="73b88174">            To see available Live Templates and create new ones, open the <span class="control">Settings/Preferences</span> dialog <kbd data-primary_default_for_windows="Ctrl+Alt+S" data-primary_default_for_macos="⌘+Comma" data-primary_intellij_idea_classic_macos="⌘+Comma" data-primary_emacs="Ctrl+Alt+S" data-primary_visual_studio="Alt+F7" data-primary_default_for_xwin="Ctrl+Alt+S" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-primary_eclipse_macos="⌘+Comma" data-primary_netbeans="Ctrl+Alt+S" data-primary_sublime_text="Ctrl+Alt+S" data-primary_sublime_text_macos="⌘+Comma" data-secondary_default_for_windows="⌃⌥S" data-secondary_default_for_macos="⌘," data-secondary_intellij_idea_classic="⌘," data-secondary_emacs="⌃⌥S" data-secondary_visual_studio="⌥F7" data-secondary_default_for_xwin="⌃⌥S" data-secondary_default_for_gnome="⌃⌥S" data-secondary_default_for_kde="⌃⌥S" data-secondary_eclipse="⌃⌥S" data-secondary_eclipse_macos="⌘," data-secondary_netbeans="⌃⌥S" data-secondary_sublime_text="⌃⌥S" data-secondary_sublime_text_macos="⌘,">Ctrl+Alt+S</kbd>,            click <span class="control">Editor</span>, then click <span class="control">Live Templates</span>, and expand the <span class="control">Kubernetes</span> group in the list.        </p>    </div>    <div class="chapter"><h2 id="helm" data-toc="Kubernetes#helm">Helm support</h2>        <p id="21d98509">            <a href="https://helm.sh/" data-external="true" target="_blank" rel="noopener noreferrer">Helm</a> is a tool for managing Kubernetes applications.            Helm charts are packages of pre-configured resource definitions that you run inside a Kubernetes cluster.            A chart contains a description of the package <span class="filepath">Chart.yaml</span> and one or more templates used to generate Kubernetes manifest files.        </p>        <aside data-type="note" class="prompt" data-title="" rel="21d98509" id="0205c793">            <p id="ca58729c">The <a href="https://plugins.jetbrains.com/plugin/10581-go-template" data-external="true" target="_blank" rel="noopener noreferrer">Go Template plugin</a> is required for Helm template syntax support.</p>        </aside>        <p id="27dab081">            Coding assistance for Helm charts and templates includes code completion, refactorings, inspections, quick fixes, and quick documentation.            Also, it is possible to use gutter icons for navigating between label definitions and label selectors, and between overridden and overriding values.        </p>        <p id="f7208fb7">            By default, Go template directives are rendered as the actual values in Helm templates.            You can click the value to expand and show the directive.            This functionality is implemented using <a href="working-with-source-code.html#code_folding">code folding</a>.            Press <kbd data-primary_default_for_windows="Ctrl+NumPad Plus" data-primary_default_for_macos="⌘+NumPad Plus" data-primary_intellij_idea_classic_macos="⌘+NumPad Plus" data-primary_emacs="Ctrl+NumPad Plus" data-primary_visual_studio="Ctrl+NumPad Plus" data-primary_default_for_xwin="Ctrl+NumPad Plus" data-primary_default_for_gnome="Ctrl+NumPad Plus" data-primary_default_for_kde="Ctrl+NumPad Plus" data-primary_eclipse="Ctrl+NumPad Plus" data-primary_eclipse_macos="⌘+NumPad Plus" data-primary_netbeans="Ctrl+NumPad Plus" data-primary_sublime_text="Ctrl+Shift+]" data-primary_sublime_text_macos="Alt+⌘+]" data-secondary_default_for_windows="⌃+" data-secondary_default_for_macos="⌘+" data-secondary_intellij_idea_classic="⌘+" data-secondary_emacs="⌃+" data-secondary_visual_studio="⌃+" data-secondary_default_for_xwin="⌃+" data-secondary_default_for_gnome="⌃+" data-secondary_default_for_kde="⌃+" data-secondary_eclipse="⌃+" data-secondary_eclipse_macos="⌘+" data-secondary_netbeans="⌃+" data-secondary_sublime_text="⌃⇧]" data-secondary_sublime_text_macos="⌥⌘]">Ctrl+NumPad Plus</kbd> and <kbd data-primary_default_for_windows="Ctrl+NumPad -" data-primary_default_for_macos="⌘+NumPad -" data-primary_intellij_idea_classic_macos="⌘+NumPad -" data-primary_emacs="Ctrl+NumPad -" data-primary_visual_studio="Ctrl+NumPad -" data-primary_default_for_xwin="Ctrl+NumPad -" data-primary_default_for_gnome="Ctrl+NumPad -" data-primary_default_for_kde="Ctrl+NumPad -" data-primary_eclipse="Ctrl+NumPad -" data-primary_eclipse_macos="⌘+NumPad -" data-primary_netbeans="Ctrl+NumPad -" data-primary_sublime_text="Ctrl+Shift+[" data-primary_sublime_text_macos="Alt+⌘+[" data-secondary_default_for_windows="⌃-" data-secondary_default_for_macos="⌘-" data-secondary_intellij_idea_classic="⌘-" data-secondary_emacs="⌃-" data-secondary_visual_studio="⌃-" data-secondary_default_for_xwin="⌃-" data-secondary_default_for_gnome="⌃-" data-secondary_default_for_kde="⌃-" data-secondary_eclipse="⌃-" data-secondary_eclipse_macos="⌘-" data-secondary_netbeans="⌃-" data-secondary_sublime_text="⌃⇧[" data-secondary_sublime_text_macos="⌥⌘[">Ctrl+NumPad -</kbd> to toggle between values and directives.        </p>        <section class="procedure-steps"><div class="collapse"><div class="collapse__title"><h3 id="2283b309">Create a new Helm chart</h3></div><div class="collapse__content"><ul class="list "><li class="list__item" id="91b00151">                <p id="396f7411">Right-click any directory in the Project tool window, point to <span class="control">Kubernetes</span>, and click <span class="control">Helm Create Chart</span>.</p>            </li></ul><p id="efdda386">This runs the <a href="https://docs.helm.sh/helm/#helm-create" data-external="true" target="_blank" rel="noopener noreferrer">helm create</a> command, which adds all the basic files required to get started:</p><ul class="list _bullet"><li class="list__item" id="c09ae2ec"><p><span class="filepath">.helmignore</span>: Patterns to ignore when building packages</p></li><li class="list__item" id="dec01cba"><p><span class="filepath">Chart.yaml</span>: A basic chart description with metadata</p></li><li class="list__item" id="268010ba"><p><span class="filepath">values.yaml</span>: Default values for chart templates</p></li><li class="list__item" id="8de9a16e"><p><span class="filepath">charts/</span>: Directory for sub-charts</p></li><li class="list__item" id="a250b6b2">                    <p id="c0ae40c5"><span class="filepath">templates/</span>: Directory for chart definitions</p>                    <ul class="list _ul"><li class="list__item" id="499f1d11"><p><span class="filepath">_helpers.tpl</span>: Partials and functions for your templates</p></li><li class="list__item" id="b55d812c"><p><span class="filepath">NOTES.txt</span>: Information that is printed out after a chart is deployed</p></li><li class="list__item" id="08cd3f5c"><p><span class="filepath">deployment.yaml</span>: Example Kubernetes deployment definition</p></li><li class="list__item" id="cb83e3d5"><p><span class="filepath">ingress.yaml</span>: Example Kubernetes ingress definition</p></li><li class="list__item" id="1a4d3722"><p><span class="filepath">service.yaml</span>: Example Kubernetes service definition</p></li></ul>                </li></ul></div></div></section>        <section class="procedure-steps"><div class="collapse"><div class="collapse__title"><h3 id="1aca241e">Preview the result of Helm template rendering</h3></div><div class="collapse__content"><ul class="list "><li class="list__item" id="74339251">                <p id="51ded998">Right-click the template file, point to <span class="control">Kubernetes</span>, and click <span class="control">Helm Template</span>.</p>            </li></ul><p id="caff27ad">                This runs the <a href="https://docs.helm.sh/helm/#helm-template" data-external="true" target="_blank" rel="noopener noreferrer">helm template</a> command that renders a chart template.                The rendered preview opens inside the diff viewer dialog to compare it with the original template file.</p></div></div></section>        <section class="procedure-steps"><div class="collapse"><div class="collapse__title"><h3 id="f63f3ed2">Update external dependencies</h3></div><div class="collapse__content"><p id="bee35563">                If the chart has a <span class="filepath">requirements.yaml</span> file, you can update or download the appropriate                <span class="filepath">tgz</span> dependencies.                This action also generates or updates <span class="filepath">requirements.lock</span>.            </p><ul class="list "><li class="list__item" id="272343b9">                <p id="db59fddf">Right-click the chart, point to <span class="control">Kubernetes</span>, and click <span class="control">Helm Dependency Update</span>.</p>            </li></ul><p id="b9c448ea">This runs the <a href="https://docs.helm.sh/helm/#helm-dependency-update" data-external="true" target="_blank" rel="noopener noreferrer">helm dependency update</a> command.</p><p id="330ca22a">There is also a gutter icon for updating dependencies in the <span class="filepath">requirements.yaml</span> file.</p></div></div></section>        <section class="procedure-steps"><div class="collapse"><div class="collapse__title"><h3 id="4fc2a37f">Examine a chart for possible issues</h3></div><div class="collapse__content"><ul class="list "><li class="list__item" id="6868e167">                <p id="a2e86de7">Right-click the chart, point to <span class="control">Kubernetes</span>, and click <span class="control">Helm Lint</span>.</p>            </li></ul><p id="a58a8200">                This runs the <a href="https://docs.helm.sh/helm/#helm-lint" data-external="true" target="_blank" rel="noopener noreferrer">helm lint</a> command                that executes a series of tests to discover possible problems without actually installing the chart.            </p></div></div></section>    </div>    <div class="chapter"><h2 id="crd" data-toc="Kubernetes#crd">Custom resource definitions support</h2>        <p id="7437f0d2">            If your Kubernetes cluster is extended with <a href="https://kubernetes.io/docs/concepts/extend-kubernetes/api-extension/custom-resources/" data-external="true" target="_blank" rel="noopener noreferrer">custom resources</a>,            PhpStorm can validate them with <span class="emphasis">custom resource definition</span> (CRD) specifcations.        </p>        <section class="procedure-steps"><h3 id="9854e3f2">Specify the path to CRD specifications</h3><ol class="list _decimal"><li class="list__item" id="a9e2eeda">                <p id="2388d46d"><a name="open_settings"></a>                In the        <a name="settings_dialog"></a>        <span class="control">Settings/Preferences</span> dialog <kbd data-primary_default_for_windows="Ctrl+Alt+S" data-primary_default_for_macos="⌘+Comma" data-primary_intellij_idea_classic_macos="⌘+Comma" data-primary_emacs="Ctrl+Alt+S" data-primary_visual_studio="Alt+F7" data-primary_default_for_xwin="Ctrl+Alt+S" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-primary_eclipse_macos="⌘+Comma" data-primary_netbeans="Ctrl+Alt+S" data-primary_sublime_text="Ctrl+Alt+S" data-primary_sublime_text_macos="⌘+Comma" data-secondary_default_for_windows="⌃⌥S" data-secondary_default_for_macos="⌘," data-secondary_intellij_idea_classic="⌘," data-secondary_emacs="⌃⌥S" data-secondary_visual_studio="⌥F7" data-secondary_default_for_xwin="⌃⌥S" data-secondary_default_for_gnome="⌃⌥S" data-secondary_default_for_kde="⌃⌥S" data-secondary_eclipse="⌃⌥S" data-secondary_eclipse_macos="⌘," data-secondary_netbeans="⌃⌥S" data-secondary_sublime_text="⌃⌥S" data-secondary_sublime_text_macos="⌘,">Ctrl+Alt+S</kbd>, select <span class="control">Languages &amp; Frameworks | Kubernetes</span>.</p>            </li><li class="list__item" id="2cd7287a">                <p id="f3bc2a25">                    Click <img class="inline-icon-16" src="/help/img/idea/2019.3/icons.general.add@2x.png" width="16" alt="the Add button"> and either select a local CRD file or specify a URL.                    Then click <span class="control">OK</span>.                </p>            </li></ol><p id="29ca792f">                Use <img class="inline-icon-16" src="/help/img/idea/2019.3/icons.actions.up@2x.png" width="16" alt="the Up button"> and <img class="inline-icon-16" src="/help/img/idea/2019.3/icons.actions.down@2x.png" width="16" alt="the Down button">                to rearrange the list of CRD files.                This defines the priority for conflicting definitions: the lowest one is used if it is defined in more than one file.            </p><aside data-type="note" class="prompt" data-title="" rel="29ca792f" id="785cbb4b"><p>                When you apply changes, newly added CRDs from URLs are automatically downloaded.                Other modified CRDs will be downloaded only when the model is reloaded,                which happens when you open the project or change other Kubernetes settings (for example, the order of CRDs)                and it has been more than three hours since the last model reload.                If it has been less than three hours since the last model reload, you can force this reload on the current model                using the <span class="control">Re-read current configuration</span> button.            </p></aside></section>        <p id="7e64eb77">The Kubernetes plugin supports specifying the path to CRD files of the following types:</p>        <div class="chapter"><div class="collapse"><div class="collapse__title"><h5 id="yaml-crd">CustomResourceDefinition files in YAML</h5></div><div class="collapse__content">            <p id="854ad5e9">                The following example shows a simple <a href="https://kubernetes.io/docs/tasks/access-kubernetes-api/custom-resources/custom-resource-definitions/" data-external="true" target="_blank" rel="noopener noreferrer">CustomResourceDefinition</a> specification                for a custom resource <code class="code">stable.example.com/v1</code> of the kind <code class="code">CronTab</code>.                Obligatory fields to identify the resource are <code class="code">metadata.name</code>, <code class="code">spec.group</code>, <code class="code">spec.versions</code>, and <code class="code">spec.names</code>.            </p>            <aside data-type="note" class="prompt" data-title="" rel="854ad5e9" id="475dd1c3">                <p id="b3367acc">                    Currently, not all fields from the OpenAPI schema can be used for validation                    (see <code class="code">pattern</code>, <code class="code">minimum</code>, and <code class="code">maximum</code> fields under <code class="code">validation.openAPIV3Schema</code> in the example).                    For more information, see <a href="#restrictions">CRD validation restrictions</a>.                </p>            </aside>            <div class="code-block" data-lang="yaml">
                apiVersion: apiextensions.k8s.io/v1beta1
                kind: CustomResourceDefinition
                metadata:
                  name: crontabs.stable.example.com # Obligatory field to identify the resource
                spec:
                  group: stable.example.com # Obligatory field to identify the resource
                  versions: # Obligatory field to identify the resource
                    - name: v1
                      served: true
                      storage: true
                  scope: Namespaced
                  names: # Obligatory field to identify the resource
                    plural: crontabs
                    singular: crontab
                    kind: CronTab
                    shortNames:
                      - ct
                validation:
                  openAPIV3Schema: # Schema for validating custom objects
                    properties:
                      spec:
                        properties:
                          cronSpec:
                            type: string
                            pattern: '^(\d+|\*)(/\d+)?(\s+(\d+|\*)(/\d+)?){4}$' # not supported for validation
                          replicas:
                            type: integer
                            minimum: 1 # not supported for validation
                            maximum: 10 # not supported for validation
            </div>        </div></div></div>        <div class="chapter"><div class="collapse"><div class="collapse__title"><h5 id="json-crd">OpenAPI v2.0 schema in JSON</h5></div><div class="collapse__content">            <p id="29967a7f">                The following example shows a simple <a href="https://github.com/OAI/OpenAPI-Specification/blob/master/versions/2.0.md" data-external="true" target="_blank" rel="noopener noreferrer">OpenAPI v2.0</a> schema                with a CRD specification for a custom resource <code class="code">sample/v1</code> of the kind <code class="code">Config</code>.                The root definition of the custom resource must contain the <code class="code">x-kubernetes-group-version-kind</code> field with the specified group, version, and kind.                In the example, the <code class="code">root.Definition</code> object uses a <code class="code">build</code> property to reference the <code class="code">some.Definition</code> object.            </p>            <div class="code-block" data-lang="javascript">
                {
                    "swagger": "2.0",
                    "info": {
                        "title": "Sample Schema",
                        "version": "sample/v1"
                    },
                    "paths": {},
                    "definitions": {
                        "some.Definition": {
                            "description": "Example of a definition.",
                            "properties": {
                                "someProperty": {
                                    "type": "string"
                                }
                            }
                        },
                        "root.Definition": {
                            "description": "This is the root definition for the resource",
                            "properties": {
                                "build": {
                                    "$ref": "#/definitions/some.Definition"
                                }
                            },
                            "x-kubernetes-group-version-kind": [
                                {
                                    "group": "sample",
                                    "kind": "Config",
                                    "version": "v1"
                                }
                            ]
                        }
                    }
                }
            </div>        </div></div></div>        <div class="chapter"><h3 id="restrictions">CRD validation restrictions</h3>            <p id="565dab55">The following OpenAPI v3 schema features are not supported:</p>            <ul class="list _horizontal" data-columns="4"><li class="list__item" id="00d43711">                    <code class="code">multipleOf</code>                </li><li class="list__item" id="4164e3ee">                    <code class="code">maximum</code>                </li><li class="list__item" id="36fa67b2">                    <code class="code">exclusiveMaximum</code>                </li><li class="list__item" id="f089e5d0">                    <code class="code">minimum</code>                </li><li class="list__item" id="673f5e9a">                    <code class="code">exclusiveMinimum</code>                </li><li class="list__item" id="6dd454f9">                    <code class="code">maxLength</code>                </li><li class="list__item" id="99983ad2">                    <code class="code">minLength</code>                </li><li class="list__item" id="40501e6f">                    <code class="code">pattern</code>                </li><li class="list__item" id="fe5bf84b">                    <code class="code">maxItems</code>                </li><li class="list__item" id="d7a3daf8">                    <code class="code">minItems</code>                </li><li class="list__item" id="6d581cf5">                    <code class="code">uniqueItems</code>                </li><li class="list__item" id="fe1da744">                    <code class="code">maxProperties</code>                </li><li class="list__item" id="994f9c48">                    <code class="code">minProperties</code>                </li><li class="list__item" id="8771454a">                    <code class="code">allOf</code>                </li><li class="list__item" id="912b5c26">                    <code class="code">oneOf</code>                </li><li class="list__item" id="3a1725ed">                    <code class="code">anyOf</code>                </li><li class="list__item" id="55a638d5">                    <code class="code">not</code>                </li><li class="list__item" id="ab5da715">                    <code class="code">format</code>                </li><li class="list__item" id="42d05f01">                    <code class="code">default</code>                </li><li class="list__item" id="20e07be0">                    <code class="code">nullable</code>                </li><li class="list__item" id="222b0bf6">                    <code class="code">readOnly</code>                </li><li class="list__item" id="d9bb9718">                    <code class="code">writeOnly</code>                </li><li class="list__item" id="2cc10245">                    <code class="code">xml</code>                </li><li class="list__item" id="ec5695fb">                    <code class="code">externalDocs</code>                </li><li class="list__item" id="63d63ad5">                    <code class="code">example</code>                </li><li class="list__item" id="fa10ea83">                    <code class="code">deprecated</code>                </li></ul>        </div>    </div>    <div class="chapter"><h2 id="productivity-tips" data-toc="Kubernetes#productivity-tips">Productivity tips</h2>        <p id="afae05cb">If you use the features described here frequently, the following tips may be helpful:</p>        <section class="procedure-steps"><h3 id="66e2f535">Assign shortcuts</h3><p id="47095784">You can assign a keyboard shortcut for Kubernetes actions.</p><ol class="list _decimal"><li class="list__item" id="7fb986d6">                <p id="7e13737c"><a name="open_settings"></a>                In the        <a name="settings_dialog"></a>        <span class="control">Settings/Preferences</span> dialog <kbd data-primary_default_for_windows="Ctrl+Alt+S" data-primary_default_for_macos="⌘+Comma" data-primary_intellij_idea_classic_macos="⌘+Comma" data-primary_emacs="Ctrl+Alt+S" data-primary_visual_studio="Alt+F7" data-primary_default_for_xwin="Ctrl+Alt+S" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-primary_eclipse_macos="⌘+Comma" data-primary_netbeans="Ctrl+Alt+S" data-primary_sublime_text="Ctrl+Alt+S" data-primary_sublime_text_macos="⌘+Comma" data-secondary_default_for_windows="⌃⌥S" data-secondary_default_for_macos="⌘," data-secondary_intellij_idea_classic="⌘," data-secondary_emacs="⌃⌥S" data-secondary_visual_studio="⌥F7" data-secondary_default_for_xwin="⌃⌥S" data-secondary_default_for_gnome="⌃⌥S" data-secondary_default_for_kde="⌃⌥S" data-secondary_eclipse="⌃⌥S" data-secondary_eclipse_macos="⌘," data-secondary_netbeans="⌃⌥S" data-secondary_sublime_text="⌃⌥S" data-secondary_sublime_text_macos="⌘,">Ctrl+Alt+S</kbd>, select <span class="control">Keymap</span>.</p>            </li><li class="list__item" id="af0405e6">                <p id="a3e709a8">Type <code class="code">kubernetes</code> in the search field, then double-click an action to set a shortcut for it.</p>            </li></ol><p id="183736db">                Alternatively, you can use the <span class="control">Find Action</span> dialog <kbd data-primary_default_for_windows="Ctrl+Shift+A" data-primary_default_for_macos="Shift+⌘+A" data-primary_intellij_idea_classic_macos="Shift+⌘+A" data-primary_emacs="Escape, X" data-primary_visual_studio="Ctrl+Shift+A" data-primary_default_for_xwin="Ctrl+Shift+A" data-primary_default_for_gnome="Ctrl+Shift+A" data-primary_default_for_kde="Ctrl+Shift+A" data-primary_eclipse="Ctrl+Shift+A" data-primary_eclipse_macos="⌘+3" data-primary_netbeans="Ctrl+I" data-primary_sublime_text="Ctrl+Shift+P" data-primary_sublime_text_macos="Shift+⌘+P" data-secondary_default_for_windows="⌃⇧A" data-secondary_default_for_macos="⇧⌘A" data-secondary_intellij_idea_classic="⇧⌘A" data-secondary_emacs="⎋, X" data-secondary_visual_studio="⌃⇧A" data-secondary_default_for_xwin="⌃⇧A" data-secondary_default_for_gnome="⌃⇧A" data-secondary_default_for_kde="⌃⇧A" data-secondary_eclipse="⌃⇧A" data-secondary_eclipse_macos="⌘3" data-secondary_netbeans="⌃I" data-secondary_sublime_text="⌃⇧P" data-secondary_sublime_text_macos="⇧⌘P">Ctrl+Shift+A</kbd>,                type <code class="code">kubernetes</code>, select the necessary action, and press <kbd data-primary_default_for_windows="Alt+Enter" data-primary_default_for_macos="Alt+Enter" data-primary_intellij_idea_classic_macos="Alt+Enter" data-primary_emacs="Alt+Enter" data-primary_visual_studio="Alt+Enter" data-primary_default_for_xwin="Alt+Enter" data-primary_default_for_gnome="Alt+Enter" data-primary_default_for_kde="Alt+Enter" data-primary_eclipse="Alt+Enter" data-primary_eclipse_macos="⌘+1" data-primary_netbeans="Alt+Enter" data-primary_sublime_text="Alt+Enter" data-primary_sublime_text_macos="Alt+Enter" data-secondary_default_for_windows="⌥⏎" data-secondary_default_for_macos="⌥⏎" data-secondary_intellij_idea_classic="⌥⏎" data-secondary_emacs="⌥⏎" data-secondary_visual_studio="⌥⏎" data-secondary_default_for_xwin="⌥⏎" data-secondary_default_for_gnome="⌥⏎" data-secondary_default_for_kde="⌥⏎" data-secondary_eclipse="⌥⏎" data-secondary_eclipse_macos="⌘1" data-secondary_netbeans="⌥⏎" data-secondary_sublime_text="⌥⏎" data-secondary_sublime_text_macos="⌥⏎">Alt+Enter</kbd>.            </p></section>        <section class="procedure-steps"><h3 id="84b2396b">Configure code folding</h3><p id="3ade84e0">                By default, PhpStorm uses <a href="working-with-source-code.html#code_folding">code folding</a>                to render value references in Helm templates and definitions in Kubernetes configuration files as the actual values.                You can click the value to expand it or press <kbd data-primary_default_for_windows="Ctrl+NumPad Plus" data-primary_default_for_macos="⌘+NumPad Plus" data-primary_intellij_idea_classic_macos="⌘+NumPad Plus" data-primary_emacs="Ctrl+NumPad Plus" data-primary_visual_studio="Ctrl+NumPad Plus" data-primary_default_for_xwin="Ctrl+NumPad Plus" data-primary_default_for_gnome="Ctrl+NumPad Plus" data-primary_default_for_kde="Ctrl+NumPad Plus" data-primary_eclipse="Ctrl+NumPad Plus" data-primary_eclipse_macos="⌘+NumPad Plus" data-primary_netbeans="Ctrl+NumPad Plus" data-primary_sublime_text="Ctrl+Shift+]" data-primary_sublime_text_macos="Alt+⌘+]" data-secondary_default_for_windows="⌃+" data-secondary_default_for_macos="⌘+" data-secondary_intellij_idea_classic="⌘+" data-secondary_emacs="⌃+" data-secondary_visual_studio="⌃+" data-secondary_default_for_xwin="⌃+" data-secondary_default_for_gnome="⌃+" data-secondary_default_for_kde="⌃+" data-secondary_eclipse="⌃+" data-secondary_eclipse_macos="⌘+" data-secondary_netbeans="⌃+" data-secondary_sublime_text="⌃⇧]" data-secondary_sublime_text_macos="⌥⌘]">Ctrl+NumPad Plus</kbd> and <kbd data-primary_default_for_windows="Ctrl+NumPad -" data-primary_default_for_macos="⌘+NumPad -" data-primary_intellij_idea_classic_macos="⌘+NumPad -" data-primary_emacs="Ctrl+NumPad -" data-primary_visual_studio="Ctrl+NumPad -" data-primary_default_for_xwin="Ctrl+NumPad -" data-primary_default_for_gnome="Ctrl+NumPad -" data-primary_default_for_kde="Ctrl+NumPad -" data-primary_eclipse="Ctrl+NumPad -" data-primary_eclipse_macos="⌘+NumPad -" data-primary_netbeans="Ctrl+NumPad -" data-primary_sublime_text="Ctrl+Shift+[" data-primary_sublime_text_macos="Alt+⌘+[" data-secondary_default_for_windows="⌃-" data-secondary_default_for_macos="⌘-" data-secondary_intellij_idea_classic="⌘-" data-secondary_emacs="⌃-" data-secondary_visual_studio="⌃-" data-secondary_default_for_xwin="⌃-" data-secondary_default_for_gnome="⌃-" data-secondary_default_for_kde="⌃-" data-secondary_eclipse="⌃-" data-secondary_eclipse_macos="⌘-" data-secondary_netbeans="⌃-" data-secondary_sublime_text="⌃⇧[" data-secondary_sublime_text_macos="⌥⌘[">Ctrl+NumPad -</kbd> to toggle folding.                If you want to see the references and defintions expanded by default, do the following:            </p><ol class="list _decimal"><li class="list__item" id="802bf045">                <p id="69bff004"><a name="open_settings"></a>                In the        <a name="settings_dialog"></a>        <span class="control">Settings/Preferences</span> dialog <kbd data-primary_default_for_windows="Ctrl+Alt+S" data-primary_default_for_macos="⌘+Comma" data-primary_intellij_idea_classic_macos="⌘+Comma" data-primary_emacs="Ctrl+Alt+S" data-primary_visual_studio="Alt+F7" data-primary_default_for_xwin="Ctrl+Alt+S" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-primary_eclipse_macos="⌘+Comma" data-primary_netbeans="Ctrl+Alt+S" data-primary_sublime_text="Ctrl+Alt+S" data-primary_sublime_text_macos="⌘+Comma" data-secondary_default_for_windows="⌃⌥S" data-secondary_default_for_macos="⌘," data-secondary_intellij_idea_classic="⌘," data-secondary_emacs="⌃⌥S" data-secondary_visual_studio="⌥F7" data-secondary_default_for_xwin="⌃⌥S" data-secondary_default_for_gnome="⌃⌥S" data-secondary_default_for_kde="⌃⌥S" data-secondary_eclipse="⌃⌥S" data-secondary_eclipse_macos="⌘," data-secondary_netbeans="⌃⌥S" data-secondary_sublime_text="⌃⌥S" data-secondary_sublime_text_macos="⌘,">Ctrl+Alt+S</kbd>, select <span class="control">Editor | General | Code Folding</span>.</p>            </li><li class="list__item" id="8d992d6b">                <p id="c4b5e4fb">On the <span class="control">Code Folding</span> page, clear the necessary checkboxes:</p>                <ul class="list _ul"><li class="list__item" id="976c1723"><span class="control">Kubernetes: value references in Helm templates</span></li><li class="list__item" id="70999f28"><span class="control">Kubernetes: EnvVar definitions in YAML files</span></li><li class="list__item" id="9ba19435"><span class="control">Kubernetes: ExecAction definitions in YAML files</span></li></ul>            </li></ol></section>    </div><div class="last-modified" data-skip-index="skip">Last modified: 29 November 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="using-the-advanced-vagrant-features-in-product.html">Using the Advanced Vagrant Features in PhpStorm</a><a class="navigation-links__next" href="relational-databases.html">Database tools and SQL</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>