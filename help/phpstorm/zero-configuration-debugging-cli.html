<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>从命令行启动调试会话-帮助|帮助暴风雨</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body  data-id="Starting_a_debugging_session_from_the_command_line" data-breadcrumbs="Debugging_with_PhpStorm_Ultimate_Guide.xml|Debugging with PhpStorm: Ultimate Guide/PHP_Debugging_Session.xml|PHP Debugging Session/Zero-Configuration_Debugging.xml|Zero-Configuration Debugging/Zero-Configuration_Debugging_CLI.xml|Starting a debugging session from the command line" data-main-title="Starting a debugging session from the command line"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索PhpStorm帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>PhpStorm 2019.3帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option value="primary_default_for_windows" data-group="primary" selected>Windows默认</option><option value="primary_default_for_macos" data-group="primary">macOS的默认设置</option><option value="primary_intellij_idea_classic_macos" data-group="primary">IntelliJ IDEA经典版（macOS）</option><option value="primary_emacs" data-group="primary">埃马克斯</option><option value="primary_visual_studio" data-group="primary">视觉工作室</option><option value="primary_default_for_xwin" data-group="primary">XWin的默认设置</option><option value="primary_default_for_gnome" data-group="primary">GNOME的默认设置</option><option value="primary_default_for_kde" data-group="primary">KDE的默认值</option><option value="primary_eclipse" data-group="primary">日食</option><option value="primary_eclipse_macos" data-group="primary">Eclipse（macOS）</option><option value="primary_netbeans" data-group="primary">NetBeans</option><option value="primary_sublime_text" data-group="primary">崇高文字</option><option value="primary_sublime_text_macos" data-group="primary">崇高文字（macOS）</option><option value="secondary_default_for_windows" data-group="secondary">Windows默认</option><option value="secondary_default_for_macos" data-group="secondary">macOS的默认设置</option><option value="secondary_intellij_idea_classic" data-group="secondary">IntelliJ IDEA经典版</option><option value="secondary_emacs" data-group="secondary">埃马克斯</option><option value="secondary_visual_studio" data-group="secondary">视觉工作室</option><option value="secondary_default_for_xwin" data-group="secondary">XWin的默认设置</option><option value="secondary_default_for_gnome" data-group="secondary">GNOME的默认设置</option><option value="secondary_default_for_kde" data-group="secondary">KDE的默认值</option><option value="secondary_eclipse" data-group="secondary">日食</option><option value="secondary_eclipse_macos" data-group="secondary">Eclipse（macOS）</option><option value="secondary_netbeans" data-group="secondary">NetBeans</option><option value="secondary_sublime_text" data-group="secondary">崇高文字</option><option value="secondary_sublime_text_macos" data-group="secondary">崇高文字（macOS）</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 id="Zero-Configuration_Debugging_CLI.xml" data-toc="Starting_a_debugging_session_from_the_command_line">从命令行启动调试会话</h1>    <p id="5d4f6cc9">您可以从命令行开始调试PHP CLI脚本，让PhpStorm侦听传入的调试器连接。</p>    <ol class="list _decimal"><li class="list__item" id="0855127d"><p>            必要时<a href="zero-configuration-debugging.html#set_breakpoints">设置断点</a> 。</p></li><li class="list__item" id="39a9d33c"><p>在工具栏上，切换“ <span class="control">开始侦听PHP调试连接”</span>按钮或选择<span class="menupath" data-skip-index="skip">“运行” |“启动”。</span>在主菜单上， <span class="menupath" data-skip-index="skip">开始侦听PHP调试连接</span> 。</p></li><li class="list__item" id="2e2817cb"><p>使用调试器选项启动脚本，具体取决于您使用的调试引擎-Xdebug或Zend Debugger。</p></li></ol>    <div class="chapter"><h2 id="bc3c0607" data-toc="Starting_a_debugging_session_from_the_command_line#bc3c0607">使用Xdebug启动脚本</h2>        <p id="b4b3bf2a">Xdebug具有各种<a href="https://xdebug.org/docs/remote" rel="noopener noreferrer" data-external="true" target="_blank">配置选项</a> ，可用于让PHP解释器联系PhpStorm。必须使用-将这些参数传递给PHP解释器。 <code class="code">d</code>命令行开关。一个更方便的方法是设置不需要提供的环境变量<code class="code">-d</code>一直切换。</p>        <p id="a678c45a">请执行以下任一操作：</p>        <ul class="list _bullet"><li class="list__item" id="55773ea8">                <p id="0acfc7fe">用几个开关启动PHP：</p>                <div class="code-block" data-lang="shell">php -dxdebug.remote_enable = 1 -dxdebug.remote_mode = req -dxdebug.remote_port = 9000 -dxdebug.remote_host = 127.0.0.1 -dxdebug.remote_connect_back = 0 path / to / script.php</div>            </li><li class="list__item" id="aea9af95">                <p id="1b841d6e">设置一个配置Xdebug的环境变量：</p>                <div class="tabs" id="413fd032"><div class="tabs__content" id="9b2c466a" data-title="Windows">                        <div class="code-block" data-lang="bash">设置XDEBUG_CONFIG = remote_enable = 1 remote_mode = req remote_port = 9000 remote_host = 127.0.0.1 remote_connect_back = 0</div>                    </div><div class="tabs__content" id="c7ea5128" data-title="macOS / Linux">                        <div class="code-block" data-lang="bash">导出XDEBUG_CONFIG =“ remote_enable = 1 remote_mode = req remote_port = 9000 remote_host = 127.0.0.1 remote_connect_back = 0”</div>                    </div></div>            </li></ul>    </div>    <div class="chapter"><h2 id="c8e8eace" data-toc="Starting_a_debugging_session_from_the_command_line#c8e8eace">使用Zend Debugger启动脚本</h2>        <p id="d9b5808f">Zend Debugger具有各种<a href="https://support.zend.com/hc/en-us#.VKZRi9XF-PV" rel="noopener noreferrer" data-external="true" target="_blank">配置选项</a> ，可用于使PHP解释器访问PhpStorm。这些参数必须使用环境变量传递给PHP解释器：</p>        <div class="tabs" id="88361345"><div class="tabs__content" id="794a2a81" data-title="Windows">                <div class="code-block" data-lang="bash">设置QUERY_STRING = start_debug = 1＆debug_host = 127.0.0.1＆no_remote = 1＆debug_port = 10137＆debug_stop = 1</div>            </div><div class="tabs__content" id="db76c412" data-title="macOS / Linux">                <div class="code-block" data-lang="bash">导出QUERY_STRING =“ start_debug = 1＆debug_host = 127.0.0.1＆no_remote = 1＆debug_port = 10137＆debug_stop = 1”</div>            </div></div>    </div>    <div class="chapter"><h2 id="bc24b8ce" data-toc="Starting_a_debugging_session_from_the_command_line#bc24b8ce">配置路径映射</h2>        <p id="58a8377d">要告诉PhpStorm应该使用哪种路径映射配置来连接来自特定计算机的连接，请设置<code class="code">PHP_IDE_CONFIG</code>环境变量<code class="code">serverName=SomeName</code> ，在哪里<code class="code">SomeName</code>是在“ <a href="servers.html">服务器”</a>页面上定义的<span class="emphasis">调试服务器配置</span>的名称，请参阅<a href="creating-a-php-debug-server-configuration.html">创建PHP调试服务器配置</a> 。根据您使用的操作系统，以下列格式之一设置值：</p>        <div class="tabs" id="b4593985"><div class="tabs__content" id="d13e988d" data-title="Windows">                <div class="code-block" data-lang="bash">设置PHP_IDE_CONFIG = serverName = SomeName</div>            </div><div class="tabs__content" id="366883d2" data-title="macOS / Linux">                <div class="code-block" data-lang="bash">导出PHP_IDE_CONFIG =“ serverName = SomeName”</div>            </div></div>    </div>    <div class="chapter"><h2 id="1b55c9a4" data-toc="Starting_a_debugging_session_from_the_command_line#1b55c9a4">故障排除</h2>        <ul class="list _bullet"><li class="list__item" id="edfeaf57"><p>未通过以下命令指定<span class="emphasis">调试服务器配置</span> <code class="code">PHP_IDE_CONFIG</code>环境变量。在这种情况下，PhpStorm会从以下位置检测主机和端口<code class="code">$_SERVER['SSH_CONNECTION']</code>并建议创建一个不存在的新<span class="emphasis">调试服务器配置</span> 。即使没有隧道，它也适用于通过<span class="emphasis">ssh</span>进行的所有连接。</p></li><li class="list__item" id="ba65b66b"><p>未通过以下命令指定<span class="emphasis">调试服务器配置</span> <code class="code">PHP_IDE_CONFIG</code>环境变量和<code class="code">$_SERVER['SSH_CONNECTION']</code>没有定义。在这种情况下，将显示警告，并带有指向通过以下命令指定<span class="emphasis">调试服务器配置</span>的指令的链接： <code class="code">PHP_IDE_CONFIG</code>环境变量。</p></li><li class="list__item" id="771bdcdc"><p><span class="emphasis">调试服务器配置</span>通过<code class="code">PHP_IDE_CONFIG</code>环境变量，但是使用了错误的格式，PhpStorm将显示一条错误消息和说明。</p></li><li class="list__item" id="782e161a"><p>的<code class="code">PHP_IDE_CONFIG</code>环境变量配置正确，但是指定的<span class="emphasis">调试服务器配置</span>不存在，PhpStorm显示警告，并带有指向“ <a href="servers.html">服务器”</a>页面的链接。</p></li></ul>    </div><div class="last-modified" data-skip-index="skip">上次修改时间：2019年11月29日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="zero-configuration-debugging.html">零配置调试</a> <a class="navigation-links__next" href="zero-configuration-debugging-troubleshooting.html">故障排除</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>