<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>Usage issues - Help | Floating License Server</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body data-id="troubleshooting_usage" data-sections-label="Platforms" data-section-switcher="[Linux/macOS;Windows]"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search Floating License Server Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>Floating License Server  Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="troubleshooting_usage" id="troubleshooting_usage.xml">Usage issues</h1>    <p id="c0b931e0">This topic has step by step solutions to common usage issues.</p>    <div class="chapter"><h2 id="length-incorrect" data-toc="troubleshooting_usage#length-incorrect">Signature length is not correct</h2>        <div class="chapter"><h3 id="issue">Issue</h3>            <p id="3a7155c6">Attempt to obtain license from server leads to the following error:                <div class="code-block" data-lang="bash">License Server response haven't passed data integrity check:
                    java.security.SignatureException:
                    Signature length not correct: got 0 but was expecting 64
    </div>                This happens because license server installation is not registered.            </p>            <figure><img alt="Data Integrity Check Issue" title="Data Integrity Check Issue" src="/help/img/license_server/data_integrity_check_issue_0_64.png" id="1a8651e6" width="550" height="1854"></figure>        </div>        <div class="chapter"><h3 id="solution">Solution</h3>            <p id="f19a922f">Follow the <a href="register_server.html">registration instructions</a> to complete the registration of your FLS.</p>        </div>    </div>    <div class="chapter"><h2 id="validation-failed" data-toc="troubleshooting_usage#validation-failed">Validation is failed</h2>        <div class="chapter"><h3 id="issue">Issue</h3>            <p id="31922e35">Error caused by unexpectedly formatted data received in response to license request sent to FLS.                Attempt to obtain license from server leads to the error                <div class="code-block" data-lang="bash">License Server response has not passed data integrity check: Validation failed</div>                because there is a proxy which changes certificate data between product and local FLS.            </p>            <figure><img alt="Data Integrity Check Issue" title="Data Integrity Check Issue" src="/help/img/license_server/data_integrity_check_issue_0_64.png" id="596cbf56" width="550" height="1854"></figure>        </div>        <div class="chapter"><h3 id="solution">Solution</h3>            <p id="29bc0853">Check connection to license server:</p>            <ul class="list _ul"><li class="list__item" id="64e61254"><p>Try running <code class="code">ping &lt;server host&gt;</code>.</p></li><li class="list__item" id="f35cb260"><p>If ping is successful try to access FLS page from the web browser installed on the machine with                    JetBrains product, which fails to obtain a license, by visiting FLS address used in the product.                </p></li><li class="list__item" id="e1966c90"><p>If FLS page is successfully opened setup network configuration, used by the web browser, for the product.</p></li><li class="list__item" id="edfd2c5d"><p>If configuration is the same but connection still fails let product contact FLS through transparent                    proxy that allows product to receive response from the server and&nbsp;doesn't change passed data.</p></li></ul>        </div>    </div>    <div class="chapter"><h2 id="invalid-format" data-toc="troubleshooting_usage#invalid-format">Invalid signature format</h2>        <div class="chapter"><h3 id="issue">Issue</h3>            <p id="2cec7750">Attempt to obtain license from the server leads to the error <code class="code">License Server response has not passed data integrity check: Invalid signature format</code>.                The issue is caused by an outdated version of FLS used to obtain the ticket.            </p>        </div>        <div class="chapter"><h3 id="reason">Reason</h3>            <p id="6490e602">Starting with the 2018.2.1 release of JetBrains IDEs (released in Q3 2018), products no longer                obtain license tickets from the old versions of FLS (versions prior to                <span class="emphasis">build #16429</span> which was released on March 19, 2018).                To find the version number of FLS you are using, look in FLS log or                in the web interface.</p>        </div>        <div class="chapter"><h3 id="solution">Solution</h3>            <p id="d35157d2">Update FLS to the latest version by following the <a href="upgrade_from_previous.html">upgrade procedure</a>.</p>        </div>    </div>    <div class="chapter"><h2 id="cannot-obtain-ticket" data-toc="troubleshooting_usage#cannot-obtain-ticket">Cannot obtain ticket</h2>        <div class="chapter"><h3 id="issue">Issue</h3>            <p id="13b7d8bc">Attempt to obtain license from FLS gives <code class="code">Cannot obtain ticket</code> error message.            </p>            <figure><img alt="Cannot Obtain Ticket" title="Cannot Obtain Ticket" src="/help/img/license_server/cannot_obtain_ticket.png" id="fba3bbbd" width="550" height="1088"></figure>        </div>        <div class="chapter"><h3 id="solution">Solution</h3>            <p id="e77293cb">Issue is caused by absence of FLS page by the path entered as FLS address.                Open FLS address in web browser and check if there is license server page available.                If FLS page is not available, use actual FLS address or                <a href="configuring_url.html">re-configure FLS address</a>                to the address you are trying to use.                If FLS page is successfully opened setup network configuration, used by the web browser, for                the product.            </p>        </div>    </div>    <div class="chapter"><h2 id="certificate-exception" data-toc="troubleshooting_usage#certificate-exception">Certificate exception</h2>        <div class="chapter"><h3 id="issue">Issue</h3>            <p id="0f9f4cbf">The error is thrown when FLS is trying to contact JetBrains.                <div class="code-block" data-lang="bash">JetProfile connection error: java.security.cert.CertificateException:
                    java.security.SignatureException: Signature length not correct:
                    got 256 but was expecting 512
    </div>            </p>        </div>        <div class="chapter"><h3 id="solution">Solution</h3>            <p id="83fd40a8">There are several possible reasons of the issue and suggested solutions:</p>            <ul class="list _ul"><li class="list__item" id="472422f2"><p>Proxy server between you and <a href="https://account.jetbrains.com" data-external="true" target="_blank" rel="noopener noreferrer">JetBrains Account</a> that intercepts SSL traffic and substitutes                    our certificate with its own one, which is different and will not be accepted by the IDE.                    Proxy server may be completely transparent to you and may work without any explicit proxy configuration in your system.                    Contact your organization IT helpdesk or ISP support to get it resolved.                </p></li><li class="list__item" id="181f3ee6"><p id="d166cf9e">If you are using Linux, your JDK may have incomplete keystore without Thawte CA, therefore, JDK can't verify SSL certs from our server.                    See <a href="https://youtrack.jetbrains.com/issue/IDEA-139551" data-external="true" target="_blank" rel="noopener noreferrer">this issue</a> for details.                    You can install Oracle JDK 1.8 and configure license server to use this new JDK installation instead of the system JDK by running:</p>                    <div class="code-block" data-lang="bash" data-section="Linux/macOS">
                        &lt;fls_home&gt;/bin/license-server.sh java set &lt;path to JRE home directory&gt;
    </div>                    <div class="code-block" data-lang="bash" data-section="Windows">
                        &lt;fls_home&gt;\bin\license-server.bat java set &lt;path to JRE home directory&gt;
    </div>                    <p id="8d5a97e1">                        Make sure to install JDK manually from <a href="http://www.oracle.com/technetwork/java/javase/downloads/index" data-external="true" target="_blank" rel="noopener noreferrer">Oracle website</a>.                        JDK installed by the package manager will use the same cacerts file that may be incomplete or even empty/corrupted.                    </p>                </li><li class="list__item" id="6860d387"><p>IBM JDK will have issues connecting to account server, use Oracle JDK or OpenJDK.</p></li></ul>        </div>    </div>    <div class="chapter"><h2 id="host-not-allowed" data-toc="troubleshooting_usage#host-not-allowed">Passed host is not allowed</h2>        <div class="chapter"><h3 id="issue">Issue</h3>            <p id="c7712387">An attempt to access FLS page fails with an error message "Passed host header is not allowed."            </p>        </div>        <div class="chapter"><h3 id="solution">Solution</h3>            <p id="349fd625">If FLS runs behind the reverse proxy or a host configured for FLS software doesn't                match a host of machine where the software is running, configure virtual hosts property for                FLS software. See <a href="configuring_reverse_proxy.html">Reverse proxy</a>            </p>        </div>    </div>    <p id="87794bfe">        If you didn't find an answer to your question in this documentation, and you require assistance,        feel free to contact the <a href="https://www.jetbrains.com/license-server/contact-support/" data-external="true" target="_blank" rel="noopener noreferrer">JetBrains Support team</a>.    </p><div class="last-modified" data-skip-index="skip">Last modified: 22 November 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="troubleshooting_registration.html">Registration</a><a class="navigation-links__next" href="troubleshooting_user_restrictions.html">User restrictions</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>