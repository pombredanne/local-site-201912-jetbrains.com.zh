<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>Upgrading version - Help | Floating License Server</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body data-id="troubleshooting_upgrade"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search Floating License Server Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>Floating License Server  Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="troubleshooting_upgrade" id="troubleshooting_upgrade.xml">Upgrading version</h1>    <p id="edb32222">This topic has step by step solutions to common upgrading issues.</p>    <div class="chapter"><h2 id="fails-restart" data-toc="troubleshooting_upgrade#fails-restart">Fails during the restart</h2>        <div class="chapter"><h3 id="issue">Issue</h3>            <p id="d584e100">                MSI-based FLS installer fails during the restart step.            </p>        </div>        <div class="chapter"><h3 id="solution">Solution</h3>            <p id="7306a379">                FLS creates a dedicated user to run the application. New versions’ installation may                fail during the attempt of application restart.            </p>            <p id="e7716c07">                The reason is in permissions’ conflict between the <code class="code">JetBrainsLS</code> users                (see screenshots for reference).                It’s likely to happen with <span class="emphasis">build #5374</span> and older.            </p>            <figure><img alt="Restart old windows" title="Restart old windows" src="/help/img/license_server/restart_old_windows.png" id="f4f8eafa" width="550" height="408"></figure>            <p id="8f5b4858">                To solve the issue, stop and uninstall the application using Windows standard tools of Control Panel + delete                related folders from <code class="code">%programData%</code> and <code class="code">%userprofile%</code>.                <figure><img alt="Uninstall old server" title="Uninstall old server" src="/help/img/license_server/uninstall_old_server.png" id="17cb9153" width="645" height="180"></figure>            </p>            <p id="95e5daa3">After that, repeat the installation of the new version.</p>        </div>    </div>    <div class="chapter"><h2 id="installer-fails" data-toc="troubleshooting_upgrade#installer-fails">Installer fails</h2>        <div class="chapter"><h3 id="issue">Issue</h3>            <p id="27e84d47">                FLS installer fails, but there is no FLS among installed programs, so it can't be uninstalled.            </p>        </div>        <div class="chapter"><h3 id="solution">Solution</h3>            <p id="330bdaeb">                If there is no the JetBrains License Service in the <span class="control">Programs list</span>, it's very likely it was installed for another system user profile.                Old versions had "per-user" type of installation. In this case, you need to find this profile,                login and uninstall the application or to clean it up manually from Windows registry.                Pay attention that it may be potentially harmful, and we recommend having registry backup.            </p>        </div>    </div>    <div class="chapter"><h2 id="logon-error" data-toc="troubleshooting_upgrade#logon-error">Logon error</h2>        <div class="chapter"><h3 id="issue">Issue</h3>            <p id="dcd08726">                MSI-based FLS can't be restarted with <span class="control">"Logon error"</span>.            </p>        </div>        <div class="chapter"><h3 id="solution">Solution</h3>            <p id="0a4e7ede">Run the same version MSI installer as it has now and select <span class="control">"Repair"</span> in the wizard.</p>        </div>    </div>    <p id="6d77cbbb">        If you didn't find an answer to your question in this documentation, and you require assistance,        feel free to contact the <a href="https://www.jetbrains.com/license-server/contact-support/" data-external="true" target="_blank" rel="noopener noreferrer">JetBrains Support team</a>.    </p><div class="last-modified" data-skip-index="skip">Last modified: 22 November 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="troubleshooting_user_restrictions.html">User restrictions</a><a class="navigation-links__next" href="faq.html">Frequently Asked Questions</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>