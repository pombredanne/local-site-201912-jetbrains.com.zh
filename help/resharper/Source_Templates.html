<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>Source Templates - Help | ReSharper</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body data-id="Source_Templates" data-disqus-id="Source_Templates_10"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search ReSharper Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>ReSharper 2019.2 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="secondary" value="rs">ReSharper 2.x/IntelliJ IDEA</option><option data-group="primary" value="vs">Visual Studio</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Source_Templates" id="Source_Templates.xml">Source Templates</h1>        <p id="78c06e05">        Traditionally, templates or snippets are stored and managed outside of your source code.        This makes sense because normally a template helps you quickly produce some universal boilerplate code.        For these purposes, ReSharper provides a lot of predefined        <a href="Templates__Applying_Templates__Creating_Source_Code_Using_Live_Templates.html">live templates</a>,        <a href="Templates__Applying_Templates__Surrounding_Code_Fragments_with_Templates.html">surround templates</a>, and        <a href="Templates__Applying_Templates__Creating_Files_from_Templates.html">file templates</a>.        You can also        <a href="Templates__Creating_and_Editing_Templates.html">create your own templates</a> of these types.    </p>    <p id="2f771de5">        However, you may want to produce some repeatable code that is only relevant in your current project or solution.        ReSharper allows you to streamline such tasks with        <span class="emphasis">Source Templates</span>.    </p>    <div class="chapter"><h2 id="how-it-works" data-toc="Source_Templates#how-it-works">How it Works</h2>        <p id="0549c605">            In contrast to traditional templates,            source templates can be created anywhere in the code of your project as            <a href="https://msdn.microsoft.com/en-us//library/bb383977.aspx" data-external="true" target="_blank" rel="noopener noreferrer">extension methods</a>.            You can define them for some specific types of your project or for any standard types.            You can even make a source template available for all types by creating it as an extension method for            <code class="code">object</code>.        </p>        <p id="0553fc2e">            As soon as a template is defined, it becomes available in the            <a href="Auto-Completing_Code.html">code completion list</a>            for the objects of corresponding type and its inheritors.            When you choose the template in the list, ReSharper inserts the code            from the body of the template method into your code.        </p>        <p id="75ece2b7">            Here is an example that illustrates a simplest application of a source template. Our template            <code class="code">forEach</code>,            will be available for all generic collections — this is defined by the parameter            <code class="code">this IEnumerable&lt;T&gt; x</code>.            It will insert code that iterates the collection, as specified in the method body.            We can define the template in any static class in our project.            ReSharper will identify it as a template by the            <code class="code">[SourceTemplate]</code>            attribute:        </p>        <div class="code-block" data-lang="csharp">
public static class Foo
{
    [SourceTemplate]
    public static void forEach&lt;T&gt;(this IEnumerable&lt;T&gt; x)
    {
        foreach (var i in x)
        {
            //$ $END$
        }
    }
}
        </div>        <p id="00a01fbe">            To deploy this template, we now can use            <a href="Coding_Assistance_Code_Completion_Auto.html">automatic completion</a>            for any collection object:        </p>        <figure><img alt="Source template in the completion list" title="Source template in the completion list" src="/help/img/dotnet/2019.2/sourceTemplatesExample.png" id="7776d8bf" width="360" height="152"></figure>        <p id="b62844ee">            When you select the template item, the object is replaced with the template text:        </p>        <div class="code-block" data-lang="csharp">
public Test(IEnumerable&lt;string&gt; enumerable)
{
    foreach (var i in enumerable)
    {

    }
}
        </div>        <p id="636f3a7a">            Note that the            <code class="code">//$ $END$</code>            comment in the template definition is nothing else but the            <a href="Templates__Template_Basics__Template_Variables.html#predefined">                predefined template parameter </a>            defining the caret position after the template is applied. You can            <a href="#params">use other parameters</a>            in your template to make the template more flexible.        </p>    </div>    <div class="chapter"><h2 id="why-use-source-templates" data-toc="Source_Templates#why-use-source-templates">Why Use Source Templates</h2>        <p id="df7deb6b">            As mentioned above, source templates are most helpful for the code blocks that you want to reuse in the            current project or solution.            Here are some points that show the advantages of source templates over traditional templates:        </p>        <ul class="list _ul"><li class="list__item" id="584994db"><p>                To work with source templates, you do not have to switch anywhere — everything is in your editor.            </p></li><li class="list__item" id="016ad4d9"><p>                The templates are strongly typed, which means that you can only call them on relevant objects.            </p></li><li class="list__item" id="88b37b65"><p>                As long as template definitions compile, you can be sure that the template code has no errors.            </p></li><li class="list__item" id="67052ef2"><p>                While creating and editing source templates, your favorite ReSharper features are at your disposal:                <a href="Design_time_Inspection.html">code inspection</a>,                <a href="Navigation_and_Search__Index.html">navigation features</a>,                <a href="Auto-Completing_Code.html">code completion</a>, just to name a few.            </p></li></ul>    </div>    <div class="chapter"><h2 id="creating" data-toc="Source_Templates#creating">Create Source Templates</h2>        <p id="d27ba921">            For definitions of your source templates, you can create a new class or use an existing static class            where you keep your extension methods.        </p>        <div class="chapter"><h3 id="template-method-and-its-body">Template method and its body</h3>            <p id="eedba8ee">                A source template must be a public extension method and have the                <code class="code">[SourceTemplate]</code>                attribute. The attribute is defined in the                <code class="code">JetBrains.Annotations</code>                namespace, together with                <code class="code">[NotNull]</code>,                <code class="code">[CanBeNull]</code>                and other                <a href="Code_Analysis__Code_Annotations.html">code annotation attributes</a>.                Therefore, to define source template methods, you should                <a href="Code_Analysis__Annotations_in_Source_Code.html#enabling">                    enable ReSharper code annotation support in your project</a>.            </p>            <p id="a8671e3c">                In the template body, you can write the code that does anything you like.                Normally, it does something with the caller object, but it is not necessary.            </p>            <p id="2a882b1b">                You may also need to use some code that would not compile in the template method.                For example, you may want to use the caller object name to generate a name of a local variable.                In this case, place this code inside a line or a block comment that starts with the '$' sign:            </p>            <div class="code-block" data-lang="csharp">
[SourceTemplate]
public static void Bar(this Entity entity)
{
    /*$ var $entity$Id = entity.GetId();;
    DoSomething($entity$Id); */
}
            </div>        </div>        <div class="chapter"><h3 id="params">Parameters and macros</h3>            <p id="109c5458">                In source templates, you can use                <a href="Templates__Template_Basics__Template_Variables.html">parameters</a> amd                <a href="Templates__Template_Basics__Template_Macros.html">macros</a>.                Depending on the macro that you are going to use for the parameter,                you can choose between several ways of specifying and using parameters.            </p>            <ul class="list _ul"><li class="list__item" id="24bd409c">                    <p id="d04e258a">                        You can create a template parameter by adding a new parameter to the template method.                        By default, it will behave as an editable parameter, that is it will receive focus during the                        <a href="Reference__Hot_Spot_Session.html">Hot Spot Session</a> when you apply the template.                        If you want to define a macro for this parameter,  you need to add the                        <code class="code">[Macro]</code> attribute as shown in the example below.                    </p>                    <ul class="list _ul"><li class="list__item" id="9f804ab7"><p>                            The 'Expression' property of the attribute defines which macro should be used.                            You can specify one of the                            <a href="Template_Macros.html">available template macros</a>.                        </p></li><li class="list__item" id="97bf6bc6"><p>                            The 'Editable' property optionally specifies whether the user will be able to edit the                            parameter when the template is applied.                            By default, all user-defined parameters are editable; the value                            <code class="code">-1</code>                            makes the parameter non-editable.                            <br>                            If the same parameter is used several times in the template, only one occurrence                            becomes editable when the template is applied; other occurrences are changed synchronously.                            If necessary, you can define which occurrence becomes editable by specifying its                            zero-based index in the 'Editable' property.                        </p></li></ul>                    <div class="code-block" data-lang="csharp">
[SourceTemplate]
public static void newGuid(this object obj,
    [Macro(Expression = "guid()", Editable = -1)] string newguid)
{
    Console.WriteLine(newguid);
}
                    </div>                </li><li class="list__item" id="c4bf3b4a">                    <p id="93fd7be0">                        You can turn any local variable in your template method into a template parameter.                        To do so, you need to add the                        <code class="code">[Macro]</code>                        attribute to the template method definition, and specify the variable name in its                        <code class="code">Target</code> property. For example:                    </p>                    <div class="code-block" data-lang="csharp">
[SourceTemplate]
[Macro(Target = "item", Expression = "suggestVariableName()")]
public static void forEach&lt;T&gt;(this IEnumerable&lt;T&gt; collection)
{
    foreach (var item in collection)
    {
        //$ $END$
    }
}
                    </div>                </li><li class="list__item" id="2e61732e">                    <p id="d132ee1b">                        You can use                        <a href="Templates__Template_Basics__Template_Variables.html#predefined">                            predefined parameters                        </a>                        as well as all user-defined parameters the same way as in other ReSharper templates,                        wrapping the parameter identifier with two '$' signs                        <code class="code">$param_name$</code>.                    </p>                    <p id="1b8333c9">                        You can use user-defined template parameters inside string literals, e.g:                    </p>                    <div class="code-block" data-lang="csharp">Console.WriteLine("A random GUID: $newguid$");</div>                    <p id="a607f6b4">                        To use template parameters outside string literals,                        you need to put them in a special template comment that starts with the '$' sign:                        <code class="code">//$ $param_name$</code>. or                        <code class="code">/*$ $param_name$ */</code>.                        For example:                    </p>                    <div class="code-block" data-lang="csharp">
[SourceTemplate]
[Macro(Target = "newguid", Expression = "guid()", Editable = -1)]
public static void newGuid(this object obj)
{
    //$ var guid = "$newguid$";
    Console.WriteLine("A random GUID: $newguid$");
}
                    </div>                    <p id="4e4d1b7e">                        The caller object as well as                        template parameters created as method parameters and local variables                        can be used both with and without the '$' signs inside the special templates comments.                    </p>                </li></ul>        </div>    </div>    <div class="chapter"><h2 id="applying" data-toc="Source_Templates#applying">Apply source templates</h2>        <p id="7d3e2f07">            To apply your source template, first make sure that the template is in scope.            That is, either you are in the same namespace            or that the template's namespace is explicitly imported. into your code.        </p>        <aside data-type="note" class="prompt" data-title="" rel="7d3e2f07" id="d3af8261">            <p id="5ca189fd">                You can disable source templates in completion lists by clearing the                <span class="control">Show source templates</span> checkbox on                <a name="the_options_page"></a>        the        <span data-skip-index="skip" class="menupath">Code Editing | Postfix Templates</span>        page of        <a name="product_settings"></a>        ReSharper options                (<kbd data-bypass="true" class="keystroke"><span class="keystroke__value">Alt+R,,O</span></kbd>).            </p>        </aside>        <aside data-type="tip" class="prompt" data-title="" rel="applying" id="38d491da">            <a name="completion_filters"></a>        <p id="0c22e1f5">            To hide templates in the completion list or, conversely, hide all other items, use            <a href="Using_Filters_in_Code_Completion.html">completion filters</a>.        </p>            </aside>        <section class="procedure-steps"><h3 id="24431402">To create a code fragment from a source template</h3><ol class="list _decimal"><li class="list__item" id="1073c9b6"><p>                Set the caret where you want to deploy the template.            </p></li><li class="list__item" id="f58b5ec2"><p>                Type an object, for which you want to deploy the template, then type a dot,                and then start typing the name of the template or its                <a href="Navigation_and_Search__CamelHumps.html">CamelHumps</a> abbreviation.            </p></li><li class="list__item" id="d4cc0738"><p>                Select the template in the completion list and click it or press                <kbd data-bypass="true" class="keystroke"><span class="keystroke__value">Enter</span></kbd>.            </p></li><li class="list__item" id="84a7651f"><p>                The caller object, the dot, and the part of the template name that you typed are replaced with                the template body.            </p></li><li class="list__item" id="91d5bc89">            If the template has            <a href="Templates__Template_Basics__Template_Variables.html#editable">                editable parameters</a>            (that is, requires user input), ReSharper deploys a            <a href="Reference__Hot_Spot_Session.html">hot spot session</a>            in the editor and sets the input position at the first parameter.            Then you can do the following:            <a name="hot_spot_list"></a>        <ul class="list _ul"><li class="list__item" id="5ea10cc1"><p>                If ReSharper suggests some values for the current parameter, use                <kbd data-bypass="true" class="keystroke"><span class="keystroke__value">Up</span></kbd> and                <kbd data-bypass="true" class="keystroke"><span class="keystroke__value">Down</span></kbd> arrow keys to navigate through the list of suggested values,                or just type in a desired value.            </p></li><li class="list__item" id="e365deae"><p>                Press                <kbd data-bypass="true" class="keystroke"><span class="keystroke__value">Tab</span></kbd> or                <kbd data-bypass="true" class="keystroke"><span class="keystroke__value">Enter</span></kbd> to accept the value                and move to the input  position of the next parameter.                If this is the last parameter, the hot spot session completes and                the caret moves to the end position defined for the session.            </p></li><li class="list__item" id="2e40ce3c"><p>                Press                <kbd data-bypass="true" class="keystroke"><span class="keystroke__value">Shift+Tab</span></kbd> to move the input focus to the input position of the previous parameter.            </p></li><li class="list__item" id="0ff842d0"><p>                Press                <kbd data-bypass="true" class="keystroke"><span class="keystroke__value">Esc</span></kbd> to exit the hot spot session.                In this case, all session parameters will be initialized with default values.            </p></li></ul>            </li></ol></section>    </div>    <a name="supported_in_csharp"></a>            <p id="29c5f5aa">                This feature is                <a href="Introduction__Feature_Map.html">supported</a>                in the following languages and technologies:            </p>            <div class="table-wrapper"><table class=" wide" width="100%" id="bff5bcc3"><thead><tr id="a23bdcaa" class="ijRowHead"><th id="83457679">                                <a href="ReSharper_by_Language__CSharp.html"><img alt="Language: C#" title="Language: C#" src="/help/img/dotnet/2019.2/ThemedIcon.Csharp.Print.[Gray].png" id="af32f0a8" width="25" height="25" class="inline-icon-25"></a>                            </th><th id="c19cfdfd">                                <a href="ReSharper_by_Language__Visual_Basic.html"><img alt="Language: VB.NET" title="Language: VB.NET" src="/help/img/dotnet/2019.2/ThemedIcon.Vbasic.Print.[Gray].png" id="0efdb589" width="25" height="25" class="inline-icon-25"></a>                            </th><th id="6c4bf6d5">                                <a href="ReSharper_by_Language_CPP.html"><img alt="Language: C++" title="Language: C++" src="/help/img/dotnet/2019.2/ThemedIcon.CppSource.Print.[SymbolsVs11Gray].png" id="8632e42c" width="25" height="25" class="inline-icon-25"></a>                            </th><th id="d1e24854">                                <a href="ReSharper_by_Language__HTML.html"><img alt="Language: HTML" title="Language: HTML" src="/help/img/dotnet/2019.2/ThemedIcon.Html.Print.[Gray].png" id="0ef37739" width="25" height="25" class="inline-icon-25"></a>                            </th><th id="60556674">                                <a href="Web_Development__Index.html"><img alt="Language: ASP.NET" title="Language: ASP.NET" src="/help/img/dotnet/2019.2/ThemedIcon.AspNet.Print.[Gray].png" id="d355bec8" width="25" height="25" class="inline-icon-25"></a>                            </th><th id="a5a9794b">                                <a href="Web_Development__ASP.NET_MVC.html"><img alt="Language: Razor" title="Language: Razor" src="/help/img/dotnet/2019.2/ThemedIcon.Razor.Print.[Gray].png" id="f2d91abe" width="25" height="25" class="inline-icon-25"></a>                            </th><th id="69670a4e">                                <a href="ReSharper_by_Language__JavaScript.html"><img alt="Language: JavaScript" title="Language: JavaScript" src="/help/img/dotnet/2019.2/ThemedIcon.Js.Print.[Gray].png" id="f22668f3" width="25" height="25" class="inline-icon-25"></a>                            </th><th id="4059b112">                                <a href="ReSharper_by_Language__TypeScript.html"><img alt="Language: TypeScript" title="Language: TypeScript" src="/help/img/dotnet/2019.2/ThemedIcon.TsOptionPage.Print.[Gray].png" id="9978937f" width="25" height="25" class="inline-icon-25"></a>                            </th><th id="4c3fdf61">                                <a href="ReSharper_by_Language__CSS.html"><img alt="Language: CSS" title="Language: CSS" src="/help/img/dotnet/2019.2/ThemedIcon.Css.Print.[Gray].png" id="e287d7d0" width="25" height="25" class="inline-icon-25"></a>                            </th><th id="cabdd86c">                                <a href="ReSharper_by_Language__XML.html"><img alt="Language: XML" title="Language: XML" src="/help/img/dotnet/2019.2/ThemedIcon.XmlFile.Print.[Gray].png" id="552c3926" width="25" height="25" class="inline-icon-25"></a>                            </th><th id="3e0e93f3">                                <a href="Languages_XAML.html"><img alt="Language: XAML" title="Language: XAML" src="/help/img/dotnet/2019.2/ThemedIcon.Xaml.Print.[Gray].png" id="a2caa9cb" width="25" height="25" class="inline-icon-25"></a>                            </th><th id="be4618ac">                                <a href="Resources__Index.html"><img alt="Language: Resx" title="Language: Resx" src="/help/img/dotnet/2019.2/ThemedIcon.Localization.Print.[Gray].png" id="4b07b09e" width="25" height="25" class="inline-icon-25"></a>                            </th><th id="70533d46">                                <a href="ReSharper_by_Language__MSBuild.html"><img alt="Language: Build Scripts" title="Language: Build Scripts" src="/help/img/dotnet/2019.2/ThemedIcon.BuildScripts.Print.[Gray].png" id="15876d02" width="25" height="25" class="inline-icon-25"></a>                            </th><th id="aa517e21">                                <a href="ReSharper_by_Language_Protobuf.html"><img alt="Language: Protobuf" title="Language: Protobuf" src="/help/img/dotnet/2019.2/ThemedIcon.ProtobufOptionPage.Print.[Gray].png" id="accc54dd" width="25" height="25" class="inline-icon-25"></a>                            </th><th id="2244b7df">                                <a href="ReSharper_by_Language_JSON.html"><img alt="Language: JSON" title="Language: JSON" src="/help/img/dotnet/2019.2/ThemedIcon.Json.Print.[Gray].png" id="a1813833" width="25" height="25" class="inline-icon-25"></a>                            </th></tr></thead><tbody><tr id="ceb3e7a8" class="ijRowOdd"><td id="56c7c885">            <img alt="Feature is available" title="Feature is available" src="/help/img/dotnet/2019.2/check.svg" id="1957bef9" width="17" height="12" class="inline-icon-17">                    </td><td id="d4391e88">                        <img alt="Feature is not available" title="Feature is not available" src="/help/img/dotnet/2019.2/cross.svg" id="94fb9c1c" width="12" height="12" class="inline-icon-12">        </td><td id="dc8794f2">                        <img alt="Feature is not available" title="Feature is not available" src="/help/img/dotnet/2019.2/cross.svg" id="2d51d564" width="12" height="12" class="inline-icon-12">        </td><td id="0551da4f">                        <img alt="Feature is not available" title="Feature is not available" src="/help/img/dotnet/2019.2/cross.svg" id="c0e93aa2" width="12" height="12" class="inline-icon-12">        </td><td id="28be3a86">                        <img alt="Feature is not available" title="Feature is not available" src="/help/img/dotnet/2019.2/cross.svg" id="bb24a1a4" width="12" height="12" class="inline-icon-12">        </td><td id="fffa949c">                        <img alt="Feature is not available" title="Feature is not available" src="/help/img/dotnet/2019.2/cross.svg" id="5444f598" width="12" height="12" class="inline-icon-12">        </td><td id="16a216a5">                        <img alt="Feature is not available" title="Feature is not available" src="/help/img/dotnet/2019.2/cross.svg" id="a826f7c0" width="12" height="12" class="inline-icon-12">        </td><td id="234999b8">                        <img alt="Feature is not available" title="Feature is not available" src="/help/img/dotnet/2019.2/cross.svg" id="0cf2dd77" width="12" height="12" class="inline-icon-12">        </td><td id="6aa398a1">                        <img alt="Feature is not available" title="Feature is not available" src="/help/img/dotnet/2019.2/cross.svg" id="4f2babf7" width="12" height="12" class="inline-icon-12">        </td><td id="f9c0b772">                        <img alt="Feature is not available" title="Feature is not available" src="/help/img/dotnet/2019.2/cross.svg" id="0c5a990d" width="12" height="12" class="inline-icon-12">        </td><td id="94a27944">                        <img alt="Feature is not available" title="Feature is not available" src="/help/img/dotnet/2019.2/cross.svg" id="33400f92" width="12" height="12" class="inline-icon-12">        </td><td id="5cac1395">                        <img alt="Feature is not available" title="Feature is not available" src="/help/img/dotnet/2019.2/cross.svg" id="03f66006" width="12" height="12" class="inline-icon-12">        </td><td id="040f8109">                        <img alt="Feature is not available" title="Feature is not available" src="/help/img/dotnet/2019.2/cross.svg" id="9134aaf3" width="12" height="12" class="inline-icon-12">        </td><td id="ed57241b">                        <img alt="Feature is not available" title="Feature is not available" src="/help/img/dotnet/2019.2/cross.svg" id="1da586cf" width="12" height="12" class="inline-icon-12">        </td><td id="41fd24ae">                        <img alt="Feature is not available" title="Feature is not available" src="/help/img/dotnet/2019.2/cross.svg" id="91413204" width="12" height="12" class="inline-icon-12">        </td></tr></tbody></table></div>        <div class="last-modified" data-skip-index="skip">Last modified: 18 November 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="Postfix_Templates.html">Postfix Templates</a><a class="navigation-links__next" href="Resources__Index.html">Localization Assistance</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>