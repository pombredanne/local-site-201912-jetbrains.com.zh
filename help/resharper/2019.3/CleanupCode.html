<html lang="en-US" ><head><meta charset="UTF-8"><meta name="robots" content="noindex"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>CleanupCode命令行工具-帮助|锐化器</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body  data-id="CleanupCode" data-breadcrumbs="ReSharper_Command_Line_Tools.xml|ReSharper Command Line Tools/CleanupCode.xml|CleanupCode Command-Line Tool" data-main-title="CleanupCode Command-Line Tool" data-disqus-id="CleanupCode_10"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索ReSharper帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>ReSharper 2019.3帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option value="rs" data-group="secondary">ReSharper 2.x / IntelliJ IDEA</option><option value="vs" data-group="primary">视觉工作室</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 id="CleanupCode.xml" data-toc="CleanupCode">CleanupCode命令行工具</h1>                    <p id="e715489b">CleanupCode是一个<span class="emphasis">免费的命令行工具</span> ，可以执行<a href="Code_Cleanup__Index.html">代码清理</a>以立即消除项目或解决方案中违反代码样式的行为，并确保统一的代码库。</p>    <a name="to_use"></a>        <section class="procedure-steps"><h3 id="32458c2a">要运行CleanupCode：</h3><ol class="list _decimal"><li class="list__item" id="a339fa0c"><p>下载<a href="https://www.jetbrains.com/resharper/download/index.html#section=resharper-clt" rel="noopener noreferrer" data-external="true" target="_blank">ReSharper命令行工具</a>            </p></li><li class="list__item" id="703d0e99"><p>将命令行工具包解压缩到任何目录中。<br><span class="filepath">解</span>压缩之前，请确保已下载的<span class="filepath">.zip</span>文件已被“取消阻止”：右键单击该文件，选择“ <span class="control">属性”</span> ，然后单击“ <span class="control">取消阻止”</span> 。否则，将导致.NET框架以部分信任的方式加载应用程序，这意味着它将无法正确加载或运行。</p></li><li class="list__item" id="fa249701"><p>构建目标解决方案。</p></li><li class="list__item" id="3d0dd071"><p>运行以下命令：</p><div class="code-block" data-lang="bash">cleanupcode.exe YourSolution.sln</div>                            <p></p></li></ol></section>        <aside class="prompt" rel="32458c2a" id="note_tools_cpp" data-type="note" data-title="">        <p id="bcc46986">如果您使用CleanupCode清理C ++中的代码，请使用<span class="filepath">cleanupcode.x86.exe</span> ，不要使用<span class="filepath">cleanupcode.exe</span>        </p>    </aside>    <div class="chapter"><h2 id="configuring-cleanupcode-with-command-line-arguments" data-toc="CleanupCode#configuring-cleanupcode-with-command-line-arguments">使用命令行参数配置CleanupCode</h2>        <aside class="prompt" rel="configuring-cleanupcode-with-command-line-arguments" id="3c56bf5b" data-type="tip" data-title="">            <p id="6d199cfe">如果您的项目<span>在Git VCS下</span> ，请使用<code class="code">git diff</code>运行CleanupCode以显示该工具所做的任何更改之后。</p>        </aside>        <p id="bf8517e3">默认情况下，CleanupCode将扫描解决方案中的所有文件，并应用“ <a href="Code_Cleanup__Index.html#profiles">内置：完全清除”配置文件中</a>指定的代码清除任务，即除<a href="File_Header_Style.html">更新文件头</a>之外，所有<a href="Code_Cleanup__Index.html#tasks">可用的清除任务</a> 。</p>        <p id="d488a7d6">还有另外两个内置配置文件- <span class="emphasis">内置：“重新格式化代码”</span> ，将仅应用<a href="Enforcing_Code_Formatting_Rules.html">代码格式设置首选项；</a>以及“ <span class="emphasis">内置：重新格式化和应用代码样式”</span> ，其将应用<a href="Enforcing_Code_Formatting_Rules.html">代码格式设置首选项</a>和<a href="Code_Syntax_Style.html">代码语法样式</a> 。要使用其他个人资料，请通过<code class="code">--profile</code> <span class="filepath">cleanupcode.exe的</span>命令行参数，例如：</p>        <div class="code-block" data-lang="bash">cleanupcode.exe --profile =“内置：重新格式化代码” YourSolution.sln</div>        <p id="0bbe882c">除了<code class="code">--profile</code> ，您可以使用以下命令行参数：</p>        <ul class="list _ul"><li class="list__item" id="li_settings_param"><p>                    <code class="code">--settings</code> —默认情况下，CleanupCode将使用<a href="Sharing_Configuration_Options.html#solution-team-shared-layer">“解决方案团队共享”层</a> <span class="filepath">SolutionName中的 ReSharper设置覆盖其默认设置<span class="filepath">。DotSettings</span> （如果存在）。如有必要，可以使用此参数指定另一个<span class="filepath">。DotSettings</span>文件，它将覆盖所有其他设置。例如，<br>                    <code class="code">--settings="C:\Work\MyRsSettings.DotSettings"</code> 。</span></p></li><li class="list__item" id="e6ff3b92"><p>                <code class="code">--include/--exclude</code> —定义在清理期间要包括/排除的文件的相对路径。</p></li><li class="list__item" id="disable_settings_layers"><p>                    <code class="code">--disable-settings-layers</code><code class="code">-dsl</code> —禁用指定的<a href="Sharing_Configuration_Options.html#layers">设置图层</a> 。接受的值： <code class="code">GlobalAll</code> ， <code class="code">GlobalPerProduct</code> ， <code class="code">SolutionShared</code> ， <code class="code">SolutionPersonal</code>                                                                                                                                                            </p></li><li class="list__item" id="776e427a"><p>与MSBuild，缓存文件夹等相关的几个选项。详情可从<code class="code">cleanupcode.exe --help</code> 。</p></li><li class="list__item" id="config"><p>                <code class="code">--config-create</code>和<code class="code">--config</code> —这些选项使您可以将上述参数与配置文件一起传递。第一个选项将根据当前参数创建一个配置文件。第二个选项用于从该文件加载参数。</p></li><li class="list__item" id="debug"><p>                    <code class="code">--debug (-d)</code> —使用此选项可将CleanupCode的执行详细信息添加到输出中。如果您在使用CleanupCode时遇到问题，请与<a href="https://resharper-support.jetbrains.com/hc/en-us" rel="noopener noreferrer" data-external="true" target="_blank">支持团队</a>联系时使用这些详细信息。</p></li></ul>    </div>        <div class="chapter"><h2 id="configuring-cleanupcode-with-resharper-settings" data-toc="CleanupCode#configuring-cleanupcode-with-resharper-settings">使用ReSharper设置配置CleanupCode</h2>        <p id="fbe3c572">如果您以前使用ReSharper处理目标解决方案，则可能已经配置了代码样式设置。如果是这样，CleanupCode将在中找到您的<a href="Sharing_Configuration_Options.html">自定义设置</a> <span class="filepath">。点设置</span>文件并应用它们。</p>        <p id="4477a5ae">CleanupCode将从ReSharper设置文件中读取以下首选项：</p>        <ul class="list _ul"><li class="list__item" id="d26680e1"><p>                <a href="Enforcing_Code_Formatting_Rules.html#configure">代码格式化规则</a> （ <span class="menupath" data-skip-index="skip">ReSharper |选项|代码编辑|常规格式样式</span>和<span class="menupath" data-skip-index="skip">ReSharper |选项|代码编辑| [语言] |格式样式</span> ）</p></li><li class="list__item" id="8d1a6920"><p>                <a href="Code_Syntax_Style.html">语法样式</a> （ <span class="menupath" data-skip-index="skip">ReSharper |选项|代码编辑| [语言] |代码样式</span> ）</p></li><li class="list__item" id="c05a7680"><p>                <a href="File_Header_Style.html">C＃和C ++中的文件头样式</a> （ <span class="menupath" data-skip-index="skip">ReSharper |选项|代码编辑|文件头文本</span> ）</p></li><li class="list__item" id="ba93d8ea"><p>                <a href="File_and_Type_Layout.html">C＃中的文件和类型布局</a> （ <span class="menupath" data-skip-index="skip">ReSharper |选项|代码编辑| C＃|文件布局</span> ）</p></li></ul>        <a name="configure_on_ci"></a>        <p id="934d8f0f">如果要在CI服务器上配置CleanupCode，则可以使用ReSharper在本地进行所有配置， <a href="Sharing_Configuration_Options.html#saveTo">将设置保存到“解决方案团队共享”层</a> ，然后提交生成的<span class="filepath">YourSolution.sln。解决方案目录中的DotSettings</span>文件到VCS。服务器上的CleanupCode将找到并应用这些设置。</p>        <p id="ca304929">或者，您可以指定共享路径<span class="filepath">。DotSettings</span>文件（它将覆盖其他设置文件中的设置，如果有的话），通过<code class="code">--settings</code>参数。</p>        </div>    <div class="chapter"><h2 id="supported-languages" data-toc="CleanupCode#supported-languages">支持的语言</h2>        <p id="7bb98270">CleanupCode支持以下语言：</p>        <div class="table-wrapper"><table class=" wide" width="100%" id="dae3ebcc"><thead><tr id="c60f6ffa" class="ijRowHead"><th id="21333199">                                <a href="ReSharper_by_Language__CSharp.html"><img alt="语言：C＃" title="语言：C＃" src="/help/img/dotnet/2019.3/ThemedIcon.Csharp.Print.[Gray].png" id="cb53bbbb" width="25" height="25" class="inline-icon-25"></a>                            </th><th id="786909b6">                                <a href="ReSharper_by_Language__Visual_Basic.html"><img alt="语言：VB.NET" title="语言：VB.NET" src="/help/img/dotnet/2019.3/ThemedIcon.Vbasic.Print.[Gray].png" id="6bd47171" width="25" height="25" class="inline-icon-25"></a>                            </th><th id="e60e7afd">                                <a href="ReSharper_by_Language_CPP.html"><img alt="语言：C ++" title="语言：C ++" src="/help/img/dotnet/2019.3/ThemedIcon.CppSource.Print.[SymbolsVs11Gray].png" id="2be7677b" width="25" height="25" class="inline-icon-25"></a>                            </th><th id="370d1c20">                                <a href="ReSharper_by_Language__HTML.html"><img alt="语言：HTML" title="语言：HTML" src="/help/img/dotnet/2019.3/ThemedIcon.Html.Print.[Gray].png" id="8cbbdf4a" width="25" height="25" class="inline-icon-25"></a>                            </th><th id="189bfe7f">                                <a href="Web_Development__Index.html"><img alt="语言：ASP.NET" title="语言：ASP.NET" src="/help/img/dotnet/2019.3/ThemedIcon.AspNet.Print.[Gray].png" id="1b53dac5" width="25" height="25" class="inline-icon-25"></a>                            </th><th id="149d2041">                                <a href="Web_Development__ASP.NET_MVC.html"><img alt="语言：剃刀" title="语言：剃刀" src="/help/img/dotnet/2019.3/ThemedIcon.Razor.Print.[Gray].png" id="e08810de" width="25" height="25" class="inline-icon-25"></a>                            </th><th id="93c0cfa7">                                <a href="ReSharper_by_Language__JavaScript.html"><img alt="语言：JavaScript" title="语言：JavaScript" src="/help/img/dotnet/2019.3/ThemedIcon.Js.Print.[Gray].png" id="fefaf4a1" width="25" height="25" class="inline-icon-25"></a>                            </th><th id="baf6f42c">                                <a href="ReSharper_by_Language__TypeScript.html"><img alt="语言：TypeScript" title="语言：TypeScript" src="/help/img/dotnet/2019.3/ThemedIcon.TsOptionPage.Print.[Gray].png" id="da079464" width="25" height="25" class="inline-icon-25"></a>                            </th><th id="89ac6c7a">                                <a href="ReSharper_by_Language__CSS.html"><img alt="语言：CSS" title="语言：CSS" src="/help/img/dotnet/2019.3/ThemedIcon.Css.Print.[Gray].png" id="15d8d3e2" width="25" height="25" class="inline-icon-25"></a>                            </th><th id="b64051e4">                                <a href="ReSharper_by_Language__XML.html"><img alt="语言：XML" title="语言：XML" src="/help/img/dotnet/2019.3/ThemedIcon.XmlFile.Print.[Gray].png" id="af8d9795" width="25" height="25" class="inline-icon-25"></a>                            </th><th id="a27df09b">                                <a href="Languages_XAML.html"><img alt="语言：XAML" title="语言：XAML" src="/help/img/dotnet/2019.3/ThemedIcon.Xaml.Print.[Gray].png" id="e03ef5f8" width="25" height="25" class="inline-icon-25"></a>                            </th><th id="73e608b2">                                <a href="Resources__Index.html"><img alt="语言：Resx" title="语言：Resx" src="/help/img/dotnet/2019.3/ThemedIcon.Localization.Print.[Gray].png" id="73d1cea9" width="25" height="25" class="inline-icon-25"></a>                            </th><th id="4d967c64">                                <a href="ReSharper_by_Language__MSBuild.html"><img alt="语言：构建脚本" title="语言：构建脚本" src="/help/img/dotnet/2019.3/ThemedIcon.BuildScripts.Print.[Gray].png" id="37f1f31d" width="25" height="25" class="inline-icon-25"></a>                            </th><th id="4c559f93">                                <a href="ReSharper_by_Language_Protobuf.html"><img alt="语言：Protobuf" title="语言：Protobuf" src="/help/img/dotnet/2019.3/ThemedIcon.ProtobufOptionPage.Print.[Gray].png" id="7b337f1e" width="25" height="25" class="inline-icon-25"></a>                            </th><th id="aa43e471">                                <a href="ReSharper_by_Language_JSON.html"><img alt="语言：JSON" title="语言：JSON" src="/help/img/dotnet/2019.3/ThemedIcon.Json.Print.[Gray].png" id="5059e5c0" width="25" height="25" class="inline-icon-25"></a>                            </th></tr></thead><tbody><tr id="723556d5" class="ijRowOdd"><td id="9087edd0">            <img alt="功能可用" title="功能可用" src="/help/img/dotnet/2019.3/check.svg" id="582b6a2d" width="17" height="12" class="inline-icon-17">                    </td><td id="909a92a8">            <img alt="功能可用" title="功能可用" src="/help/img/dotnet/2019.3/check.svg" id="0165074f" width="17" height="12" class="inline-icon-17">                    </td><td id="faf15655">            <img alt="功能可用" title="功能可用" src="/help/img/dotnet/2019.3/check.svg" id="23f0e963" width="17" height="12" class="inline-icon-17">                    </td><td id="437a1d5b">            <img alt="功能可用" title="功能可用" src="/help/img/dotnet/2019.3/check.svg" id="f6e58b97" width="17" height="12" class="inline-icon-17">                    </td><td id="3c542619">            <img alt="功能可用" title="功能可用" src="/help/img/dotnet/2019.3/check.svg" id="442d4483" width="17" height="12" class="inline-icon-17">                    </td><td id="397fcbef">            <img alt="功能可用" title="功能可用" src="/help/img/dotnet/2019.3/check.svg" id="ccb88ece" width="17" height="12" class="inline-icon-17">                    </td><td id="af085c0a">            <img alt="功能可用" title="功能可用" src="/help/img/dotnet/2019.3/check.svg" id="8c555d92" width="17" height="12" class="inline-icon-17">                    </td><td id="b97f39d6">            <img alt="功能可用" title="功能可用" src="/help/img/dotnet/2019.3/check.svg" id="8548e77a" width="17" height="12" class="inline-icon-17">                    </td><td id="de7b94d5">            <img alt="功能可用" title="功能可用" src="/help/img/dotnet/2019.3/check.svg" id="fa850812" width="17" height="12" class="inline-icon-17">                    </td><td id="7418bf91">            <img alt="功能可用" title="功能可用" src="/help/img/dotnet/2019.3/check.svg" id="695fb509" width="17" height="12" class="inline-icon-17">                    </td><td id="4cc8e713">            <img alt="功能可用" title="功能可用" src="/help/img/dotnet/2019.3/check.svg" id="2ab5e49b" width="17" height="12" class="inline-icon-17">                    </td><td id="8be11e92">                        <img alt="功能不可用" title="功能不可用" src="/help/img/dotnet/2019.3/cross.svg" id="30073eb6" width="12" height="12" class="inline-icon-12">        </td><td id="1bb3a79c">                        <img alt="功能不可用" title="功能不可用" src="/help/img/dotnet/2019.3/cross.svg" id="261cd901" width="12" height="12" class="inline-icon-12">        </td><td id="24cf39ec">                        <img alt="功能不可用" title="功能不可用" src="/help/img/dotnet/2019.3/cross.svg" id="51b53334" width="12" height="12" class="inline-icon-12">        </td><td id="44b4745b">                        <img alt="功能不可用" title="功能不可用" src="/help/img/dotnet/2019.3/cross.svg" id="55bf9768" width="12" height="12" class="inline-icon-12">        </td></tr></tbody></table></div>    </div><div class="last-modified" data-skip-index="skip">上次修改时间：2019年11月28日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="ReSharper_Command_Line_Tools.html">ReSharper命令行工具</a> <a class="navigation-links__next" href="dupFinder.html">dupFinder</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>