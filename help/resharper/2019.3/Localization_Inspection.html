<html lang="en-US" ><head><meta charset="UTF-8"><meta name="robots" content="noindex"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>本地化检查和快速修复-帮助|帮助锐化器</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body  data-id="Localization_Inspection" data-breadcrumbs="Resources__Index.xml|Localization Assistance/Localization_Inspection.xml|Localization Inspections and quick-fixes" data-main-title="Localization Inspections and quick-fixes" data-article-props="
                {
                
            " seeals=":[=" titl=":=" concept=",=" link=":=" ur=":" finding_code_issues.htm="," tex=":" find="" issues="" with="" inspectio="}=" code_analysis__quick-fixes.htm="," quick-fixes="" for="" issue="}=" ="" data-disqus-id="Localization_Inspection_10"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索ReSharper帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>ReSharper 2019.3帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option value="rs" data-group="secondary">ReSharper 2.x / IntelliJ IDEA</option><option value="vs" data-group="primary">视觉工作室</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 id="Localization_Inspection.xml" data-toc="Localization_Inspection">本地化检查和快速修复</h1>    <p id="3fdc41a8">ReSharper提供了许多代码检查，可通过检测资源文件中的可本地化字符串，资源问题等以及代码文件中的资源使用情况来帮助您本地化应用程序。这些检查可以在打开的文档<a href="Design_time_Inspection.html">中的设计时</a>发现本地化问题<a href="Inspecting_Code_in_Specific_Scope.html">，</a>并允许您在整个解决方案的<a href="Inspecting_Code_in_Specific_Scope.html">特定范围内</a>查找本地化问题。</p>    <p id="81ef7dbb">在设计时， <a href="Design_time_Inspection.html#features">突出显示</a>检测到的问题以引起您的注意。为了解决突出的问题，ReSharper提供了许多特定于资源的<a href="#quick-fixes-for-localization-issues">快速修复程序</a> 。</p>    <div class="chapter"><h2 id="element-is-localizable-inspection" data-toc="Localization_Inspection#element-is-localizable-inspection">“元素可本地化”检查</h2>        <a name="element-is-localizable-content"></a>            <p id="a3489065">此检查将检测硬编码的字符串文字，并建议<a href="Resources__Refactorings.html#move-to-resource">将其移动到资源文件中</a> 。如果在资源中已经定义了相同的字符串，则ReSharper建议使用现有资源条目替换文字。</p>            <aside class="prompt" rel="a3489065" id="ce10ab8f" data-type="tip" data-title="">                <p id="76e08c90">即使此检查未突出显示字符串文字，您仍然可以使用“ <a href="Resources__Refactorings.html#move-to-resource">移至资源”</a>重构<a href="Resources__Refactorings.html#move-to-resource">将</a>其<a href="Resources__Refactorings.html#move-to-resource">移至</a>资源文件。</p>            </aside>            <p id="256cc7b9">由于并非每个字符串都需要移至资源并进行本地化，因此ReSharper提供了几种配置此检查的方法。<a href="Code_Analysis__Configuring_Warnings.html#disable">启用</a> “元素可本地化”检查后，它将根据以下流程图工作。图表下方说明了算法的每个步骤。</p>            <figure><img alt="ReSharper：“元素可本地化”检查的工作方式" title="ReSharper：“元素可本地化”检查的工作方式" src="/help/img/dotnet/2019.3/localizable_inspection_flowchart.png" id="02512ddb" width="568" height="591"></figure>            <ol class="list _decimal"><li class="list__item" id="d619317a"><p>                    <a href="https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/tokens/verbatim" rel="noopener noreferrer" data-external="true" target="_blank">逐字字符串</a>以开头<code class="code">@</code> ， 例如<code class="code">@"Hello world"</code>                </p></li><li class="list__item" id="6440469b"><p>默认情况下，本地化检查会忽略逐字字符串，但是您可以使用以下选项中的<span class="control">“不分析逐字字符串”</span>选项进行更改<a name="the_options_page"></a> <span class="menupath" data-skip-index="skip">代码编辑|的检查严重性</span>页面<a name="product_settings"></a> ReSharper选项（ <kbd class="keystroke" data-bypass="true"><span class="keystroke__value">Alt+R,,O</span></kbd> ）。</p></li><li class="list__item" id="0efdad17"><p><span class="control">Localizable</span>项目属性定义如何在项目中处理字符串。要更改此属性， <a name="choose_project_item_property"></a>在解决方案资源管理器中右键单击项目，从上下文菜单中选择“ <span class="control">编辑项目项属性</span> ”，然后选择“可<span class="control">本地化”>“ [默认|是的否]</span> 。</p></li><li class="list__item" id="fcc799a8"><p>如果项目至少包含一个资源文件（ <span class="filepath">.resx</span> ），则默认情况下，ReSharper将认为该项目可本地化。</p></li><li class="list__item" id="8406d636"><p>可以对特定功能和属性进行进一步的配置，这些功能和属性可以通过使用标记值来消耗字符串值<code class="code">LocalizableAttribute</code> ，可让您显式启用<code class="code">[Localizable(true)]</code>或禁用<code class="code">[Localizable(false)]</code>对消耗的字符串进行本地化检查。<br>注意，可以通过<a href="Code_Analysis__External_Annotations.html">外部注释</a>使用此属性标记符号。例如，外部注释用于标记<code class="code">Console.WriteLine</code>与<code class="code">[Localizable(true)]</code> 。</p></li><li class="list__item" id="8302f62b"><p>                    <a name="pess_opt"></a> <span class="control">Localizable Inspector</span> <a href="Configuring_Project_Specific_Properties.html">项目属性</a>定义如何处理标记为的成员不使用的字符串文字<code class="code">LocalizableAttribute</code> — <span class="control">乐观</span>算法将忽略此类字符串， <span class="control">悲观主义者</span>会将其<a href="#element-is-localizable-inspection">标记为可本地化</a> 。<br>要更改此项目属性， <a name="choose_project_item_property"></a>在解决方案资源管理器中右键单击项目，从上下文菜单中选择“ <span class="control">编辑项目项属性</span> ”，然后选择“可<span class="control">本地化检查器”>“ [Optimistic |悲观的]</span> 。</p></li></ol>            <p id="587f5320">禁用当前项目的本地化检查的最简单方法是按<kbd data-rs="Alt+Enter" data-vs="Alt+Enter">Alt+Enter</kbd>在编辑器中突出显示的字符串上，并在<a href="Actions_List.html#action_list">操作列表中</a>使用相应的命令：</p><figure><img alt="禁用项目的本地化检查" title="禁用项目的本地化检查" src="/help/img/dotnet/2019.3/Resources__Quick-Fixes_04.png" id="c14f1d2c" width="704" height="252"></figure>此命令命令将当前项目中的<span class="control">Localizable</span>属性设置为<span class="control">No。</span><p></p>            </div>    <div class="chapter"><h2 id="quick-fixes-for-localization-issues" data-toc="Localization_Inspection#quick-fixes-for-localization-issues">本地化问题的快速修复</h2>        <p id="44846cdd">如果<a href="Code_Analysis__Quick-Fixes.html">快速修复程序</a>可用于通过本地化检查检测到的代码问题，则ReSharper会在插入符号的左侧显示相应的<a href="Actions_List.html#indicators">操作指示器</a> 。你可以按<kbd data-rs="Alt+Enter" data-vs="Alt+Enter">Alt+Enter</kbd>或单击指示器图标以查看可用操作的列表，要应用所需的操作，请单击它或在列表中选择它，然后按<kbd class="keystroke" data-bypass="true"><span class="keystroke__value">Enter</span></kbd> 。</p>        <p id="5533b496">以下是一些本地化检查的快速修复：</p>        <div class="chapter"><h3 id="move">移至资源</h3>            <p id="864627f9">此快速修复程序调用“ <a href="Resources__Refactorings.html#move-to-resource">移动到资源”重构</a>以将可本地化的字符串移动到资源文件。当用卷曲的下划线突出显示字符串时，此功能可用。</p>            <figure><img alt="ReSharper：将字符串文字移至资源的快速修复" title="ReSharper：将字符串文字移至资源的快速修复" src="/help/img/dotnet/2019.3/Resources__Quick-Fixes_05.png" id="00b8cfa2" width="358" height="184"></figure>        </div>        <div class="chapter"><h3 id="resource_instead">使用资源条目代替文字</h3>            <p id="bdb78f08">如果ReSharper检测到资源中已经定义了某些字符串文字，则建议将字符串替换为相应的资源使用情况：</p>            <figure><img alt="ReSharper：使用现有资源条目替换字符串文字的快速修复" title="ReSharper：使用现有资源条目替换字符串文字的快速修复" src="/help/img/dotnet/2019.3/Resources__Quick-Fixes_15.png" id="9dc46b3b" width="354" height="205"></figure>            <p id="e7afa43c">应用此快速修复后，该字符串将替换为资源使用情况。</p>        </div>        <div class="chapter"><h3 id="annotate">使用“ Localizable（false）”注释类型</h3>            <p id="529b771d">这组快速修复程序集<code class="code">false</code>的价值<code class="code">Localizable</code>所选类型的属性。</p>        </div>        <div class="chapter"><h3 id="createFile">创建资源文件</h3>            <p id="c5159ddb">如果代码文件中使用了资源文件名，但是您尚未创建资源文件，则ReSharper可以为您完成此操作。它以红色突出显示资源文件名并建议相应的快速修复：</p><figure><img alt="ReSharper：创建资源文件快速修复" title="ReSharper：创建资源文件快速修复" src="/help/img/dotnet/2019.3/Resources__Quick-Fixes_07.png" id="d7497dd1" width="614" height="134"></figure>应用快速修复后，将创建缺少的资源文件。<p></p>        </div>        <div class="chapter"><h3 id="createItem">创建资源项目</h3>            <p id="cb00de93">如果在代码文件中使用了资源名称，但是您尚未声明此资源，ReSharper可以为您完成。它以红色突出显示资源名称，并建议相应的快速修复：</p><figure><img alt="ReSharper：创建资源项目快速修复" title="ReSharper：创建资源项目快速修复" src="/help/img/dotnet/2019.3/Resources__Quick-Fixes_08.png" id="c3fc1506" width="615" height="136"></figure>应用快速修复后，缺少的资源声明将添加到资源文件中。<p></p>        </div>        <div class="chapter"><h3 id="declare">声明资源输入</h3>            <a name="resource_is_not_declared_in_default"></a>                <p id="fdf76fd8">如果在区域性层次结构中组织了几种区域性，并且在特定于区域性的资源文件中声明了一个资源条目，但未在默认区域性中声明该资源条目，则ReSharper突出显示资源声明并建议相应的快速修复：</p>                <figure><img alt="ReSharper：基本文化中未声明资源价值" title="ReSharper：基本文化中未声明资源价值" src="/help/img/dotnet/2019.3/Resources__Quick-Fixes_01.png" id="fb7ed899" width="617" height="210"></figure>                <p id="c984f50c">应用此快速修复程序后，资源声明将插入默认区域性中，您可以在其中将其值替换为新的区域性。</p>                    </div>        <div class="chapter"><h3 id="override">覆盖资源输入</h3>            <a name="override_resource_entry"></a>                <p id="8d92014f">如果在区域性层次结构中组织了几种区域性，并且有一个资源条目（在默认区域性中声明，但未在一种或多种其他区域性中覆盖），则ReSharper会突出显示资源名称并建议相应的快速修复）：</p>                <figure><img alt="ReSharper：在特定文化中资源价值没有被压倒" title="ReSharper：在特定文化中资源价值没有被压倒" src="/help/img/dotnet/2019.3/Resources__Quick-Fixes_09.png" id="05ccb4ce" width="444" height="142"></figure>                <p id="645a453f">应用此快速修复程序后，资源声明将插入到特定于区域性的资源文件中，您可以在其中指定正确的值。</p>                    </div>        <div class="chapter"><h3 id="removeEntry">删除资源条目</h3>            <p id="58e0f3de">ReSharper在以下情况下建议此快速修复：</p>            <ul class="list _ul"><li class="list__item" id="d0d7d73e"><p>资源条目在中性和特定文化中具有相等的价值；</p></li><li class="list__item" id="7046fcf7"><p>有两个或两个以上具有相同资源名称的声明；</p></li><li class="list__item" id="09263f3c"><p>在文化层次结构中组织了几种文化，并且在特定文化中声明了资源条目，但在默认文化中没有声明资源条目。</p></li></ul>            <figure><img alt="ReSharper：一种快速修复程序，用于删除资源条目" title="ReSharper：一种快速修复程序，用于删除资源条目" src="/help/img/dotnet/2019.3/Resources__Quick-Fixes_03.png" id="c1dffffe" width="432" height="112"></figure>            <p id="d9372365">应用快速修复后，资源声明将从当前资源文件中删除。</p>        </div>        <div class="chapter"><h3 id="removeType">删除冗余资源条目类型</h3>            <a name="redundant_string_type"></a>                <p id="6590b334">为资源条目指定字符串类型是多余的，因为它是默认的资源条目类型。ReSharper将建议删除冗余属性：</p>                <figure><img alt="ReSharper：一种快速修复程序，用于删除冗余资源条目类型" title="ReSharper：一种快速修复程序，用于删除冗余资源条目类型" src="/help/img/dotnet/2019.3/Resources__Quick-Fixes_06.png" id="f7504e4f" width="539" height="114"></figure>                    </div>        <div class="chapter"><h3 id="delete">安全删除</h3>            <p id="b3d23ce0">如果在区域性层次结构中组织了几种区域性，并且有一个资源条目，该条目在默认区域性中声明，但是在特定于区域性的资源文件中没有被覆盖，则ReSharper突出显示资源名称，建议此快速修复：</p>            <figure><img alt="ReSharper：一种快速修复程序，用于删除资源条目，该条目没有特定于区域性的替代" title="ReSharper：一种快速修复程序，用于删除资源条目，该条目没有特定于区域性的替代" src="/help/img/dotnet/2019.3/Resources__Quick-Fixes_10.png" id="c34e5e9b" width="440" height="136"></figure>            <p id="11c595ad">应用此快速修复程序后，请按照“ <a href="Resources__Refactorings.html#safe-delete-resource">安全删除资源”重构</a>的步骤进行操作。</p>        </div>    </div>    <div class="last-modified" data-skip-index="skip">上次修改时间：2019年11月28日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="Resources__Index.html">本地化协助本地化的</a> <a class="navigation-links__next" href="Coding_Assistance_for_Localization.html">编码协助</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>