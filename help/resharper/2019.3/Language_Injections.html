<html lang="en-US" ><head><meta charset="UTF-8"><meta name="robots" content="noindex"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');</script><script src="/resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>语言注入-帮助|帮助锐化器</title><link rel="stylesheet" href="/resources.jetbrains.com/storage/help-app/v3/app.css"></head><body  data-id="Language_Injections" data-breadcrumbs="Coding_Assistance__Index.xml|Coding Assistance/Language_Injections.xml|Language Injections" data-main-title="Language Injections" data-article-props="
                {
                
            " seeals=":[=" titl=":=" concept=",=" link=":=" ur=":" coding_assistance__index.htm="," tex=":" coding="" assistanc="}=" regular_expressions_assistance.htm="," regular="" expressions="" ]}="" ]="" }="" language_injections_1=""><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索ReSharper帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>ReSharper 2019.3帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option value="rs" data-group="secondary">ReSharper 2.x / IntelliJ IDEA</option><option value="vs" data-group="primary">视觉工作室</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 id="Language_Injections.xml" data-toc="Language_Injections">语言注入</h1>    <p id="0bdf5cae">如果字符串文字（以及类似XML的语言中的标记或属性）包含其他形式语言（例如正则表达式，HTML等），那么ReSharper可以提供<a href="Finding_Code_Issues.html">代码检查</a> ， <a href="Code_Analysis__Quick-Fixes.html">快速修复</a> ， <a href="Auto-Completing_Code.html">代码完成</a> ， <a href="Coding_Assistance__Context_Actions.html">上下文动作</a> ，以及此摘录中特定于该语言的许多其他功能。</p>    <p id="4e345416">ReSharper在C＃，JavaScript和TypeScript字符串文字中支持以下语言：</p>    <ul class="list _ul"><li class="list__item" id="44b09ecc">            <a href="Regular_Expressions_Assistance.html">常用表达</a>        </li><li class="list__item" id="7ee3ba6e"><p>的JavaScript</p></li><li class="list__item" id="f03d1ba3"><p>的HTML</p></li><li class="list__item" id="b9cbe7f5"><p>的CSS</p></li><li class="list__item" id="a44892ec"><p>JSON格式</p></li><li class="list__item" id="0ea18cef"><p>XML格式</p></li></ul>    <p id="387a7c8a">ReSharper可以处理两种类型的语言注入：自动和手动。</p>    <p id="auto">在某些情况下，可以清楚地检测到另一个语言文件中的语言摘录，例如，内部的JavaScript <code class="code"><script></script></code>标签或CSS <code class="code">style</code> HTML中的属性。在这些情况下，ReSharper会自动检测嵌入式语言。</p>    <p id="e2728f80">如有必要，您可以在特定情况下在“ <span class="menupath" data-skip-index="skip">代码编辑” |“</span>禁用”中禁用自动语言注入。 ReSharper选项的“ <span class="menupath" data-skip-index="skip">语言注入”</span>页面。</p>    <p id="manual">当无法自动检测字符串文字中的形式语言时，ReSharper允许您通过以下方式之一将文字手动标记为包含特定语言：</p>    <ul class="list _ul"><li class="list__item" id="a4d0f433"><p>使用上下文操作，该操作实际上告诉ReSharper标记与字符串相对应的符号范围，将该范围保存在其内部数据库中，并在包含文件的更改时对其进行跟踪。这种方法非常快速直接，但是有两个缺点：在外部文件更改（例如VCS合并）之后，范围可能会丢失，并且标记为这种方式的注入只能在本地进行跟踪：</p><figure id="f4cdd515" width="600" data-theme="light"><img class="js-gif" src="/help/img/dotnet/2019.3/css_inject.png" width="600" data-gif-src="/help/img/dotnet/2019.3/css_inject.animated.gif" style="width:600px"></figure>        <p></p></li><li class="list__item" id="7b4988dc"><p>用标记方法参数接受正则表达式<code class="code">[RegexPatternAttribute]</code>来自<a href="Code_Analysis__Code_Annotations.html">JetBrains。注解</a> 。对于参数中的正则表达式，这是推荐的方式。</p></li><li class="list__item" id="638c5937"><p>发表评论<code class="code">/*language=javascript|html|regexp|jsregexp|json|css|xml*/</code>在字符串文字之前。当然，这些注释需要一些输入，您甚至可以认为它们污染了您的代码。但是，它们使所有阅读您的代码的人都清楚您的意图，他们不会迷路，并且任何使用ReSharper打开您的代码的人都将在标记的字符串中获得相同的功能。<br>顺便说一下，注释的格式与<a href="/rider/" rel="noopener noreferrer" data-external="true" target="_blank">JetBrains Rider</a>和<a href="http://www.jetbrains.org/pages/viewpage.action?pageId=983889" rel="noopener noreferrer" data-external="true" target="_blank">基于IntelliJ Platform的IDE</a>兼容。</p><figure><img alt="C＃字符串中的带注释的语言注入" title="C＃字符串中的带注释的语言注入" src="/help/img/dotnet/2019.3/injection_comments.png" id="43c4a77c" width="677" height="217"></figure>您也可以使用<code class="code">prefix=</code>和<code class="code">postfix=</code>注释中的参数。例如，如果字符串仅包含CSS属性列表，则可以在其前面添加以下注释： <code class="code">//language=css prefix=body{ postfix=}</code> 。这将使ReSharper将字符串解析为有效的CSS。<p></p></li></ul>    <a name="supported_in"></a>        <a name="supported_in_csharp"></a>            <p id="1faa2625">以下语言和技术<a href="Introduction__Feature_Map.html">支持</a>此功能：</p>            <div class="table-wrapper"><table class=" wide" width="100%" id="c98f0c05"><thead><tr id="bf59aaf3" class="ijRowHead"><th id="bbd020c4">                                <a href="ReSharper_by_Language__CSharp.html"><img alt="语言：C＃" title="语言：C＃" src="/help/img/dotnet/2019.3/ThemedIcon.Csharp.Print.[Gray].png" id="4acaf9f8" width="25" height="25" class="inline-icon-25"></a>                            </th><th id="431fc26e">                                <a href="ReSharper_by_Language__Visual_Basic.html"><img alt="语言：VB.NET" title="语言：VB.NET" src="/help/img/dotnet/2019.3/ThemedIcon.Vbasic.Print.[Gray].png" id="ef6b888e" width="25" height="25" class="inline-icon-25"></a>                            </th><th id="b4d0debe">                                <a href="ReSharper_by_Language_CPP.html"><img alt="语言：C ++" title="语言：C ++" src="/help/img/dotnet/2019.3/ThemedIcon.CppSource.Print.[SymbolsVs11Gray].png" id="4ab3161c" width="25" height="25" class="inline-icon-25"></a>                            </th><th id="9ed9edca">                                <a href="ReSharper_by_Language__HTML.html"><img alt="语言：HTML" title="语言：HTML" src="/help/img/dotnet/2019.3/ThemedIcon.Html.Print.[Gray].png" id="c895f66d" width="25" height="25" class="inline-icon-25"></a>                            </th><th id="db8a80d6">                                <a href="Web_Development__Index.html"><img alt="语言：ASP.NET" title="语言：ASP.NET" src="/help/img/dotnet/2019.3/ThemedIcon.AspNet.Print.[Gray].png" id="e448044f" width="25" height="25" class="inline-icon-25"></a>                            </th><th id="edffc31a">                                <a href="Web_Development__ASP.NET_MVC.html"><img alt="语言：剃刀" title="语言：剃刀" src="/help/img/dotnet/2019.3/ThemedIcon.Razor.Print.[Gray].png" id="ef32c00e" width="25" height="25" class="inline-icon-25"></a>                            </th><th id="6ddf0423">                                <a href="ReSharper_by_Language__JavaScript.html"><img alt="语言：JavaScript" title="语言：JavaScript" src="/help/img/dotnet/2019.3/ThemedIcon.Js.Print.[Gray].png" id="a1d4bcab" width="25" height="25" class="inline-icon-25"></a>                            </th><th id="ed3c3788">                                <a href="ReSharper_by_Language__TypeScript.html"><img alt="语言：TypeScript" title="语言：TypeScript" src="/help/img/dotnet/2019.3/ThemedIcon.TsOptionPage.Print.[Gray].png" id="7d00a678" width="25" height="25" class="inline-icon-25"></a>                            </th><th id="d1521fa2">                                <a href="ReSharper_by_Language__CSS.html"><img alt="语言：CSS" title="语言：CSS" src="/help/img/dotnet/2019.3/ThemedIcon.Css.Print.[Gray].png" id="86645f70" width="25" height="25" class="inline-icon-25"></a>                            </th><th id="2345a164">                                <a href="ReSharper_by_Language__XML.html"><img alt="语言：XML" title="语言：XML" src="/help/img/dotnet/2019.3/ThemedIcon.XmlFile.Print.[Gray].png" id="659b6ac4" width="25" height="25" class="inline-icon-25"></a>                            </th><th id="aae4f0f2">                                <a href="Languages_XAML.html"><img alt="语言：XAML" title="语言：XAML" src="/help/img/dotnet/2019.3/ThemedIcon.Xaml.Print.[Gray].png" id="019afc61" width="25" height="25" class="inline-icon-25"></a>                            </th><th id="9f6041c7">                                <a href="Resources__Index.html"><img alt="语言：Resx" title="语言：Resx" src="/help/img/dotnet/2019.3/ThemedIcon.Localization.Print.[Gray].png" id="41c7a66c" width="25" height="25" class="inline-icon-25"></a>                            </th><th id="a69c645a">                                <a href="ReSharper_by_Language__MSBuild.html"><img alt="语言：构建脚本" title="语言：构建脚本" src="/help/img/dotnet/2019.3/ThemedIcon.BuildScripts.Print.[Gray].png" id="3ca89329" width="25" height="25" class="inline-icon-25"></a>                            </th><th id="5d914cda">                                <a href="ReSharper_by_Language_Protobuf.html"><img alt="语言：Protobuf" title="语言：Protobuf" src="/help/img/dotnet/2019.3/ThemedIcon.ProtobufOptionPage.Print.[Gray].png" id="7d4d25ba" width="25" height="25" class="inline-icon-25"></a>                            </th><th id="8bd291ea">                                <a href="ReSharper_by_Language_JSON.html"><img alt="语言：JSON" title="语言：JSON" src="/help/img/dotnet/2019.3/ThemedIcon.Json.Print.[Gray].png" id="ee308048" width="25" height="25" class="inline-icon-25"></a>                            </th></tr></thead><tbody><tr id="f6878e4b" class="ijRowOdd"><td id="1f1b6270">            <img alt="功能可用" title="功能可用" src="/help/img/dotnet/2019.3/check.svg" id="14218a7e" width="17" height="12" class="inline-icon-17">                    </td><td id="3c3c1f0d">                        <img alt="功能不可用" title="功能不可用" src="/help/img/dotnet/2019.3/cross.svg" id="bb19b57e" width="12" height="12" class="inline-icon-12">        </td><td id="dae16ae1">                        <img alt="功能不可用" title="功能不可用" src="/help/img/dotnet/2019.3/cross.svg" id="afa17c31" width="12" height="12" class="inline-icon-12">        </td><td id="b09238aa">                        <img alt="功能不可用" title="功能不可用" src="/help/img/dotnet/2019.3/cross.svg" id="42b60a02" width="12" height="12" class="inline-icon-12">        </td><td id="dc09d91f">                        <img alt="功能不可用" title="功能不可用" src="/help/img/dotnet/2019.3/cross.svg" id="0166d752" width="12" height="12" class="inline-icon-12">        </td><td id="ebb28dc6">                        <img alt="功能不可用" title="功能不可用" src="/help/img/dotnet/2019.3/cross.svg" id="247ea402" width="12" height="12" class="inline-icon-12">        </td><td id="43588f06">            <img alt="功能可用" title="功能可用" src="/help/img/dotnet/2019.3/check.svg" id="acc9e0e7" width="17" height="12" class="inline-icon-17">                    </td><td id="7c2cc57e">            <img alt="功能可用" title="功能可用" src="/help/img/dotnet/2019.3/check.svg" id="c1a6b17c" width="17" height="12" class="inline-icon-17">                    </td><td id="96acbbcd">                        <img alt="功能不可用" title="功能不可用" src="/help/img/dotnet/2019.3/cross.svg" id="3f0758b7" width="12" height="12" class="inline-icon-12">        </td><td id="e48c5c87">                        <img alt="功能不可用" title="功能不可用" src="/help/img/dotnet/2019.3/cross.svg" id="96171833" width="12" height="12" class="inline-icon-12">        </td><td id="b303262e">                        <img alt="功能不可用" title="功能不可用" src="/help/img/dotnet/2019.3/cross.svg" id="2983bc0d" width="12" height="12" class="inline-icon-12">        </td><td id="ee9b3a13">                        <img alt="功能不可用" title="功能不可用" src="/help/img/dotnet/2019.3/cross.svg" id="00447545" width="12" height="12" class="inline-icon-12">        </td><td id="342108fb">                        <img alt="功能不可用" title="功能不可用" src="/help/img/dotnet/2019.3/cross.svg" id="f3d05af2" width="12" height="12" class="inline-icon-12">        </td><td id="a5a2acc7">                        <img alt="功能不可用" title="功能不可用" src="/help/img/dotnet/2019.3/cross.svg" id="f007f639" width="12" height="12" class="inline-icon-12">        </td><td id="ce9b96a4">                        <img alt="功能不可用" title="功能不可用" src="/help/img/dotnet/2019.3/cross.svg" id="c4f1870d" width="12" height="12" class="inline-icon-12">        </td></tr></tbody></table></div>                <p id="8e0a5f7a">此处给出的说明和示例解决了C＃中该功能的使用。有关特定于其他语言的详细信息，请参阅“ <a href="ReSharper_by_Language__Index.html">按语言划分的ReSharper”</a>部分中的相应主题。</p>        <div class="last-modified" data-skip-index="skip">上次修改时间：2019年11月28日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="Regular_Expressions_Assistance.html">正则表达式协助</a> <a class="navigation-links__next" href="Inline_Parameter_Name_Hints.html">镶嵌提示</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>