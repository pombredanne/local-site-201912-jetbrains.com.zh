<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><meta content="noindex" name="robots"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>Generate Dispose Pattern - Help | ReSharper</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body data-id="Code_Generation_Dispose_Pattern" data-breadcrumbs="Code_Generation__Index.xml|Code Generation/Generating_Type_Members.xml|Generate Type Members/Code_Generation_Dispose_Pattern.xml|Generate Dispose Pattern" data-main-title="Generate Dispose Pattern" data-article-props="&#xA;                {&#xA;                &#xA;            &#34;seeAlso&#34;:[&#xA;            &#xA;                {&#34;title&#34;: &#34;Procedures&#34;,&#xA;                 &#34;links&#34;: [&#xA;                &#xA;        {&#34;url&#34;:&#34;Code_Generation__Type_Constructors.html&#34;,&#34;text&#34;:&#34;Generate Type Constructors&#34;}&#xA;    ,&#xA;        {&#34;url&#34;:&#34;Code_Generation__Properties.html&#34;,&#34;text&#34;:&#34;Generate Properties&#34;}&#xA;    ,&#xA;        {&#34;url&#34;:&#34;Code_Generation__Implementing_Overriding_Methods.html&#34;,&#34;text&#34;:&#34;Implementing/Overriding Members&#34;}&#xA;    ,&#xA;        {&#34;url&#34;:&#34;Code_Generation__Partial_Methods.html&#34;,&#34;text&#34;:&#34;Generate Partial Methods&#34;}&#xA;    ,&#xA;        {&#34;url&#34;:&#34;Code_Generation__Equality_Members.html&#34;,&#34;text&#34;:&#34;Generate Equality Members&#34;}&#xA;    ,&#xA;        {&#34;url&#34;:&#34;Code_Generation__Generating_Equality_Comparer.html&#34;,&#34;text&#34;:&#34;Generate Equality Comparer&#34;}&#xA;    ,&#xA;        {&#34;url&#34;:&#34;Code_Generation__Formatting_Members.html&#34;,&#34;text&#34;:&#34;Generate Formatting Members&#34;}&#xA;    &#xA;                    ]},&#xA;                {&#34;title&#34;: &#34;External Links&#34;,&#xA;                 &#34;links&#34;: [&#xA;                &#xA;        {&#34;url&#34;:&#34;http://stackoverflow.com/questions/538060/proper-use-of-the-idisposable-interface&#34;,&#34;text&#34;:&#34;StackOverflow: Proper use of the IDisposable interface&#34;}&#xA;    ,&#xA;        {&#34;url&#34;:&#34;https://msdn.microsoft.com/en-us/library/system.idisposable.aspx&#34;,&#34;text&#34;:&#34;MSDN: IDisposable Interface&#34;}&#xA;    ,&#xA;        {&#34;url&#34;:&#34;http://blog.stephencleary.com/2009/08/how-to-implement-idisposable-and.html&#34;,&#34;text&#34;:&#34;How to Implement IDisposable and Finalizers: 3 Easy Rules. by Stephen Cleary&#34;}&#xA;    &#xA;                    ]}&#xA;            ]&#xA;        &#xA;                }&#xA;            " data-disqus-id="Code_Generation_Dispose_Pattern_10"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search ReSharper Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>ReSharper 2019.3 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="secondary" value="rs">ReSharper 2.x/IntelliJ IDEA</option><option data-group="primary" value="vs">Visual Studio</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 data-toc="Code_Generation_Dispose_Pattern" id="Code_Generation_Dispose_Pattern.xml">Generate Dispose Pattern</h1>            <a name="generateMember_access_intro"></a>        <p id="7439ff32">                        <span data-skip-index="skip" class="menupath">ReSharper | Edit | Generate Code | Dispose Pattern</span>                        <br>            <kbd data-rs="Alt+Insert" data-vs="Alt+Insert">Alt+Insert</kbd> |            <span class="control">Dispose Pattern</span>            <br>            <code class="code">ReSharper_GenerateDisposePattern</code>        </p>        <p id="0233109e">        ReSharper helps you automatically generate various implementations of        <code class="code">IDisposable</code> depending on kind of resources that your class owns:    </p>    <ul class="list _ul"><li class="list__item" id="129a6ffe"><p>            If your class only owns managed            <code class="code">IDisposable</code>            resources, ReSharper will help you generate a simple implementation of            <code class="code">public void Dispose()</code> without parameters, where            <code class="code">Dispose()</code> is called on selected disposable members.        </p></li><li class="list__item" id="309fe691"><p>            If your class only owns unmanaged resources,            <a name="short_unmanaged"></a>                    ReSharper will additionally generate destructor and a                    <code class="code">ReleaseUnmanagedResources</code>                    method where you could write your cleanup code.                        </p></li><li class="list__item" id="20fefaeb"><p>            If your class owns or will potentially own (via inheritance) both managed and unmanaged resources,            <a name="short_inherit"></a>                    ReSharper will additionally create a                    <code class="code">Dispose(bool disposing)</code> method which could be overridden by the inheritors.                        </p></li></ul>    <p id="b8f697a9">        To configure how the disposable pattern is implemented, use        <a href="#step_options">option</a> in the        <span class="control">Generate</span> dialog.    </p>    <p id="f514ae18">        In the example below, this command is used to generate a disposable pattern for managed        <code class="code">logger</code> and        <code class="code">resource</code> fields, with a single        <a href="#step_options">option</a>        to generate null checks for these fields.    </p>    <div class="table-wrapper"><table class="  _layout-fixed" width="100%" id="209fa3d4"><thead><tr id="666ff54f" class="ijRowHead"><th id="97dedbd3"><p>Before generation</p></th><th id="5e924042"><p>After generation</p></th></tr></thead><tbody><tr id="915bf3d4" class="ijRowOdd"><td id="6d76ed96">                <div class="code-block" data-lang="csharp">
class MyClass
{
    private Logger logger;
    private IDisposable resource;
}
                </div>            </td><td id="2a8edc30">                <div class="code-block" data-lang="csharp">
class MyClass : IDisposable
{
    private Logger logger;
    private IDisposable resource;

    public void Dispose()
    {
        logger?.Dispose();
        resource?.Dispose();
    }
}
                </div>            </td></tr></tbody></table></div>        <a name="tip_generation_settings_common"></a>        <aside data-type="tip" class="prompt" data-title="" rel="Code_Generation_Dispose_Pattern.xml" id="dd29c9fa">            <p id="bbf6a538">                You can configure common code generation preferences on                <a name="the_options_page"></a>        the        <span data-skip-index="skip" class="menupath">Code Editing | Members Generation</span>        page of        <a name="product_settings"></a>        ReSharper options                (<kbd data-bypass="true" class="keystroke"><span class="keystroke__value">Alt+R,,O</span></kbd>).            </p>        </aside>        <section class="procedure-steps"><h3 id="426bd92e">To generate a dispose pattern</h3><a name="step_set_caret"></a><ol class="list _decimal"><li class="list__item" id="c039a6e9"><p>            In the editor, set the caret at the type name or            within a type at the line where you want to insert a dispose pattern.            If the caret is on the type name, the generated code will be added in the beginning of the type declaration.        </p></li><li class="list__item" id="3afcef65"><p>            Press            <kbd data-rs="Alt+Insert" data-vs="Alt+Insert">Alt+Insert</kbd>            or choose            <a name="Generate"></a>    <span data-skip-index="skip" class="menupath">ReSharper | Edit | Generate Codeâ€¦</span>                          from the main menu. Alternatively, you can press            <kbd data-rs="Ctrl+Shift+A" data-vs="Ctrl+Shift+A">Ctrl+Shift+A</kbd>, start typing the command name in the popup, and then choose it there.        </p></li><li class="list__item" id="7a998ce0"><p>            In the            <span class="control">Generate</span>            popup, select            <span class="control">Dispose Pattern</span>.        </p></li><li class="list__item" id="step_options">            In the            <span class="control">Generate</span>            dialog that appears, you will see a list of private properties and fields of type assignable to            <code class="code">IDisposable</code>.            Select some or all of these type members, and ReSharper will            generate wrappers in the current type that delegate execution to selected type members.            <figure><img alt="Generating a dispose pattern with ReSharper" title="Generating a dispose pattern with ReSharper" src="/help/img/dotnet/2019.3/Code_Generation_Dispose_Pattern.png" id="f1c444cf" width="474" height="400"></figure>            <a name="optional_controls"></a>        <p id="cd199f9d">            Optionally, use the following controls in the dialog:        </p>        <ul class="list _ul"><li class="list__item" id="e83b797c"><p>                <span class="control">Fields can be null</span>                â€” appears if there are any nullable fields or properties in your type.                By default, this checkbox is selected, meaning that ReSharper will generate null checks                for selected fields.                You can clear this checkbox if you do not need null checks.            </p></li><li class="list__item" id="e702a44c"><p>                <span class="control">I have unmanaged resources</span>                â€” if this checkbox is selected,                <a name="short_unmanaged"></a>                    ReSharper will additionally generate destructor and a                    <code class="code">ReleaseUnmanagedResources</code>                    method where you could write your cleanup code.                            </p></li><li class="list__item" id="1a89e109"><p>                <span class="control">I plan to inherit from this class</span>                â€” if this checkbox is selected,                <a name="short_inherit"></a>                    ReSharper will additionally create a                    <code class="code">Dispose(bool disposing)</code> method which could be overridden by the inheritors.                            </p></li><li class="list__item" id="5bc14611">                <span class="control">Dispose already exists</span>                â€” appears if an implementation of                <code class="code">Dispose()</code> already exists and lets you choose whether to:                <ul class="list _ul"><li class="list__item" id="3e6ab8b7"><p>Replace the method if it already exists.</p></li><li class="list__item" id="77ec4ce5"><p>Put the newly generated method side by side with the existing one.</p></li><li class="list__item" id="a135dec1"><p>Skip generating a new method altogether.</p></li></ul>            </li><li class="list__item" id="e0e38d51">                <span class="control">Destructor already exists</span>                â€” appears if you have chosen the                <span class="control">I have unmanaged resources</span> option and the class already has a destructor.                Use this selector to choose whether to:                <ul class="list _ul"><li class="list__item" id="c8a28e37"><p>Replace the method if it already exists.</p></li><li class="list__item" id="6d0aaaf2"><p>Put the newly generated method side by side with the existing one.</p></li><li class="list__item" id="ecb740c3"><p>Skip generating a new method altogether.</p></li></ul>            </li></ul>            </li><li class="list__item" id="d8a0fadf"><p>            Click            <span class="control">Finish</span>                        to complete the wizard.                            <br>                You can also click                <span class="control">Options</span>                to review or modify common code generation preferences on the                <span data-skip-index="skip" class="menupath">Code Editing | Members Generation</span>                page of ReSharper options.                    </p></li></ol></section>    <p id="b5d20163">        This action is also available as a        <a href="Code_Analysis__Quick-Fixes.html">quick-fix</a> if        <code class="code">IDisposable</code> is not implemented.    </p>    <figure><img alt="A quick-fix that helps generate dispose pattern" title="A quick-fix that helps generate dispose pattern" src="/help/img/dotnet/2019.3/dipsose_pattern_generation_fix.png" id="66d34375" width="337" height="186"></figure>    <a name="generate_shortcuts_this"></a>        <aside data-type="tip" class="prompt" data-title="" rel="Code_Generation_Dispose_Pattern.xml" id="0a97857f">            <p id="d7380d61">                To bind this code generation command to its own shortcut, go to                <span data-skip-index="skip" class="menupath">Tools | Options | Environment | Keyboard</span>                and assign a shortcut for the                <code class="code">ReSharper_GenerateDisposePattern</code> command.            </p>        </aside>        <a name="supported_in"></a>        <a name="supported_in_csharp"></a>            <p id="d2c4ce42">                This feature is                <a href="Introduction__Feature_Map.html">supported</a>                in the following languages and technologies:            </p>            <div class="table-wrapper"><table class=" wide" width="100%" id="a6dd3c0f"><thead><tr id="0fbe8c50" class="ijRowHead"><th id="dd763616">                                <a href="ReSharper_by_Language__CSharp.html"><img alt="Language: C#" title="Language: C#" src="/help/img/dotnet/2019.3/ThemedIcon.Csharp.Print.[Gray].png" id="865588f4" width="25" height="25" class="inline-icon-25"></a>                            </th><th id="458a50a1">                                <a href="ReSharper_by_Language__Visual_Basic.html"><img alt="Language: VB.NET" title="Language: VB.NET" src="/help/img/dotnet/2019.3/ThemedIcon.Vbasic.Print.[Gray].png" id="3ba957bd" width="25" height="25" class="inline-icon-25"></a>                            </th><th id="70dfcf17">                                <a href="ReSharper_by_Language_CPP.html"><img alt="Language: C++" title="Language: C++" src="/help/img/dotnet/2019.3/ThemedIcon.CppSource.Print.[SymbolsVs11Gray].png" id="d34d66f9" width="25" height="25" class="inline-icon-25"></a>                            </th><th id="ebe86371">                                <a href="ReSharper_by_Language__HTML.html"><img alt="Language: HTML" title="Language: HTML" src="/help/img/dotnet/2019.3/ThemedIcon.Html.Print.[Gray].png" id="e8aaa9cd" width="25" height="25" class="inline-icon-25"></a>                            </th><th id="8c5c09a1">                                <a href="Web_Development__Index.html"><img alt="Language: ASP.NET" title="Language: ASP.NET" src="/help/img/dotnet/2019.3/ThemedIcon.AspNet.Print.[Gray].png" id="3064e742" width="25" height="25" class="inline-icon-25"></a>                            </th><th id="45c68858">                                <a href="Web_Development__ASP.NET_MVC.html"><img alt="Language: Razor" title="Language: Razor" src="/help/img/dotnet/2019.3/ThemedIcon.Razor.Print.[Gray].png" id="cf2b9081" width="25" height="25" class="inline-icon-25"></a>                            </th><th id="30672a76">                                <a href="ReSharper_by_Language__JavaScript.html"><img alt="Language: JavaScript" title="Language: JavaScript" src="/help/img/dotnet/2019.3/ThemedIcon.Js.Print.[Gray].png" id="6251d07c" width="25" height="25" class="inline-icon-25"></a>                            </th><th id="a8f90cbd">                                <a href="ReSharper_by_Language__TypeScript.html"><img alt="Language: TypeScript" title="Language: TypeScript" src="/help/img/dotnet/2019.3/ThemedIcon.TsOptionPage.Print.[Gray].png" id="56c7fe71" width="25" height="25" class="inline-icon-25"></a>                            </th><th id="2e4b5585">                                <a href="ReSharper_by_Language__CSS.html"><img alt="Language: CSS" title="Language: CSS" src="/help/img/dotnet/2019.3/ThemedIcon.Css.Print.[Gray].png" id="d2ef33f5" width="25" height="25" class="inline-icon-25"></a>                            </th><th id="9b3c9311">                                <a href="ReSharper_by_Language__XML.html"><img alt="Language: XML" title="Language: XML" src="/help/img/dotnet/2019.3/ThemedIcon.XmlFile.Print.[Gray].png" id="b7041caa" width="25" height="25" class="inline-icon-25"></a>                            </th><th id="effbbc03">                                <a href="Languages_XAML.html"><img alt="Language: XAML" title="Language: XAML" src="/help/img/dotnet/2019.3/ThemedIcon.Xaml.Print.[Gray].png" id="93c46c06" width="25" height="25" class="inline-icon-25"></a>                            </th><th id="2e88706a">                                <a href="Resources__Index.html"><img alt="Language: Resx" title="Language: Resx" src="/help/img/dotnet/2019.3/ThemedIcon.Localization.Print.[Gray].png" id="05462b7c" width="25" height="25" class="inline-icon-25"></a>                            </th><th id="ef64f9c5">                                <a href="ReSharper_by_Language__MSBuild.html"><img alt="Language: Build Scripts" title="Language: Build Scripts" src="/help/img/dotnet/2019.3/ThemedIcon.BuildScripts.Print.[Gray].png" id="dc74ac1f" width="25" height="25" class="inline-icon-25"></a>                            </th><th id="c64dec46">                                <a href="ReSharper_by_Language_Protobuf.html"><img alt="Language: Protobuf" title="Language: Protobuf" src="/help/img/dotnet/2019.3/ThemedIcon.ProtobufOptionPage.Print.[Gray].png" id="01f933d9" width="25" height="25" class="inline-icon-25"></a>                            </th><th id="e7d47a26">                                <a href="ReSharper_by_Language_JSON.html"><img alt="Language: JSON" title="Language: JSON" src="/help/img/dotnet/2019.3/ThemedIcon.Json.Print.[Gray].png" id="420d0685" width="25" height="25" class="inline-icon-25"></a>                            </th></tr></thead><tbody><tr id="fdfc6895" class="ijRowOdd"><td id="095f8eb4">            <img alt="Feature is available" title="Feature is available" src="/help/img/dotnet/2019.3/check.svg" id="05f6c084" width="17" height="12" class="inline-icon-17">                    </td><td id="d3f8ad35">            <img alt="Feature is available" title="Feature is available" src="/help/img/dotnet/2019.3/check.svg" id="dd5ad900" width="17" height="12" class="inline-icon-17">                    </td><td id="31babf5a">                        <img alt="Feature is not available" title="Feature is not available" src="/help/img/dotnet/2019.3/cross.svg" id="95063e03" width="12" height="12" class="inline-icon-12">        </td><td id="e66a83c3">                        <img alt="Feature is not available" title="Feature is not available" src="/help/img/dotnet/2019.3/cross.svg" id="483a3eb1" width="12" height="12" class="inline-icon-12">        </td><td id="abb607c3">                        <img alt="Feature is not available" title="Feature is not available" src="/help/img/dotnet/2019.3/cross.svg" id="5b58b09c" width="12" height="12" class="inline-icon-12">        </td><td id="72f135fb">                        <img alt="Feature is not available" title="Feature is not available" src="/help/img/dotnet/2019.3/cross.svg" id="9aff449b" width="12" height="12" class="inline-icon-12">        </td><td id="ebfe0098">                        <img alt="Feature is not available" title="Feature is not available" src="/help/img/dotnet/2019.3/cross.svg" id="7f26e809" width="12" height="12" class="inline-icon-12">        </td><td id="ca724512">                        <img alt="Feature is not available" title="Feature is not available" src="/help/img/dotnet/2019.3/cross.svg" id="3ae39c89" width="12" height="12" class="inline-icon-12">        </td><td id="4fb35c73">                        <img alt="Feature is not available" title="Feature is not available" src="/help/img/dotnet/2019.3/cross.svg" id="2b8eacb9" width="12" height="12" class="inline-icon-12">        </td><td id="86b9579c">                        <img alt="Feature is not available" title="Feature is not available" src="/help/img/dotnet/2019.3/cross.svg" id="1d2e27eb" width="12" height="12" class="inline-icon-12">        </td><td id="64aa8f7c">                        <img alt="Feature is not available" title="Feature is not available" src="/help/img/dotnet/2019.3/cross.svg" id="edd7c1a0" width="12" height="12" class="inline-icon-12">        </td><td id="17163a01">                        <img alt="Feature is not available" title="Feature is not available" src="/help/img/dotnet/2019.3/cross.svg" id="9ca5a841" width="12" height="12" class="inline-icon-12">        </td><td id="f27e578e">                        <img alt="Feature is not available" title="Feature is not available" src="/help/img/dotnet/2019.3/cross.svg" id="56a0802d" width="12" height="12" class="inline-icon-12">        </td><td id="8b5e9bc5">                        <img alt="Feature is not available" title="Feature is not available" src="/help/img/dotnet/2019.3/cross.svg" id="d878c39c" width="12" height="12" class="inline-icon-12">        </td><td id="7fc97495">                        <img alt="Feature is not available" title="Feature is not available" src="/help/img/dotnet/2019.3/cross.svg" id="adc860d4" width="12" height="12" class="inline-icon-12">        </td></tr></tbody></table></div>                <p id="3262288f">            The instructions and examples given here address the use of the feature in C#.            For details specific to other languages, see corresponding topics in the            <a href="ReSharper_by_Language__Index.html">ReSharper by Language</a>            section.        </p>        <div class="last-modified" data-skip-index="skip">Last modified: 28 November 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="Code_Generation__Delegating_Members.html">Generate Delegating Members</a><a class="navigation-links__next" href="Code_Generation__Generating_Equality_Comparer.html">Generate Equality Comparer</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>