<html lang="en-US" ><head><meta charset="UTF-8"><meta name="robots" content="noindex"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>模板的存储-帮助|帮助锐化器</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body  data-id="Templates__Template_Basics__Applicability_and_Storage_of_Templates" data-breadcrumbs="Templates__Index.xml|Code Templates/Templates__Template_Basics__Applicability_and_Storage_of_Templates.xml|Storage of Templates" data-main-title="Storage of Templates" data-article-props="
                {
                
            " seeals=":[=" titl=":=" concept=",=" link=":=" ur=":" templates__template_scopes.htm="," tex=":" template="}=" scope="}=" templates__template_basics__template_types.htm="," type="}=" procedure=",=" templates__managing_templates__sharing_templates.htm="," share="" sharing_configuration_options.htm="," manage="" and="" resharper="" setting="}=" referenc=",=" reference__templates__predefined.htm="," predefined="" ]}="" ]="" }="" templates__template_basics__applicability_and_storage_of_templates_1=""><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索ReSharper帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>ReSharper 2019.3帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option value="rs" data-group="secondary">ReSharper 2.x / IntelliJ IDEA</option><option value="vs" data-group="primary">视觉工作室</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 id="Templates__Template_Basics__Applicability_and_Storage_of_Templates.xml" data-toc="Templates__Template_Basics__Applicability_and_Storage_of_Templates">模板存储</h1>    <p id="493c5229">关于ReSharper的代码模板，有趣的事情之一是它们的分布式存储。代码模板的行为足够聪明，可以在不深入了解其内部组织详细信息的情况下使用和管理它们。但是，如果您在编辑或共享模板时遇到任何问题或具有复杂的使用场景，则可能需要研究这些详细信息。</p>    <aside class="prompt" rel="493c5229" id="note_postfix_source_storage" data-type="note" data-title="">        <p id="2ae8ae4d">与存储在设置层中的实时，环绕和文件模板相反， <a href="Postfix_Templates.html">后缀模板</a>在ReSharper安装中进行了硬编码， <a href="Source_Templates.html">源模板</a>存储在解决方案的源代码中的任何位置。</p>    </aside>    <div class="chapter"><h2 id="predefined-templates" data-toc="Templates__Template_Basics__Applicability_and_Storage_of_Templates#predefined-templates">预定义模板</h2>        <p id="9f58d0ee">所有<a href="Reference__Templates__Predefined.html">预定义的模板</a>都存储在ReSharper安装中。所有必要的修改（包括删除预定义的模板）都保存在<a href="Sharing_Configuration_Options.html">设置层中</a> 。</p>        <p id="97fa41df">为了更好地了解它的工作方式。让我们将预定义的模板简化为三个字段：正文，描述和范围，如下图所示。现在，假设我们在第1层中编辑了模板的作用域，然后在第2层中编辑了模板的描述，然后在第3层中再次编辑了模板的作用域：</p>        <figure><img alt="预定义模板的简化视图" title="预定义模板的简化视图" src="/help/img/dotnet/2019.3/template_storage.png" id="e1386989" width="514" height="345"></figure>        <p id="8114a6ac">最终的修改后的模板（在应用了所有三个层时得到）将具有原始预定义模板的主体，第2层的描述以及第3层的作用域，因为它覆盖了基础第1层。</p>        <p id="3ced4014">代码模板由GUID内部标识，以允许所有字段都可编辑。在所有ReSharper安装中，预定义的模板具有相同的GUID。因此，如果导出对预定义模板的修改，则其他ReSharper用户将不会有导入问题。</p>        <p id="fc508b2a">由于对预定义模板的所有修改都保存在设置层中，因此您始终可以通过清除包含修改的层来返回到这些模板的默认状态。即使删除了预定义的模板，ReSharper也会在相应的设置层中将其标记为已删除，因此，如果清除此层，则会恢复已删除的模板。</p>        <p id="825ab368">要清除设置层，请选择<span class="menupath" data-skip-index="skip">ReSharper |</span>在主菜单中<span class="menupath" data-skip-index="skip">选择“管理选项</span> ”，然后右键单击图层并选择“ <span class="control">重置”</span> ，勾选<i id="9199e8ab">PatternsAndTemplates</i>项，然后单击“ <span class="control">重置”</span> 。</p>    </div>    <div class="chapter"><h2 id="user-defined-templates" data-toc="Templates__Template_Basics__Applicability_and_Storage_of_Templates#user-defined-templates">用户定义的模板</h2>        <p id="5155fd97">与预定义的模板不同，每个用户定义的模板都保存在某个<a href="Sharing_Configuration_Options.html">设置层中</a> 。如果在定义该模板的层中<a href="Templates__Creating_and_Editing_Templates__Editing_a_Template.html">编辑</a>此类模板，则会修改已编辑的字段。但是，如果您在另一层中编辑用户定义的模板，则所做的修改将与预定义模板一样保存在该层中。</p>        <p id="fc05944c">以下用户定义模板的简化模型显示了在第2层中创建的模板，然后在同一层中修改了其说明，最后在第3层中编辑了其范围：</p>        <figure><img alt="用户定义模板的简化视图" title="用户定义模板的简化视图" src="/help/img/dotnet/2019.3/template_storage_2.png" id="db42ee64" width="524" height="343"></figure>    </div>    <div class="chapter"><h2 id="user-interface" data-toc="Templates__Template_Basics__Applicability_and_Storage_of_Templates#user-interface">用户界面</h2>        <p id="2480d374">您可以在“ <a href="Reference__Templates_Explorer.html">模板资源管理器”窗口中</a>控制模板的存储。使用“ <span class="control">图层”</span>选择器选择一个设置图层，并查看哪些用户定义的模板保存在该图层中，并在必要时进行修改。“ <span class="control">图层”</span>选择器中显示的<span class="control">图层</span>顺序与图层相互覆盖的顺序相对应（请参见上图）。</p>        <figure><img alt="在模板资源管理器中选择设置图层" title="在模板资源管理器中选择设置图层" src="/help/img/dotnet/2019.3/template_storage3.png" id="17f15c6d" width="403" height="179"></figure>        <p id="ff627884">如果所选层仅包含对其他模板的修改，则不会看到它们。但是，如果此层对预定义模板进行了修改，则可以看到如何应用这些修改。为此， <a name="show_predefined"></a>单击<span class="control">过滤器模板</span> <img alt="ThemedIcon过滤器屏幕灰色" title="ThemedIcon过滤器屏幕灰色" src="/help/img/dotnet/2019.3/ThemedIcon.Filter.Screen.[Gray].png" id="bc08ede5" width="16" height="16" class="inline-icon-16">并选择<span class="control">显示预定义模板</span> 。</p>        <p id="e2679084">要在特定图层中<a href="Creating_a_Live_Template.html">创建新模板</a> ，请在“ <span class="control">图层”</span>选择器中选择该<span class="control">图层</span> ，然后单击“ <span class="control">新建模板”。</span> <img alt="ThemedIcon AddLiveTemplate屏幕灰色" title="ThemedIcon AddLiveTemplate屏幕灰色" src="/help/img/dotnet/2019.3/ThemedIcon.AddLiveTemplate.Screen.[Gray].png" id="f79a570f" width="16" height="16" class="inline-icon-16"> 。</p>        <p id="2d691271"><span class="control">智能</span>层的工作方式如下：</p>        <ul class="list _ul"><li class="list__item" id="df03d2aa"><p>如果创建新模板，它将保存在“此计算机”层中。</p></li><li class="list__item" id="fb9ecc2d"><p>如果您修改保存在“此计算机”层中的模板，则所做的修改将保存在此层中。</p></li><li class="list__item" id="e25204ff"><p>如果您修改保存在任何其他层中的模板，则这些修改将保存在“个人解决方案”层中。</p></li><li class="list__item" id="9319eeb8"><p>如果您修改预定义的模板，则这些修改将保存在“此计算机”层中。</p></li></ul>        <a name="smart_note"></a>        <aside class="prompt" rel="user-interface" id="da2b064f" data-type="warning" data-title="">            <p id="b6f56fc0">如果要在“解决方案团队共享”或任何其他共享设置层中编辑用户定义的模板，以便将所做的修改保存在同一层中，请检查“ <span class="control">层”</span>选择器是否已从“智能”切换到目标层。否则，您的修改将单独保存在“个人解决方案”层中。</p>        </aside>            <p id="af9afce0">模板存储的机制乍一看似乎很棘手，但是它可以帮助您为每种解决方案提供一组正确的模板，与团队<a href="Templates__Managing_Templates__Sharing_Templates.html">共享模板</a> ， <a href="Templates__Managing_Templates__Importing_and_Exporting_Templates.html">导入和导出模板</a> ，而无需付出很多努力。这里有几个例子来说明它可能会有所帮助。</p>        <ul class="list _ul"><li class="list__item" id="86e40a7a"><p>您已经更改了预定义模板的<a href="Templates__Template_Scopes.html">范围</a> ，以便它可以应用于某些自定义文件类型。然后，在较新版本的ReSharper中，模板主体已更新。安装此较新版本后，您将获得更新的正文，同时保留修改后的范围。</p></li><li class="list__item" id="baef06ad"><p>您的团队负责人<a href="Creating_a_Live_Template.html">创建</a>了一个自定义实时模板，并与团队<a href="Templates__Managing_Templates__Sharing_Templates.html">共享</a> 。您喜欢模板并使用它，但您更喜欢使用其他快捷方式。没问题。您可以编辑模板快捷方式，并将更改保存在<span class="emphasis">解决方案个人</span>设置层中，该设置将覆盖<span class="emphasis">解决方案团队共享的</span>层。因此，您将拥有自己的个人捷径，而团队将看不到任何变化。当然，如果模板主体或范围已更新，您将获得所有更新。</p></li></ul>    </div>    <div class="last-modified" data-skip-index="skip">上次修改时间：2019年11月28日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="Templates__Template_Basics__Template_Macros.html">模板宏</a> <a class="navigation-links__next" href="Templates__Applying_Templates.html">应用模板</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>