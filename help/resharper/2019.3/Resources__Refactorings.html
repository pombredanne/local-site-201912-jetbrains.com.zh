<html lang="en-US" ><head><meta charset="UTF-8"><meta name="robots" content="noindex"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>本地化重构-帮助|帮助锐化器</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body  data-id="Resources__Refactorings__Move_to_Resource" data-breadcrumbs="Resources__Index.xml|Localization Assistance/Resources__Refactorings.xml|Localization Refactorings" data-main-title="Localization Refactorings" data-article-props="
                {
                
            " seeals=":[=" titl=":=" concept=",=" link=":=" ur=":" resources__navigation.htm="," tex=":" navigatio="}=" localization_inspection.htm="," localization="" inspections="" and="" quick-fixe="}=" refactorings__index.htm="," refactoring="}=" ="" data-disqus-id="Resources__Refactorings_10"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索ReSharper帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>ReSharper 2019.3帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option value="rs" data-group="secondary">ReSharper 2.x / IntelliJ IDEA</option><option value="vs" data-group="primary">视觉工作室</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 id="Resources__Refactorings.xml" data-toc="Resources__Refactorings__Move_to_Resource">本地化重构</h1>    <p id="992d785a">ReSharper提供了一组与资源相关的重构，可以大大简化项目的国际化。</p>    <div class="chapter"><h2 id="move-to-resource" data-toc="Resources__Refactorings__Move_to_Resource#move-to-resource">移至资源</h2>        <p id="a03d11d3">在进行项目内部化时，通常的做法是在资源文件中存储可本地化的字符串。ReSharper会检测到要本地化的字符串并突出显示它们，因此您可以轻松地将这些字符串从源代码查找并移动到资源文件。ReSharper将声明相应的资源条目，并将代码中的字符串替换为资源使用情况。</p>        <aside class="prompt" rel="a03d11d3" id="a5d7eba3" data-type="tip" data-title="">            <p id="10d7998f">您可以在“ <span class="menupath" data-skip-index="skip">代码编辑” |“</span>设置”中为创建的资源设置命名模式。 ReSharper选项的<span class="menupath" data-skip-index="skip">本地化</span>页面。</p>        </aside>        <section class="procedure-steps"><h3 id="4c5d0277">将字符串移到资源</h3><ol class="list _decimal"><li class="list__item" id="2a22b26b"><p>将插入号放在应本地化的字符串上。</p></li><li class="list__item" id="19caa858"><p>如果字符串通过<a href="Localization_Inspection.html#element-is-localizable-inspection">“元素可本地化”检查</a>突出显示，请使用相应的<a href="Code_Analysis__Quick-Fixes.html">快速修复</a> （ <kbd data-rs="Alt+Enter" data-vs="Alt+Enter">Alt+Enter</kbd> ）</p><figure><img alt="ReSharper：将字符串文字移至资源的快速修复" title="ReSharper：将字符串文字移至资源的快速修复" src="/help/img/dotnet/2019.3/Resources__Quick-Fixes_05.png" id="84091e6c" width="358" height="184"></figure>            <p></p></li><li class="list__item" id="a559b1b5"><p>否则，请按<kbd data-rs="F6" data-vs="Ctrl+R,O">F6</kbd>或选择<a name="Move"></a> <span class="menupath" data-skip-index="skip">ReSharper |重构|</span>从主菜单中<span class="menupath" data-skip-index="skip">移动...。</span></p></li><li class="list__item" id="f18d9389"><p>在出现的“ <span class="control">移至资源”</span>对话框中，ReSharper自动为资源条目生成名称并提出资源文件。如有必要，您可以在“ <span class="control">名称”</span>字段中更改名称，然后在“ <span class="control">资源文件”</span>列表中选择其他资源文件。</p><figure><img alt="ReSharper“移至资源”重构" title="ReSharper“移至资源”重构" src="/help/img/dotnet/2019.3/Resources__Refactorings__Move_to_Resource_02.png" id="e849fcd6" width="641" height="264"></figure>            <p></p></li><li class="list__item" id="547adf40"><p>（可选）您可以在“ <span class="control">值”</span>文本区域中更改资源字符串值，并在“ <span class="control">注释”</span>文本区域中添加注释。</p></li><li class="list__item" id="538513e0"><p>（可选）您可以通过在“ <span class="control">查找相同项”</span>列表中选择值来指定是否搜索相同的字符串和搜索范围。</p></li><li class="list__item" id="8dfb9b63"><p>单击“ <span class="control">下一步”</span>应用重构。</p></li><li class="list__item" id="eead562d"><p>如果选择了“ <span class="control">查找相同项目”</span>选项，并且ReSharper查找了在指定范围内定义的任何匹配字符串，则可以选择应使用新资源的用法替换这些字符串中的哪一个。</p></li></ol></section>        <p id="bb305eef">应用重构后，指定的出现的字符串将替换为相应的资源用法，新的资源声明将出现在指定的<span class="filepath">.resx</span>文件中。</p>        <p id="b18b3da3">创建新资源后，您可以<a href="Localization_Inspection.html#override">覆盖其他文化的价值</a> 。</p>        <a name="find_localizable"></a>        <aside class="prompt" rel="move-to-resource" id="27c868fd" data-type="tip" data-title="">            <p id="0ca0667e">                <a name="body_find_localizable"></a>要在解决方案中查找所有可本地化的字符串，请<a href="Configuring_Project_Specific_Properties.html">为相关项目</a>设置<span class="control">Localizable = Yes</span>和<span class="control">Localizable Inspector = Pessimistic</span> ，然后找到任何此类字符串，这些字符串将用下划线突出显示。按<kbd data-rs="Alt+Enter" data-vs="Alt+Enter">Alt+Enter</kbd>在它上面，然后选择<span class="control">检验[检验名称] |在scope中找到所有此类问题</span> 。</p>        </aside>        </div>    <div class="chapter"><h2 id="move-resource" data-toc="Resources__Refactorings__Move_to_Resource#move-resource">移动资源</h2>        <p id="60480ba1">如果您的项目包含多个资源<span class="filepath">.resx</span>文件，则此重构将帮助您将现有资源从一个资源文件移动到另一个资源文件。如果当前项目中只有一个<span class="filepath">.resx</span>文件，则此重构不可用。</p>        <section class="procedure-steps"><h3 id="ba8a6d01">将资源移到另一个资源文件</h3><a name="step_choose_resource"></a><ol class="list _decimal"><li class="list__item" id="21bad09b"><p>在代码文件中的资源使用情况下设置插入符号：</p><figure><img alt="ReSharper：转向资源重构" title="ReSharper：转向资源重构" src="/help/img/dotnet/2019.3/Resources__Refactorings__Move_Resource_01.png" id="1938acec" width="421" height="27"></figure>或<span class="filepath">.resx</span>文件中的资源名称处：<figure><img alt="ReSharper：转向资源重构" title="ReSharper：转向资源重构" src="/help/img/dotnet/2019.3/Resources__Refactorings__Move_Resource_03.png" id="726bd990" width="529" height="61"></figure>        <p></p></li><li class="list__item" id="8ec0d63d"><p>            <a name="invoke_command"></a>按<a name="invoke_command_base"></a><kbd data-rs="F6" data-vs="Ctrl+R,O">F6</kbd>或选择<a name="%actionId%"></a> <span class="menupath" data-skip-index="skip">ReSharper |重构|</span>从主菜单中<span class="menupath" data-skip-index="skip">移动...。</span>或者，您可以按<kbd data-rs="Ctrl+Shift+A" data-vs="Ctrl+Shift+A">Ctrl+Shift+A</kbd> ，开始在弹出窗口中键入命令名称，然后在此处选择它。</p></li><li class="list__item" id="983cc9a6"><p>在出现的“ <span class="control">移动资源”</span>对话框中，指定要在其中<span class="control">移动资源</span>的目标资源文件。</p><figure><img alt="ReSharper：“移动资源”重构" title="ReSharper：“移动资源”重构" src="/help/img/dotnet/2019.3/Resources__Refactorings__Move_Resource_02.png" id="8151e9af" width="641" height="189"></figure>            <p></p></li><li class="list__item" id="d3abc16f"><p>（可选）您可以更改资源名称。</p></li><li class="list__item" id="7449aa0b"><p>单击“ <span class="control">下一步”</span>应用重构。</p></li></ol></section>    </div>    <div class="chapter"><h2 id="rename-resource" data-toc="Resources__Refactorings__Move_to_Resource#rename-resource">重命名资源</h2>        <p id="e40b1b75">您可以使用“ <a href="Refactorings__Rename.html">重命名”重构</a>来快速重命名现有资源。应用重构后，将根据新名称更新资源文件中的所有资源声明和代码文件中的所有资源使用情况。</p>        <section class="procedure-steps"><h3 id="e2f79001">重命名资源</h3><a name="step_choose_resource"></a><ol class="list _decimal"><li class="list__item" id="2667e729"><p>在代码文件中的资源使用情况下设置插入符号：</p><figure><img alt="ReSharper：转向资源重构" title="ReSharper：转向资源重构" src="/help/img/dotnet/2019.3/Resources__Refactorings__Move_Resource_01.png" id="1450cdbe" width="421" height="27"></figure>或<span class="filepath">.resx</span>文件中的资源名称处：<figure><img alt="ReSharper：转向资源重构" title="ReSharper：转向资源重构" src="/help/img/dotnet/2019.3/Resources__Refactorings__Move_Resource_03.png" id="5b54626d" width="529" height="61"></figure>        <p></p></li><li class="list__item" id="5fdf021d"><p>            <a name="invoke_command"></a>按<a name="invoke_command_base"></a><kbd data-rs="F2" data-vs="Ctrl+R,R">F2</kbd>或选择<a name="%actionId%"></a> <span class="menupath" data-skip-index="skip">ReSharper |重构|</span>从主菜单<span class="menupath" data-skip-index="skip">重命名…</span> 。或者，您可以按<kbd data-rs="Ctrl+Shift+A" data-vs="Ctrl+Shift+A">Ctrl+Shift+A</kbd> ，开始在弹出窗口中键入命令名称，然后在此处选择它。</p></li><li class="list__item" id="6dd0fc25"><p>在出现的“ <span class="control">重命名资源”</span>对话框中，为资源指定一个新名称。</p></li><li class="list__item" id="3a954713"><p>单击“ <span class="control">下一步”</span>应用重构。</p></li></ol></section>    </div>    <div class="chapter"><h2 id="inline-resource" data-toc="Resources__Refactorings__Move_to_Resource#inline-resource">内联资源</h2>        <p id="175d09cf"><span class="emphasis">内联资源</span>重构用原始字符串替换资源使用情况，并有选择地从资源文件中删除相应的资源条目。</p>        <a name="string_newline"></a>        <aside class="prompt" rel="inline-resource" id="138225d8" data-type="tip" data-title="">            <p id="25b2c119">如果字符串文字太长，请按<kbd class="keystroke" data-bypass="true"><span class="keystroke__value">Enter</span></kbd>字符串中的任何位置，ReSharper都会自动将其正确的部分放在下一行并插入<code class="code">+</code>标志。删除<code class="code">+</code>和字符串部分将被串联。</p>        </aside>            <section class="procedure-steps"><h3 id="7337c02d">内联资源</h3><a name="step_choose_resource"></a><ol class="list _decimal"><li class="list__item" id="de2a0c37"><p>在代码文件中的资源使用情况下设置插入符号：</p><figure><img alt="ReSharper：转向资源重构" title="ReSharper：转向资源重构" src="/help/img/dotnet/2019.3/Resources__Refactorings__Move_Resource_01.png" id="1560371a" width="421" height="27"></figure>或<span class="filepath">.resx</span>文件中的资源名称处：<figure><img alt="ReSharper：转向资源重构" title="ReSharper：转向资源重构" src="/help/img/dotnet/2019.3/Resources__Refactorings__Move_Resource_03.png" id="e1b813d1" width="529" height="61"></figure>        <p></p></li><li class="list__item" id="fb3518be"><p>            <a name="invoke_command"></a>按<a name="invoke_command_base"></a><kbd data-rs="Ctrl+Alt+N" data-vs="Ctrl+R,I">Ctrl+Alt+N</kbd>或选择<a name="%actionId%"></a> <span class="menupath" data-skip-index="skip">ReSharper |重构|内联|内联…</span>从主菜单。或者，您可以按<kbd data-rs="Ctrl+Shift+A" data-vs="Ctrl+Shift+A">Ctrl+Shift+A</kbd> ，开始在弹出窗口中键入命令名称，然后在此处选择它。</p></li><li class="list__item" id="fd12aec0">                <p id="03dd0a46">在出现的“ <span class="control">内联资源”</span>对话框中，指定重构选项：</p>                <ul class="list _bullet"><li class="list__item" id="a562fdae"><p>                        <span class="control">内联所有用法</span> ：如果选中，则用原始字符串替换项目中的所有资源用法。如果取消选择，则仅替换调用此重构的资源使用情况。请注意，仅当您从代码文件中调用重构时，此选项才有效。</p></li><li class="list__item" id="484b67b8"><p>                        <span class="control">删除内联资源声明</span> ：如果选中，则从所有相关资源文件中删除资源声明。如果取消选择，则声明保持不变。</p></li></ul>            </li><li class="list__item" id="c7d30aec"><p>单击“ <span class="control">下一步”</span>应用重构。</p></li></ol></section>    </div>    <div class="chapter"><h2 id="safe-delete-resource" data-toc="Resources__Refactorings__Move_to_Resource#safe-delete-resource">安全删除资源</h2>        <p id="17c0f8f9">如果要删除资源，请使用“ <a href="Refactorings__Safe_Delete.html">安全删除”重构</a>以确保删除操作安全。如果找不到资源使用情况，则资源将立即删除。否则，ReSharper将显示所有资源使用情况，使您可以编辑相应的代码。删除标有<img alt="ThemedIcon错误屏幕灰色" title="ThemedIcon错误屏幕灰色" src="/help/img/dotnet/2019.3/ThemedIcon.Error.Screen.[Gray].png" id="9551eb4d" width="16" height="16" class="inline-icon-16">图标，将导致编译错误。</p>        <section class="procedure-steps"><h3 id="029faf80">安全删除资源</h3><a name="step_choose_resource"></a><ol class="list _decimal"><li class="list__item" id="6f039f19"><p>在代码文件中的资源使用情况下设置插入符号：</p><figure><img alt="ReSharper：转向资源重构" title="ReSharper：转向资源重构" src="/help/img/dotnet/2019.3/Resources__Refactorings__Move_Resource_01.png" id="fce33e9a" width="421" height="27"></figure>或<span class="filepath">.resx</span>文件中的资源名称处：<figure><img alt="ReSharper：转向资源重构" title="ReSharper：转向资源重构" src="/help/img/dotnet/2019.3/Resources__Refactorings__Move_Resource_03.png" id="69383246" width="529" height="61"></figure>        <p></p></li><li class="list__item" id="4e59cb5d"><p>            <a name="invoke_command"></a>按<a name="invoke_command_base"></a><kbd data-rs="Alt+Delete" data-vs="Ctrl+R,D">Alt+Delete</kbd>或选择<a name="%actionId%"></a> <span class="menupath" data-skip-index="skip">ReSharper |重构|</span>从主菜单中<span class="menupath" data-skip-index="skip">安全删除…</span> 。或者，您可以按<kbd data-rs="Ctrl+Shift+A" data-vs="Ctrl+Shift+A">Ctrl+Shift+A</kbd> ，开始在弹出窗口中键入命令名称，然后在此处选择它。</p></li><li class="list__item" id="579039b8">                <ul class="list _bullet"><li class="list__item" id="35e04af3"><p>如果代码文件中没有使用此资源，则将应用重构，并从所有<span class="filepath">.resx</span>文件中删除资源声明。</p></li><li class="list__item" id="b2428271"><p>如果代码文件中有此资源的用法，则会打开“ <span class="control">安全删除资源”</span>对话框，显示所有冲突。</p></li></ul>                <figure><img alt="ReSharper：安全删除资源。矛盾冲突" title="ReSharper：安全删除资源。矛盾冲突" src="/help/img/dotnet/2019.3/Resources__Refactorings__Safe_Delete_02.png" id="e97d59a4" width="655" height="385"></figure>            </li><li class="list__item" id="59e8f209"><p>如果您在尝试安全删除资源时遇到冲突，请手动解决它们，然后点击<span class="control">刷新</span> 。</p></li><li class="list__item" id="ab46933e"><p>解决所有冲突并从对话框中消失后，单击“ <span class="control">下一步”</span>应用重构。</p></li></ol></section>    </div>    <div class="last-modified" data-skip-index="skip">上次修改时间：2019年11月28日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="Coding_Assistance_for_Localization.html">本地化</a> <a class="navigation-links__next" href="Resources__Navigation.html">导航的</a> <a class="navigation-links__prev" href="Coding_Assistance_for_Localization.html">编码辅助</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>