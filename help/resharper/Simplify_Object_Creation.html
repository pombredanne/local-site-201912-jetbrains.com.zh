<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>简化对象创建-帮助|帮助锐化器</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body  data-id="Simplify_Object_Creation" data-article-props="
                {
                
            " seeals=":[=" titl=":=" concept=",=" link=":=" ur=":" refactorings__index.htm="," tex=":" refactoring="}=" refactor_this.htm="," refactor="" thi="}=" refactorings__replace_constructor_with_factory_method.htm="," replace="" constructor="" with="" factory="" method="" refactorin="}=" ="" data-disqus-id="Simplify_Object_Creation_10"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索ReSharper帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>ReSharper 2019.2帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option value="rs" data-group="secondary">ReSharper 2.x / IntelliJ IDEA</option><option value="vs" data-group="primary">视觉工作室</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 id="Simplify_Object_Creation.xml" data-toc="Simplify_Object_Creation">简化对象创建</h1>    <p id="78c2fbd1">您是否曾经遇到过您在不断壮大自己的类，添加越来越多的构造函数以及它们各自的配置细节的情况？您是否曾经希望将对象创建代码取出到一个单独的类中，并重新组织它以使其更具可读性？</p>    <p id="a614599a">让我们看一下“ <a href="https://www.industriallogic.com/xp/refactoring/constructorCreation.html" rel="noopener noreferrer" data-external="true" target="_blank">重构到模式”</a>一书中的场景。在这里，我们有几个贷款构造函数都将真实意图隐藏在它们采用的参数中：</p>    <div class="code-block" data-lang="csharp">公共类贷款{公共贷款（双重承诺，int riskRating，整数到期）{//实现省略}公共贷款（双重承诺，int riskRating，int到期期限，DateTime到期）{//实现省略}公共贷款（双重承诺，double委托，double未清，int RiskRating，int成熟度，DateTime到期）{//实现省略}}</div>    <p id="260cdc40">现在，让我们将这些构造函数重构为工厂方法。为此，我们轮流使用每个构造函数，并使用“ <span class="control">重构此</span>菜单”中的“ <a href="Refactorings__Replace_Constructor_with_Factory_Method.html">使用工厂方法重构代替构造函数”</a> <kbd data-rs="Ctrl+Shift+R" data-vs="Ctrl+Shift+R">Ctrl+Shift+R</kbd> 。</p>    <figure><img alt="用工厂方法替换构造函数" title="用工厂方法替换构造函数" src="/help/img/dotnet/2019.2/cookbook_factory1.png" id="42655472" width="567" height="265"></figure>    <p id="3cad9cc7">因此，我们可以给新的工厂方法命名，但是我们也可以指定一个不同的类来放置工厂方法。</p>    <figure><img alt="用工厂方法替换构造函数" title="用工厂方法替换构造函数" src="/help/img/dotnet/2019.2/cookbook_factory2.png" id="7f06c981" width="671" height="229"></figure>    <p id="b8f266f8">您最终得到的是工厂方法<code class="code">LoanFactory</code>类：</p>    <div class="code-block" data-lang="csharp">公共类LoanFactory {公共静态贷款CreateTermLoan（双重承诺，int riskRating，int成熟度）{返回新的Loan（承诺，riskRating，成熟度）; }}</div>    <p id="686d7bd9">对所有相关的构造函数执行此操作将产生完整的工厂类。请注意，如果您将工厂方法放在原始类中（例如， <code class="code">Loan</code> ），相应的构造函数将变为私有。但是，由于我们将这些构造函数移到了单独的工厂类中，因此这些构造函数保持公共状态。</p>    <div class="last-modified" data-skip-index="skip">上次修改时间：2019年11月18日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="Review_dependencies_between_projects.html">查看项目之间的依赖关系</a> <a class="navigation-links__next" href="Sort_out_a_mess_of_possible_method_signatures.html">调用时，整理出一堆可能的方法签名</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>