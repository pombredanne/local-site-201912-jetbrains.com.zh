<html lang="en-US" ><head>
    <meta charset="UTF-8">
    <title>/ ReSharper开发指南</title>
    <link rel="stylesheet" href="/help/resharper/sdk/app/app.css">
    <link rel="shortcut icon" href="/help/resharper/sdk/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon" href="/help/resharper/sdk/apple-touch-icon-57x57.png" sizes="57x57">
    <link rel="apple-touch-icon" href="/help/resharper/sdk/apple-touch-icon-60x60.png" sizes="60x60">
    <link rel="apple-touch-icon" href="/help/resharper/sdk/apple-touch-icon-72x72.png" sizes="72x72">
    <link rel="apple-touch-icon" href="/help/resharper/sdk/apple-touch-icon-114x114.png" sizes="114x114">
    <link rel="apple-touch-icon" href="/help/resharper/sdk/apple-touch-icon-120x120.png" sizes="120x120">
    <link rel="apple-touch-icon" href="/help/resharper/sdk/apple-touch-icon-144x144.png" sizes="144x144">
    <link rel="apple-touch-icon" href="/help/resharper/sdk/apple-touch-icon-152x152.png" sizes="152x152">
    <link rel="apple-touch-icon" href="/help/resharper/sdk/apple-touch-icon-180x180.png" sizes="180x180">
    <link rel="mask-icon" href="/help/resharper/sdk/apple-mask-icon.svg" color="black">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-square70x70logo" content="/help/resharper/sdk/mstile-70x70.png">
    <meta name="msapplication-TileImage" content="/help/resharper/sdk/mstile-144x144.png">
    <meta name="msapplication-square150x150logo" content="/help/resharper/sdk/mstile-150x150.png">
    <meta name="msapplication-wide310x150logo" content="/help/resharper/sdk/mstile-310x150.png">
    <meta name="msapplication-square310x310logo" content="/help/resharper/sdk/mstile-310x310.png">
    <meta name="theme-color" content="#000000">
    <meta name="description" content="Documentation for writing extensions for ReSharper">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.jetbrains.com/help/resharper/sdk//Platform/Shell/Icons/IconTypes.html">
    <meta property="og:site_name" content="JetBrains ReSharper">
    <meta property="og:title" content="">
    <meta property="og:description" content="Documentation for writing extensions for ReSharper">
    <meta property="og:image" content="https://www.jetbrains.com/help/resharper/sdk/jetbrains.png">
    <meta property="article:modified_time" content="2015-05-08T16:54:20+00:00">
    <!-- <meta property="article:section" content="" /> 
    <meta property="article:tag" content="" /> -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@JBPlatform">
    <meta name="twitter:title" content="">
    <meta name="twitter:description" content="Documentation for writing extensions for ReSharper">
    <meta name="twitter:image" content="https://www.jetbrains.com/help/resharper/sdk/jetbrains.png">
    <meta class="swiftype" name="product" data-type="string" content="/help/resharper/sdk/">
<link rel="stylesheet" href="/help/resharper/sdk/app/styles.css"></head>
<body  data-id="Platform/Shell/Icons/IconTypes">
<div class="wrapper">
    <section class="panel _nav">
        <header class="panel__header">
            <div class="container">
                <form class="search-box">
                    <label class="search-box__label" for="search-box__input">
                        <input type="text" class="search-box__input" id="search-box__input" placeholder="搜索ReSharper DevGuide">
                    </label>
                    <div class="search-box__clear" title="明确"></div>
                </form>
            </div>
        </header>
        <nav class="panel__content">
            <div class="container _nav">
                <menu class="nav-tree"></menu>
            </div>
            <div class="container _footer panel__footer">
                <p><a href="//youtrack.jetbrains.com/issues/IJSDK" data-bypass="true">发送反馈</a></p>
                <p>©2000–2018 <a href="//www.jetbrains.com">JetBrains</a> sro<br>版权所有。</p>
            </div>
        </nav>
    </section>

    <main class="panel _main" role="main">
        <header class="panel__header">
            <div class="container">
                <h3>ReSharper开发指南</h3>
                
                <div class="panel-trigger"></div>
            </div>
        </header>
        <section class="panel__content">
            <div class="container">
                <article class="article" data-shortcut-switcher="false">
                    <div class="navigation-links _top" data-swiftype-index="false">
                        
                        
                    </div>
                    <a href="https://github.com/JetBrains/resharper-devguide/edit/master/Platform/Shell/Icons/IconTypes.md" class="page-link-to-github" rel="noopener noreferrer" title="在GitHub上编辑此页面" data-bypass="true" target="_blank"><i class="github-icon"></i> <span class="text">编辑页面</span></a> <a name="icon-types" class="elem-anchor"></a>
<h1>图标类型<a href="#icon-types" class="anchor-link"><span></span></a></h1>

<p>最常见的一种<code class="code highlight language-text">IconId</code>是<code class="code highlight language-text">CompiledIconId</code> 。这代表已被编译到装配件资源中的图标。ReSharper还支持其他几种图标：</p>

<ul>
  <li><strong><code class="code highlight language-text">CompiledIconId</code></strong>表示已被编译为装配件资源的图标。</li>
  <li><strong><code class="code highlight language-text">ColorIconId</code></strong>代表纯色图标。</li>
  <li><strong><code class="code highlight language-text">CompositeIconId</code></strong>是由其他图标组成的图标<code class="code highlight language-text">IconId</code>图标。</li>
  <li><strong><code class="code highlight language-text">EffectOnIconId</code></strong>创建一个基于另一个图标<code class="code highlight language-text">IconId</code> ，应用alpha，基于浅色的单色和/或模糊半径。</li>
  <li><strong><code class="code highlight language-text">ShellFileIconId</code></strong>是给定扩展名的文件类型图标。</li>
  <li><strong><code class="code highlight language-text">AnimatedIconId</code></strong>和<strong><code class="code highlight language-text">RotatedIconId</code></strong>代表动画的图标。</li>
</ul>

<p>图标类型不应用主题，并且在基于现有图标创建新图标时，将创建WPF <code class="code highlight language-text">ImageSource</code>使用现有图标，这意味着WPF将负责缩放基本图标。</p>

<a name="color-icons" class="elem-anchor"></a>
<h2>颜色图标<a href="#color-icons" class="anchor-link"><span></span></a></h2>

<p>可以通过创建一个新实例来定义代表纯色的图标<code class="code highlight language-text">ColorIconId</code>并传递<code class="code highlight language-text">Color</code> 。产生的图标将是该颜色的实心正方形。</p>

<div class="code-block" data-lang="csharp"><code class="code-block__wrapper"><span class="kt">var</span> <span class="n">iconId</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ColorIconId</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="n">Red</span><span class="p">);</span></code></div>

<a name="composite-icons" class="elem-anchor"></a>
<h2>复合图标<a href="#composite-icons" class="anchor-link"><span></span></a></h2>

<p>的<code class="code highlight language-text">CompositeIconId</code>会将其他图标合并为一个图像，可用于应用叠加层。要创建复合图标，请调用静态图标之一<code class="code highlight language-text">Compose</code>方法，传入<code class="code highlight language-text">IconId</code>要组合的图标。图像以从左到右的顺序组成。那就是<code class="code highlight language-text">Compose</code>方法的最左边的参数被首先应用，随后的参数被应用在顶部。</p>

<div class="code-block" data-lang="csharp"><code class="code-block__wrapper"><span class="kt">var</span> <span class="n">iconId1</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ColorIconId</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="n">Red</span><span class="p">);</span> <span class="kt">var</span> <span class="n">iconId2</span> <span class="p">=</span> <span class="n">ProjectModelThemedIcons</span><span class="p">.</span><span class="n">LayerSolutionShared</span><span class="p">.</span><span class="n">Id</span><span class="p">;</span> <span class="kt">var</span> <span class="n">compositeIconId</span> <span class="p">=</span> <span class="n">CompositeIconId</span><span class="p">.</span><span class="nf">Compose</span><span class="p">(</span><span class="n">iconId1</span><span class="p">,</span> <span class="n">iconId2</span><span class="p">);</span></code></div>

<p>一个更现实的示例显示了如何创建一个表示私有方法的图标（尽管在用户代码中不太可能需要这样做，因为PSI可以为给定的声明元素自动提供此图标）：</p>

<div class="code-block" data-lang="csharp"><code class="code-block__wrapper"><span class="kt">var</span> <span class="n">iconId1</span> <span class="p">=</span> <span class="n">PsiSymbolsThemedIcons</span><span class="p">.</span><span class="n">Method</span><span class="p">.</span><span class="n">Id</span><span class="p">;</span> <span class="kt">var</span> <span class="n">iconId2</span> <span class="p">=</span> <span class="n">PsiSymbolsThemedIcons</span><span class="p">.</span><span class="n">ModifiersPrivate</span><span class="p">.</span><span class="n">Id</span><span class="p">;</span> <span class="kt">var</span> <span class="n">compositeIconId</span> <span class="p">=</span> <span class="n">CompositeIconId</span><span class="p">.</span><span class="nf">Compose</span><span class="p">(</span><span class="n">iconId1</span><span class="p">,</span> <span class="n">iconId2</span><span class="p">);</span></code></div>

<a name="applying-effects-to-icons" class="elem-anchor"></a>
<h2>将效果应用于图标<a href="#applying-effects-to-icons" class="anchor-link"><span></span></a></h2>

<p>的<code class="code highlight language-text">EffectOnIconId</code>创建一个新的<code class="code highlight language-text">IconId</code>基于现有图标，但应用了各种效果。新图标可以应用Alpha不透明度值，将图标变为单色，应用模糊半径或三者的任意组合。Alpha透明度是从0到1的双精度值应用的，其中1是无透明度，0是完全透明。应用模糊半径要求传入一个双精度值，该值代表WPF的“设备独立单位”（1/96英寸）中的半径。</p>

<p>将图标设为单色时，如果基本图标是WPF矢量图像，则与矢量几何图形关联的笔刷将替换为给定的颜色。当基本图标是位图时，将渲染位图并应用单色。</p>

<div class="code-block" data-lang="csharp"><code class="code-block__wrapper"><span class="kt">var</span> <span class="n">baseIconId</span> <span class="p">=</span> <span class="n">ProjectModelThemedIcons</span><span class="p">.</span><span class="n">LayedSolutionShared</span><span class="p">.</span><span class="n">Id</span><span class="p">;</span> <span class="c1">// Apply a 0.7 opacity, convert to red and apply a radius blur with a radius of 5</span> <span class="kt">var</span> <span class="n">iconId</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">EffectOnIconId</span><span class="p">(</span><span class="n">baseIconId</span><span class="p">,</span> <span class="m">0.7</span><span class="p">,</span> <span class="n">Color</span><span class="p">.</span><span class="n">Red</span><span class="p">,</span> <span class="m">5</span><span class="p">);</span></code></div>

<aside class="note">
  <p> <code class="code highlight language-text">EffectOnIconId</code>不适用于主题。图标类型负责其自身的主题，并应提供已经了解主题的图标。此图标类型可操作现有图标，如果合适的话，该图标将已经主题化（例如， <code class="code highlight language-text">ColorIconId</code>图标将不会主题化，并且主题也不合适。</p>
</aside>

<a name="file-type-icons" class="elem-anchor"></a>
<h2>文件类型图标<a href="#file-type-icons" class="anchor-link"><span></span></a></h2>

<p>可以使用<code class="code highlight language-text">ShellFileIconId</code>类。这些图标ID向操作系统要求图标以给定的文件大小表示给定的文件扩展名（应包括点）。如果当前主题是单色主题（例如Visual Studio的Light或Dark主题），则返回的图标也将转换为单色。蓝色主题不是，如果这是当前主题，则不会转换图标）。</p>

<div class="code-block" data-lang="csharp"><code class="code-block__wrapper"><span class="kt">var</span> <span class="n">smallIconId</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ShellFileIconId</span><span class="p">(</span><span class="s">".cs"</span><span class="p">,</span> <span class="n">ShellFileIconId</span><span class="p">.</span><span class="n">IconSize</span><span class="p">.</span><span class="n">SmallIcon</span><span class="p">);</span> <span class="kt">var</span> <span class="n">largeIconId</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ShellFileIconId</span><span class="p">(</span><span class="s">".cs"</span><span class="p">,</span> <span class="n">ShellFileIconId</span><span class="p">.</span><span class="n">IconSize</span><span class="p">.</span><span class="n">LargeIcon</span><span class="p">);</span></code></div>

<p>小图标为16×16，大图标为32×32。由于图标是光栅图像，因此无法很好地缩放，因此请尝试为用例使用适当的大小。请注意，确实会为当前DPI创建生成的图像，因此在高DPI场景中仍将正确显示该图像。</p>

<aside class="note">
  <p>此图标类型会将图标转换为单色，具体取决于当前主题。应用适当的主题取决于图标类型。大多数其他图标类型不需要这样做，因为它们正在处理已经主题化的现有图标，或者因为它们产生的图标应按原样显示。的<code class="code highlight language-text">CompiledIconId</code>上课将通过在多组图标之间进行选择来产生主题识别图标。</p>
</aside>

<a name="animated-icons" class="elem-anchor"></a>
<h2>动画的图标<a href="#animated-icons" class="anchor-link"><span></span></a></h2>

<p>的<code class="code highlight language-text">AnimatedIconId</code>和<code class="code highlight language-text">RotatedIconId</code>类用于获取不支持动画的场景的静态图像。的<code class="code highlight language-text">AnimatedIconId</code>仅仅是一个基类，并且<code class="code highlight language-text">RotatedIconId</code>用于识别和提供另一个<code class="code highlight language-text">IconId</code>作为静态图标。</p>

<p>如果一个<code class="code highlight language-text">RotatedIconId</code>使用以下命令添加到WPF UI <code class="code highlight language-text">ThemedIconViewImage</code>控件（可以代替WPF使用<code class="code highlight language-text">Image</code>元素），然后通过WPF动画（在<code class="code highlight language-text">RotatedIconId.AnimatedRenderTransform</code> 。这就是在单元测试运行器中呈现动画图标的方式。</p>

<p>对于Windows窗体，可以使用以下方法检索旋转动画的各个帧： <code class="code highlight language-text">RotatedIconId.GdipBitmapFrames.GetAnimationFrameGdipBitmap</code> 。的<code class="code highlight language-text">PresentableItemRenderer</code>类利用此来渲染动画帧<code class="code highlight language-text">IPresentableItem</code>包含框架的对象。</p>

<p>另外，可以通过为各个框架创建图标并更新<code class="code highlight language-text">IProperty<IconId></code>每帧。同样，这可以与<code class="code highlight language-text">ThemedIconViewImage</code> ，它将每帧显示为静态图像，并在每帧图标更改时更新。这是处理状态栏中解决方案范围内的圆形图标的方式。</p>

<div class="code-block" data-lang="csharp"><code class="code-block__wrapper"><span class="k">public</span> <span class="n">UIElement</span> <span class="nf">GetIconView</span><span class="p">(</span><span class="n">Lifetime</span> <span class="n">animationLifetime</span><span class="p">,</span> <span class="n">IProperty</span><span class="p"><</span><span class="n">IconId</span><span class="p">></span> <span class="n">animatedIcon</span><span class="p">)</span> <span class="p">{</span> <span class="kt">var</span> <span class="n">image</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ThemedIconViewImage</span><span class="p">();</span> <span class="c1">// Bind the property's value to the ThemedIconViewImage's DataContextProperty</span> <span class="c1">// When the icon changes, the DataContextProperty is updated, and the image is redrawn</span> <span class="c1">// The Lifetime dictates when the property binding should be disposed</span> <span class="n">animatedIcon</span><span class="p">.</span><span class="nf">FlowInto</span><span class="p">(</span><span class="n">animationLifetime</span><span class="p">,</span> <span class="n">image</span><span class="p">,</span> <span class="n">DataContextProperty</span><span class="p">);</span> <span class="p">}</span></code></div>


                    <div class="navigation-links _bottom" data-swiftype-index="false">
                        
                        
                    </div>
                    <div class="last-modified">上次修改时间：2015年5月8日</div>
                </article>

                <section class="disqus">
                    <div id="disqus_thread"></div>
                </section>
            </div>
        </section>
    </main>
</div>

<script src="/help/resharper/sdk/app/app.js" data-baseurl="/help/resharper/sdk/"></script>




</body></html>