<html lang="en-US" ><head>
    <meta charset="UTF-8">
    <title>内部模式/ ReSharper DevGuide</title>
    <link rel="stylesheet" href="/help/resharper/sdk/app/app.css">
    <link rel="shortcut icon" href="/help/resharper/sdk/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon" href="/help/resharper/sdk/apple-touch-icon-57x57.png" sizes="57x57">
    <link rel="apple-touch-icon" href="/help/resharper/sdk/apple-touch-icon-60x60.png" sizes="60x60">
    <link rel="apple-touch-icon" href="/help/resharper/sdk/apple-touch-icon-72x72.png" sizes="72x72">
    <link rel="apple-touch-icon" href="/help/resharper/sdk/apple-touch-icon-114x114.png" sizes="114x114">
    <link rel="apple-touch-icon" href="/help/resharper/sdk/apple-touch-icon-120x120.png" sizes="120x120">
    <link rel="apple-touch-icon" href="/help/resharper/sdk/apple-touch-icon-144x144.png" sizes="144x144">
    <link rel="apple-touch-icon" href="/help/resharper/sdk/apple-touch-icon-152x152.png" sizes="152x152">
    <link rel="apple-touch-icon" href="/help/resharper/sdk/apple-touch-icon-180x180.png" sizes="180x180">
    <link rel="mask-icon" href="/help/resharper/sdk/apple-mask-icon.svg" color="black">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-square70x70logo" content="/help/resharper/sdk/mstile-70x70.png">
    <meta name="msapplication-TileImage" content="/help/resharper/sdk/mstile-144x144.png">
    <meta name="msapplication-square150x150logo" content="/help/resharper/sdk/mstile-150x150.png">
    <meta name="msapplication-wide310x150logo" content="/help/resharper/sdk/mstile-310x150.png">
    <meta name="msapplication-square310x310logo" content="/help/resharper/sdk/mstile-310x310.png">
    <meta name="theme-color" content="#000000">
    <meta name="description" content="Documentation for writing extensions for ReSharper">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.jetbrains.com/help/resharper/sdk//Extensions/InternalMode.html">
    <meta property="og:site_name" content="JetBrains ReSharper">
    <meta property="og:title" content="Internal Mode">
    <meta property="og:description" content="Documentation for writing extensions for ReSharper">
    <meta property="og:image" content="https://www.jetbrains.com/help/resharper/sdk/jetbrains.png">
    <meta property="article:modified_time" content="2017-07-10T19:28:42+00:00">
    <!-- <meta property="article:section" content="" /> 
    <meta property="article:tag" content="" /> -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@JBPlatform">
    <meta name="twitter:title" content="Internal Mode">
    <meta name="twitter:description" content="Documentation for writing extensions for ReSharper">
    <meta name="twitter:image" content="https://www.jetbrains.com/help/resharper/sdk/jetbrains.png">
    <meta class="swiftype" name="product" data-type="string" content="/help/resharper/sdk/">
<link rel="stylesheet" href="/help/resharper/sdk/app/styles.css"></head>
<body  data-id="Extensions/InternalMode">
<div class="wrapper">
    <section class="panel _nav">
        <header class="panel__header">
            <div class="container">
                <form class="search-box">
                    <label class="search-box__label" for="search-box__input">
                        <input type="text" class="search-box__input" id="search-box__input" placeholder="搜索ReSharper DevGuide">
                    </label>
                    <div class="search-box__clear" title="明确"></div>
                </form>
            </div>
        </header>
        <nav class="panel__content">
            <div class="container _nav">
                <menu class="nav-tree"></menu>
            </div>
            <div class="container _footer panel__footer">
                <p><a href="//youtrack.jetbrains.com/issues/IJSDK" data-bypass="true">发送反馈</a></p>
                <p>©2000–2018 <a href="//www.jetbrains.com">JetBrains</a> sro<br>版权所有。</p>
            </div>
        </nav>
    </section>

    <main class="panel _main" role="main">
        <header class="panel__header">
            <div class="container">
                <h3>ReSharper开发指南</h3>
                
                <div class="panel-trigger"></div>
            </div>
        </header>
        <section class="panel__content">
            <div class="container">
                <article class="article" data-shortcut-switcher="false">
                    <div class="navigation-links _top" data-swiftype-index="false">
                        <a class="navigation-links__prev" href="/Extensions/Tools.html">所需工具</a> <a class="navigation-links__next" href="/Extensions/PlatformVersioning.html">平台版本控制</a>
                    </div>
                    <a href="https://github.com/JetBrains/resharper-devguide/edit/master/Extensions/InternalMode.md" class="page-link-to-github" rel="noopener noreferrer" title="在GitHub上编辑此页面" data-bypass="true" target="_blank">
                        <i class="github-icon"></i> <span class="text">编辑页面</span>
                    </a>

                    <h1>内部模式</h1>
                    <p>ReSharper支持“内部模式”，它启用了许多通常对最终用户隐藏的额外功能。这些是开发团队使用的诊断和测试功能，大多数用户将永远不需要使用，但是，它们对于扩展作者非常有用。</p>

<p>另一个有用的功能是内部模式还可以启用异常报告。在生产版本中，异常被静默记录，并且不报告给最终用户。已检查的内部版本（例如EAP内部版本）默认情况下启用了异常报告，并且在<a href="http://msdn.microsoft.com/en-us/library/system.exception.data(v=vs.110).aspx" rel="noopener noreferrer" data-external="true" target="_blank"><span>异常的<code class="code highlight language-text">Data</code>字典</span></a> 。开发扩展程序时，强烈建议您使用<a href="Tools.html"><span>经过检查的版本</span></a> 。</p>

<a name="enabling-internal-mode" class="elem-anchor"></a>
<h2>启用内部模式<a href="#enabling-internal-mode" class="anchor-link"><span></span></a></h2>

<p>可以使用“内部”命令行开关启用内部模式。当与dotPeek等独立工具一起使用时，这意味着使用<code class="code highlight language-text">/Internal</code>在命令行中。由于ReSharper是托管应用程序，因此命令行开关需要前缀以防止与其他Visual Studio命令行开关发生冲突- <code class="code highlight language-text">/ReSharper.Internal</code> 。例如，要在启用内部模式的情况下启动dotPeek：</p>

<div class="code-block" data-lang="text"><code class="code-block__wrapper">dotPeek.exe /Internal</code></div>

<p>对于ReSharper：</p>

<div class="code-block" data-lang="text"><code class="code-block__wrapper">devenv.exe /ReSharper.Internal</code></div>

<p>请注意，这些值可以添加到桌面上的快捷方式的命令行中，也可以固定在任务栏上-右键单击文件，显示属性，然后在“快捷方式”选项卡中编辑命令行。固定到任务栏后，右键单击图标，然后右键单击应用程序的名称，然后选择“属性”，例如“Visual Studio 2013”</p>

<a name="available-features" class="elem-anchor"></a>
<h2>可用功能<a href="#available-features" class="anchor-link"><span></span></a></h2>

<p>启用后，ReSharper将“内部”菜单添加到主“ ReSharper”菜单中。该菜单提供许多项目，其中一些仅对开发团队有用。其他项目对扩展作者更有用。一些重点：</p>

<ul>
  <li><strong>PSI浏览器</strong>显示一个窗口，该窗口以树视图显示当前文件的PSI抽象语法树。对于将文件的结构视为AST非常有用。</li>
  <li><strong>PSI Viewer</strong>与PSI浏览器相似，但是可以基于文本框中的任意文本创建PSI树。这对于查看特定代码构造将创建的树非常有用。</li>
  <li><strong>PSI模块浏览器</strong>是当前加载的解决方案中所有<strong>PSI模块</strong>的树形视图。模块是任何可以引用的东西的容器，通常是源文件或引用的程序集。每个项目都是一个模块，每个引用的程序集都是一个模块。模块浏览器列出所有模块，并显示谁在引用它们。它还显示了ReSharper设置的内部模块，以添加项目中隐式的引用（例如，包含默认全局JavaScript对象的定义的模块）。</li>
  <li><strong>后面</strong>的代码显示当前文件的任何辅助PSI树的<strong>“后面</strong>的代码”视图。例如，HTML文件维护着一个隐藏的，生成的辅助文件，以表示文件中的所有JavaScript部分。ReSharper可以在主文件和辅助文件之间映射，从而支持另一种语言中一种语言的“孤岛”。辅助文件可以为主要文件中的孤岛提供更多上下文，以帮助代码完成，导航等。</li>
  <li><strong>设置存储视图</strong>允许检查设置的值，当前安装了哪些设置文件，并且可以查看设置架构。</li>
  <li><strong>显示主题图标</strong>提供了一个工具窗口，用于浏览和搜索在<a href="/help/resharper/sdk/Platform/Shell/Theming/Icons.html"><span><code class="code highlight language-text">ThemeIconManager</code></span></a> ，这对于查找扩展中使用的图标很有用。</li>
  <li><strong>在yEd中显示Change Manager Graph</strong>将创建一个图形文件，以在<a href="http://www.yworks.com/en/products/yfiles/yed/" rel="noopener noreferrer" data-external="true" target="_blank"><span>yEd绘图应用程序中</span></a>打开，显示更改提供者及其注册方式。</li>
</ul>

<p>其他项目可用，这些只是扩展开发人员更感兴趣的项目。</p>

<a name="options" class="elem-anchor"></a>
<h2>选件<a href="#options" class="anchor-link"><span></span></a></h2>

<p>除了添加新菜单项外，启用内部模式还将在“选项”对话框中添加新选项。同样，有些项目仅对开发团队感兴趣，而有些对扩展开发人员很有用。例如：</p>

<ul>
  <li><strong>工具→单元测试</strong>有两个新选项， <strong>启用调试</strong>和<strong>启用日志记录</strong> 。“启用调试”选项将使外部测试运行程序进程在运行任何测试之前显示一个消息框，从而使开发人员有时间附加调试器。</li>
  <li><strong>内部</strong>页面提供了许多有趣的选项，其中大多数仅对开发团队有意义（“启用区域”复选框属于此类别-它分析源代码以确保<a href="/help/resharper/sdk/Platform/Zones.html"><span>区域</span></a>正确使用，但是不分析引用的代码） ，因此对扩展程序开发人员没有用。将来会通过单独的扩展程序添加此功能。</li>
  <li>“ <strong>日志记录”</strong>页面允许创建和编辑日志记录配置文件。生成的配置文件提供有关该文件如何工作的注释。</li>
</ul>


                    <div class="navigation-links _bottom" data-swiftype-index="false">
                        <a class="navigation-links__prev" href="/Extensions/Tools.html">所需工具</a> <a class="navigation-links__next" href="/Extensions/PlatformVersioning.html">平台版本控制</a>
                    </div>
                    <div class="last-modified">上次修改时间：2017年7月10日</div>
                </article>

                <section class="disqus">
                    <div id="disqus_thread"></div>
                </section>
            </div>
        </section>
    </main>
</div>

<script src="/help/resharper/sdk/app/app.js" data-baseurl="/help/resharper/sdk/"></script>




</body></html>