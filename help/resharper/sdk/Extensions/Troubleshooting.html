<html lang="en-US" ><head>
    <meta charset="UTF-8">
    <title>对插件安装/ ReSharper DevGuide进行故障排除</title>
    <link rel="stylesheet" href="/help/resharper/sdk/app/app.css">
    <link rel="shortcut icon" href="/help/resharper/sdk/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon" href="/help/resharper/sdk/apple-touch-icon-57x57.png" sizes="57x57">
    <link rel="apple-touch-icon" href="/help/resharper/sdk/apple-touch-icon-60x60.png" sizes="60x60">
    <link rel="apple-touch-icon" href="/help/resharper/sdk/apple-touch-icon-72x72.png" sizes="72x72">
    <link rel="apple-touch-icon" href="/help/resharper/sdk/apple-touch-icon-114x114.png" sizes="114x114">
    <link rel="apple-touch-icon" href="/help/resharper/sdk/apple-touch-icon-120x120.png" sizes="120x120">
    <link rel="apple-touch-icon" href="/help/resharper/sdk/apple-touch-icon-144x144.png" sizes="144x144">
    <link rel="apple-touch-icon" href="/help/resharper/sdk/apple-touch-icon-152x152.png" sizes="152x152">
    <link rel="apple-touch-icon" href="/help/resharper/sdk/apple-touch-icon-180x180.png" sizes="180x180">
    <link rel="mask-icon" href="/help/resharper/sdk/apple-mask-icon.svg" color="black">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-square70x70logo" content="/help/resharper/sdk/mstile-70x70.png">
    <meta name="msapplication-TileImage" content="/help/resharper/sdk/mstile-144x144.png">
    <meta name="msapplication-square150x150logo" content="/help/resharper/sdk/mstile-150x150.png">
    <meta name="msapplication-wide310x150logo" content="/help/resharper/sdk/mstile-310x150.png">
    <meta name="msapplication-square310x310logo" content="/help/resharper/sdk/mstile-310x310.png">
    <meta name="theme-color" content="#000000">
    <meta name="description" content="Documentation for writing extensions for ReSharper">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.jetbrains.com/help/resharper/sdk//Extensions/Troubleshooting.html">
    <meta property="og:site_name" content="JetBrains ReSharper">
    <meta property="og:title" content="Troubleshooting a Plugin Install">
    <meta property="og:description" content="Documentation for writing extensions for ReSharper">
    <meta property="og:image" content="https://www.jetbrains.com/help/resharper/sdk/jetbrains.png">
    <meta property="article:modified_time" content="2017-07-10T19:28:42+00:00">
    <!-- <meta property="article:section" content="" /> 
    <meta property="article:tag" content="" /> -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@JBPlatform">
    <meta name="twitter:title" content="Troubleshooting a Plugin Install">
    <meta name="twitter:description" content="Documentation for writing extensions for ReSharper">
    <meta name="twitter:image" content="https://www.jetbrains.com/help/resharper/sdk/jetbrains.png">
    <meta class="swiftype" name="product" data-type="string" content="/help/resharper/sdk/">
<link rel="stylesheet" href="/help/resharper/sdk/app/styles.css"></head>
<body  data-id="Extensions/Troubleshooting">
<div class="wrapper">
    <section class="panel _nav">
        <header class="panel__header">
            <div class="container">
                <form class="search-box">
                    <label class="search-box__label" for="search-box__input">
                        <input type="text" class="search-box__input" id="search-box__input" placeholder="搜索ReSharper DevGuide">
                    </label>
                    <div class="search-box__clear" title="明确"></div>
                </form>
            </div>
        </header>
        <nav class="panel__content">
            <div class="container _nav">
                <menu class="nav-tree"></menu>
            </div>
            <div class="container _footer panel__footer">
                <p><a href="//youtrack.jetbrains.com/issues/IJSDK" data-bypass="true">发送反馈</a></p>
                <p>©2000–2018 <a href="//www.jetbrains.com">JetBrains</a> sro<br>版权所有。</p>
            </div>
        </nav>
    </section>

    <main class="panel _main" role="main">
        <header class="panel__header">
            <div class="container">
                <h3>ReSharper开发指南</h3>
                
                <div class="panel-trigger"></div>
            </div>
        </header>
        <section class="panel__content">
            <div class="container">
                <article class="article" data-shortcut-switcher="false">
                    <div class="navigation-links _top" data-swiftype-index="false">
                        <a class="navigation-links__prev" href="/Extensions/Packaging.html">包装和分销</a> <a class="navigation-links__next" href="/Architecture/Overview.html">架构概述</a>
                    </div>
                    <a href="https://github.com/JetBrains/resharper-devguide/edit/master/Extensions/Troubleshooting.md" class="page-link-to-github" rel="noopener noreferrer" title="在GitHub上编辑此页面" data-bypass="true" target="_blank">
                        <i class="github-icon"></i> <span class="text">编辑页面</span>
                    </a>

                    <h1>对插件安装进行故障排除</h1>
                    <p>如果扩展未加载，或者您无法调试插件，则需要检查以下几件事：</p>

<ol>
  <li>确保<a href="/help/resharper/sdk/Extensions/Packaging.html"><span>软件包格式正确</span></a> 。
    <ol>
      <li>确保软件包名称中带有“。”，否则将无法正确安装。</li>
      <li>确保程序包<a href="#wave-dependency"><span>包括对“ Wave”的依赖</span></a> 。</li>
      <li>不包括对编译时NuGet包的依赖，例如<code class="code highlight language-text">JetBrains.ReSharper.SDK</code> 。ReSharper扩展包和NuGet库参考包不相同，并且不能互换使用-一个在运行时使用，另一个在编译时使用。</li>
    </ol>
  </li>
  <li>检查<a href="#installer-logs"><span>安装程序日志，</span></a>以确保正确安装了软件包。该扩展程序可能已安装，并在扩展程序管理器中列为已安装状态，但是如果文件复制到错误的位置，则说明该扩展程序未正确安装。最简单的方法是搜索扩展程序包或程序集名称。</li>
  <li>确保插件在项目的根名称空间中定义了<a href="/help/resharper/sdk/Platform/Zones/HowTo.html"><span>区域标记</span></a> （例如，如果项目在<code class="code highlight language-text">Foo.Bar</code>和<code class="code highlight language-text">Foo.Bar.Quux</code>名称空间中，区域标记应位于<code class="code highlight language-text">Foo.Bar.ZoneMarker</code>类）。</li>
  <li>通过<a href="/help/resharper/sdk/Extensions/InternalMode.html"><span>内部模式下</span></a>可用的“日志记录选项”对话框页面启用<a href="/help/resharper/sdk/Platform/Logging.html"><span>日志</span></a>记录，并检查日志中是否有错误，尤其是与区域相关的错误。</li>
  <li>在<a href="/help/resharper/sdk/Extensions/InternalMode.html"><span>Internal Mode中</span></a>运行，并查找报告的异常（不在内部模式时抑制异常）。更好的是，使用<a href="/help/resharper/sdk/Extensions/Tools.html"><span>选中的构建</span></a> 。</li>
  <li>确保调试器已加载扩展（在Debug»Windows»Modules工具窗口中查找插件程序集的名称）。如果尚未加载，请检查<a href="#installer-logs"><span>安装程序日志</span></a> 。</li>
  <li>确保调试器已加载扩展的符号（再次在Debug»Windows»Modules工具窗口中查找插件的名称，此行将包含符号的详细信息）。如果未加载符号，则将无法设置插件的断点。
    <ol>
      <li>复制<code class="code highlight language-text">.pdb</code>插件文件到安装文件夹（ <code class="code highlight language-text">%LOCALAPPDATA%\JetBrains\Installations\{HostFullIdentifier}</code> ）。</li>
      <li>将符号位置添加到Visual Studio中的“工具”»“选项”»“调试”»“符号”页面。</li>
    </ol>
  </li>
</ol>

<aside class="note">
  <p>的<code class="code highlight language-text">{HostFullIdentifier}</code>是当前主机的安装文件夹的名称，例如<code class="code highlight language-text">ReSharperPlatformVs12</code>适用于Visual Studio 2013。可以在“ <a href="Deployment/InstallProcess/HostIdentifiers.html"><span>主机标识符”</span></a>部分中找到更多详细信息。</p>
</aside>

<a name="wave-dependency" class="elem-anchor"></a>
<h2>波依赖性<a href="#wave-dependency" class="anchor-link"><span></span></a></h2>

<p>扩展程序包需要包括对称为“ Wave”的程序包的依赖性。这表明扩展软件包可以安装在ReSharper Platform的那个版本中（运送构成该平台的产品集合被非正式地称为“浪潮”）。“ Wave”软件包是“虚拟”软件包。它不存在，无法通过nuget.org添加到编译时项目中。而是由扩展管理器动态创建的，并且只能安装依赖于软件包正确版本的软件包扩展。此外，如果软件包不依赖于正确版本的“ Wave”，则它不会显示在可用软件包列表中。</p>

<p>依赖项应设置为<code class="code highlight language-text">[2.0]</code>适用于ReSharper 9.1，以及<code class="code highlight language-text">[1.0]</code>适用于ReSharper 9.0。不应将其设置为范围（因为插件在wave版本之间不兼容）。依赖项的名称区分大小写，应设置为“ Wave”。一个简单的陷阱是扩展管理器<em>不区分大小写</em> ，并且将显示依赖于“ wave”甚至“ WAVE”的扩展包。看起来好像已经安装了扩展软件包，但安装程序实际上拒绝了该软件包。这反映在<a href="#installer-logs"><span>日志中</span></a> 。</p>

<a name="installer-logs" class="elem-anchor"></a>
<h2>安装程序日志<a href="#installer-logs" class="anchor-link"><span></span></a></h2>

<p>安装程序在运行时会创建日志。这些可以在<code class="code highlight language-text">%LOCALAPPDATA%\JetBrains\Shared\v02\InstallerLogXXX</code> ，其中<code class="code highlight language-text">XXX</code>是允许多个日志的数字（路径中的版本号是wave的版本号，当前<code class="code highlight language-text">02</code>对于ReSharper 9.1版本， <code class="code highlight language-text">v01</code>适用于ReSharper 9.0）。</p>


                    <div class="navigation-links _bottom" data-swiftype-index="false">
                        <a class="navigation-links__prev" href="/Extensions/Packaging.html">包装和分销</a> <a class="navigation-links__next" href="/Architecture/Overview.html">架构概述</a>
                    </div>
                    <div class="last-modified">上次修改时间：2017年7月10日</div>
                </article>

                <section class="disqus">
                    <div id="disqus_thread"></div>
                </section>
            </div>
        </section>
    </main>
</div>

<script src="/help/resharper/sdk/app/app.js" data-baseurl="/help/resharper/sdk/"></script>




</body></html>