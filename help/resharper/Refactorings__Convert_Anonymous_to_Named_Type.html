<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>Convert Anonymous to Named Type refactoring - Help | ReSharper</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body data-id="Refactorings__Convert_Anonymous_to_Named_Type" data-article-props="&#xA;                {&#xA;                &#xA;            &#34;seeAlso&#34;:[&#xA;            &#xA;                {&#34;title&#34;: &#34;Procedures&#34;,&#xA;                 &#34;links&#34;: [&#xA;                &#xA;        {&#34;url&#34;:&#34;Refactorings__Index.html&#34;,&#34;text&#34;:&#34;Refactorings&#34;}&#xA;    ,&#xA;        {&#34;url&#34;:&#34;Refactorings__Convert_Property_to_Auto-Property.html&#34;,&#34;text&#34;:&#34;Convert Property to Auto-Property refactoring&#34;}&#xA;    &#xA;                    ]}&#xA;            ]&#xA;        &#xA;                }&#xA;            " data-disqus-id="Refactorings__Convert_Anonymous_to_Named_Type_10"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search ReSharper Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>ReSharper 2019.2 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="secondary" value="rs">ReSharper 2.x/IntelliJ IDEA</option><option data-group="primary" value="vs">Visual Studio</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 data-toc="Refactorings__Convert_Anonymous_to_Named_Type" id="Refactorings__Convert_Anonymous_to_Named_Type.xml">Convert Anonymous to Named Type refactoring</h1>            <a name="%actionId%"></a>    <p id="f57edb99">      <span data-skip-index="skip" class="menupath">ReSharper | Refactor | Convert | Anonymous to Named Type…</span>      <br>      <code class="code">ReSharper_Anonymous2Declared</code>    </p>      <p id="ff914fd4">        Anonymous types are very convenient when you need to process a result of a query locally.        However, if you need to pass the result around your program        or if there are several queries that return the similar name/value parts, you may probably need a named type.    </p>    <p id="36f3f0fa">        In such cases, ReSharper can convert the existing usage (or usages) of an anonymous type into a named type        and update the usages.        If necessary, ReSharper will find and convert similar anonymous types in the whole solution.        In the dialog that this refactoring provides, you can customize the created type — specify whether it        should have auto-properties or properties with backing fields,        or generate equality and formatting method overrides.    </p>    <aside data-type="tip" class="prompt" data-title="" rel="36f3f0fa" id="f3f79e24">        <p id="9c8d8399">            The new named class can be created either as a nested class in the current type or as top-level class            in the current file.            If necessary, you can then use            <a href="Refactorings__Move__Type_to_Outer_Scope.html">Move Type to Outer Scope refactoring</a> and            <a href="Refactorings__Move__Type_to_Another_File.html">Move Type to Another File refactoring</a> to place the new class wherever you need.        </p>    </aside>    <p id="86c558e5">        In the example below, two similar anonymous types are converted into the        <code class="code">BookLIst</code> class, though we only invoke the refactoring on one of them.        All usages of the types found within the specified scope are modified accordingly:    </p>    <div class="table-wrapper"><table class="  _layout-fixed" width="100%" id="17a35ef9"><thead><tr id="5f528372" class="ijRowHead"><th id="16e59cce"><p>Before refactoring</p></th><th id="df2e3f99"><p>After refactoring</p></th></tr></thead><tbody><tr id="7a478e0f" class="ijRowOdd"><td id="b9532fc8">                <div class="code-block" data-lang="csharp">
class MyTest
{
  void Test(List&lt;Book&gt; books)
  {
    var bookList =
      from book in books
      select new
        {book.Author, book.Title};
  }
}

class MyNewTest
{
  void Foo(List&lt;Book&gt; library)
  {
    var bookCatalog =
      from item in library
      select new
        {item.Author, item.Title};
  }
}
                </div>            </td><td id="e8d0d837">                <div class="code-block" data-lang="csharp">
public class BookList
{
  public string Author { get; set; }
  public string Title { get; set; }
}

class MyTest
{
  private void Test(List&lt;Book&gt; books)
  {
    var bookList =
      from book in books
      select new BookList
        {Author = book.Author,
          Title = book.Title};
  }
}

class MyNewTest
{
  private void Foo(List&lt;Book&gt; library)
  {
    var bookCatalog =
      from item in library
      select new BookList
        {Author = item.Author,
          Title = item.Title};
  }
}
                </div>            </td></tr></tbody></table></div>    <p id="06a40834">        Note that this refactoring cannot be applied if the anonymous type initializer has another anonymous        initializers inside. For example:        <div class="code-block" data-lang="csharp">
var bookList = from book in books
  select new {book.Author, title = new {book.Title}};
        </div>        Here you can apply this refactoring to        <code class="code">new {book.Title}</code>        but not to        <code class="code">new {book.Author, title = new {book.Title}}</code>.    </p>    <section class="procedure-steps"><h3 id="80a5b050">To convert anonymous type(s) to a named type</h3><ol class="list _decimal"><li class="list__item" id="f781601b"><p>            Place the caret at either anonymous type initializer or at the            <code class="code">new</code>            keyword.        </p></li><li class="list__item" id="a554c640">            <p id="2e7ae83e">                Do one of the following:            </p>            <ul class="list _ul"><li class="list__item" id="c3954c2e"><p>                    Press                    <kbd data-rs="Ctrl+Shift+R" data-vs="Ctrl+Shift+R">Ctrl+Shift+R</kbd>                    and then choose                    <span class="control">Replace Anonymous Type with Named Class</span>                </p></li><li class="list__item" id="ebf0c0cf"><p>                    Right-click and choose                    <span class="control">Refactor | Replace Anonymous Type with Named Class</span>                    in the context menu.                </p></li><li class="list__item" id="6ecb01e0"><p>                    Choose                    <a name="%actionId%"></a>    <span data-skip-index="skip" class="menupath">ReSharper | Refactor | Convert | Anonymous to Named Type…</span>                      in the main menu.                </p></li></ul>            <p id="b5f1d3d4">                                    The                    <span class="control">Replace Anonymous Type with Named Class</span>                    dialog will open.                            </p>        </li><li class="list__item" id="fe05f4a1">            <p id="6d07bb2e">                Specify a name for a new class, and configure the following options:            </p>            <ul class="list _ul"><li class="list__item" id="7772b744"><p>                    <span class="control">Scope</span>: ReSharper can find anonymous types with compatible object initializers                    (similar name/value parts) in the whole solution, or you can apply the refactoring to the current                    method only.                </p></li><li class="list__item" id="299956aa"><p>                    <span class="control">Location</span>:                    the new named type can be created as a nested class in the current type, or created aa an                    independent class in the current namespace.                </p></li><li class="list__item" id="cc5b9d75"><p>                    <span class="control">How to generate properties</span>: ReSharper can generate either read and write                    auto-properties, or read-only properties with backing fields in the new class.                </p></li><li class="list__item" id="44eb0efa"><p>                    <span class="control">How to generate methods</span>: as an option, you can choose to create stubs for                    <code class="code">Equals()</code>,                    <code class="code">GetHashCode()</code>, and                    <code class="code">ToString()</code>                    method overrides in the new class.                </p></li><li class="list__item" id="2aeb3e40"><p>                    <span class="control">Show processed usages in 'Find Results'</span>: if this checkbox is selected,                    ReSharper shows all anonymous types that it finds and converts in the                    <a href="Reference__Windows__Find_Results_Window.html">Find Results window</a>.                    You may want to tick this checkbox if you are converting similar anonymous types in the                    whole solution.                </p></li></ul>        </li><li class="list__item" id="a5195122"><p>            To apply the refactoring, click            <span class="control">Next</span>.        </p></li><li class="list__item" id="c0e51e81">            <p id="aa4b9a41">                If no conflicts are found, ReSharper performs the refactoring immediately.                Otherwise, it prompts you to                <a href="Refactorings__Resolving_Conflicts_in_Refactorings.html">resolve conflicts</a>.            </p>                    </li></ol></section>    <figure><img alt="Replace Anonymous Type with Named Class" title="Replace Anonymous Type with Named Class" src="/help/img/dotnet/2019.2/Convert_Anonymous_to_Named_Type__dialog_box.png" id="db269fe8" width="641" height="378"></figure>    <p id="29045394">        If you have selected        <span class="control">Show processed usages in 'Find Results'</span>,        the new class and modified usages are shown in the        <a href="Reference__Windows__Find_Results_Window.html">Find Results window</a>:    </p>    <figure><img alt="Results of converting anonymous types into a named class" title="Results of converting anonymous types into a named class" src="/help/img/dotnet/2019.2/Convert_Anonymous_to_Named_Type__Find_Results.png" id="baf10165" width="593" height="292"></figure>    <a name="supported_in_csharp"></a>            <p id="17e3482c">                This feature is                <a href="Introduction__Feature_Map.html">supported</a>                in the following languages and technologies:            </p>            <div class="table-wrapper"><table class=" wide" width="100%" id="3963ac19"><thead><tr id="869f65bc" class="ijRowHead"><th id="32611f20">                                <a href="ReSharper_by_Language__CSharp.html"><img alt="Language: C#" title="Language: C#" src="/help/img/dotnet/2019.2/ThemedIcon.Csharp.Print.[Gray].png" id="8d4f7611" width="25" height="25" class="inline-icon-25"></a>                            </th><th id="f26875a3">                                <a href="ReSharper_by_Language__Visual_Basic.html"><img alt="Language: VB.NET" title="Language: VB.NET" src="/help/img/dotnet/2019.2/ThemedIcon.Vbasic.Print.[Gray].png" id="d0d72a85" width="25" height="25" class="inline-icon-25"></a>                            </th><th id="4792cf5c">                                <a href="ReSharper_by_Language_CPP.html"><img alt="Language: C++" title="Language: C++" src="/help/img/dotnet/2019.2/ThemedIcon.CppSource.Print.[SymbolsVs11Gray].png" id="cd694988" width="25" height="25" class="inline-icon-25"></a>                            </th><th id="a4c17705">                                <a href="ReSharper_by_Language__HTML.html"><img alt="Language: HTML" title="Language: HTML" src="/help/img/dotnet/2019.2/ThemedIcon.Html.Print.[Gray].png" id="690309d7" width="25" height="25" class="inline-icon-25"></a>                            </th><th id="46bdf154">                                <a href="Web_Development__Index.html"><img alt="Language: ASP.NET" title="Language: ASP.NET" src="/help/img/dotnet/2019.2/ThemedIcon.AspNet.Print.[Gray].png" id="1790095a" width="25" height="25" class="inline-icon-25"></a>                            </th><th id="e9044365">                                <a href="Web_Development__ASP.NET_MVC.html"><img alt="Language: Razor" title="Language: Razor" src="/help/img/dotnet/2019.2/ThemedIcon.Razor.Print.[Gray].png" id="dbfc6424" width="25" height="25" class="inline-icon-25"></a>                            </th><th id="ed717d99">                                <a href="ReSharper_by_Language__JavaScript.html"><img alt="Language: JavaScript" title="Language: JavaScript" src="/help/img/dotnet/2019.2/ThemedIcon.Js.Print.[Gray].png" id="82e2f526" width="25" height="25" class="inline-icon-25"></a>                            </th><th id="4b6b7ed9">                                <a href="ReSharper_by_Language__TypeScript.html"><img alt="Language: TypeScript" title="Language: TypeScript" src="/help/img/dotnet/2019.2/ThemedIcon.TsOptionPage.Print.[Gray].png" id="1b564878" width="25" height="25" class="inline-icon-25"></a>                            </th><th id="63210870">                                <a href="ReSharper_by_Language__CSS.html"><img alt="Language: CSS" title="Language: CSS" src="/help/img/dotnet/2019.2/ThemedIcon.Css.Print.[Gray].png" id="f74b1f0d" width="25" height="25" class="inline-icon-25"></a>                            </th><th id="1092d860">                                <a href="ReSharper_by_Language__XML.html"><img alt="Language: XML" title="Language: XML" src="/help/img/dotnet/2019.2/ThemedIcon.XmlFile.Print.[Gray].png" id="35bd7192" width="25" height="25" class="inline-icon-25"></a>                            </th><th id="74d24fd3">                                <a href="Languages_XAML.html"><img alt="Language: XAML" title="Language: XAML" src="/help/img/dotnet/2019.2/ThemedIcon.Xaml.Print.[Gray].png" id="5a103aa2" width="25" height="25" class="inline-icon-25"></a>                            </th><th id="ca7e6d9d">                                <a href="Resources__Index.html"><img alt="Language: Resx" title="Language: Resx" src="/help/img/dotnet/2019.2/ThemedIcon.Localization.Print.[Gray].png" id="82eaab25" width="25" height="25" class="inline-icon-25"></a>                            </th><th id="472f6ebe">                                <a href="ReSharper_by_Language__MSBuild.html"><img alt="Language: Build Scripts" title="Language: Build Scripts" src="/help/img/dotnet/2019.2/ThemedIcon.BuildScripts.Print.[Gray].png" id="f8b561ae" width="25" height="25" class="inline-icon-25"></a>                            </th><th id="f028693e">                                <a href="ReSharper_by_Language_Protobuf.html"><img alt="Language: Protobuf" title="Language: Protobuf" src="/help/img/dotnet/2019.2/ThemedIcon.ProtobufOptionPage.Print.[Gray].png" id="692405cf" width="25" height="25" class="inline-icon-25"></a>                            </th><th id="7a9002cf">                                <a href="ReSharper_by_Language_JSON.html"><img alt="Language: JSON" title="Language: JSON" src="/help/img/dotnet/2019.2/ThemedIcon.Json.Print.[Gray].png" id="c17f4c80" width="25" height="25" class="inline-icon-25"></a>                            </th></tr></thead><tbody><tr id="552b9b98" class="ijRowOdd"><td id="895dfbf3">            <img alt="Feature is available" title="Feature is available" src="/help/img/dotnet/2019.2/check.svg" id="3177b83d" width="17" height="12" class="inline-icon-17">                    </td><td id="b2737c47">                        <img alt="Feature is not available" title="Feature is not available" src="/help/img/dotnet/2019.2/cross.svg" id="8c12c254" width="12" height="12" class="inline-icon-12">        </td><td id="48c36f64">                        <img alt="Feature is not available" title="Feature is not available" src="/help/img/dotnet/2019.2/cross.svg" id="5c3b2947" width="12" height="12" class="inline-icon-12">        </td><td id="9e5abf3c">                        <img alt="Feature is not available" title="Feature is not available" src="/help/img/dotnet/2019.2/cross.svg" id="27f9f4eb" width="12" height="12" class="inline-icon-12">        </td><td id="5255a00e">                        <img alt="Feature is not available" title="Feature is not available" src="/help/img/dotnet/2019.2/cross.svg" id="085eb797" width="12" height="12" class="inline-icon-12">        </td><td id="8d152881">                        <img alt="Feature is not available" title="Feature is not available" src="/help/img/dotnet/2019.2/cross.svg" id="3b071700" width="12" height="12" class="inline-icon-12">        </td><td id="55782645">                        <img alt="Feature is not available" title="Feature is not available" src="/help/img/dotnet/2019.2/cross.svg" id="63e255ff" width="12" height="12" class="inline-icon-12">        </td><td id="80fb3b0e">                        <img alt="Feature is not available" title="Feature is not available" src="/help/img/dotnet/2019.2/cross.svg" id="d734e0c1" width="12" height="12" class="inline-icon-12">        </td><td id="3d2c42fc">                        <img alt="Feature is not available" title="Feature is not available" src="/help/img/dotnet/2019.2/cross.svg" id="4611b63b" width="12" height="12" class="inline-icon-12">        </td><td id="eaf184e4">                        <img alt="Feature is not available" title="Feature is not available" src="/help/img/dotnet/2019.2/cross.svg" id="1df3cb7a" width="12" height="12" class="inline-icon-12">        </td><td id="7de7d6a5">                        <img alt="Feature is not available" title="Feature is not available" src="/help/img/dotnet/2019.2/cross.svg" id="fd8ea46e" width="12" height="12" class="inline-icon-12">        </td><td id="7f7f7b43">                        <img alt="Feature is not available" title="Feature is not available" src="/help/img/dotnet/2019.2/cross.svg" id="219ae2bb" width="12" height="12" class="inline-icon-12">        </td><td id="60e63fe6">                        <img alt="Feature is not available" title="Feature is not available" src="/help/img/dotnet/2019.2/cross.svg" id="28d8dd2e" width="12" height="12" class="inline-icon-12">        </td><td id="9e460935">                        <img alt="Feature is not available" title="Feature is not available" src="/help/img/dotnet/2019.2/cross.svg" id="4abdf584" width="12" height="12" class="inline-icon-12">        </td><td id="ca6eaebf">                        <img alt="Feature is not available" title="Feature is not available" src="/help/img/dotnet/2019.2/cross.svg" id="afb99ed7" width="12" height="12" class="inline-icon-12">        </td></tr></tbody></table></div>            <div class="last-modified" data-skip-index="skip">Last modified: 18 November 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="Refactorings__Convert_Abstract_Class_to_Interface.html">Convert Abstract Class to Interface</a><a class="navigation-links__next" href="Refactorings__Convert_Extension_Method_to_Plain_Static.html">Convert Extension Method to Plain Static</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>