<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>Analyzing and Optimizing Project References - Help | ReSharper</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body data-id="Navigation_and_Search__Finding_Usages__Optimizing_References" data-article-props="&#xA;                {&#xA;                &#xA;            &#34;seeAlso&#34;:[&#xA;            &#xA;                {&#34;title&#34;: &#34;Concepts&#34;,&#xA;                 &#34;links&#34;: [&#xA;                &#xA;        {&#34;url&#34;:&#34;Architecture__Project_Dependencies_Exploration.html&#34;,&#34;text&#34;:&#34;Exploring Project Dependency Diagram&#34;}&#xA;    &#xA;                    ]},&#xA;                {&#34;title&#34;: &#34;Procedures&#34;,&#xA;                 &#34;links&#34;: [&#xA;                &#xA;        {&#34;url&#34;:&#34;Finding_Code_Dependent_on_Modules.html&#34;,&#34;text&#34;:&#34;Finding Code Dependent on Referenced Modules&#34;}&#xA;    ,&#xA;        {&#34;url&#34;:&#34;Refactorings__Remove_Unused_References.html&#34;,&#34;text&#34;:&#34;Remove Unused References&#34;}&#xA;    ,&#xA;        {&#34;url&#34;:&#34;Refactorings__Safe_Delete.html&#34;,&#34;text&#34;:&#34;Safe Delete refactoring&#34;}&#xA;    &#xA;                    ]},&#xA;                {&#34;title&#34;: &#34;Reference&#34;,&#xA;                 &#34;links&#34;: [&#xA;                &#xA;        {&#34;url&#34;:&#34;Reference__Windows__Analyze_References.html&#34;,&#34;text&#34;:&#34;Analyze References window&#34;}&#xA;    &#xA;                    ]}&#xA;            ]&#xA;        &#xA;                }&#xA;            " data-disqus-id="Navigation_and_Search__Finding_Usages__Optimizing_References_10"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search ReSharper Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>ReSharper 2019.2 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="secondary" value="rs">ReSharper 2.x/IntelliJ IDEA</option><option data-group="primary" value="vs">Visual Studio</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 data-toc="Navigation_and_Search__Finding_Usages__Optimizing_References" id="Navigation_and_Search__Finding_Usages__Optimizing_References.xml">Analyzing and Optimizing Project References</h1>        <a name="%actionId%"></a>    <p id="28952eac">      <span data-skip-index="skip" class="menupath">ReSharper | Find | Optimize References…</span>      <br>      <kbd data-rs="Ctrl+Alt+Y" data-vs="Ctrl+Alt+Y">Ctrl+Alt+Y</kbd>      <br>      <code class="code">ReSharper_OptimizeReferences</code>    </p>      <p id="b0fc0584">        This feature helps manage your existing project/assembly references,        browse usages of the referenced projects/assemblies, and remove unused references.        You can invoke this feature on any single project and use the        <a href="Reference__Windows__Analyze_References.html">Analyze References window</a> to analyze and optimize project references.    </p>    <aside data-type="tip" class="prompt" data-title="" rel="b0fc0584" id="9a0b9a3f">        <p id="0e09b4cc">            This feature does not require your project to be compiled,            which means you can invoke it even if your project is currently broken.        </p>    </aside>    <div class="chapter"><h2 id="analyze" data-toc="Navigation_and_Search__Finding_Usages__Optimizing_References#analyze">Analyzing project references</h2>        <p id="5b3a8809">            The            <span class="control">Analyze References</span>            tool window displays project/assembly references in the current project,            and let you explore how exactly the references are used.            To explore usages of a specific assembly, namespace or type, you can filter them by kind and group them.        </p>        <p id="b8fe2b78">            The            <a href="Reference__Symbol_Icons.html">symbol icons</a>            could help you distinguish between different kinds of symbols.            Each usage is displayed with the line number and column;            different icons mean different kinds of usages like read, write, attribute, or invocation usage.            You can double-click any usage to navigate directly to the source code.        </p>        <section class="procedure-steps"><h3 id="a01cb550">To analyze project references</h3><ol class="list _decimal"><li class="list__item" id="8cd017db"><p>                In the Solution Explorer, select a project that you want to analyze or its                <span class="control">References</span>                node.            </p></li><li class="list__item" id="e2dae4f1">                <p id="16a99009">                    Do one of the following:                </p>                <ul class="list _ul"><li class="list__item" id="a3e777f3"><p>                        Choose                        <a name="%actionId%"></a>    <span data-skip-index="skip" class="menupath">ReSharper | Find | Optimize References…</span>                      </p></li><li class="list__item" id="2476f5bb"><p>                        Right-click the selection and choose                        <span class="control">Optimize References</span>                        in the context menu.                    </p></li><li class="list__item" id="48f0272c"><p>                        Press                        <kbd data-rs="Ctrl+Alt+Y" data-vs="Ctrl+Alt+Y">Ctrl+Alt+Y</kbd>.                    </p></li></ul>            </li><li class="list__item" id="19174df3"><p>                Use controls in the                <a href="Reference__Windows__Analyze_References.html">Analyze References window</a> to explore project references.                <figure><img alt="ReSharper: Analyzing and Optimizing Project References" title="ReSharper: Analyzing and Optimizing Project References" src="/help/img/dotnet/2019.2/ToolWindow_Analyze_References.png" id="26fcb528" width="601" height="509"></figure>            </p></li></ol></section>    </div>    <div class="chapter"><h2 id="remove_unused" data-toc="Navigation_and_Search__Finding_Usages__Optimizing_References#remove_unused">Removing unused references</h2>        <p id="9b2ca36d">            The easiest way to clean up project references is to click            <span class="control">Remove All Unused References</span>            <img alt="ThemedIcon RemoveAllUnusedReferences Screen Gray " title="ThemedIcon RemoveAllUnusedReferences Screen Gray " src="/help/img/dotnet/2019.2/ThemedIcon.RemoveAllUnusedReferences.Screen.[Gray].png" id="ba291005" width="16" height="16" class="inline-icon-16"> on the toolbar.            If you want ro retain some unused references or remove some of the used references            (and manually resolve the compilation errors that follow), you can make the corresponding selection and            click            <span class="control">Remove Selected References</span>            <img alt="ThemedIcon RemoveSelectedReference Screen Gray " title="ThemedIcon RemoveSelectedReference Screen Gray " src="/help/img/dotnet/2019.2/ThemedIcon.RemoveSelectedReference.Screen.[Gray].png" id="c3c3e948" width="16" height="16" class="inline-icon-16">.        </p>        <aside data-type="tip" class="prompt" data-title="" rel="9b2ca36d" id="tip_implicit">            <p id="ed583fc7">                If your project references implicitly loaded assemblies, you can                <a href="#implicit">                    exclude them from cleanup</a> before you start it            </p>        </aside>        <p id="usings">            When you remove project and assembly references, ReSharper also            deletes all redundant namespace import directives that reference namespaces from the removed assemblies.        </p>        <aside data-type="note" class="prompt" data-title="" rel="usings" id="no_undo">            <p id="4ec643cf">                The operation of removing project/assembly references cannot be undone.            </p>        </aside>        <p id="855e5117">            All Visual Studio projects must reference            <code class="code">mscorlib</code>            and, starting from Visual Studio 2010,            <code class="code">System.Core</code>            assemblies. These assemblies are marked with the pin            <img alt="ThemedIcon Pin Screen Gray " title="ThemedIcon Pin Screen Gray " src="/help/img/dotnet/2019.2/ThemedIcon.Pin.Screen.[Gray].png" id="1eeb22d6" width="16" height="16" class="inline-icon-16">            icon and you cannot remove these references.        </p>        <p id="cb30352f">            References that are needed for compilation, independently of whether they are used or not,            are displayed in the            <span class="control">References required by the compiler</span>            group.            References in this group are normally have 'related usages', that is, implicit (non-direct) usages.            In the simplest case, related usages are caused by a type’s hierarchy. That is, if you use a certain type,            you have to reference all assemblies containing that type’s supertypes.        </p>        <p id="daf0d0da">            NuGet packages are displayed with the corresponding icons            <img alt="ThemedIcon NuGet Screen Gray " title="ThemedIcon NuGet Screen Gray " src="/help/img/dotnet/2019.2/ThemedIcon.NuGet.Screen.[Gray].png" id="96b911dd" width="16" height="16" class="inline-icon-16">. When removing NuGet packages, ReSharper will use the            NuGet uninstall mechanism.        </p>        <a name="other_ways_to_clean_project_refs"></a>        <p id="e558b045">            There are two more ways of cleaning project and assembly references.        </p>        <ul class="list _ul"><li class="list__item" id="3706b825"><p>                You can invoke the                <a href="Refactorings__Remove_Unused_References.html">Remove Unused References</a> command on the project or on the                <span class="control">References</span> node in the Solution Explorer.            </p></li><li class="list__item" id="2314329d"><p>                You can expand the                <span class="control">References</span>                node in the Solution Explorer, select the references you want to remove and invoke the                <a href="Refactorings__Safe_Delete.html">Safe Delete refactoring</a>, which either silently removes unused references                or opens a dialog showing how and where the selected references are used.            </p></li></ul>        </div>    <div class="chapter"><h2 id="implicit" data-toc="Navigation_and_Search__Finding_Usages__Optimizing_References#implicit">Retaining references to implicitly loaded assemblies</h2>        <p id="c18c37a1">            Some project types use references implicitly, which means that these references are only used in runtime.            These references cannot be safely removed even though there are no code dependencies on them.        </p>        <p id="24fdfd9e">            If you still want to use ReSharper cleanup features            (<a href="#remove_unused">            Remove All Unused References</a> button in the            <a href="Reference__Windows__Analyze_References.html">Analyze References window</a> and            <a href="Refactorings__Remove_Unused_References.html">Remove Unused References</a> refactoring), you need to mark the            implicitly loaded assemblies as such.        </p>        <section class="procedure-steps"><h3 id="b3b79666">To mark implicitly loaded assemblies</h3><ol class="list _decimal"><li class="list__item" id="d24a4cc5"><p>                Open the                <a href="Reference__Windows__Analyze_References.html">Analyze References window</a>            </p></li><li class="list__item" id="4c8908ae"><p>                In the                <span class="control">Unused references</span> section,                find the implicitly used references you need to retain.            </p></li><li class="list__item" id="276ff3b5">                <p id="9fe0f05c">                    Right-click the references and choose one of the following options:                </p>                <ul class="list _ul"><li class="list__item" id="575edc81"><p>                        <span class="control">Mark reference as used at runtime</span>                        - to exclude the selected reference from cleanup in the current project                    </p></li><li class="list__item" id="bd1e1826"><p>                        <span class="control">Mark reference as used at runtime for whole solution</span>                        - to exclude the selected reference from cleanup in all projects in the solution                    </p></li></ul>            </li><li class="list__item" id="be62e791"><p>                ReSharper will save the information about implicitly used references in its                <a href="Sharing_Configuration_Options.html">layered settings</a> — in a                <span class="filepath">*.DotSettings.user</span> file either for the project or solution.            </p></li></ol></section>    </div>    <div class="last-modified" data-skip-index="skip">Last modified: 18 November 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="Code_Analysis__Project_Hierarchy.html">Exploring Project Hierarchy</a><a class="navigation-links__next" href="Finding_Exploring_and_Installing_NuGet_Packages.html">Finding, Exploring, and Installing NuGet Packages</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>