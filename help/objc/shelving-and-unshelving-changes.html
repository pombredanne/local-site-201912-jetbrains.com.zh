<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>搁置和搁置更改-帮助|帮助应用程式码</title><link rel="stylesheet" href="/resources.jetbrains.com/storage/help-app/v3/app.css"></head><body  data-id="Shelving_and_Unshelving_Changes" data-article-props="
                {
                
            " seeals=":{=" referenc="}=" hre=":" shelf-tab.htm="," titl=":" shelf="" ta="}=" version-control-reference.htm="," version="" control="" shelve-changes-dialog.htm="," shelve="" changes="" dialo="}=" unshelve-changes-dialog.htm="," unshelve="" ="href"="http:=" ="title"="developer=" }="" ],="" :="" ]="" [windows or linux;macos=""><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索AppCode帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>AppCode 2019.2帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option value="secondary_default" data-group="secondary" selected>默认</option><option value="secondary_eclipse" data-group="secondary">日食</option><option value="secondary_eclipse_mac_os_x" data-group="secondary">Eclipse（Mac OS X）</option><option value="secondary_emacs" data-group="secondary">埃马克斯</option><option value="secondary_intellij_idea_classic_os_x" data-group="secondary">IntelliJ IDEA经典版（OS X）</option><option value="secondary_intellij_idea_classic_windows" data-group="secondary">IntelliJ IDEA经典版（Windows）</option><option value="secondary_resharper" data-group="secondary">锐化器</option><option value="secondary_resharper_osx" data-group="secondary">ReSharper OSX</option><option value="secondary_visual_studio" data-group="secondary">视觉工作室</option><option value="secondary_xcode" data-group="secondary">Xcode</option><option value="secondary_xcode_copy" data-group="secondary">Xcode复制</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 id="Shelving_and_Unshelving_Changes.xml" data-toc="Shelving_and_Unshelving_Changes">搁置和搁置更改</h1>        <a name="shelve-unshelve changes"></a>            <p id="c32b895b">搁置架暂时存储您尚未提交的未决更改。例如，如果您需要切换到另一个任务，并且希望将更改保留在一边以在以后进行处理，这将很有用。</p>            <p id="279a7eaf">使用AppCode，您可以搁置单独的文件和整个<span title="您尚未提交给VCS的一组本地更改。对项目文件的所有更改都将自动放置在活动更改列表中（通常是默认更改列表）。" class="tooltip">变更列表</span> 。</p>            <p id="423f33fb">搁置后，可以根据需要多次应用更改。</p>                <section class="procedure-steps"><h3 id="ChList">搁置更改</h3><ol class="list _decimal"><li class="list__item" id="0a7aed89"><p>打开<span class="control">版本控制</span>工具窗口<kbd data-secondary_default="⌘9" data-secondary_eclipse="⌥9" data-secondary_eclipse_mac_os_x="⌘9" data-secondary_emacs="⌥9" data-secondary_intellij_idea_classic_os_x="⌘9" data-secondary_intellij_idea_classic_windows="⌥9" data-secondary_resharper="⌥9" data-secondary_resharper_osx="⌥9" data-secondary_visual_studio="⌥9" data-secondary_xcode="⌘2" data-secondary_xcode_copy="⌘2">⌘9</kbd>并切换到“ <span class="control">本地更改”</span>标签。</p></li><li class="list__item" id="fc603d8f"><p>右键单击要放在架子上的文件或<span class="control">更改列表，然后</span>从上下文菜单中选择“ <span class="control">搁置更改</span> ”。</p></li><li class="list__item" id="7a3bec11"><p>在“ <span class="control">搁置更改”</span>对话框中，查看已修改文件的列表。</p></li><li class="list__item" id="5a283a0d"><p>在“ <span class="control">提交消息”</span>字段中，输入要创建的架子的名称，然后单击“ <span class="control">搁置更改”</span>按钮。</p></li></ol><p id="shelve-silently">您也可以静默搁置更改，而无需显示“ <span class="control">搁置更改”</span>对话框。为此，请选择要搁置的文件或更改列表，然后单击“ <span class="control">静默搁置”</span>图标<img class="inline-icon-16" src="/help/img/idea/2019.2/icons.vcs.shelveSilent.svg@2x.png" width="16" alt="默默搁置">在工具栏上，或按<kbd data-secondary_default="⌃⌥H" data-secondary_eclipse="⌃⌥H" data-secondary_eclipse_mac_os_x="⌃⌥H" data-secondary_emacs="⌃⌥H" data-secondary_intellij_idea_classic_os_x="⌃⌥H" data-secondary_intellij_idea_classic_windows="⌃⌥H" data-secondary_resharper="⌃⌥H" data-secondary_resharper_osx="⌃⌥H" data-secondary_visual_studio="⌃⌥H" data-secondary_xcode="⌃⌥H" data-secondary_xcode_copy="⌃⌥H">⌃⌥H</kbd> 。包含要搁置的更改的更改列表的名称将用作架子名称。</p><p id="68e07f39">为避免结成多个同名的架子（例如<span class="control">Default</span> ），您可以将文件或<span class="control">更改</span>列表从“ <span class="control">本地更改”</span>选项卡拖到“ <span class="control">架子”</span>选项卡，等待一秒钟直到它被激活，然后编辑新的架子释放鼠标按钮时即时命名。</p></section>                                <section class="procedure-steps"><h3 id="unshelve-changes">搁置更改</h3><p id="5fe848ac">搁置正在将已推迟的更改从磁盘架移至待处理的更改列表。搁置的更改可以从视图中过滤掉或从架子上删除。</p><ol class="list _decimal"><li class="list__item" id="f81c0310"><p>在“ <span class="control">版本控制”</span>工具窗口的“ <span class="control">货架”</span>选项卡中，选择一个更改列表或您要搁置的文件。</p></li><li class="list__item" id="d5f0e15c"><p>按<kbd data-secondary_default="⇧⌘U" data-secondary_eclipse="⌃⇧U" data-secondary_eclipse_mac_os_x="⇧⌘U" data-secondary_emacs="⌃⇧U" data-secondary_intellij_idea_classic_os_x="⇧⌘U" data-secondary_intellij_idea_classic_windows="⌃⇧U" data-secondary_resharper="⌃⇧U" data-secondary_resharper_osx="⌃⇧U" data-secondary_visual_studio="⌃⇧U" data-secondary_xcode="⇧⌘U" data-secondary_xcode_copy="⇧⌘U">⇧⌘U</kbd>或从所选内容的上下文菜单中选择“ <span class="control">搁置</span> ”。</p></li><li class="list__item" id="0916c582">                        <p id="a2916c7d">在打开的“取消搁置的<span class="control">更改”</span>对话框中，在“ <span class="control">名称”</span>字段中指定要将未搁置的更改还原到的更改列表。您可以从列表中选择一个现有的更改列表，或为要创建的包含未搁置更改的新更改列表键入名称。您可以在“ <span class="control">注释”</span>字段（可选）中输入新变更列表的描述。</p>                        <p id="58c600fe">如果要使新变更列表处于活动状态，请选择<span class="control">设置活动选项</span> 。否则，当前活动的更改列表将保持活动状态。</p>                    </li><li class="list__item" id="3bcc32af"><p>如果你想AppCode保留在其停用了新的修改相关联的任务的<span title="上下文是与变更列表关联的一组打开的文件。" class="tooltip">上下文</span>和恢复的背景下，当变更列表变得活跃，选择<span class="control">曲目方面</span>选择（见<a href="managing-tasks-and-context.html">任务和环境</a>的详细信息）。</p></li><li class="list__item" id="902b81e7">                        <p id="0b905b79">如果要删除将要搁置的更改，请选择“ <span class="control">从架子中删除成功应用的文件”</span>选项。未搁置的文件将从此架子中删除，并添加到另一个变更列表中，并标记为已应用。在通过单击将其明确删除之前，它们不会被完全删除。 <img class="inline-icon-16" src="/help/img/idea/2019.2/icons.actions.gc.svg@2x.png" width="16" alt="删除图标">在工具栏上，或从上下文菜单中选择“ <span class="control">清理已搁置的书架</span> ”。</p>                        <aside class="note " rel="0b905b79" id="37bb29f6" data-title="">                            <p id="267b12d0">如果您意外删除了未搁置的文件，则可以从“ <span class="control">最近删除”</span>节点中查看和还原它们。</p>                        </aside>                    </li><li class="list__item" id="a7039248"><p>单击<span class="control">确定</span> 。如果修补程序版本和当前版本之间发生冲突，请按照<a href="resolving-conflicts.html">解决冲突中</a>所述解决它们。</p></li></ol><p id="unshelve-silently">您可以静默取消搁置更改，而无需显示“取消搁置<span class="control">更改”</span>对话框。为此，请选择要取消搁置的文件或更改列表，然后单击“ <span class="control">静默</span>取消搁置”图标<img class="inline-icon-16" src="/help/img/idea/2019.2/icons.vcs.unshelveSilent.svg@2x.png" width="16" alt="静默地搁浅图标">在工具栏上，或按<kbd data-secondary_default="⌥⌘U" data-secondary_eclipse="⌃⌥U" data-secondary_eclipse_mac_os_x="⌥⌘U" data-secondary_emacs="⌃⌥U" data-secondary_intellij_idea_classic_os_x="⌥⌘U" data-secondary_intellij_idea_classic_windows="⌃⌥U" data-secondary_resharper="⌃⌥U" data-secondary_resharper_osx="⌃⌥U" data-secondary_visual_studio="⌃⌥U" data-secondary_xcode="⌥⌘U" data-secondary_xcode_copy="⌥⌘U">⌥⌘U</kbd> 。未搁置的文件将被移至活动的挂起变更列表。</p><p id="fe4f390b">您也可以将文件或<span class="control">更改</span>列表从“ <span class="control">货架”</span>选项卡拖动到“ <span class="control">本地更改”</span>选项卡以静默取消搁置。如果您按住它拖动<kbd class="keystroke" data-bypass="true"><span class="keystroke__value">Ctrl</span></kbd>键，它将被复制到“ <span class="control">本地更改”</span>标签，而不是从机架中删除。</p></section>                <section class="procedure-steps"><h3 id="restore-unshelved">恢复搁置的更改</h3><p id="e2be9136">AppCode允许您在必要时重新应用未搁置的更改。所有未搁置的更改都可以重复使用，直到通过单击<img class="inline-icon-16" src="/help/img/idea/2019.2/icons.actions.gc.svg@2x.png" width="16" alt="删除搁置的更改">工具栏上的图标，或从上下文菜单中选择“ <span class="control">清理已搁置</span>的<span class="control">已搁置</span> ”。</p><ol class="list _decimal"><li class="list__item" id="5c0150ac"><p>确保<span class="control">节目已被搁置</span> <img class="inline-icon-16" src="/help/img/idea/2019.2/icons.vcs.patch_applied.svg@2x.png" width="16" alt="显示已显示未搁置按钮">工具栏选项已启用。</p></li><li class="list__item" id="c5896602"><p>选择要还原的文件或文件架。</p></li><li class="list__item" id="9f832b37"><p>从选择的上下文菜单中，选择<span class="control">“还原”。</span>                    </p></li></ol></section>                <section class="procedure-steps"><h3 id="external-patches">应用外部补丁</h3><p id="da0fabba">您可以导入在AppCode内部或外部创建的补丁，并将其应用为搁置的更改。</p><ol class="list _decimal"><li class="list__item" id="d38f4f5c"><p>在“ <span class="control">版本控制”</span>工具窗口的“ <span class="control">货架”</span>选项卡中，从上下文菜单中选择“ <span class="control">导入补丁</span> ”。</p></li><li class="list__item" id="4a757d7e"><p>在打开的对话框中，选择要应用的补丁文件。选定的色块将在<span class="control">架子上</span>显示为架子。</p></li><li class="list__item" id="b7e79685"><p>选择带有补丁的新添加的架子，然后从所选内容的上下文菜单中选择“ <span class="control">取消</span>搁置<span class="control">更改</span> ”。</p></li></ol></section>                <section class="procedure-steps"><h3 id="automatically-shelve-base-revision">自动搁置基础修订</h3><p id="98212354">将AppCode配置为始终搁置受Git版本控制的文件的基本修订版可能会很有用。</p><ol class="list _decimal"><li class="list__item" id="5627295c">                        <p id="906703b3">                            <a name="open_settings"></a>在“ <span class="control">首选项”</span>对话框中（ <kbd data-secondary_default="⌘," data-secondary_eclipse="⌃⌥S" data-secondary_eclipse_mac_os_x="⌘," data-secondary_emacs="⌃⌥S" data-secondary_intellij_idea_classic_os_x="⌘," data-secondary_intellij_idea_classic_windows="⌃⌥S" data-secondary_resharper="⌥F7" data-secondary_resharper_osx="⌥F7" data-secondary_visual_studio="⌥F7" data-secondary_xcode="⌘," data-secondary_xcode_copy="⌘,">⌘,</kbd> ），选择<span class="control">版本控制|货架</span> 。</p>                    </li><li class="list__item" id="cfa366cb">                        <p id="1c42c640">选择“ <span class="control">在分布式版本控制系统下搁置文件的基本修订”</span>选项。</p>                        <p id="ae773ee0">如果启用此选项，则文件的基本修订版将保存到文件架中，如果应用架子导致冲突，则该文件将在<a href="https://en.wikipedia.org/wiki/Merge_(version_control)#Three-way_merge" rel="noopener noreferrer" data-external="true" target="_blank">三路合并</a>期间使用。如果已禁用，则AppCode将在项目历史记录中查找基本修订，这可能需要一段时间。此外，可能会遗漏有冲突的架子所基于的修订版本（例如，如果由于进行了变基操作而更改了历史记录）。</p>                    </li></ol></section>                <section class="procedure-steps"><h3 id="change-shelve-location">更改默认的货架位置</h3><p id="86b608bd">默认情况下，架子目录位于您的项目目录下。但是，您可能要更改默认的架子位置。例如，如果您要避免在清理工作副本时意外删除架子，或者要将它们存储在一个单独的存储库中，以允许团队成员共享架子，这将很有用。</p><ol class="list _decimal"><li class="list__item" id="597b47a2"><p>打开<span class="control" data-section="Windows or Linux">设置</span> <span class="control" data-section="macOS">首选项</span>对话框<kbd data-secondary_default="⌘," data-secondary_eclipse="⌃⌥S" data-secondary_eclipse_mac_os_x="⌘," data-secondary_emacs="⌃⌥S" data-secondary_intellij_idea_classic_os_x="⌘," data-secondary_intellij_idea_classic_windows="⌃⌥S" data-secondary_resharper="⌥F7" data-secondary_resharper_osx="⌥F7" data-secondary_visual_studio="⌥F7" data-secondary_xcode="⌘," data-secondary_xcode_copy="⌘,">⌘,</kbd>然后选择<span class="control">版本控制|</span>左侧的<span class="control">货架</span>节点。</p></li><li class="list__item" id="c64c9e36"><p>单击<span class="control">更改货架位置</span>按钮，然后在打开的对话框中指定新位置。</p></li><li class="list__item" id="1f07b893"><p>如有必要，请选择<span class="control">将书架移至新位置</span>选项，以将现有书架移至新目录。</p></li></ol></section>            <p id="98b55380">观看此视频教程，了解如何从货架中受益，从而能够切换到其他任务而又不会丢失未完成的工作：</p>            <div class="video-player"><object width="600" height="400" type="application/x-shockwave-flash" data="//www.youtube.com/v/Zb8k8q8n8Ao?color2=FBE9EC&rel=0&hd=1&autoplay=0&version=3&modestbranding=1&fs=1"><param name="movie" value="//www.youtube.com/v/Zb8k8q8n8Ao?color2=FBE9EC&rel=0&hd=1&autoplay=1&version=3&modestbranding=1&fs=1"><param name="allowFullScreen" value="true"><param name="msallowFullScreen" value="true"><param name="webkitallowFullScreen" value="true"><param name="mozallowFullScreen" value="true"><param name="oallowFullScreen" value="true"><param name="allowscriptaccess" value="always"></object></div>          <div class="last-modified" data-skip-index="skip">上次修改时间：2019年10月10日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="managing-changelists.html">管理变更列表</a> <a class="navigation-links__next" href="using-patches.html">使用补丁</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>