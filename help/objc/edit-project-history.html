<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>编辑项目历史记录-帮助|帮助应用程式码</title><link rel="stylesheet" href="/resources.jetbrains.com/storage/help-app/v3/app.css"></head><body  data-id="Edit_project_history"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索AppCode帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>AppCode 2019.2帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option value="secondary_default" data-group="secondary" selected>默认</option><option value="secondary_eclipse" data-group="secondary">日食</option><option value="secondary_eclipse_mac_os_x" data-group="secondary">Eclipse（Mac OS X）</option><option value="secondary_emacs" data-group="secondary">埃马克斯</option><option value="secondary_intellij_idea_classic_os_x" data-group="secondary">IntelliJ IDEA经典版（OS X）</option><option value="secondary_intellij_idea_classic_windows" data-group="secondary">IntelliJ IDEA经典版（Windows）</option><option value="secondary_resharper" data-group="secondary">锐化器</option><option value="secondary_resharper_osx" data-group="secondary">ReSharper OSX</option><option value="secondary_visual_studio" data-group="secondary">视觉工作室</option><option value="secondary_xcode" data-group="secondary">Xcode</option><option value="secondary_xcode_copy" data-group="secondary">Xcode复制</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 id="Edit_project_history.xml" data-toc="Edit_project_history">编辑项目历史</h1>    <aside class="warning " rel="Edit_project_history.xml" id="e262099d" data-title="">        <p id="2ef93497">除非绝对必要，否则避免修改具有多个贡献者的远程分支的历史记录，例如，如果您不小心推送了一些敏感数据。</p>    </aside>    <p id="force_push_warning">Git允许您编辑项目历史记录。当您在功能分支上工作并想要对其进行清理并使其与他人<a href="apply-changes-from-one-branch-to-another.html">共享</a>之前看起来像您想要的样子时，这很有用。例如，您可以编辑提交消息，将与相同功能相关的较小的提交压缩在一起，或者将包含无关更改的提交拆分为单独的提交，将更改添加到先前的提交，等等。</p><aside class="note " rel="force_push_warning" id="916a93b4" data-title="">        <p>如果您修改过的历史记录的分支位于远程存储库中，则推送这样的修改将被拒绝以防止数据丢失，因此您必须<a href="commit-and-push-changes.html#force-push">强制推送所做</a>的更改。</p><p id="ce2843ef">您无法修改<span class="keyword">受保护</span>分支的历史记录，其中<code class="code">push --force</code>不允许（配置受保护的分支<a name="open_settings"></a>在“ <span class="control">首选项”</span>对话框中（ <kbd data-secondary_default="⌘," data-secondary_eclipse="⌃⌥S" data-secondary_eclipse_mac_os_x="⌘," data-secondary_emacs="⌃⌥S" data-secondary_intellij_idea_classic_os_x="⌘," data-secondary_intellij_idea_classic_windows="⌃⌥S" data-secondary_resharper="⌥F7" data-secondary_resharper_osx="⌥F7" data-secondary_visual_studio="⌥F7" data-secondary_xcode="⌘," data-secondary_xcode_copy="⌘,">⌘,</kbd> ）在<span class="control">版本控制下| Git</span> ）。</p>    </aside>        <div class="chapter"><h2 id="reword-commit" data-toc="Edit_project_history#reword-commit">编辑提交消息</h2>        <p id="edit-commit-message">如果唯一需要更改的是提交消息，则可以在推送此提交之前对其进行编辑。</p>        <section class="procedure-steps"><ol class="list _decimal"><li class="list__item" id="7e3664a0"><p>在“ <span class="control">日志”</span>视图中右键单击要编辑其消息的提交， <span class="control">然后</span>从上下文菜单中选择“ <span class="control">重新编写词</span> ”，或按<kbd data-secondary_default="F2" data-secondary_eclipse="F2" data-secondary_eclipse_mac_os_x="F2" data-secondary_emacs="F2" data-secondary_intellij_idea_classic_os_x="F2" data-secondary_intellij_idea_classic_windows="F2" data-secondary_resharper="F2" data-secondary_resharper_osx="F2" data-secondary_visual_studio="F2" data-secondary_xcode="F2" data-secondary_xcode_copy="F2">F2</kbd> 。</p></li><li class="list__item" id="ff06c941"><p>在打开的对话框中，输入新的提交消息，然后单击<span class="control">确定</span> 。</p></li></ol></section>    </div>    <div class="chapter"><h2 id="amend-commit" data-toc="Edit_project_history#amend-commit">修改上一次提交</h2>        <p id="1903eabc">有时您可能提交得太早而忘记添加一些文件，或者注意到您要修复的上一个提交中有错误而没有创建单独的提交。</p>        <p id="ea1c8f20">您可以通过使用<span class="control">将提交的</span> <span title="尚未提交的本地更改。" class="emphasis tooltip">更改</span>附加到上一个提交的“ <span class="control">修改提交”</span>选项来执行此操作。结果，您最终将获得一个提交而不是两个不同的提交。</p>        <section class="procedure-steps"><ol class="list _decimal"><li class="list__item" id="4acc83ae"><p>在“ <span class="control">本地更改”</span>视图中选择要添加到上一次提交的<span class="control">更改</span> ，然后单击“确定”。 <img class="inline-icon-16" src="/help/img/idea/2019.2/icons.actions.commit.svg@2x.png" width="16" alt="提交按钮">在工具栏上或按<kbd data-secondary_default="⌘K" data-secondary_eclipse="N/A" data-secondary_eclipse_mac_os_x="N/A" data-secondary_emacs="⌃K" data-secondary_intellij_idea_classic_os_x="⌘K" data-secondary_intellij_idea_classic_windows="⌃K" data-secondary_resharper="⌃K" data-secondary_resharper_osx="⌃K" data-secondary_visual_studio="⌃K" data-secondary_xcode="⌥⌘C" data-secondary_xcode_copy="⌥⌘C">⌘K</kbd> 。</p></li><li class="list__item" id="18b66592"><p>在“ <span class="control">提交更改”</span>对话框中，在<span class="control">提交更改之前</span> ，选择右侧的“ <span class="control">修改提交”</span>选项。</p></li></ol></section>    </div>    <div class="chapter"><h2 id="678433cf" data-toc="Edit_project_history#678433cf">修改任何先前的提交</h2>        <p id="fabf7f1f">如果您需要将更改添加到任何先前的提交中，而不是分别提交，则可以使用<code class="code">fixup</code>或者<code class="code">squash</code>行动。这两个命令都将<span title="尚未提交的本地更改。" class="emphasis tooltip">阶段性更改</span>附加到所选提交，但是以不同方式处理提交消息：</p><ul class="list _bullet"><li class="list__item" id="c199ce83"><p>                    <code class="code">squash</code>将新的提交消息添加到原始提交</p></li><li class="list__item" id="113b5076"><p>                    <code class="code">fixup</code>丢弃新的提交消息，仅保留原始提交中的消息</p></li></ul>        <p></p>        <aside class="note " rel="fabf7f1f" id="a8f5c979" data-title="">            <p id="1df82269">这两个命令都需要重新设置<a href="apply-changes-from-one-branch-to-another.html#rebase-branch">基准，</a>因为它们会更改提交哈希。</p>        </aside>        <section class="procedure-steps"><ol class="list _decimal"><li class="list__item" id="350327fc"><p>进行要附加到任何较早提交的更改（它们将在“ <span class="control">本地更改”</span>视图中可见）。</p></li><li class="list__item" id="9a486bcc"><p>在“ <span class="control">日志”</span>视图中，右键单击要使用本地更改进行修改的提交，然后从上下文菜单中选择“ <span class="control">修复”</span>或“压<span class="control">入</span> ”。</p></li><li class="list__item" id="90e5eeae"><p>如果您选择压缩更改，则如有必要，请修改提交消息。</p></li><li class="list__item" id="d4be1494"><p>单击“ <span class="control">提交”</span>按钮上的箭头，然后选择“ <span class="control">提交并重新设置基准”</span> 。</p></li></ol></section>    </div>    <div class="chapter"><h2 id="interactive-rebase" data-toc="Edit_project_history#interactive-rebase">通过执行交互式变基来编辑项目历史记录</h2>        <p id="lose_history">Git允许您通过执行<span class="keyword">交互式变基</span>来编辑项目历史记录，以使其线性且有意义。这样，您可以在<a href="apply-changes-from-one-branch-to-another.html">将</a>更改从<a href="work-on-several-features-simultaneously.html#feature-branches">功能分支</a> <a href="apply-changes-from-one-branch-to-another.html">集成</a>到另一个分支之前，通过更改单个提交，更改其顺序，将提交压缩为一个，跳过包含无关更改的提交等来清理提交历史记录。</p>            <section class="procedure-steps"><h3 id="ba5c9fab">编辑当前分支的历史记录</h3><p id="550e93c4">AppCode允许您在将更改应用于其他分支之前，在当前分支中编辑一系列最近的提交。</p><ol class="list _decimal"><li class="list__item" id="b17db9d2">                    <p id="0f6f8ec1">在“ <span class="control">版本控制”</span>工具窗口的“ <span class="control">日志”</span>选项卡中，选择要编辑的一系列提交中最旧的提交，右键单击它，然后选择“ <span class="control">从此处交互式地变基”</span> 。</p>                    <aside class="note " rel="0f6f8ec1" id="aa08c08c" data-title="">                        <p id="dc6f7d47">在许多情况下，“ <span class="control">从此处交互式地变基”</span>命令被禁用。例如，当提交有多个父项或不在当前分支中时。要获取有关实际原因的更多信息，请将鼠标悬停在上下文菜单中的“ <span class="control">从此处</span>进行<span class="control">交互式变基”</span>选项上，并在<span class="control">状态栏中</span>预览说明性消息。</p>                    </aside>                    <p id="start_interactive_rebase_from_here">将显示“ <span class="control">交互式重新基准”</span>对话框，其中包含当前分支中在选定提交之后进行的所有提交的列表。</p>                </li><li class="list__item" id="27964ea8"><p>如果您需要更改应用提交的顺序，请使用<img class="inline-icon-16" src="/help/img/idea/2019.2/icons.general.arrowUp.svg@2x.png" width="16" alt="向上箭头">和<img class="inline-icon-16" src="/help/img/idea/2019.2/icons.general.arrowDown.svg@2x.png" width="16" alt="向下箭头">纽扣。</p></li><li class="list__item" id="5d86dfe1">            <p id="8da71699">使用“ <span class="control">动作”</span>列表将以下动作应用于提交（您可以使用<kbd data-secondary_default="⌥↑" data-secondary_eclipse="⌥⇧↑" data-secondary_eclipse_mac_os_x="⌃⇧↑" data-secondary_emacs="⌃⌥W" data-secondary_intellij_idea_classic_os_x="⌘W" data-secondary_intellij_idea_classic_windows="⌃W" data-secondary_resharper="⌃W" data-secondary_resharper_osx="⌃W" data-secondary_visual_studio="⌃W" data-secondary_xcode="⌥⌘↑" data-secondary_xcode_copy="⌥⌘↑">⌥↑</kbd> / <kbd data-secondary_default="⌥↓" data-secondary_eclipse="⌥⇧↓" data-secondary_eclipse_mac_os_x="⌃⇧↓" data-secondary_emacs="⌃⇧W" data-secondary_intellij_idea_classic_os_x="⇧⌘W" data-secondary_intellij_idea_classic_windows="⌃⇧W" data-secondary_resharper="⌃⇧W" data-secondary_resharper_osx="⌃⇧W" data-secondary_visual_studio="⌃⇧W" data-secondary_xcode="⌥⌘↓" data-secondary_xcode_copy="⌥⌘↓">⌥↓</kbd>选择一个动作）：</p>            <ul class="list _bullet"><li class="list__item" id="d25114fb"><p>                    <span class="control">选择</span> ：按原样应用所选提交。</p></li><li class="list__item" id="291f8884"><p>                    <span class="control">编辑</span> ：选择此选项可在应用此提交之前编辑受此提交影响的文件。选择此操作后，将在IDE窗口的右下角弹出一个通知。您可以在编辑器中编辑要修改的文件，然后在此通知中单击“ <span class="control">继续”</span>以继续操作。 <code class="code">rebase</code>操作。</p></li><li class="list__item" id="46e27af2"><p>                    <span class="control">跳过</span> ：忽略选定的提交，因此将不会应用这些更改。</p></li><li class="list__item" id="527f4758"><p>                    <span class="control">壁球</span> ：选择以将选定的提交与上一个合并。这两个提交的提交消息将被合并，因此此操作将反映在分支历史中。如有必要，更改提交的顺序，以使要追加更改的提交成为列表中的上一个提交。</p></li><li class="list__item" id="2c624080"><p>                    <span class="control">Reword</span> ：选择此选项可在应用提交消息之前对其进行编辑。</p></li><li class="list__item" id="1ff739a8"><p>                    <span class="control">Fixup</span> ：选择此选项可将所选提交与上一个提交合并。fixup提交的提交消息将被丢弃，因此此更改在分支历史记录中将不可见。如有必要，更改提交的顺序，以使要追加更改的提交成为列表中的上一个提交。</p></li></ul>        </li></ol></section>            <section class="procedure-steps"><h3 id="5bb2c531">编辑分支历史并将其集成到另一个分支</h3><p id="381ab837">AppCode让你<a href="apply-changes-from-one-branch-to-another.html#rebase-branch">变基</a>上的另一个分支和编辑源分支历史之上的分支应用的更改。</p><ol class="list _decimal"><li class="list__item" id="d900c81d"><p>从主菜单中选择<span class="control">VCS | VCS。 Git |重新设置基准</span> 。</p></li><li class="list__item" id="05233501"><p>在“ <span class="control">分支”</span>字段中选择要作为基准的<span class="control">分支</span> ，然后在“ <span class="control">Onto”</span>字段中选择目标分支。</p></li><li class="list__item" id="741270ee"><p>在“ <span class="control">发件人”</span>字段中，选择要从其开始将所选分支应用于新基础的提交。</p></li><li class="list__item" id="125be4c6">                    <p id="80b739bd">确保选择了<span class="control">Interactive</span>选项，然后单击<span class="control">Rebase</span> 。</p>                    <p id="c5f856cf">将显示“ <span class="control">交互式重新基准”</span>对话框，其中包含当前分支中在选定提交之后进行的所有提交的列表。</p>                </li><li class="list__item" id="a7814526"><p>如果您需要更改应用提交的顺序，请使用<img class="inline-icon-16" src="/help/img/idea/2019.2/icons.general.arrowUp.svg@2x.png" width="16" alt="向上箭头">和<img class="inline-icon-16" src="/help/img/idea/2019.2/icons.general.arrowDown.svg@2x.png" width="16" alt="向下箭头">纽扣。</p></li><li class="list__item" id="9d09127b">            <p id="c33c25eb">使用“ <span class="control">动作”</span>列表将以下动作应用于提交（您可以使用<kbd data-secondary_default="⌥↑" data-secondary_eclipse="⌥⇧↑" data-secondary_eclipse_mac_os_x="⌃⇧↑" data-secondary_emacs="⌃⌥W" data-secondary_intellij_idea_classic_os_x="⌘W" data-secondary_intellij_idea_classic_windows="⌃W" data-secondary_resharper="⌃W" data-secondary_resharper_osx="⌃W" data-secondary_visual_studio="⌃W" data-secondary_xcode="⌥⌘↑" data-secondary_xcode_copy="⌥⌘↑">⌥↑</kbd> / <kbd data-secondary_default="⌥↓" data-secondary_eclipse="⌥⇧↓" data-secondary_eclipse_mac_os_x="⌃⇧↓" data-secondary_emacs="⌃⇧W" data-secondary_intellij_idea_classic_os_x="⇧⌘W" data-secondary_intellij_idea_classic_windows="⌃⇧W" data-secondary_resharper="⌃⇧W" data-secondary_resharper_osx="⌃⇧W" data-secondary_visual_studio="⌃⇧W" data-secondary_xcode="⌥⌘↓" data-secondary_xcode_copy="⌥⌘↓">⌥↓</kbd>选择一个动作）：</p>            <ul class="list _bullet"><li class="list__item" id="e4759987"><p>                    <span class="control">选择</span> ：按原样应用所选提交。</p></li><li class="list__item" id="f48951c1"><p>                    <span class="control">编辑</span> ：选择此选项可在应用此提交之前编辑受此提交影响的文件。选择此操作后，将在IDE窗口的右下角弹出一个通知。您可以在编辑器中编辑要修改的文件，然后在此通知中单击“ <span class="control">继续”</span>以继续操作。 <code class="code">rebase</code>操作。</p></li><li class="list__item" id="6c592e4c"><p>                    <span class="control">跳过</span> ：忽略选定的提交，因此将不会应用这些更改。</p></li><li class="list__item" id="72ff2727"><p>                    <span class="control">壁球</span> ：选择以将选定的提交与上一个合并。这两个提交的提交消息将被合并，因此此操作将反映在分支历史中。如有必要，更改提交的顺序，以使要追加更改的提交成为列表中的上一个提交。</p></li><li class="list__item" id="05415d16"><p>                    <span class="control">Reword</span> ：选择此选项可在应用提交消息之前对其进行编辑。</p></li><li class="list__item" id="6d54f11b"><p>                    <span class="control">Fixup</span> ：选择此选项可将所选提交与上一个提交合并。fixup提交的提交消息将被丢弃，因此此更改在分支历史记录中将不可见。如有必要，更改提交的顺序，以使要追加更改的提交成为列表中的上一个提交。</p></li></ul>        </li></ol></section>    </div><div class="last-modified" data-skip-index="skip">上次修改时间：2019年10月10日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="use-tags-to-mark-specific-commits.html">使用标签来标记特定的提交</a> <a class="navigation-links__next" href="github.html">GitHub</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>