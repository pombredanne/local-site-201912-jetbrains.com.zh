<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>提取-帮助|应用程式码</title><link rel="stylesheet" href="/resources.jetbrains.com/storage/help-app/v3/app.css"></head><body  data-id="extract_refactoring"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索AppCode帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>AppCode 2019.2帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option value="secondary_default" data-group="secondary" selected>默认</option><option value="secondary_eclipse" data-group="secondary">日食</option><option value="secondary_eclipse_mac_os_x" data-group="secondary">Eclipse（Mac OS X）</option><option value="secondary_emacs" data-group="secondary">埃马克斯</option><option value="secondary_intellij_idea_classic_os_x" data-group="secondary">IntelliJ IDEA经典版（OS X）</option><option value="secondary_intellij_idea_classic_windows" data-group="secondary">IntelliJ IDEA经典版（Windows）</option><option value="secondary_resharper" data-group="secondary">锐化器</option><option value="secondary_resharper_osx" data-group="secondary">ReSharper OSX</option><option value="secondary_visual_studio" data-group="secondary">视觉工作室</option><option value="secondary_xcode" data-group="secondary">Xcode</option><option value="secondary_xcode_copy" data-group="secondary">Xcode复制</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 id="extract_refactoring.xml" data-toc="extract_refactoring">提取</h1>    <div class="chapter"><h2 id="extract_variable" data-toc="extract_refactoring#extract_variable">提取变量</h2>        <p id="ec39ba39">如果遇到难以理解的表达式，或者在整个代码中多个地方重复了该表达式，则可以使用“ <span class="keyword">提取变量”</span>重构将该表达式的结果或其一部分放入单独的变量中<kbd data-secondary_default="⌥⌘V" data-secondary_eclipse="⌥⇧L" data-secondary_eclipse_mac_os_x="⌥⌘L" data-secondary_emacs="⌃⌥V" data-secondary_intellij_idea_classic_os_x="⌥⌘V" data-secondary_intellij_idea_classic_windows="⌃⌥V" data-secondary_resharper="⌃⌥V" data-secondary_resharper_osx="⌃E, V" data-secondary_visual_studio="⌃⌥V" data-secondary_xcode="⌃⌥⌘V" data-secondary_xcode_copy="⌃⌥⌘V">⌥⌘V</kbd> 。</p>        <figure id="242ffb31" width="650" data-theme="light"><img class="js-gif" src="/help/img/idea/2019.2/ac_export_variable_sample.png" width="650" data-gif-src="/help/img/idea/2019.2/ac_export_variable_sample.animated.gif" style="width:650px"></figure>        <section class="procedure-steps"><div class="collapse"><div class="collapse__title"><h3 id="to_extract_variable">执行提取变量重构</h3></div><div class="collapse__content"><ol class="list _decimal"><li class="list__item" id="45123a90"><p>在编辑器中，选择要提取的表达式或其部分，或将插入号放置在该表达式中。</p></li><li class="list__item" id="fe18d270"><p>按<kbd data-secondary_default="⌥⌘V" data-secondary_eclipse="⌥⇧L" data-secondary_eclipse_mac_os_x="⌥⌘L" data-secondary_emacs="⌃⌥V" data-secondary_intellij_idea_classic_os_x="⌥⌘V" data-secondary_intellij_idea_classic_windows="⌃⌥V" data-secondary_resharper="⌃⌥V" data-secondary_resharper_osx="⌃E, V" data-secondary_visual_studio="⌃⌥V" data-secondary_xcode="⌃⌥⌘V" data-secondary_xcode_copy="⌃⌥⌘V">⌥⌘V</kbd>或选择“ <span class="menupath" data-skip-index="skip">重构|提取物|</span>从主菜单中<span class="menupath" data-skip-index="skip">提取变量</span> 。</p></li><li class="list__item" id="3bc980e8"><p>如果您将插入号放在表达式中，则AppCode将为您提供潜在代码选择的列表。从列表中选择所需的选择。</p></li><li class="list__item" id="0147d8bd"><p>如果要提取的表达式已多次使用，则可以选择是替换所有出现的表达式，还是仅替换当前出现的表达式。</p></li><li class="list__item" id="b8c3db55">如有必要，请更改默认变量名称并使用其他选项：<ul class="list _ul"><li class="list__item" id="f1965c2c"><p>对于斯威夫特：检查<span class="control">宣告以“无功”，</span>如果你要声明一个变量（以<code class="code">var</code> ）。取消选择此复选框以声明一个常量（带有<code class="code">let</code> ）。如果您不想将数据类型添加到变量声明中，则<span class="control">显式</span>取消选中“ <span class="control">指定类型”</span> 。</p></li><li class="list__item" id="4bd9607d"><p>对于Objective-C：选中<span class="control">声明const，</span>以将新引用声明为常量（带有<code class="code">const</code> ）：</p></li></ul>            </li><li class="list__item" id="ef3d8e93"><p>按<kbd data-secondary_default="⏎" data-secondary_eclipse="⏎" data-secondary_eclipse_mac_os_x="⏎" data-secondary_emacs="⏎" data-secondary_intellij_idea_classic_os_x="⏎" data-secondary_intellij_idea_classic_windows="⏎" data-secondary_resharper="⏎" data-secondary_resharper_osx="⏎" data-secondary_visual_studio="⏎" data-secondary_xcode="⏎" data-secondary_xcode_copy="⏎">⏎</kbd> 。</p></li></ol></div></div></section>        <section class="procedure-steps"><div class="collapse"><div class="collapse__title"><h3 id="code_extract_variable">代码示例</h3></div><div class="collapse__content"><div class="tabs" id="03dc1dd3"><div class="tabs__content" id="83729450" data-title="Objective-C">                             <div class="table-wrapper"><table class="  _layout-fixed" width="100%" id="0ffd543c"><thead><tr id="b0c1d59d" class="ijRowHead"><th id="cb2da7c0" width="50%"><p>之前</p></th><th id="f05771fd" width="50%"><p>后</p></th></tr></thead><tbody><tr id="4f121270" class="ijRowOdd"><td id="35101633">                                         <div class="code-block" data-lang="objectivec">-（void）performLogin {// self.textFieldEmail.text将提取到//电子邮件变量中BOOL isEmailValid = [self.emailValidator isEmailValid：self.textFieldEmail.text];如果（isEmailValid == NO）{[self.loginModel loginWithEmail：self.textFieldEmail.text]; }}</div>                                     </td><td id="c9cb9592">                                         <div class="code-block" data-lang="objectivec">-（void）performLogin {//提取变量NSString * email = self.textFieldEmail.text; BOOL isEmailValid = [self.emailValidator isEmailValid：email];如果（isEmailValid == NO）{[self.loginModel loginWithEmail：email]; }}</div>                                     </td></tr></tbody></table></div>                         </div><div class="tabs__content" id="75da83c6" data-title="Swift">                             <div class="table-wrapper"><table class="  _layout-fixed" width="100%" id="3a955e86"><thead><tr id="612d43a0" class="ijRowHead"><th id="959ed4f8" width="50%"><p>之前</p></th><th id="df48e25a" width="50%"><p>后</p></th></tr></thead><tbody><tr id="7809d8e4" class="ijRowOdd"><td id="652ad55d">                                         <div class="code-block" data-lang="swift">private func performLogin（）{//电子邮件：self.textFieldEmail.text ??将//提取到电子邮件变量let isEmailValid = self.emailValidator.isEmailValid（email：self.textFieldEmail.text ??“”）if（isEmailValid == true）{self.loginModel.login（电子邮件：self.textFieldEmail.text？“”）}}</div>                                     </td><td id="522d0b7e">                                         <div class="code-block" data-lang="swift">private func performLogin（）{//提取的变量let email = self.textFieldEmail.text ??“” let isEmailValid = self.emailValidator.isEmailValid（电子邮件：电子邮件）if（isEmailValid == true）{self.loginModel.login（电子邮件：电子邮件）}}</div>                                     </td></tr></tbody></table></div>                         </div></div></div></div></section>    </div>    <div class="chapter"><h2 id="extract_closure" data-toc="extract_refactoring#extract_closure">提取物封闭</h2>        <p id="21b9778d"><span class="keyword">提取闭包</span>重构可帮助您基于所选代码块创建闭包。</p>        <p id="0d3e41a5">重构仅适用于Swift。</p>        <figure id="8b928fad" width="650" data-theme="light"><img class="js-gif" src="/help/img/idea/2019.2/ac_extract_closure_sample.png" width="650" data-gif-src="/help/img/idea/2019.2/ac_extract_closure_sample.animated.gif" style="width:650px"></figure>        <section class="procedure-steps"><div class="collapse"><div class="collapse__title"><h3 id="to_extract_closure">执行提取封闭重构</h3></div><div class="collapse__content"><ol class="list _decimal"><li class="list__item" id="47e62824"><p>在编辑器中，选择要提取到闭包中的表达式。</p></li><li class="list__item" id="8d92ed8a"><p>按<kbd data-secondary_default="⌃T" data-secondary_eclipse="⌃⌥⇧T" data-secondary_eclipse_mac_os_x="⌃T" data-secondary_emacs="⌃⌥⇧T" data-secondary_intellij_idea_classic_os_x="⌥⇧⌘T" data-secondary_intellij_idea_classic_windows="⌃⌥⇧T" data-secondary_resharper="⌃⌥⇧T" data-secondary_resharper_osx="⌃⇧R" data-secondary_visual_studio="⌃⌥⇧T" data-secondary_xcode="⌃⌥⌘T" data-secondary_xcode_copy="⌃⌥⌘T">⌃T</kbd>然后选择<span class="control">关闭</span> 。或者，选择<span class="menupath" data-skip-index="skip">Refactor |提取物|</span>从主菜单或上下文菜单中<span class="menupath" data-skip-index="skip">关闭</span> 。</p></li><li class="list__item" id="5d347dbf"><p>如果有多个表达式可供提取，请从打开的列表中选择所需的表达式，然后按<kbd data-secondary_default="⏎" data-secondary_eclipse="⏎" data-secondary_eclipse_mac_os_x="⏎" data-secondary_emacs="⏎" data-secondary_intellij_idea_classic_os_x="⏎" data-secondary_intellij_idea_classic_windows="⏎" data-secondary_resharper="⏎" data-secondary_resharper_osx="⏎" data-secondary_visual_studio="⏎" data-secondary_xcode="⏎" data-secondary_xcode_copy="⏎">⏎</kbd> 。</p></li><li class="list__item" id="3b600b80"><p>在打开的对话框中，键入新闭包的名称，并在必要时更改参数名称和类型。</p></li><li class="list__item" id="0195fdcb"><p>按<kbd data-secondary_default="⏎" data-secondary_eclipse="⏎" data-secondary_eclipse_mac_os_x="⏎" data-secondary_emacs="⏎" data-secondary_intellij_idea_classic_os_x="⏎" data-secondary_intellij_idea_classic_windows="⏎" data-secondary_resharper="⏎" data-secondary_resharper_osx="⏎" data-secondary_visual_studio="⏎" data-secondary_xcode="⏎" data-secondary_xcode_copy="⏎">⏎</kbd> 。</p></li></ol></div></div></section>        <section class="procedure-steps"><div class="collapse"><div class="collapse__title"><h3 id="extract_closure_sample">代码示例</h3></div><div class="collapse__content"><div class="table-wrapper"><table class="  _layout-fixed" width="100%" id="f928d811"><thead><tr id="21c81ef5" class="ijRowHead"><th id="39573724" width="50%"><p>之前</p></th><th id="5ae31ea5" width="50%"><p>后</p></th></tr></thead><tbody><tr id="40c2ef4c" class="ijRowOdd"><td id="2b5e36b6">                        <div class="code-block" data-lang="swift">私人功能performLogin（）{让emailField = self.textFieldEmail让电子邮件= emailField？.text？“” let isEmailValid = self.emailValidator.isEmailValid（email：email）//此表达式将提取到闭包emailField？.textColor = isEmailValid吗？UIColor.black：UIColor.red // ...}</div>                    </td><td id="253fb790">                        <div class="code-block" data-lang="swift">私人功能performLogin（）{让emailField = self.textFieldEmail让电子邮件= emailField？.text？“” let isEmailValid = self.emailValidator.isEmailValid（email：email）//提取的闭包let setFieldStyle = {（textField：UITextField ?, islValid：Bool）in textField？UIColor.black：UIColor.red} setFieldStyle（emailField，isEmailValid）// ...}</div>                    </td></tr></tbody></table></div></div></div></section>    </div>    <div class="chapter"><h2 id="extract_constant" data-toc="extract_refactoring#extract_constant">提取常数</h2>        <p id="0df89f50"><span class="keyword">提取常量</span>重构可帮助您避免在不对其值或用途进行任何解释的情况下避免使用硬编码的常量。</p>        <p id="c402e789">重构仅适用于Objective-C。</p>        <figure id="0549c6ba" width="650" data-theme="light"><img class="js-gif" src="/help/img/idea/2019.2/ac_extract_constant.png" width="650" data-gif-src="/help/img/idea/2019.2/ac_extract_constant.animated.gif" style="width:650px"></figure>        <section class="procedure-steps"><div class="collapse"><div class="collapse__title"><h3 id="to_extract_constant">执行提取常量重构</h3></div><div class="collapse__content"><ol class="list _decimal"><li class="list__item" id="4156f02a"><p>在编辑器中，选择要用常量替换的变量的表达式或声明。</p></li><li class="list__item" id="cb4f4c42"><p>按<kbd data-secondary_default="⌥⌘C" data-secondary_eclipse="⌃⌥C" data-secondary_eclipse_mac_os_x="N/A" data-secondary_emacs="⌃⌥C" data-secondary_intellij_idea_classic_os_x="⌥⌘C" data-secondary_intellij_idea_classic_windows="⌃⌥C" data-secondary_resharper="⌃⌥C" data-secondary_resharper_osx="⌃⌥C" data-secondary_visual_studio="⌃⌥C" data-secondary_xcode="⌃⌥⌘C" data-secondary_xcode_copy="⌃⌥⌘C">⌥⌘C</kbd>引入一个常数或选择<span class="menupath" data-skip-index="skip">Refactor |提取物|</span>来自主菜单或上下文菜单的<span class="menupath" data-skip-index="skip">常量</span> 。</p></li><li class="list__item" id="d6eacc65"><p>如果有多个表达式可供提取，请从打开的列表中选择所需的表达式，然后按<kbd data-secondary_default="⏎" data-secondary_eclipse="⏎" data-secondary_eclipse_mac_os_x="⏎" data-secondary_emacs="⏎" data-secondary_intellij_idea_classic_os_x="⏎" data-secondary_intellij_idea_classic_windows="⏎" data-secondary_resharper="⏎" data-secondary_resharper_osx="⏎" data-secondary_visual_studio="⏎" data-secondary_xcode="⏎" data-secondary_xcode_copy="⏎">⏎</kbd> 。</p></li><li class="list__item" id="bd6bedbe"><p>从打开的建议列表中为常数选择一个名称，或键入一个新名称。</p></li><li class="list__item" id="ddbd0297"><p>如果要将常量移到头文件，请选中“ <span class="control">放置到头文件”</span>复选框。</p></li><li class="list__item" id="5e057da4"><p>如果您不想将常量声明为，请取消选中“ <span class="control">声明静态”</span>复选框。 <code class="code">static</code> 。</p></li><li class="list__item" id="dfa84c8e"><p>按<kbd data-secondary_default="⏎" data-secondary_eclipse="⏎" data-secondary_eclipse_mac_os_x="⏎" data-secondary_emacs="⏎" data-secondary_intellij_idea_classic_os_x="⏎" data-secondary_intellij_idea_classic_windows="⏎" data-secondary_resharper="⏎" data-secondary_resharper_osx="⏎" data-secondary_visual_studio="⏎" data-secondary_xcode="⏎" data-secondary_xcode_copy="⏎">⏎</kbd> 。</p></li></ol></div></div></section>        <section class="procedure-steps"><div class="collapse"><div class="collapse__title"><h3 id="code_extract_constant">代码示例</h3></div><div class="collapse__content"><div class="table-wrapper"><table class="  _layout-fixed" width="100%" id="7e9c0f1e"><thead><tr id="c1333189" class="ijRowHead"><th id="ca9c0f39" width="50%"><p>之前</p></th><th id="428074da" width="50%"><p>后</p></th></tr></thead><tbody><tr id="e66929b8" class="ijRowOdd"><td id="b29fc7cb">                        <div class="code-block" data-lang="objectivec">@implementation PasswordValidator +（BOOL）isPasswordValid：（NSString *）password {// 4将被提取为常量返回密码。length> 4; } @结束</div>                    </td><td id="1531f198">                        <div class="code-block" data-lang="objectivec">//提取常数static const int kMinPasswordLength = 4; @implementation PasswordValidator +（BOOL）isPasswordValid：（NSString *）password {返回password.length> kMinPasswordLength; } @结束</div>                    </td></tr></tbody></table></div></div></div></section>    </div>    <div class="chapter"><h2 id="extract_instance_variable" data-toc="extract_refactoring#extract_instance_variable">提取实例变量</h2>        <p id="0c52928e">通过“ <span class="keyword">提取实例变量”</span>重构，可以将表达式放入实例变量中。</p>        <p id="47be88ce">重构仅适用于Objective-C。</p>        <figure id="2b938c1f" width="650" data-theme="light"><img class="js-gif" src="/help/img/idea/2019.2/ac_extract_instance_variable.png" width="650" data-gif-src="/help/img/idea/2019.2/ac_extract_instance_variable.animated.gif" style="width:650px"></figure>        <section class="procedure-steps"><div class="collapse"><div class="collapse__title"><h3 id="to_extract_instance_variable">执行提取实例变量重构</h3></div><div class="collapse__content"><ol class="list _decimal"><li class="list__item" id="3b908e6e"><p>在编辑器中，选择要用实例变量替换的表达式。</p></li><li class="list__item" id="c7c00b07"><p>按<kbd data-secondary_default="⌥⌘F" data-secondary_eclipse="⌃⌥F" data-secondary_eclipse_mac_os_x="⌥⌘F" data-secondary_emacs="N/A" data-secondary_intellij_idea_classic_os_x="⌥⌘F" data-secondary_intellij_idea_classic_windows="⌃⌥F" data-secondary_resharper="⌃⌥F" data-secondary_resharper_osx="⌃E, F" data-secondary_visual_studio="⌃⌥F" data-secondary_xcode="⌃⌥⌘F" data-secondary_xcode_copy="⌃⌥⌘F">⌥⌘F</kbd>或选择“ <span class="menupath" data-skip-index="skip">重构|提取物|</span>从主菜单或上下文菜单中选择<span class="menupath" data-skip-index="skip">即时变量</span> 。</p></li><li class="list__item" id="c0f886e8"><p>如果有多个表达式可供提取，请从打开的列表中选择所需的表达式，然后按<kbd data-secondary_default="⏎" data-secondary_eclipse="⏎" data-secondary_eclipse_mac_os_x="⏎" data-secondary_emacs="⏎" data-secondary_intellij_idea_classic_os_x="⏎" data-secondary_intellij_idea_classic_windows="⏎" data-secondary_resharper="⏎" data-secondary_resharper_osx="⏎" data-secondary_visual_studio="⏎" data-secondary_xcode="⏎" data-secondary_xcode_copy="⏎">⏎</kbd> 。</p></li><li class="list__item" id="2dd41638"><p>从打开的建议列表中为实例变量选择一个名称，或键入一个新变量。</p></li><li class="list__item" id="09729984"><p>如果要为变量创建属性或在界面中声明它，请在打开的弹出窗口中选择相应的复选框。</p></li><li class="list__item" id="0035abb4"><p>按<kbd data-secondary_default="⏎" data-secondary_eclipse="⏎" data-secondary_eclipse_mac_os_x="⏎" data-secondary_emacs="⏎" data-secondary_intellij_idea_classic_os_x="⏎" data-secondary_intellij_idea_classic_windows="⏎" data-secondary_resharper="⏎" data-secondary_resharper_osx="⏎" data-secondary_visual_studio="⏎" data-secondary_xcode="⏎" data-secondary_xcode_copy="⏎">⏎</kbd> 。</p></li></ol></div></div></section>        <section class="procedure-steps"><div class="collapse"><div class="collapse__title"><h3 id="code_extract_initial_variable">代码示例</h3></div><div class="collapse__content"><div class="table-wrapper"><table class="  _layout-fixed" width="100%" id="9b058454"><thead><tr id="53aeed8b" class="ijRowHead"><th id="2a072ca7" width="50%"><p>之前</p></th><th id="aa232535" width="50%"><p>后</p></th></tr></thead><tbody><tr id="8c89fbd2" class="ijRowOdd"><td id="af3e79f6">                        <div class="code-block" data-lang="objectivec">@implementation LoginViewController {}-（void）performLogin {// ...[self.loginModel loginWithEmail：email密码：密码完成：^（BOOL成功）{//成功将提取到//实例变量if（success）{[self showAlertLoginSuccess]; } else {[self showAlertLoginFailed]; }}]; }</div>                    </td><td id="2196e0c7">                        <div class="code-block" data-lang="objectivec">@implementation LoginViewController {//提取的实例变量BOOL _loginSuccessful; }-（void）performLogin {// ...[self.loginModel loginWithEmail：电子邮件密码：密码完成：^（BOOL成功）{_loginSuccessful =成功；如果（_loginSuccessful）{[self showAlertLoginSuccess]; } else {[self showAlertLoginFailed]; }}]; }</div>                    </td></tr></tbody></table></div></div></div></section>    </div>    <div class="chapter"><h2 id="extract_property" data-toc="extract_refactoring#extract_property">提取属性</h2>        <p id="60d1cd2c"><span class="keyword">提取属性</span>重构使您可以将表达式和本地声明移至属性。</p>        <p id="2029a80e">重构仅适用于Objective-C。</p>        <figure id="84344b63" width="650" data-theme="light"><img class="js-gif" src="/help/img/idea/2019.2/ac_extract_property.png" width="650" data-gif-src="/help/img/idea/2019.2/ac_extract_property.animated.gif" style="width:650px"></figure>        <section class="procedure-steps"><div class="collapse"><div class="collapse__title"><h3 id="to_extract_property">执行提取属性重构</h3></div><div class="collapse__content"><ol class="list _decimal"><li class="list__item" id="4040df9d"><p>在编辑器中，选择要用属性替换的表达式或声明。</p></li><li class="list__item" id="8e9e27d6"><p>按<kbd data-secondary_default="⌥⌘E" data-secondary_eclipse="⌃⌥E" data-secondary_eclipse_mac_os_x="⌥⌘E" data-secondary_emacs="⌃⌥R" data-secondary_intellij_idea_classic_os_x="⌥⌘E" data-secondary_intellij_idea_classic_windows="⌃⌥E" data-secondary_resharper="⌃⌥E" data-secondary_resharper_osx="⌃⌥E" data-secondary_visual_studio="⌃⌥E" data-secondary_xcode="⌥⌘E" data-secondary_xcode_copy="⌥⌘E">⌥⌘E</kbd>或选择“ <span class="control">重构|提取物|</span>主菜单或上下文菜单中的<span class="control">属性</span> 。</p></li><li class="list__item" id="d40f1003"><p>如果有多个表达式可供提取，请从打开的列表中选择所需的表达式，然后按<kbd data-secondary_default="⏎" data-secondary_eclipse="⏎" data-secondary_eclipse_mac_os_x="⏎" data-secondary_emacs="⏎" data-secondary_intellij_idea_classic_os_x="⏎" data-secondary_intellij_idea_classic_windows="⏎" data-secondary_resharper="⏎" data-secondary_resharper_osx="⏎" data-secondary_visual_studio="⏎" data-secondary_xcode="⏎" data-secondary_xcode_copy="⏎">⏎</kbd> 。</p></li><li class="list__item" id="3a1c3f06"><p>从打开的建议列表中为属性选择一个名称，或键入一个新名称。</p></li><li class="list__item" id="661d86b6"><p>如果要在私有类别中生成属性，请选中“ <span class="control">放入私有类别”</span>复选框。否则，该属性将在头文件中声明。</p></li><li class="list__item" id="e3d23f64"><p>按<kbd data-secondary_default="⏎" data-secondary_eclipse="⏎" data-secondary_eclipse_mac_os_x="⏎" data-secondary_emacs="⏎" data-secondary_intellij_idea_classic_os_x="⏎" data-secondary_intellij_idea_classic_windows="⏎" data-secondary_resharper="⏎" data-secondary_resharper_osx="⏎" data-secondary_visual_studio="⏎" data-secondary_xcode="⏎" data-secondary_xcode_copy="⏎">⏎</kbd> 。</p></li></ol></div></div></section>        <section class="procedure-steps"><div class="collapse"><div class="collapse__title"><h3 id="code_extract_property">代码示例</h3></div><div class="collapse__content"><div class="table-wrapper"><table class="  _layout-fixed" width="100%" id="841919c7"><thead><tr id="23e69ef3" class="ijRowHead"><th id="fae9866f" width="50%"><p>之前</p></th><th id="4129b93c" width="50%"><p>后</p></th></tr></thead><tbody><tr id="287c9a21" class="ijRowOdd"><td id="a0ec9e60">                        <div class="code-block" data-lang="objectivec">@interface LoginViewController（）// ...@end @implementation LoginViewController {}-（void）performLogin {// ...[self.loginModel loginWithEmail：email密码：密码补全：^（BOOL成功）{//成功将提取到//属性，如果（成功）{[self showAlertLoginSuccess]; } else {[self showAlertLoginFailed]; }}]; }</div>                    </td><td id="093c69b0">                        <div class="code-block" data-lang="objectivec">@interface LoginViewController（）// ...//提取的属性@property（nonatomic）BOOL loginSuccessful; @end @implementation LoginViewController {}-（void）performLogin {// ...[self.loginModel loginWithEmail：电子邮件密码：密码完成：^（BOOL成功）{self.loginSuccessful =成功；如果（self.loginSuccessful）{[self showAlertLoginSuccess]; } else {[self showAlertLoginFailed]; }}]; }</div>                    </td></tr></tbody></table></div></div></div></section>    </div>    <div class="chapter"><h2 id="extract_parameter" data-toc="extract_refactoring#extract_parameter">提取参数</h2>        <p id="ff865143"><span class="keyword">提取参数</span>重构用于向方法声明中添加新参数，并相应地更新方法调用。</p>        <p id="8ee33f16">重构仅适用于Objective-C。</p>        <figure id="7ce3d1f3" width="650" data-theme="light"><img class="js-gif" src="/help/img/idea/2019.2/ac_extract_parameter.png" width="650" data-gif-src="/help/img/idea/2019.2/ac_extract_parameter.animated.gif" style="width:650px"></figure>        <section class="procedure-steps"><div class="collapse"><div class="collapse__title"><h3 id="to_extract_parameter">执行提取参数重构</h3></div><div class="collapse__content"><ol class="list _decimal"><li class="list__item" id="deee508b"><p>在编辑器中，将光标放在要作为参数引入的表达式中</p></li><li class="list__item" id="d3911d71"><p>按<kbd data-secondary_default="⌥⌘P" data-secondary_eclipse="⌃⌥P" data-secondary_eclipse_mac_os_x="⌥⌘P" data-secondary_emacs="⌃⌥P" data-secondary_intellij_idea_classic_os_x="⌥⌘P" data-secondary_intellij_idea_classic_windows="⌃⌥P" data-secondary_resharper="⌃R, P" data-secondary_resharper_osx="⌃E, P" data-secondary_visual_studio="⌃⌥P" data-secondary_xcode="⌃⌥⌘P" data-secondary_xcode_copy="⌃⌥⌘P">⌥⌘P</kbd>或选择“ <span class="menupath" data-skip-index="skip">重构|提取物|</span>来自主菜单或上下文菜单的<span class="menupath" data-skip-index="skip">参数</span> 。</p></li><li class="list__item" id="000db5b9"><p>如果有多个表达式可供提取，请从打开的列表中选择所需的表达式，然后按<kbd data-secondary_default="⏎" data-secondary_eclipse="⏎" data-secondary_eclipse_mac_os_x="⏎" data-secondary_emacs="⏎" data-secondary_intellij_idea_classic_os_x="⏎" data-secondary_intellij_idea_classic_windows="⏎" data-secondary_resharper="⏎" data-secondary_resharper_osx="⏎" data-secondary_visual_studio="⏎" data-secondary_xcode="⏎" data-secondary_xcode_copy="⏎">⏎</kbd> 。</p></li><li class="list__item" id="f6970602"><p>如果要将声明的参数声明为常量，请在打开的弹出窗口中选中“ <span class="control">声明const</span> ”。</p></li><li class="list__item" id="9c79318b"><p>按<kbd data-secondary_default="⏎" data-secondary_eclipse="⏎" data-secondary_eclipse_mac_os_x="⏎" data-secondary_emacs="⏎" data-secondary_intellij_idea_classic_os_x="⏎" data-secondary_intellij_idea_classic_windows="⏎" data-secondary_resharper="⏎" data-secondary_resharper_osx="⏎" data-secondary_visual_studio="⏎" data-secondary_xcode="⏎" data-secondary_xcode_copy="⏎">⏎</kbd> 。</p></li></ol></div></div></section><section class="procedure-steps"><div class="collapse"><div class="collapse__title"><h3 id="code_extract_parameter">代码示例</h3></div><div class="collapse__content"><div class="table-wrapper"><table class="  _layout-fixed" width="100%" id="eb4ed6b3"><thead><tr id="4184b8d5" class="ijRowHead"><th id="7a750992" width="50%"><p>之前</p></th><th id="f2870f9d" width="50%"><p>后</p></th></tr></thead><tbody><tr id="a071fe3c" class="ijRowOdd"><td id="d427a234">                        <div class="code-block" data-lang="objectivec">@implementation问候语{}-（NSString *）generateGreeting {//这个表达式将被转换为//方法的参数NSString * userName = @“ Bob”;返回[NSString stringWithFormat：@“你好％@”，用户名]; }-（void）print {//方法调用NSLog（@“％@”，[self generateGreeting]）; } @结束</div>                    </td><td id="eeb7907e">                        <div class="code-block" data-lang="objectivec">@implementation Greeting {} //具有新参数的方法-（NSString *）generateGreeting：（NSString *）userName {return [NSString stringWithFormat：@“ Hello％@”，userName]; }-（void）print {//方法调用NSLog（@“％@”，[self generateGreeting：@“ Bob”]）; } @结束</div>                    </td></tr></tbody></table></div></div></div></section>    </div>    <div class="chapter"><h2 id="extract_define" data-toc="extract_refactoring#extract_define">提取定义</h2>        <p id="d2592e9b"><span class="keyword">Extract Define</span>重构方法使用以下命令将选定的令牌集定义为宏。 <code class="code">#define</code>指令，并将代码集替换为代码中的宏调用。宏定义可以位于当前文件中，也可以移到相关的头文件中。</p>        <p id="e1223b48">重构仅适用于Objective-C。</p>        <figure id="c5d3d20e" width="610" data-theme="light"><img class="js-gif" src="/help/img/idea/2019.2/ac_extract_define.png" width="610" data-gif-src="/help/img/idea/2019.2/ac_extract_define.animated.gif" style="width:610px"></figure>        <section class="procedure-steps"><div class="collapse"><div class="collapse__title"><h3 id="to_extract_define">执行提取定义重构</h3></div><div class="collapse__content"><ol class="list _decimal"><li class="list__item" id="1d218dbd"><p>在编辑器中，选择要用宏调用替换的表达式。</p></li><li class="list__item" id="86782f54"><p>按<kbd data-secondary_default="⌥⌘D" data-secondary_eclipse="⌃⌥D" data-secondary_eclipse_mac_os_x="⌥⌘D" data-secondary_emacs="⌃⌥D" data-secondary_intellij_idea_classic_os_x="⌥⌘D" data-secondary_intellij_idea_classic_windows="⌃⌥D" data-secondary_resharper="⌃⌥D" data-secondary_resharper_osx="⌃⌥D" data-secondary_visual_studio="⌃⌥D" data-secondary_xcode="⌥⌘D" data-secondary_xcode_copy="⌥⌘D">⌥⌘D</kbd>或选择“ <span class="menupath" data-skip-index="skip">重构|提取物|</span>从主菜单或上下文菜单中<span class="menupath" data-skip-index="skip">提取定义</span> 。</p></li><li class="list__item" id="c0d79e6c"><p>如果有多个表达式可供提取，请从打开的列表中选择所需的表达式，然后按<kbd data-secondary_default="⏎" data-secondary_eclipse="⏎" data-secondary_eclipse_mac_os_x="⏎" data-secondary_emacs="⏎" data-secondary_intellij_idea_classic_os_x="⏎" data-secondary_intellij_idea_classic_windows="⏎" data-secondary_resharper="⏎" data-secondary_resharper_osx="⏎" data-secondary_visual_studio="⏎" data-secondary_xcode="⏎" data-secondary_xcode_copy="⏎">⏎</kbd> 。</p></li><li class="list__item" id="6abbef8d"><p>如果找到了一个以上的所选表达式，AppCode将建议替换所有出现的实例或仅替换所选的一个实例。从打开的列表中选择所需的选项。</p></li><li class="list__item" id="ff759d09"><p>从打开的建议列表中选择宏的名称，或键入一个新名称。</p></li><li class="list__item" id="7343da76"><p>如果你想宏定义移到头文件中选择<span class="control">投入头</span> 。</p></li></ol></div></div></section>        <section class="procedure-steps"><div class="collapse"><div class="collapse__title"><h3 id="code_extract_define">代码示例</h3></div><div class="collapse__content"><div class="table-wrapper"><table class="  _layout-fixed" width="100%" id="51016df2"><thead><tr id="a447c787" class="ijRowHead"><th id="969d2582" width="50%"><p>之前</p></th><th id="403b24b2" width="50%"><p>后</p></th></tr></thead><tbody><tr id="83dc9c5a" class="ijRowOdd"><td id="c9747563">                        <div class="code-block" data-lang="objectivec">@implementation Screen {}-（CGPoint）getScreenCenter {//将提取[UIScreen mainScreen] .bounds.size返回CGPointMake（0.5 * [UIScreen mainScreen] .bounds.size.width，0.5 * [UIScreen mainScreen] .bounds.size 。高度）; } @结束</div>                    </td><td id="888b2712">                        <div class="code-block" data-lang="objectivec">//提取#define #define SCREEN_SIZE [UIScreen mainScreen] .bounds.size @implementation Screen {}-（CGPoint）getScreenCenter {return CGPointMake（0.5 * SCREEN_SIZE.width，0.5 * SCREEN_SIZE.height）; } @结束</div>                    </td></tr></tbody></table></div></div></div></section>    </div>    <div class="chapter"><h2 id="extract_typedef" data-toc="extract_refactoring#extract_typedef">提取typedef</h2>        <p id="9455aa95"><span class="keyword">提取Typedef</span>重构将选定的类型声明更改为typedef定义。当实际声明繁琐，可能引起混淆或可能因一种实现而异时，或者只是使代码表示更加清晰易读时，可以应用<span class="keyword">Extract Typedef</span> 。</p>        <p id="0a20b854">重构仅适用于Objective-C。</p>        <figure id="7bb9a4d1" width="650" data-theme="light"><img class="js-gif" src="/help/img/idea/2019.2/ac_extract_typedef.png" width="650" data-gif-src="/help/img/idea/2019.2/ac_extract_typedef.animated.gif" style="width:650px"></figure>        <section class="procedure-steps"><div class="collapse"><div class="collapse__title"><h3 id="to_extract_typedef">执行Extract Typedef重构</h3></div><div class="collapse__content"><ol class="list _decimal"><li class="list__item" id="0e591c3a"><p>在编辑器中，选择要重新声明的类型声明。</p></li><li class="list__item" id="32ba4156"><p>按<kbd data-secondary_default="⌥⌘K" data-secondary_eclipse="⌃⌥K" data-secondary_eclipse_mac_os_x="⌥⌘K" data-secondary_emacs="⌃⌥K" data-secondary_intellij_idea_classic_os_x="⌥⌘K" data-secondary_intellij_idea_classic_windows="⌃⌥K" data-secondary_resharper="⌃⌥K" data-secondary_resharper_osx="⌃⌥K" data-secondary_visual_studio="⌃⌥K" data-secondary_xcode="⌥⌘K" data-secondary_xcode_copy="⌥⌘K">⌥⌘K</kbd>或选择“ <span class="menupath" data-skip-index="skip">重构|提取物|</span>从主菜单或上下文菜单中<span class="menupath" data-skip-index="skip">提取Typedef</span> 。</p></li><li class="list__item" id="f4170697"><p>如果有多个表达式可供提取，请从打开的列表中选择所需的表达式，然后按<kbd data-secondary_default="⏎" data-secondary_eclipse="⏎" data-secondary_eclipse_mac_os_x="⏎" data-secondary_emacs="⏎" data-secondary_intellij_idea_classic_os_x="⏎" data-secondary_intellij_idea_classic_windows="⏎" data-secondary_resharper="⏎" data-secondary_resharper_osx="⏎" data-secondary_visual_studio="⏎" data-secondary_xcode="⏎" data-secondary_xcode_copy="⏎">⏎</kbd> 。</p></li><li class="list__item" id="9eaac637"><p>如果找到了一个以上的所选表达式，AppCode将建议替换所有出现的实例或仅替换所选的一个实例。从打开的列表中选择所需的选项。</p></li><li class="list__item" id="478e341a"><p>从打开的建议列表中为typedef选择一个名称，或键入一个新名称。</p></li><li class="list__item" id="838dd00d"><p>如果要将typedef定义移动到头文件，请选择“ <span class="control">放入</span>头文件”。</p></li></ol></div></div></section>        <section class="procedure-steps"><div class="collapse"><div class="collapse__title"><h3 id="code_extract_typedef">代码示例</h3></div><div class="collapse__content"><div class="table-wrapper"><table class="  _layout-fixed" width="100%" id="f575cfba"><thead><tr id="1af187ea" class="ijRowHead"><th id="f6019981" width="50%"><p>之前</p></th><th id="538ba9c2" width="50%"><p>后</p></th></tr></thead><tbody><tr id="fe4a69ca" class="ijRowOdd"><td id="48a86d08">                        <div class="code-block" data-lang="objectivec">@interface LoginModel：NSObject-（void）loginWithEmail：（NSString *）电子邮件密码：（NSString *）password // void（^）（BOOL成功）将提取为typedef完成：（void（^）（BOOL成功） ）完成@结束</div>                    </td><td id="a4f5b346">                        <div class="code-block" data-lang="objectivec">//提取typedef typedef void（^ LoginModelCompletion）（BOOL）; @interface LoginModel：NSObject-（void）loginWithEmail：（NSString *）电子邮件密码：（NSString *）密码完成：（LoginModelCompletion）完成; @结束</div>                    </td></tr></tbody></table></div></div></div></section>    </div>    <div class="chapter"><h2 id="extract_method" data-toc="extract_refactoring#extract_method">提取方法</h2>        <p id="734a9781"><span class="keyword">提取方法</span>重构使您可以将可以组合在一起的代码片段，将其移动到单独的方法中，并用对该方法的调用替换旧代码。</p>        <p id="5078dd90"><span class="keyword">提取方法</span>重构具有以下限制：</p>            <ul class="list _ul"><li class="list__item" id="e636ca8f"><p>在自动模式下，重构不适用于多个输出值。您必须在应用重构之前更改代码，例如，您可能会引入一个包含所有输出值的特殊数据类。</p></li><li class="list__item" id="ea261306"><p>重构不适用于代码片段，该代码片段有条件地从containing方法返回，并且未置于其末尾。</p></li></ul>            <p id="a60e8267">要反转<span class="control">提取方法</span>重构，请按<kbd data-secondary_default="⌥⌘N" data-secondary_eclipse="⌥⇧I" data-secondary_eclipse_mac_os_x="⌥⌘I" data-secondary_emacs="⌃⌥N" data-secondary_intellij_idea_classic_os_x="⌥⌘N" data-secondary_intellij_idea_classic_windows="⌃⌥N" data-secondary_resharper="⌃R, I" data-secondary_resharper_osx="⌃R, S" data-secondary_visual_studio="⌃⌥N" data-secondary_xcode="⌥⌘N" data-secondary_xcode_copy="⌥⌘N">⌥⌘N</kbd>调用<a href="inline.html">内联重构</a> 。</p>        <figure id="5fc1d60d" width="650" data-theme="light"><img class="js-gif" src="/help/img/idea/2019.2/ac_extract_method.png" width="650" data-gif-src="/help/img/idea/2019.2/ac_extract_method.animated.gif" style="width:650px"></figure>        <section class="procedure-steps"><div class="collapse"><div class="collapse__title"><h3 id="to_extract_method">执行提取方法重构</h3></div><div class="collapse__content"><ol class="list _decimal"><li class="list__item" id="4553ce88"><p>选择要提取到方法的代码片段。</p></li><li class="list__item" id="08c21f00"><p>按<kbd data-secondary_default="⌥⌘M" data-secondary_eclipse="⌥⇧M" data-secondary_eclipse_mac_os_x="⌥⌘M" data-secondary_emacs="⌃⌥M" data-secondary_intellij_idea_classic_os_x="⌥⌘M" data-secondary_intellij_idea_classic_windows="⌃⌥M" data-secondary_resharper="⌃R, M" data-secondary_resharper_osx="⌃R, M" data-secondary_visual_studio="⌃⌥M" data-secondary_xcode="⌃⌥⌘M" data-secondary_xcode_copy="⌃⌥⌘M">⌥⌘M</kbd>或从主菜单或上下文菜单中，选择“ <span class="menupath" data-skip-index="skip">重构|提取物|方法</span> 。</p></li><li class="list__item" id="8d119cdf"><p>在打开的对话框中，配置方法选项，例如可见性，参数名称，选择器部件（用于Objective-C）等等。如果需要，还可以更改方法的名称。</p></li><li class="list__item" id="ad20cee4"><p>单击<span class="control">提取</span> 。</p></li></ol></div></div></section>        <section class="procedure-steps"><div class="collapse"><div class="collapse__title"><h3 id="code_extract_method">代码示例</h3></div><div class="collapse__content"><div class="tabs" id="b79f94e3"><div class="tabs__content" id="7fc7fce4" data-title="Objective-C">                    <div class="table-wrapper"><table class="  _layout-fixed" width="100%" id="6fb06b71"><thead><tr id="3d8ccacd" class="ijRowHead"><th id="29510168" width="50%"><p>之前</p></th><th id="018f5a89" width="50%"><p>后</p></th></tr></thead><tbody><tr id="9d20d957" class="ijRowOdd"><td id="934bb3c7">                                <div class="code-block" data-lang="objectivec">-（void）setupUI {// ...//将此代码提取到方法self.textFieldEmail.placeholder = @“ Email”; self.textFieldEmail.keyboardType = UIKeyboardTypeEmailAddress; self.textFieldEmail.autocorrectionType = UITextAutocorrectionTypeNo; self.textFieldEmail.autocapitalizationType = UITextAutocapitalizationTypeNone; [self setIsValid：YES for TextField：self.textFieldEmail]; }</div>                            </td><td id="ef3f0f7b">                                <div class="code-block" data-lang="objectivec">-（void）setupUI {// ...//提取方法的调用[self setupTextFieldStyle]; } //提取的方法-（void）setupTextFieldStyle {self.textFieldEmail.placeholder = @“ Email”; self.textFieldEmail.keyboardType = UIKeyboardTypeEmailAddress; self.textFieldEmail.autocorrectionType = UITextAutocorrectionTypeNo; self.textFieldEmail.autocapitalizationType = UITextAutocapitalizationTypeNone; [self setIsValid：YES for TextField：self.textFieldEmail]; }</div>                            </td></tr></tbody></table></div>                </div><div class="tabs__content" id="036b9578" data-title="Swift">                    <div class="table-wrapper"><table class="  _layout-fixed" width="100%" id="8ec0c1bd"><thead><tr id="bfa9822d" class="ijRowHead"><th id="eb10f0b4" width="50%"><p>之前</p></th><th id="794bbcef" width="50%"><p>后</p></th></tr></thead><tbody><tr id="f06494ae" class="ijRowOdd"><td id="19e7a0c1">                                <div class="code-block" data-lang="swift">私人功能setupUI（）{// ...//将此代码提取到方法self.textFieldEmail.placeholder =“ Email” self.textFieldEmail.keyboardType = .emailAddress self.textFieldEmail.autocorrectionType = .no self.textFieldEmail.autocapitalizationType = .none self.setIsValid（isValid：true ，textField：self.textFieldEmail）}</div>                            </td><td id="979139c4">                                <div class="code-block" data-lang="swift">私人功能setupUI（）{// ...//提取方法的调用setupTextFieldStyle（）} //提取方法私有函数setupTextFieldStyle（）{self.textFieldEmail.placeholder =“ Email” self.textFieldEmail.keyboardType = .emailAddress self.textFieldEmail.autocorrectionType = .no self.textFieldEmail.autocapitalizationType = .none self.setIsValid（isValid：true，textField：self.textFieldEmail）}</div>                            </td></tr></tbody></table></div>                </div></div></div></div></section>    </div>    <div class="chapter"><h2 id="extract_block_parameter" data-toc="extract_refactoring#extract_block_parameter">提取块参数</h2>        <p id="6d4f4f2c">通过“ <span class="control">提取块参数”</span>重构，可以基于方法中选定的代码块创建块声明。结果，将创建的块作为参数传递给此方法，并且此方法的所有现有用法都相应更改。</p>        <p id="5a0d1f8e">重构仅适用于Objective-C。</p>        <figure id="30c79eb1" width="650" data-theme="light"><img class="js-gif" src="/help/img/idea/2019.2/ac_extract_block_parameter.png" width="650" data-gif-src="/help/img/idea/2019.2/ac_extract_block_parameter.animated.gif" style="width:650px"></figure>        <section class="procedure-steps"><div class="collapse"><div class="collapse__title"><h3 id="to_extract_block_parameter">执行提取块参数重构</h3></div><div class="collapse__content"><ol class="list _decimal"><li class="list__item" id="b634176c"><p>在编辑器中，选择要用块声明替换的代码（在方法内）。</p></li><li class="list__item" id="8849b27c"><p>选择<span class="menupath" data-skip-index="skip">重构|提取物|</span>从主菜单或上下文菜单中<span class="menupath" data-skip-index="skip">提取块参数</span> 。</p></li><li class="list__item" id="bbe59ba8"><p>在打开的对话框中，输入块的名称。如有必要，添加/删除参数，编辑参数名称和类型，然后单击解<span class="control">压缩</span> 。</p></li></ol></div></div></section>        <section class="procedure-steps"><div class="collapse"><div class="collapse__title"><h3 id="code_extract_code_block">代码示例</h3></div><div class="collapse__content"><div class="table-wrapper"><table class="  _layout-fixed" width="100%" id="e342b9d6"><thead><tr id="516805fd" class="ijRowHead"><th id="25171db0" width="50%"><p>之前</p></th><th id="2655c262" width="50%"><p>后</p></th></tr></thead><tbody><tr id="69b05d97" class="ijRowOdd"><td id="13c9427a">                        <div class="code-block" data-lang="objectivec">-（void）performLogin {// ...[self.loginModel loginWithEmail：email密码：密码完成：^（BOOL成功）{//如果（成功）{[self showAlertLoginSuccess]； } else {[self showAlertLoginFailed]; }}]; }-（IBAction）buttonLoginPressed：（id）sender {//方法的调用[self performLogin]; }</div>                    </td><td id="e954a001">                        <div class="code-block" data-lang="objectivec">-（void）performLogin：（void（^）（BOOL））completion {// ...[self.loginModel loginWithEmail：email密码：密码完成：^（BOOL成功）{//提取的块完成（成功）； }]; }-（IBAction）buttonLoginPressed：（id）sender {//以提取的块作为参数//作为参数的方法调用[self performLogin：^（BOOL控制器）{if（controller）{[self showAlertLoginSuccess]; } else {[self showAlertLoginFailed]; }}]; }</div>                    </td></tr></tbody></table></div></div></div></section>    </div>    <div class="chapter"><h2 id="extract_superclass" data-toc="extract_refactoring#extract_superclass">提取超类</h2>        <p id="c33c7391">通过<span class="keyword">提取超类</span>重构，可以将类的某些成员提取到新创建的超类中。</p>        <p id="ead2b187">重构仅适用于Objective-C。</p>        <figure id="f8dabc35" width="650" data-theme="light"><img class="js-gif" src="/help/img/idea/2019.2/ac_extract_superclass.png" width="650" data-gif-src="/help/img/idea/2019.2/ac_extract_superclass.animated.gif" style="width:650px"></figure>        <section class="procedure-steps"><div class="collapse"><div class="collapse__title"><h3 id="to_extract_superclass">执行提取超类重构</h3></div><div class="collapse__content"><ol class="list _decimal"><li class="list__item" id="cb198b7e"><p>在编辑器中选择所需的类。</p></li><li class="list__item" id="25ce99b0"><p>选择<span class="menupath" data-skip-index="skip">重构|提取物|</span>来自主菜单或上下文菜单的<span class="menupath" data-skip-index="skip">超类</span> 。</p></li><li class="list__item" id="b4fc9a9b"><p>在打开的对话框中，输入新超类的名称，选择要移至超类的成员，然后单击<span class="control">Extract</span> 。</p></li></ol></div></div></section>        <section class="procedure-steps"><div class="collapse"><div class="collapse__title"><h3 id="code_extract_superclass">代码示例</h3></div><div class="collapse__content"><a name="superclass_sample"></a><div class="table-wrapper"><table class="  _layout-fixed" width="100%" id="ce0f8a7b"><thead><tr id="38783c57" class="ijRowHead"><th id="30f0432d" width="50%"><p>之前</p></th><th id="1e7a7822" width="50%"><p>后</p></th></tr></thead><tbody><tr id="c4310c9f" class="ijRowOdd"><td id="f4b82f38">                        <div class="code-block" data-lang="objectivec">// Dog类的所有方法//将移到超类// Dog.h @interface Dog：NSObject-（void）run; -（无效）进食； @end // Dog.m @implementation Dog {}-（void）run {NSLog（@“我在跑步”）; }-（无效）吃{NSLog（@“我在吃东西”）; } @结束</div>                    </td><td id="90a73018">                        <div class="code-block" data-lang="objectivec">//新的超类// Animal.h @interface Animal：NSObject-（void）run; -（无效）进食； @end // Animal.m @implementation动物{}-（void）run {NSLog（@“我在跑步”）; }-（无效）吃{NSLog（@“我在吃东西”）; } @end // Dog类现在是Animal类的子类// Dog.h @interface Dog：动物@end // Dog.m @implementation Dog {} @end</div>                    </td></tr></tbody></table></div></div></div></section>    </div>    <div class="chapter"><h2 id="extract_subclass" data-toc="extract_refactoring#extract_subclass">提取子类</h2>        <p id="43df9c69">通过<span class="keyword">提取子类</span>重构，可以将<span class="keyword">类的</span>某些成员提取到新创建的子类中。</p>        <p id="89c71209">重构仅适用于Objective-C。</p>        <figure id="4708bb3f" width="650" data-theme="light"><img class="js-gif" src="/help/img/idea/2019.2/ac_extract_subclass.png" width="650" data-gif-src="/help/img/idea/2019.2/ac_extract_subclass.animated.gif" style="width:650px"></figure>        <section class="procedure-steps"><div class="collapse"><div class="collapse__title"><h3 id="to_extract_subclass">执行Extract子类重构</h3></div><div class="collapse__content"><ol class="list _decimal"><li class="list__item" id="e2f0619c"><p>在编辑器中选择所需的类。</p></li><li class="list__item" id="a96d1193"><p>选择<span class="menupath" data-skip-index="skip">重构|提取物|</span>主菜单或上下文菜单中的<span class="menupath" data-skip-index="skip">子类</span> 。</p></li><li class="list__item" id="c7614d32"><p>在打开的对话框中，输入新子类的名称，选择要在其中移动的成员，然后单击“ <span class="control">提取”</span> 。</p></li></ol></div></div></section>        <section class="procedure-steps"><div class="collapse"><div class="collapse__title"><h3 id="code_extract_subclass">代码示例</h3></div><div class="collapse__content"><a name="subclass_sample"></a><div class="table-wrapper"><table class="  _layout-fixed" width="100%" id="d1b494ec"><thead><tr id="9b050e06" class="ijRowHead"><th id="9185d17f" width="50%"><p>之前</p></th><th id="61fa4d1d" width="50%"><p>后</p></th></tr></thead><tbody><tr id="5432c46f" class="ijRowOdd"><td id="478ccaee">                        <div class="code-block" data-lang="objectivec">// Animal.h @interface Animal：NSObject-（void）喵； -（无效）运行； -（无效）进食； @end // Animal.m @implementation Animal {} //此方法将// //移至子类-（void）meow {NSLog（@“ Meow！“）;}-（void）运行{NSLog（@”我在跑步“）;}-（void）吃{NSLog（@”我在吃饭“）;} @end</div>                    </td><td id="c9eaef2f">                        <div class="code-block" data-lang="objectivec">//新的子类// Cat.h @interface Cat：Animal-（void）meow; @end // Cat.m @implementation Cat {}-（无效）喵{NSLog（@“喵！“）;} @end // Animal类// // Animal.h @interface Animal：NSObject-（void）run;-（void）eat; @end // Animal.m @implementation Animal {}-（void）run {NSLog（@“我在跑步”）;}-（无效）吃{NSLog（@“我在吃饭”）;} @end</div>                    </td></tr></tbody></table></div></div></div></section>    </div>    <div class="chapter"><h2 id="extract_protocol" data-toc="extract_refactoring#extract_protocol">提取协议</h2>        <p id="af366bb2">通过解<span class="control">压缩协议</span>重构，您可以基于当前类的成员创建新协议。</p>        <p id="832781ce">重构仅适用于Objective-C。</p>        <figure id="d0987b29" width="650" data-theme="light"><img class="js-gif" src="/help/img/idea/2019.2/ac_extract_protocol.png" width="650" data-gif-src="/help/img/idea/2019.2/ac_extract_protocol.animated.gif" style="width:650px"></figure>        <section class="procedure-steps"><div class="collapse"><div class="collapse__title"><h3 id="to_extract_protocol">执行提取协议重构</h3></div><div class="collapse__content"><ol class="list _decimal"><li class="list__item" id="bf4a749b"><p>在编辑器中选择所需的类。</p></li><li class="list__item" id="70b5a079"><p>选择<span class="menupath" data-skip-index="skip">重构|提取物|</span>主菜单或上下文菜单中的<span class="menupath" data-skip-index="skip">协议</span> 。</p></li><li class="list__item" id="01e7a692"><p>在打开的对话框中，输入新协议的名称，选择要在其中移动的成员，然后单击解<span class="control">压缩</span> 。</p></li></ol></div></div></section>        <section class="procedure-steps"><div class="collapse"><div class="collapse__title"><h3 id="code_extract_protocol">代码示例</h3></div><div class="collapse__content"><div class="table-wrapper"><table class="  _layout-fixed" width="100%" id="01b7cf53"><thead><tr id="7d54e440" class="ijRowHead"><th id="a4f1e481" width="50%"><p>之前</p></th><th id="701896fc" width="50%"><p>后</p></th></tr></thead><tbody><tr id="de7baba4" class="ijRowOdd"><td id="ace01978">                        <div class="code-block" data-lang="objectivec">// Dog.h @interface Dog //此方法将提取到协议中-（void）swim; -（无效）运行； -（无效）进食； @end // Dog.m @implementation Dog {}-（void）swim {NSLog（@“我在游泳”）; }-（void）运行{NSLog（@“我正在运行”）; }-（无效）吃{NSLog（@“我在吃东西”）; } @结束</div>                    </td><td id="97537542">                        <div class="code-block" data-lang="objectivec">//新协议// Swimmable.h @protocol Swimmable <nsobject>>-（void）swim; @end // Dog.h @interface Dog- <swimmable>（void）运行; -（无效）进食； @end // Dog.m @implementation Dog {}-（void）swim {NSLog（@“我在游泳”）; }-（void）运行{NSLog（@“我正在运行”）; }-（无效）吃{NSLog（@“我在吃东西”）; } @结束</swimmable></nsobject></div>                    </td></tr></tbody></table></div></div></div></section>    </div>    <div class="chapter"><h2 id="extract_category" data-toc="extract_refactoring#extract_category">提取类别</h2>        <p id="c2f98390">使用<span class="control">提取类别</span>重构，您可以基于当前类的成员创建一个新类别。</p>        <p id="4fc17938">重构仅适用于Objective-C。</p>        <figure id="1b7312ef" width="650" data-theme="light"><img class="js-gif" src="/help/img/idea/2019.2/ac_extract_category.png" width="650" data-gif-src="/help/img/idea/2019.2/ac_extract_category.animated.gif" style="width:650px"></figure>        <section class="procedure-steps"><div class="collapse"><div class="collapse__title"><h3 id="to_extract_protocol">执行提取类别重构</h3></div><div class="collapse__content"><ol class="list _decimal"><li class="list__item" id="fa6cb12a"><p>在编辑器中选择所需的类。</p></li><li class="list__item" id="44261afb"><p>选择<span class="menupath" data-skip-index="skip">重构|提取物|</span>从主或上下文菜单<span class="menupath" data-skip-index="skip">类别</span> 。</p></li><li class="list__item" id="dd874979"><p>在打开的对话框中，输入新类别的名称，选择要在其中移动的成员，然后单击<span class="control">提取</span> 。</p></li></ol></div></div></section>        <section class="procedure-steps"><div class="collapse"><div class="collapse__title"><h3 id="code_extract_category">代码示例</h3></div><div class="collapse__content"><div class="table-wrapper"><table class="  _layout-fixed" width="100%" id="be219148"><thead><tr id="239ba7cc" class="ijRowHead"><th id="8b87a39c" width="50%"><p>之前</p></th><th id="3470995f" width="50%"><p>后</p></th></tr></thead><tbody><tr id="6469ad34" class="ijRowOdd"><td id="0e938db5">                        <div class="code-block" data-lang="objectivec">// Cat.h @interface Cat：NSObject-（void）purr; -（无效）喵; @end // Cat.m @implementation Cat {} //此方法将//提取到类别-（void）purr {NSLog（@“ Purr，purr，purr ...”）; }-（无效）喵叫{NSLog（@“喵！“）; } @结束</div>                    </td><td id="10912c08">                        <div class="code-block" data-lang="objectivec">//新类别// Cat + Purr.h @interface Cat（Purr）-（void）purr; @end // Cat + Purr.m @implementation Cat（Purr）-（void）purr {NSLog（@“ Purr，purr，purr ...”）; } @end // Cat.h @interface Cat：NSObject-（void）喵； @end // Cat.m @implementation Cat {}-（void）meow {NSLog（@“ Meow！“）; } @结束</div>                    </td></tr></tbody></table></div></div></div></section>    </div><div class="last-modified" data-skip-index="skip">上次修改时间：2019年10月10日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="safe-delete.html">安全删除</a> <a class="navigation-links__next" href="inline.html">内联</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>