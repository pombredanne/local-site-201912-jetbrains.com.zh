<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>折叠电话-帮助| dotTrace</title><link rel="stylesheet" href="/resources.jetbrains.com/storage/help-app/v3/app.css"></head><body  data-id="Folding_Calls" data-disqus-id="Folding_Calls_dt"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索dotTrace帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>dotTrace 2019.2帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option value="rs" data-group="secondary">ReSharper 2.x / IntelliJ IDEA</option><option value="vs" data-group="primary">视觉工作室</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 id="Folding_Calls.xml" data-toc="Folding_Calls">折叠电话</h1>    <p id="b51af523">可以通过折叠对分析无意义的呼叫组来简化“ <span class="control">呼叫树”</span> 。即，系统函数调用和递归调用的链。</p>    <div class="chapter"><h2 id="40de9352" data-toc="Folding_Calls#40de9352">折叠系统调用</h2>    <a name="filtered_calls"></a>    <p id="6251254f">系统调用是对非用户代码的调用，例如，从<code class="code">System</code>和<code class="code">Microsoft</code>命名空间。通常，这些呼叫会被过滤掉，并在<span class="control">呼叫树中</span>以灰色字体显示。使用<i id="fe103be3">折叠</i>隐藏系统调用链：</p>        <ul class="list _ul"><li class="list__item" id="a534fe80"><p>可以折叠的系统调用链标有<img alt="呼叫链展开" title="呼叫链展开" src="/help/img/dotnet/2019.2/callchain_unfolded.png" id="0b1ac520" width="16" height="16" class="inline-icon-16">图标。</p></li><li class="list__item" id="df5263ed"><p>折叠式电话链上标有<img alt="折叠式" title="折叠式" src="/help/img/dotnet/2019.2/callchain_folded.png" id="ab697495" width="16" height="16" class="inline-icon-16">图标。</p></li><li class="list__item" id="de7d0328"><p>请注意，您可以<a href="Configuring_the_List_of_System_Modules.html">将用户程序集标记</a>为系统<a href="Configuring_the_List_of_System_Modules.html">程序集</a> 。</p></li></ul>        <a name="fold"></a>    <section class="procedure-steps"><h3 id="dfe26a84">折叠系统调用链</h3><ol class="list _decimal"><li class="list__item" id="d65e03c0"><p>选择包含系统呼叫的所需呼叫链。</p></li><li class="list__item" id="56d3ffbf"><p>请点击<img alt="呼叫链展开" title="呼叫链展开" src="/help/img/dotnet/2019.2/callchain_unfolded.png" id="61ba13ef" width="16" height="16" class="inline-icon-16">或按<kbd class="keystroke" data-bypass="true"><span class="keystroke__value">Ctrl+Space</span></kbd>折叠通话。</p></li></ol></section>    <section class="procedure-steps"><h3 id="f5b58c0d">展开一系列系统调用</h3><ol class="list _decimal"><li class="list__item" id="71eb22ef"><p>选择包含系统呼叫的所需呼叫链。</p></li><li class="list__item" id="ed7f20ff"><p>请点击<img alt="折叠式" title="折叠式" src="/help/img/dotnet/2019.2/callchain_folded.png" id="ed0407d2" width="16" height="16" class="inline-icon-16">或按<kbd class="keystroke" data-bypass="true"><span class="keystroke__value">Ctrl+Space</span></kbd>展开通话。</p></li></ol></section>    <div class="chapter"><h3 id="d58da7c0">例</h3>    <figure><img alt="电视素色清单2" title="电视素色清单2" src="/help/img/dotnet/2019.2/tv_plain_list_2.png" id="c7c1d890" width="466" height="225"></figure>    <p id="267377ed">例如，如果在上面的示例中配置了折叠，以便必须折叠所有系统调用，则“ <span class="control">调用树”</span>将如下所示：</p>    <p id="5c6831da">        <b id="9e28e029">UserMethod1</b> <br>| <b id="8e177f3d">UserMethod2</b> <br>| | <b id="034e36bc">SystemMethod2</b> <br>| <img alt="折叠式" title="折叠式" src="/help/img/dotnet/2019.2/callchain_folded.png" id="16437afc" width="16" height="16" class="inline-icon-16"> <b id="e816451e">系统方法1</b> <br>| <b id="0a5e4aad">UserMethod1</b> <br>| <b id="d774e90a">UserMethod2</b> <br>| <b id="e35a19cd">系统方法1</b> <br>    </p>    </div>    </div>    <div class="chapter"><h2 id="folding-recursive-calls" data-toc="Folding_Calls#folding-recursive-calls">折叠递归调用</h2>        <p id="497004d2">递归调用堆栈可能很深且难以分析。因此，具有多个递归调用的复杂调用堆栈几乎需要无限的堆栈滚动。为了简化对此类调用堆栈的分析，您可以折叠递归调用。折叠一串递归调用时，dotTrace会重新计算此调用树（它汇总所有递归子树中特定方法的调用时间），并通过方法签名显示信息：</p>        <ul class="list _ul"><li class="list__item" id="590b2602"><p>递归调用标有<img alt="ico递归" title="ico递归" src="/help/img/dotnet/2019.2/ico_recursive.png" id="14233a47" width="15" height="14" class="inline-icon-15">图标。</p></li><li class="list__item" id="336855b4"><p>折叠式递归调用标有<img alt="ico递归崩溃" title="ico递归崩溃" src="/help/img/dotnet/2019.2/ico_recursive_collapse.png" id="b6a516af" width="15" height="12" class="inline-icon-15">图标。</p></li></ul>        <section class="procedure-steps"><h3 id="ae90958f">折叠递归调用</h3><ol class="list _decimal"><li class="list__item" id="54a70e61"><p>在“ <span class="control">调用树”中</span>选择一个递归函数调用。</p></li><li class="list__item" id="1857b32f"><p>请点击<img alt="ico递归" title="ico递归" src="/help/img/dotnet/2019.2/ico_recursive.png" id="fad4dcc0" width="15" height="14" class="inline-icon-15">折叠函数调用。</p></li></ol></section>        <section class="procedure-steps"><h3 id="4a4fe22c">进行递归调用</h3><ol class="list _decimal"><li class="list__item" id="fba8605e"><p>在“ <span class="control">调用树”中</span>选择一个递归函数调用。</p></li><li class="list__item" id="813df966"><p>请点击<img alt="ico递归崩溃" title="ico递归崩溃" src="/help/img/dotnet/2019.2/ico_recursive_collapse.png" id="9dff8fe4" width="15" height="12" class="inline-icon-15">展开函数调用。</p></li></ol></section>        <div class="chapter"><h3 id="a82e6eb6">例</h3>        <p id="1af57b7c">考虑一个示例，以更好地了解递归调用折叠时Timeline Viewer如何计算调用时间。</p>        <figure><img alt="折叠式递归调用示例" title="折叠式递归调用示例" src="/help/img/dotnet/2019.2/folded_recursive_calls_example.png" id="77f3148e" width="443" height="324"></figure>        <p id="6d804e15">如果在上面的示例中，您折叠了从调用<b id="40075361">A</b>开始的递归调用<code class="code">UserMethod1</code> ， <span class="control">呼叫树</span>将如下所示（每个字母代表一个呼叫自己的时间）。</p>        <p id="d50a4856">            <img alt="ico递归崩溃" title="ico递归崩溃" src="/help/img/dotnet/2019.2/ico_recursive_collapse.png" id="cff199da" width="15" height="12" class="inline-icon-15"> <b id="14304cfa">UserMethod1</b> <b id="0b4a222d">A + B + C + D + E + F + G + H + I</b> <br>| <b id="76304e3e">UserMethod2</b> <b id="d5bb57d0">E + G</b><br>| | <b id="5f6ab889">系统方法1</b> <b id="297e0dfe">G</b><br>| <b id="4343ffd4">SystemMethod1</b> <b id="5fcd6428">C + H</b> <br>| <b id="01b6aeca">SystemMethod2</b> <b id="1cc7a037">我</b> <br>        </p>    </div>    </div><div class="last-modified" data-skip-index="skip">上次修改时间：2019年9月19日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="Forecasting_Performance_Timeline.html">预测性能</a> <a class="navigation-links__next" href="Configuring_the_List_of_System_Modules.html">配置系统模块列表</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>