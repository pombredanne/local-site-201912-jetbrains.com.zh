<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>Folding Calls - Help | dotTrace</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body data-id="Folding_Calls" data-disqus-id="Folding_Calls_dt"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search dotTrace Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>dotTrace 2019.2 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="secondary" value="rs">ReSharper 2.x/IntelliJ IDEA</option><option data-group="primary" value="vs">Visual Studio</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Folding_Calls" id="Folding_Calls.xml">Folding Calls</h1>    <p id="b51af523">        The <span class="control">Call Tree</span> can be simplified by folding groups of calls meaningless to analysis.        Namely, chains of system function calls and recursive calls.    </p>    <div class="chapter"><h2 id="40de9352" data-toc="Folding_Calls#40de9352">Folding system calls</h2>    <a name="filtered_calls"></a>    <p id="6251254f">        System calls are calls of non-user code, for example, calls to methods        from <code class="code">System</code> and <code class="code">Microsoft</code> namespaces.        Normally, these calls are filtered out        and are shown in <span class="control">Call Tree</span> in gray font. Use <i id="fe103be3">folding</i> to hide chains of system calls:    </p>        <ul class="list _ul"><li class="list__item" id="a534fe80"><p>                System call chains that can be folded are marked with the                <img alt="callchain unfolded" title="callchain unfolded" src="/help/img/dotnet/2019.2/callchain_unfolded.png" id="0b1ac520" width="16" height="16" class="inline-icon-16">                icon.            </p></li><li class="list__item" id="df5263ed"><p>                Folded call chains are marked with the                <img alt="callchain folded" title="callchain folded" src="/help/img/dotnet/2019.2/callchain_folded.png" id="ab697495" width="16" height="16" class="inline-icon-16">                icon.            </p></li><li class="list__item" id="de7d0328"><p>                Note that you can                <a href="Configuring_the_List_of_System_Modules.html">mark user assemblies</a>                as system ones.            </p></li></ul>        <a name="fold"></a>    <section class="procedure-steps"><h3 id="dfe26a84">To fold a chain of system calls</h3><ol class="list _decimal"><li class="list__item" id="d65e03c0"><p>            Select a desired call chain that contains system calls.        </p></li><li class="list__item" id="56d3ffbf"><p>            Click <img alt="callchain unfolded" title="callchain unfolded" src="/help/img/dotnet/2019.2/callchain_unfolded.png" id="61ba13ef" width="16" height="16" class="inline-icon-16"> or press <kbd data-bypass="true" class="keystroke"><span class="keystroke__value">Ctrl+Space</span></kbd> to fold the calls.        </p></li></ol></section>    <section class="procedure-steps"><h3 id="f5b58c0d">To unfold a chain of system calls</h3><ol class="list _decimal"><li class="list__item" id="71eb22ef"><p>            Select a desired call chain that contains system calls.        </p></li><li class="list__item" id="ed7f20ff"><p>            Click <img alt="callchain folded" title="callchain folded" src="/help/img/dotnet/2019.2/callchain_folded.png" id="ed0407d2" width="16" height="16" class="inline-icon-16"> or press <kbd data-bypass="true" class="keystroke"><span class="keystroke__value">Ctrl+Space</span></kbd> to unfold the calls.        </p></li></ol></section>    <div class="chapter"><h3 id="d58da7c0">Example</h3>    <figure><img alt="tv plain list 2" title="tv plain list 2" src="/help/img/dotnet/2019.2/tv_plain_list_2.png" id="c7c1d890" width="466" height="225"></figure>    <p id="267377ed">        For instance, if in the example above folding is configured so that all system calls must be folded,        <span class="control">Call Tree</span> will look as follows:    </p>    <p id="5c6831da">        <b id="9e28e029">UserMethod1</b> <br>        &nbsp;&nbsp;&nbsp;|<b id="8e177f3d">UserMethod2</b> <br>        &nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;|<b id="034e36bc">SystemMethod2</b> <br>        &nbsp;&nbsp;&nbsp;|<img alt="callchain folded" title="callchain folded" src="/help/img/dotnet/2019.2/callchain_folded.png" id="16437afc" width="16" height="16" class="inline-icon-16"><b id="e816451e">SystemMethod1</b> <br>        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<b id="0a5e4aad">UserMethod1</b> <br>        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<b id="d774e90a">UserMethod2</b> <br>        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<b id="e35a19cd">SystemMethod1</b> <br>    </p>    </div>    </div>    <div class="chapter"><h2 id="folding-recursive-calls" data-toc="Folding_Calls#folding-recursive-calls">Folding recursive calls</h2>        <p id="497004d2">            Recursive call stacks can be deep and difficult to analyze. Thus, complex call stacks with multiple            recursive calls require almost infinite stack scrolling. To simplify analysis of such call stacks,            you can fold recursive calls. When a chain of recursive calls is folded, dotTrace recalculates            this call tree (it summarizes call times of a particular method in all recursive subtrees) and presents            information by method signatures:        </p>        <ul class="list _ul"><li class="list__item" id="590b2602"><p>                Recursive calls are marked with the                <img alt="ico recursive" title="ico recursive" src="/help/img/dotnet/2019.2/ico_recursive.png" id="14233a47" width="15" height="14" class="inline-icon-15">                icon.            </p></li><li class="list__item" id="336855b4"><p>                Folded recursive calls are marked with the                <img alt="ico recursive collapse" title="ico recursive collapse" src="/help/img/dotnet/2019.2/ico_recursive_collapse.png" id="b6a516af" width="15" height="12" class="inline-icon-15">                icon.            </p></li></ul>        <section class="procedure-steps"><h3 id="ae90958f">To fold a recursive call</h3><ol class="list _decimal"><li class="list__item" id="54a70e61"><p>                Select a recursive function call in <span class="control">Call Tree</span>.            </p></li><li class="list__item" id="1857b32f"><p>                Click <img alt="ico recursive" title="ico recursive" src="/help/img/dotnet/2019.2/ico_recursive.png" id="fad4dcc0" width="15" height="14" class="inline-icon-15"> to fold the function call.            </p></li></ol></section>        <section class="procedure-steps"><h3 id="4a4fe22c">To unfold a recursive call</h3><ol class="list _decimal"><li class="list__item" id="fba8605e"><p>                Select a recursive function call in <span class="control">Call Tree</span>.            </p></li><li class="list__item" id="813df966"><p>                Click <img alt="ico recursive collapse" title="ico recursive collapse" src="/help/img/dotnet/2019.2/ico_recursive_collapse.png" id="9dff8fe4" width="15" height="12" class="inline-icon-15"> to unfold the function call.            </p></li></ol></section>        <div class="chapter"><h3 id="a82e6eb6">Example</h3>        <p id="1af57b7c">            Consider an example for better understanding of how Timeline Viewer calculates calls time when            recursive calls are folded.        </p>        <figure><img alt="folded recursive calls example" title="folded recursive calls example" src="/help/img/dotnet/2019.2/folded_recursive_calls_example.png" id="77f3148e" width="443" height="324"></figure>        <p id="6d804e15">            If in the example above you fold recursive calls starting from the call            <b id="40075361">A</b> <code class="code">UserMethod1</code>, <span class="control">Call Tree</span> will look like follows            (each letter stands for a call own time).        </p>        <p id="d50a4856">            <img alt="ico recursive collapse" title="ico recursive collapse" src="/help/img/dotnet/2019.2/ico_recursive_collapse.png" id="cff199da" width="15" height="12" class="inline-icon-15"><b id="14304cfa">UserMethod1</b> <b id="0b4a222d">A + B + C + D + E + F + G + H + I</b> <br>            |<b id="76304e3e">UserMethod2</b> <b id="d5bb57d0">E + G</b><br>            |   |<b id="5f6ab889">SystemMethod1</b> <b id="297e0dfe">G</b><br>            |<b id="4343ffd4">SystemMethod1</b> <b id="5fcd6428">C + H</b> <br>            |<b id="01b6aeca">SystemMethod2</b> <b id="1cc7a037">I</b> <br>        </p>    </div>    </div><div class="last-modified" data-skip-index="skip">Last modified: 19 September 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="Forecasting_Performance_Timeline.html">Forecasting Performance</a><a class="navigation-links__next" href="Configuring_the_List_of_System_Modules.html">Configuring the List of System Modules</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>