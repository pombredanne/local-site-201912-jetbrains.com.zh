<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta name="robots" content="noindex"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/help/app/v2/analytics.js"></script><meta charset="UTF-8"><title>Time Measurement Methods - Help | dotTrace</title><link rel="stylesheet" href="/help/app/v2/app.css"></head><body data-id="Profiling_Guidelines__Setting_the_Right_Meter_Kind" data-disqus-id="Profiling_Guidelines__Setting_the_Right_Meter_Kind_dt"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search dotTrace Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>dotTrace 2018.3 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="secondary" value="rs">ReSharper 2.x/IntelliJ IDEA</option><option data-group="primary" value="vs" selected>Visual Studio</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="false"><h1 data-toc="Profiling_Guidelines__Setting_the_Right_Meter_Kind" id="Profiling_Guidelines__Setting_the_Right_Meter_Kind.xml">Time Measurement Methods</h1>    <p id="6062d67f">        <figure><img alt="time measurement performance profiling" title="time measurement performance profiling" src="/help/img/dotnet/2018.3/time_measurement_performance_profiling.png" id="0c06d5db" width="254" height="158"></figure>    </p>    <p id="1ff70f12">        dotTrace can measure call execution time in several ways:        <ul class="list _ul"><li class="list__item" id="5113e032"><p>                Real time (performance counter)            </p></li><li class="list__item" id="bb41fc77"><p>                Real time (CPU instruction)            </p></li><li class="list__item" id="074b2ff3"><p>                Thread time            </p></li><li class="list__item" id="5fb91fba"><p>                Thread cycle time            </p></li></ul>        The <span class="control">Time measurement</span> method is selected in        <a href="Profiler_Options.html">Profiler Options</a>        when configuring a profiling session.    </p>    <div class="chapter"><h2 id="real-time-cpu-instruction" data-toc="Profiling_Guidelines__Setting_the_Right_Meter_Kind#real-time-cpu-instruction">Real time (CPU instruction)</h2>        <p id="9cd0e83c">            <span class="control">Real time (CPU instruction)</span>, also called real-world time or wall-clock time,            is time elapsed between method entry and method exit.            This approach makes no difference between the cases when a method consumes CPU and does            some meaningful work and when a method is in a sleep, wait or join. dotTrace measures time            in both cases. So it reads values of TSC processor register on method entry and on method exit,            then calculates the difference.        </p>        <aside class="note " data-title="" rel="9cd0e83c" id="a7697c3e"><p>            If the processor does not support CPU instruction, this way of measurement is unavailable.        </p></aside>    </div>    <div class="chapter"><h2 id="real-time-performance-counter" data-toc="Profiling_Guidelines__Setting_the_Right_Meter_Kind#real-time-performance-counter">Real time (performance counter)</h2>        <p id="2f97da4e">            <span class="control">Real time (performance counter)</span>            is similar to            <span class="control">Real time (CPU instruction)</span>            except that it uses a slightly different way of measuring time intervals.            dotTrace uses Performance Counter API to retrieve and use performance counter data            from operating system, network and devices for measuring time.        </p>    </div>    <div class="chapter"><h2 id="thread-time" data-toc="Profiling_Guidelines__Setting_the_Right_Meter_Kind#thread-time">Thread time</h2>        <p id="058a6a92">            <span class="control">Thread time</span>            is the time measured by a thread-specific timer which is            paused when its thread is paused (waiting for processor or sleeping).            This kind of measurement is supported only for sampling profiling and            has lower resolution than other methods (about 10ms).        </p>    </div>    <div class="chapter"><h2 id="thread-cycle-time" data-toc="Profiling_Guidelines__Setting_the_Right_Meter_Kind#thread-cycle-time">Thread cycle time</h2>        <p id="a5d67f57">            <span class="control">Thread cycle time</span>            is the time measured by a thread-specific timer which is            paused when its thread is paused (waiting for processor or sleeping).            It is a bit more accurate way to time your application code. Actually,            <span class="control">Thread cycle time</span>            is similar to <span class="control">Real time (CPU instruction)</span>, it also uses CPU instruction to calculate the            time,            but does not take into account the time when thread does not do real work.        </p>        <aside class="note " data-title="" rel="a5d67f57" id="8b0d51c2"><p>            Available on Windows Vista or later.        </p></aside>    </div>    <div class="chapter"><h2 id="example" data-toc="Profiling_Guidelines__Setting_the_Right_Meter_Kind#example">Example</h2>        <p id="efefdb53">            To see the difference between real time and thread time, consider the following example.            Some function executes for 10 seconds. It is waiting for some data from the network for 8 seconds.            And it is processing the data without sleeping or waiting for the remaining 2 seconds.            Real time for this function is 10 seconds. Thread time for this function is 2 seconds.        </p>        <p id="ab66c4dc">            In tracing profiling, generally, due to OS limitations, measuring real            time is much faster than measuring thread time (up to 10 times faster).            In case sampling profiling is used, measuring both kinds of time consumes the same overhead.        </p>    </div>    <div class="last-modified" data-skip-index="skip">Last modified: 15 March 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="Profiling_Guidelines__Choosing_the_Right_Profiling_Mode.html">Profiling Types</a><a class="navigation-links__next" href="Concurrency_Profiling_Timeline_.html">Timeline Profiling</a></div><section class="seealso" data-skip-index="skip"><div class="seealso__header"><h2>See Also</h2></div><div class="seealso__content"><div class="seealso__col" data-skip-index="skip"><h3>Concepts:</h3><ul class="list"><li class="list__item"><a href="Profiling_Guidelines__Choosing_the_Right_Profiling_Mode.html"><span>Profiling Types</span></a></li></ul></div></div></section></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/help/app/v2/app.js"></script></body></html>