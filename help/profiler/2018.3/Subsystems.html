<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta name="robots" content="noindex"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/help/app/v2/analytics.js"></script><meta charset="UTF-8"><title>Subsystems - Help | dotTrace</title><link rel="stylesheet" href="/help/app/v2/app.css"></head><body data-id="Subsystems" data-disqus-id="Subsystems_dt"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search dotTrace Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>dotTrace 2018.3 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="secondary" value="rs">ReSharper 2.x/IntelliJ IDEA</option><option data-group="primary" value="vs" selected>Visual Studio</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="false"><h1 data-toc="Subsystems" id="Subsystems.xml">Subsystems</h1>    <p id="ef907330">        The <span class="control">Subsystems</span> filter allows you to quickly evaluate how time in a        particular call tree is distributed among various components: user and system code, WPF, LINQ,        collections, strings, and more.    </p>    <div class="chapter"><h2 id="275b06c8" data-toc="Subsystems#275b06c8">How subsystems work</h2>        <p id="7678ba79">            With a few exceptions (see <a href="#special">Special Subsystems</a> below), each subsystem            simply groups calls made within a certain namespace or assembly.        </p>        <p id="26481b1f">            For example, all calls of the methods declared in the <code class="code" data-lang="Java">WindowsBase</code>,            <code class="code" data-lang="Java">PresentationCore</code>            and <code class="code" data-lang="Java">PresentationFramework</code> assemblies are grouped under the <span class="control">WPF</span> subsystem.            The time shown next to            <span class="control">WPF</span>            in the <span class="control">Subsystems</span> filter is the total time of all these calls for all            selected threads.        </p>        <figure><img alt="subsystems tv" title="subsystems tv" src="/help/img/dotnet/2018.3/subsystems_tv.png" id="6b956085" width="355" height="201"></figure>        <p id="5714f849">            <img alt="pos 1" title="pos 1" src="/help/img/dotnet/2018.3/pos_1.png" id="a26b2a82" width="32" height="32" class="inline-icon-32">            Subsystem name.        </p>        <p id="6f900d7d">            <img alt="pos 2" title="pos 2" src="/help/img/dotnet/2018.3/pos_2.png" id="68c36c1e" width="31" height="31" class="inline-icon-31">            Total time spent in a particular subsystem summed up for all selected threads.            <br>        </p>        <p id="19b78c0b">            <img alt="pos 3" title="pos 3" src="/help/img/dotnet/2018.3/pos_3.png" id="2e36d85c" width="31" height="30" class="inline-icon-31">            The percentage of time spent in a subsystem relative to the total selected time.        </p>        <section class="procedure-steps"><h2 id="3a212171">To apply a filter by subsystem</h2><ul class="list "><li class="list__item" id="4c18d3df"><p>Select the desired subsystem in the filter.</p></li></ul></section>        <p id="d7bc8911">            After you select a subsystem, other filters will show data only for            the time intervals where the selected subsystem has worked.        </p>    </div>    <div class="chapter"><h2 id="special" data-toc="Subsystems#special">Special subsystems</h2>        <p id="66e3f6ef">            There is a number of subsystems that stand out of the row. This means that contribution of such            subsystems            is calculated not by grouping calls from particular assemblies and namespaces but based on other data.        </p>        <ul class="list _ul"><li class="list__item" id="dfe6bb46"><p>                <span class="control">System code</span>                -                all source code that does not match the rules in the chosen active profile and                belongs to standard system libraries.            </p></li><li class="list__item" id="24fdbc72"><p>                <span class="control">User code</span>                -                all source code that does not match the rules in the chosen active profile and                does not belong to standard system libraries.            </p></li><li class="list__item" id="9270fd0e"><p>                <span class="control">GC Wait</span>                - all time intervals when threads perform garbage collection or wait for other threads to                finish garbage collection. Note that the <span class="control">GC Wait</span> time is calculated                <a href="CLR_Activity.html#example">somewhat differently</a>                comparing to the <span class="control">Garbage Collection</span> event.            </p></li><li class="list__item" id="427add4a"><p>                <span class="control">JIT</span>                - all activities related to JIT compilation. Calculated based on ETW events data.            </p></li><li class="list__item" id="5acb9b9c"><p>                <span class="control">SQL query</span>                - all activities related to communication with SQL server.                Calculated based on ETW events data.            </p></li><li class="list__item" id="c43f37cb"><p>                <span class="control">                    File I/O                </span>                - all activities related to file operations. Note that this subsystem is calculated                based not only on file I/O ETW events but also based on grouping calls from the                <code class="code" data-lang="Java">System.IO</code>                and other namespaces. That's why <span class="control">File I/O</span> subsystem's time may slightly                differ from the time of the <span class="control">File Operations</span> event.            </p></li><li class="list__item" id="80210623"><p>                <span class="control">Waiting for CPU</span>                - indicates that a thread is ready to run on the next available processor. Typically, these are                inevitable pauses related to switching a thread between processors or changing thread state from                <span class="control">Waiting</span>                to                <span class="control">Running</span>.                Long                <span class="control">Waiting for CPU</span>                intervals may mean thread starvation and CPU overload.                <br>                Calculated based on ETW events data.            </p></li><li class="list__item" id="a608ae9d"><p>                <span class="control">Awaiting Time</span>                - (applicable to asynchronous code only) time intervals when async methods                waited until their tasks are finished. <a href="Analyzing_Async_Calls.html">Learn more</a>                about how to analyze asynchronous code.            </p></li><li class="list__item" id="00cc1056">                <p id="846d086f">                    <span class="control">Lock Contention</span>                    - takes place when a thread tries to                    acquire the lock to an object which is already acquired by other thread*. Until the object is                    released,                    the                    thread is blocked (in other words, it is in the <span class="control">Waiting</span> state).                    In some cases, this may lead to a so-called                    <i id="5de70705">serial execution</i>                    which negatively affects application performance. The serial execution pattern can                    be easily determined using the <span class="control">Threads</span> diagram. Instead of threads running in                    parallel, you will see only one thread                    running at a time.                </p>                <aside class="note " data-title="" rel="846d086f" id="b29dabbb">                    <p id="89c66712">                        * dotTrace detects lock contention only for the objects locked by the                        <code class="code" data-lang="Java">Monitor.Enter</code>                        method or the <code class="code" data-lang="Java">lock</code> statement.                    </p>                </aside>                <p id="42814b4a">Calculated based on ETW events data.</p>            </li></ul>    </div>    <div class="chapter"><h2 id="18aacbf3" data-toc="Subsystems#18aacbf3">Configuring subsystems</h2>        <p id="ba4c8c05">            Subsystems in Timeline Viewer is a counterpart of the corresponding feature in Performance Viewer.            Therefore, for the information about how to configure Subsystems, refer to the corresponding sections            of the Performance Viewer documentation:        </p>        <ul class="list _ul"><li class="list__item" id="a079e02e"><p>                <a href="Studying_Profiling_Results__Subsystems.html#add">Adding a new subsystem</a>            </p></li><li class="list__item" id="ba3978bc"><p>                <a href="Studying_Profiling_Results__Subsystems.html#duplicate">Duplicating a subsystem</a>            </p></li><li class="list__item" id="3519a93b"><p>                <a href="Studying_Profiling_Results__Subsystems.html#add_profile">Creating a new profile</a>            </p></li></ul>    </div><div class="last-modified" data-skip-index="skip">Last modified: 15 March 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="Tasks_dotTrace.html">Tasks</a><a class="navigation-links__next" href="Call_Stack.html">Call Stack</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/help/app/v2/app.js"></script></body></html>