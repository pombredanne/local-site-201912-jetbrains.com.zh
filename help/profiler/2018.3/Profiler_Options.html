<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta name="robots" content="noindex"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/help/app/v2/analytics.js"></script><meta charset="UTF-8"><title>Profiler Options - Help | dotTrace</title><link rel="stylesheet" href="/help/app/v2/app.css"></head><body data-id="Profiler_Options" data-disqus-id="Profiler_Options_dt"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search dotTrace Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>dotTrace 2018.3 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="secondary" value="rs">ReSharper 2.x/IntelliJ IDEA</option><option data-group="primary" value="vs" selected>Visual Studio</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="false"><h1 data-toc="Profiler_Options" id="Profiler_Options.xml">Profiler Options</h1>    <p id="18409f37">By default, the <span class="control">Profiler Options</span> section consists of the following parameters:        <a name="profiling_type"></a>        <ul class="list _ul"><li class="list__item" id="4c497987">                <p id="7b02709c">                    <span class="control">Profiling type</span>                    <br>                    Profiling type defines what profiling method will be used and how profiling data will be collected.                    The following table will help you to choose a profiling type better suitable for your case.                </p>                                    <aside class="note " data-title="" rel="7b02709c" id="9658f699">                        <p id="3f2c4ba1">* Not supported when dotTrace is attached to a profiled process.</p>                    </aside>                    <div class="table-wrapper"><table class=" wide                 " width="100%" id="3b5f2d45"><thead><tr id="c91f1eb6" class="ijRowHead"><th id="0b62a2de"><p>Profiling Method</p></th><th id="84f52581" width="120"><p>Profiling Type</p></th><th id="20a9575e"><p>Description</p></th><th id="8792fde2"><p>Use Case</p></th></tr></thead><tbody><tr id="3e8b5550" class="ijRowOdd"><td id="7455a4bc" rowspan="3"><p>                                <b id="439819ed">                                    <font style="color:#003399">                                        <b id="ff7cf41d">Performance Profiling</b>                                    </font>                                </b>                                <br>                                Detailed timing information about function calls.                                <a href="Performance_Profiling.html">Learn more</a>                                                            </p></td><td id="8f7986a4"><p>                                <span class="control">Sampling</span>                            </p></td><td id="18f3d55d"><p>Accurate time measurement, number of calls is not measured.                            </p></td><td id="29131510"><p>                                <i id="faea3ee7">Recommended for most cases</i>. Ideal when you look for performance issues in your                                app                                for the first time.                            </p></td></tr><tr id="d2119111" class="ijRowEven"><td id="a2ad26f3"><p>                                <span class="control">Tracing*</span>                            </p></td><td id="92a92060"><p>Accurate calls number measurement, time measurement may be inaccurate due to profiling                                overhead.                            </p></td><td id="0e6180dd"><p>When sampling data is not enough. For example, for analyzing algorithm complexity (when                                info                                about number of calls is more valuable than call time values).                            </p></td></tr><tr id="78a075e3" class="ijRowOdd"><td id="266e596d"><p>                                <span class="control">Line-by-line*</span>                            </p></td><td id="46ad8c90"><p>Each line of code is measured, call time values are inaccurate due to huge profiler                                overhead.                                <br>                                To lower the overhead, you can profile only particular methods                                    <a href="#filters">using filters</a>.                                                            </p></td><td id="135a93d2"><p>For advanced use cases only. For example, when you already know what function causes                                issues                                and                                want to analyze each line of it.                            </p></td></tr><tr id="aeec62da" class="ijRowEven"><td id="4ed958cd"><p>                                <b id="4cbb7e69">                                    <font style="color:#003399">                                        <b id="875d4b53">Timeline Profiling</b>                                    </font>                                </b>                                <br>                                Detailed temporal data about application threads and events.                                <a href="Concurrency_Profiling_Timeline_.html">Learn more</a>                            </p></td><td id="e42cf76e"><p>                                <span class="control">Timeline</span>                            </p></td><td id="1120daca"><p>Collects temporal data about thread states, application events, and other                                multi-threading                                data.                                Based on Event Tracing for Windows (ETW).                            </p></td><td id="dda504e2"><p><i id="f6d26c4c">Recommended for most cases</i>. Especially, for analyzing multithreaded apps. Use it,                                for example, to determine the cause of UI freezes, excessive                                garbage collections, uneven workload distribution, insufficient I/O, and so on.                            </p></td></tr></tbody></table></div>                            </li><li class="list__item" id="79cac00a"><p>                <span class="control">Record profiling data from start</span>                <br>                If selected, dotTrace will start recording profiling data right after the launch.                Otherwise, dotTrace will start collecting these data only after you click <span class="control">Start</span> in                the                <a href="Profiling_Guidelines__Launching_and_Controlling_the_Profiling_Process.html">Performance                    Controller                </a>                window.            </p></li></ul>    </p>    <p id="6a3c7c89">        If <span class="control">Advanced</span> is selected, you are able to additionally        specify the following profiler options:    </p>    <aside class="note " data-title="" rel="6a3c7c89" id="30739d7b">        <p id="c194fa40">            Some of the advanced options may be hidden depending on the            selected <span class="control">Profiling type</span>.        </p>    </aside>    <a name="time_measurement"></a>    <ul class="list _ul"><li class="list__item" id="97c18645">            <span class="control">Time measurement</span>            <br>            This option defines how dotTrace must calculate calls time.            For more details, refer to <a href="Profiling_Guidelines__Setting_the_Right_Meter_Kind.html"><span>Time Measurement Methods</span></a>.            <br>Typically, this is a choice between whether            dotTrace should calculate time when a thread is not working or should not. More specifically, there are            four options:            <ul class="list _ul"><li class="list__item" id="250a86a5"><p>                    <span class="control">Real time (performance counter)</span>                    <br>                    <i id="0ffce41d">Recommended</i>. dotTrace calculates the overall real time passed between method entry and exit.                    This time does not depend on app threads states.                    Time is calculated using system performance counter.                </p></li><li class="list__item" id="737d95b8"><p>                    <span class="control">Real time (CPU instruction)</span>                    <br>                    dotTrace calculates the overall real time passed between method entry and exit. This time does not                    depend on app threads states.                    Time is calculated using the CPU register.                </p></li><li class="list__item" id="166871e3"><p>                    <span class="control">Thread time</span>                    <br>                    dotTrace calculates only the time when a certain thread is running. The time when the thread is                    waiting or sleeping is not included in calculation.                </p></li><li class="list__item" id="3c350f10"><p>                    <span class="control">Thread cycle time</span>                    <br>                    dotTrace calculates only the time when a certain thread is running. The time when the thread is                    waiting or sleeping is not included in calculation. Time is calculated using the CPU register.                </p></li></ul>            The table next in this section will help you to choose a time measurement method better suitable for your            case.        </li><li class="list__item" id="d1a3d3af"><p>            <span class="control">Enable inlining</span>            <br>            Clear this option if you want dotTrace to turn off JIT-inlining and get call stacks that closely resemble            the structure of application's source code.        </p></li><li class="list__item" id="5049f744"><p>            <span class="control">High accuracy</span>            <br>            If selected, dotTrace will take into account time spent in profiler itself by taking more time samples.        </p></li><li class="list__item" id="833ba3f1"><p>            <span class="control">Merge threads with equal names</span>            <br>            If selected, dotTrace will group the performance information for all threads with the same name            under a single thread node in <span class="control">Call Tree</span> and <span class="control">Threads Tree</span> views.        </p></li><li class="list__item" id="native"><p>            <span class="control">Collect native allocations</span>            <br>            If selected, dotTrace will collect information about all memory allocations the profiled application            does in the native (unmanaged) heap. To be able to select this option, you must have            <a href="https://msdn.microsoft.com/en-gb/windows/hardware/commercialize/test/wpt/index" data-external="true" target="_blank" rel="noopener noreferrer"><span>Windows Performance Toolkit</span></a>            installed on your computer.        </p></li><li class="list__item" id="debug"><p>            <span class="control">Collect debug output</span>            <br>            If selected, dotTrace will collect information about all messages the profiled application sends to            the <a href="Debug_Output.html">debug output</a>.        </p></li><li class="list__item" id="tpl"><p>            <span class="control">Collect TPL events</span>            <br>            If selected, profiling performance may be affected but dotTrace will collect Task Parallel Library (TPL)            data. If cleared, there will be no <code class="code" data-lang="Java">Task</code> nodes in            <span class="control">Call Tree</span>            and            <code class="code" data-lang="Java">async</code>            call nodes will lack their <span class="control">await</span> and            <span class="control">continuations</span>            parts. Learn more about how dotTrace works with asynchronous code            in <a href="Analyzing_Async_Calls.html"><span>Analyzing Async Calls</span></a>.            <br>            Clear this option in case your application does not use multitasking or you do not            need this info.        </p></li><li class="list__item" id="007fb684"><p>            <span class="control">Use profiler API</span>            <br>            Enables you to control profiling directly from the code of the profiled application. For example, to take a            snapshot in the exact point of your code. Learn more about using the API in            <a href="Profiling_Guidelines__Advanced_Profiling_Using_dotTrace_API.html">Controlling Profiling Process                Through API</a>.        </p></li></ul>    <div class="chapter"><h2 id="filters">Optimizing Line-by-Line profiling with filters</h2>        <p id="db8748f6">            Line-by-line profiling may be effective in particular cases but it is always time-consuming.            To somehow minimize the profiling overhead, you can define some rules. According to them, not            all functions are profiled line by line but only those that are really interesting for further            investigation.        </p>        <p id="49e3a1d5">            So you can create and set a filter or filters that match only the functions you need.        </p>        <section class="procedure-steps"><h2 id="3dad7e60">To create a new filter</h2><ol class="list _decimal"><li class="list__item" id="0c2ff7b2"><p>Click <span class="control">Advanced</span> to see advanced profiling options.            </p></li><li class="list__item" id="c32a45e3"><p>Click the <span class="control">Edit Filters</span> button.            </p></li><li class="list__item" id="39ffc3e8"><p>                Click <span class="control">Add Filter</span> in the <span class="control">Profiling Filters</span> dialog.                <br>For more information about the dialog,                see <a href="Reference__Dialog_Boxes__Line_by_line_Filters.html">Dialogs: Profiling Filters</a>.            </p></li><li class="list__item" id="0c3051f9">                In the <span class="control">Add Filter</span> dialog, choose the type of filter rule:                <ul class="list _ul"><li class="list__item" id="e3f7910e"><p>                        <span class="control">Profile code in</span>                        - to include the specified code item into profiling and                        exclude all other code items.                    </p></li><li class="list__item" id="2747247b"><p>                        <span class="control">Do not profile code in</span>                        - to exclude the specified code item from profiling.                    </p></li><li class="list__item" id="88b88270"><p>                        <span class="control">Do not profile code marked with attribute</span>                        - to exclude code items with the                        specified attribute from profiling.                    </p></li></ul>            </li><li class="list__item" id="18b180ba"><p>                If you have chosen one of the first two options, specify an assembly, a class, and/or a method to be                included or excluded from profiling. Code items are filtered independently on one another. For example,                if                you specify a method and leave asterisks (*) for assembly and class to exclude methods with the                specified                name from all assemblies and all classes.            </p></li><li class="list__item" id="d8167ee2"><p>                If you have chosen the last option, specify the name of the attribute that will be used to exclude                symbols                from profiling. Optionally, specify the assembly name where this attribute is declared.            </p></li><li class="list__item" id="d88629f3"><p>Click <span class="control">OK</span> to finish adding the filter.            </p></li><li class="list__item" id="0393d850"><p>In the <span class="control">Profiling Filters</span> dialog, click                <span class="control">Save</span>                to save and apply your modifications.            </p></li></ol><aside class="tip sideblock" data-title="" rel="0393d850" id="cbea62d0">                <p id="948d8019">                    You can use asterisk wildcards when specifying code item names in a filter: '<code class="code" data-lang="Java">*</code>'                    (asterisk)                    represents zero or more characters. For example, you can use the <code class="code" data-lang="Java">*.Tests</code> wildcard that                    will exclude all test projects from code analysis.                </p>            </aside></section>        <p id="0af8713c">            At any time you can modify the pattern defined for a filter and vary what filters to apply from session to            session.        </p>    </div><div class="last-modified" data-skip-index="skip">Last modified: 15 March 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="Profiling_Guidelines__dotNET_Process.html">.NET Processes</a><a class="navigation-links__next" href="Profiling_Guidelines__Launching_and_Controlling_the_Profiling_Process.html">Controlling Profiling Session</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/help/app/v2/app.js"></script></body></html>