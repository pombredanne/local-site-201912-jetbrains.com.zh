<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta name="robots" content="noindex"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/help/app/v2/analytics.js"></script><meta charset="UTF-8"><title>Simplifying Analysis with Subsystems - Help | dotTrace</title><link rel="stylesheet" href="/help/app/v2/app.css"></head><body data-id="Studying_Profiling_Results__Subsystems" data-disqus-id="Studying_Profiling_Results__Subsystems_dt"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search dotTrace Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>dotTrace 2018.3 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="secondary" value="rs">ReSharper 2.x/IntelliJ IDEA</option><option data-group="primary" value="vs" selected>Visual Studio</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="false"><h1 data-toc="Studying_Profiling_Results__Subsystems" id="Studying_Profiling_Results__Subsystems.xml">Simplifying Analysis with Subsystems</h1>    <p id="9fd18c4f">        Subsystems is a way of presenting profiling snapshot data which gives you a quick overview of time consumed by        certain system components (various parts of .NET Framework, external libraries, your own code and so on).        A subsystem simply groups all calls made within a certain namespace or assembly. For example, you can create a        subsystem for        <code class="code" data-lang="Java">System.Windows.Forms</code>        to summarize all <code class="code" data-lang="Java">WinForms</code> calls in your app. This will show you how much time        was required for interaction with your app.    </p>                    <div class="chapter"><h2 id="412864cb">Introduction, concepts, and configuration</h2>        <p id="2c7ebba8">            Each time you select a node, dotTrace analyzes gathered data for the selected call stack            and displays the contribution of various subsystems to the selected call stack.            For better perception each subsystem has its own color. You can assign custom colors or use the default            ones.        </p>        <p id="ffc826ad">            To define a new subsystem, you need to define a name, set a color and specify a rule or multiple rules.        </p>        <section class="procedure-steps"><h2 id="add">To add a new subsystem</h2><ol class="list _decimal"><li class="list__item" id="7f1a4b8d"><p>                On the menu bar, choose <span data-skip-index="skip" class="menupath">View | Options</span>.                The <span class="control">Options</span> dialog opens.            </p></li><li class="list__item" id="8071441c"><p>                Click <span class="control">Profiles</span> on the left pane of the <span class="control">Options</span> dialog.            </p></li><li class="list__item" id="50d6141a"><p>                Click the arrow near                <img alt="ThemedIcon AddedParameter Screen Gray " title="ThemedIcon AddedParameter Screen Gray " src="/help/img/dotnet/2018.3/ThemedIcon.AddedParameter.Screen.[Gray].png" id="a3121f6f" width="16" height="16" class="inline-icon-16">                <span class="control">Create new subsystem</span>                on the <span class="control">Profiles</span> pane,                then click <span class="control">Add empty subsystem</span>.            </p></li><li class="list__item" id="df3e8702">                The <span class="control">Subsystem definition</span> dialog opens.                <ul class="list _ul"><li class="list__item" id="5ba85a50"><p>                        Enter a new name in the <span class="control">Name</span> text box.                    </p></li><li class="list__item" id="7642be16"><p>                        Click the area to the right of the <span class="control">Color</span> label to open the <span class="control">Select                        Color                    </span> dialog                        and choose the appropriate color.                    </p></li><li class="list__item" id="b93bb23b"><p>                        Clear the <span class="control">Enable subsystem in current profile</span> check box,                        if you want to disable the subsystem in the current profile.                    </p></li><li class="list__item" id="85b34069">                        Specify subsystem visibility options:                        <ul class="list _ul"><li class="list__item" id="e993a2e7"><p>                                <span class="control">Show</span>                                - the subsystem will be shown as a separate entry.                            </p></li><li class="list__item" id="c04cec9a"><p>                                <span class="control">Join</span>                                - subsystem's time will be calculated within calling subsystems. The subsystem will be                                shown separately only in case there are no subsystems to join with.                            </p></li><li class="list__item" id="90a5e330"><p>                                <span class="control">Hide</span>                                - the subsystem will be hidden. Subsystem's time will be excluded from calculations.                            </p></li></ul>                        For example, <code class="code" data-lang="Java">MethodA</code> belongs to <code class="code" data-lang="Java">SubsystemA</code> and calls                        <code class="code" data-lang="Java">MethodB</code>                        (belongs to <code class="code" data-lang="Java">SubsystemB</code>) which, in turn,                        calls <code class="code" data-lang="Java">MethodC</code> (belongs to <code class="code" data-lang="Java">SubsystemC</code>).                        If all subsystems are set to                        <span class="control">Show</span>, subsystems time will be calculated as follows:                        <br>                        <b id="70b5c159">SubsystemA = MethodA</b>                        <br>                        <b id="a140882c">SubsystemB = MethodB</b>                        <br>                        <b id="354b7b66">SubsystemC = MethodC</b>                        <br>                        <br>                        In case you set <code class="code" data-lang="Java">SubsystemB</code> to <span class="control">Join</span>, subsystems will be                        calculated as                        follows:                        <br>                        <b id="7d00be54">SubsystemA = MethodA + MethodB</b>                        <br>                        <b id="22828e10">SubsystemC = MethodC</b>                        <br>                        <br>                        In case you set <code class="code" data-lang="Java">SubsystemB</code> to <span class="control">Hide</span>, subsystems will be                        calculated as                        follows:                        <br>                        <b id="6bc5ce18">SubsystemA = MethodA</b>                        <br>                        <b id="9eff7663">SubsystemC = MethodC</b>                        <br>                    </li><li class="list__item" id="965dfb7a"><p>                        Click <span class="control">Add</span> and <span class="control">Clean</span> to manage rules.                        All rules are displayed in the list.                    </p></li></ul>            </li><li class="list__item" id="10aa36fa"><p>                Click <span class="control">OK</span> to save the changes and close the <span class="control">Subsystem definition</span> dialog.            </p></li></ol></section>        <p id="303cf2c4">            You can also create a subsystem by duplicating an existing one.        </p>        <section class="procedure-steps"><h2 id="duplicate">To duplicate a subsystem</h2><ol class="list _decimal"><li class="list__item" id="a473a5f0"><p>                On the menu bar, choose <span data-skip-index="skip" class="menupath">View | Options</span>.                The <span class="control">Options</span> dialog opens.            </p></li><li class="list__item" id="767f5b20"><p>                Click <span class="control">Profiles</span> on the left pane of the <span class="control">Options</span> dialog.            </p></li><li class="list__item" id="5b7618c0"><p>                Click the arrow near                <img alt="ThemedIcon AddedParameter Screen Gray " title="ThemedIcon AddedParameter Screen Gray " src="/help/img/dotnet/2018.3/ThemedIcon.AddedParameter.Screen.[Gray].png" id="7fa8d3a1" width="16" height="16" class="inline-icon-16">                <span class="control">Create new subsystem</span>                on the <span class="control">Profiles</span> pane,                then click <span class="control">Duplicate subsystem</span>.            </p></li><li class="list__item" id="5fe2ab86">                The <span class="control">Subsystem definition</span> dialog opens.                <ul class="list _ul"><li class="list__item" id="7ab24d03"><p>                        If necessary, modify the name in the <span class="control">Subsystem name</span> text box.                    </p></li><li class="list__item" id="89fdd026"><p>                        Click the area to the right of the <span class="control">Color</span> label to open the <span class="control">Select                        Color                    </span> dialog                        and redefine the color.                    </p></li><li class="list__item" id="a546a9fe"><p>                        Click <span class="control">Add</span> and <span class="control">Clean</span> to manage rules.                        All rules are displayed in the list.                    </p></li></ul>            </li><li class="list__item" id="498d08bd"><p>                Click <span class="control">OK</span> to save the changes and close the <span class="control">Subsystem definition</span> dialog.            </p></li></ol></section>        <p id="ff8e84fd">            At any time you can return back to existing subsystems and modify rules for them.        </p>        <p id="7e1d6ca9">            After all necessary subsystems are defined, you can tune the settings a bit more.            All subsystems that should be taken into account can be gathered in one profile and            arranged according to their importance. So a profile is just a set of important or active subsystems.            It can have a name or be left unnamed.        </p>        <p id="ecc66199">            If a method matches two rules from different subsystems, the rule from the subsystem            that is upper than the other one in the list of subsystems is applied.        </p>        <section class="procedure-steps"><h2 id="add_profile">To create a new profile</h2><ol class="list _decimal"><li class="list__item" id="74dfa713"><p>                On the menu bar, choose <span data-skip-index="skip" class="menupath">View | Options</span>.                The <span class="control">Options</span> dialog opens.            </p></li><li class="list__item" id="dcf5507c"><p>                Click <span class="control">Profiles</span> on the left pane of the <span class="control">Options</span> dialog.                A new unnamed profile is created.            </p></li><li class="list__item" id="7ff2dd7d"><p>                Click                <img alt="ThemedIcon AddedParameter Screen Gray " title="ThemedIcon AddedParameter Screen Gray " src="/help/img/dotnet/2018.3/ThemedIcon.AddedParameter.Screen.[Gray].png" id="08e77aa4" width="16" height="16" class="inline-icon-16">                <span class="control">Add new profile</span>                on the <span class="control">Profiles</span> pane.            </p></li><li class="list__item" id="8c0d71e1"><p>                In the list of profiles, an active text box appears. Type a name for the new profile in this text box.                <br>In the list of subsystems, configure the set of active subsystems by selecting the corresponding                check                boxes.            </p></li><li class="list__item" id="9535084f"><p>                Optionally, you can reorder the sequence of subsystems.                To do that, select the subsystem to be moved and click                <img alt="ThemedIcon Up Screen Gray " title="ThemedIcon Up Screen Gray " src="/help/img/dotnet/2018.3/ThemedIcon.Up.Screen.[Gray].png" id="135334ae" width="16" height="16" class="inline-icon-16">                <span class="control">Move selected subsystem up</span>                or                <img alt="ThemedIcon Down Screen Gray " title="ThemedIcon Down Screen Gray " src="/help/img/dotnet/2018.3/ThemedIcon.Down.Screen.[Gray].png" id="448df654" width="16" height="16" class="inline-icon-16">                <span class="control">Move selected subsystem down</span>.            </p></li><li class="list__item" id="a068fc32"><p>                Click <span class="control">OK</span> to save changes.            </p></li></ol></section>        <p id="081f361c">            When you have several profiles, you can switch between them in the <span class="control">Subsystems</span> view            and visualize those parts of assemblies that seem to be important right here right now.        </p>        <p id="72ab960d">            If you are not satisfied with the changes you made to the subsystems configuration,            you can quickly reset them to factory defaults using the <span class="control">Reset Defaults</span> button.        </p>    </div>    <div class="chapter"><h2 id="13a471fc">View description</h2>        <p id="5ed2966a">            By default, the <span class="control">Subsystems</span> view is visible. If it is not so,            select the <span class="control">Enable subsystem analysis</span> check box            on the <span class="control">Profiles</span> page of the <span class="control">Options</span> dialog.            After that, dotTrace rebuilds the view each time you choose a new call stack.            <figure><img alt="Studying Profiling Results Subsystems 01" title="Studying Profiling Results Subsystems 01" src="/help/img/dotnet/2018.3/Studying_Profiling_Results__Subsystems_01.png" id="1e3cbc3e" width="672" height="254"></figure>        </p>        <p id="9be1c82b">            <figure><img alt="Studying Profiling Results Subsystems 02" title="Studying Profiling Results Subsystems 02" src="/help/img/dotnet/2018.3/Studying_Profiling_Results__Subsystems_02.png" id="2da18d7e" width="672" height="267"></figure>            <figure><img alt="One" title="One" src="/help/img/dotnet/2018.3/One.png" id="7a5df712" width="32" height="31"></figure>            <br>            The subsystem where most time is spent occupies the biggest block.            This block in turn consists of smaller blocks that represent child subsystems.        </p>        <p id="7689f1b7">            <figure><img alt="Two" title="Two" src="/help/img/dotnet/2018.3/Two.png" id="cc3efce9" width="32" height="31"></figure>            <br>            Profile switch button helps you quickly change the profile according to which the view is built            and rebuild it emphasizing other subsystems. You can also collapse or expand the view.        </p>        <p id="07f11d86">            <figure><img alt="Three" title="Three" src="/help/img/dotnet/2018.3/Three.png" id="9bde98e4" width="32" height="31"></figure>            <br>            Subsystems are sorted by time. Each of them is displayed as a tree            where leaf nodes are functions.        </p>        <p id="47046376">            There are four separate subsystems that exist independently regardless of defined patterns and custom            subsystems.            All functions can be divided into two groups depending on their assemblies and can be included in            <span class="control">System code</span>            or <span class="control">User code</span> subsystems:            <ul class="list _ul"><li class="list__item" id="d2598703"><p>                    <span class="control">System code</span>                    -                    all source code that does not match the rules in the chosen active profile and                    belongs to standard system libraries                </p></li><li class="list__item" id="48d63bba"><p>                    <span class="control">User code</span>                    -                    all source code that does not match the rules in the chosen active profile and                    does not belong to standard system libraries                </p></li></ul>            To learn how to move functions from one group to another,            see <a href="Studying_Profiling_Results__Creating_and_Applying_Filters.html"><span>Creating and Applying Filters</span></a>.        </p>        <p id="2c20ed87">            The remaining two subsystems are only for information about some activities in your application:            <ul class="list _ul"><li class="list__item" id="bac2aad5"><p>                    <span class="control">Garbage collection</span>                    - all activities related to garbage collection                </p></li><li class="list__item" id="b132fd58"><p>                    <span class="control">Special</span>                    - all functions that do not belong to .NET libraries                </p></li></ul>        </p>        <p id="090f475d">            If you don't need a tree view, you can switch to a smart mode.            Double-click the top of the view and collapse it.        </p>        <p id="7e6b34c7">            IMPORTANT! The <span data-skip-index="skip" class="menupath">View | Options... | Subsystems | Profiles</span> page            contains more "special" subsystems, like <span class="control">SQL Queries</span>, <span class="control">Lock Contention</span>,            <span class="control">CPU Ready</span>, and other. These subsystems are based on ETW events and are available only            in <a href="Subsystems.html">Timeline Viewer</a>.        </p>    </div>    <div class="last-modified" data-skip-index="skip">Last modified: 15 March 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="Studying_Profiling_Results__Color-Coding_Functions.html">Color-Coding Functions</a><a class="navigation-links__next" href="Studying_Profiling_Results__Performance_Forecasting.html">Forecasting Performance</a></div><section class="seealso" data-skip-index="skip"><div class="seealso__header"><h2>See Also</h2></div><div class="seealso__content"><div class="seealso__col" data-skip-index="skip"><h3>Concepts:</h3><ul class="list"><li class="list__item"><a href="Studying_Profiling_Results__Overview.html"><span>Overview</span></a></li><li class="list__item"><a href="Studying_Profiling_Results__Call_Tree.html"><span>Call Tree</span></a></li><li class="list__item"><a href="Studying_Profiling_Results__Threads_Tree.html"><span>Threads Tree</span></a></li><li class="list__item"><a href="Studying_Profiling_Results__Call_Tree.html"><span>Call Tree</span></a></li><li class="list__item"><a href="Studying_Profiling_Results__Plain_List.html"><span>Plain List</span></a></li><li class="list__item"><a href="Studying_Profiling_Results__Hot_Spots.html"><span>Hot Spots</span></a></li></ul></div><div class="seealso__col" data-skip-index="skip"><h3>Reference:</h3><ul class="list"><li class="list__item"><a href="Reference__Dialog_Boxes__Subsystem_Definition.html">Dialogs: Subsystem Definition</a></li></ul></div></div></section></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/help/app/v2/app.js"></script></body></html>