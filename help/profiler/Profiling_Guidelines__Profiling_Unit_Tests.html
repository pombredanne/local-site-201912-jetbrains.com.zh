<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>Profile Unit Test - Help | dotTrace</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body data-id="Profiling_Guidelines__Profiling_Unit_Tests" data-article-props="&#xA;                {&#xA;                &#xA;            &#34;seeAlso&#34;:{&#xA;                                             &#xA;                &#34;&#34;: [&#xA;                &#xA;                ],                                 &#xA;                &#34;How tos&#34;: [&#xA;                &#xA;        {&#34;href&#34;:&#34;http://www.jetbrains.com/resharper/documentation/&#34;,&#34;title&#34;:&#34;ReSharper&#34;}&#xA;                ]&#xA;            }&#xA;        &#xA;                }&#xA;            " data-disqus-id="Profiling_Guidelines__Profiling_Unit_Tests_dt"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search dotTrace Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>dotTrace 2019.2 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="secondary" value="rs">ReSharper 2.x/IntelliJ IDEA</option><option data-group="primary" value="vs">Visual Studio</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Profiling_Guidelines__Profiling_Unit_Tests" id="Profiling_Guidelines__Profiling_Unit_Tests.xml">Profile Unit Test</h1>    <aside class="warning " data-title="" rel="Profiling_Guidelines__Profiling_Unit_Tests.xml" id="56691e49">        <p id="ff994fe3">            <b id="81bdddd6">*</b>            Note that if you use the            <a href="Profiling_Guidelines__Advanced_Profiling_Using_dotTrace_API.html">API</a>            to control profiling, the only possible way to profile a unit test is using standalone dotTrace.        </p>    </aside>    <p id="e93a6956">        There are three ways of profiling unit tests:        <ul class="list _bullet"><li class="list__item" id="d1007116"><p>                Using dotTrace integrated in Visual Studio.                <br>                This is the most convenient way.            </p></li><li class="list__item" id="4d46fa51"><p>                Using dotTrace and ReSharper (only if you have ReSharper or ReSharper Ultimate                installed on your machine).            </p></li><li class="list__item" id="bb9a68bd"><p>                Using standalone dotTrace.                <b id="abcd4ff2">*</b>            </p></li></ul>    </p>    <section class="procedure-steps"><h3 id="c0ad38ee">To profile unit tests using dotTrace integrated in Visual Studio</h3><ol class="list _decimal"><li class="list__item" id="998ec2e6"><p>            Open a solution in Visual Studio.        </p></li><li class="list__item" id="b0133cc1"><p>            Open a file with unit tests.        </p></li><li class="list__item" id="1d8e620b"><p>            Choose a test class or a test method.        </p></li><li class="list__item" id="5a8ce0fb"><p>            Click the corresponding side bar mark in the left gutter.        </p></li><li class="list__item" id="91eeba80"><p>            In the context menu, choose <span class="control">Profile</span>:            <br>            <figure><img alt="Profiling Tests with Unit Test Runner" title="Profiling Tests with Unit Test Runner" src="/help/img/dotnet/2019.2/Profiling_Tests_with_Unit_Test_Runner.png" id="5db01def" width="406" height="268"></figure>        </p></li><li class="list__item" id="70ea0191"><p>            The <span class="control">Unit Test Sessions</span> window opens.        </p></li><li class="list__item" id="baeaf7b2"><p>            Specify            <a href="Profiler_Options.html">profiling options</a>            in the <span class="control">Profiler Configuration</span> window.        </p></li><li class="list__item" id="8e0d6124">            After test execution is completed, a snapshot will be opened in the corresponding viewer.            <aside class="note " data-title="" rel="8e0d6124" id="42dca8c9">                <p id="1000bb85">                    If dotTrace is set to run with administrator privileges (the                    <span class="control">Run this program as an administrator</span>                    option is enabled                    in the application                    <span class="control">Compatibility</span>                    properties) and Visual Studio is run under standard account,                    dotTrace will not receive the snapshot data. In such a case, either re-run Visual Studio as                    administrator                    or set dotTrace to run under standard account.                </p>            </aside>        </li></ol></section>    <aside class="note " data-title="" rel="c0ad38ee" id="c7c3fec9"><p>        If you have several versions of dotTrace        installed on your computer, the latest one is automatically selected.    </p></aside>    <p id="153f517b">        You can also launch unit test profiling from ReSharper.        Choose <span data-skip-index="skip" class="menupath">ReSharper | Unit Tests | Profile Unit Tests</span> or        <span data-skip-index="skip" class="menupath">ReSharper | Unit Tests | Profile All Tests from Solution</span>        on the menu bar.    </p>    <section class="procedure-steps"><h3 id="480e05b8">To profile unit tests from ReSharper's Unit Test Sessions window:</h3><ol class="list _decimal"><li class="list__item" id="03ad62cf"><p>            Select a node in the tree view of the <span class="control">Unit Test Sessions</span> window.        </p></li><li class="list__item" id="b835db70"><p>            Click            <span class="control">Profile Unit Tests</span>            <img alt="ThemedIcon UtrProfile Screen Gray " title="ThemedIcon UtrProfile Screen Gray " src="/help/img/dotnet/2019.2/ThemedIcon.UtrProfile.Screen.[Gray].png" id="18a9e9ba" width="16" height="16" class="inline-icon-16">            in the toolbar.        </p></li><li class="list__item" id="21216888"><p>            Specify            <a href="Profiler_Options.html">profiling options</a>            in the <span class="control">Profiler Configuration</span> window.        </p></li><li class="list__item" id="64dec150"><p>            After test execution is completed, a snapshot will be displayed.        </p></li></ol></section>    <a name="profile_unit_test"></a>    <section class="procedure-steps"><h3 id="1bbeebcd">To profile unit tests using standalone dotTrace</h3><ol class="list _decimal"><li class="list__item" id="05b6eac0"><p>            Run dotTrace as a standalone application.        </p></li><li class="list__item" id="c14bbef4"><p>Choose the <span class="control">New Session | Local</span> tab.        </p></li><li class="list__item" id="f6cabefd"><p>In the central panel in <span class="control">Profile Application</span>, select            <span class="control">Standalone</span>.        </p></li><li class="list__item" id="d12e8d80">            Depending on which unit testing framework you use,            specify the path to its executable file in the <span class="control">Application</span> field.            Your can work with the following frameworks/executables:            <ul class="list _ul"><li class="list__item" id="fea633d7"><p>                    <span class="filepath">nunit.exe</span>                    for NUnit.                </p></li><li class="list__item" id="5dc555f7"><p>                    <span class="filepath">nunit-console.exe</span>                    for NUnit.                </p></li><li class="list__item" id="4407f4db"><p>                    <span class="filepath">MSTest.exe</span>                    for MSTest.                </p></li><li class="list__item" id="7983a92d"><p>                    <span class="filepath">xUnit-console.exe</span>                    for xUnit.                </p></li></ul>        </li><li class="list__item" id="954b9356"><p>            Specify the path to the <span class="filepath">.dll</span> file with your unit tests            and add arguments (if necessary) in the <span class="control">Arguments</span> field.        </p></li><li class="list__item" id="64c556ad">            Optionally, select the <span class="control">Advanced</span> option to configure additional options, such as            <span class="control">Working Directory</span>            and <span class="control">Profile child processes</span>.            <br>            For example, if you need to profile NUnit tests running under <span class="filepath">nunit-console.exe</span>, note that NUnit test            runner creates a separate process to run tests. Therefore you need to exclude the            <span class="filepath">nunit-console.exe</span>            process from profiling. To do this:            <ol class="list _decimal"><li class="list__item" id="710b0d21"><p>                    Select <span class="control">Advanced</span>.                </p></li><li class="list__item" id="ba687d78"><p>                    Click <span class="control">Filter Processes</span>.                </p></li><li class="list__item" id="04ed6971"><p>                    In the opened <span class="control">Filter Processes</span> window, add the                    <code class="code">nunit-console*</code>                    filter.                </p></li></ol>        </li><li class="list__item" id="dc5a506f"><p>            Specify            <a href="Profiler_Options.html">profiling options</a>            in the <span class="control">Profiler Configuration</span> window.        </p></li><li class="list__item" id="e7cd0c89"><p>            Click <span class="control">Run</span>.        </p></li></ol></section>    <div class="table-wrapper"><table class=" wide" width="100%" id="856b6e75"><thead><tr id="77fb17c0" class="ijRowHead"><th id="f84e38c9" width="20%"><p>Test Runner</p></th><th id="76e3f253" width="40%"><p>Application</p></th><th id="b09cf29d" width="40%"><p>Arguments</p></th></tr></thead><tbody><tr id="73ff3e8d" class="ijRowOdd"><td id="63ef11c0"><p>nunit.exe for nUnit</p></td><td id="32ac0c02"><p>                Path to test runner executable.                <br>                Example:                <i id="ff64cf15" index="noindex">"C:\Program Files (x86)\NUnit 2.5.3\bin\net-2.0\nunit.exe"</i>            </p></td><td id="9af16173"><p>                Path to the dll file with unit tests.                <br>                Example:                <i id="2ec117e8" index="noindex">                    "C:\Projects\ConsoleApplication1\ConsoleApplication1Test\bin\Debug\ConsoleApplication1Test.dll"                </i>            </p></td></tr><tr id="ff206c10" class="ijRowEven"><td id="2f920077"><p>nunit-console.exe for nUnit</p></td><td id="2d997aff"><p>                Path to the test runner executable.                <br>                Example:                <i id="9ed37d35" index="noindex">"C:\Program Files (x86)\NUnit 2.5.3\bin\net-2.0\nunit-console.exe"</i>            </p></td><td id="6ba14104"><p>                Path to the dll file with unit tests and name of xml file where test results are stored.                <br>                Example:                <i id="6746ad70" index="noindex">"C:\Test progs\ConsoleApplication1nUnit\ConsoleApplication1nUnitTest.dll"                    /xml:C:\Temp\1.xml                </i>            </p></td></tr><tr id="7a657a64" class="ijRowOdd"><td id="c141bb28"><p>MSTest.exe for MSTest</p></td><td id="f3acf9d6"><p>                Path to the test runner executable.                <br>                Example:                <i id="88078126" index="noindex">"C:\Program Files (x86)\Microsoft Visual Studio 9.0\Common7\IDE\MSTest.exe"</i>            </p></td><td id="5f446bd1">                Arguments:                <ul class="list _ul"><li class="list__item" id="78bddaaf"><p>                        <i id="f376f5e4">/noisolation</i>                        - run tests within the MSTest.exe process.                    </p></li><li class="list__item" id="2180e891"><p>                        <i id="91317146">/testcontainer</i>                        - load a file that contains tests that you want to run.                    </p></li></ul>                Example:                <i id="fdc68aba" index="noindex">/noisolation                    /testcontainer:"C:\Projects\ConsoleApplication1\ConsoleApplication1Test\bin\Debug\ConsoleApplication1Test.dll"                </i>            </td></tr><tr id="5c87a538" class="ijRowEven"><td id="7a21f175"><p>xUnit-console.exe for xUnit</p></td><td id="1f670eb1"><p>                Path to the test runner executable.                <br>                Example:                <i id="977b8821" index="noindex">"C:\Prog\xunit-1.5\xunit.console.exe"</i>            </p></td><td id="185f8ffd"><p>                Path to the dll file with unit tests and name of xml file where test results are stored.                <br>                Example:                <i id="de715cea" index="noindex">                    "C:\Projects\ConsoleApplication1\ConsoleApplication1xUnit\bin\Debug\ConsoleApplication1xUnit.dll"                    /xml                    1.xml                </i>            </p></td></tr></tbody></table></div>    <p id="1e5fc688">        The resulting snapshot contains lots of information that pertains not only to the unit tests you're profiling        but        to test framework itself, making it a difficult task to extract information about unit tests.        If you don't find unit test code in the snapshot at all, make sure the tests are actually running.        In some cases MSTest stops before running tests due to inadequate permissions. If this is the case,        try running dotTrace as administrator.    </p>                            <div class="last-modified" data-skip-index="skip">Last modified: 19 September 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="Profiling_Guidelines__XBAP.html">Profile XBAP Application</a><a class="navigation-links__next" href="Profile_Static_Method.html">Profile Static Method</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>