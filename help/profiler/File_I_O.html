<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>文件操作-帮助| dotTrace</title><link rel="stylesheet" href="/resources.jetbrains.com/storage/help-app/v3/app.css"></head><body  data-id="File_I_O" data-disqus-id="File_I_O_dt"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索dotTrace帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>dotTrace 2019.2帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option value="rs" data-group="secondary">ReSharper 2.x / IntelliJ IDEA</option><option value="vs" data-group="primary">视觉工作室</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 id="File_I_O.xml" data-toc="File_I_O">文件操作</h1>    <p id="a4b4f8dc">“ <span class="control">文件操作”</span>事件指示发生文件输入/输出操作的时间间隔。这包括读取和写入物理磁盘和系统缓存。因此，文件I / O操作不等于磁盘I / O操作。</p>    <p id="22fac9ff">文件操作对于性能分析非常重要，因为访问文件系统可能需要大量时间。例如，如果您的应用程序频繁读取特定文件，则缓存文件数据会更有效。</p>    <p id="4f80fd46">选择“ <span class="control">文件操作”</span>事件以分析应用程序中的文件操作：评估文件操作如何影响性能，哪些方法可以完成大部分工作，等等。例如，要确定在一个线程中执行的大多数文件I / O操作的方法，请在<span class="control">主题</span>图中的线程和<span class="control">事件</span>的<span class="control">文件操作</span>事件。这些方法将显示在“ <span class="control">调用堆栈”</span>窗口的“ <span class="control">方法和子系统”</span>顶部。</p>    <p id="e429b7eb">选择“ <span class="control">文件操作”</span>事件后，“ <span class="control">过滤器”</span>窗口将包含子过滤器，这些子过滤器使您可以细化所得到的过滤器： <span class="control">文件操作：文件名</span>和<span class="control">文件操作：方向</span> 。</p>    <div class="chapter"><h2 id="a88660f6" data-toc="File_I_O#a88660f6">文件操作：文件名</h2>                <p id="eab2f679"><span class="control">文件操作：文件</span>名子过滤器显示特定文件之间文件I / O操作时间的分布。使用此子过滤器确定您的应用程序使用的文件。</p>        <figure><img alt="文件io文件名1" title="文件io文件名1" src="/help/img/dotnet/2019.2/file_i_o_filename_1.png" id="57519b23" width="320" height="217"></figure>        <p id="0ef78e74">            <img alt="位置1" title="位置1" src="/help/img/dotnet/2019.2/pos_1.png" id="ce13e83d" width="32" height="32" class="inline-icon-32">文档名称。</p>        <p id="d9fe87ec">            <img alt="位置2" title="位置2" src="/help/img/dotnet/2019.2/pos_2.png" id="deb1cab5" width="31" height="31" class="inline-icon-31">在文件I / O操作上花费的总时间，包括所有选定线程的文件总和。<br>        </p>        <p id="94fd58ca">            <img alt="位置3" title="位置3" src="/help/img/dotnet/2019.2/pos_3.png" id="cacd7ecb" width="31" height="30" class="inline-icon-31">文件在文件I / O操作上花费的时间相对于总选定时间的百分比。</p>        <p id="70bdeef4">例如，您的应用程序具有您感兴趣的两个线程：线程1和线程2。分析持续了50毫秒。线程1与<span class="filepath">file1.txt</span>一起使用10毫秒，与<span class="filepath">file2.txt一起</span>使用30毫秒。线程＃2与<span class="filepath">file1.txt</span>一起使用了5毫秒。<span class="control">活动</span>将显示以下内容：<br>            <b id="ea5c9f22">文件操作45毫秒45％</b>        </p>        <p id="ae85adc5">如果选择“ <span class="control">文件操作”</span>事件，“ <span class="control">文件操作：文件名”</span>子过滤器将显示以下内容：<br>            <b id="3c42f143">file1.txt 15毫秒15％</b>            <br>            <b id="e89c882a">file2.txt 30毫秒30％</b>            <br>        </p>        <section class="procedure-steps"><h3 id="370f065a">要应用文件操作：文件名过滤器</h3><div id="5d666a9c"><p>在过滤器中选择所需的文件名。</p></div></section>        <p id="a3371fe3">选择文件名后，其他过滤器将仅在线程对所选文件执行文件I / O操作的时间间隔内显示数据。</p>        <figure><img alt="文件io文件名2" title="文件io文件名2" src="/help/img/dotnet/2019.2/file_i_o_filename_2.png" id="5557dcca" width="355" height="373" align="middle"></figure>        <div class="chapter"><h3 id="9d848207">文件I / O窗口</h3>            <p id="63f7894f">如果要查看完整的文件路径或通过其路径查找特定文件，请打开“ <span class="control">文件I / O”</span>窗口。</p>            <figure><img alt="文件io文件名表" title="文件io文件名表" src="/help/img/dotnet/2019.2/file_i_o_filename_table.png" id="3c9f4879" width="651" height="382"></figure>            <section class="procedure-steps"><h3 id="6edaf71f">打开文件I / O窗口</h3><div id="0b8d48d6"><p>请执行以下任一操作：</p><ul class="list _ul"><li class="list__item" id="9c025f22"><p>使用菜单<span class="menupath" data-skip-index="skip">查看|文件I / O。</span></p></li><li class="list__item" id="5326de53"><p>点击<img alt="主题图标数据表打开屏幕灰色" title="主题图标数据表打开屏幕灰色" src="/help/img/dotnet/2019.2/ThemedIcon.DatailsTableOpen.Screen.[Gray].png" id="4c5b0432" width="14" height="14" class="inline-icon-14"> <span class="control">文件操作：文件名</span>过滤器中的按钮。</p></li></ul>                <p></p></div></section>            <p id="bd67cc27">与“ <span class="control">文件操作：文件名”</span>过滤器一样，“ <span class="control">文件I / O”</span>窗口也可以用作特定文件的过滤器。</p>            <section class="procedure-steps"><h3 id="815c558b">按特定文件应用过滤器</h3><div id="5cfa5983"><p>请执行以下任一操作：</p><ul class="list _ul"><li class="list__item" id="f14c4082"><p>选择所需的文件。</p></li><li class="list__item" id="c4bcd7a4"><p>双击所需的文件。</p></li><li class="list__item" id="b648a8f2"><p>选择所需的文件，然后按<kbd class="keystroke" data-bypass="true"><span class="keystroke__value">Enter</span></kbd>                        </p></li><li class="list__item" id="774c0ffa"><p>在所需文件的上下文菜单中，选择“ <span class="control">选择并清除其他”</span> 。</p></li></ul>                <p></p></div></section>            <section class="procedure-steps"><h3 id="fd0f2156">按多个文件应用过滤器</h3><div id="8b1f727b"><p>请执行以下任一操作：</p><ul class="list _ul"><li class="list__item" id="29b2f0c1"><p>选择所需的文件，然后按<kbd class="keystroke" data-bypass="true"><span class="keystroke__value">Space</span></kbd> 。</p></li><li class="list__item" id="b5e07850"><p>在所需文件的上下文菜单中，选择“ <span class="control">选择为筛选器”</span> 。</p></li></ul>这会将文件添加到选择中。<p></p></div></section>            <section class="procedure-steps"><h3 id="b0f6ff9d">要将文件路径复制到剪贴板</h3><div id="a7772387"><p>在所需文件的上下文菜单中，选择“ <span class="control">复制到剪贴板”</span> 。</p></div></section>            <section class="procedure-steps"><h3 id="415b4857">通过路径查找特定文件</h3><div id="9965577c"><p>在“ <span class="control">文件I / O”</span>窗口顶部的搜索文本框中，开始输入文件的路径。键入时，文件列表会变窄，建议与输入的字符串匹配的文件。</p></div></section>        </div>    </div>    <div class="chapter"><h2 id="3c8bfd7c" data-toc="File_I_O#3c8bfd7c">文件操作：方向</h2>                <p id="7a960ee6"><span class="control">文件操作：</span>方向子过滤器显示读取和写入操作之间的文件I / O分布。使用此子过滤器可以确定哪种类型的文件I / O操作占主导地位。</p>        <figure><img alt="文件io方向1" title="文件io方向1" src="/help/img/dotnet/2019.2/file_i_o_direction_1.png" id="82a32d8b" width="323" height="189"></figure>        <p id="786c43de">            <img alt="位置1" title="位置1" src="/help/img/dotnet/2019.2/pos_1.png" id="67e94bfb" width="32" height="32" class="inline-icon-32"> I / O方向：“ <span class="control">读取”</span> ，“ <span class="control">写入</span> ”或“ <span class="control">未选择”</span> ，等于“未应用过滤器”。</p>        <p id="2d77e025">            <img alt="位置2" title="位置2" src="/help/img/dotnet/2019.2/pos_2.png" id="80540b73" width="31" height="31" class="inline-icon-31">所有选定线程在读或写操作上花费的总时间总计。<br>        </p>        <p id="9f263452">            <img alt="位置3" title="位置3" src="/help/img/dotnet/2019.2/pos_3.png" id="b761cf5a" width="31" height="30" class="inline-icon-31">相对于总选定时间，在读或写操作上花费的时间百分比。</p>        <p id="ea94463c">例如，您的应用程序具有您感兴趣的两个线程：线程1和线程2。分析持续了50毫秒。线程1从<span class="filepath">file1.txt</span>读取了10毫秒，并写入了15毫秒。线程2仅从<span class="filepath">file1.txt</span>读取20毫秒。<span class="control">活动</span>将显示以下内容：<br>            <b id="d98b6d33">文件操作45毫秒45％</b>        </p>        <p id="b960bd39">如果选择“ <span class="control">文件操作”</span>事件，“ <span class="control">文件操作：方向”</span>子过滤器将显示以下内容：<br>            <b id="7c59e0f8">读取30毫秒30％</b>            <br>            <b id="33db5794">写15毫秒15％</b>            <br>            <b id="0fac6bdf">未选择45毫秒</b>        </p>                <section class="procedure-steps"><h3 id="449b0133">应用文件操作：方向过滤器</h3><div id="a1f85aa7"><p>在过滤器中选择所需的方向。</p></div></section>        <p id="ae6e6138">选择方向后，其他过滤器将仅在线程执行选定类型的文件I / O操作的时间间隔内显示数据。</p>        <figure><img alt="文件io方向2" title="文件io方向2" src="/help/img/dotnet/2019.2/file_i_o_direction_2.png" id="4b3bc3ba" width="346" height="370" align="middle"></figure>    </div><div class="last-modified" data-skip-index="skip">上次修改时间：2019年9月19日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="JIT_Compilation.html">JIT编译</a> <a class="navigation-links__next" href="SQL_Client.html">SQL查询</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>