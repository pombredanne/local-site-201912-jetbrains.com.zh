<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>API参考-帮助| dotTrace</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body  data-id="API_Reference" data-article-props="
                {
                
            " seeals=":{=" concept=":=" hre=":" profiling_guidelines__advanced_profiling_using_dottrace_api.htm="," titl=":" controlling="" profiling="" session="" through="" ap="}=" ="" data-disqus-id="API_Reference_dt"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索dotTrace帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>dotTrace 2019.2帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option value="rs" data-group="secondary">ReSharper 2.x / IntelliJ IDEA</option><option value="vs" data-group="primary">视觉工作室</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 id="API_Reference.xml" data-toc="API_Reference">API参考</h1>    <div class="chapter"><h2 id="measureprofiler-class-methods" data-toc="API_Reference#measureprofiler-class-methods">MeasureProfiler类方法</h2>        <div class="table-wrapper"><table class=" wide" width="100%" id="38c7bbda"><thead><tr id="eb48e143" class="ijRowHead"><th id="014ab2dd" width="20%"><p>项目</p></th><th id="98d9edc3" width="20%"><p>退货</p></th><th id="f069336e" width="60%"><p>描述</p></th></tr></thead><tbody><tr id="eb4b20c0" class="ijRowOdd"><td id="07ae3c46">                    <code class="code">GetFeatures()</code>                </td><td id="3243ed1e">                    <code class="code">enum MeasureFeatures: uint</code>                </td><td id="77f255b1">                    <p id="cfac213d">返回事件探查器中当前活动的一组功能： <code class="code">MeasureFeatures</code>值完全描述了当前探查器状态。每个位指示相应的功能当前是否可用：</p>                    <ul class="list _ul"><li class="list__item" id="5e0fc3ec"><p><code class="code">Ready = 0x1</code> ：指示分析器是否已准备好工作。仅在将探查器附加到当前进程的情况下，才需要检查此标志：一旦探查器准备好接受您的命令，该标志就会被设置。如果您在概要分析中启动进程，则始终设置此标志。从流程中分离探查器之后，该标志将被清除。</p></li><li class="list__item" id="7d1a5804"><p><code class="code">Detach = 0x2</code> ：指示是否可以使用<code class="code">MeasureProfiler.Detach()</code> 。<br>                            <code class="code">0</code> ：探查器将忽略<code class="code">MeasureProfiler.Detach()</code> 。<br>                            <code class="code">1</code> ： <code class="code">MeasureProfiler.Detach()</code>将从探查进程中分离探查器。</p></li></ul>                </td></tr><tr id="5f4653d1" class="ijRowEven"><td id="de2e7db1">                    <code class="code">StartCollectingData()</code>                </td><td id="a84ffa07"></td><td id="709c37f1"><p>开始收集分析数据。<br>即使在禁用概要分析的情况下运行应用程序，也不会引发任何错误。</p></td></tr><tr id="581a8a6d" class="ijRowOdd"><td id="39ad5f8f">                    <code class="code">StartCollectingData(string groupName)</code>                </td><td id="dcb0c7b0"></td><td id="71aa7886"><p>[限内部使用]<br>开始收集分析数据。<br>即使在禁用概要分析的情况下运行应用程序，也不会引发任何错误。<br>                    <code class="code">groupName</code>是收集的数据块的名称。</p></td></tr><tr id="71e3ca70" class="ijRowEven"><td id="0d96fb68">                    <code class="code">StopCollectingData()</code>                </td><td id="35f0fd43"></td><td id="e2cafef6"><p>停止收集分析数据。当前数据将保留在内存中，因此下次您开始使用<code class="code">StartCollectingData()</code> ，新数据将被添加到当前数据中。<br>此方法不会将收集的数据块保存到磁盘。<br>即使在禁用概要分析的情况下运行应用程序，也不会引发任何错误。<br>重要！此方法不适用于“ <a href="Profiler_Options.html#profiling_type">时间轴”概要分析类型，</a>并且探查器将忽略它。</p></td></tr><tr id="f63c81e8" class="ijRowOdd"><td id="b5e6ee5b">                    <code class="code">SaveData()</code>                </td><td id="0747ddbe"></td><td id="840a64d7"><p>如果需要，停止收集数据并将所有收集的数据块保存到磁盘。<br>保存快照后，将重置收集的数据。<br>即使在禁用概要分析的情况下运行应用程序，也不会引发任何错误。</p></td></tr><tr id="13f8c115" class="ijRowEven"><td id="4dd0b6d3">                    <code class="code">SaveData(string name)</code>                </td><td id="d7893ba1"></td><td id="a6593c81"><p>[限内部使用]<br>如果需要，停止收集数据并将所有收集的数据块保存到磁盘。<br>保存快照后，将重置收集的数据。<br>即使在禁用概要分析的情况下运行应用程序，也不会引发任何错误。<br>                    <code class="code">name</code>是收集的数据块的名称。它不是文件名。</p></td></tr><tr id="7b088d75" class="ijRowOdd"><td id="7c0894ef">                    <code class="code">Detach()</code>                </td><td id="5f7f67e6"></td><td id="c8d5a73f"><p>从概要分析过程中分离概要分析器。如果在事件探查器中禁用了分离，则不执行任何操作。要检查是否启用了分离，请使用<code class="code">MeasureProfiler.GetFeatures()</code>与<code class="code">MeasureFeatures.Detach</code>旗。即使在禁用概要分析的情况下运行应用程序，也不会引发任何错误。</p></td></tr><tr id="1a736a9c" class="ijRowEven"><td id="3be9fbbb">                    <code class="code">DropData()</code>                </td><td id="78a7d5eb"></td><td id="4ecbdb61"><p>如果需要，停止收集数据，并丢弃所有收集的数据块。<br>即使在禁用概要分析的情况下运行应用程序，也不会引发任何错误。</p></td></tr></tbody></table></div>    </div>        <div class="chapter"><h2 id="0471afa9" data-toc="API_Reference#0471afa9">SelfAttach类的属性</h2>        <div class="table-wrapper"><table class=" wide" width="100%" id="803bba97"><thead><tr id="91fa27f1" class="ijRowHead"><th id="f13b2a8e" width="20%"><p>项目</p></th><th id="b3d0846d" width="20%"><p>类型</p></th><th id="a716c42a" width="60%"><p>描述</p></th></tr></thead><tbody><tr id="16ee253a" class="ijRowOdd"><td id="38b92e7f">                    <code class="code">State</code>                </td><td id="7436b642">                    <code class="code">enum SelfApiState {None, Inactive, Active}</code>                </td><td id="539284fe">                    <p id="55cf93db">指示探查器状态。</p>                    <ul class="list _ul"><li class="list__item" id="ae87d683"><p>                            <code class="code">None</code> ：分析器不可用。</p></li><li class="list__item" id="6367bd36"><p>                            <code class="code">Inactive</code> ：分析器可用。分析控制不可用。</p></li><li class="list__item" id="a11f4b15"><p>                            <code class="code">Active</code> ：分析器可用。可以通过API或控制器窗口来控制分析。</p></li></ul>                </td></tr></tbody></table></div>    </div>    <div class="chapter"><h2 id="8bbada0e" data-toc="API_Reference#8bbada0e">SelfAttach类方法</h2>        <div class="table-wrapper"><table width="100%" id="25e7b00d"><thead><tr id="4ef0a04c" class="ijRowHead"><th id="4a6ee56e" width="20%"><p>项目</p></th><th id="77c1a10c" width="80%"><p>描述</p></th></tr></thead><tbody><tr id="cf7b0784" class="ijRowOdd"><td id="bdc2881c">                    <code class="code">Attach(BaseProfilingConfig baseConfig)</code>                </td><td id="3b80c101"><p>使用提供的配置将探查器附加到调用应用程序<code class="code">baseConfig</code> 。</p></td></tr><tr id="89f2db63" class="ijRowEven"><td id="3d4406c1">                    <code class="code">Show()</code>                </td><td id="1914b564"><p>向用户显示配置控制器。</p></td></tr></tbody></table></div>    </div>    <div class="chapter"><h2 id="fa852d31" data-toc="API_Reference#fa852d31">BaseProfilingConfig类的公共字段</h2>        <div class="table-wrapper"><table class=" wide" width="100%" id="6f482771"><thead><tr id="1691738d" class="ijRowHead"><th id="b8034649" width="20%"><p>项目</p></th><th id="d8a8fdcc" width="20%"><p>类型</p></th><th id="537d75c2" width="60%"><p>描述</p></th></tr></thead><tbody><tr id="70c8e97f" class="ijRowOdd"><td id="65c12289">                    <code class="code">ProfilingControlKind</code>                </td><td id="bfcf73f3">                    <code class="code">enum ProfilingControlKind {None, Manual, Api}</code>                </td><td id="99fe7ab3">                    <p id="4bbd60f7">定义分析控制方法。</p>                    <ul class="list _ul"><li class="list__item" id="c691b3d6"><p>                            <code class="code">None</code> ： 无控制。</p></li><li class="list__item" id="b4951a61"><p>                            <code class="code">Manual</code> ：通过“ <span class="control">控制器”</span>窗口进行<span class="control">控制</span> 。</p></li><li class="list__item" id="c9c2b877"><p>                            <code class="code">Api</code> ：通过API控制。</p></li></ul>                </td></tr><tr id="05a9ff4a" class="ijRowEven"><td id="9a5c140b">                    <code class="code">ProfilingType</code>                </td><td id="246de973">                    <code class="code">enum ProfilingType {Performance, Memory, Timeline}</code>                </td><td id="77992ce8">                    <p id="a294d48f">定义<a href="Profiling_Guidelines__Choosing_the_Right_Profiling_Mode.html">分析方法</a> 。</p>                                        <ul class="list _ul"><li class="list__item" id="50943b3e"><p>                            <code class="code">Performance</code> ：性能分析。</p></li><li class="list__item" id="606c8245"><p>                            <code class="code">Memory</code> ：内存配置文件（由dotMemory分析器使用）。</p></li><li class="list__item" id="b4039c10"><p>                            <code class="code">Timeline</code> ：时间轴分析。</p></li></ul>                                    </td></tr><tr id="94d84a0c" class="ijRowOdd"><td id="064d2cd9">                    <code class="code">PerformaceMeterKind</code>                </td><td id="358d7b1e">                    <code class="code">enum PerformaceMeterKind {Rdtsc, PerformanceCounter, ThreadTime, ThreadCycleTime}</code>                </td><td id="0bc5adc5">                    <p id="9ed07244">定义<a href="Profiling_Guidelines__Setting_the_Right_Meter_Kind.html">时间测量方法</a> 。</p>                                        <ul class="list _ul"><li class="list__item" id="a4431347"><p>                            <code class="code">Rdtsc</code> ：实时（CPU指令）。</p></li><li class="list__item" id="7e900af3"><p>                            <code class="code">PerformanceCounter</code> ：实时（性能计数器）。</p></li><li class="list__item" id="d8a84592"><p>                            <code class="code">ThreadTime</code> ：线程时间。</p></li><li class="list__item" id="bbd55e22"><p>                            <code class="code">ThreadCycleTime</code> ：线程循环时间。</p></li></ul>                </td></tr><tr id="89d109f5" class="ijRowEven"><td id="d2076822">                    <code class="code">RedistDir</code>                </td><td id="e35535cf">                    <code class="code">string</code>                </td><td id="68868009"><p>定义dotTrace SDK可再发行文件的位置。默认情况下，它们在与<span class="filepath">JetBrains相同的文件夹中搜索<span class="filepath">。探查器。视窗。Api.dll</span>位于。</span></p></td></tr></tbody></table></div>    </div>    <div class="chapter"><h2 id="f65afabd" data-toc="API_Reference#f65afabd">BaseSnapshotProfilingConfig类的公共字段</h2>        <div class="table-wrapper"><table class=" wide" width="100%" id="0141136c"><thead><tr id="abc2eee4" class="ijRowHead"><th id="6063a8c6" width="20%"><p>项目</p></th><th id="b4344f1f" width="20%"><p>类型</p></th><th id="f512e42f" width="60%"><p>描述</p></th></tr></thead><tbody><tr id="29618632" class="ijRowOdd"><td id="c573b404">                    <code class="code">SaveDir</code>                </td><td id="03fdc99b">                    <code class="code">string</code>                </td><td id="9b576642"><p>为生成的快照定义路径和基本文件名。此配置必需。</p></td></tr><tr id="01600cec" class="ijRowEven"><td id="f0ba4253">                    <code class="code">SnapshotFormat</code>                </td><td id="daf9479a">                    <code class="code">enum {Compressed, Uncompressed}</code>                </td><td id="c6110f66"><p>定义快照的文件格式：压缩或未压缩。默认情况下，它是压缩的。</p></td></tr></tbody></table></div>    </div>    <div class="chapter"><h2 id="9900cd23" data-toc="API_Reference#9900cd23">SaveSnapshotProfilingConfig类的公共字段</h2>        <div class="table-wrapper"><table class=" wide" width="100%" id="71cd3e7a"><thead><tr id="0c0d9bb3" class="ijRowHead"><th id="e4dbeba3" width="20%"><p>项目</p></th><th id="cc23f1cc" width="20%"><p>类型</p></th><th id="c75e8f97" width="60%"><p>描述</p></th></tr></thead><tbody><tr id="6040e5ad" class="ijRowOdd"><td id="b9f11b14">                    <code class="code">ListFile</code>                </td><td id="28d9be84">                    <code class="code">string</code>                </td><td id="41b729ef"><p>为文件定义文件名，该文件列出在分析过程中收集的快照。此配置必需。<br>不要手动创建此文件，它会在分析过程中自动创建！<br>在打开之前，请勿打开此文件。 <code class="code">SelfAttach.State</code>在里面<code class="code">None</code>州！</p></td></tr></tbody></table></div>    </div>    <div class="chapter"><h2 id="07759d4c" data-toc="API_Reference#07759d4c">ExecutableSnapshotProfilingConfig类公共字段</h2>        <div class="table-wrapper"><table class=" wide" width="100%" id="42e16198"><thead><tr id="0d2f8ac4" class="ijRowHead"><th id="ee55f79a" width="20%"><p>项目</p></th><th id="939ff3c3" width="20%"><p>类型</p></th><th id="5d3d4aa3" width="60%"><p>描述</p></th></tr></thead><tbody><tr id="ff7c7bc0" class="ijRowOdd"><td id="63f48048">                    <code class="code">Executable</code>                </td><td id="2b9d8733">                    <code class="code">string</code>                </td><td id="6d995b43"><p>定义分析完成后要运行的可执行文件的路径。快照路径将作为参数传递到此可执行文件。此配置必需。</p></td></tr></tbody></table></div>    </div>    <div class="last-modified" data-skip-index="skip">上次修改时间：2019年9月19日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="Profiling_Guidelines__Advanced_Profiling_Using_dotTrace_API.html">通过API</a> <a class="navigation-links__next" href="Studying_Profiling_Results__Index.html">分析性能分析结果来</a> <a class="navigation-links__prev" href="Profiling_Guidelines__Advanced_Profiling_Using_dotTrace_API.html">控制分析会话</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>