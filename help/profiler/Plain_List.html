<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>方法和子系统-帮助| dotTrace</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body  data-id="Plain_List" data-disqus-id="Plain_List_dt"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索dotTrace帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>dotTrace 2019.2帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option value="rs" data-group="secondary">ReSharper 2.x / IntelliJ IDEA</option><option value="vs" data-group="primary">视觉工作室</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 id="Plain_List.xml" data-toc="Plain_List">方法和子系统</h1>    <p id="006e26f5">        <span class="control">方法和子系统</span>显示了所有选定线程中按执行时间排序的方法列表。</p>    <p id="e7fcc59f">将“ <span class="control">方法和子系统”</span>与其他过滤器结合使用，可以根据特定条件确定“最佳”方法。例如，要看到文件操作时间“顶”方法，选择在<span class="control">活动</span>的<span class="control">文件操作</span>事件。</p>    <figure><img alt="顶级方法1" title="顶级方法1" src="/help/img/dotnet/2019.2/top_methods_1.png" id="853e52ce" width="800" height="566" align="middle"></figure>    <p id="b1a240dd">        <img alt="位置1" title="位置1" src="/help/img/dotnet/2019.2/pos_1.png" id="77168f92" width="32" height="32" class="inline-icon-32">呼叫执行时间相对于总选定时间的百分比（总计或全部取决于选定的排序）。如果<span class="control">在调用树按照选择</span>启用，那么相对于<span class="control">调用树</span>中选择呼叫子树的总时间。</p>    <p id="9098045f">        <img alt="位置2" title="位置2" src="/help/img/dotnet/2019.2/pos_2.png" id="df10257f" width="31" height="31" class="inline-icon-31">简短的方法名称。</p>    <p id="6532fff1">        <img alt="位置3" title="位置3" src="/help/img/dotnet/2019.2/pos_3.png" id="0f594901" width="31" height="30" class="inline-icon-31"> <span class="control">Total / Own + System</span>或<span class="control">Total / Own</span>呼叫执行时间。请参阅<a href="#how-call-time-is-calculated">下面</a>有关如何计算此时间的详细信息。</p>    <p id="e36ff73d">        <img alt="位置4" title="位置4" src="/help/img/dotnet/2019.2/pos_4.png" id="6c04ccea" width="31" height="32" class="inline-icon-31">完整的方法名称。</p>    <p id="05e67ff3">        <span class="control">跟随呼叫树中的选择</span>        <br>如果启用此选项，则将为“ <span class="control">调用树”中</span>当前选择的节点计算方法和子系统。否则，将为当前选择的时间间隔计算方法和子系统。</p>    <p id="70c05e5c">        <span class="control">隐藏系统功能</span>        <br>请参阅下面有关此选项的详细信息。</p>    <p id="f3a51d93">        <span class="control">子系统</span>        <br>子系统使您可以快速了解呼叫时间如何在各个组件之间分配：用户和系统代码，WPF，LINQ等。“ <span class="control">方法和子系统</span> ”中的子系统栏可显示“ <a href="Subsystems.html">子系统”</a>过滤器中的数据。</p>    <div class="chapter"><h2 id="how-call-time-is-calculated" data-toc="Plain_List#how-call-time-is-calculated">通话时间如何计算</h2>        <p id="34d6e584">如果<img alt="隐藏系统功能图标" title="隐藏系统功能图标" src="/help/img/dotnet/2019.2/hide_system_functions_icon.png" id="5ea106dc" width="16" height="16" class="inline-icon-16"> <span class="control">隐藏系统功能</span>已启用， <span class="control">总</span>调用时间是方法自身时间与所有子调用时间的总和。<br>            <span class="control">自身+系统</span>时间是方法自身时间和所有子系统方法（向下到堆栈中的下一个用户方法）的时间之和。</p>        <p id="60efd31d">如果<img alt="隐藏系统功能图标" title="隐藏系统功能图标" src="/help/img/dotnet/2019.2/hide_system_functions_icon.png" id="37a2e376" width="16" height="16" class="inline-icon-16"> <span class="control">隐藏系统功能</span>已禁用，系统方法分别显示在列表中。在这种情况下，方法的<span class="control">自身</span>时间不包括子系统调用的时间。</p>        <p id="41e913c5">为了更好地理解，请考虑示例。</p>        <figure><img alt="电视素色清单2" title="电视素色清单2" src="/help/img/dotnet/2019.2/tv_plain_list_2.png" id="909e5236" width="466" height="225"></figure>        <p id="bfac12d5">如果<img alt="隐藏系统功能图标" title="隐藏系统功能图标" src="/help/img/dotnet/2019.2/hide_system_functions_icon.png" id="79267c52" width="16" height="16" class="inline-icon-16"> <span class="control">隐藏系统功能</span>已启用，“ <span class="control">方法和子系统”</span>按以下方式计算时间（ <span class="control">总计/拥有+系统</span> ）：</p><figure><img alt="方法和子系统自己的系统示例" title="方法和子系统自己的系统示例" src="/help/img/dotnet/2019.2/methods_and_subsystems_own_system_example.png" id="f0027f65" width="458" height="127"></figure>        <p></p>        <p id="71302770">如果<img alt="隐藏系统功能图标" title="隐藏系统功能图标" src="/help/img/dotnet/2019.2/hide_system_functions_icon.png" id="67b7d58a" width="16" height="16" class="inline-icon-16"> <span class="control">隐藏系统功能</span>已禁用，“ <span class="control">方法和子系统”</span>计算时间（ <span class="control">总计/自己</span> ）如下：</p><figure><img alt="方法和子系统自己的例子" title="方法和子系统自己的例子" src="/help/img/dotnet/2019.2/methods_and_subsystems_own_example.png" id="71fabc26" width="458" height="166"></figure>        <p></p>    </div>    <div class="chapter"><h2 id="0c8e0af6" data-toc="Plain_List#0c8e0af6">导航到源代码</h2>        <section class="procedure-steps"><h3 id="11d098ab">导航到源代码中的方法声明</h3><ol class="list _decimal"><li class="list__item" id="4d5e4415"><p>选择方法。</p></li><li class="list__item" id="836b7b4c"><p>按<kbd class="keystroke" data-bypass="true"><span class="keystroke__value">Enter</span></kbd>或在上下文菜单中选择“ <span class="control">导航到代码”</span> （集成在Visual Studio中的<span class="control">“</span>时间线查看器”）或“ <span class="control">显示代码”</span> （独立的时间线查看器）项。</p></li></ol></section>        <section class="procedure-steps"><h3 id="8db9cb3f">（Visual Studio集成查看器）从源代码导航到“调用树”并按所有出现的方法应用过滤器</h3><div id="2492cb56"><p>在Visual Studio的源代码中，执行下列操作之一：</p><ul class="list _ul"><li class="list__item" id="90328e05"><p>右键单击方法名称，然后在上下文菜单中选择“ <span class="menupath" data-skip-index="skip">导航到|找到性能快照</span> 。</p></li><li class="list__item" id="161d2016"><p>将光标放在方法名称或方法内部的任何位置，然后按<kbd class="keystroke" data-bypass="true"><span class="keystroke__value">Shift+Alt+S</span></kbd> 。<br>                        <b id="102db3db">dotTrace 10.0.2中的已知问题</b> ：安装dotTrace之后，快捷方式将不起作用，直到您重新应用ReSharper的当前键盘方案。为此，在<span class="menupath" data-skip-index="skip">ReSharper中|选项... |环境|键盘和菜单</span> ，单击“ <span class="control">应用方案”</span>按钮。</p></li></ul>这还将按方法出现及其子树应用筛选器。<p></p></div></section>    </div>    <div class="chapter"><h2 id="a00582e0" data-toc="Plain_List#a00582e0">调用树中的打开方法</h2>        <section class="procedure-steps"><h3 id="56c12d71">要显示“调用树”中所有方法的出现，并按方法的总时间应用过滤器</h3><ol class="list _decimal"><li class="list__item" id="0930f542"><p>选择一种方法。</p></li><li class="list__item" id="f3bc0265"><p>按<kbd class="keystroke" data-bypass="true"><span class="keystroke__value">Ctrl+Shift+Enter</span></kbd> ，单击方法的总时间链接，或在上下文菜单中选择“ <span class="control">合并方法事件”</span>项。</p></li></ol><p id="3415361f">此后，该方法将成为“ <span class="control">呼叫树”</span>中的根节点，其中包含所有出现的呼叫子树。这还将按方法出现及其子树应用筛选器。</p></section>        <section class="procedure-steps"><h3 id="1c146156">要显示“调用树”中所有方法的出现并按方法自己的时间应用过滤器</h3><ol class="list _decimal"><li class="list__item" id="ad9fa58d"><p>选择一种方法。</p></li><li class="list__item" id="aa9f15b7"><p>单击方法自己的时间链接，或在上下文菜单中选择“ <span class="control">按方法自己的时间过滤”</span>项。</p></li></ol><p id="045c3c4f">此后，该方法将成为“ <span class="control">调用树”中的</span>根节点，并应用按方法自身时间进行的筛选。请注意，在这种情况下，所有子调用都将从子树中排除。</p></section>    </div>    <div class="chapter"><h2 id="64a795f4" data-toc="Plain_List#64a795f4">查看方法的回溯</h2>        <p id="7c94711b">有时，快速查看特定方法的<a href="Call_Tree.html#backtraces">回溯</a> （反向调用树）以识别其来源可能会有所帮助。</p>        <section class="procedure-steps"><h3 id="ab51a2a2">快速查看特定方法的回溯</h3><ol class="list _decimal"><li class="list__item" id="12df91c9"><p>将鼠标悬停在方法上。</p></li><li class="list__item" id="13a52aa1"><p>单击箭头符号<img alt="异步调用箭头" title="异步调用箭头" src="/help/img/dotnet/2019.2/async_calls_arrow.png" id="8b6f41ed" width="10" height="8" class="inline-icon-10">在左边。</p></li></ol>                <figure id="7066938b" width="520" data-theme="light"><img class="js-gif" src="/help/img/dotnet/2019.2/backtraces_top_methods.png" width="520" data-gif-src="/help/img/dotnet/2019.2/backtraces_top_methods.animated.gif" style="width:520px"></figure>            </section>    </div>    <div class="chapter"><h2 id="7dfcc235" data-toc="Plain_List#7dfcc235">排序方式</h2>        <section class="procedure-steps"><h3 id="ae617f1b">按总时间或自己的时间对列表进行排序</h3><div id="6540652a"><p>单击“ <span class="control">方法和子系统”</span>窗口顶部的“ <span class="control">总计/自己的时间”</span>链接。</p></div></section>    </div>                                                                            <div class="last-modified" data-skip-index="skip">上次修改时间：2019年9月19日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="Call_Stack.html">调用堆栈</a> <a class="navigation-links__next" href="Call_Tree.html">调用树</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>