<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>时间线查看器概念-帮助|帮助dotTrace</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body  data-id="Timeline_Viewer_Concepts" data-disqus-id="Timeline_Viewer_Concepts_dt"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索dotTrace帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>dotTrace 2019.2帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option value="rs" data-group="secondary">ReSharper 2.x / IntelliJ IDEA</option><option value="vs" data-group="primary">视觉工作室</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 id="Timeline_Viewer_Concepts.xml" data-toc="Timeline_Viewer_Concepts">时间线查看器概念</h1>    <p id="86bff669">如“ <a href="Concurrency_Profiling_Timeline_.html">基本概念”中所述</a> ，时间线概要分析的主要思想是收集<i id="2ea292e9">临时</i>调用堆栈和线程状态数据。因此，它不仅使您能够评估某些方法的性能，而且可以获得有关如何及时分布性能缺陷的详细信息。这在分析UI冻结，同步延迟，过多的垃圾回收，文件I / O和其他间隔事件时非常有用。</p>    <p id="baadb12e">        <span class="control">Timeline Viewer</span> UI专门为方便使用事件时间线而量身定制：它是一组过滤器和图表，允许您过滤和可视化时间数据。</p>    <figure><img alt="时间轴概念1" title="时间轴概念1" src="/help/img/dotnet/2019.2/timeline_concepts_1.png" id="b59a7ebc" width="826" height="591"></figure>    <p id="663f09c7"><span class="control">时间轴查看器中的</span>分析工作流程非常简单：</p>    <ol class="list _decimal"><li class="list__item" id="c58ef8c3"><p>首先，在<span class="control">Events中</span> ，选择您感兴趣的应用程序中的任何事件。这可能是整个时间轴数据，垃圾回收时间间隔，内存分配数据，应用程序与SQL Server一起工作的时间间隔等。</p></li><li class="list__item" id="553cb777"><p>使用过滤<span class="control">器</span>对数据进行切片和切块（ <span class="control">Filters</span> ， <span class="control">Timeline</span>和<span class="control">Call Stack</span>可以按时间，线程或特定方法应用过滤器）。过滤器工作的结果始终是由特定条件选择的一组时间间隔或点事件。例如，您可以要求查看器“ <i id="4f55fd5d">选择运行主线程的</i> <i id="60e2b92b">所有时间间隔</i> ”或“ <i id="60e2b92b">选择MyMethod（）工作的所有时间间隔</i> ”。</p></li><li class="list__item" id="dfeb043d"><p>查看和分析过滤后的数据。</p></li></ol>    <p id="dc322ed9">在这里，我们介绍了一些在Timeline Viewer中成功进行数据分析所需了解的概念。</p>    <div class="chapter"><h2 id="45081d23">一切都是过滤器</h2>        <p id="e7b48e4b">步骤2和3都是使用相同的UI控件执行的。因此，每个控件不仅用于设置特定的过滤器，还用于显示大量的过滤信息。</p>        <p id="40b5e782">例如，“ <span class="control">线程状态”</span>过滤器不仅允许您按线程状态应用过滤器，还可以显示所选线程处于特定状态的时间。</p>    </div>    <div class="chapter"><h2 id="3c072e8a">过滤器链接在一起</h2>        <p id="b8f4cf08">过滤器可以按链分组。复杂的过滤器组合使您可以分析应用程序的几乎任何方面。</p>        <p id="fdfcfa3e">例如，如果将“ <i id="6d182ac7">选择运行主线程的所有时间间隔</i> ”和“ <i id="700dd5b8">选择执行垃圾收集的所有时间间隔</i> ”过滤器组合在一起，则将得到结果过滤器<i id="f1adf76e">“选择运行主线程的所有时间间隔”在垃圾收集期间运行”</i> 。换句话说，此过滤器组合将仅保留主线程切换GC的时间间隔。<span class="control">调用堆栈|顶级方法</span>过滤器将向您显示切换集合的确切方法。</p>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </div>    <div class="chapter"><h2 id="fe3582f9">将Timeline Viewer集成到Visual Studio中</h2>        <p id="a5281022">Visual Studio中的时间线查看器由<span class="control">Performance Profiler</span>工具窗口（ <span class="menupath" data-skip-index="skip">ReSharper | Profile | Open Performance Profiler</span> ）表示。它是为在Visual Studio中使用而量身定制的独立时间线查看器的副本。两种工具的用户界面几乎相同：主要区别在于过滤器在主窗口上的显示方式（请参见<a href="Analyzing_Concurrency_Profiling_Results_Timeline_.html#timeline-viewer-integrated-into-visual-studio">差异</a>的<a href="Analyzing_Concurrency_Profiling_Results_Timeline_.html#timeline-viewer-integrated-into-visual-studio">完整列表</a> ）。</p><figure><img alt="性能分析器窗口" title="性能分析器窗口" src="/help/img/dotnet/2019.2/performance_profiler_window.png" id="1729bac9" width="766" height="571"></figure>        <p></p>    </div><div class="last-modified" data-skip-index="skip">上次修改时间：2019年9月19日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="Analyzing_Concurrency_Profiling_Results_Timeline_.html">分析时间线分析结果</a> <a class="navigation-links__next" href="Timeline_Diagram.html">时间线窗口</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>