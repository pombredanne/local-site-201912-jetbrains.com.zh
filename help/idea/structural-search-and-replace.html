<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>Structural search and replace - Help | IntelliJ IDEA</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body data-id="topicId453705" data-breadcrumbs="Working_with_source_code.xml|Working with source code/Find and replace/Structural_Search_and_Replace.xml|Structural search and replace/Search_Templates.xml|Search templates, filters, and script constraints/Structural_Search_and_Replace_Examples.xml|Structural search and replace examples" data-main-title="Structural search and replace"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search IntelliJ IDEA Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>IntelliJ IDEA 2019.3 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="primary" value="primary_default_for_windows" selected>Default for Windows</option><option data-group="primary" value="primary_eclipse">Eclipse</option><option data-group="primary" value="primary_emacs">Emacs</option><option data-group="primary" value="primary_netbeans">NetBeans</option><option data-group="primary" value="primary_sublime_text">Sublime Text</option><option data-group="primary" value="primary_visual_studio">Visual Studio</option><option data-group="secondary" value="secondary_macos">macOS</option><option data-group="secondary" value="secondary_eclipse">Eclipse</option><option data-group="secondary" value="secondary_eclipse_macos">Eclipse (macOS)</option><option data-group="secondary" value="secondary_emacs">Emacs</option><option data-group="secondary" value="secondary_intellij_idea_classic">IntelliJ IDEA Classic</option><option data-group="secondary" value="secondary_netbeans">NetBeans</option><option data-group="secondary" value="secondary_sublime_text">Sublime Text</option><option data-group="secondary" value="secondary_sublime_text_macos">Sublime Text (macOS)</option><option data-group="secondary" value="secondary_visual_studio">Visual Studio</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 data-toc="topicId453705" id="Structural_Search_and_Replace.xml">Structural search and replace</h1>            <p id="ssr_inspections">        A conventional search process does not take into account the syntax and semantics of the source code.        Even if you use regular expressions, IntelliJ IDEA still treats your code as a regular text.        The <span class="keyword">structural search and replace</span> (<span class="keyword">SSR</span>) actions let you        search for a particular code pattern or grammatical construct in your code considering your        code structure.    </p><aside data-type="note" class="prompt" data-title="" rel="ssr_inspections" id="14a34dfe">            <p id="a4dbc50a">In some cases, you can use inspections instead of the structural search and replace. For example,                replacing classes with interfaces through structural search will not modify usages                and you would need to perform search and replace several times.                In such case, you can use the <span class="emphasis">abstract class may be interface</span>                inspection that will also modify usages of the abstract class.            </p>        </aside>    <p id="2903fe41">IntelliJ IDEA finds and replaces fragments of source code, based on the        <a href="search-templates.html">search templates</a> that you create and        <a href="search-templates.html#ssr_filters">conditions</a> you apply.</p>    <section class="procedure-steps"><h3 id="to_search_structurally" data-toc="topicId453705#to_search_structurally">Search for a target structurally</h3><ol class="list _decimal"><li class="list__item" id="eaef09b8">            <p id="8d0c6b16">From the main menu, select <span data-skip-index="skip" class="menupath">Edit | Find | Search Structurally</span> to open the                <span class="control">Structural Search</span> dialog.            </p>            <aside data-type="note" class="prompt" data-title="" rel="8d0c6b16" id="ccbf328f">           <p id="064df113">In the <span class="control">Structural Search</span> dialog, you can quickly switch to the               <span class="control">Structural Replace</span> dialog. Click               <img class="inline-icon-16" src="/help/img/idea/2019.3/icons.general.gearPlain@2x.png" width="16" alt="the Settings button"> and select               <span class="control">Switch to Replace</span>.           </p>       </aside>        </li><li class="list__item" id="48f36bf0">            <p id="202b574f">In the <span class="control">Structural Search</span> dialog, do one of the following:            </p>            <ul class="list _ul"><li class="list__item" id="573ec69d">                    <p id="0a7d0456"><span class="emphasis">Create your own template from scratch</span>.                    </p>                    <p id="7cddd463">In the editor area, enter the code pattern (<code class="code">$variable$</code> that represent your code),                        click <img class="inline-icon-16" src="/help/img/idea/2019.3/icons.general.gearPlain@2x.png" width="16" alt="the Settings button">, and select                        <span class="control">Save Template</span> to save it for future use.</p>                    <figure><img alt="Structural Search dialog" title="Structural Search dialog" src="/help/img/idea/2019.3/structural_search_dialog.png" id="1d8efca9" width="662" height="223"></figure>                                                                                <p id="15580b8f">                        IntelliJ IDEA adds the created template to the                        existing template list (<span class="control">User Defined</span> node) in the                        <span class="control">Existing Templates</span> dialog.                    </p>                </li><li class="list__item" id="e8ee4e46">                    <p id="3c550f3e"><span class="emphasis">Use one of the existing templates to act as a prototype</span>.                    </p>                    <p id="115e3d88">Click <img class="inline-icon-16" src="/help/img/idea/2019.3/icons.general.gearPlain@2x.png" width="16" alt="the Settings button">, select <span class="control">Existing Templates</span> to open the list of                        predefined templates, and select the appropriate one.                    </p>                    <p id="3edd85b6">For example, you have the following fields in your code:</p>                                                            <div class="code-block" data-lang="java">
                        public class MainActivity {
                            public static final String this_is_wrong = "Hello";
                            public static final String THIS_IS_CORRECT = "world";
                        }
                    </div>                                                            <p id="62da8d94">Let's find a certain field in the class.</p>                                        <p id="f2379a0e">In the list of existing templates,                        click <span class="control">Java</span> and open the <span class="control">Class-based</span>                            node (since we need fields in the class), so the <span class="emphasis">fields of the class</span>                            template would be our target.                                                                                            </p>                    <figure><img alt="the Existing Templates dialog" title="the Existing Templates dialog" src="/help/img/idea/2019.3/existing_templates.png" id="1457d555" width="552" height="398"></figure>                                                            <p id="d3a773af">Click <span class="control">OK</span> to return to the <span class="control">Structural Search</span> dialog                        to work with the selected template.                    </p>                    <p id="4fba8e4d">IntelliJ IDEA instantly highlights the found code occurrences in the editor.</p>                </li></ul>        </li><li class="list__item" id="006eedb6"><p>The <span class="control">Structural Search</span> dialog displays the selected template and values of            the filters used in the template. You can edit the existing filters or add            new <a href="search-templates.html#ssr_filters">conditions</a>,            for example, add some regular expressions, or a                <a href="search-templates.html#script_constraints">script constraint</a>.            Place the caret at the code variable and use the filter area to manage filters.            <figure><img alt="the Edit filters" title="the Edit filters" src="/help/img/idea/2019.3/Edit_filters.png" id="41b3ed7f" width="600" height="385"></figure>                                </p></li><li class="list__item" id="7f3e1b9f"><p>            In the filter area, click <img class="inline-icon-16" src="/help/img/idea/2019.3/icons.general.add@2x.png" width="16" alt="the Add button"> to add a new condition.            If, for example, you need to add a regular expression, select <span class="control">Text</span>.            You can also add <a href="search-templates.html#ssr_filters">other conditions</a>            depending on your variable.        </p></li><li class="list__item" id="9203457f">            <p id="5f7fb5be">                In the field that opens, type your condition.            </p>            <p id="ed55311a">For example, let's type the following regular expression:            </p>            <div class="code-block" data-lang="none">
                \b[A-Z].*?\b
    </div>                        <figure><img alt="Add regular expression to the filter dialog" title="Add regular expression to the filter dialog" src="/help/img/idea/2019.3/add_filter_text_regex_ssr.png" id="cc044f02" width="600" height="385"></figure>                        <p id="b68e4c51">In this case when you select the <span class="control">Match case</span> checkbox in the                <span class="control">Structural Search</span> dialog, IntelliJ IDEA will only search for the upper case                words.            </p>            <p id="e98e7e64">Also note that by default, the <span class="control">Recursive</span> checkbox is selected. That means                that IntelliJ IDEA performs the recursive search and all nested items will be included in the results.                For example, when you search for a method call, with the <span class="control">Recursive</span> option                enabled, IntelliJ IDEA will find nested method calls in <code class="code">foo(foo(foo()))</code>. With the <span class="control">                    Recursive</span> option disabled,                only the outer method call will be found.            </p>        </li><li class="list__item" id="35c1a5d6">            <p id="c91a9b1f">                Specify the following options to further narrow the search:            </p>            <ul class="list _ul"><li class="list__item" id="95bd5aab"><p>                    <span class="control">File type</span> - use the list to select which file types should be a part of                    the search. In our case, it is <span class="control">Java</span>.                </p></li><li class="list__item" id="681572ce"><p><span class="control">Scope</span> - specify where to search: in a project, module, directory, or within a                    custom scope.                </p></li><li class="list__item" id="6423cf72">                    <p id="6d89ec19">                        <span class="control">Search target</span> - you can select <span class="control">Complete match</span> to match                        the exact template or other available code elements (in our case it is                        <code class="code">Field</code>                        ).                    </p>                    <figure><img alt="Search target" title="Search target" src="/help/img/idea/2019.3/ssr_search_target.png" id="7be3df5c" width="600" height="325"></figure>                                    </li></ul>        </li><li class="list__item" id="d85725e8"><p>Click <span class="control">Find</span>.</p></li></ol><p id="00975518">IntelliJ IDEA displays the results in the <span class="control">Find</span> tool window.        </p><figure><img alt="Find tool window results" title="Find tool window results" src="/help/img/idea/2019.3/ssr_find_tool_window_results.png" id="f7c2e6fa" width="541" height="302"></figure><p id="e393934f">You can add the newly created search template to            <a href="creating-custom-inspections.html">structural search inspections</a> as a            custom template and use it later to inspect your code.        </p></section>        <section class="procedure-steps"><h3 id="structural_replace" data-toc="topicId453705#structural_replace">Replace a target structurally</h3><ol class="list _decimal"><li class="list__item" id="40cc739b"><p>From the main menu, select <span data-skip-index="skip" class="menupath">Edit | Find | Replace Structurally</span>.        </p></li><li class="list__item" id="913532b3"><p>In the <span class="control">Replace Structurally</span> dialog, add            new or existing templates to the search and replace template areas.            You can save the replace template the same way as the <a href="#save_template">search</a> one.        </p></li><li class="list__item" id="dd313409"><p id="3f8e28da">If you need to add a filter for the variable in the replace template, place a caret at the            variable of interest and use the filter area to manage filters.</p>                        <figure><img alt="Replace template filter" title="Replace template filter" src="/help/img/idea/2019.3/replace_template_filter.png" id="e41a3ce5" width="600" height="348"></figure>                                </li><li class="list__item" id="5c07fb74"><p>In the filter area, depending on what your chose as a            <a href="search-templates.html#ssr_filters">filter</a>,            specify the condition.        </p></li><li class="list__item" id="831021c9">            <p id="137e34c6">To narrow down your replace results, select the following options:            </p>            <ul class="list _ul"><li class="list__item" id="379e50f4"><p>                    <span class="control">Shorten fully-qualified names</span> - replaces fully qualified class names                    with short names and imports.                </p></li><li class="list__item" id="de645982"><p>                    <span class="control">Reformat</span> - automatically formats the replaced code.                </p></li><li class="list__item" id="b635aee4"><p>                    <span class="control">Use static import</span> - uses static import in replacement when possible.                    For example, a method call to a static method <code class="code">Math.abs(i)</code> becomes                        <code class="code">abs(i)</code> if this option is selected.                                    </p></li></ul>            <p id="303fd07c">                After specifying the necessary options, click <span class="control">Find</span>.                IntelliJ IDEA displays the results in the <span class="control">Find</span> tool window.            </p>        </li><li class="list__item" id="7e518bff">            <p id="1871adee">                In the <span class="control">Find</span> tool window, your can work with the results further, replacing found                items one by one, all of them at once, or previewing your potential changes.            </p>            <p id="8da42716">You can also add the replace template to the                <a href="creating-custom-inspections.html">structural search inspections</a>                and use it as a quick-fix for your code.            </p>        </li></ol></section>        <section class="procedure-steps"><h3 id="share_template" data-toc="topicId453705#share_template">Share search templates</h3><p id="3752cfeb">You can share a search template with your peers by exporting or importing it.</p><ol class="list _decimal"><li class="list__item" id="06fa4b8f"><p>In the <span class="control">Structural Search</span> dialog (<span data-skip-index="skip" class="menupath">Edit | Find | Search Structurally</span>),            <a href="#to_search_structurally">create a new search template or use the existing one</a>.        </p></li><li class="list__item" id="abf0190b"><p id="d5e3294f">To export a template, click <img class="inline-icon-16" src="/help/img/idea/2019.3/icons.general.gearPlain@2x.png" width="16" alt="the Settings button"> and select            <span class="control">Export Template to Clipboard</span>. IntelliJ IDEA adds the XML representation of the template to a clipboard            (press <kbd data-primary_default_for_windows="Ctrl+Shift+V" data-primary_eclipse="Ctrl+Shift+V" data-primary_emacs="Alt+Y" data-primary_netbeans="Ctrl+Shift+V" data-primary_sublime_text="Ctrl+K, Ctrl+V" data-primary_visual_studio="Ctrl+Shift+V" data-secondary_macos="⇧⌘V" data-secondary_eclipse="⌃⇧V" data-secondary_eclipse_macos="⇧⌘V" data-secondary_emacs="⌥Y" data-secondary_intellij_idea_classic="⇧⌘V" data-secondary_netbeans="⌃⇧V" data-secondary_sublime_text="⌃K, ⌃V" data-secondary_sublime_text_macos="⌘K, ⌘V" data-secondary_visual_studio="⌃⇧V">Ctrl+Shift+V</kbd> to see the clipboard's content).            You can share this representation with other developers in chat, email, or a forum.</p>            <p id="d7a17791">To import a template, copy (<kbd data-bypass="true" class="keystroke"><span class="keystroke__value">Ctrl+C</span></kbd>) the shared XML code from anywhere                (email, chat, or a forum) and in the <span class="control">Structural Search</span> dialog,                click <img class="inline-icon-16" src="/help/img/idea/2019.3/icons.general.gearPlain@2x.png" width="16" alt="the Settings button"> and select                <span class="control">Import Template from Clipboard</span>. IntelliJ IDEA takes the XML code representation and converts it                into a template including variables and a scope if it is present.            </p>        </li></ol></section><div class="last-modified" data-skip-index="skip">Last modified: 29 November 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="tutorial-finding-usages-of-implemented-and-overridden-php-methods.html">Tutorial: Finding usages of implemented and overridden PHP methods</a><a class="navigation-links__next" href="search-templates.html">Search templates, filters, and script constraints</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>