<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>Async Stack Traces - Help | IntelliJ IDEA</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body data-id="reference.idesettings.debugger.capture" data-breadcrumbs="Reference/Settings_Preferences_Dialog.xml|Settings / Preferences Dialog/Settings_Build__Execution__Deployment.xml|Build, Execution, Deployment/Settings_Debugger.xml|Debugger/Async_Stacktraces.xml|Async Stack Traces" data-main-title="Async Stack Traces" data-article-props="&#xA;                {&#xA;                &#xA;            &#34;seeAlso&#34;:[&#xA;            &#xA;                {&#34;title&#34;: &#34;Procedures&#34;,&#xA;                 &#34;links&#34;: [&#xA;                &#xA;        {&#34;url&#34;:&#34;tutorial-java-debugging-deep-dive.html&#34;,&#34;text&#34;:&#34;Tutorial: Java Debugging Deep Dive&#34;}&#xA;    &#xA;                    ]},&#xA;                {&#34;title&#34;: &#34;Concepts&#34;,&#xA;                 &#34;links&#34;: [&#xA;                &#xA;        {&#34;url&#34;:&#34;debugging-code.html&#34;,&#34;text&#34;:&#34;Debugging&#34;}&#xA;    &#xA;                    ]},&#xA;                {&#34;title&#34;: &#34;Web Resources&#34;,&#xA;                 &#34;links&#34;: [&#xA;                &#xA;        {&#34;url&#34;:&#34;http://www.jetbrains.net/devnet/community/idea/kb&#34;,&#34;text&#34;:&#34;Developer Community&#34;}&#xA;    &#xA;                    ]}&#xA;            ]&#xA;        &#xA;                }&#xA;            "><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search IntelliJ IDEA Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>IntelliJ IDEA 2019.3 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="primary" value="primary_default_for_windows" selected>Default for Windows</option><option data-group="primary" value="primary_eclipse">Eclipse</option><option data-group="primary" value="primary_emacs">Emacs</option><option data-group="primary" value="primary_netbeans">NetBeans</option><option data-group="primary" value="primary_sublime_text">Sublime Text</option><option data-group="primary" value="primary_visual_studio">Visual Studio</option><option data-group="secondary" value="secondary_macos">macOS</option><option data-group="secondary" value="secondary_eclipse">Eclipse</option><option data-group="secondary" value="secondary_eclipse_macos">Eclipse (macOS)</option><option data-group="secondary" value="secondary_emacs">Emacs</option><option data-group="secondary" value="secondary_intellij_idea_classic">IntelliJ IDEA Classic</option><option data-group="secondary" value="secondary_netbeans">NetBeans</option><option data-group="secondary" value="secondary_sublime_text">Sublime Text</option><option data-group="secondary" value="secondary_sublime_text_macos">Sublime Text (macOS)</option><option data-group="secondary" value="secondary_visual_studio">Visual Studio</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="reference.idesettings.debugger.capture" id="Async_Stacktraces.xml">Async Stack Traces</h1>    <p id="1ed41c42">        Use this page to configure capture points to facilitate debugging of asynchronous code.    </p>    <p id="29d5aa4a">        A capture point is a place in your code where the debugger captures stack traces to be used later when you reach a specific        point in the code (the insertion point) and want to see how you got there. IntelliJ IDEA does this by substituting part of the call        stack with a captured stack. For more information on asynchronous debugging refer to <a href="tutorial-java-debugging-deep-dive.html#async_stacktraces">Debugging Asynchronous flow</a>.    </p>    <p id="da84d917">        Asynchronous stack traces are enabled by default. To disable them, deselect the <span class="control">Instrumenting agent (requires debugger restart)</span> option.        The most common capture points are built-in, so no configuration is required.    </p>    <p id="use_annotations_repo">        If you need to use capture points that are not included in the default configuration, you can use the <code class="code">Async.Schedule</code> and        <code class="code">Async.Execute</code> annotations that reside in the <a href="https://mvnrepository.com/artifact/org.jetbrains/annotations/16.0.2" data-external="true" target="_blank" rel="noopener noreferrer">public JetBrains annotations package</a>        and can be referenced in your code. To use them, add this Maven repository as a dependency for your artifacts.    </p><aside data-type="tip" class="prompt" data-title="" rel="use_annotations_repo" id="45c5c417">        <p id="9e4a6c7b">            If, for some reason, you do not want to use the Maven repository, you can simply copy these annotations and add them as classes to your project.        </p>    </aside>        <p id="capture_points_download">        If you cannot use annotations or need to be able to capture local variables, you can configure capture points manually by using the following controls:    </p>    <aside data-type="note" class="prompt" data-title="" rel="capture_points_download" id="f2c23f36">        <p id="7eff3c42">            You can download some additional capture settings from the following repository: <a href="https://github.com/JetBrains/capture-points" data-external="true" target="_blank" rel="noopener noreferrer">IntelliJ IDEA debugger Capture Points</a>        </p>    </aside>    <div class="table-wrapper"><table width="100%" id="a645c3cc"><thead><tr id="b2d27758" class="ijRowHead"><th id="0b808e2e" width="15%"><p>Item</p></th><th id="f0cf2b08"><p>Description</p></th></tr></thead><tbody><tr id="9d868d25" class="ijRowOdd"><td id="54cad6a6">                <img class="inline-icon-16" src="/help/img/idea/2019.3/icons.general.add@2x.png" width="16" alt="icons general add">            </td><td id="7e7d8bf8">                Click this icon to configure a new capture point. Fill in the following information:                <ul class="list _bullet"><li class="list__item" id="d8b16a4d"><p>                        <span class="control">Capture class name</span>: enter the name of the class at the top of the stack trace you want to capture.                    </p></li><li class="list__item" id="30ddd451"><p>                        <span class="control">Capture method name</span>: enter the name of the method at the top of the stack trace you want to capture.                    </p></li><li class="list__item" id="0d8e1d69"><p>                        <span class="control">Capture key expression</span>: enter the capture key expression.                        The capture key expression is evaluated and the value is used as the key.                    </p></li><li class="list__item" id="e13eff65"><p>                        <span class="control">Insert class name</span>: enter the name of the class where you want to insert the captured stack trace.                    </p></li><li class="list__item" id="82d73fbb"><p>                        <span class="control">Insert method name</span>: enter the name of the method where you want to insert the captured stack trace.                    </p></li><li class="list__item" id="32c8e51c"><p>                        <span class="control">Insert key expression</span>: enter the key expression that will be evaluated and this                        value will be matched with the key in the captured stack.                    </p></li></ul>                <p id="3649dbf9">                    Use the checkbox next to each entry to enable/disable the selected capture point.                </p>            </td></tr><tr id="c60b50d0" class="ijRowEven"><td id="6d2b5d38">                <img class="inline-icon-16" src="/help/img/idea/2019.3/icons.general.remove@2x.png" width="16" alt="icons general remove">            </td><td id="482572b4"><p>                Click this icon to remove the capture point from the list.            </p></td></tr><tr id="05eadc2f" class="ijRowOdd"><td id="0a30b619">                <img class="inline-icon-16" src="/help/img/idea/2019.3/icons.actions.previousOccurence@2x.png" width="16" alt="icons actions previousOccurence"><img class="inline-icon-16" src="/help/img/idea/2019.3/icons.actions.nextOccurence@2x.png" width="16" alt="icons actions nextOccurence">            </td><td id="9bbd5600"><p>                Click these icons to move the selected item one line up or down in the list.            </p></td></tr><tr id="a60a1141" class="ijRowEven"><td id="31de0342">                <img alt="enable selected" title="enable selected" src="/help/img/idea/2019.3/enable_selected.png" id="d3f90833" width="21" height="20" class="inline-icon-21"><img alt="disable selected" title="disable selected" src="/help/img/idea/2019.3/disable_selected.png" id="4ab23ea7" width="21" height="21" class="inline-icon-21">            </td><td id="66b1114a"><p>                Click these icons to enable/disable all selected capture points.            </p></td></tr><tr id="41664bf1" class="ijRowOdd"><td id="8076c54a">                <img class="inline-icon-16" src="/help/img/idea/2019.3/icons.actions.copy@2x.png" width="16" alt="icons actions copy">            </td><td id="c69c3807"><p>                Click this icon to duplicate the selected entry.            </p></td></tr><tr id="d1e48bba" class="ijRowEven"><td id="66b48865">                <img alt="ImportCaptureSettings" title="ImportCaptureSettings" src="/help/img/idea/2019.3/ImportCaptureSettings.png" id="6002a508" width="22" height="25" class="inline-icon-22">            </td><td id="23dcd7e3"><p>                Click this icon to import capture point settings from a file.            </p></td></tr><tr id="170b1f1e" class="ijRowOdd"><td id="50475821">                <img class="inline-icon-16" src="/help/img/idea/2019.3/icons.actions.export@2x.png" width="16" alt="icons actions export">            </td><td id="ee03a963"><p>                Click this icon to export capture point settings to a file.            </p></td></tr><tr id="11e22768" class="ijRowEven"><td id="b66202b8">                <span class="control">Capture local variables</span>            </td><td id="4cae4c34">                Select this option if you also want to capture local variables (primitives and String values) together with the call stack.                This may sufficiently slow down the debugging process.                <p id="10a44288">                    Note that this option is unavailable if the <span class="control">Instrumenting agent</span> is enabled                </p>            </td></tr></tbody></table></div>    <div class="last-modified" data-skip-index="skip">Last modified: 29 November 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="debugger-hotswap.html">HotSwap</a><a class="navigation-links__next" href="settings-deployment.html">Deployment</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>