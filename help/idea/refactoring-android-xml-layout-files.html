<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>Refactoring Android XML Layout Files - Help | IntelliJ IDEA</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body data-id="Refactoring_Android_XML_Layout_Files" data-breadcrumbs="Language and framework-specific guidelines/Android/Designing_Layout_of_Android_Application.xml|Designing Layout of Android Application/Refactoring_Android_XML_Layout_Files.xml|Refactoring Android XML Layout Files" data-main-title="Refactoring Android XML Layout Files" data-article-props="&#xA;                {&#xA;                &#xA;            &#34;seeAlso&#34;:[&#xA;            &#xA;                {&#34;title&#34;: &#34;Procedures&#34;,&#xA;                 &#34;links&#34;: [&#xA;                &#xA;        {&#34;url&#34;:&#34;adding-and-editing-layout-components-using-android-ui-designer.html&#34;,&#34;text&#34;:&#34;Adding and Editing Layout Components Using Android UI Designer&#34;}&#xA;    ,&#xA;        {&#34;url&#34;:&#34;managing-resources.html&#34;,&#34;text&#34;:&#34;Managing Resources&#34;}&#xA;    ,&#xA;        {&#34;url&#34;:&#34;previewing-layout.html&#34;,&#34;text&#34;:&#34;Previewing Output of Layout Definition Files&#34;}&#xA;    &#xA;                    ]},&#xA;                {&#34;title&#34;: &#34;Reference&#34;,&#xA;                 &#34;links&#34;: [&#xA;                &#xA;        {&#34;url&#34;:&#34;android-layout-preview-tool-window.html&#34;,&#34;text&#34;:&#34;Android Layout Preview Tool Window&#34;}&#xA;    ,&#xA;        {&#34;url&#34;:&#34;inline-android-style-dialog.html&#34;,&#34;text&#34;:&#34;Inline Android Style Dialog&#34;}&#xA;    &#xA;                    ]},&#xA;                {&#34;title&#34;: &#34;External Links&#34;,&#xA;                 &#34;links&#34;: [&#xA;                &#xA;        {&#34;url&#34;:&#34;http://blogs.jetbrains.com/idea/2012/09/new-xml-refactorings-for-android-developers/&#34;,&#34;text&#34;:&#34;http://blogs.jetbrains.com/idea/2012/09/new-xml-refactorings-for-android-developers/&#34;}&#xA;    &#xA;                    ]}&#xA;            ]&#xA;        &#xA;                }&#xA;            "><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search IntelliJ IDEA Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>IntelliJ IDEA 2019.3 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="primary" value="primary_default_for_windows" selected>Default for Windows</option><option data-group="primary" value="primary_eclipse">Eclipse</option><option data-group="primary" value="primary_emacs">Emacs</option><option data-group="primary" value="primary_netbeans">NetBeans</option><option data-group="primary" value="primary_sublime_text">Sublime Text</option><option data-group="primary" value="primary_visual_studio">Visual Studio</option><option data-group="secondary" value="secondary_macos">macOS</option><option data-group="secondary" value="secondary_eclipse">Eclipse</option><option data-group="secondary" value="secondary_eclipse_macos">Eclipse (macOS)</option><option data-group="secondary" value="secondary_emacs">Emacs</option><option data-group="secondary" value="secondary_intellij_idea_classic">IntelliJ IDEA Classic</option><option data-group="secondary" value="secondary_netbeans">NetBeans</option><option data-group="secondary" value="secondary_sublime_text">Sublime Text</option><option data-group="secondary" value="secondary_sublime_text_macos">Sublime Text (macOS)</option><option data-group="secondary" value="secondary_visual_studio">Visual Studio</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 data-toc="Refactoring_Android_XML_Layout_Files" id="Refactoring_Android_XML_Layout_Files.xml">Refactoring Android XML Layout Files</h1>                          <p id="ef556c25">            In addition to <a href="refactoring-source-code.html">common refactoring</a>, IntelliJ IDEA provides a number of the Android-specific refactorings for the <span class="emphasis">Android layout definition XML files</span>.              Most of these refactorings are available in both <a href="designing-layout-of-android-application.html#designModes">design modes</a>:          </p>              <ul class="list _bullet"><li class="list__item" id="df9ac456"><p>                      The manual mode, right in the editor tab where the target layout definition file is opened,                      and from the <a href="structure-tool-window-file-structure-popup.html">Structure tool window</a>.                  </p></li><li class="list__item" id="2a7d69ff"><p>                      In the <a href="adding-and-editing-layout-components-using-android-ui-designer.html">Android UI Designer</a>,                      from the <a href="designer-tool-window.html#designPane">Design pane</a> or <a href="designer-tool-window.html#componentTree">Component Tree</a>.                  </p></li></ul>    <p id="aa49b783">    <a name="switchBetweenUIEditingModes"></a>        You can toggle between these modes by switching between the <span class="control">Design</span> and <span class="control">Text</span> tabs in the editor where the layout definition file is opened.        <figure><img alt="android_ui_designer_switch_modes.png" title="android_ui_designer_switch_modes.png" src="/help/img/idea/2019.3/android_ui_designer_switch_modes.png" id="27b9d8d5" width="142" height="39"></figure>        </p>          <p id="15a51bd1">              In this topic:          </p>          <ul class="list" data-skip-index="skip"><li class="list__item"><a href="#54a3dca4">Extract Style</a></li><li class="list__item"><a href="#7b752c12">Inline Style</a></li><li class="list__item"><a href="#e4056f78">Extract Layout</a></li><li class="list__item"><a href="#6ab319ee">Inline Layout Refactoring</a></li></ul>                    <h2 id="54a3dca4">Extract Style</h2>        <p id="f2322487">            <a href="http://developer.android.com/guide/topics/ui/themes.html" data-external="true" target="_blank" rel="noopener noreferrer">Android styles</a> help separate the application design from the application functionality,            just like <a href="http://www.w3schools.com/css/" data-external="true" target="_blank" rel="noopener noreferrer">Cascading Style Sheets (CSS)</a>.        </p>        <p id="cb8713c2">            With the <span class="emphasis">extract style</span> refactoring, you can create a style from a layout XML tag.            IntelliJ IDEA creates a style declaration in the <span class="filepath">/res/values/styles.xml</span> file            and converts the tag attributes into style properties declared in the <code class="code">item</code> elements. The benefit is that now you no longer need to parse an entire            resource definition file updating the tag attributes to edit a layout. All you need to do is update the style definition, whereupon the changes are applied automatically            wherever the style is referenced.        </p>        <section class="procedure-steps"><h3 id="e35d5c02">To apply the extract style refactoring</h3><ol class="list _decimal"><li class="list__item" id="fb7591ca">                <p id="b98eb2da">                    Do one of the following:                </p>                <ul class="list _bullet"><li class="list__item" id="b9201207"><p>                        In the <span class="emphasis">visual mode</span>, select the component where the source XML tag is used in the definition on the canvas in the <span class="control">Design</span> pane,                        or in the <span class="control">Component Tree</span>.                    </p></li><li class="list__item" id="0c8f7408"><p>                        In the <span class="emphasis">manual mode</span>, position the cursor anywhere inside the source XML tag.                    </p></li></ul>            </li><li class="list__item" id="c6467a9d"><p>                From the main menu, select <span data-skip-index="skip" class="menupath">Refactor | Refactor This</span> or press <kbd data-primary_default_for_windows="Ctrl+Shift+Alt+T" data-primary_eclipse="Ctrl+Shift+Alt+T" data-primary_emacs="Ctrl+Shift+Alt+T" data-primary_netbeans="Ctrl+Shift+Alt+T" data-primary_sublime_text="Ctrl+Shift+Alt+T" data-primary_visual_studio="Ctrl+Shift+Alt+T" data-secondary_macos="⌃T" data-secondary_eclipse="⌃⌥⇧T" data-secondary_eclipse_macos="⌃T" data-secondary_emacs="⌃⌥⇧T" data-secondary_intellij_idea_classic="⌥⇧⌘T" data-secondary_netbeans="⌃⌥⇧T" data-secondary_sublime_text="⌃⌥⇧T" data-secondary_sublime_text_macos="⌃T" data-secondary_visual_studio="⌃⌥⇧T">Ctrl+Shift+Alt+T</kbd>.                In the popup that appears, select <span class="control">Style</span> from the <span class="control">Extract</span> group.                Alternatively, choose <span class="control">Refactor | Extract | Extract Style</span> on the context menu of the selection.            </p></li><li class="list__item" id="0453990d"><p>                In the <span class="control">Extract Android Style</span> dialog box that opens, specify the name for the style to be created                and select the tag attributes to be included as style properties.            </p></li><li class="list__item" id="6c692ecb"><p>                To have IntelliJ IDEA automatically update the layout definition by replacing tag attributes with references to the newly created style,                select the <span class="control">Launch 'Use Style Where Possible' refactoring after the style is extracted </span> checkbox.            </p></li></ol></section>        <h2 id="7b752c12">Inline Style</h2>        <p id="057d5053">            <a name="inlineStyleDescription"></a>            This refactoring is opposite to the <span class="emphasis">Extract Style</span> refactoring and results in adding all attributes defined in a style to one or all components where this style is applied.            This refactoring is also used when you need to merge a <a href="http://developer.android.com/guide/topics/ui/themes.html#Inheritance" data-external="true" target="_blank" rel="noopener noreferrer">parent style with its inheritor</a>.                    </p>        <p id="2d89cbc6">            You can invoke the <span class="emphasis">Inline Style</span> refactoring from a style definition or from a component to which  the style is applied. In the first case, IntelliJ IDEA removes the style definition            and adds the corresponding attributes to all components where it is used. When refactoring is invoked from a component,            you can apply it either to all components with this style, or only to the current one.        </p>        <section class="procedure-steps"><h3 id="8e4852c9">To apply the Inline Style refactoring</h3><p id="3ac9c79d">Do one of the following:</p><ul class="list "><li class="list__item" id="invokeFromStyleDefinition">                To invoke the refactoring from a style definition:                <ol class="list _decimal"><li class="list__item" id="a6b30c4a"><p>                        Open the style definition file, position the cursor at the name of the style to be inlined,                        and choose <span class="control">Refactor | Inline</span> from the context menu or press <kbd data-primary_default_for_windows="Ctrl+Alt+N" data-primary_eclipse="Shift+Alt+I" data-primary_emacs="Ctrl+Alt+N" data-primary_netbeans="Ctrl+Alt+N" data-primary_sublime_text="Ctrl+Alt+N" data-primary_visual_studio="Ctrl+Alt+N" data-secondary_macos="⌥⌘N" data-secondary_eclipse="⌥⇧I" data-secondary_eclipse_macos="⌥⌘I" data-secondary_emacs="⌃⌥N" data-secondary_intellij_idea_classic="⌥⌘N" data-secondary_netbeans="⌃⌥N" data-secondary_sublime_text="⌃⌥N" data-secondary_sublime_text_macos="⌥⌘N" data-secondary_visual_studio="⌃⌥N">Ctrl+Alt+N</kbd>.                    </p></li><li class="list__item" id="ed19f724">                        The <a href="inline-android-style-dialog.html">Inline Android Style</a> dialog box that opens provides only one option (<span class="control">Inline all references and remove the style</span>)                        which is selected by default. As a result, IntelliJ IDEA converts the attributes of the style into XML tags, adds them to the definitions of all components where the style is used,                        and removes the style definition.                        <ul class="list _ul"><li class="list__item" id="17012bc7"><p>                                To apply the changes immediately, click <span class="control">Refactor</span>.                            </p></li><li class="list__item" id="75773a04"><p>                                To open the <a href="find-tool-window.html">Find tool window</a> and <a href="refactoring-source-code.html">preview the changes before applying</a>, click <span class="control">Preview</span>.                            </p></li></ul>                    </li></ol>            </li><li class="list__item" id="6369055e">                To invoke the refactoring from a component definition:                <ol class="list _decimal"><li class="list__item" id="63d6c7b4">                        Select a component with the style in question:                        <ul class="list _bullet"><li class="list__item" id="c7eb8329"><p>                                In the <span class="emphasis">visual mode</span>, select a component with this style in the <span class="control">Design</span> pane or in the <span class="control">Component Tree</span>.                                Then choose <span class="control">Refactor | Inline Style</span> from the main menu or from the context menu of the selection.                            </p></li><li class="list__item" id="1eb17ad9"><p>                                In the <span class="emphasis">manual mode</span>, select a component with this style in the <span class="control">Structure</span> view                                and choose <span class="control">Refactor | Inline Style</span> from the main menu or from the context menu of the selection.                            </p></li></ul>                    </li><li class="list__item" id="ea4ba536">                        In the  <a href="inline-android-style-dialog.html">Inline Android Style</a> dialog box that opens, configure the refactoring:                        <ul class="list _bullet"><li class="list__item" id="c4961d15"><p>                                To have IntelliJ IDEA convert the attributes of the style into XML tags, add them to the definitions of all the components where the style is used, and remove the style definition,                                choose <span class="control">Inline all references and remove the style</span>.                            </p></li><li class="list__item" id="753f2d27"><p>                                To have the refactoring applied to the current component only, choose <span class="control">Inline this usage and keep the style</span>.                            </p></li></ul>                    </li><li class="list__item" id="8ce04f57">                        Specify how you want to apply the changes.                        <ul class="list _bullet"><li class="list__item" id="b550e06a"><p>                                To apply the changes immediately, click <span class="control">Refactor</span>.                            </p></li><li class="list__item" id="d56659d1"><p>                                To open the <a href="find-tool-window.html">Find tool window</a> and <a href="refactoring-source-code.html">preview the changes before applying</a>, click <span class="control">Preview</span>.                            </p></li></ul>                    </li></ol>            </li></ul></section>        <h2 id="e4056f78">Extract Layout</h2>        <p id="ad14e9e5">            IntelliJ IDEA supports <a href="http://developer.android.com/training/improving-layouts/reusing-layouts.html" data-external="true" target="_blank" rel="noopener noreferrer">re-using Android layouts</a>:            IntelliJ IDEA moves a part of an existing layout definition to a separate layout definition file and references it in the original layout definition through            an automatically inserted <code class="code">&lt;include/&gt;</code> tag. In IntelliJ IDEA, this operation is called <span class="emphasis">extract layout refactoring</span>.        </p>        <section class="procedure-steps"><h3 id="3f315299">To extract a layout</h3><ol class="list _decimal"><li class="list__item" id="3a9e97f0">                Select the fragment to extract as a separate layout. Do one of the following:                <ul class="list _bullet"><li class="list__item" id="a9ec6843"><p>                        In the <span class="emphasis">manual mode</span>, select the code fragment to extract or position the cursor in the root element of the fragment.                    </p></li><li class="list__item" id="b5c10522"><p>                        In the <span class="emphasis">visual mode</span>, select the component or a group of components to be extracted in the <span class="control">Design</span>. pane or in the <span class="control">Component Tree</span>.                    </p></li></ul>            </li><li class="list__item" id="0089d400"><p>                From the main menu, choose <span data-skip-index="skip" class="menupath">Refactor | Refactor This</span> or press <kbd data-primary_default_for_windows="Ctrl+Shift+Alt+T" data-primary_eclipse="Ctrl+Shift+Alt+T" data-primary_emacs="Ctrl+Shift+Alt+T" data-primary_netbeans="Ctrl+Shift+Alt+T" data-primary_sublime_text="Ctrl+Shift+Alt+T" data-primary_visual_studio="Ctrl+Shift+Alt+T" data-secondary_macos="⌃T" data-secondary_eclipse="⌃⌥⇧T" data-secondary_eclipse_macos="⌃T" data-secondary_emacs="⌃⌥⇧T" data-secondary_intellij_idea_classic="⌥⇧⌘T" data-secondary_netbeans="⌃⌥⇧T" data-secondary_sublime_text="⌃⌥⇧T" data-secondary_sublime_text_macos="⌃T" data-secondary_visual_studio="⌃⌥⇧T">Ctrl+Shift+Alt+T</kbd>.                In the list that appears, choose <span class="control">Layout</span> from the <span class="control">Extract</span> group.                Alternatively, choose <span class="control">Refactor | Extract | Extract Layout</span> from the context menu of the selection.            </p></li><li class="list__item" id="157a1dfc"><p>                In the <span class="control">Extract Android Layout</span> dialog box that opens, specify the name of the file where the extracted layout definition will be stored and the name of its parent folder.                You do not need to create the file and the folder in advance, IntelliJ IDEA will create them automatically.            </p></li><li class="list__item" id="260f4449">                Create a list of configuration qualifiers for the layout. This list determines                the set of <span class="emphasis">alternative resources</span>  that must be provided to enable running the application in specific target device configurations.                <ul class="list _bullet"><li class="list__item" id="3f10e668"><p>                        To add a qualifier to the set, select it in the <span class="control">Available Qualifiers</span> list,                        click the <img alt="icon_InsertReplace.png" title="icon_InsertReplace.png" src="/help/img/idea/2019.3/icon_InsertReplace.png" id="73f13513" width="9" height="9" class="inline-icon-9"> button, and specify the value of the qualifier.                    </p></li><li class="list__item" id="a312308f"><p>                        To remove a qualifier from the set, select it in the <span class="control">Chosen Qualifiers</span> list                        and click the <img alt="icon_InsertReplace2.png" title="icon_InsertReplace2.png" src="/help/img/idea/2019.3/icon_InsertReplace2.png" id="47004241" width="9" height="9" class="inline-icon-9"> button.                    </p></li></ul>                <p id="fc12b77f">                    For detailed information on the qualifiers, their meaning, acceptable values and format,                    see <a href="http://developer.android.com/guide/topics/resources/providing-resources.html#AlternativeResources" data-external="true" target="_blank" rel="noopener noreferrer">specification of configuration qualifiers for alternative resources</a>.                </p>            </li></ol></section>        <h2 id="6ab319ee">Inline Layout Refactoring</h2>        <p id="14e12a77">            This refactoring is opposite to the <span class="emphasis">Extract Layout</span> refactoring            and results in embedding a layout that was referenced through an <code class="code">&lt;include/&gt;</code> tag and removing the tag.        </p>        <p id="79184058">            The <span class="emphasis">Inline Layout</span> refactoring is invoked from the <code class="code">&lt;include/&gt;</code> tag in the layout definition file.            You can have IntelliJ IDEA apply it either to all references and remove the layout definition file, or only to the current reference.        </p>    <section class="procedure-steps"><h3 id="f24db500">To inline a layout</h3><ol class="list _decimal"><li class="list__item" id="425b854c"><p>                Open the XML definition file from which the layout in question is referenced.            </p></li><li class="list__item" id="e27a0312"><p>                Navigate to the <code class="code">&lt;include/&gt;</code> tag which references the layout in question and position the cursor at the layout name.            </p></li><li class="list__item" id="1cede4b7">                Do one of the following:                <ul class="list _bullet"><li class="list__item" id="4e5113b8"><p>                        Choose <span data-skip-index="skip" class="menupath">Refactor | Inline</span> from the main menu.                    </p></li><li class="list__item" id="242fcc8d"><p>                        Choose <span data-skip-index="skip" class="menupath">Refactor | Refactor This</span> from the main menu, and then choose <span class="control">Inline</span> in the list that opens,                    </p></li><li class="list__item" id="76723a2f"><p>                        Press <kbd data-primary_default_for_windows="Ctrl+Alt+N" data-primary_eclipse="Shift+Alt+I" data-primary_emacs="Ctrl+Alt+N" data-primary_netbeans="Ctrl+Alt+N" data-primary_sublime_text="Ctrl+Alt+N" data-primary_visual_studio="Ctrl+Alt+N" data-secondary_macos="⌥⌘N" data-secondary_eclipse="⌥⇧I" data-secondary_eclipse_macos="⌥⌘I" data-secondary_emacs="⌃⌥N" data-secondary_intellij_idea_classic="⌥⌘N" data-secondary_netbeans="⌃⌥N" data-secondary_sublime_text="⌃⌥N" data-secondary_sublime_text_macos="⌥⌘N" data-secondary_visual_studio="⌃⌥N">Ctrl+Alt+N</kbd>.                    </p></li><li class="list__item" id="dc16e56f"><p>                       Choose <span class="control">Refactor | Inline</span> from the context menu.                    </p></li></ul>            </li><li class="list__item" id="d672d172">                In the  <span class="control">Inline Android Layout</span> dialog box that opens, configure the refactoring:                <ul class="list _bullet"><li class="list__item" id="aabca839"><p>                        To have IntelliJ IDEA embed the layout into all files where it is referenced through <code class="code">&lt;include/&gt;</code> tags and remove the referenced layout definition file,                        select <span class="control">Inline all references and remove the file</span>.                    </p></li><li class="list__item" id="d788d352"><p>                        To have the refactoring applied to the current reference only, select <span class="control">Inline this usage and keep the file</span>.                    </p></li></ul>            </li><li class="list__item" id="f94aeeda">                Specify how you want to apply the changes:                <ul class="list _bullet"><li class="list__item" id="3a3f1ec6"><p>                                To apply the changes immediately, click <span class="control">Refactor</span>.                            </p></li><li class="list__item" id="5e7a13d1"><p>                                To open the <a href="find-tool-window.html">Find tool window</a> and <a href="refactoring-source-code.html">preview the changes before applying</a>, click <span class="control">Preview</span>.                            </p></li></ul>            </li></ol></section>        <div class="last-modified" data-skip-index="skip">Last modified: 29 November 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="previewing-layout.html">Previewing Output of Layout Definition Files</a><a class="navigation-links__next" href="running-and-debugging-android-applications.html">Running and Debugging Android Applications</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>