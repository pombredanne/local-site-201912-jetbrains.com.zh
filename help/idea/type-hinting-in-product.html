<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>Type hinting in IntelliJ IDEA - Help | IntelliJ IDEA</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body data-id="Type_Hinting_in_product_" data-breadcrumbs="Language and framework-specific guidelines/Plugin_Overview.xml|Python Plugin/Type_Hinting_in_product_.xml|Type hinting in IntelliJ IDEA" data-main-title="Type hinting in IntelliJ IDEA" data-article-props="&#xA;                {&#xA;                &#xA;            &#34;seeAlso&#34;:[&#xA;            &#xA;                {&#34;title&#34;: &#34;Procedures&#34;,&#xA;                 &#34;links&#34;: [&#xA;                &#xA;        {&#34;url&#34;:&#34;auto-completing-code.html&#34;,&#34;text&#34;:&#34;Code completion&#34;}&#xA;    ,&#xA;        {&#34;url&#34;:&#34;intention-actions.html&#34;,&#34;text&#34;:&#34;Intention actions&#34;}&#xA;    &#xA;                    ]},&#xA;                {&#34;title&#34;: &#34;Web Resources&#34;,&#xA;                 &#34;links&#34;: [&#xA;                &#xA;        {&#34;url&#34;:&#34;http://www.jetbrains.net/devnet/community/idea/kb&#34;,&#34;text&#34;:&#34;Developer Community&#34;}&#xA;    &#xA;                    ]}&#xA;            ]&#xA;        &#xA;                }&#xA;            "><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search IntelliJ IDEA Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>IntelliJ IDEA 2019.3 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="primary" value="primary_default_for_windows" selected>Default for Windows</option><option data-group="primary" value="primary_eclipse">Eclipse</option><option data-group="primary" value="primary_emacs">Emacs</option><option data-group="primary" value="primary_netbeans">NetBeans</option><option data-group="primary" value="primary_sublime_text">Sublime Text</option><option data-group="primary" value="primary_visual_studio">Visual Studio</option><option data-group="secondary" value="secondary_macos">macOS</option><option data-group="secondary" value="secondary_eclipse">Eclipse</option><option data-group="secondary" value="secondary_eclipse_macos">Eclipse (macOS)</option><option data-group="secondary" value="secondary_emacs">Emacs</option><option data-group="secondary" value="secondary_intellij_idea_classic">IntelliJ IDEA Classic</option><option data-group="secondary" value="secondary_netbeans">NetBeans</option><option data-group="secondary" value="secondary_sublime_text">Sublime Text</option><option data-group="secondary" value="secondary_sublime_text_macos">Sublime Text (macOS)</option><option data-group="secondary" value="secondary_visual_studio">Visual Studio</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 data-toc="Type_Hinting_in_product_" id="Type_Hinting_in_product_.xml">Type hinting in IntelliJ IDEA</h1>    <a name="warning_if_plugin_installed_row"></a>                 <aside data-type="warning" class="prompt" data-title="" rel="Type_Hinting_in_product_.xml" id="323a352d"><p>                        The following is only valid when the <span class="control">Python</span> plugin is installed and enabled.                </p></aside>           <p id="0255d5bf">IntelliJ IDEA provides various means to assist inspecting and checking the types of the objects in your script.        IntelliJ IDEA supports <i id="86fc2e81">type hinting</i> in function annotations and type comments using the            <code class="code">typing</code> module and the format defined by <a href="https://www.python.org/dev/peps/pep-0484/" data-external="true" target="_blank" rel="noopener noreferrer">PEP 484</a>.</p>           <div class="chapter"><h2 id="adding-type-hints">Adding type hints</h2>        <p id="4c3279e3">Although IntelliJ IDEA supports all methods for adding types supported in <a href="https://www.python.org/dev/peps/pep-0484/" data-external="true" target="_blank" rel="noopener noreferrer">PEP 484</a>,            using type hints through intention actions is the most convenient way. Depending on the interpreter you use,        the type is added as an annotation (Python 3) or as a comment (Python 2).</p>        <section class="procedure-steps"><h3 id="eeef53be">To add a type hint, follow these steps:</h3><ol class="list _decimal"><li class="list__item" id="7e3a7234"><p>Select a code element.</p></li><li class="list__item" id="fa65c9ab"><p>Press <kbd data-primary_default_for_windows="Alt+Enter" data-primary_eclipse="Alt+Enter" data-primary_emacs="Alt+Enter" data-primary_netbeans="Alt+Enter" data-primary_sublime_text="Alt+Enter" data-primary_visual_studio="Alt+Enter" data-secondary_macos="⌥⏎" data-secondary_eclipse="⌥⏎" data-secondary_eclipse_macos="⌘1" data-secondary_emacs="⌥⏎" data-secondary_intellij_idea_classic="⌥⏎" data-secondary_netbeans="⌥⏎" data-secondary_sublime_text="⌥⏎" data-secondary_sublime_text_macos="⌥⏎" data-secondary_visual_studio="⌥⏎">Alt+Enter</kbd>.</p></li><li class="list__item" id="ec1c51c0"><p>Select <span class="emphasis">Add type hint for ...</span>.</p></li><li class="list__item" id="fc898de4"><p>Press <kbd data-primary_default_for_windows="Enter" data-primary_eclipse="Enter" data-primary_emacs="Enter" data-primary_netbeans="Enter" data-primary_sublime_text="Enter" data-primary_visual_studio="Enter" data-secondary_macos="⏎" data-secondary_eclipse="⏎" data-secondary_eclipse_macos="⏎" data-secondary_emacs="⏎" data-secondary_intellij_idea_classic="⏎" data-secondary_netbeans="⏎" data-secondary_sublime_text="⏎" data-secondary_sublime_text_macos="⏎" data-secondary_visual_studio="⏎">Enter</kbd> to complete the action or edit the type if appropriate. </p></li></ol></section>        <div class="table-wrapper"><table class=" wide" width="100%" id="fcb6989a"><thead><tr id="bf96b15d" class="ijRowHead"><th id="40806186"><p>Example</p></th><th id="ae0c425d"><p>Intention Action</p></th><th id="67de3181"><p>Resulting Code for comments (Python 2)</p></th><th id="c98f91b3"><p>Resulting Code for annotations (Python 3)</p></th></tr></thead><tbody><tr id="8e93d6ec" class="ijRowOdd"><td id="c1e484f1"><p>Variables</p></td><td id="ae0c8982"><figure><img alt="example of adding a type hint for a variable" title="example of adding a type hint for a variable" src="/help/img/idea/2019.3/py_add_type_hint_variable_command.png" id="95cb7aae" width="270" height="71"></figure></td><td id="796308af"><figure><img alt="example of adding a type hint for a variable (Python 2)" title="example of adding a type hint for a variable (Python 2)" src="/help/img/idea/2019.3/py_add_type_hint_variable_result_comment.png" id="140c01a6" width="192" height="80"></figure></td><td id="69423b7f"><figure><img alt="example of adding a type hint for a variable (Python 3)" title="example of adding a type hint for a variable (Python 3)" src="/help/img/idea/2019.3/py_add_type_hint_variable_result.png" id="4af33789" width="142" height="89"></figure></td></tr><tr id="8c7826d0" class="ijRowEven"><td id="e35c80d3"><p>Functions</p></td><td id="b9558228"><figure><img alt="example of adding a type hint for a function" title="example of adding a type hint for a function" src="/help/img/idea/2019.3/py_add_type_hint_function_command.png" id="ca636af6" width="369" height="317"></figure></td><td id="a84c8139"><figure><img alt="example of adding a type hint for a function (Python 2)" title="example of adding a type hint for a function (Python 2)" src="/help/img/idea/2019.3/py_add_type_hint_function_result_comment.png" id="1c04488e" width="277" height="110"></figure></td><td id="86e1c7a7"><figure><img alt="example of adding a type hint for a function (Python 3)" title="example of adding a type hint for a function (Python 3)" src="/help/img/idea/2019.3/py_add_type_hint_function_result.png" id="b1df83d7" width="292" height="109"></figure></td></tr><tr id="cbf954c3" class="ijRowOdd"><td id="eb8924d8"><p>Class attributes</p></td><td id="c3c439d6"><figure><img alt="example of adding a type hint for a class attribute" title="example of adding a type hint for a class attribute" src="/help/img/idea/2019.3/py_add_type_hint_class_command.png" id="417ea0f6" width="317" height="300"></figure></td><td id="bff3f93d"><figure><img alt="example of adding a type hint for a class attribute (Python 2)" title="example of adding a type hint for a class attribute (Python 2)" src="/help/img/idea/2019.3/py_add_type_hint_class_result_comment.png" id="6f45d061" width="281" height="280"></figure></td><td id="3e8ddffe"><figure><img alt="example of adding a type hint for a class attribute (Python 3)" title="example of adding a type hint for a class attribute (Python 3)" src="/help/img/idea/2019.3/py_add_type_hint_class_result.png" id="2e093197" width="241" height="298"></figure></td></tr></tbody></table></div><p id="27155369">You can also use <a href="#stub-type-hints">Python stubs</a> or <a href="#local-var-types">comments</a>  to specify the types of variables,    functions, and class fields. </p>    </div>            <div class="chapter"><h2 id="local-var-types">Specifying types by using comments</h2>        <p id="8d7e6ff4">Use a <code class="code"># type:</code> comment to specify the types of local variables and attributes:</p>        <figure><img alt="Type hinting attributes" title="Type hinting attributes" src="/help/img/idea/2019.3/py_type_hinting_attributes.png" id="14c841a4" width="320" height="247"></figure>    </div>    <a name="convert-comment"></a>        <div class="chapter"><h2 id="convert-comment">Converting comments </h2>            <p id="e97fd551">For comment-based type hints, IntelliJ IDEA suggests an intention action                that allows you to convert comment-based type hint to a variable annotation. This intention has the name                <span class="control">Convert to variable annotation</span>, and works as follows:</p>            <aside data-type="warning" class="prompt" data-title="" rel="e97fd551" id="226e82ac"><p id="1897828f">This functionality is available in Python 3.6!</p></aside>            <div class="table-wrapper"><table class="  _layout-fixed" width="100%" id="c374dcde"><thead><tr id="1c595a07" class="ijRowHead"><th id="4b70acba"><p>Before</p></th><th id="b1379ce2"><p>After</p></th></tr></thead><tbody><tr id="89b573ac" class="ijRowOdd"><td id="b9355bd5">                        <div class="code-block" data-lang="python">
                            from typing import List, Optional

                            xs = []  # type: List[Optional[str]]
                        </div>                    </td><td id="c9375e98">                        <div class="code-block" data-lang="python">
                            from typing import List, Optional

                            xs: List[Optional[str]] = []
                        </div>                    </td></tr></tbody></table></div>        </div>        <div class="chapter"><h2 id="validate-type-hints">Type hints validation</h2>        <p id="78a9819c">Any time you're applying type hints, IntelliJ IDEA checks if the type is used correctly according to the <a href="python.html#support">supported PEPs</a>.            If there is a usage error, the corresponding warning is shown and the recommended action is suggested.            Below are the validation examples.</p>        <div class="table-wrapper"><table width="100%" id="95329070"><thead><tr id="d1e6f664" class="ijRowHead"><th id="ba2e627d"><p>Validation error</p></th><th id="d0047f5d"><p>Suggested action</p></th></tr></thead><tbody><tr id="89209a80" class="ijRowOdd"><td id="eb0176b6"><p>Duplication of type declaration.                    <figure><img alt="incorrect type hint" title="incorrect type hint" src="/help/img/idea/2019.3/py_type_hint_validate_comment_and_annotation.png" id="a31df354" width="400" height="155"></figure></p></td><td id="3224fe45"><p>Remove either of the type declarations.</p></td></tr><tr id="1c5b2bf2" class="ijRowEven"><td id="b2c3c8d4"><p>Number of arguments in the type declaration differs from the number of function arguments.                    <figure><img alt="too many arguments" title="too many arguments" src="/help/img/idea/2019.3/py_type_hint_validate_incorrect_number_of_arguments.png" id="b3c3e4ef" width="400" height="145"></figure></p></td><td id="d62af92a"><p>Adjust the number of the arguments.</p></td></tr><tr id="859f1d4c" class="ijRowOdd"><td id="38b750b3">                    <p id="0055251b">Type comments with unpacking do not match the corresponding targets.                        <figure><img alt="incorrect type for unpacked variables" title="incorrect type for unpacked variables" src="/help/img/idea/2019.3/py_type_hint_validate_unpacked_var.png" id="14b16841" width="400" height="152"></figure></p>                </td><td id="9b004ada">                    <p id="7c84d09f">Check the target format and modify the type comment accordingly.</p>                </td></tr><tr id="488a496d" class="ijRowEven"><td id="61b531e9"><p>Incorrect syntax of <code class="code">Callable</code> parameters.                    <figure><img alt="Incorrect Callable format" title="Incorrect Callable format" src="/help/img/idea/2019.3/py_type_hint_validate_callable.png" id="59e2e6f8" width="400" height="123"></figure></p></td><td id="596c77ee"><p>Use the suggested format and add the required brackets to wrap <code class="code">Callable</code> parameters.</p></td></tr><tr id="cea199b7" class="ijRowOdd"><td id="71344bf2"><p>Unexpected type in assignment expressions.                    <figure><img alt="Unexpected type in an assignment expression" title="Unexpected type in an assignment expression" src="/help/img/idea/2019.3/py_type_hint_validate_assignment_expressions.png" id="5062b7f9" width="400" height="352"></figure>                </p></td><td id="b4fb11e3"><p>Align the types to match the expected pattern.</p></td></tr><tr id="3eb2d2d0" class="ijRowEven"><td id="b55cf845"><p>                    Assigning a value to a <code class="code">Final</code> variable.                    <figure><img alt="Assigning a value to a Final variable" title="Assigning a value to a Final variable" src="/help/img/idea/2019.3/py_type_hint_validate_final_variable.png" id="a057193c" width="400" height="290"></figure>                </p></td><td id="d12bc419"><p>You cannot alter a <code class="code">Final</code> variable. Consider changing the type of the variable.</p></td></tr><tr id="faf3b263" class="ijRowOdd"><td id="ccff76d8"><p>                    Inheriting a <code class="code">Final</code> class.                    <figure><img alt="Inheriting a final class" title="Inheriting a final class" src="/help/img/idea/2019.3/py_type_hint_validate_final_class.png" id="20649ccc" width="400" height="478"></figure>                </p></td><td id="863a570a"><p>                    You cannot inherit a <code class="code">Final</code> class. Consider changing its type.                </p></td></tr><tr id="2a9cd4c0" class="ijRowEven"><td id="cb64a34f"><p>                    Incorrect type of the function argument.                    <figure><img alt="Literal type validation" title="Literal type validation" src="/help/img/idea/2019.3/py_type_hinting_literals.png" id="b379a794" width="400" height="759"></figure>                </p></td><td id="cbe23cef"><p>                    Use the <code class="code">Color</code> type instead of <code class="code">int</code>.                </p></td></tr><tr id="ae1cad9b" class="ijRowOdd"><td id="594835d0"><p>Incorrect usage of the <code class="code">TypedDict</code> class.                <figure><img alt="Type validation for the TypedDict class" title="Type validation for the TypedDict class" src="/help/img/idea/2019.3/py_type_hint_typed_dict.png" id="59bee19c" width="400" height="372"></figure>                </p></td><td id="8ceecbd8"><p id="8eed074a">Refer to the <code class="code">TypedDict</code> object as follows:</p>                <p id="3966e6b3"><code class="code">record_movie(Movie(title='Blade Runner', year=1982))</code></p>                </td></tr></tbody></table></div>    </div>    <div class="chapter"><h2 id="stub-type-hints">Python stubs</h2>    <p id="1ff9c46d">As IntelliJ IDEA supports <a href="https://www.python.org/dev/peps/pep-0484/#stub-files" data-external="true" target="_blank" rel="noopener noreferrer">Python stub files</a>, you can specify the type hints using Python 3        syntax for both Python 2 and 3.</p>     <p id="86e5be1f">If any type hints recorded in the stub files, they become available in your code that use these stubs. For example, the following type hint for     <code class="code">some_func_2</code> becomes available in the Python code:</p>     <figure data-theme="light" id="42ae9657" width="523"><img class="js-gif" src="/help/img/idea/2019.3/py_stub_type_hinting.png" data-gif-src="/help/img/idea/2019.3/py_stub_type_hinting.animated.gif" width="523" style="width:523px;"></figure>     <p id="incompatible_versions">If you're using a package for which a stub analog is detected, the following message will be shown:</p><aside data-type="tip" class="prompt" data-title="" rel="incompatible_versions" id="5bfdaad6"><p id="2dab2cab">You can specify a particular <a href="installing-uninstalling-and-upgrading-packages.html#package-version">            version of the package</a> to install in the <span class="control">Available Packages</span> dialog.</p></aside>        <figure><img alt="The stub package inspection" title="The stub package inspection" src="/help/img/idea/2019.3/py_stub_package_inspection.png" id="dce50caa" width="331" height="135"></figure>        <p id="incompatible_versions">You can install the stub package, ignore this message and continue working with the currently installed package, or even disable the corresponding inspection in the project            <span class="control">Settings/Preferences</span>.</p><aside data-type="tip" class="prompt" data-title="" rel="incompatible_versions" id="5bfdaad6"><p id="2dab2cab">You can specify a particular <a href="installing-uninstalling-and-upgrading-packages.html#package-version">            version of the package</a> to install in the <span class="control">Available Packages</span> dialog.</p></aside>        <aside data-type="note" class="prompt" data-title="" rel="stub-type-hints" id="7419907a"><p>When you select installation, IntelliJ IDEA tries to install the latest available version of the stub package. If it is incompatible with the currently used non-stub package,            the installation process will be terminated.</p></aside>        </div>    <div class="chapter"><h2 id="typeshed">Using Typeshed</h2>    <p id="cfc0a9df"><a href="https://github.com/python/typeshed" data-external="true" target="_blank" rel="noopener noreferrer">Typeshed</a> is a set of files with type annotations for the        standard Java library and various packages. Typeshed stubs provide definitions for Java classes,        functions, and modules defined with type hints. IntelliJ IDEA uses this information for better code completion,        inspections, and other code insight features.</p>    <p id="676af7fa">IntelliJ IDEA is switching to <a href="https://github.com/python/typeshed" data-external="true" target="_blank" rel="noopener noreferrer">Typeshed</a>, the common repository for        Java stubs. The Typeshed stubs bundled with IntelliJ IDEA are shown in the project view under the node        <span class="control">External Libraries | &lt;Python interpreter&gt; | Typeshed Stubs</span>. Note that IntelliJ IDEA        currently uses only a few of the bundled stubs (that is <code class="code">builtins.pyi</code>, <code class="code">typing.pyi</code>, and        several others).</p>    <section class="procedure-steps"><h3 id="02074220">To override the bundled Typeshed repository with your own version, follow these steps:</h3><ol class="list _decimal"><li class="list__item" id="ac9e56c7"><p>Copy some or all the stubs into a directory in your project.</p></li><li class="list__item" id="d5ec8774"><p>Mark a directory as a source root by choosing            <span class="control">Mark Directory as | Sources Root</span> from the context menu of the directory.</p></li></ol></section>    <p id="7b465a21">The Python skeletons repository        <a href="https://github.com/JetBrains/python-skeletons" data-external="true" target="_blank" rel="noopener noreferrer">https://github.com/JetBrains/python-skeletons</a>        is now deprecated. </p></div>           <div class="last-modified" data-skip-index="skip">Last modified: 29 November 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="remote-debugging.html">Remote Debugging</a><a class="navigation-links__next" href="using-docstrings-to-specify-types.html">Using Docstrings to Specify Types</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>