<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>配置Zend调试器-帮助|帮助IntelliJ IDEA</title><link rel="stylesheet" href="/resources.jetbrains.com/storage/help-app/v3/app.css"></head><body  data-id="php.debugging.zend.configure" data-breadcrumbs="Language and framework-specific guidelines/PHP-Specific_Guidelines.xml|PHP/Debugging_PHP_Applications.xml|Debugging PHP Applications/Configuring_a_Debugging_Engine.xml|Configuring a Debugging Engine/Configuring_Zend_Debugger.xml|Configuring Zend Debugger" data-main-title="Configuring Zend Debugger" data-article-props="
                {
                
            " seeals=":[=" titl=":=" procedure=",=" link=",=" ur=":" configuring-php-development-environment.htm="," tex=":" configuring="" php="" development="" environmen="}=" creating-and-editing-run-debug-configurations.htm="," create="" and="" edit="" run="" debug="" configuration="}=" configuring-xdebug.htm="," xdebu="}=" zend="" debugger="" installation="" guid="}=" referenc=",=" debug.htm="," debu="}=" php.htm="," ph="}=" external="" http:="" ="" www.zend.com="" en="" ="," ="}=" =" text"="http:=" }="" products="" studio="" download="}="><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索IntelliJ IDEA帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>IntelliJ IDEA 2019.3帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option value="primary_default_for_windows" data-group="primary" selected>Windows的默认设置</option><option value="primary_eclipse" data-group="primary">日食</option><option value="primary_emacs" data-group="primary">埃马克斯</option><option value="primary_netbeans" data-group="primary">NetBeans</option><option value="primary_sublime_text" data-group="primary">崇高文字</option><option value="primary_visual_studio" data-group="primary">视觉工作室</option><option value="secondary_macos" data-group="secondary">苹果系统</option><option value="secondary_eclipse" data-group="secondary">日食</option><option value="secondary_eclipse_macos" data-group="secondary">Eclipse（macOS）</option><option value="secondary_emacs" data-group="secondary">埃马克斯</option><option value="secondary_intellij_idea_classic" data-group="secondary">IntelliJ IDEA经典版</option><option value="secondary_netbeans" data-group="secondary">NetBeans</option><option value="secondary_sublime_text" data-group="secondary">崇高文字</option><option value="secondary_sublime_text_macos" data-group="secondary">崇高文字（macOS）</option><option value="secondary_visual_studio" data-group="secondary">视觉工作室</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 id="Configuring_Zend_Debugger.xml" data-toc="php.debugging.zend.configure" data-availability-limit="Ultimate">配置Zend调试器</h1>                    <a name="warning_if_plugin_installed_row"></a>                 <aside class="prompt" rel="Configuring_Zend_Debugger.xml" id="bc60c802" data-type="warning" data-title=""><p>仅当安装并启用<span class="control">PHP</span>插件时，以下内容才有效。</p></aside>             <div class="chapter"><h2 id="downloadAndInstall">下载并安装Zend Debugger</h2>          <ol class="list _decimal"><li class="list__item" id="38abd688"><p>下载与您的操作系统相对应的<a href="http://www.zend.com/en/products/studio/downloads" rel="noopener noreferrer" data-external="true" target="_blank">Zend Debugger软件包</a> 。</p></li><li class="list__item" id="55d5fff1"><p>在与您的PHP版本相对应的目录中找到<span class="filepath">ZendDebugger.so</span> （Unix）或<span class="filepath">ZendDebugger.dll</span> （Windows）文件（例如4.3.x，4.4.x，5.0.x，5.1.x，5.2.x，5.3） .x，5.4.x）。</p></li><li class="list__item" id="0f689d57"><p>将文件复制到Web服务器可以访问的位置的Web服务器中。</p></li></ol>      </div>      <div class="chapter"><h2 id="updatingPhpIni">启用Zend Debugger与PHP解释器的集成</h2>          <ol class="list _decimal"><li class="list__item" id="eaef49ea">              <p id="95dea8e4">在编辑器中打开活动的<span class="filepath">php.ini</span>文件：</p>              <a name="ps_openActivePhpIni"></a>        <ol class="list _decimal"><li class="list__item" id="e9c505ad">                <p id="746cf8d3"><a name="open_settings"></a>在里面<a name="settings_dialog"></a> <span class="control">设置/首选项</span>对话框<kbd data-primary_default_for_windows="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-primary_emacs="Ctrl+Alt+S" data-primary_netbeans="Ctrl+Alt+S" data-primary_sublime_text="Ctrl+Alt+S" data-primary_visual_studio="Alt+F7" data-secondary_macos="⌘," data-secondary_eclipse="⌃⌥S" data-secondary_eclipse_macos="⌘," data-secondary_emacs="⌃⌥S" data-secondary_intellij_idea_classic="⌘," data-secondary_netbeans="⌃⌥S" data-secondary_sublime_text="⌃⌥S" data-secondary_sublime_text_macos="⌘," data-secondary_visual_studio="⌥F7">Ctrl+Alt+S</kbd> ，在“ <span class="control">语言和框架”</span>下单击“ <span class="control">PHP</span> <span class="control">”</span> 。</p>            </li><li class="list__item" id="8779737a"><p>在打开的<a href="php.html">PHP</a>页面上，单击<img class="inline-icon-9" src="/help/img/idea/2019.3/icons.general.ellipsis@2x.png" width="9" alt="浏览按钮"> <span class="control">CLI解释器</span>字段旁边。</p></li><li class="list__item" id="4602dc64"><p>在打开的“ <span class="control">CLI解释器”</span>对话框中，“ <span class="control">配置文件”</span>只读字段显示活动<span class="filepath">php.ini</span>文件的路径。单击“ <span class="control">在编辑器中打开”</span> 。</p></li></ol>              </li><li class="list__item" id="2ea721a0"><p>找到或创建<code class="code">[Zend]</code>部分。</p></li><li class="list__item" id="8c5c04db">            <p id="5141ab4c">要加载Zend Debugger扩展，请在的内部添加以下行之一<code class="code">[Zend]</code>部分，具体取决于您的操作系统：</p>            <ul class="list _bullet"><li class="list__item" id="7f2859aa"><p>            <span class="keyword">Linux</span>和<span class="keyword">macOS</span> ：</p><div class="code-block" data-lang="shell">zend_extension = <full_path_to_zenddebugger.so>
    </full_path_to_zenddebugger.so></div>        <p></p></li><li class="list__item" id="49d276e4"><p>            <span class="keyword">Windows</span> ：</p><div class="code-block" data-lang="shell">zend_extension_ts = <full_path_to_zenddebugger.dll>
    </full_path_to_zenddebugger.dll></div>        <p></p></li><li class="list__item" id="9265e2c9">            <p id="a20a4d82"><span class="keyword">Windows非线程安全</span> ：</p>            <div class="code-block" data-lang="shell">zend_extension = <full_path_to_zenddebugger.dll>
    </full_path_to_zenddebugger.dll></div>            <aside class="prompt" rel="efd6e79c" id="7db8553e" data-type="warning" data-title="">                <p id="9188b485">Windows非线程安全二进制文件仅与Zend Core 2.0一起使用。</p>            </aside>        </li></ul>        </li><li class="list__item" id="e184cadd">            <p id="32c4864a">要启用从IntelliJ IDEA对Zend Debugger的访问，请添加以下行：</p>            <a name="ps_debugger_zend_debugger_add_comment_lines_2"></a>        <div class="code-block" data-lang="shell">zend_extension = <full_path_to_zend_debugger_extension>zend_debugger.allow_hosts = 127.0.0.1 zend_debugger.expose_remotely = allowed_hosts zend_debugger.tunnel_min_port = <any value="" integer="" above="" 1024="">zend_debugger.tunnel_max_port = <any value="" integer="" below="" 65535="">
    </any></any></full_path_to_zend_debugger_extension></div>                <p id="c2bf3be6">的价值<code class="code">zend_debugger.allow_hosts</code>参数是连接到服务器调试器的计算机的IP。它可能是IP格式的逗号分隔列表<code class="code">X.X.X.X</code> （例如192.168.0.6）。</p>            <aside class="prompt" rel="c2bf3be6" id="1456860b" data-type="tip" data-title="">                <p id="0790619e">对于线程安全的Windows二进制文件，请使用<code class="code">zend_extension_ts parameter</code>代替<code class="code">zend_extension</code> 。</p>            </aside>        </li><li class="list__item" id="9cf9fa0a"><p>重新启动您的Web服务器。</p></li><li class="list__item" id="28ab3ee6">            <p id="fda154f2">要检查Zend Debugger是否已正确安装和配置，请创建一个包含以下内容的文件：</p>            <div class="code-block" data-lang="php">
<!--?php phpinfo();="" <="" /div=""-->            <p id="79869cbb">在浏览器中打开与文件对应的页面。输出应包含<span class="control">Zend Debugger</span>部分。</p>        <!--?php--></div></li></ol>      </div>      <div class="chapter"><h2 id="integrationWithProduct">将Zend Debugger与IntelliJ IDEA集成</h2>          <ol class="list _decimal"><li class="list__item" id="5450379b">              <p id="d2f4c1c3"><a name="open_settings"></a>在里面<a name="settings_dialog"></a> <span class="control">设置/首选项</span>对话框<kbd data-primary_default_for_windows="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-primary_emacs="Ctrl+Alt+S" data-primary_netbeans="Ctrl+Alt+S" data-primary_sublime_text="Ctrl+Alt+S" data-primary_visual_studio="Alt+F7" data-secondary_macos="⌘," data-secondary_eclipse="⌃⌥S" data-secondary_eclipse_macos="⌘," data-secondary_emacs="⌃⌥S" data-secondary_intellij_idea_classic="⌘," data-secondary_netbeans="⌃⌥S" data-secondary_sublime_text="⌃⌥S" data-secondary_sublime_text_macos="⌘," data-secondary_visual_studio="⌥F7">Ctrl+Alt+S</kbd> ，请转到<span class="menupath" data-skip-index="skip">语言和框架|的PHP</span>              </p>          </li><li class="list__item" id="dad2c172">              <p id="277f04d8">检查与所选PHP解释<span class="emphasis">器</span>关联的<span class="emphasis">Zend Debugger</span>安装：</p>              <ol class="list _decimal"><li class="list__item" id="be2b6628"><p>                      <a name="choose_php_interpreter"></a>在“ <span class="control">PHP”</span>页面上，从“ <span class="control">CLI解释器”</span>列表中选择相关的PHP安装，然后单击“确定”。 <img class="inline-icon-9" src="/help/img/idea/2019.3/icons.general.ellipsis@2x.png" width="9" alt="浏览按钮">旁边的领域。该列表显示了IntelliJ IDEA中可用的所有PHP安装，请参阅“ <a href="configuring-local-interpreter.html">配置本地PHP解释器”</a>和“ <a href="configuring-remote-interpreters.html">配置远程PHP解释器”</a> 。</p></li><li class="list__item" id="c55bf1c1">                      <a name="interpreters_dialog_php_validation"></a>打开的“ <span class="control">CLI解释器”</span>对话框显示以下内容：<ul class="list _bullet"><li class="list__item" id="ee4adf52"><p>所选PHP安装的版本。</p></li><li class="list__item" id="e594029a"><p>与所选PHP安装（Xdebug或Zend Debugger）关联的调试引擎的名称和版本。如果未配置调试器，则IntelliJ IDEA将显示<code class="code">Debugger: Not installed</code> 。</p></li></ul>                      </li></ol>              <p id="48608d63">在“ <a href="validating-the-configuration-of-the-debugging-engine.html">验证调试引擎的配置”中</a>了解有关检查<span class="emphasis">Zend Debugger</span>安装的更多信息。</p>          </li><li class="list__item" id="5a2ebd5b">              <p id="16e5bccf">定义Zend Debugger行为。单击“ <span class="control">PHP”</span>节点下的“ <span class="control">调试</span> ”。在打开的“ <a href="debug.html">调试”</a>页面上，在“ <span class="control">Zend Debugger”</span>区域中指定以下设置：</p>              <ul class="list _bullet"><li class="list__item" id="f45736fd"><p>在“ <span class="control">调试端口”</span>字段中，指定IntelliJ IDEA通过该端口与工具进行通信的端口。 <a name="zend_port_tunnel"></a>                      通过以下命令在<span class="filepath">php.ini</span>文件中指定的<span class="emphasis">隧道中</span>键入端口号<code class="code">zend_debugger.tunnel_min_port</code>和<code class="code">zend_debugger.tunnel_max_port</code> 。有关详细信息，请参阅<a href="http://files.zend.com/help/previous-version/Zend-Server-4-Community-Edition/zenddebugger.html" rel="noopener noreferrer" data-external="true" target="_blank">http://files.zend.com/help/previous-version/Zend-Server-4-Community-Edition/zenddebugger.html</a>                                        </p></li><li class="list__item" id="c78309c6"><p>要使IntelliJ IDEA通过“ <span class="control">调试端口”</span>字段中指定的端口接受来自Zend Debugger引擎的任何传入连接，请选中“ <span class="control">可以接受外部连接”</span>复选框。</p></li><li class="list__item" id="fa8bd24a"><p>要在浏览器中使用调试器工具栏，请在“ <span class="control">设置广播端口”</span>字段中指定调试器设置通过其传递到浏览器的<span class="control">端口</span> 。</p></li><li class="list__item" id="cadd2024">使用“ <span class="control">自动检测IDE IP”</span>复选框可以启用和禁用对热IP地址的自动检测。选中此复选框后， <a name="ps_zend_debugger_detect_ip_addresses"></a> IntelliJ IDEA检测到所有主机IP地址，这些主机IP地址将通过以下方式发送到Zend Debugger： <code class="code">debug_host</code>参数。所有检测到的IP地址都列在右侧的字段中。使用<span class="emphasis">Vagrant</span>或<span class="emphasis">VirtualBox</span>或其他虚拟化工具时，自动检测IP地址很有用。<p id="9d5dc23b">清除复选框以阻止自动检测主机IP地址，并在该字段中明确指定所需的IP地址。</p>                      </li></ul>          </li><li class="list__item" id="6f9c7a15">              <p id="57b3487b">在“ <span class="control">外部连接”</span>区域中， <a name="ps_php_debug_settings_ext_connections_definition"></a>指定您希望IntelliJ IDEA如何处理从主机以及通过未注册为<a href="servers.html">部署服务器配置的</a>端口接收的连接。</p>              <ul class="list _bullet"><li class="list__item" id="2b87c5a4"><p>            <span class="control">忽略通过未注册的服务器配置进行的外部连接</span> ：选中此复选框可使IntelliJ IDEA忽略从主机以及未注册为部署服务器配置的端口收到的连接。选中此复选框后，IntelliJ IDEA不会尝试自动创建部署服务器配置。</p></li><li class="list__item" id="6af5e7a7">            <p id="dcf85915">                <span class="control">在PHP脚本的第一行中断</span> ：选中此复选框<a name="ps_debug_stop_at_first_line_in_php_scripts"></a>在调试器和IntelliJ IDEA之间建立连接后立即停止它（而不是自动运行直到到达第一个断点）。或者，打开<span class="menupath" data-skip-index="skip">运行|</span>从主菜单<span class="menupath" data-skip-index="skip">在PHP脚本</span>选项的<span class="menupath" data-skip-index="skip">第一行中断</span> 。</p>        </li><li class="list__item" id="04c65a42"><p>            <span class="control">最高同时连接：</span>使用此旋转框限制可以同时处理的外部连接的数量。</p></li></ul>          </li><li class="list__item" id="5469ed34"><p>若要通过频繁调用IntelliJ IDEA调试器来阻止来自<a href="http://www.zend.com/en/products/server/z-ray-top-7-features" rel="noopener noreferrer" data-external="true" target="_blank">Z-Ray系统的</a>请求（如果它们使您烦恼），请选中“ <span class="control">忽略Z-Ray系统请求”</span>复选框。</p></li></ol>      </div>          <div class="chapter"><h2 id="configuring-zend-debugger-on-demand">配置Zend Debugger以在按需模式下使用</h2>        <p id="76dbaa5f">            <a name="ps_debugger_on_demand_mode_intro"></a> IntelliJ IDEA 2016.2和更高版本支持<span class="emphasis">按需</span>模式，您可以在其中禁用全局PHP安装的Zend Debugger，仅在调试命令行脚本或需要代码覆盖率报告时才按需自动启用它。这使您的命令行脚本（包括Composer和单元测试）运行得更快。</p>        <ol class="list _decimal"><li class="list__item" id="ece3b557">                <p id="0f546c42">为命令行脚本禁用Zend Debugger：</p>                <ol class="list _decimal"><li class="list__item" id="94a44a7c">            <p id="d3f3f7cd">                <a name="open_settings"></a>在里面<a name="settings_dialog"></a> <span class="control">设置/首选项</span>对话框<kbd data-primary_default_for_windows="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-primary_emacs="Ctrl+Alt+S" data-primary_netbeans="Ctrl+Alt+S" data-primary_sublime_text="Ctrl+Alt+S" data-primary_visual_studio="Alt+F7" data-secondary_macos="⌘," data-secondary_eclipse="⌃⌥S" data-secondary_eclipse_macos="⌘," data-secondary_emacs="⌃⌥S" data-secondary_intellij_idea_classic="⌘," data-secondary_netbeans="⌃⌥S" data-secondary_sublime_text="⌃⌥S" data-secondary_sublime_text_macos="⌘," data-secondary_visual_studio="⌥F7">Ctrl+Alt+S</kbd> ，在“ <span class="control">语言和框架”</span>下选择“ <span class="control">PHP</span> <span class="control">”</span> 。</p>        </li><li class="list__item" id="3beadb4a"><p>从<span class="control">PHP可执行文件</span>列表中，选择相关的PHP解释器，然后单击<img class="inline-icon-9" src="/help/img/idea/2019.3/icons.general.ellipsis@2x.png" width="9" alt="浏览按钮">在它的旁边。在打开的“ <a href="php-interpreters.html">CLI解释器”</a>对话框中，单击<span class="control">配置文件</span>旁边的“ <span class="control">在编辑器中打开”</span>链接<span class="control">： <path to="" php.ini=""></path></span>文件。关闭所有对话框，然后切换到打开<span class="filepath">php.ini</span>文件的选项卡。</p></li><li class="list__item" id="1dc82a38">                        <p id="cf79bc3f">在<span class="filepath">php.ini</span>文件中，找到<code class="code">[Zend]</code>部分，并通过添加以下内容注释其中的以下几行<code class="code">;</code>在介词中：</p>                        <a name="ps_debugger_zend_debugger_add_comment_lines_1"></a> <span class="keyword">Linux</span>和<span class="keyword">macOS</span> ：<div class="code-block" data-lang="shell">zend_extension = <full_path_to_zenddebugger.so>
    </full_path_to_zenddebugger.so></div>                            <span class="keyword">Windows</span> ：<div class="code-block" data-lang="shell">zend_extension_ts = <full_path_to_zenddebugger.dll>
    </full_path_to_zenddebugger.dll></div>                            <p id="536170bb"><span class="keyword">Windows非线程安全</span> ：</p>            <div class="code-block" data-lang="shell">zend_extension = <full_path_to_zenddebugger.dll>
    </full_path_to_zenddebugger.dll></div>            <aside class="prompt" rel="eb282731" id="66960840" data-type="warning" data-title="">                <p id="a13a455a">Windows非线程安全二进制文件仅与Zend Core 2.0一起使用。</p>            </aside>                                </li><li class="list__item" id="14ded2ba"><p>                        <a name="ps_debugger_on_demand_mode_debugger_not_installed"></a>打开“ <a href="php-interpreters.html">CLI解释器”</a>对话框，然后单击<img class="inline-icon-16" src="/help/img/idea/2019.3/icons.actions.refresh@2x.png" width="16" alt="重新加载按钮"> <span class="control">PHP可执行文件</span>字段旁边。IntelliJ IDEA通知您未安装调试器：</p><figure><img alt="ps_interpreters_debugger_not_installed.png" title="ps_interpreters_debugger_not_installed.png" src="/help/img/idea/2019.3/ps_interpreters_debugger_not_installed.png" id="09a4dd67" width="446" height="129"></figure>                        <p></p></li></ol>            </li><li class="list__item" id="ec335f86"><p>                <a name="ps_debugger_on_demand_mode_path_to_debugger"></a>要使IntelliJ IDEA在必要时激活Zend Debugger，请在“ <span class="control">其他”</span>区域的“ <span class="control">调试器扩展”</span>字段中指定其路径。手动输入路径或单击<img class="inline-icon-16" src="/help/img/idea/2019.3/icons.general.openDisk@2x.png" width="16" alt="浏览按钮">然后在打开的对话框中选择位置。</p></li></ol>    </div>  <div class="last-modified" data-skip-index="skip">上次修改时间：2019年11月29日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="configuring-xdebug.html">配置Xdebug</a> <a class="navigation-links__next" href="validating-the-configuration-of-the-debugging-engine.html">验证调试引擎的配置</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>