<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>Working with the Persistence Tool Window - Help | IntelliJ IDEA</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body data-id="Working_with_the_Persistence_tool_window" data-breadcrumbs="Language and framework-specific guidelines/JPA and Hibernate/Working_with_the_Persistence_tool_window.xml|Working with the Persistence Tool Window" data-main-title="Working with the Persistence Tool Window" data-article-props="&#xA;                {&#xA;                &#xA;            &#34;seeAlso&#34;:[&#xA;            &#xA;                {&#34;title&#34;: &#34;Procedures&#34;,&#xA;                 &#34;links&#34;: [&#xA;                &#xA;        {&#34;url&#34;:&#34;overview-of-jpa-support.html&#34;,&#34;text&#34;:&#34;Overview of JPA support&#34;}&#xA;    ,&#xA;        {&#34;url&#34;:&#34;overview-of-hibernate-support.html&#34;,&#34;text&#34;:&#34;Overview of Hibernate support&#34;}&#xA;    &#xA;                    ]},&#xA;                {&#34;title&#34;: &#34;Reference&#34;,&#xA;                 &#34;links&#34;: [&#xA;                &#xA;        {&#34;url&#34;:&#34;persistence-tool-window.html&#34;,&#34;text&#34;:&#34;Persistence Tool Window&#34;}&#xA;    &#xA;                    ]},&#xA;                {&#34;title&#34;: &#34;Web Resources&#34;,&#xA;                 &#34;links&#34;: [&#xA;                &#xA;        {&#34;url&#34;:&#34;http://www.jetbrains.net/devnet/community/idea/kb&#34;,&#34;text&#34;:&#34;Developer Community&#34;}&#xA;    &#xA;                    ]}&#xA;            ]&#xA;        &#xA;                }&#xA;            "><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search IntelliJ IDEA Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>IntelliJ IDEA 2019.3 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="primary" value="primary_default_for_windows" selected>Default for Windows</option><option data-group="primary" value="primary_eclipse">Eclipse</option><option data-group="primary" value="primary_emacs">Emacs</option><option data-group="primary" value="primary_netbeans">NetBeans</option><option data-group="primary" value="primary_sublime_text">Sublime Text</option><option data-group="primary" value="primary_visual_studio">Visual Studio</option><option data-group="secondary" value="secondary_macos">macOS</option><option data-group="secondary" value="secondary_eclipse">Eclipse</option><option data-group="secondary" value="secondary_eclipse_macos">Eclipse (macOS)</option><option data-group="secondary" value="secondary_emacs">Emacs</option><option data-group="secondary" value="secondary_intellij_idea_classic">IntelliJ IDEA Classic</option><option data-group="secondary" value="secondary_netbeans">NetBeans</option><option data-group="secondary" value="secondary_sublime_text">Sublime Text</option><option data-group="secondary" value="secondary_sublime_text_macos">Sublime Text (macOS)</option><option data-group="secondary" value="secondary_visual_studio">Visual Studio</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 data-toc="Working_with_the_Persistence_tool_window" id="Working_with_the_Persistence_tool_window.xml" data-availability-limit="Ultimate">Working with the Persistence Tool Window</h1>               <ul class="list" data-skip-index="skip"><li class="list__item"><a href="#333f921b">Overview of the tool window</a></li><li class="list__item"><a href="#d78bfff1">Opening the Persistence tool window</a></li><li class="list__item"><a href="#generate_entities_and_mappings">Generating managed entity classes and O/R mappings</a></li><li class="list__item"><a href="#new_command">Using the New command</a></li><li class="list__item"><a href="#open_diagram">Opening entity-relationship diagrams</a></li><li class="list__item"><a href="#assign_data_source">Associating persistence units and session factories with data sources</a></li><li class="list__item"><a href="#assign_naming_strategy">Associating a session factory with a NamingStrategy implementation class (Hibernate)</a></li><li class="list__item"><a href="#76c0977b">Starting a JPQL or an HQL console</a></li></ul>    <p id="641af590">See also, <a href="persistence-tool-window.html">Persistence Tool Window</a>.</p>    <div class="chapter"><h2 id="333f921b">Overview of the tool window</h2>        <p id="f574d3a0">            The <span class="control">Persistence</span> tool window shows your JPA and Hibernate project items, and            lets you create configuration files, &lt;persistence-unit&gt; and &lt;session-factory&gt; elements,            persistent classes and fields (see <a href="#new_command">Using the New command</a>),            navigate to related source code in the editor <kbd data-primary_default_for_windows="F4" data-primary_eclipse="F12" data-primary_emacs="F4" data-primary_netbeans="F4" data-primary_sublime_text="F4" data-primary_visual_studio="F4" data-secondary_macos="⌘↓" data-secondary_eclipse="F12" data-secondary_eclipse_macos="F3" data-secondary_emacs="F4" data-secondary_intellij_idea_classic="F4" data-secondary_netbeans="F4" data-secondary_sublime_text="F4" data-secondary_sublime_text_macos="N/A" data-secondary_visual_studio="F4">F4</kbd>,            open consoles and entity-relationship diagrams, and more.</p>        <figure><img alt="persistence tool window" title="persistence tool window" src="/help/img/idea/2019.3/persistence_tool_window.png" id="1ae55a9d" width="519" height="262"></figure>    </div>    <div class="chapter"><h2 id="d78bfff1">Opening the Persistence tool window</h2>        <p id="73b385e0">            For the tool window to be available, there must be a JPA- or Hibernate-enabled module in your project,            i.e. a module with a JPA or Hibernate facet.            See <a href="enabling-jpa-support.html">Enable JPA support</a> or <a href="enabling-hibernate-support.html">Enabling Hibernate Support</a>.</p>        <p id="59621ad9">            To open the tool window, do one of the following:</p>        <ul class="list _ul"><li class="list__item" id="f4212524"><p>                Select <span data-skip-index="skip" class="menupath">View | Tool Windows | Persistence</span></p></li><li class="list__item" id="4ad8cd15"><p>                If the tool window bars are currently shown,                click the <span class="control">Persistence</span> button (normally located in the lower-left part of the workspace).</p></li><li class="list__item" id="4280581b"><p>                Point to <img alt="show tool window bars" title="show tool window bars" src="/help/img/idea/2019.3/show_tool_window_bars.png" id="2c57ea4c" width="32" height="32" class="inline-icon-32"> or <img alt="show hide tool window bars" title="show hide tool window bars" src="/help/img/idea/2019.3/show_hide_tool_window_bars.png" id="0329dc86" width="32" height="27" class="inline-icon-32">                in the lower-left corner of the workspace and select <span class="control">Persistence</span>.</p></li></ul>    </div>    <div class="chapter"><h2 id="generate_entities_and_mappings">Generating managed entity classes and O/R mappings</h2>        <p id="7b7db314">            You can generate managed entity classes and object/relational mappings for them by importing:</p>        <ul class="list _ul"><li class="list__item" id="e1188320"><p>                A database schema                represented by a <a href="managing-data-sources.html#data_sources">data source</a>.</p></li><li class="list__item" id="6cb25dbd"><p>                An EJB facet with an associated                deployment descriptor file <span class="filepath">ejb-jar.xml</span>.                The facet should be available in the same project.                When retrieving the information from <span class="filepath">ejb-jar.xml</span>,                only the <code class="code">&lt;entity&gt;</code> elements are processed.</p></li><li class="list__item" id="6006aaaf"><p>                Only for JPA: a Hibernate object/relational mapping file <span class="filepath">.hbm.xml</span>.                The file should be in the same project.</p></li></ul>        <p id="2ce9ec44">            To perform the import:</p>        <ol class="list _decimal"><li class="list__item" id="c091c739">                Right-click a module, persistence unit or session factory,                point to <span class="control">Generate Persistence Mapping</span> and select one of the following options:                <ul class="list _ul"><li class="list__item" id="f7337273">                        <span class="control">By Database Schema</span></li><li class="list__item" id="19e7c657">                        <span class="control">By Entity Beans</span></li><li class="list__item" id="ec39c881"><p>                        <span class="control">By Hibernate Mappings</span>                        (this option is not available for Hibernate-enabled modules and session factories)</p></li></ul></li><li class="list__item" id="882d1af4"><p>                In the <a href="generate-persistence-mapping-import-dialogs.html">dialog that opens</a>, specify the source of import and the output options.</p></li></ol>        <p id="0323f724"><b id="46102424">Example: Using a database as a source</b></p>        <ol class="list _decimal"><li class="list__item" id="0bceb649"><p>                Right-click a module, persistence unit or session factory,                point to <span class="control">Generate Persistence Mapping</span> and                select <span class="control">By Database Schema</span>.</p></li><li class="list__item" id="dc10e00d">                In the <span class="control">Import Database Schema</span> dialog that opens:                <ul class="list _ul"><li class="list__item" id="d4c41f4c"><p>                        <a href="generate-persistence-mapping-import-dialogs.html#general">General Settings</a>.                        Select the data source to be used as a source.                        Specify the destination package for your entity classes,                        and the prefix and the suffix for the class names.                    </p></li><li class="list__item" id="8a2f4a9a"><p>                        <a href="generate-persistence-mapping-import-dialogs.html#db_mapping">Database Schema Mapping</a>.                        Select the tables and columns to be mapped,                        edit the class and field names (the <span class="control">Map As</span> column),                        and specify the field types (the <span class="control">Mapped Type</span> column).                    </p></li><li class="list__item" id="50c3aeed"><p>                        <a href="generate-persistence-mapping-import-dialogs.html#generation_settings">Generation Settings</a>.                        Specify the target &lt;persistence-unit&gt; or &lt;session-factory&gt;, and                        select the necessary output options.                    </p></li></ul></li></ol>    </div>    <div class="chapter"><h2 id="new_command">Using the New command</h2>        <p id="310fbdbf">            The <span class="control">New</span> command lets you            create            XML configuration files, &lt;persistence-unit&gt; and &lt;session-factory&gt; elements,            entity classes, embeddables, mapped superclasses, entity listeners and            object-relational mappings,            persistent fields in entity classes along with getter and setter method for them, etc.</p>        <p id="31055c9a">            The <span class="control">New</span> command can be accessed by using the context or the <span class="control">File</span> menu, or            the keyboard shortcut <kbd data-primary_default_for_windows="Alt+Insert" data-primary_eclipse="Alt+Insert" data-primary_emacs="Alt+Insert" data-primary_netbeans="Alt+Insert" data-primary_sublime_text="Ctrl+N" data-primary_visual_studio="Alt+Insert" data-secondary_macos="⌘N" data-secondary_eclipse="N/A" data-secondary_eclipse_macos="⌘N" data-secondary_emacs="N/A" data-secondary_intellij_idea_classic="⌃N" data-secondary_netbeans="⌃N" data-secondary_sublime_text="⌃N" data-secondary_sublime_text_macos="⌘N" data-secondary_visual_studio="N/A">Alt+Insert</kbd>.            The command options depend on which item is currently selected.</p>        <p id="3f3c32f2">            <b id="6702de11">Example: Creating an entity class</b></p>        <ol class="list _decimal"><li class="list__item" id="2e5b24b9"><p>                Right-click a persistence unit or session factory, point to <span class="control">New</span>, and                select <span class="control">Entity</span>.</p></li><li class="list__item" id="6e8d43c3">                In the <span class="control">New Entity</span> dialog that opens, specify:                <ul class="list _ul"><li class="list__item" id="54219823"><p>                        <span class="control">Create class:</span> the name of the class.</p></li><li class="list__item" id="83e12f3c"><p>                        <span class="control">Destination package:</span> the package in which the class should be created.</p></li><li class="list__item" id="078e5e24"><p>                        <span class="control">Target destination directory:</span>                        the destination                         source root folder                        (if there is more than one).</p></li></ul></li><li class="list__item" id="20044595">                For JPA, the <span class="control">Select Metadata Targets</span> dialog is shown.                Select the files in which you want to add the mapping info for the class:                <ul class="list _ul"><li class="list__item" id="12c223aa"><p>                        Object/relational mapping XML files:                        the info will be added as an <code class="code">&lt;entity&gt;</code> element within                        <code class="code">&lt;entity-mappings&gt;</code>.</p></li><li class="list__item" id="0cf9f7c2"><p>                        The class file itself (.java): the <code class="code">@Entity</code> annotation will be added.</p></li></ul>                <p id="81a97d4d">                    IntelliJ IDEA will also add the info to <span class="filepath">persistence.xml</span> either as a <code class="code">&lt;class&gt;</code> or                    a <code class="code">&lt;mapping-file&gt;</code> element.</p>                <p id="a7381914">                    For Hibernate, the <span class="control">Select Metadata Targets</span> dialog is not shown.                    The <code class="code">@Entity</code> annotation is added to the class and                    the <code class="code">&lt;mapping class=""&gt;</code> element is added to <span class="filepath">hibernate.cfg.xml</span>.</p></li></ol>    </div>    <div class="chapter"><h2 id="open_diagram">Opening entity-relationship diagrams</h2>        <p id="b12434c4">            To open an entity-relationship diagram,            right-click a persistence unit, session factory, entity or field, and            select <span class="control">ER Diagram</span> from the context menu.</p>        <p id="fa1952a0">            See also, <a href="diagram-toolbar-and-context-menu.html">Diagram Toolbar and Context Menu</a>.        </p>    </div>    <div class="chapter"><h2 id="assign_data_source">Associating persistence units and session factories with data sources</h2>        <p id="2c1a1be1">            You can associate a &lt;persistence-unit&gt; or &lt;session-factory&gt; element with            a <a href="managing-data-sources.html#data_sources">data source</a>.            If you do so:</p>        <ul class="list _ul"><li class="list__item" id="cbc7b4f0"><p>                Your source code that references database tables will automatically be                validated against the corresponding data source.</p></li><li class="list__item" id="c80dbfa0"><p>                When using the JPA or Hibernate console,                you won't need to additionally specify the database connection settings.                The corresponding settings configured for the associated DB data source will automatically be used.</p></li></ul>        <p id="7f5b900a">            If the &lt;persistence-unit&gt; or &lt;session-factory&gt; elements are generated by importing a database schema,            the association between the corresponding elements and the data source is            set automatically.</p>        <p id="35a0a86e">            To associate a persistence unit or session factory with a data source:</p>        <ol class="list _decimal"><li class="list__item" id="9ff23f8b"><p>                Right-click a module, persistence unit, session factory or entity, and                select <span class="control">Assign Data Sources</span>.</p></li><li class="list__item" id="a0076e11"><p>                In the dialog that opens,                click the necessary <span class="control">Data Source</span> cell and select the data source from the list.                (To remove an association with a data source, select <span class="control">&lt;none&gt;</span>.)</p></li></ol>    </div>    <div class="chapter"><h2 id="assign_naming_strategy">Associating a session factory with a NamingStrategy implementation class (Hibernate)</h2>        <ol class="list _decimal"><li class="list__item" id="bd66ed77"><p>                Right-click a module, session factory or entity, and                select <span class="control">Assign Naming Strategies</span>.</p></li><li class="list__item" id="f236eb73"><p>                In the dialog that opens,                click the necessary <span class="control">Naming Strategy</span> cell and                select the implementation class from the list.</p></li></ol>    </div>    <div class="chapter"><h2 id="76c0977b">Starting a JPQL or an HQL console</h2>        <p id="1d60e2d1">            Right-click a persitence unit or session factory, or any node within it, and            select <span class="control">Console</span>.</p>        <p id="0ab46356">            See also:</p>        <ul class="list _ul"><li class="list__item" id="878ee888"><a href="using-jpa-console.html">Working with the JPA console</a></li><li class="list__item" id="833b649a"><a href="working-with-the-hibernate-console.html">Working with the Hibernate console</a></li></ul>    </div>    <div class="last-modified" data-skip-index="skip">Last modified: 29 November 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="working-with-the-hibernate-console.html">Working with the Hibernate console</a><a class="navigation-links__next" href="kotlin.html">Kotlin</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>