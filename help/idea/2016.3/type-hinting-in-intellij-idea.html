<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta class="swiftype" name="product" data-type="string" content="/idea/2016.3/"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><meta charset="UTF-8"><meta name="robots" content="noindex"><title>IntelliJ IDEA 2016.3 Help :: Type Hinting in IntelliJ IDEA</title><link rel="stylesheet" href="/help/app/app.css"></head><body data-id="Type_Hinting_in_product_"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-swiftype-index="false"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search IntelliJ IDEA Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header"><div class="container"><h3>IntelliJ IDEA 2016.3 Help</h3><div class="shortcuts-switcher" data-swiftype-index="false"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="primary" value="default" selected>Windows/Linux Default</option><option data-group="primary" value="default_for_gnome">GNOME</option><option data-group="primary" value="default_for_kde">KDE</option><option data-group="primary" value="default_for_xwin">XWin</option><option data-group="primary" value="emacs">Emacs</option><option data-group="primary" value="jbuilder">JBuilder</option><option data-group="primary" value="visual_studio">Visual Studio</option><option data-group="primary" value="netbeans_6.5">NetBeans 6.5</option><option data-group="primary" value="eclipse">Eclipse</option><option data-group="secondary" value="mac_os_x_10.5_">Default (Mac OS X 10.5+)</option><option data-group="secondary" value="mac_os_x">Mac OS X</option><option data-group="secondary" value="eclipse_mac_os_x">Eclipse (Mac OS X)</option><option data-group="secondary" value="intellij_idea_classic_os_x">IntelliJ IDEA Classic (Mac OS X)</option><option data-group="secondary" value="xcode">Xcode</option><option data-group="secondary" value="visual_studio">Visual Studio</option><option data-group="secondary" value="resharper">ReSharper</option><option data-group="secondary" value="resharper_osx">ReSharper (Mac OS X)</option><option data-group="secondary" value="emacs">Emacs (Mac OS X)</option></select></div><div class="panel-trigger" data-swiftype-index="false"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="false"><div class="navigation-links _top"><a class="navigation-links__prev" href="meet-intellij-idea.html">Meet IntelliJ IDEA</a><a class="navigation-links__next" href="using-docstrings-to-specify-types.html">Using Docstrings to Specify Types</a></div><h1>Type Hinting in IntelliJ IDEA</h1>
             
                <aside class="warning ">
                    <a name="d1646e280"></a><p><a name="d1646e281"></a><span class="emphasis">
                        The following is only valid when Python Plugin is installed and enabled!
                    </span></p>
                </aside>
             
        <a name="d407442e10"></a><p>In this section:</p><ul><li class="list__item"><a href="#d407442e18">Following PEP484</a><ul class="list _bullet"><li class="list__item"><a href="#d407442e29">Specifying types of parameters</a></li><li class="list__item"><a href="#d407442e43">Specifying return types</a></li><li class="list__item"><a href="#d407442e57">Specifying types of local variables and attributes</a></li><li class="list__item"><a href="#stub">Python stubs</a></li></ul></li><li class="list__item"><a href="#legacy">Legacy type syntax for docstrings</a><ul class="list _bullet"><li class="list__item"><a href="#d407442e277">Specifying types of local variables</a></li><li class="list__item"><a href="#d407442e299">Specifying types of fields</a></li><li class="list__item"><a href="#d407442e312">Specifying return types</a></li><li class="list__item"><a href="#d407442e357">Specifying parameter types</a></li></ul></li><li class="list__item"><a href="#d407442e379">Converting comments </a></li></ul><a name="d407442e18"></a><h2>Following PEP484</h2>
        <a name="d407442e20"></a><p>IntelliJ IDEA supports type hinting in function annotations and type comments using the
            <code class="code" data-lang="Java">typing</code> module defined by
            <a name="d407442e25"></a><a href="https://www.python.org/dev/peps/pep-0484/" data-external="true"><span>PEP 484</span></a>.</p>
    <a name="d407442e29"></a><h3>Specifying types of parameters</h3>
          <a name="d407442e31"></a><p>When Python 3 is specified as the project interpreter, you can use annotations to specify the expected
          parameter type:</p>
          <figure><img alt="py_type_hinting_param2" title="py_type_hinting_param2" src="/help/img/idea/2016.3/py_type_hinting_param2.png" width="520" height="98"></figure>
          <a name="d407442e36"></a><p>For Python 2, you can specify the types of parameters in the <a name="d407442e38"></a><a href="#stub"><span>Python stubs</span></a>.</p>
     
    <a name="d407442e43"></a><h3>Specifying return types</h3>
      <a name="d407442e45"></a><p>When Python 3 is specified as the project interpreter, you can use annotations to specify the expected return
          type:</p>
        <figure><img alt="py_type_hinting_return1" title="py_type_hinting_return1" src="/help/img/idea/2016.3/py_type_hinting_return1.png" width="440" height="130"></figure>
        <a name="d407442e50"></a><p>For Python 2, you can specify return types in the <a name="d407442e52"></a><a href="#stub"><span>Python stubs</span></a>.</p>
     
    <a name="d407442e57"></a><h3>Specifying types of local variables and attributes</h3>
        <a name="d407442e59"></a><p>Use annotations to specify the types of local variables and attributes:</p>
        <figure><img alt="/help/img/idea/2016.3/py_type_hinting_attributes.png" title="/help/img/idea/2016.3/py_type_hinting_attributes.png" src="/help/img/idea/2016.3/py_type_hinting_attributes.png" width="320" height="247"></figure>
        <a name="d407442e64"></a><p>Also, you can specify the types of local variables and attributes in the
            <a name="d407442e66"></a><a href="#stub"><span>Python stubs</span></a>.</p>

     

<a name="stub"></a><h3>Python stubs</h3>
    <a name="d407442e73"></a><p>IntelliJ IDEA supports <a name="d407442e75"></a><a href="https://www.python.org/dev/peps/pep-0484/#stub-files" data-external="true"><span>Python stub files</span></a> with the
        <code class="code" data-lang="Java">.pyi</code> extension. These files allow you to specify the type hints using Python 3
        syntax for both Python 2 and 3.</p>
    <a name="d407442e82"></a><p>The stub files are <a name="d407442e84"></a><a href="creating-empty-files.html"><span>created as usual</span></a> , but you must specify the extension
        <code class="code" data-lang="Java">.pyi</code> explicitly.</p>
    <a name="d407442e91"></a><p>IntelliJ IDEA shows an asterisk in the left gutter for those Python files that have stubs:</p>
        <figure><img alt="/help/img/idea/2016.3/py_stub1.png" title="/help/img/idea/2016.3/py_stub1.png" src="/help/img/idea/2016.3/py_stub1.png" width="222" height="96"></figure>
<a name="d407442e96"></a><p>Clicking the asterisk results in jumping to the corresponding file with the
    <code class="code" data-lang="Java">.pyi</code> extension:</p>
    <figure><img alt="/help/img/idea/2016.3/py_stub2.png" title="/help/img/idea/2016.3/py_stub2.png" src="/help/img/idea/2016.3/py_stub2.png" width="246" height="68"></figure>
 
    <a name="legacy"></a><h2>Legacy type syntax for docstrings</h2>
        <a name="d407442e109"></a><p>IntelliJ IDEA supports legacy approach to specifying types in Python using docstrings. So doing, the supported
            formats are:</p>
        <ul class="list _ul"><li class="list__item"><a name="d407442e114"></a><a name="d407442e115"></a><a href="http://docutils.sourceforge.net/rst.html" data-external="true"><span>reStructuredText</span></a></li><li class="list__item"><a name="d407442e118"></a><a name="d407442e119"></a><a href="http://folk.uio.no/inf3330/scripting/doc/python/epydoc/epytext.html" data-external="true"><span>epytext</span></a></li><li class="list__item"><a name="d407442e122"></a><a name="d407442e123"></a><a href="http://sphinxcontrib-napoleon.readthedocs.org/en/latest/example_numpy.html" data-external="true"><span>NumPy</span></a></li><li class="list__item"><a name="d407442e126"></a><a name="d407442e127"></a><a href="http://sphinxcontrib-napoleon.readthedocs.org/en/latest/example_google.html" data-external="true"><span>Google</span></a></li></ul>
        <a name="d407442e131"></a><p>To choose the desired docstring format, use the <a name="d407442e133"></a><a href="python-integrated-tools.html"><span>Python Integrated Tools</span></a> page
        of the Settings/Preferences dialog.</p>
        <a name="d407442e137"></a><p>Type syntax in Python docstrings is not defined by any standard. Thus, IntelliJ IDEA suggests the following
            notation: </p>
        <table class="             " width="100%" id="d407442e140"><thead><tr id="d407442e142" class="ijRowHead"><a name="d407442e142"></a><th><a name="d407442e144"></a>Syntax</th><th><a name="d407442e147"></a>Description</th></tr></thead><tbody><tr id="d407442e151" class="ijRowOdd"><a name="d407442e151"></a><td><a name="d407442e153"></a><code class="code" data-lang="Java">Foo</code></td><td><a name="d407442e157"></a>Class Foo visible in the current scope</td></tr><tr id="d407442e161" class="ijRowEven"><a name="d407442e161"></a><td><a name="d407442e163"></a><code class="code" data-lang="Java">x.y.Bar</code> </td><td><a name="d407442e168"></a>Class Bar from x.y module</td></tr><tr id="d407442e172" class="ijRowOdd"><a name="d407442e172"></a><td><a name="d407442e174"></a><code class="code" data-lang="Java">Foo | Bar</code> </td><td><a name="d407442e179"></a>Foo or Bar</td></tr><tr id="d407442e183" class="ijRowEven"><a name="d407442e183"></a><td><a name="d407442e185"></a><code class="code" data-lang="Java">(Foo, Bar)</code> </td><td><a name="d407442e190"></a>Tuple of Foo and Bar</td></tr><tr id="d407442e195" class="ijRowOdd"><a name="d407442e195"></a><td><a name="d407442e197"></a><code class="code" data-lang="Java">list[Foo]</code> </td><td><a name="d407442e202"></a>List of Foo elements</td></tr><tr id="d407442e206" class="ijRowEven"><a name="d407442e206"></a><td><a name="d407442e208"></a><code class="code" data-lang="Java">dict[Foo, Bar]</code> </td><td><a name="d407442e213"></a> Dict from Foo to Bar</td></tr><tr id="d407442e217" class="ijRowOdd"><a name="d407442e217"></a><td><a name="d407442e219"></a><code class="code" data-lang="Java">T</code> </td><td><a name="d407442e224"></a>Generic type (T-Z are reserved for generics)</td></tr><tr id="d407442e228" class="ijRowEven"><a name="d407442e228"></a><td><a name="d407442e230"></a><code class="code" data-lang="Java">T &lt;= Foo</code> </td><td><a name="d407442e235"></a>Generic type with upper bound Foo</td></tr><tr id="d407442e239" class="ijRowOdd"><a name="d407442e239"></a><td><a name="d407442e241"></a><code class="code" data-lang="Java">Foo[T]</code> </td><td><a name="d407442e246"></a>Foo parameterized with T</td></tr><tr id="d407442e250" class="ijRowEven"><a name="d407442e250"></a><td><a name="d407442e252"></a><code class="code" data-lang="Java">(Foo, Bar) -&gt; Baz</code> </td><td><a name="d407442e257"></a>Function of Foo and Bar that returns Baz</td></tr><tr id="d407442e262" class="ijRowOdd"><a name="d407442e262"></a><td><a name="d407442e264"></a><code class="code" data-lang="Java">list[dict[str, datetime]]</code> </td><td><a name="d407442e269"></a>List of dicts from str to datetime (nested arguments)</td></tr></tbody></table>
        <a name="d407442e277"></a><h3>Specifying types of local variables</h3>
            <a name="d407442e279"></a><p>Consider adding information about the expected type of a local variable using
                <code class="code" data-lang="Java">:type</code> or <code class="code" data-lang="Java">@type</code> docstrings:</p>
            <figure><img alt="/help/img/idea/2016.3/py_type_hinting_local_var1.png" title="/help/img/idea/2016.3/py_type_hinting_local_var1.png" src="/help/img/idea/2016.3/py_type_hinting_local_var1.png" width="432" height="149"></figure>
            <a name="d407442e290"></a><p>It is also possible to use <code class="code" data-lang="Java">isinstance</code> to define the expected local variable
                type:</p>
            <figure><img alt="/help/img/idea/2016.3/py_type_hinting_local_var2.png" title="/help/img/idea/2016.3/py_type_hinting_local_var2.png" src="/help/img/idea/2016.3/py_type_hinting_local_var2.png" width="360" height="249"></figure>
         
        <a name="d407442e299"></a><h3>Specifying types of fields</h3>
            <a name="d407442e301"></a><p>You can use type hinting to specify the expected type of fields:</p>
            <figure><img alt="/help/img/idea/2016.3/py_type_hinting_field.png" title="/help/img/idea/2016.3/py_type_hinting_field.png" src="/help/img/idea/2016.3/py_type_hinting_field.png" width="534" height="161"></figure>
            <a name="d407442e306"></a><p>Alternatively, you can specify types of fields in the docstring of a class:</p>
            <figure><img alt="/help/img/idea/2016.3/py_type_hinting_class_attributes.png" title="/help/img/idea/2016.3/py_type_hinting_class_attributes.png" src="/help/img/idea/2016.3/py_type_hinting_class_attributes.png" width="179" height="143"></figure>
         
        <a name="d407442e312"></a><h3>Specifying return types</h3>
         
        <a name="d407442e316"></a><p>Use docstrings <code class="code" data-lang="Java">:rtype</code> or <code class="code" data-lang="Java">@rtype</code> to specify the expected
            return type:</p>
        <figure><img alt="py_type_hinting_return2" title="py_type_hinting_return2" src="/help/img/idea/2016.3/py_type_hinting_return2.png" width="498" height="169"></figure>
        <ul class="list _ul"><li class="list__item"><a name="d407442e329"></a><code class="code" data-lang="Java">:rtype: collections.Iterable[int] # return type</code>: 'items' is of type
                <code class="code" data-lang="Java">generator</code> or <code class="code" data-lang="Java">collections.Iterable</code>, 'a' is of type
                <code class="code" data-lang="Java">int</code>, see the following code:
                <a name="d407442e342"></a><div class="code-block" data-lang="Python"><code class="code-block__wrapper"><span class="k">def</span> <span class="nf">my_iter</span><span class="p">():</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
        <span class="k">yield</span> <span class="n">i</span>
        <span class="n">items</span> <span class="o">=</span> <span class="n">my_iter</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">items</span><span class="p">:</span>
        <span class="k">print</span> <span class="n">a</span></code></div>
            </li><li class="list__item"><a name="d407442e346"></a>:rtype: list[int] for my_iter     # return type: 'a' is of type <code class="code" data-lang="Java">int</code>, see the
                following code:
                <a name="d407442e351"></a><div class="code-block" data-lang="Python"><code class="code-block__wrapper"><span class="k">def</span> <span class="nf">my_iter</span><span class="p">():</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
        <span class="k">yield</span> <span class="n">i</span>
    <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">my_iter</span><span class="p">():</span>
        <span class="k">print</span> <span class="n">a</span></code></div>
            </li></ul>
         
        <a name="d407442e357"></a><h3>Specifying parameter types</h3>
         
        <a name="d407442e361"></a><p>Consider adding information about the expected parameter type. This information is specified using
            <code class="code" data-lang="Java">:type</code> or <code class="code" data-lang="Java">@type</code> docstrings, for example,
            <code class="code" data-lang="Java">:param "type_name" "param_name": "param_description"</code>.</p>
        <figure><img alt="py_type_hinting_param1" title="py_type_hinting_param1" src="/help/img/idea/2016.3/py_type_hinting_param1.png" width="502" height="384"></figure>
         

    <a name="d407442e379"></a><h2>Converting comments </h2>
        <a name="d407442e381"></a><p>For comment-based type hints, IntelliJ IDEA suggests an intention action
            that allows you to convert comment-based type hint to a variable annotation. This intention has the name
            <a name="d407442e383"></a><span class="control">Convert to variable annotation</span>, and works as follows:</p>
        <aside class="warning sideblock"><a name="d407442e388"></a><p>This is available for Python 3.6!</p></aside>
        <table class="             " width="100%" id="d407442e391"><thead><tr id="d407442e393" class="ijRowHead"><a name="d407442e393"></a><th><a name="d407442e395"></a>Before</th><th><a name="d407442e398"></a>After</th></tr></thead><tbody><tr id="d407442e402" class="ijRowOdd"><a name="d407442e402"></a><td><a name="d407442e404"></a>

                    <a name="d407442e406"></a><div class="code-block" data-lang="Python"><code class="code-block__wrapper"><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span><span class="p">,</span> <span class="n">Optional</span>

<span class="n">xs</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c"># type: List[Optional[str]]</span></code></div>
                </td><td><a name="d407442e410"></a>
                    <a name="d407442e412"></a><div class="code-block" data-lang="Python"><code class="code-block__wrapper"><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span><span class="p">,</span> <span class="n">Optional</span>

<span class="n">xs</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[]</span></code></div>
                </td></tr></tbody></table>
    <div class="navigation-links _bottom"><a class="navigation-links__prev" href="meet-intellij-idea.html">Meet IntelliJ IDEA</a><a class="navigation-links__next" href="using-docstrings-to-specify-types.html">Using Docstrings to Specify Types</a></div><section class="seealso"><div class="seealso__header"><h2>See Also</h2></div><div class="seealso__content">```
                <div class="seealso__col"><h3>Procedures:</h3><ul class="list"><li class="list__item"><a name="d407442e424"></a><a href="auto-completing-code.html"><span>Auto-Completing Code</span></a></li><li class="list__item"><a name="d407442e427"></a><a href="Tutorial_Code_Quality_Assistance_Tips_and_Tricks.html"><span>Tutorial: Code Quality Assistance Tips and Tricks</span></a></li></ul></div><div class="seealso__col"><h3>External Links:</h3><ul class="list"><li class="list__item"><a name="d407442e432"></a><a href="http://docutils.sourceforge.net/rst.html" data-external="true"><span>reStructuredText</span></a></li><li class="list__item"><a name="d407442e435"></a><a href="http://folk.uio.no/inf3330/scripting/doc/python/epydoc/epytext.html" data-external="true"><span>epytext</span></a></li></ul></div></div></section><div class="last-modified" data-swiftype-index="false">Last modified: 21 March 2017 </div></article><div id="disqus_thread"></div></div></section></main></div><script></script><script src="/help/app/app.js"></script></body></html>