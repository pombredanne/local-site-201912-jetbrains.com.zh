<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta class="swiftype" name="product" data-type="string" content="/idea/2016.3/"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><meta charset="UTF-8"><meta name="robots" content="noindex"><title>IntelliJ IDEA 2016.3 Help :: Structural Search and Replace Examples</title><link rel="stylesheet" href="/help/app/app.css"></head><body data-id="topicId676534"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-swiftype-index="false"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search IntelliJ IDEA Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header"><div class="container"><h3>IntelliJ IDEA 2016.3 Help</h3><div class="shortcuts-switcher" data-swiftype-index="false"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="primary" value="default" selected>Windows/Linux Default</option><option data-group="primary" value="default_for_gnome">GNOME</option><option data-group="primary" value="default_for_kde">KDE</option><option data-group="primary" value="default_for_xwin">XWin</option><option data-group="primary" value="emacs">Emacs</option><option data-group="primary" value="jbuilder">JBuilder</option><option data-group="primary" value="visual_studio">Visual Studio</option><option data-group="primary" value="netbeans_6.5">NetBeans 6.5</option><option data-group="primary" value="eclipse">Eclipse</option><option data-group="secondary" value="mac_os_x_10.5_">Default (Mac OS X 10.5+)</option><option data-group="secondary" value="mac_os_x">Mac OS X</option><option data-group="secondary" value="eclipse_mac_os_x">Eclipse (Mac OS X)</option><option data-group="secondary" value="intellij_idea_classic_os_x">IntelliJ IDEA Classic (Mac OS X)</option><option data-group="secondary" value="xcode">Xcode</option><option data-group="secondary" value="visual_studio">Visual Studio</option><option data-group="secondary" value="resharper">ReSharper</option><option data-group="secondary" value="resharper_osx">ReSharper (Mac OS X)</option><option data-group="secondary" value="emacs">Emacs (Mac OS X)</option></select></div><div class="panel-trigger" data-swiftype-index="false"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="false"><div class="navigation-links _top"><a class="navigation-links__prev" href="meet-intellij-idea.html">Meet IntelliJ IDEA</a><a class="navigation-links__next" href="working-with-search-results.html">Working With Search Results</a></div><h1>Structural Search and Replace Examples</h1><a name="d891504e14"></a><p>
        On this page:
    </p><ul><li class="list__item"><a href="#d891504e19">One statement</a></li><li class="list__item"><a href="#d891504e28">Method call</a></li><li class="list__item"><a href="#d891504e37">If statement</a></li><li class="list__item"><a href="#d891504e43">Search in comments and/or string literals</a></li><li class="list__item"><a href="#d891504e56">Search for constructors of the class</a></li><li class="list__item"><a href="#d891504e83">Add try/catch/finally code</a></li><li class="list__item"><a href="#d891504e104">Finding all descendants of a class or all classes that implement a certain interface</a></li><li class="list__item"><a href="#d891504e122">Finding all such methods</a></li><li class="list__item"><a href="#d891504e140">Using @Modifier for finding package local and instance methods</a></li><li class="list__item"><a href="#d891504e175">Using 'Contained in Constraints' field in a search</a></li><li class="list__item"><a href="#xml">Searching for XML and HTML tags, attributes, and their values</a></li><li class="list__item"><a href="#script_constraints">Using script constraints</a></li></ul><a name="d891504e19"></a><h2>One statement</h2>

        <a name="d891504e21"></a><div class="code-block" data-lang="Java"><code class="code-block__wrapper"><span class="n">$Statement$</span><span class="o">;</span></code></div>
        <a name="d891504e24"></a><p>Increasing the number of occurrences count to a certain number, you can find sequences
            of statements that contain up to the specified number of elements.
        </p>
    <a name="d891504e28"></a><h2>Method call</h2>

        <a name="d891504e30"></a><div class="code-block" data-lang="Java"><code class="code-block__wrapper"><span class="n">$Instance$</span><span class="o">.</span><span class="na">$MethodCall$</span><span class="o">(</span><span class="n">$Arguments$</span><span class="o">)</span></code></div>
        <a name="d891504e33"></a><p>This template matches method call expressions. If the number of occurrences is zero, it means that a method
            call can be omitted.
        </p>
    <a name="d891504e37"></a><h2>If statement</h2>

        <a name="d891504e39"></a><div class="code-block" data-lang="Java"><code class="code-block__wrapper"><span class="k">if</span> <span class="o">(</span><span class="n">$Expr$</span><span class="o">)</span> <span class="o">{</span>
   <span class="n">$ThenStatements$</span><span class="o">;</span>
<span class="o">}</span>
<span class="k">else</span> <span class="o">{</span>
   <span class="n">$ElseStatements$</span><span class="o">;</span>
<span class="o">}</span></code></div>
    <a name="d891504e43"></a><h2>Search in comments and/or string literals</h2>

        <a name="d891504e45"></a><p>Consider one wants to find comments or literal containing 'foo'. Search template would be like
            <code class="code" data-lang="Java">$SomethingWeWantToFind$</code>
            or <code class="code" data-lang="Java">"$SomethingWeWantToFind$"</code>.
            In case one wants to find comments/string containing some particular words (say, foo as a word), this should
            be specified as a text constraint.
        </p>

    <a name="d891504e56"></a><h2>Search for constructors of the class</h2>

        <a name="d891504e58"></a><p>The search template <a name="d891504e60"></a><span class="emphasis">Constructors of the class</span> with default variable settings lets you
            find
            only one constructor in each class within the specified scope. If the class has several constructors then to
            find more than one, you need to set the <a name="d891504e63"></a><span class="control">Maximum count</span> option of
            <a name="d891504e66"></a><span class="emphasis">Occurrences count</span>
            to
            <a name="d891504e69"></a><span class="emphasis">Unlimited</span>
            in the <code class="code" data-lang="Java">$Class$</code> variable. For more information, see
            <a name="d891504e76"></a><a href="structural-search-and-replace-edit-variable-dialog.html"><span>Edit Variable Dialog</span></a>.
            <br>
            Note that the class declarations will be also included into the find occurrences' list.
        </p>
    <a name="d891504e83"></a><h2>Add try/catch/finally code</h2>

        <a name="d891504e85"></a><p>If one wants to replace a statement with a <code class="code" data-lang="Java">try/catch/finally</code> construct,
            the following pair of search and replace templates can be suggested. The search template is:
        </p>
        <a name="d891504e91"></a><div class="code-block" data-lang="Java"><code class="code-block__wrapper"><span class="n">$Statements$</span><span class="o">;</span></code></div>
        <a name="d891504e94"></a><p>with a certain maximum number of occurrences specified as a constraint.</p>
        <a name="d891504e97"></a><p>The replacement template is:</p>
        <a name="d891504e100"></a><div class="code-block" data-lang="Java"><code class="code-block__wrapper"><span class="k">try</span> <span class="o">{</span>
    <span class="n">$Statements$</span><span class="o">;</span>
<span class="o">}</span>
<span class="k">catch</span><span class="o">(</span><span class="n">Exception</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{</span>
<span class="o">}</span></code></div>
    <a name="d891504e104"></a><h2>Finding all descendants of a class or all classes that implement a certain interface</h2>

        <a name="d891504e106"></a><p>Consider the following search templates:</p>
        <a name="d891504e109"></a><div class="code-block" data-lang="Java"><code class="code-block__wrapper"><span class="kd">class</span> <span class="nc">$Clazz$</span> <span class="kd">extends</span> <span class="n">$AnotherClass$</span> <span class="o">{}</span></code></div>
        <a name="d891504e112"></a><p>or</p>
        <a name="d891504e115"></a><div class="code-block" data-lang="Java"><code class="code-block__wrapper"><span class="kd">class</span> <span class="nc">$Clazz$</span> <span class="kd">implements</span> <span class="n">$SomeInterface$</span> <span class="o">{}</span></code></div>
        <a name="d891504e118"></a><p>As the text constraint for the variables $AnotherClass$ or $SomeInterface$, specify the name of the base
            class or implemented interface.
        </p>
    <a name="d891504e122"></a><h2>Finding all such methods</h2>
        <a name="d891504e124"></a><p>To look for the different implementations of the same interface method, use the following search template:
        </p>
        <a name="d891504e127"></a><div class="code-block" data-lang="Java"><code class="code-block__wrapper"><span class="kd">class</span> <span class="nc">$a$</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">$show$</span><span class="o">();</span>
<span class="o">}</span></code></div>
        <a name="d891504e130"></a><p>Specify text constraint for the <code class="code" data-lang="Java">$show$</code> variable, and enable the option
            <a name="d891504e135"></a><span class="control">This variable is the target of the search</span>.
        </p>
    <a name="d891504e140"></a><h2>Using @Modifier for finding package local and instance methods</h2>

        <a name="d891504e142"></a><p>IntelliJ IDEA suggests pre-defined templates for the <a name="d891504e144"></a><span class="keyword">package local</span> and
            <a name="d891504e147"></a><span class="keyword">instance</span>
            fields of a class. These templates make use of the
            <a name="d891504e150"></a><span class="keyword">@Modifier</span>
            annotation, which helps describe search target, when there is no way to express it using the natural
            language means.
        </p>
        <a name="d891504e154"></a><p>However, if you need to search for package local or instance methods, you will have to create the
            corresponding search templates yourself, applying the <a name="d891504e156"></a><span class="keyword">@Modifier</span> annotation.
        </p>
         
        <a name="d891504e162"></a><p>To specify criteria for finding all methods with the visibility modifiers
            <a name="d891504e164"></a><span class="keyword">package local</span>
            and <a name="d891504e167"></a><span class="keyword">instance</span>, use the following search template:
        </p>
        <a name="d891504e171"></a><div class="code-block" data-lang="Java"><code class="code-block__wrapper"><span class="kd">class</span>
   <span class="nc">$Class$</span> <span class="o">{</span>
       <span class="nd">@Modifier</span><span class="o">(</span><span class="s">&quot;packageLocal&quot;</span><span class="o">)</span> <span class="nd">@Modifier</span><span class="o">(</span><span class="s">&quot;Instance&quot;</span> <span class="o">)</span> <span class="n">$ReturnType$</span> <span class="nf">$MethodName$</span><span class="o">(</span><span class="n">$ParameterType$</span> <span class="n">$Parameter$</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span></code></div>
    <a name="d891504e175"></a><h2>Using 'Contained in Constraints' field in a search</h2>

        <a name="d891504e177"></a><p>The existing example uses the following template:</p>
        <a name="d891504e180"></a><div class="code-block" data-lang="Java"><code class="code-block__wrapper"><span class="n">LOG</span><span class="o">.</span><span class="na">debug</span><span class="o">(</span><span class="n">$params$</span><span class="o">);</span></code></div>
        <a name="d891504e183"></a><p>Placing <code class="code" data-lang="Java">if('_a) { '_st*; }</code> where <code class="code" data-lang="Java">_a</code> and <code class="code" data-lang="Java">_st</code> are variables and
            <code class="code" data-lang="Java">*</code>
            denotes zero or more occurrences
            in <a name="d891504e197"></a><span class="control">Contained in Constraints</span> field and selecting
            <a name="d891504e201"></a><span class="control">Invert condition</span>
            check box of <a name="d891504e204"></a><span class="control">Complete Match</span> variable will result a search of logging statements that are
            not contained in the <code class="code" data-lang="Java">if</code> statement.
        </p>
    <a name="xml"></a><h2>Searching for XML and HTML tags, attributes, and their values</h2>
        <a name="d891504e354"></a><p>
            The simplest template to search for a tag is <code class="code" data-lang="Java">&lt;$a$/&gt;</code>
        </p>
        <a name="d891504e360"></a><p>By placing constraints on the variable <code class="code" data-lang="Java">$a$</code>, you can specify which tags you want to find.
            For example, if you specify the text/regexp constraint <code class="code" data-lang="Java">app.+</code>,
            you’ll find the tags whose names start with <code class="code" data-lang="Java">app</code>.
        </p>
        <a name="d891504e372"></a><p>A more versatile template for searching in XML and HTML is <code class="code" data-lang="Java">&lt;$tag$ $attribute$="$value$"/&gt;</code>
            By using this template with properly specified search settings and constraints,
            you can find practically anything that may occur in XML or HTML. For example, if you specify the
            text/regexp constraint <code class="code" data-lang="Java">width</code> for the variable <code class="code" data-lang="Java">$attribute$</code>, you’ll find all the
            tags that have the <code class="code" data-lang="Java">width</code> attribute.
        </p>
    <a name="script_constraints"></a><h2>Using script constraints</h2>
        <a name="d891504e390"></a><p>IntelliJ IDEA structural search lets you use advanced constraints that cannot be specified using UI.</p>
        <a name="d891504e393"></a><p>See the following template as an example:</p>
        <figure><img alt="/help/img/idea/2016.3/ssr_template_with_constraints.png" title="/help/img/idea/2016.3/ssr_template_with_constraints.png" src="/help/img/idea/2016.3/ssr_template_with_constraints.png" width="558" height="249"></figure>
        <figure><img alt="/help/img/idea/2016.3/ssr_script_constraint.png" title="/help/img/idea/2016.3/ssr_script_constraint.png" src="/help/img/idea/2016.3/ssr_script_constraint.png" width="595" height="632"></figure>
        <a name="d891504e400"></a><p>The constraint is specified using Groovy scripting language and IntelliJ IDEA PSI API for the language you are
            searching. The Groovy constraint is applicable to any language to which the structural search can be
            applied.
        </p>
    <div class="navigation-links _bottom"><a class="navigation-links__prev" href="meet-intellij-idea.html">Meet IntelliJ IDEA</a><a class="navigation-links__next" href="working-with-search-results.html">Working With Search Results</a></div><section class="seealso"><div class="seealso__header"><h2>See Also</h2></div><div class="seealso__content">```
                <div class="seealso__col"><h3>Reference:</h3><ul class="list"><li class="list__item"><a name="d891504e408"></a><a href="structural-search-and-replace-dialogs.html"><span>Structural Search and Replace Dialogs</span></a></li></ul></div></div></section><div class="last-modified" data-swiftype-index="false">Last modified: 21 March 2017 </div></article><div id="disqus_thread"></div></div></section></main></div><script></script><script src="/help/app/app.js"></script></body></html>