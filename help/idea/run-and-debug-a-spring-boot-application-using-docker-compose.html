<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>Run and debug a Spring Boot application using Docker Compose - Help | IntelliJ IDEA</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body data-id="Run_and_debug_a_Spring_Boot_application_using_Docker_Compose" data-breadcrumbs="Language and framework-specific guidelines/Docker.xml|Docker/Tutorials/Run_and_debug_a_Spring_Boot_application_using_Docker_Compose.xml|Run and debug a Spring Boot application using Docker Compose" data-main-title="Run and debug a Spring Boot application using Docker Compose"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search IntelliJ IDEA Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>IntelliJ IDEA 2019.3 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="primary" value="primary_default_for_windows" selected>Default for Windows</option><option data-group="primary" value="primary_eclipse">Eclipse</option><option data-group="primary" value="primary_emacs">Emacs</option><option data-group="primary" value="primary_netbeans">NetBeans</option><option data-group="primary" value="primary_sublime_text">Sublime Text</option><option data-group="primary" value="primary_visual_studio">Visual Studio</option><option data-group="secondary" value="secondary_macos">macOS</option><option data-group="secondary" value="secondary_eclipse">Eclipse</option><option data-group="secondary" value="secondary_eclipse_macos">Eclipse (macOS)</option><option data-group="secondary" value="secondary_emacs">Emacs</option><option data-group="secondary" value="secondary_intellij_idea_classic">IntelliJ IDEA Classic</option><option data-group="secondary" value="secondary_netbeans">NetBeans</option><option data-group="secondary" value="secondary_sublime_text">Sublime Text</option><option data-group="secondary" value="secondary_sublime_text_macos">Sublime Text (macOS)</option><option data-group="secondary" value="secondary_visual_studio">Visual Studio</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Run_and_debug_a_Spring_Boot_application_using_Docker_Compose" id="Run_and_debug_a_Spring_Boot_application_using_Docker_Compose.xml">Run and debug a Spring Boot application using Docker Compose</h1>    <p id="d36777f3">        You can use IntelliJ IDEA to run and debug a <a href="https://spring.io/projects/spring-boot" data-external="true" target="_blank" rel="noopener noreferrer">Spring Boot</a> application running in multiple Docker containers under Docker Compose.        This tutorial describes how to run two Docker Compose services inside containers: a simple Spring Boot application and a MySQL database.        The application can receive GET requests that add entries to the database.        This tutorial also describes how you can set breakpoints and debug your application using a remote debug configuration.    </p>    <section class="procedure-steps"><div class="collapse"><div class="collapse__title"><h3 id="04226895" data-toc="Run_and_debug_a_Spring_Boot_application_using_Docker_Compose#04226895">Clone the sample project</h3></div><div class="collapse__content"><p id="bfe7da5a">The source code of the application is hosted on <a href="https://github.com/IdeaUJetBrains/SpringBootDockerDemoDebug" data-external="true" target="_blank" rel="noopener noreferrer">GitHub</a>.</p><ol class="list _decimal"><li class="list__item" id="7d9385e2"><p>In the main menu, select <span data-skip-index="skip" class="menupath">VCS | Checkout from Version Control | Git</span></p></li><li class="list__item" id="19dec4ce">            <p id="acbe6575">Specify the URL: <span class="filepath">https://github.com/IdeaUJetBrains/SpringBootDockerDemoDebug</span></p>            <p id="2321b5df">Test the connection if necessary and click <span class="control">Clone</span>.</p>        </li><li class="list__item" id="79394667"><p>Agree to open the cloned project.</p></li></ol></div></div></section>    <section class="procedure-steps"><div class="collapse"><div class="collapse__title"><h3 id="b8a7b7f0" data-toc="Run_and_debug_a_Spring_Boot_application_using_Docker_Compose#b8a7b7f0">Run the application using Docker Compose</h3></div><div class="collapse__content"><ol class="list _decimal"><li class="list__item" id="68557be7"><p>Open the <span class="filepath">docker-compose-debug.yml</span> file.</p></li><li class="list__item" id="147f9c26">            <p id="514f7bac">Click <img class="inline-icon-12" src="/help/img/idea/2019.3/icons.runConfigurations.testState.run_run@2x.png" width="12" alt="docker-compose up"> in the gutter.</p>            <p id="6e18a2a4">                This creates a Docker Compose run configuration, which starts the application in a container as the <span class="emphasis">app</span> service                and the database in another container as the <span class="emphasis">db</span> service.                If successful, you should see something similar to the following in the deploy log:            </p>            <div class="code-block" data-lang="none">
                Creating db ...
                Creating springbootdockerdemodebug2_app_1 ...
                'Compose: docker-compose-debug.yml' has been deployed successfully.
    </div>            <p id="1948cc78">                You can access the application at <span class="filepath">http://localhost:18080</span>.                For example, you can try to execute the following GET request,                which should add a new <code class="code">entitybus</code> entry to the database and list all available entries:                <span class="filepath">http://127.0.0.1:18080/entitybus/post</span>            </p>            <p id="f19513d0">                You can connect to the database at <span class="filepath">jdbc:mysql://0.0.0.0:13306/DOCKERDB</span>.                For example, you can use the <a href="database-tool-window.html">Database</a> tool window to add the database as a data source                and check the <code class="code">entitybus</code> table.                Use the following connection settings:            </p>            <ul class="list _ul"><li class="list__item" id="22c9ed51"><p>Host: <span class="filepath">0.0.0.0</span> or <span class="filepath">localhost</span></p></li><li class="list__item" id="a6c1e7d2"><p>Port: <code class="code">13306</code></p></li><li class="list__item" id="7747ff7c"><p>User: <code class="code">root</code></p></li><li class="list__item" id="7e52a118"><p>Password: <code class="code">root</code></p></li><li class="list__item" id="a077fa34"><p>Database: <code class="code">DOCKERDB</code></p></li></ul>        </li></ol></div></div></section>    <section class="procedure-steps"><div class="collapse"><div class="collapse__title"><h3 id="3b5dd528" data-toc="Run_and_debug_a_Spring_Boot_application_using_Docker_Compose#3b5dd528">Create a remote debug configuration</h3></div><div class="collapse__content"><ol class="list _decimal"><li class="list__item" id="53e1c366"><p>Open the <span class="filepath">docker-compose-debug.yml</span> file.</p></li><li class="list__item" id="1fb0c096"><p>Click <img class="inline-icon-16" src="/help/img/idea/2019.3/icons.actions.startDebugger@2x.png" width="16" alt="Debug with Remote"> in the gutter.</p></li><li class="list__item" id="d80eb5e1"><p>Select the module in the <span class="control">Use module classpath</span> list.</p></li><li class="list__item" id="8fab63ab"><p>            Double-click the Docker Compose run configuration in the <span class="control">Before launch</span> list.            If it is not in the list, click <img class="inline-icon-16" src="/help/img/idea/2019.3/icons.general.add@2x.png" width="16" alt="the Add button"> and select <span class="control">Launch Docker before debug</span>.        </p></li><li class="list__item" id="93e52e9d">            <p id="fbd36f36">                Select the Docker Compose run configuration to launch before starting remote debug                and make sure that it is configured to connect to the <span class="emphasis">app</span> service.                Also check the <span class="control">Custom Command</span> field: it should contain the <code class="code">-agentlib</code> option                and options from the <code class="code">command</code> field in the <span class="filepath">docker-compose-debug.yml</span> file:            </p>            <div class="code-block" data-lang="none">
                java -agentlib:jdwp=transport=dt_socket,server=y,suspend=y,address=5005 -Djava.security.egd=file:/dev/./urandom -jar /project/target/demo-0.0.1-SNAPSHOT.jar
    </div>            <aside data-type="note" class="prompt" data-title="" rel="618622ed" id="19a77b71"><p>                If the default port is allocated to something else, change the container port for the Java debugger to connect to                and make sure that the port in the remote debug configuration is the same.            </p></aside>        </li></ol><p id="79c8958f">            If the application is already running, do not run the debug configuration.            Apply the settings and click <span class="control">Cancel</span>.        </p></div></div></section>    <section class="procedure-steps"><div class="collapse"><div class="collapse__title"><h3 id="92715678" data-toc="Run_and_debug_a_Spring_Boot_application_using_Docker_Compose#92715678">Launch the debug configuration</h3></div><div class="collapse__content"><ol class="list _decimal"><li class="list__item" id="3eda2b11"><p>            If the application is already running, remove the containers.            To do it, right-click the containers under the Docker Compose <span class="emphasis">app</span> and <span class="emphasis">db</span> services and click <span class="control">Delete</span>.        </p></li><li class="list__item" id="c5591b6a"><p>Open the <span class="filepath">docker-compose-debug.yml</span> file.</p></li><li class="list__item" id="d8711d09"><p>Click <img class="inline-icon-16" src="/help/img/idea/2019.3/icons.actions.startDebugger@2x.png" width="16" alt="Debug with Remote"> in the gutter and start the debug configuration.</p></li></ol><p id="fca970b6">Once the application is up and running, the <a href="debug-tool-window.html">Debug</a> tool window opens.</p></div></div></section>    <section class="procedure-steps"><div class="collapse"><div class="collapse__title"><h3 id="fc3171cc" data-toc="Run_and_debug_a_Spring_Boot_application_using_Docker_Compose#fc3171cc">Set a breakpoint and debug the application</h3></div><div class="collapse__content"><ol class="list _decimal"><li class="list__item" id="44dbc8a5">            <p id="81536468">Open the <span class="filepath">src/main/java/entity/Entitybus.java</span> file and set a breakpoint in the <code class="code">setEid()</code> method.</p>                        <figure><img alt="Breakpoint in the setEid() method" title="Breakpoint in the setEid() method" src="/help/img/idea/2019.3/docker-compose-spring-boot-tutorial-breakpoint.png" id="0223f3d1" class=" _border-line" width="600" height="810"></figure>        </li><li class="list__item" id="ed99ab7a">            <p id="4f4d1bde">Execute the following GET request: <span class="filepath">http://127.0.0.1:18080/entitybus/post</span></p>            <p id="cbd2f95f">The application will stop at the breakpoint and you can examine the current variable values and frames in the <a href="debug-tool-window.html">Debug</a> tool window.</p>        </li><li class="list__item" id="3d839f44"><p>Click <img class="inline-icon-16" src="/help/img/idea/2019.3/icons.actions.resume@2x.png" width="16" alt="the Resume Program button"> until it executes the request and you get the returned values.</p></li></ol></div></div></section><div class="last-modified" data-skip-index="skip">Last modified: 29 November 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="debug-a-java-application-using-a-dockerfile.html">Debug a Java application using a Dockerfile</a><a class="navigation-links__next" href="deploying-a-web-app-into-an-app-server-container.html">Deploy a Java web application inside a Tomcat server container</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>