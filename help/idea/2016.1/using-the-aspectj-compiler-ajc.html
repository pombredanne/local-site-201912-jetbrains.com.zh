<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta name="robots" content="noindex"></meta><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><title>IntelliJ IDEA 2016.1 Help :: Using the AspectJ Compiler (ajc)</title><link rel="stylesheet" href="/help/app/app.css"></head><body data-id="Using_the_AspectJ_ajc_Compiler"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><div class="wrapper"><section class="panel _nav"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search IntelliJ IDEA Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header"><div class="container"><h3>IntelliJ IDEA 2016.1 Help</h3><div class="shortcuts-switcher"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="primary" value="default" selected>Default (Windows/Linux)</option><option data-group="primary" value="default_for_gnome">GNOME</option><option data-group="primary" value="default_for_kde">KDE</option><option data-group="primary" value="default_for_xwin">XWindow</option><option data-group="primary" value="emacs">Emacs</option><option data-group="primary" value="jbuilder">JBuilder</option><option data-group="primary" value="visual_studio">Visual Studio</option><option data-group="primary" value="netbeans_6.5">NetBeans 6.5</option><option data-group="primary" value="eclipse">Eclipse</option><option data-group="secondary" value="mac_os_x_10.5_">Default (Mac OS X 10.5+)</option><option data-group="secondary" value="mac_os_x">OS X</option><option data-group="secondary" value="eclipse_mac_os_x">OS X Eclipse</option><option data-group="secondary" value="intellij_idea_classic_os_x">IntelliJ IDEA Classic (OS X)</option><option data-group="secondary" value="xcode">Xcode</option><option data-group="secondary" value="visual_studio">Visual Studio</option><option data-group="secondary" value="resharper">ReSharper</option><option data-group="secondary" value="resharper_osx">ReSharper OSX</option><option data-group="secondary" value="emacs">Emacs</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="true"><div class="navigation-links _top"><a class="navigation-links__prev" href="using-the-push-itds-in-refactoring.html">Using the Push ITDs In Refactoring</a><a class="navigation-links__next" href="build-tools.html">Build Tools</a></div><h1>Using the AspectJ Compiler (ajc)</h1><a name="d832601e3"></a><p>
        By default, IntelliJ IDEA uses the <code class="code" data-lang="Java">javac</code> compiler.
        To use the AspectJ compiler <a name="d832601e8"></a><a href="http://eclipse.org/aspectj/doc/released/devguide/ajc-ref.html" data-external="true"><span>ajc</span></a>
        (instead of or in combination with <code class="code" data-lang="Java">javac</code>),
        you should make changes to <a name="d832601e14"></a><a href="compiler-java-compiler.html"><span>corresponding IDE settings</span></a>.</p><a name="d832601e18"></a><p>
        The <code class="code" data-lang="Java">ajc</code> settings specified at the project level can be fine-tuned at the level of individual modules.
        AspectJ facets associated with the modules are used for that purpose.</p><a name="d832601e24"></a><p>
        Note that <code class="code" data-lang="Java">ajc</code> is not bundled with IntelliJ IDEA and should be downloaded separately.</p><a name="d832601e30"></a><p>
        <code class="code" data-lang="Java">ajc</code> is available as part of the AspectJ distribution which you can download
        from the <a name="d832601e35"></a><a href="http://eclipse.org/aspectj/downloads.php" data-external="true"><span>AspectJ website</span></a>.</p><ul><li class="list__item"><a href="#ajc_and_javac">Optimizing compilation performance: Using ajc in combination with javac</a></li><li class="list__item"><a href="#controlling_aspectpath">Controlling the ajc aspectpath</a></li><li class="list__item"><a href="#settings">Selecting ajc as the project compiler and specifying its settings</a></li><li class="list__item"><a href="#redefine_aspectpath_in_facet">Fine-tuning the use of ajc at a module level</a></li></ul><a name="ajc_and_javac"></a><h2>Optimizing compilation performance: Using ajc in combination with javac</h2>
        <a name="d832601e44"></a><p>
            IntelliJ IDEA lets you use <code class="code" data-lang="Java">ajc</code> in combination with <code class="code" data-lang="Java">javac</code> without the need to
            switch the compilers in the IDE settings.</p>
        <a name="d832601e53"></a><p>
            First of all, you should select <code class="code" data-lang="Java">ajc</code> as your project compiler
            (the <a name="d832601e58"></a><a href="compiler-java-compiler.html#compiler"><span>Use compiler field</span></a> on the
            <a name="d832601e61"></a><a href="compiler-java-compiler.html"><span>Java Compiler page</span></a>).</p>
        <a name="d832601e65"></a><p>
            If you want <code class="code" data-lang="Java">javac</code> to be also used,
            turn on the <a name="d832601e70"></a><a href="compiler-java-compiler.html#delegate_to_javac"><span>Delegate to Javac option</span></a>.
            If this option in on, the modules without aspects are compiled with <code class="code" data-lang="Java">javac</code>
            (which is, generally, faster), and the modules that contain aspects are compiled with <code class="code" data-lang="Java">ajc</code>.
            (If this option is off, <code class="code" data-lang="Java">ajc</code> is used for all the modules in your project.)</p>
        <a name="d832601e83"></a><p>
            You can fine-tune the distribution of tasks between the compilers (<code class="code" data-lang="Java">ajc</code> and <code class="code" data-lang="Java">javac</code>)
            at the level of individual modules.
            For modules that contain aspects only in the form of <code class="code" data-lang="Java">@Aspect</code>-annotated Java classes
            (in <code class="code" data-lang="Java">.java</code> files),
            you can specify that <code class="code" data-lang="Java">ajc</code> should be used only for post-compile weaving.
            If you do so, <code class="code" data-lang="Java">javac</code> will be used to compile all the source files, and then
            <code class="code" data-lang="Java">ajc</code> will be applied to the compiled class files for weaving.
            As a result, the overall process (compilation + weaving), will take less time.</p>
        <a name="d832601e108"></a><p>
            Provided that the <a name="d832601e110"></a><span class="control">Delegate to Javac</span> option is on,
            the post-compile weaving mode for <code class="code" data-lang="Java">ajc</code> is enabled by turning on the corresponding option
            in an <a name="d832601e116"></a><a href="aspectj-facet-page.html"><span>AspectJ facet</span></a> associated with a module.</p>
        <a name="d832601e121"></a><p>
            Note that you shouldn't turn on this option for modules that contain code-style aspects
            (ones defined in <code class="code" data-lang="Java">.aj</code> files).</p>
    <a name="controlling_aspectpath"></a><h2>Controlling the ajc aspectpath</h2>
        <a name="d832601e130"></a><p>
            You can control the <a name="d832601e132"></a><a href="http://eclipse.org/aspectj/doc/released/devguide/ajc-ref.html" data-external="true"><span>ajc</span></a>
            <code class="code" data-lang="Java">aspectpath</code> option separately for each of your modules,
            see <a href="#redefine_aspectpath_in_facet">Fine-tuning the use of ajc at a module level</a>.</p>
        <a name="d832601e141"></a><p>
            The module <code class="code" data-lang="Java">aspectpath</code> may be set automatically as a result of importing
            an appropriately configured <a name="d832601e146"></a><a href="http://maven.apache.org/" data-external="true"><span>Maven</span></a> project into IntelliJ IDEA.</p>
    <a name="settings"></a><h2>Selecting ajc as the project compiler and specifying its settings</h2>
        <ol class="list _decimal"><li class="list__item"><a name="d832601e155"></a>
                <a name="d832601e157"></a><a href="accessing-settings.html"><span>Open the Settings dialog</span></a> (e.g. <kbd data-default="Ctrl+Alt+S" data-default_for_gnome="Ctrl+Alt+S" data-default_for_kde="Ctrl+Alt+S" data-default_for_xwin="Ctrl+Alt+S" data-emacs="Ctrl+Alt+S" data-jbuilder="N/A" data-visual_studio="Alt+F7" data-netbeans_6.5="N/A" data-eclipse="Ctrl+Alt+S" data-mac_os_x_10.5_="&#x2318;," data-mac_os_x="&#x2318;," data-eclipse_mac_os_x="&#x2318;," data-intellij_idea_classic_os_x="N/A" data-xcode="N/A" data-resharper="N/A" data-resharper_osx="N/A">Ctrl+Alt+S</kbd>).</li><li class="list__item"><a name="d832601e163"></a>
                In the left-hand part of the dialog, in the search box, type <code class="code" data-lang="Java">compiler</code>.
                Then, select <a name="d832601e168"></a><span class="control">Java Compiler</span> in the pane below the search box.</li><li class="list__item"><a name="d832601e172"></a>
                On the <a name="d832601e174"></a><a href="compiler-java-compiler.html"><span>Compiler &gt; Java Compiler page</span></a> that opens
                in the right-hand part of the dialog:
                <ol class="list _decimal"><li class="list__item"><a name="d832601e179"></a>
                        Select <a name="d832601e181"></a><span class="control">Ajc</span> from the <a name="d832601e184"></a><span class="control">Use compiler</span> list.</li><li class="list__item"><a name="d832601e188"></a>
                        If necessary, specify the bytecode versions.
                        (Roughly, these are the minimum target JVM versions.)</li><li class="list__item"><a name="d832601e191"></a>
                        Specify the path to the compiler in the <a name="d832601e193"></a><span class="control">Path to Ajc compiler</span> field.
                        <a name="d832601e196"></a><p>
                            You can type the path in the field,
                            or click <img alt="browseButton" width="15" height="15" title="browseButton" src="/help/img/idea/2016.1/browseButton.png" class="inline-icon-15"> and select the necessary file
                            in the <a name="d832601e200"></a><a href="select-path-dialog.html"><span>corresponding dialog</span></a>.</p>
                        <a name="d832601e204"></a><p>
                            (The file that you want is <code class="code" data-lang="Java">aspectjtools.jar</code> which is located
                            in <code class="code" data-lang="Java">&lt;AspectJ installation directory&gt;\lib</code>.)</p></li><li class="list__item"><a name="d832601e213"></a>
                        If necessary, specify the
                        <a name="d832601e215"></a><a href="http://eclipse.org/aspectj/doc/released/devguide/ajc-ref.html" data-external="true"><span>command-line options</span></a>
                        to be passed to the compiler in the <a name="d832601e218"></a><span class="control">Command line parameters</span> field.
                        <a name="d832601e221"></a><p>
                            You can type the parameters right in the field,
                            or click <img alt="shift-enter-button" width="20" height="20" title="shift-enter-button" src="/help/img/idea/2016.1/shift-enter-button.png" class="inline-icon-20"> to open
                            the <a name="d832601e225"></a><span class="control">Command line parameters</span> dialog where the text entry area is larger.</p></li><li class="list__item"><a name="d832601e229"></a>
                        Click <a name="d832601e231"></a><span class="control">Test</span> to check if the specified settings are correct.</li><li class="list__item"><a name="d832601e236"></a>
                        If you want to use <code class="code" data-lang="Java">javac</code> to compile the modules that contain no aspects,
                        select the <a name="d832601e241"></a><span class="control">Delegate to Javac</span> check box.
                        <a name="d832601e244"></a><p>
                            Note that the distribution of tasks between <code class="code" data-lang="Java">ajc</code> and <code class="code" data-lang="Java">javac</code> can be
                            fine-tuned at the level of individual modules.</p></li></ol></li><li class="list__item"><a name="d832601e253"></a>
                Click <a name="d832601e255"></a><span class="control">OK</span> in the <a name="d832601e258"></a><span class="control">Settings</span> dialog.</li></ol>
    <a name="redefine_aspectpath_in_facet"></a><h2>Fine-tuning the use of ajc at a module level</h2>
        <a name="d832601e265"></a><p>
            To be able to fine-tune the use of <code class="code" data-lang="Java">ajc</code> at a module level,
            you should add an AspectJ facet to corresponding module or modules.</p>
        <a name="d832601e271"></a><p>
            Once you've done that, you can specify that <code class="code" data-lang="Java">ajc</code> should be used only for post-compile weaving.
            You can also specify the <code class="code" data-lang="Java">aspectpath</code> for the module.</p>
        <ol class="list _decimal"><li class="list__item"><a name="d832601e282"></a>
                Add an AspectJ facet to the module of interest.
                For corresponding instructions, see <a name="d832601e284"></a><a href="adding-and-removing-facets.html"><span>Adding and Removing Facets</span></a>.</li><li class="list__item"><a name="d832601e287"></a>
                On the <a name="d832601e289"></a><a href="aspectj-facet-page.html"><span>page that opens</span></a> in the right-hand part of
                the <a name="d832601e292"></a><a href="project-structure-dialog.html"><span>Project Structure dialog</span></a>, under <a name="d832601e295"></a><span class="control">Compiler</span>,
                specify the settings as necessary (see below).</li><li class="list__item"><a name="d832601e299"></a>
                If you want to use <code class="code" data-lang="Java">ajc</code> only to weave the compiled class files
                (the source code in this case is compiled with <code class="code" data-lang="Java">javac</code>),
                select the <a name="d832601e307"></a><span class="control">Post-compile weave mode</span> check box.
                <a name="d832601e310"></a><p>
                    IMPORTANT: Don't select this check box if the module contains <code class="code" data-lang="Java">.aj</code> files.</p></li><li class="list__item"><a name="d832601e316"></a>
                To form the <code class="code" data-lang="Java">aspectpath</code> for the module:
                <ul class="list _ul"><li class="list__item"><a name="d832601e323"></a>
                        Use <img alt="add" width="12" height="12" title="add" src="/help/img/idea/2016.1/new.png" class="inline-icon-12">&nbsp;(<kbd data-default="Alt+Insert" data-default_for_gnome="Alt+Insert" data-default_for_kde="Alt+Insert" data-default_for_xwin="Alt+Insert" data-emacs="Alt+Insert" data-jbuilder="Alt+Insert" data-visual_studio="Alt+Insert" data-netbeans_6.5="N/A" data-eclipse="Alt+Insert" data-mac_os_x_10.5_="&#x2318;N" data-mac_os_x="&#x2303;N" data-eclipse_mac_os_x="&#x2318;N" data-intellij_idea_classic_os_x="N/A" data-xcode="N/A" data-resharper="N/A" data-resharper_osx="N/A">Alt+Insert</kbd>) to add libraries and other modules.
                        Select the necessary libraries and modules in
                        the dialog that opens. (To choose from, dependencies of the module are suggested.)</li><li class="list__item"><a name="d832601e330"></a>
                        Use <img alt="delete" width="12" height="12" title="delete" src="/help/img/idea/2016.1/delete.png" class="inline-icon-12">&nbsp;(<kbd data-default="Alt+Delete" data-default_for_gnome="Alt+Delete" data-default_for_kde="Alt+Delete" data-default_for_xwin="Alt+Delete" data-emacs="N/A" data-jbuilder="Alt+Delete" data-visual_studio="Alt+Delete" data-netbeans_6.5="N/A" data-eclipse="Alt+Delete" data-mac_os_x_10.5_="&#x2318;&#x2326;" data-mac_os_x="&#x2318;&#x2326;" data-eclipse_mac_os_x="N/A" data-intellij_idea_classic_os_x="N/A" data-xcode="N/A" data-resharper="N/A" data-resharper_osx="N/A">Alt+Delete</kbd>) to remove the selected items
                        from the list.</li><li class="list__item"><a name="d832601e337"></a>
                        Use <img alt="arrowUp" width="12" height="12" title="arrowUp" src="/help/img/idea/2016.1/arrowUp.png" class="inline-icon-12">&nbsp;(<kbd data-default="Alt+Up" data-default_for_gnome="Alt+Up" data-default_for_kde="Alt+Up" data-default_for_xwin="Alt+Up" data-emacs="Alt+Up" data-jbuilder="Alt+Up" data-visual_studio="Alt+Up" data-netbeans_6.5="N/A" data-eclipse="Ctrl+Shift+Up" data-mac_os_x_10.5_="&#x2303;&#x2191;" data-mac_os_x="&#x2303;&#x2191;" data-eclipse_mac_os_x="&#x2303;&#x2325;&#x2191;" data-intellij_idea_classic_os_x="N/A" data-xcode="N/A" data-resharper="N/A" data-resharper_osx="N/A">Alt+Up</kbd>) to move the selected item
                        one line up in the list.</li><li class="list__item"><a name="d832601e344"></a>
                        Use <img alt="arrowDown" width="12" height="12" title="arrowDown" src="/help/img/idea/2016.1/arrowDown.png" class="inline-icon-12">&nbsp;(<kbd data-default="Alt+Down" data-default_for_gnome="Alt+Down" data-default_for_kde="Alt+Down" data-default_for_xwin="Alt+Down" data-emacs="Alt+Down" data-jbuilder="Alt+Down" data-visual_studio="Alt+Down" data-netbeans_6.5="N/A" data-eclipse="Ctrl+Shift+Down" data-mac_os_x_10.5_="&#x2303;&#x2193;" data-mac_os_x="&#x2303;&#x2193;" data-eclipse_mac_os_x="&#x2303;&#x2325;&#x2193;" data-intellij_idea_classic_os_x="N/A" data-xcode="N/A" data-resharper="N/A" data-resharper_osx="N/A">Alt+Down</kbd>) to move the selected item
                        one line down in the list.</li></ul></li><li class="list__item"><a name="d832601e351"></a>
                Click <a name="d832601e353"></a><span class="control">OK</span> in the <a name="d832601e356"></a><span class="control">Project Structure</span> dialog.</li></ol>
    <div class="navigation-links _bottom"><a class="navigation-links__prev" href="using-the-push-itds-in-refactoring.html">Using the Push ITDs In Refactoring</a><a class="navigation-links__next" href="build-tools.html">Build Tools</a></div><section class="seealso"><div class="seealso__header"><h2>See Also</h2></div><div class="seealso__content"><div class="seealso__col"><h3>Procedures:</h3><ul class="list"><li class="list__item"><a name="d832601e365"></a><a href="enabling-aspectj-support-plugins.html"><span>Enabling AspectJ Support Plugins</span></a></li><li class="list__item"><a name="d832601e367"></a><a href="creating-a-library-for-aspectjrt-jar.html"><span>Creating a Library for aspectjrt.jar</span></a></li><li class="list__item"><a name="d832601e369"></a><a href="compiling-applications.html"><span>Compiling Applications</span></a></li></ul></div><div class="seealso__col"><h3>Reference:</h3><ul class="list"><li class="list__item"><a name="d832601e376"></a><a href="compiler-java-compiler.html"><span>Compiler. Java Compiler</span></a></li><li class="list__item"><a name="d832601e380"></a><a href="aspectj-facet-page.html"><span>AspectJ Facet Page</span></a></li><li class="list__item"><a name="d832601e382"></a><a href="project-structure-dialog.html"><span>Project Structure Dialog</span></a></li></ul></div></div></section><div class="last-modified">Last modified: 13 July 2016 </div></article><div id="disqus_thread"></div></div></section></main></div><script src="/help/app/app.js"></script></body></html>