<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta name="robots" content="noindex"></meta><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><title>refactoring extract constant</title><link rel="stylesheet" href="/help/app/app.css"></head><body data-id="procedures.refactoring.introduceConstant"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><div class="wrapper"><section class="panel _nav"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search IntelliJ IDEA Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header"><div class="container"><h3>IntelliJ IDEA 2016.1 Help</h3><div class="shortcuts-switcher"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="primary" value="default" selected>Default (Windows/Linux)</option><option data-group="primary" value="default_for_gnome">GNOME</option><option data-group="primary" value="default_for_kde">KDE</option><option data-group="primary" value="default_for_xwin">XWindow</option><option data-group="primary" value="emacs">Emacs</option><option data-group="primary" value="jbuilder">JBuilder</option><option data-group="primary" value="visual_studio">Visual Studio</option><option data-group="primary" value="netbeans_6.5">NetBeans 6.5</option><option data-group="primary" value="eclipse">Eclipse</option><option data-group="secondary" value="mac_os_x_10.5_">Default (Mac OS X 10.5+)</option><option data-group="secondary" value="mac_os_x">OS X</option><option data-group="secondary" value="eclipse_mac_os_x">OS X Eclipse</option><option data-group="secondary" value="intellij_idea_classic_os_x">IntelliJ IDEA Classic (OS X)</option><option data-group="secondary" value="xcode">Xcode</option><option data-group="secondary" value="visual_studio">Visual Studio</option><option data-group="secondary" value="resharper">ReSharper</option><option data-group="secondary" value="resharper_osx">ReSharper OSX</option><option data-group="secondary" value="emacs">Emacs</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="true"><div class="navigation-links _top"><a class="navigation-links__prev" href="extract-superclass.html">Extract Superclass</a><a class="navigation-links__next" href="extract-field.html">Extract Field</a></div><h1>Extract Constant</h1><a name="d1857585e18"></a><p>
                    The <a name="d1857585e20"></a><span class="emphasis">Extract Constant</span> refactoring is a special case of the
                    <a name="d1857585e23"></a><a href="extract-field.html"><span>Extract Field refactoring</span></a> intended to provide a fast and convenient way
                    to create final static fields.</p><a name="d1857585e33"></a><p>On this page:</p><ul><li class="list__item"><a href="#d1857585e42">Example</a></li><li class="list__item"><a href="#d1857585e172">Extracting a Java constant in-place</a></li><li class="list__item"><a href="#d1857585e283">Extracting a constant using the dialog box</a></li></ul><a name="example"></a><a name="d1857585e42"></a><h2>Example</h2><table class="" width="100%" id="d1857585e45"><thead><tr id="d1857585e49" class="ijRowHead"><a name="d1857585e49"></a><th width="50%"><a name="d1857585e51"></a>Before</th><th width="50%"><a name="d1857585e54"></a>After</th></tr></thead><tbody><tr id="d1857585e61" class="ijRowOdd"><a name="d1857585e61"></a><td><a name="d1857585e63"></a>
                  <a name="d1857585e65"></a><div class="code-block" data-lang="Java"><code class="code-block__wrapper"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Class</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">method</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">String</span> <span class="n">string</span> <span class="o">=</span> <span class="s">&quot;string&quot;</span><span class="o">;</span>
        <span class="n">ArrayList</span> <span class="n">list</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">();</span>
        <span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">string</span><span class="o">);</span>
        <span class="n">anotherMethod</span><span class="o">(</span><span class="n">string</span><span class="o">);</span>
        <span class="o">...</span>
    <span class="o">}</span>
<span class="o">}</span></code></div>
               </td><td><a name="d1857585e69"></a>
                  <a name="d1857585e71"></a><div class="code-block" data-lang="Java"><code class="code-block__wrapper"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Class</span> <span class="o">{</span>
    <span class="nd">@NonNls</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">STRING</span> <span class="o">=</span><span class="s">&quot;string&quot;</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">method</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">ArrayList</span> <span class="n">list</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">();</span>
        <span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">STRING</span><span class="o">);</span>
        <span class="n">anotherMethod</span><span class="o">(</span><span class="n">STRING</span><span class="o">);</span>
        <span class="o">...</span>
    <span class="o">}</span>
<span class="o">}</span></code></div>
               </td></tr><tr id="d1857585e76" class="ijRowEven"><a name="d1857585e76"></a><td><a name="d1857585e78"></a>
                  <a name="d1857585e80"></a><div class="code-block" data-lang="Java"><code class="code-block__wrapper"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Class</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">method</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">ArrayList</span> <span class="n">list</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">();</span>
        <span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">&quot;string&quot;</span><span class="o">);</span>
        <span class="n">anotherMethod</span><span class="o">(</span><span class="s">&quot;string&quot;</span><span class="o">);</span>
        <span class="o">...</span>
    <span class="o">}</span>
<span class="o">}</span></code></div>
               </td><td><a name="d1857585e84"></a>
                  <a name="d1857585e86"></a><div class="code-block" data-lang="Java"><code class="code-block__wrapper"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Class</span> <span class="o">{</span>
    <span class="nd">@NonNls</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">STRING</span> <span class="o">=</span><span class="s">&quot;string&quot;</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">method</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">ArrayList</span> <span class="n">list</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">();</span>
        <span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">STRING</span><span class="o">);</span>
        <span class="n">anotherMethod</span><span class="o">(</span><span class="n">STRING</span><span class="o">);</span>
        <span class="o">...</span>
    <span class="o">}</span>
<span class="o">}</span></code></div>
               </td></tr></tbody></table><a name="in_place"></a><a name="d1857585e172"></a><a name="dynaProc0"></a><section class="procedure-steps"><h2>To extract a Java constant in-place</h2><p>
                <a name="d1857585e178"></a><p>
                    The
                    <a name="d1857585e180"></a><a href="general.html#in_place_refactorings"><span>in-place refactorings</span></a>
                    are enabled in IntelliJ IDEA by default.
                    So, if you haven't changed this setting, the Extract Constant refactoring for Java is
                    performed in-place, right in the editor:
                </p>
            </p><ol class=".list _decimal"><li class="list__item">
                Place the cursor within the expression or declaration of a variable to be replaced by a constant.
            </li><li class="list__item">
                Do one of the following:
                <ul class="list _ul"><li class="list__item"><a name="d1857585e192"></a>Press <kbd data-default="Ctrl+Alt+C" data-default_for_gnome="Ctrl+Alt+C" data-default_for_kde="Ctrl+Alt+C" data-default_for_xwin="Ctrl+Alt+C" data-emacs="Ctrl+Alt+C" data-jbuilder="Ctrl+Alt+C" data-visual_studio="Ctrl+Alt+C" data-netbeans_6.5="N/A" data-eclipse="Ctrl+Alt+C" data-mac_os_x_10.5_="&#x2325;&#x2318;C" data-mac_os_x="&#x2325;&#x2318;C" data-eclipse_mac_os_x="N/A" data-intellij_idea_classic_os_x="N/A" data-xcode="N/A" data-resharper="N/A" data-resharper_osx="N/A">Ctrl+Alt+C</kbd>.</li><li class="list__item"><a name="d1857585e197"></a>Choose <a name="d1857585e199"></a><span class="control">Refactor | Extract Constant</span> on the main menu or  on the context menu.</li></ul>
            </li><li class="list__item">
                 

    If more than one expression is detected for the current cursor position, the <a name="d2333e4813"></a><span class="control">Expressions</span> list appears.
    If this is the case, select the required expression. To do that, click the expression.
    Alternatively, use the <kbd>Up</kbd> and <kbd>Down</kbd> arrow keys to navigate to the expression of interest,
    and then press <kbd data-default="Enter" data-default_for_gnome="Enter" data-default_for_kde="Enter" data-default_for_xwin="Enter" data-emacs="Enter" data-jbuilder="Enter" data-visual_studio="Enter" data-netbeans_6.5="N/A" data-eclipse="Enter" data-mac_os_x_10.5_="⏎" data-mac_os_x="⏎" data-eclipse_mac_os_x="⏎" data-intellij_idea_classic_os_x="N/A" data-xcode="N/A" data-resharper="N/A" data-resharper_osx="N/A">Enter</kbd> to select it.
       

     
                <figure><img alt="IntroduceConstant_Java_InPlace_SelectExpression" width="367" height="171" title="IntroduceConstant_Java_InPlace_SelectExpression" src="/help/img/idea/2016.1/IntroduceConstant_Java_InPlace_SelectExpression.png"></figure>
                 
                 
            </li><li class="list__item">
                If more than one occurrence of the expression is found within the class, specify whether you wish
                to replace only the selected occurrence, or all the found occurrences with the new constant.
                 
            </li><li class="list__item">
                If you want the constant to be defined in a different class, select the
                <a name="d1857585e226"></a><span class="control">Move to another class</span> check box.
            </li><li class="list__item">
                If necessary, change the type of the new constant.
                <a name="d1857585e240"></a><p>
                    To move to the type, press
                    <kbd data-default="Shift+Tab" data-default_for_gnome="Shift+Tab" data-default_for_kde="Shift+Tab" data-default_for_xwin="Shift+Tab" data-emacs="Shift+Tab" data-jbuilder="Shift+Tab" data-visual_studio="Shift+Tab" data-netbeans_6.5="N/A" data-eclipse="Shift+Tab" data-mac_os_x_10.5_="&#x21E7;&#x21E5;" data-mac_os_x="&#x21E7;&#x21E5;" data-eclipse_mac_os_x="&#x21E7;&#x21E5;" data-intellij_idea_classic_os_x="N/A" data-xcode="N/A" data-resharper="N/A" data-resharper_osx="N/A">Shift+Tab</kbd>.
                    Then, select the required type from the list, or edit the type in the box with the red border.
                </p>
                <a name="d1857585e245"></a><p>
                    Now, to move back to the constant name, press
                    <kbd data-default="Tab" data-default_for_gnome="Tab" data-default_for_kde="Tab" data-default_for_xwin="Tab" data-emacs="Tab" data-jbuilder="Tab" data-visual_studio="Tab" data-netbeans_6.5="N/A" data-eclipse="Tab" data-mac_os_x_10.5_="&#x21E5;" data-mac_os_x="&#x21E5;" data-eclipse_mac_os_x="&#x21E5;" data-intellij_idea_classic_os_x="N/A" data-xcode="N/A" data-resharper="N/A" data-resharper_osx="N/A">Tab</kbd>.
                </p>
            </li><li class="list__item">
                Specify the name of the constant. Select the name from the list or type the name in the box with a red
                border.
                <figure><img alt="IntroduceConstant_Java_InPlace_SpecifySettings" width="377" height="204" title="IntroduceConstant_Java_InPlace_SpecifySettings" src="/help/img/idea/2016.1/IntroduceConstant_Java_InPlace_SpecifySettings.png"></figure>
                 
            </li><li class="list__item">
                To complete the refactoring, press
                <kbd data-default="Tab" data-default_for_gnome="Tab" data-default_for_kde="Tab" data-default_for_xwin="Tab" data-emacs="N/A" data-jbuilder="F2" data-visual_studio="Tab" data-netbeans_6.5="N/A" data-eclipse="Tab" data-mac_os_x_10.5_="&#x21E5;" data-mac_os_x="&#x21E5;" data-eclipse_mac_os_x="&#x21E5;" data-intellij_idea_classic_os_x="N/A" data-xcode="N/A" data-resharper="N/A" data-resharper_osx="N/A">Tab</kbd>
                or
                <kbd data-default="Enter" data-default_for_gnome="Enter" data-default_for_kde="Enter" data-default_for_xwin="Enter" data-emacs="Enter" data-jbuilder="Enter" data-visual_studio="Enter" data-netbeans_6.5="N/A" data-eclipse="Enter" data-mac_os_x_10.5_="⏎" data-mac_os_x="⏎" data-eclipse_mac_os_x="⏎" data-intellij_idea_classic_os_x="N/A" data-xcode="N/A" data-resharper="N/A" data-resharper_osx="N/A">Enter</kbd>.
                <a name="d1857585e265"></a><p>If you haven't completed the refactoring and want to cancel the changes you have made, press
                    <kbd data-default="Escape" data-default_for_gnome="Escape" data-default_for_kde="Escape" data-default_for_xwin="Escape" data-emacs="Escape, Escape" data-jbuilder="Escape" data-visual_studio="Escape" data-netbeans_6.5="N/A" data-eclipse="Escape" data-mac_os_x_10.5_="&#x238B;" data-mac_os_x="&#x238B;" data-eclipse_mac_os_x="&#x238B;" data-intellij_idea_classic_os_x="N/A" data-xcode="N/A" data-resharper="N/A" data-resharper_osx="N/A">Escape</kbd>.
                </p>
                 
            </li><li class="list__item">
                If you have selected to move the constant definition to a different class, specify the associated
                settings in the
                <a name="d1857585e276"></a><a href="move-members-dialog.html"><span>Move Members dialog</span></a>.
            </li></ol></section><a name="dialog"></a><a name="d1857585e283"></a><a name="dynaProc1"></a><section class="procedure-steps"><h2>To extract a constant using the dialog box</h2><p>
            <a name="d1857585e287"></a><p>If the <a name="d1857585e289"></a><span class="control">Enable in-place refactorings</span> check box is cleared on the Editor settings,
                    the <a name="d1857585e292"></a><span class="control">Extract Constant</span> refactoring is performed by means of the
              <a name="d1857585e295"></a><a href="extract-constant-dialog.html"><span>Extract Constant Dialog</span></a>
                dialog box.</p>
            <figure><img alt="enableInplaceRefactoringCleared" width="551" height="290" title="enableInplaceRefactoringCleared" src="/help/img/idea/2016.1/enableInplaceRefactoringCleared.png"></figure>
        </p><ol class=".list _decimal"><li class="list__item">
                    If you are working with Java code, make sure that the
                    <a name="d1857585e306"></a><a href="general.html#in_place_refactorings"><span>Enable in place refactorings</span></a> option is off in the editor settings.
                    (By default, the Extract Constant refactorings for Java are performed <a name="d1857585e309"></a><a href="#in_place"><span>in-place</span></a>.)</li><li class="list__item">
                    In the editor, select the expression or variable to be replaced with a constant, or just place the cursor within such an expression
                    or variable declaration.</li><li class="list__item">
                    In the main or the context menu, choose <a name="d1857585e318"></a><span class="menupath">Refactor | Extract Constant</span>,
                    or press <kbd data-default="Ctrl+Alt+C" data-default_for_gnome="Ctrl+Alt+C" data-default_for_kde="Ctrl+Alt+C" data-default_for_xwin="Ctrl+Alt+C" data-emacs="Ctrl+Alt+C" data-jbuilder="Ctrl+Alt+C" data-visual_studio="Ctrl+Alt+C" data-netbeans_6.5="N/A" data-eclipse="Ctrl+Alt+C" data-mac_os_x_10.5_="&#x2325;&#x2318;C" data-mac_os_x="&#x2325;&#x2318;C" data-eclipse_mac_os_x="N/A" data-intellij_idea_classic_os_x="N/A" data-xcode="N/A" data-resharper="N/A" data-resharper_osx="N/A">Ctrl+Alt+C</kbd>.</li><li class="list__item">
                
        In the <a name="d2333e4701"></a><span class="control">Expressions</span> pop-up menu, select the expression to be replaced.
        Note that IntelliJ IDEA highlights the selected expression in the editor.
     
            </li><li class="list__item">In the <a name="d1857585e352"></a><a href="extract-constant-dialog.html"><span>Extract Constant Dialog</span></a> dialog that opens:
                    <ol class="list _decimal"><li class="list__item"><a name="d1857585e356"></a>Specify the name of the new constant.</li><li class="list__item"><a name="d1857585e359"></a>Select the class where the constant will be introduced.
                            If you select an <code class="code" data-lang="Java">enum</code> class here, use the <a name="d1857585e364"></a><span class="control">Introduce as enum constant</span> option
                            to specify whether the constant should be an <code class="code" data-lang="Java">enum</code> constant, or a usual field.</li><li class="list__item"><a name="d1857585e371"></a>
                            In the <a name="d1857585e373"></a><span class="control">Visibility</span> area, select the visibility scope for the new constant.</li><li class="list__item"><a name="d1857585e377"></a>
                            If the new constant is going to replace an existing variable, you can choose to delete the corresponding variable declaration.
                            To do that, use the <a name="d1857585e379"></a><span class="control">Delete variable declaration</span> check box.</li><li class="list__item"><a name="d1857585e383"></a>
                            To replace all the occurrences of the selected expression (if the selected expression is
                            found more than once in the class), select the <a name="d1857585e385"></a><span class="control">Replace all occurrences</span> check box.</li><li class="list__item"><a name="d1857585e390"></a>
                            In the projects configured for using annotations, you can annotate the constant of the String type
                            as <code class="code" data-lang="Java">@NonNls</code> to prevent it from change during possible localizations.
                            To do so, select the option <a name="d1857585e395"></a><span class="control">Annotate field as @NonNls</span>.</li><li class="list__item"><a name="d1857585e399"></a>
                            Click <a name="d1857585e401"></a><span class="control">OK</span>.</li></ol>
            </li></ol><aside class="tip sideblock">
               <a name="d1857585e409"></a><p>
                        You can also invoke the refactoring from the intention action drop-down menu:</p>
               <figure><img alt="img" width="287" height="115" title="img" src="/help/img/idea/2016.1/introduceConstant.png"></figure>
            </aside></section><div class="navigation-links _bottom"><a class="navigation-links__prev" href="extract-superclass.html">Extract Superclass</a><a class="navigation-links__next" href="extract-field.html">Extract Field</a></div><section class="seealso"><div class="seealso__header"><h2>See Also</h2></div><div class="seealso__content"><div class="seealso__col"><h3>Reference:</h3><ul class="list"><li class="list__item"><a name="d1857585e682"></a><a href="extract-constant-dialog.html"><span>Extract Constant Dialog</span></a></li></ul></div></div></section><div class="last-modified">Last modified: 13 July 2016 </div></article><div id="disqus_thread"></div></div></section></main></div><script src="/help/app/app.js"></script></body></html>