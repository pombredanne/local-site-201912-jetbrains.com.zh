<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta name="robots" content="noindex"></meta><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><title>IntelliJ IDEA 2016.1 Help :: Stashing and Unstashing Changes</title><link rel="stylesheet" href="/help/app/app.css"></head><body data-id="topicId948861"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><div class="wrapper"><section class="panel _nav"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search IntelliJ IDEA Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header"><div class="container"><h3>IntelliJ IDEA 2016.1 Help</h3><div class="shortcuts-switcher"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="primary" value="default" selected>Default (Windows/Linux)</option><option data-group="primary" value="default_for_gnome">GNOME</option><option data-group="primary" value="default_for_kde">KDE</option><option data-group="primary" value="default_for_xwin">XWindow</option><option data-group="primary" value="emacs">Emacs</option><option data-group="primary" value="jbuilder">JBuilder</option><option data-group="primary" value="visual_studio">Visual Studio</option><option data-group="primary" value="netbeans_6.5">NetBeans 6.5</option><option data-group="primary" value="eclipse">Eclipse</option><option data-group="secondary" value="mac_os_x_10.5_">Default (Mac OS X 10.5+)</option><option data-group="secondary" value="mac_os_x">OS X</option><option data-group="secondary" value="eclipse_mac_os_x">OS X Eclipse</option><option data-group="secondary" value="intellij_idea_classic_os_x">IntelliJ IDEA Classic (OS X)</option><option data-group="secondary" value="xcode">Xcode</option><option data-group="secondary" value="visual_studio">Visual Studio</option><option data-group="secondary" value="resharper">ReSharper</option><option data-group="secondary" value="resharper_osx">ReSharper OSX</option><option data-group="secondary" value="emacs">Emacs</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="false"><div class="navigation-links _top"><a class="navigation-links__prev" href="setting-up-a-local-git-repository.html">Setting up a Local Git Repository</a><a class="navigation-links__next" href="pulling-changes-from-the-upstream-git-pull.html">Pulling Changes from the Upstream (Git Pull)</a></div><h1>Stashing and Unstashing Changes</h1><a name="d1970974e5"></a><h2>Stashing</h2>
      <a name="d1970974e7"></a><p>Sometimes it may be necessary to revert your working copy to match the HEAD commit but you do not want to lose the work you have already done.
            This may happen if you learn that there are upstream changes that are possibly relevant to what you are doing or if you need to make some urgent fixes.         
        </p>
      <a name="d1970974e10"></a><p>
        <a name="d1970974e12"></a><a href="#stash"><span>Stashing</span></a> involves recording the difference between the HEAD commit and the current state of the working directory (stash).
          Changes to the index can be stashed as well.</p>
      <a name="d1970974e16"></a><p>
        <a name="d1970974e18"></a><a href="#unstash"><span>Unstashing</span></a> involves applying a stored stash to a branch.</p>
      <a name="d1970974e22"></a><p>You can apply a stash to an <a name="d1970974e24"></a><a href="#1"><span>existing branch</span></a> or create a <a name="d1970974e27"></a><a href="#2"><span>new branch</span></a> on its basis.</p>

        <a name="d1970974e31"></a><p>A stash can be applied as many times as you need to any branch you need, just <a name="d1970974e33"></a><a href="checking-out-switching-between-branches.html"><span>switch</span></a>
             to the required branch. Keep in mind that:</p>
        <ul class="list _bullet"><li class="list__item"><a name="d1970974e40"></a>Applying a stash after a series of commits results in conflicts that need resolving.</li><li class="list__item"><a name="d1970974e43"></a>A stash cannot be applied to a "dirty" working copy, that is a working copy to which changes have been made since the latest commit.</li></ul>

      <a name="d1970974e47"></a><p>You can store stashes in a list as long as you need and <a name="d1970974e49"></a><a href="#remove"><span>remove</span></a> them from the list when necessary.</p>


    <a name="stash"></a>
    <a name="d1970974e55"></a><a name="dynaProc0"></a><section class="procedure-steps"><h2>To save modifications to a new stash</h2><ol class=".list _decimal"><li class="list__item">On the main menu, choose <a name="d1970974e59"></a><span class="menupath">VCS | Git | Stash Changes</span>. The <a name="d1970974e62"></a><a href="stash-dialog.html"><span>Stash</span></a> dialog box opens.</li><li class="list__item">Select the relevant Git root and make sure that the correct branch is checked out.</li><li class="list__item">In the <a name="d1970974e71"></a><span class="control">Message</span> text box, describe the changes to be stashed.
            <aside class="tip sideblock">
            <a name="d1970974e76"></a><p>To stash the local changes and bring the changes staged in the index to your working tree for examination and testing,
                select the <a name="d1970974e78"></a><span class="control">Keep Index</span> check box.</p>
         </aside>
      </li></ol></section>
    <a name="unstash"></a>
    <a name="1"></a>
    <a name="d1970974e90"></a><a name="dynaProc1"></a><section class="procedure-steps"><h2>To apply a stash to the same branch</h2><ol class=".list _decimal"><li class="list__item">On the main menu, choose <a name="d1970974e94"></a><span class="menupath">VCS | Git | Unstash Changes</span>. The <a name="d1970974e97"></a><a href="unstash-changes-dialog.html"><span>Unstash Changes</span></a> dialog box
                opens.</li><li class="list__item">Select the Git root where you want to apply a stash and make sure that the correct branch is checked out.</li><li class="list__item">In the <a name="d1970974e106"></a><span class="control">Stashes</span> list, select the relevant stash.
                <aside class="tip sideblock">
            <a name="d1970974e111"></a><p>Examine the stash descriptions and the names of the branches where specific stashes were created to find the stash you need.</p>
         </aside>
      </li><li class="list__item">Click the <a name="d1970974e118"></a><span class="control">View</span> button to open the <a name="d1970974e121"></a><span class="control">Paths affected in commit</span> dialog box
                    and find out which files are affected in the selected stash.</li><li class="list__item">Specify additional unstash options:
                 <ul class="list _bullet"><li class="list__item"><a name="d1970974e129"></a>To have the selected stash removed from the list after it is applied, select the <a name="d1970974e131"></a><span class="control">Pop stash</span> check box.</li><li class="list__item"><a name="d1970974e135"></a>To have the stashed index modifications applied, select the <a name="d1970974e137"></a><span class="control">Reinstate Index</span> check box.
                     <aside class="warning ">
                  <a name="d1970974e142"></a><p>This operation may fail if you have conflicts. This happens because conflicts are stored in the index,
                         where you can no longer apply the changes as they were originally.</p>
               </aside>
            </li></ul>
      </li></ol></section>
    <a name="2"></a>
    <a name="d1970974e152"></a><a name="dynaProc2"></a><section class="procedure-steps"><h2>To create a new branch on the basis of a stash</h2><ol class=".list _decimal"><li class="list__item">On the main menu, choose <a name="d1970974e156"></a><span class="menupath">VCS | Git | Unstash Changes</span>. The <a name="d1970974e159"></a><a href="unstash-changes-dialog.html"><span>Unstash Changes</span></a> dialog box
                opens.</li><li class="list__item">Select the Git root where you want to apply a stash.</li><li class="list__item">In the <a name="d1970974e168"></a><span class="control">Stashes</span> list, select the relevant stash.</li><li class="list__item">In the <a name="d1970974e174"></a><span class="control">As new branch</span> text box, type the name of the new branch to be created.</li></ol></section>
    <a name="remove"></a>
    <a name="d1970974e181"></a><a name="dynaProc3"></a><section class="procedure-steps"><h2>To remove one or several available stashes</h2><ol class=".list _decimal"><li class="list__item">On the main menu, choose <a name="d1970974e185"></a><span class="menupath">VCS | Git | Unstash Changes</span>. The <a name="d1970974e188"></a><a href="unstash-changes-dialog.html"><span>Unstash Changes</span></a> dialog box
                opens.</li><li class="list__item">In the <a name="d1970974e194"></a><span class="control">Stashes</span> list, select the stashes to be removed and click the <a name="d1970974e197"></a><span class="control">Drop</span> button.
            <aside class="tip sideblock">
            <a name="d1970974e202"></a><p>To remove all stashes from the list, click the <a name="d1970974e204"></a><span class="control">Clear</span> button.</p>
         </aside>
      </li></ol></section>
<a name="d1970974e212"></a><h2>Stashing and Shelving</h2>

            <a name="d1970974e214"></a><p>As you might have noticed, <a name="d1970974e216"></a><span class="keyword">Stashing</span> and <a name="d1970974e219"></a><span class="keyword">Unstashing</span>
                have much in common with <a name="d1970974e222"></a><a href="shelving-and-unshelving-changes.html"><span>Shelving</span></a> and <a name="d1970974e225"></a><a href="shelving-and-unshelving-changes.html"><span>Unshelving</span></a> respectively.</p>
            <a name="d1970974e229"></a><p>The only difference is in the way patches are generated and applied:</p>
             
                <ul class="list _bullet"><li class="list__item"><a name="d1970974e236"></a>Patches with <a name="d1970974e238"></a><span class="control">stashed</span> changes are generated by Git itself. To apply them later, you do not need IntelliJ IDEA.</li><li class="list__item"><a name="d1970974e242"></a>Patches with  <a name="d1970974e244"></a><span class="control">shelved</span> changes are generated by IntelliJ IDEA. Normally, they are also applied through the IDE.
                        Applying shelved changes outside IntelliJ IDEA is also possible but requires additional steps. </li></ul>
             
    <div class="navigation-links _bottom"><a class="navigation-links__prev" href="setting-up-a-local-git-repository.html">Setting up a Local Git Repository</a><a class="navigation-links__next" href="pulling-changes-from-the-upstream-git-pull.html">Pulling Changes from the Upstream (Git Pull)</a></div><section class="seealso"><div class="seealso__header"><h2>See Also</h2></div><div class="seealso__content"><div class="seealso__col"><h3>Procedures:</h3><ul class="list"><li class="list__item"><a name="d1970974e266"></a><a href="shelving-and-unshelving-changes.html"><span>Shelving and Unshelving Changes</span></a></li><li class="list__item"><a name="d1970974e270"></a><a href="version-control-with-intellij-idea.html"><span>Version Control with IntelliJ IDEA</span></a></li></ul></div><div class="seealso__col"><h3>Reference:</h3><ul class="list"><li class="list__item"><a name="d1970974e277"></a><a href="version-control-reference.html"><span>Version Control Reference</span></a></li><li class="list__item"><a name="d1970974e281"></a><a href="stash-dialog.html"><span>Stash Dialog</span></a></li><li class="list__item"><a name="d1970974e285"></a><a href="unstash-changes-dialog.html"><span>Unstash Changes Dialog</span></a></li></ul></div><div class="seealso__col"><h3>Concepts:</h3><ul class="list"><li class="list__item"><a name="d1970974e255"></a><a href="shelved-changes.html"><span>Shelved Changes</span></a></li><li class="list__item"><a name="d1970974e259"></a><a href="concepts-of-version-control.html"><span>Concepts of Version Control</span></a></li></ul></div><div class="seealso__col"><h3>External Links:</h3><ul class="list"><li class="list__item"><a name="d1970974e292"></a><a href="http://schacon.github.com/git/git-stash.html" data-external="true"><span>http://schacon.github.com/git/git-stash.html</span></a></li></ul></div></div></section><div class="last-modified">Last modified: 13 July 2016 </div></article><div id="disqus_thread"></div></div></section></main></div><script src="/help/app/app.js"></script></body></html>