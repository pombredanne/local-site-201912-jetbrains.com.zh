<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>用PHPUnit测试-帮助|帮助IntelliJ IDEA</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body  data-id="Using_PhpUnit_framework" data-breadcrumbs="Language and framework-specific guidelines/PHP-Specific_Guidelines.xml|PHP/Testing_PHP_Applications.xml|Testing PHP Applications/Using_PHPUnit_framework.xml|Testing with PHPUnit" data-main-title="Testing with PHPUnit" data-article-props="
                {
                
            " seeals=":[=" titl=":=" procedure=",=" link=":=" ur=":" using-the-composer-dependency-manager.htm="," tex=":" composer="" dependency="" manage="}=" how="" to=",=" https:="" ="" www.youtube.com="" watch?v="NztroIqNBZA","text":"Video:" running="" phpunit="" tests="" locall="}=" }="" docke="}=" referenc=",=" php.htm="," ph="}=" run-debug-configuration-phpunit.htm="," run="" debug="" configuration:="" phpuni="}=" test-runner-tab.htm="," test="" runner="" ta="}="><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索IntelliJ IDEA帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>IntelliJ IDEA 2019.3帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option value="primary_default_for_windows" data-group="primary" selected>Windows的默认设置</option><option value="primary_eclipse" data-group="primary">日食</option><option value="primary_emacs" data-group="primary">埃马克斯</option><option value="primary_netbeans" data-group="primary">NetBeans</option><option value="primary_sublime_text" data-group="primary">崇高文字</option><option value="primary_visual_studio" data-group="primary">视觉工作室</option><option value="secondary_macos" data-group="secondary">苹果系统</option><option value="secondary_eclipse" data-group="secondary">日食</option><option value="secondary_eclipse_macos" data-group="secondary">Eclipse（macOS）</option><option value="secondary_emacs" data-group="secondary">埃马克斯</option><option value="secondary_intellij_idea_classic" data-group="secondary">IntelliJ IDEA经典版</option><option value="secondary_netbeans" data-group="secondary">NetBeans</option><option value="secondary_sublime_text" data-group="secondary">崇高文字</option><option value="secondary_sublime_text_macos" data-group="secondary">崇高文字（macOS）</option><option value="secondary_visual_studio" data-group="secondary">视觉工作室</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 id="Using_PHPUnit_framework.xml" data-toc="Using_PhpUnit_framework" data-availability-limit="Ultimate">用PHPUnit测试</h1>                                <p id="28b44332">              <a name="PHPUnitIntegration"></a> IntelliJ IDEA通过与<a href="http://www.phpunit.de/" rel="noopener noreferrer" data-external="true" target="_blank">PHPUnit</a>测试框架集成来支持PHP应用程序的单元测试。</p>    <div class="chapter"><h2 id="php_test_frameworks_phpunit_before_you_start">在你开始前</h2>        <ol class="list _decimal"><li class="list__item" id="3b590764">                <p id="f723b86f">确保已安装并启用<span class="emphasis">PHP</span>插件。 <a name="repositoryPluginsForProductsSingular"></a>                的<span class="emphasis"></span>该插件未与IntelliJ IDEA捆绑在一起，但可以如<a href="managing-plugins.html">管理插件中</a>所述从<span class="emphasis">JetBrains插件存储库</span>安装。</p>            </li><li class="list__item" id="c4919e99"><p>                <a name="makeSurePhpInterpreterInstalledAndConfigured"></a>确保PHP解释器中的IntelliJ IDEA配置的<a href="php.html">PHP页面</a> ，如在<a href="configuring-local-interpreter.html">配置本地PHP解释器</a>和<a href="configuring-remote-interpreters.html">配置远程PHP解释器</a> 。</p></li></ol>            </div>    <div class="chapter"><h2 id="php_test_frameworks_phpunit_download">下载并安装PHPUnit</h2>        <p id="28b1b1b4">在你开始前， <a name="composer-prereq"></a>确保Composer已安装在计算机上并按照<a href="using-the-composer-dependency-manager.html">Composer Dependency Manager中</a>所述在当前项目中初始化。</p>        <section class="procedure-steps"><h3 id="b2f4662c">手动下载并安装phpunit.phar</h3><ul class="list "><li class="list__item" id="5522da15">                <a name="manual_test_framework_download"></a>                                        <p id="f50166d1">从<a href="https://phpunit.de/manual/current/en/installation.html" rel="noopener noreferrer" data-external="true" target="_blank">PHPUnit官方网站</a>下载<span class="filepath">phpunit.phar</span>并将其保存在您的计算机上：</p>        <ul class="list _bullet"><li class="list__item" id="93140f00"><p>如果您除了需要运行PHPUnit测试的能力之外还需要完整的编码帮助，请将<span class="filepath">phpunit.phar</span>存储在项目的根目录下，以后将使用PHPUnit。</p></li><li class="list__item" id="bba982be"><p>如果您只需要运行PHPUnit测试，并且不需要任何编码帮助，则可以将<span class="filepath">phpunit.phar</span>保存在项目外部。</p></li></ul>                </li></ul></section>        <section class="procedure-steps"><h3 id="phpunit_install_with_composer">使用Composer下载并安装phpunit.phar</h3><a name="install_composer_package"></a><ol class="list _decimal"><li class="list__item" id="1ebd0150"><p>从<span class="filepath">composer.json</span>上下文菜单中，选择<span class="menupath" data-skip-index="skip">Composer |。管理依赖项</span> 。或者选择<span class="menupath" data-skip-index="skip">工具|作曲家|</span>从主菜单<span class="menupath" data-skip-index="skip">管理依赖关系</span> 。</p></li><li class="list__item" id="8210e295">            <p id="66663a43">在打开的“ <a href="add-composer-dependency.html">管理Composer依赖关系”对话框</a>中，从“ <span class="control">可用软件包”</span>列表中选择<span class="emphasis">phpunit / phpunit</span>软件包，可能使用搜索字段。</p>            <p id="84561c3e">                <a name="composer_choose_package_version"></a>从“ <span class="control">要安装</span>的<span class="control">版本”</span>列表中选择相关版本。</p>        </li><li class="list__item" id="736419b2">            <p id="0dfb88e9">如有必要，请展开“ <span class="control">设置”</span>隐藏区域并指定高级安装选项。在<span class="control">命令行参数</span>字段中， <a name="composer_add_dependency_advanced_settings"></a>键入其他命令行参数。</p>        </li><li class="list__item" id="abb84bc9"><p>点击<span class="control">安装</span> 。</p></li></ol></section>    </div>    <div class="chapter"><h2 id="php_test_frameworks_phpunit_integrate">将PHPUnit与IntelliJ IDEA项目集成</h2>                        <a name="automatic_setup_test_framework"></a>                                        <p id="3fec2456">如果使用<a href="configuring-local-interpreter.html">本地PHP解释器</a> ，则IntelliJ IDEA会自动执行初始PHPUnit配置。对于<a href="configuring-remote-interpreters.html">远程PHP解释器</a> ，需要手动配置PHPUnit。</p>        <section class="procedure-steps"><h3 id="27768dca">自动配置PHPUnit</h3><ol class="list _decimal"><li class="list__item" id="a9be6be5"><p>将<span class="filepath">phpunit.xml</span>或<span class="filepath">phpunit.xml.dist</span>配置文件存储在项目根目录下。</p></li><li class="list__item" id="b102775a"><p>                <a href="#phpunit_install_with_composer">用Composer安装PHPUnit</a> 。</p></li></ol><p id="10c84098">IntelliJ IDEA将在“ <a href="php-test-frameworks.html">测试框架”页面</a>上创建本地框架配置，并在<a href="run-debug-configuration-phpunit.html">PHPUnit</a>运行/调试配置中创建。</p></section>            <section class="procedure-steps"><h3 id="0d9993fd">手动配置PHPUnit</h3><ol class="list _decimal"><li class="list__item" id="choose_php_interpreter">                <a name="ps_php_test_fw_open_settings_test_frameworks"></a>        <p id="aebc7cdb">            <a name="open_settings"></a>在里面<a name="settings_dialog"></a> <span class="control">设置/首选项</span>对话框<kbd data-primary_default_for_windows="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-primary_emacs="Ctrl+Alt+S" data-primary_netbeans="Ctrl+Alt+S" data-primary_sublime_text="Ctrl+Alt+S" data-primary_visual_studio="Alt+F7" data-secondary_macos="⌘," data-secondary_eclipse="⌃⌥S" data-secondary_eclipse_macos="⌘," data-secondary_emacs="⌃⌥S" data-secondary_intellij_idea_classic="⌘," data-secondary_netbeans="⌃⌥S" data-secondary_sublime_text="⌃⌥S" data-secondary_sublime_text_macos="⌘," data-secondary_visual_studio="⌥F7">Ctrl+Alt+S</kbd> ，展开<span class="menupath" data-skip-index="skip">Languages and Frameworks</span>节点，然后选择<span class="menupath" data-skip-index="skip">PHP</span>下的<span class="menupath" data-skip-index="skip">Test Frameworks</span> 。</p>        <p id="1de2e48e">在打开的“ <a href="php-test-frameworks.html">测试框架”页面</a>上，单击<img class="inline-icon-16" src="/help/img/idea/2019.3/icons.general.add@2x.png" width="16" alt="添加图标">在中央窗格中，然后从列表中选择配置类型：</p>        <figure><img alt="ps_settings_php_test_frameworks.png" title="ps_settings_php_test_frameworks.png" src="/help/img/idea/2019.3/ps_settings_php_test_frameworks.png" id="e20e57e5" width="381" height="498"></figure>                    <a name="choose_php_interpreter_type"></a>                        <ul class="list _ul"><li class="list__item" id="334049ad">                <p id="a6b224f4">在本地配置中，使用默认项目PHP解释<a href="php.html#ps_settings_php_default_php_interpreter">器</a> ，有关详细信息，请参见<a href="php.html#ps_settings_php_default_php_interpreter">默认项目CLI解释器</a> 。</p>            </li><li class="list__item" id="69b7c9c4">                <p id="3508ffc9">要将PHPUnit与远程PHP解释器一起使用，请在打开的对话框中选择一种配置：</p>                <figure><img alt="ps_settings_php_test_frameworks_phpunit_choose_php_interpreter.png" title="ps_settings_php_test_frameworks_phpunit_choose_php_interpreter.png" src="/help/img/idea/2019.3/ps_settings_php_test_frameworks_phpunit_choose_php_interpreter.png" id="537e245f" width="525" height="350"></figure>            </li></ul>                </li><li class="list__item" id="b6588aeb">                <p id="1b78a4bd">在右侧窗格中，选择PHPUnit库安装类型：</p>                <ul class="list _bullet"><li class="list__item" id="abc1dca2"><p>要使用Composer自动加载器，请在<span class="filepath">供应商</span>文件夹中指定<span class="filepath">autoload.php</span>文件的路径。有关详细信息，请参见<a href="using-the-composer-dependency-manager.html">Composer</a> 。</p></li><li class="list__item" id="ps_phpunit_local_download_phpunit_phar">                        <p id="3e1321b9">要从<span class="filepath">phpunit.phar</span>运行PHPUnit，请下载<a href="https://phpunit.de/" rel="noopener noreferrer" data-external="true" target="_blank">phpunit.phar</a> ，将归档文件保存在项目根文件夹中，并指定其路径。对于本地配置，您可以通过单击<span class="control">下载</span>链接来下载档案。要在当前项目中使用它，请确保定义了默认的PHP解释器。</p>                        <p id="62e015a5">当您单击<img class="inline-icon-16" src="/help/img/idea/2019.3/icons.actions.refresh@2x.png" width="16" alt="重新加载按钮"> ，IntelliJ IDEA检测并显示PHPUnit版本。</p>                    </li></ul>            </li><li class="list__item" id="155251a5">                <p id="515c09cd">在“ <span class="control">测试运行器”</span>区域中， <a name="behat_test_runner_default_config_file"></a>指定用于启动和执行方案的配置<span class="filepath">XML</span>文件。<br>默认情况下，PHPUnit在项目根文件夹或<span class="filepath">config</span>文件夹中查找<span class="filepath">phpunit.xml</span>配置文件。您可以指定一个自定义配置文件。</p>                <p id="7d74b1aa">                    <a name="ps_php_bootstrap_file"></a>您也可以输入引导文件的路径<a name="phpunit_testrunner_bootstrap_file"></a>在启动测试之前始终执行PHP脚本。在字段中，指定脚本的位置。手动输入路径或单击<img class="inline-icon-16" src="/help/img/idea/2019.3/icons.general.openDisk@2x.png" width="16" alt="浏览按钮">然后在<a href="select-path-dialog.html">打开</a>的<a href="select-path-dialog.html">对话框中</a>选择所需的文件夹。</p>                <p id="af817667">                    <a name="phpunit_alternative_config"></a>请注意，在编辑<a href="run-debug-configuration-phpunit.html">PHPUnit</a>运行/调试配置时，您还可以提供备用配置和引导文件。</p>            </li></ol></section>    </div>    <div class="chapter"><h2 id="generate_phpunit_test_for_a_class_in_a_separate_file">为类生成PHPUnit测试</h2>        <section class="procedure-steps"><a name="ps-generate-test-class"></a><ol class="list _decimal"><li class="list__item" id="5885dcc4">            <p id="f39576be">通过执行以下任一操作，打开“ <span class="control">创建新的PHP测试”</span>对话框：</p>            <ul class="list _bullet"><li class="list__item" id="3d922a80"><p>在主菜单中，选择“ <span class="menupath" data-skip-index="skip">文件” |“文件”。新的</span> 。然后，选择<span class="control">PHP Test | PHPUnit测试</span>或<span class="control">PHP测试|</span>从上下文菜单中。</p></li><li class="list__item" id="1014f7fa"><p>在<span class="control">项目</span>工具窗口中，按<kbd data-primary_default_for_windows="Alt+Insert" data-primary_eclipse="Alt+Insert" data-primary_emacs="Alt+Insert" data-primary_netbeans="Alt+Insert" data-primary_sublime_text="Ctrl+N" data-primary_visual_studio="Alt+Insert" data-secondary_macos="⌘N" data-secondary_eclipse="N/A" data-secondary_eclipse_macos="⌘N" data-secondary_emacs="N/A" data-secondary_intellij_idea_classic="⌃N" data-secondary_netbeans="⌃N" data-secondary_sublime_text="⌃N" data-secondary_sublime_text_macos="⌘N" data-secondary_visual_studio="N/A">Alt+Insert</kbd>或右键单击要测试的PHP类，然后选择“ <span class="control">新建” |</span> “ <span class="control">新建”。 PHP测试| PHPUnit测试</span>或<span class="control">新建| PHP测试|</span> 。</p></li><li class="list__item" id="1a6a1f35">                    <p id="87888185">在要测试的PHP类的编辑器中，将插入号放置在类的定义内。然后，选择<span class="control">转到|</span>从上下文菜单进行<span class="control">测试</span>或按<kbd data-primary_default_for_windows="Ctrl+Shift+T" data-primary_eclipse="N/A" data-primary_emacs="Ctrl+Shift+T" data-primary_netbeans="Ctrl+Shift+T" data-primary_sublime_text="N/A" data-primary_visual_studio="Ctrl+Shift+T" data-secondary_macos="⇧⌘T" data-secondary_eclipse="N/A" data-secondary_eclipse_macos="N/A" data-secondary_emacs="⌃⇧T" data-secondary_intellij_idea_classic="⇧⌘T" data-secondary_netbeans="⌃⇧T" data-secondary_sublime_text="N/A" data-secondary_sublime_text_macos="N/A" data-secondary_visual_studio="⌃⇧T">Ctrl+Shift+T</kbd>并从弹出菜单中选择<span class="control">创建新测试</span> 。这样，您可以为一个PHP文件中的多个类之间定义的PHP类生成测试。</p>                    <p id="49737b76">要为特定方法创建测试，请将插入号放置在方法声明中。所选方法将在“ <span class="control">创建新PHP测试”</span>对话框的“ <span class="control">生成测试方法”</span>区域中自动选择。</p>                </li></ul>        </li><li class="list__item" id="73fabd6a">            <p id="886014bc">将打开“ <span class="control">创建新的PHP测试”</span>对话框。</p>            <figure><img alt="创建新的phpunit测试对话框" title="创建新的phpunit测试对话框" src="/help/img/idea/2019.3/ps_create_new_php_test_phpunit_dialog.png" id="e63d4faa" width="706" height="790"></figure>            <p id="86627368">提供生成的测试的参数：</p>            <ul class="list _bullet"><li class="list__item" id="f68f5d00"><p>测试文件模板，即IntelliJ IDEA将基于其生成测试类的模板。确保在“ <span class="control">测试文件模板”</span>列表中选择了<span class="control">PHPUnit</span>或<span class="control">PHPUnit6 +</span> 。</p></li><li class="list__item" id="4bed008d"><p>测试类的名称。IntelliJ IDEA从生产类名称中自动将名称组成为<span class="filepath"><production class="">Test.php</production></span> 。</p></li><li class="list__item" id="5356795c">                    <p id="a5dc8a99">根据生产类的包含目录和名称空间，配置的<a href="content-roots.html">测试源root</a>及其<a href="keeping-namespaces-in-compliance-with-psr0-and-psr4.html">psr-4包前缀</a>或<a href="keeping-namespaces-in-compliance-with-psr0-and-psr4.html">Windows Server 2003的</a>名称，将自动建议测试类文件的文件夹。 <code class="code">directory</code>在<a href="https://phpunit.readthedocs.io/en/8.4/configuration.html#" rel="noopener noreferrer" data-external="true" target="_blank">phpunit.xml</a>配置文件中指定的值。</p>                    <p id="ac63c7e8">要指定其他文件夹，请单击<img class="inline-icon-9" src="/help/img/idea/2019.3/icons.general.ellipsis@2x.png" width="9" alt="浏览按钮">在<span class="control">目录</span>字段旁边，然后选择相关文件夹。</p>                </li><li class="list__item" id="7a06ba33">                    <p id="905cc13e">测试类将属于的名称空间，将根据生产类的包含目录和名称空间，配置的<a href="content-roots.html">测试源root</a>及其<a href="keeping-namespaces-in-compliance-with-psr0-and-psr4.html">psr-4包前缀</a>自动建议该名称空间。</p>                </li><li class="list__item" id="e93a7e12">                    <p id="b8652273">生产类方法为其生成测试方法存根。在“ <span class="control">生成测试方法用于”</span>区域中，选中所需生产类方法旁边的复选框。要包括从父类继承的方法，请选中<span class="control">显示继承的方法</span>复选框。</p>                    <p id="cc9d68cb">IntelliJ IDEA将自动组合测试方法的名称为<code class="code">test<production method></code> 。您可以在<span class="control">“</span> <a href="settings-file-and-code-templates.html">文件和代码模板</a>设置”页面的<span class="control">“代码”</span>选项卡上自定义用于生成测试方法存根的<a href="settings-file-and-code-templates.html">代码模板</a> 。</p>                </li></ul>        </li></ol><p id="f4ac244d">测试准备就绪后，可以通过选择<span class="control">导航|</span>返回到生产类<span class="control">。去测试主题</span> 。有关详细信息，请参阅<a href="navigating-between-test-and-test-subject.html">在测试和测试主题之间导航</a> 。</p><aside class="prompt" rel="f4ac244d" id="11f1ab55" data-type="note" data-title="">            <p id="4bdf1225">如果要依靠PHPUnit配置文件来提供测试类的包含文件夹，请确保按照“ <a href="#php_test_frameworks_phpunit_integrate">将PHPUnit与IntelliJ IDEA项目集成”中的</a>描述在“ <a href="php-test-frameworks.html">测试框架”</a>页面上选择了该文件夹。</p>        </aside></section>        <div class="chapter"><h3 id="ps_phpunit_generate_test_method">生成PHPUnit测试方法</h3>            <section class="procedure-steps"><ol class="list _decimal"><li class="list__item" id="8eb72199"><p>在编辑器中打开所需的测试类，然后将插入号放置在类定义内的任何位置。</p></li><li class="list__item" id="660eb1f0"><p>在上下文菜单中选择“ <span class="control">生成</span> ”或按<kbd data-primary_default_for_windows="Alt+Insert" data-primary_eclipse="Alt+Insert" data-primary_emacs="Alt+Insert" data-primary_netbeans="Alt+Insert" data-primary_sublime_text="Alt+Insert" data-primary_visual_studio="Ctrl+N" data-secondary_macos="⌘N" data-secondary_eclipse="N/A" data-secondary_eclipse_macos="⌘N" data-secondary_emacs="N/A" data-secondary_intellij_idea_classic="⌃N" data-secondary_netbeans="N/A" data-secondary_sublime_text="N/A" data-secondary_sublime_text_macos="⌘N" data-secondary_visual_studio="⌃N">Alt+Insert</kbd> 。然后从“ <span class="control">生成”</span>列表中选择“ <span class="control">测试方法</span> ”。</p></li><li class="list__item" id="128bd5a9">                    <p id="59d58668">设置测试<span class="emphasis">夹具</span> ，即为测试开始之前模拟所需环境的代码生成存根，并在测试结束后返回原始环境：</p>                    <ul class="list _ul"><li class="list__item" id="51000afb"><p>在上下文菜单中选择“ <span class="control">生成</span> ”或按<kbd data-primary_default_for_windows="Alt+Insert" data-primary_eclipse="Alt+Insert" data-primary_emacs="Alt+Insert" data-primary_netbeans="Alt+Insert" data-primary_sublime_text="Alt+Insert" data-primary_visual_studio="Ctrl+N" data-secondary_macos="⌘N" data-secondary_eclipse="N/A" data-secondary_eclipse_macos="⌘N" data-secondary_emacs="N/A" data-secondary_intellij_idea_classic="⌃N" data-secondary_netbeans="N/A" data-secondary_sublime_text="N/A" data-secondary_sublime_text_macos="⌘N" data-secondary_visual_studio="⌃N">Alt+Insert</kbd> 。然后从“ <span class="control">生成”</span>列表中选择“ <span class="control">SetUp方法”</span>或“ <span class="control">TearDown方法</span> ”。</p></li></ul>                    <p id="2f9d810b">有关更多详细信息，请参见<a href="https://phpunit.de/manual/current/en/fixtures.html" rel="noopener noreferrer" data-external="true" target="_blank">PHPUnit官方网站上的Fixtures</a> 。</p>                </li></ol><p id="8eb710eb">您可以自定义<a href="using-file-and-code-templates.html">代码模板</a>用于在发生PHPUnit的测试方法<a href="settings-file-and-code-templates.html">文件和代码模板</a>页面<a name="open_settings"></a>的<a name="settings_dialog"></a> <span class="control">设置/首选项</span>对话框<kbd data-primary_default_for_windows="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-primary_emacs="Ctrl+Alt+S" data-primary_netbeans="Ctrl+Alt+S" data-primary_sublime_text="Ctrl+Alt+S" data-primary_visual_studio="Alt+F7" data-secondary_macos="⌘," data-secondary_eclipse="⌃⌥S" data-secondary_eclipse_macos="⌘," data-secondary_emacs="⌃⌥S" data-secondary_intellij_idea_classic="⌘," data-secondary_netbeans="⌃⌥S" data-secondary_sublime_text="⌃⌥S" data-secondary_sublime_text_macos="⌘," data-secondary_visual_studio="⌥F7">Ctrl+Alt+S</kbd> 。要快速访问此页面，请在“ <span class="control">生成”</span>列表中，从方法的子菜单中选择“ <span class="control">编辑模板</span> ”。</p><figure><img alt="编辑PHPUnit方法模板" title="编辑PHPUnit方法模板" src="/help/img/idea/2019.3/ps_generate_PHPUnit_Test_method_template.png" id="85660636" width="287" height="482"></figure></section>        </div>    </div>    <div class="chapter"><h2 id="run_phpunit_tests">运行和调试PHPUnit测试</h2>        <p id="2cf3a454">            <a name="unit_testing_run_from_context_menu_save_default_configuration_intro"></a>您可以运行和调试单个测试，也可以运行和调试整个文件和文件夹中的测试。IntelliJ IDEA使用默认设置创建运行/调试配置，然后启动测试。您以后可以保存此配置以供进一步使用。</p>        <section class="procedure-steps"><h3 id="e1599cd8">运行或调试PHPUnit测试</h3><ul class="list "><li class="list__item" id="a9e2a1d0">                <a name="run_debug_tests_general"></a>                        <p id="c0c12e7e">在“项目”工具窗口中，选择要从中运行测试的文件或文件夹，然后从所选内容的上下文菜单中选择<span class="control">“运行<file or="" folder="">”</file></span>或“ <span class="control">调试” <file or="" folder="">。</file></span></p>        <figure><img alt="ps_test_frameworks_phpunit_launch_tests.png" title="ps_test_frameworks_phpunit_launch_tests.png" src="/help/img/idea/2019.3/ps_test_frameworks_phpunit_launch_tests.png" id="f4cb5d72" width="442" height="761"></figure>        <p id="c04ff6ea">IntelliJ IDEA生成默认的运行配置，并使用它启动运行/调试测试会话。</p>                </li></ul></section>        <section class="procedure-steps"><h3 id="88083a54">运行或调试单个测试</h3><ul class="list "><li class="list__item" id="23b8a19d"><p>从上下文菜单中打开该测试文件在编辑器中，右键单击测试的呼叫，然后选择<span class="control"><test_name>Run“”</test_name></span>或<span class="control">调试<test_name>'。</test_name></span></p></li></ul></section>        <section class="procedure-steps"><h3 id="0109ddbf">运行一系列测试</h3><ol class="list _decimal"><li class="list__item" id="923c57e7"><p>在编辑器中打开目标文件，右键单击所需的测试目标，即要测试的类或方法，然后选择“ <span class="menupath" data-skip-index="skip">转至| | | |”。测试</span>或按<kbd data-primary_default_for_windows="Ctrl+Shift+T" data-primary_eclipse="N/A" data-primary_emacs="Ctrl+Shift+T" data-primary_netbeans="Ctrl+Shift+T" data-primary_sublime_text="N/A" data-primary_visual_studio="Ctrl+Shift+T" data-secondary_macos="⇧⌘T" data-secondary_eclipse="N/A" data-secondary_eclipse_macos="N/A" data-secondary_emacs="⌃⇧T" data-secondary_intellij_idea_classic="⇧⌘T" data-secondary_netbeans="⌃⇧T" data-secondary_sublime_text="N/A" data-secondary_sublime_text_macos="N/A" data-secondary_visual_studio="⌃⇧T">Ctrl+Shift+T</kbd> 。</p></li><li class="list__item" id="b00382f7">                <p id="a25bf803">从弹出菜单中，选择要执行的测试。供多选使用<kbd data-primary_default_for_windows="Ctrl" data-primary_eclipse="Ctrl" data-primary_emacs="Ctrl" data-primary_netbeans="Ctrl" data-primary_sublime_text="Ctrl" data-primary_visual_studio="Ctrl" data-secondary_macos="⌘" data-secondary_eclipse="⌘" data-secondary_eclipse_macos="⌘" data-secondary_emacs="⌘" data-secondary_intellij_idea_classic="⌘" data-secondary_netbeans="⌘" data-secondary_sublime_text="⌘" data-secondary_sublime_text_macos="⌘" data-secondary_visual_studio="⌘">Ctrl</kbd>和<kbd data-primary_default_for_windows="Shift" data-primary_eclipse="Shift" data-primary_emacs="Shift" data-primary_netbeans="Shift" data-primary_sublime_text="Shift" data-primary_visual_studio="Shift" data-secondary_macos="⇧" data-secondary_eclipse="⇧" data-secondary_eclipse_macos="⇧" data-secondary_emacs="⇧" data-secondary_intellij_idea_classic="⇧" data-secondary_netbeans="⇧" data-secondary_sublime_text="⇧" data-secondary_sublime_text_macos="⇧" data-secondary_visual_studio="⇧">Shift</kbd> 。</p>                <figure><img alt="运行一系列测试" title="运行一系列测试" src="/help/img/idea/2019.3/ps_run_tests_selection.png" id="ff64cefd" width="423" height="266"></figure>            </li><li class="list__item" id="ea20c907">                <p id="3e4dc6e4">按<kbd data-primary_default_for_windows="Ctrl+Shift+F10" data-primary_eclipse="Ctrl+Shift+F10" data-primary_emacs="Ctrl+Shift+F10" data-primary_netbeans="Shift+Alt+F6" data-primary_sublime_text="Ctrl+Shift+F10" data-primary_visual_studio="Ctrl+F9" data-secondary_macos="⌃⇧R" data-secondary_eclipse="⌃⇧F10" data-secondary_eclipse_macos="⌃⇧R" data-secondary_emacs="⌃⇧F10" data-secondary_intellij_idea_classic="⌃⇧F10" data-secondary_netbeans="⌥⇧F6" data-secondary_sublime_text="⌃⇧F10" data-secondary_sublime_text_macos="N/A" data-secondary_visual_studio="⌃F9">Ctrl+Shift+F10</kbd>运行测试选择。</p>            </li></ol><p id="92992e19">测试会话结束后，IntelliJ IDEA会自动创建其<span class="control">Test作用域</span>设置为<span class="control">Composite</span>的运行/调试配置。有关详细信息，请参见<a href="run-debug-configuration-phpunit.html">运行/调试配置：PHPUnit</a> 。</p></section>        <section class="procedure-steps"><h3 id="de932d66">保存自动生成的默认配置</h3><ul class="list "><li class="list__item" id="8425bc85"><p>                <a name="save_generated_configuration"></a>测试会话结束后，选择<span class="control">保存<default_test_configuration_name></default_test_configuration_name></span>从文件或文件夹的上下文菜单中。</p></li></ul></section>        <section class="procedure-steps"><h3 id="8a88b3fd">通过先前保存的运行/调试配置运行或调试测试</h3><ul class="list "><li class="list__item" id="9fa9a321"><p>                <a name="ps_test_fw_run_through_saved_run_config"></a>从工具栏上的列表中选择所需的PHPUnit配置，然后单击<img class="inline-icon-16" src="/help/img/idea/2019.3/icons.actions.execute@2x.png" width="16" alt="运行按钮">要么<img class="inline-icon-16" src="/help/img/idea/2019.3/icons.actions.startDebugger_dark@2x.png" width="16" alt="调试按钮"> 。</p></li></ul></section>        <section class="procedure-steps"><h3 id="2ddd741b">创建自定义运行/调试配置</h3><ol class="list _decimal"><li class="list__item" id="6dcd2db8"><p>                <a name="ps_test_fw_create_run_config"></a>在“项目”工具窗口中，选择要运行测试的文件或文件夹，然后从上下文菜单中选择“ <span class="control">创建运行配置</span> ”。或者，选择<span class="menupath" data-skip-index="skip">运行|</span>从主菜单中<span class="menupath" data-skip-index="skip">编辑配置</span> ，然后单击<img class="inline-icon-16" src="/help/img/idea/2019.3/icons.general.add@2x.png" width="16" alt="添加图标">然后从列表中选择<span class="control">PHPUnit</span> 。</p></li><li class="list__item" id="1fecad27"><p>                <a name="finalize_generated_configuration"></a>在打开的<a href="run-debug-configuration-phpunit.html">“运行/调试配置：PHPUnit”</a>对话框中，指定要运行的方案，选择要使用的<span class="emphasis">PHP解释器</span> ，并通过指定要传递给PHP可执行文件的选项和参数来自定义其行为。</p></li></ol></section>    </div>    <div class="chapter"><h2 id="phpunit_monitor_test_results">监控测试结果</h2>        <a name="ps_php_test_fw_monitor_test"></a>                        <p id="1d709fb2">IntelliJ IDEA在“ <a href="run-tool-window.html">运行工具”窗口</a>的<a href="run-tool-window.html">“</a> <a href="test-runner-tab.html">测试运行器”选项卡</a>中显示测试执行结果。</p>                <figure><img alt="ps_test_result_phpunit.png" title="ps_test_result_phpunit.png" src="/help/img/idea/2019.3/ps_test_result_phpunit.png" id="9a9bf081" width="717" height="458"></figure>        <p id="8e2c2335">该选项卡分为2个主要区域：</p>        <ul class="list _ul"><li class="list__item" id="2460f64c"><p>左侧区域使您可以深入浏览所有单元测试，以查看成功和失败的单元测试。您可以过滤测试，导出结果，并使用上下文菜单命令运行特定的测试或导航至源代码。</p></li><li class="list__item" id="688753c5"><p>右侧区域显示原始PHPUnit输出。</p></li></ul>        </div>    <div class="chapter"><h2 id="running_php_unit_tests_automatically">自动运行PHPUnit测试</h2>        <p id="34313be9">更改受影响的代码后，您可以使IntelliJ IDEA自动重新运行测试。此选项是根据运行/调试配置配置的，并且可以应用于测试，测试文件，文件夹或测试的组合选择，具体取决于此运行/调试配置中指定的测试范围。</p>        <section class="procedure-steps"><h3 id="4ea76aaf">自动配置重新运行测试</h3><ol class="list _decimal"><li class="list__item" id="cc9d19c2"><p>运行测试。</p></li><li class="list__item" id="0f248e16">                <p id="21316c31">在“ <span class="control">测试运行器”</span>选项卡上，按<img class="inline-icon-16" src="/help/img/idea/2019.3/icons.actions.swapPanels@2x.png" width="16" alt="ps_icon_phpunit_run_test_automatically.png">工具栏上的切换按钮：</p>                <figure><img alt="ps_phpunit_enable-auto-test.png" title="ps_phpunit_enable-auto-test.png" src="/help/img/idea/2019.3/ps_phpunit_enable-auto-test.png" id="59abc553" width="371" height="458"></figure>            </li><li class="list__item" id="a9ad5a49">                <p id="4426930a">（可选）单击<img class="inline-icon-16" src="/help/img/idea/2019.3/icons.general.gearPlain@2x.png" width="16" alt="设定按钮">按钮，并根据代码中的更改设置启动测试的时间延迟：</p>                <figure><img alt="ps_phpunit_set-auto-test-delay.png" title="ps_phpunit_set-auto-test-delay.png" src="/help/img/idea/2019.3/ps_phpunit_set-auto-test-delay.png" id="71feaba0" width="717" height="429"></figure>            </li></ol></section>    </div>    <div class="last-modified" data-skip-index="skip">上次修改时间：2019年11月29日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__next" href="using-behat-framework.html">使用Behat</a> <a class="navigation-links__prev" href="generating-php-unit-test-class.html">生成PHP测试</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>