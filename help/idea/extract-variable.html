<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>Extract variable - Help | IntelliJ IDEA</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body data-id="procedures.refactoring.introduceVariable" data-breadcrumbs="Working_with_source_code.xml|Working with source code/Refactoring_Source_Code.xml|Refactoring code/Extract refactorings/Extract_Variable.xml|Extract variable" data-main-title="Extract variable" data-article-props="&#xA;                {&#xA;                &#xA;            &#34;seeAlso&#34;:[&#xA;            &#xA;                {&#34;title&#34;: &#34;Procedures&#34;,&#xA;                 &#34;links&#34;: [&#xA;                &#xA;        {&#34;url&#34;:&#34;working-with-source-code.html&#34;,&#34;text&#34;:&#34;Selecting text in the editor&#34;}&#xA;    ,&#xA;        {&#34;url&#34;:&#34;rename-refactorings.html&#34;,&#34;text&#34;:&#34;Rename refactorings&#34;}&#xA;    ,&#xA;        {&#34;url&#34;:&#34;specific-javascript-refactorings.html#javascript_extract_variable&#34;,&#34;text&#34;:&#34;Extract Variable in JavaScript&#34;}&#xA;    &#xA;                    ]},&#xA;                {&#34;title&#34;: &#34;Reference&#34;,&#xA;                 &#34;links&#34;: [&#xA;                &#xA;        {&#34;url&#34;:&#34;extract-variable-refactoring-dialog.html&#34;,&#34;text&#34;:&#34;Extract Variable Dialog&#34;}&#xA;    &#xA;                    ]},&#xA;            ]&#xA;        &#xA;                }&#xA;            "><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search IntelliJ IDEA Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>IntelliJ IDEA 2019.3 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="primary" value="primary_default_for_windows" selected>Default for Windows</option><option data-group="primary" value="primary_eclipse">Eclipse</option><option data-group="primary" value="primary_emacs">Emacs</option><option data-group="primary" value="primary_netbeans">NetBeans</option><option data-group="primary" value="primary_sublime_text">Sublime Text</option><option data-group="primary" value="primary_visual_studio">Visual Studio</option><option data-group="secondary" value="secondary_macos">macOS</option><option data-group="secondary" value="secondary_eclipse">Eclipse</option><option data-group="secondary" value="secondary_eclipse_macos">Eclipse (macOS)</option><option data-group="secondary" value="secondary_emacs">Emacs</option><option data-group="secondary" value="secondary_intellij_idea_classic">IntelliJ IDEA Classic</option><option data-group="secondary" value="secondary_netbeans">NetBeans</option><option data-group="secondary" value="secondary_sublime_text">Sublime Text</option><option data-group="secondary" value="secondary_sublime_text_macos">Sublime Text (macOS)</option><option data-group="secondary" value="secondary_visual_studio">Visual Studio</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 data-toc="procedures.refactoring.introduceVariable" id="Extract_Variable.xml">Extract variable</h1>                                                          <a name="extract-variable-chunk"></a>        <p id="2796adc6">If you come across an expression that is hard to understand or it is duplicated in several            places            throughout you code, the            <span class="emphasis">Extract Variable</span>            refactoring can help you deal with those problems placing the result of such expression or its part into a            separate variable that is less complex and easier to understand. Plus, it reduces the code            duplication.        </p>        <p id="da876d83">Starting with Java 1.8 and later versions, IntelliJ IDEA also lets you            <a href="#extract_functional_variable">extract a functional type variable</a>.        </p>                        <section class="procedure-steps"><ol class="list _decimal"><li class="list__item" id="149f0291"><p>In the editor, select an expression or its part that you want to extract. You can also position the                caret within the expression, in this case IntelliJ IDEA offers you a list of potential code selections.</p></li><li class="list__item" id="568c57c9"><p>Press <kbd data-primary_default_for_windows="Ctrl+Alt+V" data-primary_eclipse="Shift+Alt+L" data-primary_emacs="Ctrl+Alt+V" data-primary_netbeans="Shift+Alt+V" data-primary_sublime_text="Ctrl+Alt+V" data-primary_visual_studio="Ctrl+Alt+V" data-secondary_macos="⌥⌘V" data-secondary_eclipse="⌥⇧L" data-secondary_eclipse_macos="⌥⌘L" data-secondary_emacs="⌃⌥V" data-secondary_intellij_idea_classic="⌥⌘V" data-secondary_netbeans="⌥⇧V" data-secondary_sublime_text="⌃⌥V" data-secondary_sublime_text_macos="N/A" data-secondary_visual_studio="⌃⌥V">Ctrl+Alt+V</kbd> or from the main menu, select                <span data-skip-index="skip" class="menupath">Refactor | Extract | Extract Variable</span>.</p></li><li class="list__item" id="476482e5">Select a name suggested in the popup or type your own and press <kbd data-primary_default_for_windows="Enter" data-primary_eclipse="Enter" data-primary_emacs="Enter" data-primary_netbeans="Enter" data-primary_sublime_text="Enter" data-primary_visual_studio="Enter" data-secondary_macos="⏎" data-secondary_eclipse="⏎" data-secondary_eclipse_macos="⏎" data-secondary_emacs="⏎" data-secondary_intellij_idea_classic="⏎" data-secondary_netbeans="⏎" data-secondary_sublime_text="⏎" data-secondary_sublime_text_macos="⏎" data-secondary_visual_studio="⏎">Enter</kbd>.                <figure><img alt="extract var" title="extract var" src="/help/img/idea/2019.3/extract_var.png" id="30286598" width="374" height="198"></figure>                If IntelliJ IDEA finds more than one occurrence, it lets you specify whether or not you want to extract                this variable for all of them.                                <p id="71840941">You can also declare the variable you are extracting as <code class="code">final</code>.</p>                If you want to reassign the existing variable to a new one, press <kbd data-primary_default_for_windows="Ctrl+Alt+V" data-primary_eclipse="Shift+Alt+L" data-primary_emacs="Ctrl+Alt+V" data-primary_netbeans="Shift+Alt+V" data-primary_sublime_text="Ctrl+Alt+V" data-primary_visual_studio="Ctrl+Alt+V" data-secondary_macos="⌥⌘V" data-secondary_eclipse="⌥⇧L" data-secondary_eclipse_macos="⌥⌘L" data-secondary_emacs="⌃⌥V" data-secondary_intellij_idea_classic="⌥⌘V" data-secondary_netbeans="⌥⇧V" data-secondary_sublime_text="⌃⌥V" data-secondary_sublime_text_macos="N/A" data-secondary_visual_studio="⌃⌥V">Ctrl+Alt+V</kbd>. If you have more than one existing variable, IntelliJ IDEA                    displays a list to choose from.                    <p id="ab6660fa">You can press <kbd data-primary_default_for_windows="Shift+Tab" data-primary_eclipse="Shift+Tab" data-primary_emacs="Shift+Tab" data-primary_netbeans="Shift+Tab" data-primary_sublime_text="Shift+Tab" data-primary_visual_studio="Shift+Tab" data-secondary_macos="⇧⇥" data-secondary_eclipse="⇧⇥" data-secondary_eclipse_macos="⇧⇥" data-secondary_emacs="⇧⇥" data-secondary_intellij_idea_classic="⇧⇥" data-secondary_netbeans="⇧⇥" data-secondary_sublime_text="⇧⇥" data-secondary_sublime_text_macos="⇧⇥" data-secondary_visual_studio="⇧⇥">Shift+Tab</kbd> to change a type of the                        variable.</p>                    <figure><img alt="change type for var" title="change type for var" src="/help/img/idea/2019.3/change_type_for_var.png" id="60815c02" width="320" height="195"></figure>                            </li></ol></section>        <p id="8874a683">If the            <span class="control">Enable in-place mode</span> option is not selected in the            <span data-skip-index="skip" class="menupath">Settings/Preferences | Editor |General</span> dialog (<i id="318b282f">Refactorings</i> section),            IntelliJ IDEA opens the <span class="control">Extract Variable</span> dialog for this refactoring.        </p>        <figure><img alt="extract var dialog" title="extract var dialog" src="/help/img/idea/2019.3/extract_var_dialog.png" id="d4c54f04" width="293" height="191"></figure>        <div class="chapter"><h2 id="218033ca">Example</h2>            <p id="93ab87ea">Let's extract the <code class="code">anotherClass.inValue()</code> variable that occurs twice throughout the                code and give it a name <code class="code">number</code>.</p>            <div class="tabs" id="41be2497"><div class="tabs__content" data-title="Java" id="735fcdef">                <div class="table-wrapper"><table class="  _layout-fixed" width="100%" id="f713d548"><thead><tr id="9fa45ddd" class="ijRowHead"><th id="f6caf605" width="50%"><p>Before</p></th><th id="951a8ec2" width="50%"><p>After</p></th></tr></thead><tbody><tr id="004d43ac" class="ijRowOdd"><td id="1ab4eeb8">                            <div class="code-block" data-lang="java">
public void method() {
    int a = 1;
...
    int b = a + anotherClass.intValue();
    int c = b + anotherClass.intValue();
}
                            </div>                        </td><td id="086545c1">                            <div class="code-block" data-lang="java">
public void method() {
    int a = 1;
...
    int number = anotherClass.intValue();
    int b = a + number;
    int c = b + number;
}
                            </div>                        </td></tr></tbody></table></div>                </div><div class="tabs__content" data-title="Kotlin" id="131bda5c">                    <div class="table-wrapper"><table class="  _layout-fixed" width="100%" id="31444c9b"><thead><tr id="e978225f" class="ijRowHead"><th id="7ed91dd7" width="50%"><p>Before</p></th><th id="d2808167" width="50%"><p>After</p></th></tr></thead><tbody><tr id="61887b0b" class="ijRowOdd"><td id="dc07c602">                                <div class="code-block" data-lang="actionscript">
func method() {
     val a = 1
     val b = a + anotherClass!!.intValue()
     val c = b + anotherClass!!.intValue()
}
                                </div>                            </td><td id="7ff1adec">                                <div class="code-block" data-lang="none">
func method() {
     val a = 1
     val number = anotherClass!!.intValue()
     val b = a + number
     val c = b + number
}
    </div>                            </td></tr></tbody></table></div>                </div></div>        </div>                <div class="chapter"><div class="collapse"><div class="collapse__title"><h2 id="extract_functional_variable">Extract functional variable</h2></div><div class="collapse__content">            <p id="c14158ab">This refactoring creates a functional expression for Java 1.8 and later versions,                and an anonymous class for older versions of Java.            </p>            <section class="procedure-steps"><ol class="list _decimal"><li class="list__item" id="97c7225f"><p>                    Select the code fragment, in this example, an argument of the <code class="code">println</code> method.                    <figure><img alt="argument println" title="argument println" src="/help/img/idea/2019.3/argument_println.png" id="f6bf6700" width="453" height="265"></figure>                </p></li><li class="list__item" id="extract_functional_var">In the main menu, select <span data-skip-index="skip" class="menupath">Refactor | Extract | Functional Variable</span>.<br>                    IntelliJ IDEA opens the <span class="control">Extract Functional Variable</span> dialog.                    <p id="84535b65">Alternatively, from the context menu in the editor, select <span data-skip-index="skip" class="menupath">Refactor | Refactor This</span>                        <kbd data-primary_default_for_windows="Ctrl+Shift+Alt+T" data-primary_eclipse="Ctrl+Shift+Alt+T" data-primary_emacs="Ctrl+Shift+Alt+T" data-primary_netbeans="Ctrl+Shift+Alt+T" data-primary_sublime_text="Ctrl+Shift+Alt+T" data-primary_visual_studio="Ctrl+Shift+Alt+T" data-secondary_macos="⌃T" data-secondary_eclipse="⌃⌥⇧T" data-secondary_eclipse_macos="⌃T" data-secondary_emacs="⌃⌥⇧T" data-secondary_intellij_idea_classic="⌥⇧⌘T" data-secondary_netbeans="⌃⌥⇧T" data-secondary_sublime_text="⌃⌥⇧T" data-secondary_sublime_text_macos="⌃T" data-secondary_visual_studio="⌃⌥⇧T">Ctrl+Shift+Alt+T</kbd>, and                        select <span class="control">Functional Variable</span>.</p>                    <figure><img alt="extrct funtional var" title="extrct funtional var" src="/help/img/idea/2019.3/extrct_funtional_var.png" id="235e9550" width="524" height="371"></figure>                </li><li class="list__item" id="593119f8"><p>                    When the selected code depends on instance fields, like in the example, the <span class="control">Pass field as params</span>                    checkbox will appear and you can pass a parameter in a place of fields.                    <figure><img alt="extrct funtional var parameter" title="extrct funtional var parameter" src="/help/img/idea/2019.3/extrct_funtional_var_parameter.png" id="c0828dbc" width="492" height="330"></figure>                    However, if for example, your selected code fragment depends on any local variable or a parameter                    <figure><img alt="sample string" title="sample string" src="/help/img/idea/2019.3/sample_string.png" id="a655b47f" width="394" height="285"></figure>                    the corresponding entries would appear in the list.                    <figure><img alt="local variable and parameter" title="local variable and parameter" src="/help/img/idea/2019.3/local_variable_and_parameter.png" id="1f434452" width="524" height="369"></figure>                    When you deselect one of the parameters in the dialog, the corresponding local values will be used instead.                    <figure><img alt="when param deselected" title="when param deselected" src="/help/img/idea/2019.3/when_param_deselected.png" id="b74e83f5" width="467" height="371"></figure>                    Configure your options and click <span class="control">OK</span>.                </p></li><li class="list__item" id="d9012191"><p>Choose an applicable functional interface from the popup.                    <figure><img alt="functional interface" title="functional interface" src="/help/img/idea/2019.3/functional_interface.png" id="45548a51" width="675" height="288"></figure>                </p></li><li class="list__item" id="977342a3"><p>                    If you want, change a name of the extracted variable if you don't want to use the name suggested in the list.                    <figure><img alt="changing variable name" title="changing variable name" src="/help/img/idea/2019.3/changing_variable_name.png" id="fcc4c1b1" width="629" height="282"></figure>                </p></li><li class="list__item" id="functional_parameter"><p>IntelliJ IDEA creates lambda that you can use further.                    <figure><img alt="composed function" title="composed function" src="/help/img/idea/2019.3/composed_function.png" id="d737bd40" width="632" height="287"></figure>                </p></li></ol><aside data-type="tip" class="prompt" data-title="" rel="functional_parameter" id="f7e5b9de">                <p id="c7628f8c">                    The <a href="javaintroduce.html#functional_parameter">functional parameter</a> refactoring is also available.                </p>            </aside></section>                                    <div class="chapter"><h3 id="f9b5b2e4">Example</h3>                <div class="table-wrapper"><table class="  _layout-fixed" width="100%" id="83c84e6a"><thead><tr id="ebaecf4d" class="ijRowHead"><th id="3ca81b3d"><p>Before</p></th><th id="faf1bf92"><p>After</p></th></tr></thead><tbody><tr id="52c0f538" class="ijRowOdd"><td id="9e229c93">                            <div class="code-block" data-lang="java">
import java.util.List;

public class PrintAction implements Runnable {
    private List&lt;String&gt; data;

    public PrintAction(List&lt;String&gt; data) {
        this.data = data;
    }

    public void run() {
        System.out.println("Data: " + data.toString());
    }
}
                            </div>                        </td><td id="b7c3335b">                            <div class="code-block" data-lang="java">
import java.util.List;
import java.util.function.Function;

public class PrintAction implements Runnable {
    private List&lt;String&gt; data;

    public PrintAction(List&lt;String&gt; data) {
        this.data = data;
    }

    public void run() {
        Function&lt;List&lt;String&gt;, String&gt; presenter = (p) -&gt; "Data: " + p.toString();
        System.out.println(presenter.apply(data));
    }
}
                            </div>                        </td></tr></tbody></table></div>            </div>        </div></div></div>                                      <div class="last-modified" data-skip-index="skip">Last modified: 29 November 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="extract-superclass.html">Extract Superclass</a><a class="navigation-links__next" href="javaintroduce.html">Extract parameter</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>