<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>Refactoring PHP - Help | IntelliJ IDEA</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body data-id="Refactoring_PHP" data-breadcrumbs="Language and framework-specific guidelines/PHP-Specific_Guidelines.xml|PHP/Refactoring_PHP.xml|Refactoring PHP" data-main-title="Refactoring PHP"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search IntelliJ IDEA Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>IntelliJ IDEA 2019.3 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="primary" value="primary_default_for_windows" selected>Default for Windows</option><option data-group="primary" value="primary_eclipse">Eclipse</option><option data-group="primary" value="primary_emacs">Emacs</option><option data-group="primary" value="primary_netbeans">NetBeans</option><option data-group="primary" value="primary_sublime_text">Sublime Text</option><option data-group="primary" value="primary_visual_studio">Visual Studio</option><option data-group="secondary" value="secondary_macos">macOS</option><option data-group="secondary" value="secondary_eclipse">Eclipse</option><option data-group="secondary" value="secondary_eclipse_macos">Eclipse (macOS)</option><option data-group="secondary" value="secondary_emacs">Emacs</option><option data-group="secondary" value="secondary_intellij_idea_classic">IntelliJ IDEA Classic</option><option data-group="secondary" value="secondary_netbeans">NetBeans</option><option data-group="secondary" value="secondary_sublime_text">Sublime Text</option><option data-group="secondary" value="secondary_sublime_text_macos">Sublime Text (macOS)</option><option data-group="secondary" value="secondary_visual_studio">Visual Studio</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 data-toc="Refactoring_PHP" id="Refactoring_PHP.xml">Refactoring PHP</h1>    <p id="734d883b">        <a href="https://en.wikipedia.org/wiki/Code_refactoring" data-external="true" target="_blank" rel="noopener noreferrer">Refactoring</a>        means updating the structure of the source code without changing the behaviour of the application.        Refactoring helps you keep your code solid, <a href="https://en.wikipedia.org/wiki/Don%27t_repeat_yourself" data-external="true" target="_blank" rel="noopener noreferrer">dry</a>, and easy to maintain.</p>    <div class="chapter"><h2 id="php_change_signature" data-toc="Refactoring_PHP#php_change_signature">Change Signature</h2>        <section class="procedure-steps"><ol class="list _decimal"><li class="list__item" id="ef76b76d"><p>In the editor, place the cursor within the name of the method whose signature you want to change.</p></li><li class="list__item" id="93f1efaf"><p>Press <kbd data-primary_default_for_windows="Ctrl+F6" data-primary_eclipse="Shift+Alt+C" data-primary_emacs="Ctrl+F6" data-primary_netbeans="Ctrl+F6" data-primary_sublime_text="N/A" data-primary_visual_studio="Ctrl+F6" data-secondary_macos="⌘F6" data-secondary_eclipse="⌥⇧C" data-secondary_eclipse_macos="⌥⌘C" data-secondary_emacs="⌃F6" data-secondary_intellij_idea_classic="⌘F6" data-secondary_netbeans="⌃F6" data-secondary_sublime_text="N/A" data-secondary_sublime_text_macos="N/A" data-secondary_visual_studio="⌃F6">Ctrl+F6</kbd>. Alternatively, choose <span class="control">Refactor | Change                Signature</span> on the main menu or context menu.</p></li><li class="list__item" id="141cd469">                <p id="ecc3d519">In the <span class="control">Change Signature</span> dialog, make the necessary changes to the method signature                    and specify what other, related, changes are required.                </p>                <ul class="list _ul"><li class="list__item" id="009c1971"><p>For example, change the method name. To do that, edit the text in the                        <span class="control">Name</span>                        field. You can change the return type by editing the contents of the                        <span class="control">Return type</span>                        field.                        Setting the method return type is only possible in                        <a name="php_level_7_1"></a>                PHP language version 7.1 and later.                            <a name="setting_php_level_7_1"></a>        You can specify the PHP language level on the <a href="php.html">PHP page</a> <a name="open_settings"></a>                of the        <a name="settings_dialog"></a>        <span class="control">Settings/Preferences</span> dialog <kbd data-primary_default_for_windows="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-primary_emacs="Ctrl+Alt+S" data-primary_netbeans="Ctrl+Alt+S" data-primary_sublime_text="Ctrl+Alt+S" data-primary_visual_studio="Alt+F7" data-secondary_macos="⌘," data-secondary_eclipse="⌃⌥S" data-secondary_eclipse_macos="⌘," data-secondary_emacs="⌃⌥S" data-secondary_intellij_idea_classic="⌘," data-secondary_netbeans="⌃⌥S" data-secondary_sublime_text="⌃⌥S" data-secondary_sublime_text_macos="⌘," data-secondary_visual_studio="⌥F7">Ctrl+Alt+S</kbd>.                        </p></li><li class="list__item" id="6832bcd4"><p>Manage the method parameters using the table and the buttons in                        the <span class="control">Parameters</span> area.  When adding parameters, you may want to                        propagate these parameters to the method that                        call the current method.</p></li><li class="list__item" id="38910f9d">In the <span class="emphasis">PHP</span> context, when the                        <span class="emphasis">Change signature</span>                        refactoring is invoked from the constructor of                        a class, the new parameter can be initialized as a class field.                        To do that, use the <span class="control">Create and initialize class properties</span> checkbox:                        <a name="ps_change_signature_constructor_initialize_field_check_box"></a>                    <p id="a4f31e76">                When this checkbox is selected, the newly added parameter is initialized as a field.            IntelliJ IDEA creates a field with the same name as this parameter and adds a line with the following assignment:            </p>            <div class="code-block" data-lang="php">
                $this-&gt;parameterName = $parameterName;
            </div>                            When the checkbox is cleared, a parameter is added without initialization.                                    <a name="ps_ps_change_signature_constructor_initialize_field_example"></a>        <p id="8cfd56b0">            In this example, we invoke the <span class="emphasis">Change signature</span> refactoring            on the <code class="code">__construct()</code> method and add a new <code class="code">$q</code> parameter.            The result depends on whether the  <span class="control">Create and initialize class            properties</span> checkbox is selected or not. The new field is <a name="field_default_visibility"></a>        created with the default visibility modifier, which is set on the <a href="settings-code-style-php.html#code-generation-tab">Code Generation</a> tab of the        <a href="settings-code-style-php.html">Code Style. PHP</a> page <a name="open_settings"></a>                of the        <a name="settings_dialog"></a>        <span class="control">Settings/Preferences</span> dialog <kbd data-primary_default_for_windows="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-primary_emacs="Ctrl+Alt+S" data-primary_netbeans="Ctrl+Alt+S" data-primary_sublime_text="Ctrl+Alt+S" data-primary_visual_studio="Alt+F7" data-secondary_macos="⌘," data-secondary_eclipse="⌃⌥S" data-secondary_eclipse_macos="⌘," data-secondary_emacs="⌃⌥S" data-secondary_intellij_idea_classic="⌘," data-secondary_netbeans="⌃⌥S" data-secondary_sublime_text="⌃⌥S" data-secondary_sublime_text_macos="⌘," data-secondary_visual_studio="⌥F7">Ctrl+Alt+S</kbd>.            </p>        <div class="table-wrapper"><table class="  _layout-fixed" width="100%" id="cbf9c68d"><thead><tr id="6fa2d56c" class="ijRowHead"><th id="2ccd4db6" width="50%"><p>Before</p></th><th id="393eaf20" width="50%"><p>After</p></th></tr></thead><tbody><tr id="d553c5db" class="ijRowOdd"><td id="caa09e7e" rowspan="2">                <div class="code-block" data-lang="php">
                class ChangeSignatureNewParam {
                    function __construct() {
                        $a = "Constructor in ChangeSignatureNewParam";
                        print $a;
                    }
                }
                </div>            </td><td id="9f293e08">                <p id="fb7a9aca">The <span class="control">Create and initialize class properties</span> checkbox is selected:                </p>                <div class="code-block" data-lang="php">
                class ChangeSignatureNewParam {
                    private $q;
                    function __construct($q) {
                        $a = "Constructor in ChangeSignatureNewParam";
                        print $a;
                        $this-&gt;q = $q;
                    }
                }
                </div>            </td></tr><tr id="a5ed16f5" class="ijRowEven"><td id="164493f5">                    <p id="62062066">The <span class="control">Create and initialize class properties</span> checkbox is cleared:                    </p>                    <div class="code-block" data-lang="php">
                    class ChangeSignatureNewParam {
                        function __construct($q) {
                            $a = "Constructor in ChangeSignatureNewParam";
                            print $a;
                        }
                    }
                    </div>                </td></tr></tbody></table></div>                        </li><li class="list__item" id="52af8f71"><p>You can delete or reorder the added parameters.                        To change the name or the default value of a parameter,                        make the necessary updates in the table of parameters (in the fields                        <span class="control">Name</span>                        and <span class="control">Default value</span> respectively).                    </p></li><li class="list__item" id="propagate_methods"><p>You can propagate new method parameters (if any) along the hierarchy of the method                        that call the current method.                        Click the <span class="control">Propagate Parameters</span> button                        <img alt="propagateParameters" title="propagateParameters" src="/help/img/idea/2019.3/propagateParameters.png" id="18bf8c1c" width="13" height="17" class="inline-icon-13">.                    </p></li></ul>            </li><li class="list__item" id="58a20198"><p>To perform the refactoring right away, click <span class="control">Refactor</span>.                To <a href="find-tool-window.html">see the expected changes</a> and make the necessary adjustments                prior to                actually performing the refactoring, click <span class="control">Preview</span>.            </p></li></ol></section>                <div class="chapter"><h3 id="15517062">Examples</h3>            <p id="747c0ee3">The following table shows 3 different ways of performing the same                <span class="emphasis">Change Signature</span>                refactoring.            </p>            <p id="6fc29a72">In all the cases, the <code class="code">result()</code> function is renamed to <code class="code">generateResult()</code> and                a new <code class="code">$b</code> parameter is added to this function.            </p>            <p id="cfa2af51">The examples show how the function call, the calling function <code class="code">showResult()</code> and                other code fragments may be affected depending on the refactoring settings.            </p>            <div class="table-wrapper"><table class="  _layout-fixed" width="100%" id="9c790be3"><thead><tr id="a756eb3e" class="ijRowHead"><th id="4f849f62" width="50%"><p>Before</p></th><th id="4677ba34" width="50%"><p>After</p></th></tr></thead><tbody><tr id="bb678a9d" class="ijRowOdd"><td id="d37d6e6a">                        <div class="code-block" data-lang="php">
                            // This is the function whose signature will be changed:
                            function result($a) {
                            // some code here
                            }

                            function showResult($a) {

                            // Here is the function call:
                                        $this-&gt;result($a);
                            }

                            // Now we'll rename the function and
                            // add one parameter.
                        </div>                    </td><td id="b7c808ac">                        <div class="code-block" data-lang="php">
                            // The function has been renamed to generateResult.
                            // The new parameter $b has been added.

                            function generateResult($a,$b) {
                            // some code here
                            }

                            function showResult($a,$b) {

                            // The function call has been changed accordingly:
                            $this-&gt;generateResult($a,$b);
                            }
                        </div>                    </td></tr><tr id="bf971957" class="ijRowEven"><td id="27608ca5">                        <div class="code-block" data-lang="php">
                            // This is the function whose signature will be changed:


                            function result($a) {
                            // some code here
                            }

                            function showResult($a) {

                            // Here is the function call:
                            $this-&gt;result($a);
                            }

                            // Now we'll rename the function and add one parameter.
                            //We will also specify the default value 'new_param'
                            //for this new parameter
                        </div>                    </td><td id="b4e9f812">                        <div class="code-block" data-lang="php">
                            // The function has been renamed to generateResult.
                            // The new parameter $b has been added.

                            function generateResult($a,$b) {
                            // some code here
                            }

                            function showResult($a) {

                            // The function call has been changed accordingly:
                            $this-&gt;generateResult($a,'new_param');
                            }

                            // When performing the refactoring, 'new_param' was specified as
                            // the default parameter value.
                        </div>                    </td></tr><tr id="b6cbbefe" class="ijRowOdd"><td id="8b72220c">                        <div class="code-block" data-lang="php">
                            // This is the function whose signature will be changed:


                            function result($a) {
                            // some code here
                            }


                            function showResult($a) {

                            // Here is the function call:
                            $this-&gt;result($a);
                            }

                            // Now we'll rename the function and add one parameter.
                            //We will also propagate this new parameter
                            //through the showResult() calling function to the function call.
                        </div>                    </td><td id="a66040a1">                        <div class="code-block" data-lang="php">
                            // The function has been renamed to generateResult.
                            // The new parameter $b has been added.

                            function generateResult($a,$b) {
                            // some code here
                            }

                            // Note the new function parameter:
                            function showResult($a,$b) {

                            // The function call has been changed accordingly:
                            $this-&gt;generateResult($a,$b);
                            }
                        </div>                    </td></tr></tbody></table></div>        </div>    </div><div class="last-modified" data-skip-index="skip">Last modified: 29 November 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="phpdoc-comments.html">PHPDoc Comments</a><a class="navigation-links__next" href="debugging-php-applications.html">Debugging PHP Applications</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>