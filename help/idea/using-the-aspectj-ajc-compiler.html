<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>Using the AspectJ Compiler (ajc) - Help | IntelliJ IDEA</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body data-id="Using_the_AspectJ_ajc_Compiler" data-breadcrumbs="Language and framework-specific guidelines/AspectJ.xml|AspectJ/Using_the_AspectJ_ajc_Compiler.xml|Using the AspectJ Compiler (ajc)" data-main-title="Using the AspectJ Compiler (ajc)" data-article-props="&#xA;                {&#xA;                &#xA;            &#34;seeAlso&#34;:[&#xA;            &#xA;                {&#34;title&#34;: &#34;Reference&#34;,&#xA;                 &#34;links&#34;: [&#xA;                &#xA;        {&#34;url&#34;:&#34;java-compiler.html&#34;,&#34;text&#34;:&#34;Java Compiler&#34;}&#xA;    ,&#xA;        {&#34;url&#34;:&#34;aspectj-facet.html&#34;,&#34;text&#34;:&#34;AspectJ Facet Page&#34;}&#xA;    ,&#xA;        {&#34;url&#34;:&#34;project-structure-dialog.html&#34;,&#34;text&#34;:&#34;Project Structure Dialog&#34;}&#xA;    &#xA;                    ]},&#xA;                {&#34;title&#34;: &#34;Web Resources&#34;,&#xA;                 &#34;links&#34;: [&#xA;                &#xA;        {&#34;url&#34;:&#34;http://www.jetbrains.net/devnet/community/idea/kb&#34;,&#34;text&#34;:&#34;Developer Community&#34;}&#xA;    &#xA;                    ]}&#xA;            ]&#xA;        &#xA;                }&#xA;            "><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search IntelliJ IDEA Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>IntelliJ IDEA 2019.3 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="primary" value="primary_default_for_windows" selected>Default for Windows</option><option data-group="primary" value="primary_eclipse">Eclipse</option><option data-group="primary" value="primary_emacs">Emacs</option><option data-group="primary" value="primary_netbeans">NetBeans</option><option data-group="primary" value="primary_sublime_text">Sublime Text</option><option data-group="primary" value="primary_visual_studio">Visual Studio</option><option data-group="secondary" value="secondary_macos">macOS</option><option data-group="secondary" value="secondary_eclipse">Eclipse</option><option data-group="secondary" value="secondary_eclipse_macos">Eclipse (macOS)</option><option data-group="secondary" value="secondary_emacs">Emacs</option><option data-group="secondary" value="secondary_intellij_idea_classic">IntelliJ IDEA Classic</option><option data-group="secondary" value="secondary_netbeans">NetBeans</option><option data-group="secondary" value="secondary_sublime_text">Sublime Text</option><option data-group="secondary" value="secondary_sublime_text_macos">Sublime Text (macOS)</option><option data-group="secondary" value="secondary_visual_studio">Visual Studio</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 data-toc="Using_the_AspectJ_ajc_Compiler" id="Using_the_AspectJ_ajc_Compiler.xml" data-availability-limit="Ultimate">Using the AspectJ Compiler (ajc)</h1>               <p id="310620ee">        By default, IntelliJ IDEA uses the <span class="filepath">javac</span> compiler.        To use the AspectJ compiler <a href="http://eclipse.org/aspectj/doc/released/devguide/ajc-ref.html" data-external="true" target="_blank" rel="noopener noreferrer">ajc</a>        (instead of or in combination with <span class="filepath">javac</span>),        you should make changes to <a href="java-compiler.html">corresponding IDE settings</a>.</p>    <p id="462600f7">        The <span class="filepath">ajc</span> settings specified at the project level can be fine-tuned at the level of individual modules.        AspectJ facets associated with the modules are used for that purpose.</p>    <p id="3e20d1b4">        Note that <span class="filepath">ajc</span> is not bundled with IntelliJ IDEA and should be downloaded separately.</p>    <p id="8a18ddbb">        <span class="filepath">ajc</span> is available as part of the AspectJ distribution that you can download        from the <a href="http://eclipse.org/aspectj/downloads.php" data-external="true" target="_blank" rel="noopener noreferrer">AspectJ website</a>.</p>    <div class="chapter"><h2 id="ajc_and_javac">Optimize compilation performance: Use ajc in combination with javac</h2>        <p id="8708e00e">            IntelliJ IDEA lets you use <span class="filepath">ajc</span> in combination with <span class="filepath">javac</span> without the need to            switch the compilers in the IDE settings.</p>        <p id="8c216c20">            First of all, you should select <span class="filepath">ajc</span> as your project compiler            (the <a href="java-compiler.html#compiler">Use compiler field</a> on the            <a href="java-compiler.html">Java Compiler page</a>).</p>        <p id="01d79d55">            If you want <span class="filepath">javac</span> to be also used,            turn on the <a href="java-compiler.html#delegate_to_javac">Delegate to Javac option</a>.            If this option in on, the modules without aspects are compiled with <span class="filepath">javac</span>            (which is, generally, faster), and the modules that contain aspects are compiled with <span class="filepath">ajc</span>.            (If this option is off, <span class="filepath">ajc</span> is used for all the modules in your project.)</p>        <p id="33986391">            You can fine-tune the distribution of tasks between the compilers <span class="filepath">ajc</span> and <span class="filepath">javac</span>            at the level of individual modules.            For modules that contain aspects only in the form of <code class="code">@Aspect</code>-annotated Java classes            (in <span class="filepath">java</span> files),            you can specify that <span class="filepath">ajc</span> should be used only for post-compile weaving.            If you do so, <span class="filepath">javac</span> will be used to compile all the source files, and then            <span class="filepath">ajc</span> will be applied to the compiled class files for weaving.            As a result, the overall process (compilation + weaving), will take less time.</p>        <p id="5236f874">            Provided that the <span class="control">Delegate to Javac</span> option is on,            the post-compile weaving mode for <span class="filepath">ajc</span> is enabled by turning on the corresponding option            in an <a href="aspectj-facet.html">AspectJ facet</a> associated with a module.</p>        <p id="422430eb">            Note that you shouldn't turn on this option for modules that contain code-style aspects            (ones defined in <span class="filepath">.aj</span> files).</p>    </div>    <div class="chapter"><h2 id="controlling_aspectpath">Controlling the ajc aspectpath</h2>        <p id="f725523a">            You can control the <a href="http://eclipse.org/aspectj/doc/released/devguide/ajc-ref.html" data-external="true" target="_blank" rel="noopener noreferrer">ajc</a>            <code class="code">aspectpath</code> option separately for each of your modules,            see <a href="#redefine_aspectpath_in_facet">Fine-tune the use of ajc at a module level</a>.</p>        <p id="cf180fd5">            The module <code class="code">aspectpath</code> may be set automatically as a result of importing            an appropriately configured <a href="http://maven.apache.org/" data-external="true" target="_blank" rel="noopener noreferrer">Maven</a> project into IntelliJ IDEA.</p>    </div>    <div class="chapter"><h2 id="settings">Select ajc as the project compiler and specify its settings</h2>        <section class="procedure-steps"><ol class="list _decimal"><li class="list__item" id="e863b3ab"><p>                In the <span class="control">Settings/Preferences</span> dialog <kbd data-primary_default_for_windows="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-primary_emacs="Ctrl+Alt+S" data-primary_netbeans="Ctrl+Alt+S" data-primary_sublime_text="Ctrl+Alt+S" data-primary_visual_studio="Alt+F7" data-secondary_macos="⌘," data-secondary_eclipse="⌃⌥S" data-secondary_eclipse_macos="⌘," data-secondary_emacs="⌃⌥S" data-secondary_intellij_idea_classic="⌘," data-secondary_netbeans="⌃⌥S" data-secondary_sublime_text="⌃⌥S" data-secondary_sublime_text_macos="⌘," data-secondary_visual_studio="⌥F7">Ctrl+Alt+S</kbd>,                select <span data-skip-index="skip" class="menupath">Build, Execution, Deployment | Compiler | Java Compiler</span>.</p></li><li class="list__item" id="17ac6081"><p>                From the <span class="control">Use compiler</span> list, select <span class="control">Ajc</span>.</p></li><li class="list__item" id="0f17aca9"><p>                If necessary, specify the bytecode versions. Roughly, these are the minimum target JVM versions.</p></li><li class="list__item" id="c2e548ec">                <p id="0fa426ed">Specify the path to the compiler in the <span class="control">Path to Ajc compiler</span> field.</p>                <p id="e0b59ebb">                    You can type the path in the field,                    or click <img class="inline-icon-16" src="/help/img/idea/2019.3/icons.general.openDisk@2x.png" width="16" alt="the Browse button"> and select the necessary file                    in the <a href="select-path-dialog.html">corresponding dialog</a>.</p>                <p id="1b4ac81d">                    (The file that you want is <span class="filepath">aspectjtools.jar</span> which is located                    in <span class="filepath">&lt;AspectJ installation directory&gt;\lib</span>.)</p></li><li class="list__item" id="c4d941fc">                <p id="259464d1">If necessary, specify the                <a href="http://eclipse.org/aspectj/doc/released/devguide/ajc-ref.html" data-external="true" target="_blank" rel="noopener noreferrer">command-line options</a>                    to be passed to the compiler in the <span class="control">Command line parameters</span> field.</p>                <p id="baaea277">                    You can type the parameters right in the field,                    or click <img class="inline-icon-12" src="/help/img/idea/2019.3/icons.general.expandComponent@2x.png" width="12" alt="the Expand button"> to open                    the <span class="control">Command line parameters</span> dialog where the text entry area is larger.</p></li><li class="list__item" id="ecb6fbd3">                <p id="d909d162">                    If you want to use <span class="filepath">javac</span> to compile the modules that contain no aspects,                    select the <span class="control">Delegate to Javac</span> checkbox.</p>                <p id="8466874e">                    Note that the distribution of tasks between <span class="filepath">ajc</span> and <span class="filepath">javac</span> can be                    fine-tuned at the level of individual modules.</p></li><li class="list__item" id="e295fa76"><p>                Apply the changes and close the dialog.</p></li></ol></section>    </div>    <div class="chapter"><h2 id="redefine_aspectpath_in_facet">Fine-tune the use of ajc at a module level</h2>        <p id="3e64af0d">            To be able to fine-tune the use of <span class="filepath">ajc</span> at a module level,            you should add an AspectJ facet to corresponding module or modules.</p>        <p id="d6fd0cd2">            Once you've done that, you can specify that <span class="filepath">ajc</span> should be used only for post-compile weaving.            You can also specify the <code class="code">aspectpath</code> for the module.</p>        <section class="procedure-steps"><ol class="list _decimal"><li class="list__item" id="2d40505b"><p>                Add an AspectJ facet to the module of interest.                For corresponding instructions, see <a href="adding-support-for-frameworks-and-technologies.html">Add frameworks and technologies</a>.</p></li><li class="list__item" id="00430cf8"><p>                From the main menu, select <span data-skip-index="skip" class="menupath">File | Project Structure | Facets | AspectJ</span>.</p></li><li class="list__item" id="821360d1">                <p id="f7248a75">Under <span class="control">Compiler</span>, select the <span class="control">Post-compile weave mode</span> checkbox                if you want to use <span class="filepath">ajc</span> only to weave the compiled class files                (the source code in this case is compiled with <span class="filepath">javac</span>).</p>                <aside data-type="note" class="prompt" data-title="" rel="f7248a75" id="1ac754d0"><p id="e487e654">Don't select this checkbox if the module contains <span class="filepath">.aj</span> files.</p></aside></li><li class="list__item" id="fe6ce7df"><p>                To form the <code class="code">aspectpath</code> for the module, use options                <img class="inline-icon-16" src="/help/img/idea/2019.3/icons.general.add@2x.png" width="16" alt="the Add button">&nbsp;<kbd data-primary_default_for_windows="Alt+Insert" data-primary_eclipse="Alt+Insert" data-primary_emacs="Alt+Insert" data-primary_netbeans="Alt+Insert" data-primary_sublime_text="Ctrl+N" data-primary_visual_studio="Alt+Insert" data-secondary_macos="⌘N" data-secondary_eclipse="N/A" data-secondary_eclipse_macos="⌘N" data-secondary_emacs="N/A" data-secondary_intellij_idea_classic="⌃N" data-secondary_netbeans="⌃N" data-secondary_sublime_text="⌃N" data-secondary_sublime_text_macos="⌘N" data-secondary_visual_studio="N/A">Alt+Insert</kbd>,                <img class="inline-icon-16" src="/help/img/idea/2019.3/icons.actions.previousOccurence@2x.png" width="16" alt="the Move up button">&nbsp;<kbd data-primary_default_for_windows="Alt+Up" data-primary_eclipse="Ctrl+Shift+Up" data-primary_emacs="Alt+Up" data-primary_netbeans="Ctrl+Alt+Up" data-primary_sublime_text="Alt+Up" data-primary_visual_studio="Alt+Up" data-secondary_macos="⌃↑" data-secondary_eclipse="⌃⇧↑" data-secondary_eclipse_macos="⌃⌥↑" data-secondary_emacs="⌥↑" data-secondary_intellij_idea_classic="⌃↑" data-secondary_netbeans="⌃⌥↑" data-secondary_sublime_text="⌥↑" data-secondary_sublime_text_macos="⌃↑" data-secondary_visual_studio="⌥↑">Alt+Up</kbd> /                <img class="inline-icon-16" src="/help/img/idea/2019.3/icons.actions.nextOccurence@2x.png" width="16" alt="the Move down button">&nbsp;<kbd data-primary_default_for_windows="Alt+Down" data-primary_eclipse="Ctrl+Shift+Down" data-primary_emacs="Alt+Down" data-primary_netbeans="Ctrl+Alt+Down" data-primary_sublime_text="Alt+Down" data-primary_visual_studio="Alt+Down" data-secondary_macos="⌃↓" data-secondary_eclipse="⌃⇧↓" data-secondary_eclipse_macos="⌃⌥↓" data-secondary_emacs="⌥↓" data-secondary_intellij_idea_classic="⌃↓" data-secondary_netbeans="⌃⌥↓" data-secondary_sublime_text="⌥↓" data-secondary_sublime_text_macos="⌃↓" data-secondary_visual_studio="⌥↓">Alt+Down</kbd>,                and <img class="inline-icon-16" src="/help/img/idea/2019.3/icons.general.remove@2x.png" width="16" alt="the Remove button">&nbsp;<kbd data-primary_default_for_windows="Alt+Delete" data-primary_eclipse="Alt+Delete" data-primary_emacs="N/A" data-primary_netbeans="Alt+Delete" data-primary_sublime_text="Alt+Delete" data-primary_visual_studio="Alt+Delete" data-secondary_macos="⌘⌦" data-secondary_eclipse="⌥⌦" data-secondary_eclipse_macos="N/A" data-secondary_emacs="N/A" data-secondary_intellij_idea_classic="⌘⌦" data-secondary_netbeans="⌥⌦" data-secondary_sublime_text="⌥⌦" data-secondary_sublime_text_macos="⌘⌦" data-secondary_visual_studio="⌥⌦">Alt+Delete</kbd>.</p></li><li class="list__item" id="252eb4a6"><p>                Apply the changes and close the dialog.</p></li></ol></section>    </div>    <div class="last-modified" data-skip-index="skip">Last modified: 29 November 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="using-the-push-itds-in-refactoring.html">Using the Push ITDs In Refactoring</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>