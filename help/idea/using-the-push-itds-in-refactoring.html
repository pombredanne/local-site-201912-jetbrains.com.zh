<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>在重构中使用Push ITD-帮助|帮助IntelliJ IDEA</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body  data-id="Using_the_Push_ITDs_In_refactoring" data-breadcrumbs="Language and framework-specific guidelines/AspectJ.xml|AspectJ/Using_the_Push_ITDs_In_refactoring.xml|Using the Push ITDs In Refactoring" data-main-title="Using the Push ITDs In Refactoring" data-article-props="
                {
                
            " seeals=":[=" titl=":=" procedure=",=" link=":=" ur=":" using-the-aspectj-ajc-compiler.htm="," tex=":" using="" the="" aspectj="" compiler="" (ajc="}=" refactoring-source-code.htm="," refactoring="" cod="}=" web="" resource=",=" http:="" ="" www.jetbrains.net="" devnet="" community="" idea="" k="," developer="" communit="}="><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索IntelliJ IDEA帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>IntelliJ IDEA 2019.3帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option value="primary_default_for_windows" data-group="primary" selected>Windows默认</option><option value="primary_eclipse" data-group="primary">日食</option><option value="primary_emacs" data-group="primary">埃马克斯</option><option value="primary_netbeans" data-group="primary">NetBeans</option><option value="primary_sublime_text" data-group="primary">崇高文字</option><option value="primary_visual_studio" data-group="primary">视觉工作室</option><option value="secondary_macos" data-group="secondary">苹果系统</option><option value="secondary_eclipse" data-group="secondary">日食</option><option value="secondary_eclipse_macos" data-group="secondary">Eclipse（macOS）</option><option value="secondary_emacs" data-group="secondary">埃马克斯</option><option value="secondary_intellij_idea_classic" data-group="secondary">IntelliJ IDEA经典版</option><option value="secondary_netbeans" data-group="secondary">NetBeans</option><option value="secondary_sublime_text" data-group="secondary">崇高文字</option><option value="secondary_sublime_text_macos" data-group="secondary">崇高文字（macOS）</option><option value="secondary_visual_studio" data-group="secondary">视觉工作室</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 id="Using_the_Push_ITDs_In_refactoring.xml" data-toc="Using_the_Push_ITDs_In_refactoring" data-availability-limit="Ultimate">在重构中使用Push ITD</h1>                               <p id="8c6b2910">对于方面，IntelliJ IDEA支持大多数基本重构，例如<a href="move-refactorings.html">Move</a>和<a href="rename-refactorings.html">Rename</a> 。除此之外，您还可以为<a href="http://www.eclipse.org/aspectj/doc/released/progguide/language-interType.html" rel="noopener noreferrer" data-external="true" target="_blank">类型间声明</a>执行Push ITD在重构中。</p>            <p id="78e20b92">使用“重构中的ITD”，您可以将字段和方法的定义从方面转移到相应的类。（重构名称中的<span class="emphasis">ITD</span>代表“ <span class="emphasis">类型间声明”</span> 。）</p>            <p id="be5fdca4">重构可以针对单个字段或方法，针对整个方面或针对包中的所有方面执行。</p>            <p id="daf9a49d">如果在执行重构时某些方面变为“空”（当相应方面仅包含类型间声明时可能是这种情况），则可以选择自动删除所有此类方面。</p>            <ul class="list" data-skip-index="skip"><li class="list__item"><a href="#ed44fdb5">例子</a></li><li class="list__item"><a href="#a36314a8">在重构中执行Push ITD</a></li></ul>    <div class="chapter"><h2 id="ed44fdb5">例子</h2>        <p id="ffef6045">下表显示了重构中推送ITD的示例。</p>        <p id="06494840">在第一个示例中，该字段的声明<code class="code">closed</code>从方面移动<code class="code">MyAspect</code>上课<code class="code">Account</code> 。</p>        <p id="6117f218">在第二个示例中，方法<code class="code">close()</code>也从<code class="code">MyAspect</code>至<code class="code">Account</code> 。</p>        <p id="62569c38">请注意，这两个声明（即<code class="code">closed</code>和<code class="code">close()</code> ）可能会转到班级<code class="code">Account</code>如果对方面执行重构，则立即进行<code class="code">MyAspect</code>作为一个整体。</p>        <div class="table-wrapper"><table class="  _layout-fixed" width="100%" id="4dc61526"><thead><tr id="801dd092" class="ijRowHead"><th id="1678bda7" width="50%"><p>之前</p></th><th id="003c6eee"><p>后</p></th></tr></thead><tbody><tr id="f7cec038" class="ijRowOdd"><td id="f7ca1a4c">                    <div class="code-block" data-lang="java">方面myAspect {boolean Account.closed = false; void Account.close（）{已关闭= true； } //这里有一些代码}类Account {//这里有一些代码}</div>                </td><td id="8a686e43">                    <div class="code-block" data-lang="java">方面myAspect {void Account.close（）{close = true; } //这里有一些代码}类Account {//这里有一些代码boolean close = false; }</div>                </td></tr><tr id="5635fdf6" class="ijRowEven"><td id="28e4d5b5">                    <div class="code-block" data-lang="java">方面MyAspect {void Account.close（）{close = true; } //这里有一些代码}类Account {//这里有一些代码boolean close = false; }</div>                </td><td id="6dd20582">                    <div class="code-block" data-lang="java">方面MyAspect {//一些代码}类Account {//一些代码boolean close = false; void close（）{close = true; }}</div>                </td></tr></tbody></table></div>    </div>    <div class="chapter"><h2 id="a36314a8">在重构中执行Push ITD</h2>        <ol class="list _decimal"><li class="list__item" id="51d1cb91">根据重构的预期范围：<ul class="list _ul"><li class="list__item" id="5273a2b1"><p>要对单个字段或方法执行重构，请在编辑器中打开感兴趣的方面，然后将光标放在该字段或方法的声明中。</p></li><li class="list__item" id="70001197"><p>要对整个方面进行重构，请在“ <span class="control">项目”</span>工具窗口中选择感兴趣的方面。或者，在编辑器中打开方面，然后将光标放在各个类型间声明之外的某个位置（例如，在方面的声明内）。</p></li><li class="list__item" id="f9fc736f"><p>要对包中的所有方面执行重构，请在“ <span class="control">项目”</span>工具窗口中选择包。</p></li></ul></li><li class="list__item" id="abb4e7ed"><p>选择<span class="control">重构|</span>在主菜单或上下文菜单中将<span class="control">ITD推</span>入。</p></li><li class="list__item" id="1aec6eff">在打开的<span class="control">“推入类型间声明”</span>对话框中：<ol class="list _decimal"><li class="list__item" id="674df4df"><p>选择或清除“ <span class="control">删除空白方面”</span>复选框。</p></li><li class="list__item" id="3fa0f07b"><p>单击“ <span class="control">重构”</span>以立即执行重构，或单击“ <span class="control">预览”</span>以能够在实际执行重构之前研究预期的更改。</p></li></ol></li><li class="list__item" id="609ae590"><p>如果在上一步中单击了<span class="control">Preview</span> ，则会打开“ <a href="find-tool-window.html">查找”工具窗口，</a>显示将受到影响的类型间声明。如果对预期结果满意，请单击“ <span class="control">执行重构”</span> 。</p></li></ol>    </div>    <div class="last-modified" data-skip-index="skip">上次修改时间：2019年11月29日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="aspectj.html">AspectJ</a> <a class="navigation-links__next" href="using-the-aspectj-ajc-compiler.html">使用AspectJ编译器（ajc）</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>