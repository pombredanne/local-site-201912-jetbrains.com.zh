<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>Extract parameter - Help | IntelliJ IDEA</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body data-id="JavaIntroduce" data-breadcrumbs="Working_with_source_code.xml|Working with source code/Refactoring_Source_Code.xml|Refactoring code/Extract refactorings/JavaIntroduce.xml|Extract parameter" data-main-title="Extract parameter" data-article-props="&#xA;                {&#xA;                &#xA;            &#34;seeAlso&#34;:[&#xA;            &#xA;                {&#34;title&#34;: &#34;Reference&#34;,&#xA;                 &#34;links&#34;: [&#xA;                &#xA;        {&#34;url&#34;:&#34;extract-parameter-refactoring-dialog.html&#34;,&#34;text&#34;:&#34;Extract Parameter Dialog for Java&#34;}&#xA;    &#xA;                    ]},&#xA;                {&#34;title&#34;: &#34;Web Resources&#34;,&#xA;                 &#34;links&#34;: [&#xA;                &#xA;        {&#34;url&#34;:&#34;http://www.jetbrains.net/devnet/community/idea/kb&#34;,&#34;text&#34;:&#34;Developer Community&#34;}&#xA;    &#xA;                    ]}&#xA;            ]&#xA;        &#xA;                }&#xA;            "><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search IntelliJ IDEA Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>IntelliJ IDEA 2019.3 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="primary" value="primary_default_for_windows" selected>Default for Windows</option><option data-group="primary" value="primary_eclipse">Eclipse</option><option data-group="primary" value="primary_emacs">Emacs</option><option data-group="primary" value="primary_netbeans">NetBeans</option><option data-group="primary" value="primary_sublime_text">Sublime Text</option><option data-group="primary" value="primary_visual_studio">Visual Studio</option><option data-group="secondary" value="secondary_macos">macOS</option><option data-group="secondary" value="secondary_eclipse">Eclipse</option><option data-group="secondary" value="secondary_eclipse_macos">Eclipse (macOS)</option><option data-group="secondary" value="secondary_emacs">Emacs</option><option data-group="secondary" value="secondary_intellij_idea_classic">IntelliJ IDEA Classic</option><option data-group="secondary" value="secondary_netbeans">NetBeans</option><option data-group="secondary" value="secondary_sublime_text">Sublime Text</option><option data-group="secondary" value="secondary_sublime_text_macos">Sublime Text (macOS)</option><option data-group="secondary" value="secondary_visual_studio">Visual Studio</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 data-toc="JavaIntroduce" id="JavaIntroduce.xml">Extract parameter</h1>            <p id="18a3a0bf">The <span class="emphasis">Extract Parameter</span> refactoring lets you extract a new parameter to a method.</p>    <p id="5e7eee34">You can also use the <span class="emphasis">Extract Functional Parameter</span> refactoring. In this case IntelliJ IDEA        analyzes the selected code, finds out what the method signature would be         for the extracted fragment, finds all functional interfaces with this method        signature and wraps the code fragment with a anonymous class based on        the selected interface and uses this anonymous class as a parameter.    </p>    <section class="procedure-steps"><ol class="list _decimal"><li class="list__item" id="7c9b94d0"><p>            In the editor, position the caret within the expression that you want to introduce as a parameter.        </p></li><li class="list__item" id="c9842e2b"><p>Press <kbd data-primary_default_for_windows="Ctrl+Alt+P" data-primary_eclipse="Ctrl+Alt+P" data-primary_emacs="Ctrl+Alt+P" data-primary_netbeans="Ctrl+Alt+P" data-primary_sublime_text="Ctrl+Alt+P" data-primary_visual_studio="Ctrl+Alt+P" data-secondary_macos="⌥⌘P" data-secondary_eclipse="⌃⌥P" data-secondary_eclipse_macos="⌥⌘P" data-secondary_emacs="⌃⌥P" data-secondary_intellij_idea_classic="⌥⌘P" data-secondary_netbeans="⌃⌥P" data-secondary_sublime_text="⌃⌥P" data-secondary_sublime_text_macos="⌥⌘P" data-secondary_visual_studio="⌃⌥P">Ctrl+Alt+P</kbd> or from the main menu, select <span data-skip-index="skip" class="menupath">Refactor |            Extract | Parameter</span>.            If you want to extract a functional parameter, press <kbd data-primary_default_for_windows="Ctrl+Shift+Alt+P" data-primary_eclipse="Ctrl+Shift+Alt+P" data-primary_emacs="Ctrl+Shift+Alt+P" data-primary_netbeans="N/A" data-primary_sublime_text="Ctrl+Shift+Alt+P" data-primary_visual_studio="Ctrl+Shift+Alt+P" data-secondary_macos="⌥⇧⌘P" data-secondary_eclipse="⌃⌥⇧P" data-secondary_eclipse_macos="⌥⇧⌘P" data-secondary_emacs="⌃⌥⇧P" data-secondary_intellij_idea_classic="⌥⇧⌘P" data-secondary_netbeans="N/A" data-secondary_sublime_text="⌃⌥⇧P" data-secondary_sublime_text_macos="⌥⇧⌘P" data-secondary_visual_studio="⌃⌥⇧P">Ctrl+Shift+Alt+P</kbd> or from the main menu, select <span data-skip-index="skip" class="menupath">Refactor | Extract | Functional Parameter</span>.        </p></li><li class="list__item" id="acd41cf7"><p>            Specify a name of the parameter, select the necessary options in the <span class="control">Extract Parameter</span>            popup.            For example, if you don't want to change the existing method calls, select the <span class="control">Delegate via            overloading method</span> checkbox.        </p></li><li class="list__item" id="46787553"><p>            If you need, press <kbd data-primary_default_for_windows="Shift+Tab" data-primary_eclipse="Shift+Tab" data-primary_emacs="Shift+Tab" data-primary_netbeans="Shift+Tab" data-primary_sublime_text="Shift+Tab" data-primary_visual_studio="Shift+Tab" data-secondary_macos="⇧⇥" data-secondary_eclipse="⇧⇥" data-secondary_eclipse_macos="⇧⇥" data-secondary_emacs="⇧⇥" data-secondary_intellij_idea_classic="⇧⇥" data-secondary_netbeans="⇧⇥" data-secondary_sublime_text="⇧⇥" data-secondary_sublime_text_macos="⇧⇥" data-secondary_visual_studio="⇧⇥">Shift+Tab</kbd> to change a type of the new parameter.            (If, at this step, you want to return to editing the parameter name, press <kbd data-primary_default_for_windows="Tab" data-primary_eclipse="Tab" data-primary_emacs="Tab" data-primary_netbeans="Tab" data-primary_sublime_text="Tab" data-primary_visual_studio="Tab" data-secondary_macos="⇥" data-secondary_eclipse="⇥" data-secondary_eclipse_macos="⇥" data-secondary_emacs="⇥" data-secondary_intellij_idea_classic="⇥" data-secondary_netbeans="⇥" data-secondary_sublime_text="⇥" data-secondary_sublime_text_macos="⇥" data-secondary_visual_studio="⇥">Tab</kbd>.)        </p></li></ol></section>    <div class="chapter"><h2 id="extract_param_example">Extract parameter examples</h2>    <p id="1a76f7b8">When extracting a new parameter you can either introduce a parameter into the existing method or use the    <span class="control">Delegate via overloading method</span> option to save the original method and define a new method        with your parameter.</p>    <p id="50cfc8eb">Let's replace the string value <code class="code">"Hello, World!"</code> in the method <code class="code">generateText ()</code> with the new parameter <code class="code">text</code>. The value <code class="code">"Hello, World!"</code> is passed to the        method in the updated method call <code class="code">generateText("Hello, World!")</code>.    </p>        <div class="tabs" id="7251348c"><div class="tabs__content" data-title="Java" id="2d53f823">                <div class="table-wrapper"><table class="  _layout-fixed" width="100%" id="71547c79"><thead><tr id="333dea0f" class="ijRowHead"><th id="554c1f6e" width="50%"><p>Before</p></th><th id="3f3ba5d5" width="50%"><p>After</p></th></tr></thead><tbody><tr id="36dee286" class="ijRowOdd"><td id="1ae916a7">                            <div class="code-block" data-lang="java">
public class HelloWorldPrinter {
    public static void print() {
        System.out.println(generateText());
    }
    private static String generateText() {
        return "Hello, World!".toUpperCase();
    }
}
                            </div>                        </td><td id="63c82883">                            <div class="code-block" data-lang="java">
public class HelloWorldPrinter {
    public static void print() {
        System.out.println(generateText("Hello, World!"));
    }
    private static String generateText(String text) {
        return text.toUpperCase();
    }
}
                            </div>                        </td></tr></tbody></table></div>            </div><div class="tabs__content" data-title="Kotlin" id="43eddc73">                <div class="table-wrapper"><table class="  _layout-fixed" width="100%" id="fce078e5"><thead><tr id="2af64e93" class="ijRowHead"><th id="dd56db34" width="50%"><p>Before</p></th><th id="1ea2a584" width="50%"><p>After</p></th></tr></thead><tbody><tr id="28c5a97d" class="ijRowOdd"><td id="22778ff4">                            <div class="code-block" data-lang="kotlin">
object HelloWorldPrinter {
    fun print() {
        println(generateText())
    }

    private fun generateText(): String {
        return "Hello, World!".toUpperCase()
    }
}
                            </div>                        </td><td id="b0ffa2b6">                            <div class="code-block" data-lang="none">
object HelloWorldPrinter {
    fun print() {
        println(generateText("Hello, World!"))
    }

    private fun generateText(text: String): String {
        return text.toUpperCase()
    }
}
    </div>                        </td></tr></tbody></table></div>            </div></div>        <p id="94aa8d0f">Now let's use <span class="control">Delegate via overloading method</span>. In this case, a new overloading method is        created and the new parameter is extracted in the definition of this        method (the second of the <code class="code">generateText()</code> methods). The signature of the existing        <code class="code">generateText()</code> method is not changed. However, the method itself has been modified. Now, it calls        the new <code class="code">generateText()</code> method and passes the value <code class="code">"Hello, World!"</code> to it in this call.        Note that the existing call of <code class="code">generateText()</code> (in the method <code class="code">print()</code>) is not changed.    </p>        <div class="tabs" id="b59bcb76"><div class="tabs__content" data-title="Java" id="89231bf1">                <div class="table-wrapper"><table class="  _layout-fixed" width="100%" id="34cf3a45"><thead><tr id="f89fda01" class="ijRowHead"><th id="e749bb16" width="50%"><p>Before</p></th><th id="9d5fa66b" width="50%"><p>After</p></th></tr></thead><tbody><tr id="e873f453" class="ijRowOdd"><td id="1ed907fd">                            <div class="code-block" data-lang="java">
                                public class HelloWorldPrinter {
                                public static void print() {
                                System.out.println(generateText());
                                }
                                private static String generateText() {
                                return "Hello, World!".toUpperCase();
                                }
                                }
                            </div>                        </td><td id="8e20c10b">                            <div class="code-block" data-lang="java">
                                public class HelloWorldPrinter {
                                public static void print() {
                                System.out.println(generateText());
                                }
                                private static String generateText() {
                                return generateText("Hello, World!");
                                }
                                private static String generateText(String text) {
                                return text.toUpperCase();
                                }
                                }
                            </div>                        </td></tr></tbody></table></div>            </div><div class="tabs__content" data-title="Kotlin" id="73b7b524">                <div class="table-wrapper"><table class="  _layout-fixed" width="100%" id="374f24c2"><thead><tr id="0777e93d" class="ijRowHead"><th id="283a6884" width="50%"><p>Before</p></th><th id="ea49d0dd" width="50%"><p>After</p></th></tr></thead><tbody><tr id="3fab86ec" class="ijRowOdd"><td id="490463dc">                            <div class="code-block" data-lang="none">
object HelloWorldPrinter {
    fun print() {
        println(generateText())
    }

    private fun generateText(): String {
        return "Hello, World!".toUpperCase()
    }
}
    </div>                        </td><td id="61657f40">                            <div class="code-block" data-lang="none">
// if you selected the "Introduce default value" option

object HelloWorldPrinter {
    fun print() {
        println(generateText())
    }

    private fun generateText(text: String = "Hello, World!"): String {
        return text.toUpperCase()
    }
}

    </div>                        </td></tr></tbody></table></div>            </div></div>    </div>    <div class="chapter"><h2 id="functional_parameter">Functional parameter examples</h2>        <p id="90b5fe0a">            Let's perform the refactoring on <code class="code">System.out.println(s);</code>            within <code class="code">Hello.printHello()</code>.</p>        <p id="interface">            IntelliJ IDEA finds all functional interfaces with the appropriate method signature            <code class="code">(String) -&gt; void</code> and suggests that you select one of them.            (In this example, the interface <code class="code">Person</code> is selected.)</p><aside data-type="tip" class="prompt" data-title="" rel="interface" id="a6c01ff6">            <p id="0ce5d781">Only the interfaces marked with <code class="code">@FunctionalInterface</code> or                ones belonging to well-known libraries such as Guava, Apache Collections, etc. are suggested.            </p>        </aside>        <p id="07c93864">As a result, the selected fragment <code class="code">System.out.println(s);</code> is wrapped with an anonymous class            based on the interface <code class="code">Person</code>.            This anonymous class is passed as a parameter to the call to <code class="code">printHello()</code>            within <code class="code">printText()</code>.</p>        <p id="e627652d">            <code class="code">Person</code>            is added as a parameter to <code class="code">printHello()</code> and            the initially selected code fragment is replaced with the call to the method of the interface            <code class="code">sayHello()</code>.        </p>                <div class="table-wrapper"><table class="  _layout-fixed" width="100%" id="607ac8cc"><thead><tr id="0e8340a2" class="ijRowHead"><th id="12571799"><p>Before</p></th><th id="51996e5e"><p>After</p></th></tr></thead><tbody><tr id="827b3934" class="ijRowOdd"><td id="f7bae4bc">                    <div class="code-block" data-lang="java">
@FunctionalInterface
public interface Person {
    public void sayHello (String s);
}

public class Hello {
    private void printHello () {
        String s="Hello";
        System.out.println(s);
    }
    private void printText () {
        printHello();
    }
}
                    </div>                </td><td id="2a4031d6">                    <div class="code-block" data-lang="java">
@FunctionalInterface
public interface Person {
    public void sayHello (String s);
}

public class Hello {
    private void printHello(Person person) {
        String s = "Hello";
        person.sayHello(s);
    }
    private void printText () {
        printHello(new Person() {
            public void sayHello(String s) {
                System.out.println(s);
            }
        });
    }
}
                    </div>                </td></tr></tbody></table></div>    </div>    <div class="chapter"><div class="collapse"><div class="collapse__title"><h2 id="b6380050">Special notes for the Extract Parameter refactoring</h2></div><div class="collapse__content">    <ul class="list _ul"><li class="list__item" id="252a5b04"><p>If you want a field to be provided as a new parameter in the method declaration, in a method call this                field will be presented as a field of a class instance.            </p></li><li class="list__item" id="7ea4e035"><p>If a class member is inaccessible (for instance, in the example above the field is private), it will be                inserted in a method call but will be highlighted as an error making this file uncompilable.            </p></li><li class="list__item" id="750b6187">If you use for the Extract Parameter refactoring a field with a getter, you will be prompted with an                extended dialog. The dialog has an option group <span class="control">Replace fields used in expressions with their                getters</span>:                <ul class="list _ul"><li class="list__item" id="6eebdb4c"><p>               <span class="control">Do not replace</span>: None of the fields will be replaced with calls to the getter.                    </p></li><li class="list__item" id="a5100835"><p>               <span class="control">Replace fields inaccessible in usage context</span>: Only the fields that cannot be                        directly accessed from the usage context will be replaced with calls to the getter.                    </p></li><li class="list__item" id="43d3e6fb"><p>               <span class="control">Replace all fields</span>: All fields will be replaced with calls to the getter.                    </p></li></ul>      </li><li class="list__item" id="ca91766a">Applying the refactoring on a local variable will call the                <span class="control">Extract Parameter</span>                dialog box with additional checkboxes:                <ul class="list _ul"><li class="list__item" id="12d03c18"><p>               <span class="control">Replace all occurrences (&lt;number_of_occurrences&gt; occurrences)</span>: If                        enabled, all occurrences of the selected variable will be replaced with a parameter and the                        <span class="control">Delete variable definition</span>                        checkbox is enabled. Otherwise, only the selected variable usage will be replaced with a                        parameter.                    </p></li><li class="list__item" id="a17198b9"><p>               <span class="control">Delete variable definition</span>: If enabled, the variable definition will be                        deleted.                    </p></li><li class="list__item" id="bbe74e9a"><p>               <span class="control">Use variable initializer to initialize parameter</span>: If enabled, the variable                        initializer will be used to initialize the parameter in the method call.                    </p></li></ul>      </li></ul>    </div></div></div>    <div class="chapter"><div class="collapse"><div class="collapse__title"><h2 id="side_effects">Side effects</h2></div><div class="collapse__content">    <p id="47207c91">Using the            <span class="control">Extract Parameter</span>            refactoring can have unexpected side effects if applied on class instances or expressions which are actual            method parameters. For instance, in case of such code:        </p><div class="code-block" data-lang="java">
class AClass {
    int field;
    int method() {
        return field;
    }
}

class Usage {
    void method(List list) {
        int sum = 0;
        for(Iterator it = list.iterator(); it.hasNext(); ) {
            sum += ((AClass) it.next()).method();
        }
    }
}
</div>    <p id="869043ef">The code after refactoring applied to the field <code class="code">field</code>:</p><div class="code-block" data-lang="java">
class AClass {
    int field;
    int method(int newfield) {
        return newfield;
    }
}

class Usage {
    void method(List list) {
        int sum = 0;
        for(Iterator it = list.iterator; it.hasNext(); ) {
            sum += ((AClass) it.next()).method(((AClass) it.next()).field);
        }
    }
}
</div>    <p id="d8319273">The iterator value is increased twice which is, actually, not the behavior you would expect.</p>    <p id="1491426a">However, IntelliJ IDEA can use a temporary variable successfully and resolve such cases as increment/decrement/assignment            operations and the new keyword usage.            For instance:        </p><div class="code-block" data-lang="java">
public int myMethod(List list) {
    return list.size();
}

public void anotherMethod() {
    myMethod(new ArrayList());
}
</div>    <p id="dcc8be12">Same code after refactoring looks as follows:</p><div class="code-block" data-lang="java">
public int myMethod(List list, int newPar) {
    return list.size();
}
public void anotherMethod() {
    final ArrayList list = new ArrayList();
    myMethod(list, list.size());
}
</div>    <p id="9b1a925b">The new variable <code class="code">list</code> was created and all parameters used for the method call are provided using this variable.</p>    </div></div></div>    <div class="last-modified" data-skip-index="skip">Last modified: 29 November 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="extract-variable.html">Extract variable</a><a class="navigation-links__next" href="extract-into-class-refactorings.html">Extract into class refactorings</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>