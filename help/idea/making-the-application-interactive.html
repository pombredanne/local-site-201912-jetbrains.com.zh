<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>Making the Application Interactive - Help | IntelliJ IDEA</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body data-id="Making_the_Application_Interactive" data-breadcrumbs="Language and framework-specific guidelines/Android/Android.xml|Android Tutorials/Making_the_Application_Interactive.xml|Making the Application Interactive" data-main-title="Making the Application Interactive" data-article-props="&#xA;                {&#xA;                &#xA;            &#34;seeAlso&#34;:[&#xA;            &#xA;                {&#34;title&#34;: &#34;Procedures&#34;,&#xA;                 &#34;links&#34;: [&#xA;                &#xA;        {&#34;url&#34;:&#34;building-and-running-the-application.html&#34;,&#34;text&#34;:&#34;Building and Running the Application&#34;}&#xA;    &#xA;                    ]},&#xA;                {&#34;title&#34;: &#34;Web Resources&#34;,&#xA;                 &#34;links&#34;: [&#xA;                &#xA;        {&#34;url&#34;:&#34;http://www.jetbrains.net/devnet/community/idea/kb&#34;,&#34;text&#34;:&#34;Developer Community&#34;}&#xA;    &#xA;                    ]}&#xA;            ]&#xA;        &#xA;                }&#xA;            "><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search IntelliJ IDEA Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>IntelliJ IDEA 2019.3 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="primary" value="primary_default_for_windows" selected>Default for Windows</option><option data-group="primary" value="primary_eclipse">Eclipse</option><option data-group="primary" value="primary_emacs">Emacs</option><option data-group="primary" value="primary_netbeans">NetBeans</option><option data-group="primary" value="primary_sublime_text">Sublime Text</option><option data-group="primary" value="primary_visual_studio">Visual Studio</option><option data-group="secondary" value="secondary_macos">macOS</option><option data-group="secondary" value="secondary_eclipse">Eclipse</option><option data-group="secondary" value="secondary_eclipse_macos">Eclipse (macOS)</option><option data-group="secondary" value="secondary_emacs">Emacs</option><option data-group="secondary" value="secondary_intellij_idea_classic">IntelliJ IDEA Classic</option><option data-group="secondary" value="secondary_netbeans">NetBeans</option><option data-group="secondary" value="secondary_sublime_text">Sublime Text</option><option data-group="secondary" value="secondary_sublime_text_macos">Sublime Text (macOS)</option><option data-group="secondary" value="secondary_visual_studio">Visual Studio</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Making_the_Application_Interactive" id="Making_the_Application_Interactive.xml">Making the Application Interactive</h1>    <p id="fb89ff9e">        Although our sample application is fully functional at this point, it does not support any form of interaction yet.        To make the application support tap events, you need to edit the <span class="control">HelloDroid</span> class defined in the <span class="filepath">src</span> folder.    </p>    <div class="chapter"><h2 id="3586c76c">1. Open the MyActivity class</h2>        <p id="b275fea6">        In the <a href="project-tool-window.html">Project</a> view, locate the <span class="filepath">HelloDroid.java</span> file            under the <span class="filepath">src | com.example.HelloDroid</span>        folder and click it:        </p>        <figure><img alt="android activity" title="android activity" src="/help/img/idea/2019.3/android_activity.png" id="70438303" width="955" height="609"></figure>    </div>    <div class="chapter"><h2 id="178a2afe">2. Add references to visual elements</h2>        <p id="894508b7">            In Android, you need to explicitly obtain references to visual elements in order to manipulate them programmatically.            You need to define private members on the activity class to hold these references, and then initialize these members in a newly            created method invoked from within <code class="code">onCreate</code>.        </p>        <ol class="list _decimal"><li class="list__item" id="03faccf5"><p>                Add the following code to the <code class="code">HelloDroid</code> class:                <div class="code-block" data-lang="java">
                    private TextView message;
                    private ImageView droid;
                </div>            </p></li><li class="list__item" id="1d73f056"><p>                Add a call to a new method called <code class="code">InitializeApp</code> in <code class="code">OnCreate</code>. IntelliJ IDEA promptly detects that this method is missing                and suggests generating it for you:                <figure><img alt="android make interactive create method" title="android make interactive create method" src="/help/img/idea/2019.3/android_make_interactive_create_method.png" id="893c2ed5" width="489" height="422"></figure>            </p></li><li class="list__item" id="7f644e25">                In the <code class="code">InitializeApp</code> method, assign private members a reference to a visual element:                <div class="code-block" data-lang="java">
                    message = (TextView) findViewById(R.id.message);
                    droid = (ImageView) findViewById(R.id.imageView);
                </div>                <p id="e330608c">                    The expression <code class="code">R.id.xxx</code> indicates a member of the auto-generated <a href="http://developer.android.com/reference/android/R.html" data-external="true" target="_blank" rel="noopener noreferrer">R class</a>.                </p>            </li></ol>    </div>    <div class="chapter"><h2 id="51a02530">3. Add an event handler</h2>        <p id="0e4d49cb">            In an application, no interaction is possible without events and event handlers. As an example, let's add a click handler to the droid image view and            display a message every time the user touches the image.        </p>        <p id="de13cbeb">            In Java, an event handler takes the following form:        </p>        <div class="code-block" data-lang="java">
            private View.OnClickListener droidTapListener;
        </div>        <p id="5a8eed6c">            Add this member to the <code class="code">HelloDroid</code> class and initialize it in the <code class="code">InitializeApp</code> method.            You code should now look as following:        </p>        <div class="code-block" data-lang="java">
            private void InitializeApp() {
            message = (TextView) findViewById(R.id.message);
            droid = (ImageView) findViewById(R.id.imageView);

            // Define and attach listeners
            droidTapListener = new View.OnClickListener()  {
            public void onClick(View v) {
            TapDroid();
            }
            };
            droid.setOnClickListener(droidTapListener);
            }
        </div>        <p id="7990f72b">            The net effect of this code is that every time the user taps the image, the <code class="code">TapDroid</code> method is invoked.        </p>    </div>    <div class="chapter"><h2 id="85bc5391">4. Handle the 'Click' event</h2>        <ol class="list _decimal"><li class="list__item" id="6d33f81c"><p>                The <code class="code">TapDroid</code> method just counts the times the user touched the image, and displays a message. You need to add a new private                member to the <code class="code">HelloDroid</code> class to count clicks:                <div class="code-block" data-lang="java">
                    public class MyActivity extends Activity
                    {
                    private TextView message;
                    private ImageView droid;
                    private View.OnClickListener droidTapListener;
                    private int counter = 0;

                    // More code goes here ...
                    }
                </div>            </p></li><li class="list__item" id="5544faa4"><p>                Next, define the <code class="code">TapDroid</code> method as shown below:                <div class="code-block" data-lang="java">
                    private void TapDroid() {
                    counter++;
                    String temp;
                    switch (counter)
                    {
                    case 1:
                    temp = "once";
                    break;
                    case 2:
                    temp = "twice";
                    break;
                    default:
                    temp = String.format("%d times", counter);
                    }
                    message.setText(String.format("You touched the droid %s", temp));
                    }
                </div>            </p></li></ol>    </div>    <div class="chapter"><h2 id="ef085d6c">5. Build an application and launch it on a device</h2>        <p id="0e63c5fb">            Your sample application is now complete. You can build and deploy it to an Android device.        </p>        <ol class="list _decimal"><li class="list__item" id="9fab1f6d"><p>                <a href="building-and-running-the-application.html#AddRunConfig">Create a run/debug configuration</a> and select                <span class="control">USB device</span> under <span class="control">Target Device</span>.            </p></li><li class="list__item" id="b7fd8ad3"><p>                Connect an Android device to the computer through a USB cable. If the device is connected for the first time, wait until all drivers are installed.            </p></li><li class="list__item" id="99804171">                If this is the first time you are deploying an application outside of the Android application stores, enable the <span class="control">USB Debugging</span> mode                on your device.                <a name="enable_debug_mode"></a>        <p id="cb454894">            On Android 4.2 or later, do the following:        </p>        <ul class="list _bullet"><li class="list__item" id="095dd1d3"><p>                Open your device's <span class="control">Settings</span>.            </p></li><li class="list__item" id="b74cd7ef"><p>                Scroll to <span class="control">About phone</span> or <span class="control">About tablet</span> and tap it.            </p></li><li class="list__item" id="0a8eabf1"><p>                Scroll to the bottom and tap <span class="control">Build number</span> 7 times until you see the "You are a developer!" message. By doing so, you've unlocked the                USB debugging mode on your device.            </p></li><li class="list__item" id="a7187b2d"><p>                Now navigate to <span class="control">Settings | Developer Options | Debugging | USB Debugging</span> to let your phone deploy non-packaged applications.            </p></li></ul>                </li><li class="list__item" id="97d249bb"><p>                Make sure the appropriate run/debug configuration is selected in the drop-down in the top-right corner of the editor and click the <span class="control">Run</span> icon:                <figure><img alt="android application run physical" title="android application run physical" src="/help/img/idea/2019.3/android_application_run_physical.png" id="3af21b4f" width="324" height="61"></figure>            </p></li><li class="list__item" id="8c8a6d30"><p>                When the application has been successfully deployed on the device, tap the image and look at the changes to the user interface:                <figure><img alt="android application physical" title="android application physical" src="/help/img/idea/2019.3/android_application_physical.png" id="c7f18b7a" width="360" height="640"></figure>            </p></li></ol>    </div>    <div class="last-modified" data-skip-index="skip">Last modified: 29 November 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="editing-ui-layout-using-text-editor.html">Editing UI Layout Using Text Editor</a><a class="navigation-links__next" href="creating-unit-tests.html">Creating Unit Tests</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>