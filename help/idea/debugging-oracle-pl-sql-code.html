<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>Debugging Oracle PL/SQL code - Help | IntelliJ IDEA</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body data-id="Debugging_Oracle_PL_SQL_code" data-breadcrumbs="Language and framework-specific guidelines/Relational_Databases.xml|Database tools and SQL/Working with SQL code/Debugging_Oracle_PL_SQL_code.xml|Debugging Oracle PL/SQL code" data-main-title="Debugging Oracle PL/SQL code"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search IntelliJ IDEA Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>IntelliJ IDEA 2019.3 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="primary" value="primary_default_for_windows" selected>Default for Windows</option><option data-group="primary" value="primary_eclipse">Eclipse</option><option data-group="primary" value="primary_emacs">Emacs</option><option data-group="primary" value="primary_netbeans">NetBeans</option><option data-group="primary" value="primary_sublime_text">Sublime Text</option><option data-group="primary" value="primary_visual_studio">Visual Studio</option><option data-group="secondary" value="secondary_macos">macOS</option><option data-group="secondary" value="secondary_eclipse">Eclipse</option><option data-group="secondary" value="secondary_eclipse_macos">Eclipse (macOS)</option><option data-group="secondary" value="secondary_emacs">Emacs</option><option data-group="secondary" value="secondary_intellij_idea_classic">IntelliJ IDEA Classic</option><option data-group="secondary" value="secondary_netbeans">NetBeans</option><option data-group="secondary" value="secondary_sublime_text">Sublime Text</option><option data-group="secondary" value="secondary_sublime_text_macos">Sublime Text (macOS)</option><option data-group="secondary" value="secondary_visual_studio">Visual Studio</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 data-toc="Debugging_Oracle_PL_SQL_code" id="Debugging_Oracle_PL_SQL_code.xml">Debugging Oracle PL/SQL code</h1><a name="pl_sql_debugger_oracle"></a>            <p id="d34c1330">The debugger is based on the Oracle Probe that uses API of the DBMS_DEBUG package and should work on Oracle servers 9.0 and later.</p>            <p id="96e23998">In Oracle, you can debug the following program units (PL/SQL programs): anonymous blocks, packages, procedures, functions, and triggers. </p><div class="chapter"><h2 id="step-1-create-a-pl-sql-object" data-toc="Debugging_Oracle_PL_SQL_code#step-1-create-a-pl-sql-object">Step 1. Create a PL/SQL object</h2>            <section class="procedure-steps"><ol class="list _decimal"><li class="list__item" id="437923d9"><p>Right-click the Oracle data source and select <span class="control">Open Console</span> <kbd data-primary_default_for_windows="Ctrl+Shift+F10" data-primary_eclipse="Ctrl+Shift+F10" data-primary_emacs="Ctrl+Shift+F10" data-primary_netbeans="Ctrl+Shift+F10" data-primary_sublime_text="Ctrl+Shift+F10" data-primary_visual_studio="Ctrl+Shift+F10" data-secondary_macos="⇧⌘F10" data-secondary_eclipse="⌃⇧F10" data-secondary_eclipse_macos="⇧⌘F10" data-secondary_emacs="⌃⇧F10" data-secondary_intellij_idea_classic="⇧⌘F10" data-secondary_netbeans="⌃⇧F10" data-secondary_sublime_text="⌃⇧F10" data-secondary_sublime_text_macos="⇧⌘F10" data-secondary_visual_studio="⌃⇧F10">Ctrl+Shift+F10</kbd>.</p></li><li class="list__item" id="54603f0e"><p>Type or paste your code in the console.</p></li><li class="list__item" id="eb4aa853"><p id="bfd207ed">Click the <span class="control">Execute</span> button <img class="inline-icon-16" src="/help/img/idea/2019.3/icons.actions.execute@2x.png" width="16" alt="the Execute button"> or press <kbd data-primary_default_for_windows="Ctrl+Enter" data-primary_eclipse="Ctrl+Enter" data-primary_emacs="Ctrl+Enter" data-primary_netbeans="Ctrl+Enter" data-primary_sublime_text="Ctrl+Enter" data-primary_visual_studio="Ctrl+Enter" data-secondary_macos="⌘⏎" data-secondary_eclipse="⌃⏎" data-secondary_eclipse_macos="⌘⏎" data-secondary_emacs="⌃⏎" data-secondary_intellij_idea_classic="⌘⏎" data-secondary_netbeans="⌃⏎" data-secondary_sublime_text="⌃⏎" data-secondary_sublime_text_macos="⌘⏎" data-secondary_visual_studio="⌃⏎">Ctrl+Enter</kbd> to run the procedure code.</p>                    <p id="507abbd2">As a result, you see a created object in the <span class="control">Database</span> tool window (<span data-skip-index="skip" class="menupath">View | Tool Windows | Database</span>).</p></li></ol><figure><img alt="Create a PL/SQL object" title="Create a PL/SQL object" src="/help/img/idea/2019.3/pl_sql_debugging_create_procedure.png" id="7567cd45" class=" _border-line" width="706" height="612"></figure><p id="da0c87db"><a href="https://github.com/apronichev/datagrip-code-examples/blob/master/oracle/plSqlDebugger/SIMPLEPROCEDURE.sql" data-external="true" target="_blank" rel="noopener noreferrer">Code snippet of the procedure on GitHub</a></p></section></div>            <div class="chapter"><h2 id="step-2-compile-a-pl-sql-object-with-the-debug-option" data-toc="Debugging_Oracle_PL_SQL_code#step-2-compile-a-pl-sql-object-with-the-debug-option">Step 2. Compile a PL/SQL object with the debug option</h2>            <section class="procedure-steps"><p id="43b18266">To enable debugging for a PL/SQL code, you need to compile it with the <code class="code">debug</code> option. The process                    of compilation converts PL/SQL code to Pro*C, which is then compiled to Oracle shared libraries. The compilation                    helps the Oracle interpreter to process your code faster.</p><ol class="list _decimal"><li class="list__item" id="ad5e8bae"><p>Right-click the PL/SQL object that you want to debug and select <span data-skip-index="skip" class="menupath">Database Tools | Recompile</span>.</p></li><li class="list__item" id="09d40ad5"><p>In the <span class="control">Recompile</span> dialog, select <span class="control">With "debug" option</span>.</p></li><li class="list__item" id="c530e5f3"><p id="b3ed2533">Click <span class="control">OK</span>.</p>                                <figure><img alt="Compile code for debugging" title="Compile code for debugging" src="/help/img/idea/2019.3/pl_sql_debugging_compile_for_debug.png" id="bf499452" class=" _border-line" width="706" height="866"></figure>                </li></ol></section>            </div>            <div class="chapter"><h2 id="step-3-debug-pl-sql-program-objects-through-anonymous-blocks" data-toc="Debugging_Oracle_PL_SQL_code#step-3-debug-pl-sql-program-objects-through-anonymous-blocks">Step 3. Debug PL/SQL program units</h2>            <section class="procedure-steps"><h3 id="debug-pl-sql-program-objects-through-anonymous-blocks">Debug PL/SQL procedures and functions through anonymous blocks</h3><p id="58c2c09f">PL/SQL program units organize the code into blocks. A block without a name is an anonymous block. The                    anonymous block is not stored in the Oracle database. In the debugging process, you use the anonymous                    block to pass values for parameters.</p><p id="5a1927bc">To debug procedures and functions, write an anonymous block that calls the necessary routine.</p><ol class="list _decimal"><li class="list__item" id="4bd33437"><p>In the <span class="control">Database</span> tool window (<span data-skip-index="skip" class="menupath">View | Tool Windows | Database</span>), double-click                    the PL/SQL object that you <a href="#step-1-create-a-pl-sql-object">created</a> and                    <a href="#step-2-compile-a-pl-sql-object-with-the-debug-option">compiled</a> for debugging.</p></li><li class="list__item" id="c8b61269"><p>Click the <span class="control">Run Procedure</span> button <img class="inline-icon-16" src="/help/img/idea/2019.3/database-openapi.icons.procedureRun@2x.png" width="16" alt="the Run Procedure button">.                    If the session is not selected, select a session from the drop-down list. For more information about managing sessions,                    see <a href="run-a-query.html#managing-connection-sessions">Managing connection sessions</a>.</p></li><li class="list__item" id="8dac1315"><p>From the <span class="control">Execute Routine</span> dialog, click the <span class="control">Open in console</span> icon                    (<img class="inline-icon-16" src="/help/img/idea/2019.3/icons.actions.MoveTo2@2x.png" width="16" alt="the Open in console icon">) to open the anonymous block in the Oracle console.                    Alternatively, you can copy and paste the anonymous block to the console manually.</p></li><li class="list__item" id="a5259c50"><p>Place breakpoints in the anonymous block and in the PL/SQL program object that is referenced in this anonymous block.</p></li><li class="list__item" id="fb7257e2"><p>(Optional) Modify parameter values.</p></li><li class="list__item" id="d4fed7c9"><p id="bbf987f5">Click <span class="control">Debug</span>.</p>                <figure data-theme="light" id="2dc4145a" width="706"><img class="js-gif" src="/help/img/idea/2019.3/pl_sql_debugging_run_debug_in_anonymous_block.png" data-gif-src="/help/img/idea/2019.3/pl_sql_debugging_run_debug_in_anonymous_block.animated.gif" width="706" style="width:706px;"></figure>                </li></ol><p id="571d5958"><a href="https://github.com/apronichev/datagrip-code-examples/blob/master/oracle/plSqlDebugger/SIMPLEPROCEDURE.sql" data-external="true" target="_blank" rel="noopener noreferrer">Code snippet of the procedure on GitHub</a></p></section>                <section class="procedure-steps"><h3 id="debug-pl-sql-triggers-through-queries">Debug PL/SQL triggers through queries</h3><p id="f4cbdfa3">A trigger is a PL/SQL program unit that is automatically called by the DBMS when you issue                        INSERT, UPDATE or DELETE queries. Triggers are associated with a table and are called before or                        after you insert, update, or delete a data row. A table can have several triggers.</p><p id="bca5c304">To debug a trigger, write an INSERT, UPDATE or DELETE query to a table or a view.</p><ol class="list _decimal"><li class="list__item" id="670c37e3"><p>Right-click the Oracle data source and select <span class="control">Open Console</span> <kbd data-primary_default_for_windows="Ctrl+Shift+F10" data-primary_eclipse="Ctrl+Shift+F10" data-primary_emacs="Ctrl+Shift+F10" data-primary_netbeans="Ctrl+Shift+F10" data-primary_sublime_text="Ctrl+Shift+F10" data-primary_visual_studio="Ctrl+Shift+F10" data-secondary_macos="⇧⌘F10" data-secondary_eclipse="⌃⇧F10" data-secondary_eclipse_macos="⇧⌘F10" data-secondary_emacs="⌃⇧F10" data-secondary_intellij_idea_classic="⇧⌘F10" data-secondary_netbeans="⌃⇧F10" data-secondary_sublime_text="⌃⇧F10" data-secondary_sublime_text_macos="⇧⌘F10" data-secondary_visual_studio="⌃⇧F10">Ctrl+Shift+F10</kbd>.</p></li><li class="list__item" id="b0d34c1c"><p>Type a query in the console.</p></li><li class="list__item" id="a5494503"><p>Place breakpoints in a trigger.</p></li><li class="list__item" id="7b96a3a0"><p id="9f3c16fd">Click <span class="control">Debug</span>.</p>                                                <figure data-theme="light" id="1b998d7e" width="706"><img class="js-gif" src="/help/img/idea/2019.3/pl_sql_debugging_run_debug_triggers.png" data-gif-src="/help/img/idea/2019.3/pl_sql_debugging_run_debug_triggers.animated.gif" width="706" style="width:706px;"></figure>                    </li></ol><p id="6857afa2"><a href="https://github.com/apronichev/datagrip-code-examples/blob/master/oracle/plSqlDebugger/TRIGGERS.sql" data-external="true" target="_blank" rel="noopener noreferrer">Code snippet of the trigger on GitHub</a></p></section>            </div>    <a name="stepping_modes_settings"></a>        <div class="chapter"><h2 id="stepping-modes" data-toc="Debugging_Oracle_PL_SQL_code#stepping-modes">Stepping modes</h2>            <p id="e76a2294">When you debug PL/SQL code, you can select between two stepping modes: <span class="control">Graceful</span> and <span class="control">Native</span>.</p>            <p id="8a4c5e2c">In <span class="control">Graceful</span> mode, you can pause the session that you debug (the target session), set and remove breakpoints.                If no valid breakpoints are set, the debugger steps through code on a line-by-line basis.</p>            <p id="e0484916">In <span class="control">Native</span> mode, the debugger uses Oracle native debugging commands.                You cannot pause the target session or manage breakpoints but you might experience a boost in performance in CPU-intensive                operations (operations that include a lot of computations and loops). You can read more about Oracle debugging commands                in <a href="https://docs.oracle.com/database/121/ARPLS/d_debug.htm#ARPLS66129" data-external="true" target="_blank" rel="noopener noreferrer">the official Oracle documentation</a>.                If no valid breakpoints are set, the debugger executes the whole routine.            </p>            <section class="procedure-steps"><h3 id="change-the-stepping-mode">Change the stepping mode</h3><ol class="list _decimal"><li class="list__item" id="2a46e9f2"><p>Open settings (<kbd data-primary_default_for_windows="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-primary_emacs="Ctrl+Alt+S" data-primary_netbeans="Ctrl+Alt+S" data-primary_sublime_text="Ctrl+Alt+S" data-primary_visual_studio="Alt+F7" data-secondary_macos="⌘," data-secondary_eclipse="⌃⌥S" data-secondary_eclipse_macos="⌘," data-secondary_emacs="⌃⌥S" data-secondary_intellij_idea_classic="⌘," data-secondary_netbeans="⌃⌥S" data-secondary_sublime_text="⌃⌥S" data-secondary_sublime_text_macos="⌘," data-secondary_visual_studio="⌥F7">Ctrl+Alt+S</kbd>) and navigate to <span data-skip-index="skip" class="menupath">Build, Execution, Deployment | Debugger | Stepping</span>.</p></li><li class="list__item" id="c51af69f"><p>From the <span class="control">Stepping mode</span> list, select the stepping mode that you need.</p></li></ol></section>            <section class="procedure-steps"><h3 id="pause-at-the-beginning-of-debuggable-code">Pause at the beginning of debuggable code</h3><p id="b25e2e0f">You can force the debugger to pause at the beginning of debuggable code. The place where the debugger pauses is detected automatically.                    If you assign variable values in the declaration section, the debugger pauses at the variable declaration.                    If no values are assigned to variables, the debugger skips the declaration section and pauses at the <code class="code">BEGIN</code> keyword                    in the execution section.</p><ol class="list _decimal"><li class="list__item" id="a17f9a26"><p>Open settings (<kbd data-primary_default_for_windows="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-primary_emacs="Ctrl+Alt+S" data-primary_netbeans="Ctrl+Alt+S" data-primary_sublime_text="Ctrl+Alt+S" data-primary_visual_studio="Alt+F7" data-secondary_macos="⌘," data-secondary_eclipse="⌃⌥S" data-secondary_eclipse_macos="⌘," data-secondary_emacs="⌃⌥S" data-secondary_intellij_idea_classic="⌘," data-secondary_netbeans="⌃⌥S" data-secondary_sublime_text="⌃⌥S" data-secondary_sublime_text_macos="⌘," data-secondary_visual_studio="⌥F7">Ctrl+Alt+S</kbd>) and navigate to <span data-skip-index="skip" class="menupath">Build, Execution, Deployment | Debugger | Stepping</span>.</p></li><li class="list__item" id="1873db46"><p>Select <span class="control">Pause at begin</span>.</p></li></ol><figure><img alt="Pause at the beginning of debuggable code" title="Pause at the beginning of debuggable code" src="/help/img/idea/2019.3/db_pause_at_debuggable_code.svg" id="fc4a6daa" class=" _border-line" width="296" height="397"></figure></section>        </div>    <div class="last-modified" data-skip-index="skip">Last modified: 29 November 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="extending-the-product-functionality.html">Extending the functionality of database tools</a><a class="navigation-links__next" href="exporting-and-importing-data.html">Exporting and importing data</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>