<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>Work with Scala worksheet and Ammonite - Help | IntelliJ IDEA</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body data-id="Work_with_Scala_worksheet_and_Ammonite" data-breadcrumbs="Language and framework-specific guidelines/Scala/Work_with_Scala_worksheet_and_Ammonite.xml|Work with Scala worksheet and Ammonite" data-main-title="Work with Scala worksheet and Ammonite"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search IntelliJ IDEA Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>IntelliJ IDEA 2019.3 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="primary" value="primary_default_for_windows" selected>Default for Windows</option><option data-group="primary" value="primary_eclipse">Eclipse</option><option data-group="primary" value="primary_emacs">Emacs</option><option data-group="primary" value="primary_netbeans">NetBeans</option><option data-group="primary" value="primary_sublime_text">Sublime Text</option><option data-group="primary" value="primary_visual_studio">Visual Studio</option><option data-group="secondary" value="secondary_macos">macOS</option><option data-group="secondary" value="secondary_eclipse">Eclipse</option><option data-group="secondary" value="secondary_eclipse_macos">Eclipse (macOS)</option><option data-group="secondary" value="secondary_emacs">Emacs</option><option data-group="secondary" value="secondary_intellij_idea_classic">IntelliJ IDEA Classic</option><option data-group="secondary" value="secondary_netbeans">NetBeans</option><option data-group="secondary" value="secondary_sublime_text">Sublime Text</option><option data-group="secondary" value="secondary_sublime_text_macos">Sublime Text (macOS)</option><option data-group="secondary" value="secondary_visual_studio">Visual Studio</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 data-toc="Work_with_Scala_worksheet_and_Ammonite" id="Work_with_Scala_worksheet_and_Ammonite.xml">Work with Scala worksheet and Ammonite</h1>    <p id="9eb04eba">You can quickly evaluate and run Scala code using either a Scala worksheet or        <a href="http://ammonite.io/#ScalaScripts" data-external="true" target="_blank" rel="noopener noreferrer">Ammonite</a>.    </p>    <p id="c88fc64e">Since in IntelliJ IDEA Scala worksheet and Ammonite files have the same file extension <span class="filepath">.sc</span>,        you need to let IntelliJ IDEA know how to treat such files in your project.    </p>    <section class="procedure-steps"><ol class="list _decimal"><li class="list__item" id="ammonite_settings"><p>            <a name="open_settings"></a>                In the        <a name="settings_dialog"></a>        <span class="control">Settings/Preferences</span> dialog <kbd data-primary_default_for_windows="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-primary_emacs="Ctrl+Alt+S" data-primary_netbeans="Ctrl+Alt+S" data-primary_sublime_text="Ctrl+Alt+S" data-primary_visual_studio="Alt+F7" data-secondary_macos="⌘," data-secondary_eclipse="⌃⌥S" data-secondary_eclipse_macos="⌘," data-secondary_emacs="⌃⌥S" data-secondary_intellij_idea_classic="⌘," data-secondary_netbeans="⌃⌥S" data-secondary_sublime_text="⌃⌥S" data-secondary_sublime_text_macos="⌘," data-secondary_visual_studio="⌥F7">Ctrl+Alt+S</kbd>, go to <span data-skip-index="skip" class="menupath">Languages &amp; Frameworks |            Scala</span>.        </p></li><li class="list__item" id="13813051">On the <span class="control">Worksheet</span> tab, in the <span class="control">Treat .sc files as</span> field            the <span class="control">Always Worksheet</span> option is selected by default.            <p id="a3212147">Select                <span class="control">Always Ammonite</span>                for the Ammonite support.            </p>            <p id="160c83f5">You can also                select the <span class="control">Ammonite in test sources, otherwise Worksheet</span> option to treat only test                files as Ammonite.            </p>            <figure><img alt="Scala settings" title="Scala settings" src="/help/img/idea/2019.3/scala_ws_settings.png" id="e179bd61" width="600" height="313"></figure>        </li><li class="list__item" id="27568392"><p>Save your changes.</p></li></ol><p id="5ac25fdd">While in the settings, you can also set the output cutoff limit, specify in what mode you want to            run the worksheet or Ammonite script, or configure how you want IntelliJ IDEA to treat <span class="filepath">.sc</span> and            scratch files.        </p><aside data-type="note" class="prompt" data-title="" rel="5ac25fdd" id="62bff214">            <p id="a6176575">If you select the <span class="control">Use "eclipse compatibility" mode</span> checkbox                then all the statements                inside the object will be included in the worksheet's output.            </p>        </aside></section>    <section class="procedure-steps"><h3 id="create_sc_file" data-toc="Work_with_Scala_worksheet_and_Ammonite#create_sc_file">Create an .sc file</h3><ol class="list _decimal"><li class="list__item" id="6b882c10"><p>Right-click your project and select <span class="control">New</span>|<span class="control">Scala Worksheet</span>.            We recommend that you create an <span class="filepath">.sc</span> file in the <span class="filepath">src</span> directory to avoid problems            with            code highlighting.        </p></li><li class="list__item" id="242ec36c">In the <span class="control">New Scala Worksheet</span> window, type the name of the file and            click <span class="control">OK</span>.            <p id="80d0ed09">As a result, a file with <span class="filepath">.sc</span> extension opens. Based on the <a href="#ammonite_settings">                file configuration</a>, it is treated either as a Scala worksheet or as Ammonite.            </p>        </li></ol></section>    <section class="procedure-steps"><h3 id="run_scala_worksheet" data-toc="Work_with_Scala_worksheet_and_Ammonite#run_scala_worksheet">Run Scala code using Scala worksheet</h3><ol class="list _decimal"><li class="list__item" id="c3e2b396"><p>Create a <a href="#create_sc_file">Scala worksheet</a> file and open it in the editor.            <figure><img alt="Scala worksheet" title="Scala worksheet" src="/help/img/idea/2019.3/sc_worksheet.png" id="2dbf1389" width="473" height="177"></figure>        </p></li><li class="list__item" id="remove_sc_results">Add your code.            <p id="e49a17d2">Besides standard actions such as code completion and                string formatting, IntelliJ IDEA supports the following actions:            </p>            <ul class="list _ul"><li class="list__item" id="51120be1"><p>Evaluating Scala objects                </p></li><li class="list__item" id="bd52a72f"><p>Folding the output without affecting your code on the left side and expanding only that                    block of the output that matches a specific statement.                    <figure><img alt="sc wsheet unfold" title="sc wsheet unfold" src="/help/img/idea/2019.3/sc_wsheet_unfold.png" id="89ca1cf6" width="765" height="282"></figure>                </p></li></ul>        </li><li class="list__item" id="bd082ec5"><p>Click            <img class="inline-icon-16" src="/help/img/idea/2019.3/icons.actions.execute@2x.png" width="16" alt="the Run button">            to see the results.        </p></li></ol></section>    <section class="procedure-steps"><h3 id="worksheet_actions" data-toc="Work_with_Scala_worksheet_and_Ammonite#worksheet_actions">Work with the current worksheet settings</h3><ol class="list _decimal"><li class="list__item" id="0a55c640"><p>Open a Scala worksheet file in the editor. Click            <img class="inline-icon-16" src="/help/img/idea/2019.3/icons.general.settings@2x.png" width="16" alt="the Settings icon">            on the toolbar of the worksheet editor to open the <span class="control">Worksheet settings</span> dialog.        </p></li><li class="list__item" id="9986bbd7"><p>In the <span class="control">Worksheet settings</span> dialog, configure the current worksheet settings or the            default worksheet settings for the whole project that will affect other worksheets.            <figure><img alt="sc ws settings" title="sc ws settings" src="/help/img/idea/2019.3/sc_ws_settings.png" id="0ee53638" width="400" height="269"></figure>        </p></li><li class="list__item" id="a77702c7">Use the following options for your configuration:            <ul class="list _ul"><li class="list__item" id="4413f322"><p><span class="control">Interactive Mode</span>: select this checkbox to have the results shown automatically.                </p></li><li class="list__item" id="07d940e1"><p><span class="control">Make project</span>: clear this check checkbox to disable automatic                    checking of project's changes and thus improve evaluation performance.                </p></li><li class="list__item" id="0fcb1cea"><p><span class="control">Run type</span>: from this list, select the appropriate evaluation mode.                    For example, select the                    <a href="https://docs.scala-lang.org/overviews/repl/overview.html" data-external="true" target="_blank" rel="noopener noreferrer">REPL</a>                    type to quickly evaluate Scala expressions. When you add new expressions they are executed                    incrementally.                </p></li><li class="list__item" id="26e2783c"><span class="control">Use class path of module</span>: this field is disabled since                    the worksheet is a file that you can share between other projects and should                    stay where you created it.                    You can change its location in the default settings, but it will be applied                    across the whole project and will affect other worksheets.                    <p id="5deb3e22">If you need to change a class path, we recommend that you create and use                        a <a href="scratches.html">scratch file</a> instead.                    </p>                    <figure><img alt="sc scratch file" title="sc scratch file" src="/help/img/idea/2019.3/sc_scratch_file.png" id="1cc5ec75" width="583" height="182"></figure>                </li><li class="list__item" id="fc62b759"><span class="control">Compiler profile</span>: in this field select a compiler profile for your worksheet.                    Select one from the list or click                    <img class="inline-icon-16" src="/help/img/idea/2019.3/icons.general.settings@2x.png" width="16" alt="the Settings icon">                    to access the Scala compiler settings for more options.                    <aside data-type="note" class="prompt" data-title="" rel="2c9340f5" id="10b89e0d">                        <p id="b95d4ed5">If you add or change a profile through the compiler settings page and you have an                            <a href="sbt-support.html">sbt project</a>, your changes will be discarded on the next                            project import.                        </p>                    </aside>                </li></ul>        </li></ol></section>    <section class="procedure-steps"><h3 id="ammonite_support" data-toc="Work_with_Scala_worksheet_and_Ammonite#ammonite_support">Configure the Ammonite support in IntelliJ IDEA</h3><ul class="list "><li class="list__item" id="386996d3">Depending on your project, do the following:            <ul class="list _ul"><li class="list__item" id="85867c8b"><p>If you have an <a href="sbt-support.html">sbt project</a>, add the following code to the <span class="filepath">                    build.sbt                </span> file:                    <div class="code-block" data-lang="scala">
                        libraryDependencies += {
                            val version = scalaBinaryVersion.value match {
                                case "2.10" =&gt; "1.0.3"
                                case _ ⇒ "1.6.5"
                            }
                            "com.lihaoyi" % "ammonite" % version % "test" cross CrossVersion.full
                        }

                        sourceGenerators in Test += Def.task {
                            val file = (sourceManaged in Test).value / "amm.scala"
                            IO.write(file, """object amm extends App { ammonite.Main.main(args) }""")
                            Seq(file)
                        }.taskValue
                    </div>                    Refresh the project to import the changes.                </p></li><li class="list__item" id="e38e78be"><p>If you have a regular Scala project, download                    <a href="http://ammonite.io/#Ammonite-REPL" data-external="true" target="_blank" rel="noopener noreferrer">Ammonite</a>                    and specify the location of its executable.                    For example, you can modify the <span class="filepath">$path</span> variable or                    specify the path in the default                    <a href="run-debug-configuration-ammonite.html">Ammonite run/debug configuration</a>, in the                    <span class="control">Amm executable</span>                    field.                </p></li></ul>        </li></ul></section>    <section class="procedure-steps"><h3 id="c0d61f46" data-toc="Work_with_Scala_worksheet_and_Ammonite#c0d61f46">Run Scala scripts using Ammonite</h3><ol class="list _decimal"><li class="list__item" id="d54a791e"><p>            Create an <a href="#create_sc_file">Ammonite file</a> and open it in the editor.        </p></li><li class="list__item" id="88763a01">Add your code.            <p id="67478b3e">Besides standard code completion and importing actions, IntelliJ IDEA supports the following                Ammonite-specific actions:            </p>            <ul class="list _ul"><li class="list__item" id="db7ff016"><p>Code completion for Ammonite-specific commands                    <figure data-theme="light" id="f4fd96d0" width="600"><img class="js-gif" src="/help/img/idea/2019.3/ammonite_command.png" data-gif-src="/help/img/idea/2019.3/ammonite_command.animated.gif" width="600" style="width:600px;"></figure>                </p></li><li class="list__item" id="f02d5e19"><p>References to code from other Ammonite files and code completion for them                    <figure data-theme="light" id="b7b39755" width="600"><img class="js-gif" src="/help/img/idea/2019.3/ammonite_file_reference.png" data-gif-src="/help/img/idea/2019.3/ammonite_file_reference.animated.gif" width="600" style="width:600px;"></figure>                </p></li></ul>        </li><li class="list__item" id="252419cf">            In the left gutter, click            <img class="inline-icon-16" src="/help/img/idea/2019.3/icons.actions.execute@2x.png" width="16" alt="the Run icon">            and            select <span class="control">Run script</span> to view the results in the <span class="control">Run</span> tool window.            <p id="01f7de5b">Alternatively, you can create and run an <a href="run-debug-configuration-ammonite.html">Ammonite                run/debug configuration</a>.            </p>        </li></ol></section>    <div class="last-modified" data-skip-index="skip">Last modified: 29 November 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="run-debug-and-test-scala.html">Run, debug and test Scala</a><a class="navigation-links__next" href="sbt-support.html">SBT</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>