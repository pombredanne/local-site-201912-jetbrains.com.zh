<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>从InCloud迁移到独立-帮助|帮助YouTrack单机版</title><link rel="stylesheet" href="/resources.jetbrains.com/storage/help-app/v3/app.css"></head><body  data-id="Migrate-from-InCloud-to-Standalone" data-breadcrumbs="Migrating-to-YouTrack.xml|Migrate to YouTrack/Migrate-from-InCloud-to-Standalone.xml|Migrate from InCloud to Standalone" data-main-title="Migrate from InCloud to Standalone"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索YouTrack独立帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>YouTrack Standalone 2019.2帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 id="Migrate-from-InCloud-to-Standalone.xml" data-toc="Migrate-from-InCloud-to-Standalone">从InCloud迁移到独立</h1>        <p id="f3adb724">本页提供有关从JetBrains托管的YouTrack InCloud实例迁移到自托管的YouTrack Standalone服务器的说明。当您执行这种类型的迁移时，我们假设：</p>        <ul class="list _ul"><li class="list__item" id="772c0ddf"><p>您的YouTrack Standalone安装为空或可以被覆盖。</p></li><li class="list__item" id="e4b4a5b8"><p>您打算退休您的InCloud实例，并且专门与独立服务器一起使用，或者将InCloud实例用于其他目的。</p></li><li class="list__item" id="df7d76bd"><p id="4a91d241">您已经购买了YouTrack Standalone的许可证，该许可证达到或超过托管实例中的活动用户数。在迁移过程中，您需要输入<span class="control">许可证用户名</span>和<span class="control">许可证密钥</span> ，因此请妥善保管这些值。</p>              <p id="4e6059d3">如果您当前正在使用免费计划，并且未迁移到商业独立许可证，则可以使用YouTrack Standalone免费版本的值，如下所示：</p>              <div class="table-wrapper"><table width="100%" id="0621d392"><thead><tr id="b6405e7e" class="ijRowHead"><th id="c5090d3e" width="20%"><p>领域</p></th><th id="18a0cc61"><p>值</p></th></tr></thead><tbody><tr id="4083c5b7" class="ijRowOdd"><td id="4be3fe7a"><p>许可证用户名</p></td><td id="6db2a254"><p>YouTrack默认</p></td></tr><tr id="21e8a3d4" class="ijRowEven"><td id="4fd66314"><p>注册码</p></td><td id="9d86fde7"><code class="code">42bd2ce4dbaf8554bf082946a1c039d4384e81a99ed53fb75215c1b6ace8d34cf66889fdeee418cbe93d54f38f6e94a8a05a0108234b1955582d566283e3d084b23a0b8b52b016b0e610abcbbe7573fa3ff8fb3cdc9346dc94ef5f596f5b12719abcb02e6fae23d98f53f22a01788066aac7298b7fe79cc3dcd6f8df2fb41ab4</code></td></tr></tbody></table></div>            </li></ul>        <p id="65a5c61e">如果您只是想将问题从YouTrack InCloud实例导入到现有的YouTrack Standalone服务器，请参阅<a href="Import-from-Another-YouTrack-Server.html">从其他YouTrack服务器导入问题</a> 。</p>        <p id="66926c67">许多管理员在从InCloud实例迁移数据并使其他用户可以使用之前，安装并测试YouTrack Standalone。在这种情况下，独立安装仅包含可以删除的测试数据。如果您出于测试目的设置了YouTrack Standalone安装，我们建议您卸载测试安装并将数据从YouTrack InCloud实例迁移到YouTrack Standalone的全新安装。</p><div class="chapter"><h2 id="export-incloud-database" data-toc="Migrate-from-InCloud-to-Standalone#export-incloud-database">导出您的YouTrack InCloud数据库</h2>        <p id="a442d8fb">第一步是导出YouTrack InCloud数据库的备份副本。</p>  <section class="procedure-steps"><h3 id="export-procedure">要导出YouTrack InCloud数据库：</h3><aside class="prompt" rel="export-procedure" id="7786f59a" data-type="tip" data-title=""><p>需要权限：低级管理员读取</p></aside><ol class="list _decimal"><li class="list__item" id="84b1194b"><p>在YouTrack InCloud中，打开“ <span class="menupath" data-skip-index="skip">管理”>“数据库导出”</span>页面。</p></li><li class="list__item" id="cb814bbb"><p>单击<span class="control">更新导出文件</span>按钮。</p></li><li class="list__item" id="ee13c644"><p id="af2ea04a">导出文件完成更新后，单击“ <span class="control">下载”</span>链接。</p>            <ul class="list _ul"><li class="list__item" id="2d854fe6"><p>备份文件将保存到本地目录。</p></li></ul></li></ol></section></div>  <div class="chapter"><h2 id="install-youtrack-standalone" data-toc="Migrate-from-InCloud-to-Standalone#install-youtrack-standalone">独立安装YouTrack</h2>        <p id="227a217d">下一步是使用YouTrack InCloud实例中的数据安装YouTrack Standalone。</p>        <ul class="list _ul"><li class="list__item" id="54159fb5"><p><a href="#migrate-MSI-ZIP">对于MSI和ZIP发行版</a> ，您可以在安装过程中自动导入数据。</p></li><li class="list__item" id="dc1b556f"><p><a href="#migrate-JAR">对于JAR发行版</a> ，您需要先安装YouTrack，然后从数据库备份文件中提取数据。</p></li></ul>        <p id="19f169d2">请注意，您的YouTrack InCloud数据库备份包含InURL实例的基本URL和许可证。请按照本指南中的说明更新这些属性并正确配置YouTrack Standalone服务器。</p>        <section class="procedure-steps"><h3 id="migrate-MSI-ZIP">要使用MSI或ZIP发行版迁移到YouTrack Standalone，请执行以下操作：</h3><ol class="list _decimal"><li class="list__item" id="569b6da1">下载并安装MSI或ZIP发行版。遵循标准安装指南，直至在默认浏览器中打开基于Web的<span class="control">配置向导</span>的步骤。<ul class="list _ul"><li class="list__item" id="54dab111"><p>有关MSI安装指南，请参阅《 <a href="Install-YouTrack-MSI-Installation.html">MSI安装》</a> 。</p></li><li class="list__item" id="180daddb"><p>有关ZIP安装指南，请参阅<a href="Install-YouTrack-ZIP-Installation.html">ZIP安装</a> 。</p></li></ul>            </li><li class="list__item" id="7b838f05"><p>在<span class="control">配置向导中</span> ，单击“ <span class="control">升级”</span> 。</p></li><li class="list__item" id="67520005"><p>在“ <span class="control">选择升级源”</span>页面上，选择在上一过程中从YouTrack InCloud实例导出的数据库备份。</p></li><li class="list__item" id="3cd85cbc"><p id="3ba60a05">单击<span class="control">下一步</span>按钮。</p>            <ul class="list _ul"><li class="list__item" id="5a32aa52"><p>将打开“ <span class="control">确认设置”</span>页面。</p></li><li class="list__item" id="a49ce16b"><p><span class="control">基本URL</span>显示YouTrack InCloud实例的URL。</p></li></ul></li><li class="list__item" id="da7ad0ef"><p>将<span class="control">基本URL</span>设置更改为YouTrack Standalone服务器的URL。</p></li><li class="list__item" id="e3a33648"><p id="501d28fc">单击<span class="control">升级</span>按钮。</p>            <ul class="list _ul"><li class="list__item" id="aa6a7bed"><p>该配置将应用于您的YouTrack Standalone服务器。</p></li><li class="list__item" id="482c2f59"><p>YouTrack服务开始使用与YouTrack InCloud实例关联的许可证。通知您该许可证只能用于YouTrack InCloud。</p></li></ul></li><li class="list__item" id="b96f9d67"><p>单击链接访问“ <span class="control">全局设置”</span>页面。</p></li><li class="list__item" id="c2aec4e1"><p>输入YouTrack Standalone的<span class="control">许可证用户名</span>和<span class="control">许可证密钥</span> 。</p></li><li class="list__item" id="5216373b"><p id="11c9905e">单击<span class="control">保存</span>按钮。</p>            <ul class="list _ul"><li class="list__item" id="bfd5ce61"><p>您的YouTrack服务器使用更新的许可证运行。</p></li><li class="list__item" id="531b209a"><p>YouTrack InCloud实例中的数据可在YouTrack Standalone服务器上使用。</p></li></ul></li></ol></section>        <section class="procedure-steps"><h3 id="migrate-JAR">要使用JAR发行版迁移到YouTrack Standalone：</h3><ol class="list _decimal"><li class="list__item" id="1b0df85d"><p>下载JAR发行版，并将其上传到您的服务器。</p></li><li class="list__item" id="106b294d"><p id="654ae943">在运行YouTrack服务之前，请将数据从YouTrack InCloud实例提取到独立安装的数据目录中。</p>            <ul class="list _alpha-lower"><li class="list__item" id="f14b2dd7"><p>检查独立安装的数据目录，并确认其为空。数据库的默认位置在<code class="code">teamsysdata</code>运行YouTrack的用户帐户的主目录中的文件夹。如果此目录中有任何文件或文件夹，请删除它们。</p></li><li class="list__item" id="25d264fd"><p>将数据库备份文件的内容提取到您的数据目录中。提取后，数据目录包含两个文件夹： <code class="code">hub</code>和<code class="code">youtrack</code> 。</p></li></ul>            </li><li class="list__item" id="485761c7"><p id="94fa2eb5">从命令行运行YouTrack Standalone。使用以下Java启动参数来配置服务器：</p>            <div class="table-wrapper"><table width="100%" id="57d82c16"><thead><tr id="78ab8365" class="ijRowHead"><th id="d2ce3119"><p>参数</p></th><th id="99f5255b"><p>描述</p></th></tr></thead><tbody><tr id="f2c6720f" class="ijRowOdd"><td id="c28d3d56"><p>jetbrains.youtrack.baseUrl</p></td><td id="32b0fa20"><p>将<span class="control">基本URL</span>属性设置为YouTrack Standalone服务器的基本URL。</p></td></tr><tr id="60254550" class="ijRowEven"><td id="93aa5948"><p>jetbrains.youtrack.licenseName</p></td><td id="4e72764a"><p>将YouTrack许可证的名称设置为YouTrack Standalone许可证的名称。</p></td></tr><tr id="2de16333" class="ijRowOdd"><td id="5c650604"><p>jetbrains.youtrack.licenseKey</p></td><td id="a5624524"><p>将YouTrack许可证的许可证密钥设置为YouTrack Standalone的许可证密钥。</p></td></tr></tbody></table></div>                <p id="4cf041f5">例如：</p>                <div class="code-block" data-lang="bash">java -Xmx1g -XX：MaxMetaspaceSize = 250m -Djava.awt.headless = true -Djetbrains.youtrack.baseUrl =“ http://www.mystandaloneserver.com:[port] -Djetbrains.youtrack.licenseName =” YouTrack免费版用户“-Djetbrains.youtrack.licenseKey =” fa210d1d87408e18c6cfb9e09991aa5f9781410fcf660e47a366fcf83d5d25085e4b41e7ffd54256424e32a3aac1d5ec7464d98421b1a3068c8642279d0e0d85cb2e569b0f20fc5174331e40fe2e09f4291d14d8058015a71ef2ab64c2847fc82f71e0038b4ebd53b7e0e4d6ec7348fe0a0598d8b78f253914aa4959a59eb997" -jar youtrack- <version>的.jar [主机：] <port>[/ contextPath中] [配置文件路径]</port></version></div>                <ul class="list _ul"><li class="list__item" id="947e6428"><p>您的YouTrack服务器使用更新的基本URL和许可证运行。</p></li><li class="list__item" id="f849d481"><p>YouTrack InCloud实例中的数据可在YouTrack Standalone服务器上使用。</p></li></ul></li><li class="list__item" id="b5eb9bc5"><p>验证一切正常后，请从用于启动服务器的命令中删除自定义启动参数。</p></li></ol></section>  </div>  <div class="chapter"><h2 id="migrate-notification-services" data-toc="Migrate-from-InCloud-to-Standalone#migrate-notification-services">迁移通知服务</h2>    <p id="73f93a18">默认情况下，YouTrack InCloud实例使用JetBrains托管的电子邮件和Jabber服务来传递通知。迁移到YouTrack Standalone安装后，这些服务将不再可用。如果您尚未使用自己的通知服务，则需要进行设置并将其连接到YouTrack Standalone安装。</p>        <ul class="list _ul"><li class="list__item" id="bdcc8394"><p>对于通过电子邮件的通知，请设置您自己的SMTP服务器，然后按照说明<a href="enable-email-notifications.html">启用电子邮件通知</a> 。</p></li><li class="list__item" id="84f68737"><p>对于通过Jabber进行的通知，请设置自己的Jabber服务，然后按照说明<a href="Enable-Notifications-over-Jabber.html">启用通过Jabber进行的通知</a> 。</p></li></ul>          </div>               <div class="last-modified" data-skip-index="skip">上次修改时间：2019年11月29日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__next" href="Resources-for-Developers.html">为开发人员</a> <a class="navigation-links__prev" href="Migrate-from-Standalone-to-InCloud.html">从独立迁移到InCloud</a> <a class="navigation-links__next" href="Resources-for-Developers.html">资源</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>