<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/help/app/v2/analytics.js"></script><meta charset="UTF-8"><meta name="robots" content="noindex"><title>Custom Widgets API Reference - Help | YouTrack Standalone</title><link rel="stylesheet" href="/help/app/v2/app.css"></head><body data-id="custom-widgets-API-reference"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search YouTrack Standalone Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>YouTrack Standalone 2019.1 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="custom-widgets-API-reference" id="custom-widgets-API-reference.xml">Custom Widgets API Reference</h1>    <p id="bfcbda05">We provide a custom library for JavaScript that includes an API for working with custom widgets.        To install this library, use one of the following implementations:</p>    <ul class="list _ul"><li class="list__item" id="23c87ead"><p>Add a reference to the <a href="https://unpkg.com/hub-dashboard-addons@latest" data-external="true" target="_blank" rel="noopener noreferrer">dashboard script on unpkg</a> in the header of your <code class="code">index.html</code> file.            Wrap the reference inside a <code class="code">&lt;script&gt;</code> tag. For example:            <div class="code-block" data-lang="markup">
                &lt;script src="https://unpkg.com/hub-dashboard-addons@latest"&gt;&lt;/script&gt;
            </div>        </p></li><li class="list__item" id="c8183d0e"><p>Use the npm package manager to install the script with the <code class="code">npm install hub-dashboard-addons</code> command.            You can then add references to the script in your widget any way you want.        </p></li></ul>    <p id="44c2c906">The <code class="code">Dashboard.registerWidget</code> function accepts a callback that is called with the <code class="code">dashboardAPI</code> and <code class="code">registerWidgetAPI</code> parameters as shown in the following code sample.        To view this sample in context, refer to the <a href="custom-widget-tutorial.html#create-the-script">Create the Script</a>.</p>    <div class="code-block" data-lang="javascript">// Register widget:
Dashboard.registerWidget(function (dashboardAPI, registerWidgetAPI) {
    // Load GitHub profile data
    loadAndRenderUser(USER_NAME)

    // Set the widget title
    .then(user =&gt; dashboardAPI.setTitle(`GitHub User ${user.login}`));

    // Add the refresh button.
    registerWidgetAPI({
        onRefresh: () =&gt; loadAndRenderUser(USER_NAME)
    });
});</div>    <p id="e2370e52">Use the following reference to build custom widgets for your dashboards.</p>    <div class="chapter"><h2 id="dashboard-API" data-toc="custom-widgets-API-reference#dashboard-API">Dashboard API</h2>        <p id="8d6414f1">Use the dashboard API to communicate with the widget wrapper and the dashboard.            All of these methods are asynchronous and return <code class="code">Promise</code> objects.            These methods are applied to the <code class="code">dashboardApi</code> object.</p>        <div class="table-wrapper"><table class="                 " width="100%" id="setTitle"><thead><tr id="78588b09" class="ijRowHead"><th id="a891ab58" colspan="3"><p>setTitle(label: string, ?labelUrl: string): void</p></th></tr></thead><tbody><tr id="7f35cab5" class="ijRowOdd"><td id="fab3539b" width="20%"><p>Description</p></td><td id="e832afd1" colspan="2"><p>Sets the text that is displayed in the widget header.                    If a value is specified for the <code class="code">labelUrl</code> parameter, the text is set as a link to the target URL.</p></td></tr><tr id="3e7b0978" class="ijRowEven"><td id="8ac34b49" width="20%" rowspan="2"><p>Parameters</p></td><td id="4e6dde98" width="20%"><code class="code">label</code></td><td id="7a70ada0"><p>The text string that is shown as the widget title.</p></td></tr><tr id="d2d385a8" class="ijRowOdd"><td id="0e7fc104"><code class="code">labelURL</code></td><td id="8133ac57"><p>The address of the target page that opens when a user clicks the widget title.                    If this optional parameter is not specified, the widget title is set as text only.</p></td></tr><tr id="ccbaa4f6" class="ijRowEven"><td id="74bb2bbc"><p>Example</p></td><td id="8ca103c1" colspan="2"><div class="code-block" data-lang="none">dashboardApi.setTitle('Some widget');
dashboardApi.setTitle('A link header', 'https://example.com');</div> </td></tr></tbody></table></div>        <div class="table-wrapper"><table class="                 " width="100%" id="setLoadingAnimationEnabled"><thead><tr id="dc741dee" class="ijRowHead"><th id="a74f8fd8" colspan="3"><p>setLoadingAnimationEnabled(enabled: boolean): void</p></th></tr></thead><tbody><tr id="facfaaa8" class="ijRowOdd"><td id="f02e4d4c" width="20%"><p>Description</p></td><td id="6f231893" colspan="2"><p>Toggles the image rotation animation for the widget reload icon.                    Call this method when the widget populates data from a remote server to indicate that a process is running in the background.</p></td></tr><tr id="6c3e4657" class="ijRowEven"><td id="5e8d7a48"><p>Parameters</p></td><td id="f8415e16" width="10%"><code class="code">enabled</code></td><td id="f170635b"><p>Determines whether the widget reload icon rotates or not.</p></td></tr></tbody></table></div>        <div class="table-wrapper"><table class="                 " width="100%" id="alert"><thead><tr id="704bdb67" class="ijRowHead"><th id="9c4343c7" colspan="3"><p>alert(message: string, ?type: string, ?timeout: number): string</p></th></tr></thead><tbody><tr id="974c1271" class="ijRowOdd"><td id="c129e08d" width="20%"><p>Description</p></td><td id="cbeef815" colspan="2"><p>Displays a system alert at the top of the page.</p></td></tr><tr id="d3813219" class="ijRowEven"><td id="f69abf89" rowspan="3"><p>Parameters</p></td><td id="e124234a" width="20%"><code class="code">message</code></td><td id="3c41c9b3"><p>Sets the text that is displayed as the system alert.</p></td></tr><tr id="c525c77a" class="ijRowOdd"><td id="859ce371"><code class="code">type</code></td><td id="4304ef28"><p>Determines which notification style is applied to the alert.                    Possible values include <code class="code">error</code>, <code class="code">message</code>, <code class="code">success</code>, and <code class="code">warning</code>.</p></td></tr><tr id="1553f116" class="ijRowEven"><td id="2785973c"><code class="code">timeout</code></td><td id="5ec573a4"><p>The amount of time the alert is shown on the page, in seconds.</p></td></tr><tr id="16a7359c" class="ijRowOdd"><td id="265ee607"><p>Example</p></td><td id="38744c19" colspan="2"><div class="code-block" data-lang="none">dashboardApi.alert('This is a standard notification', 'message');
dashboardApi.alert('This is an error', 'error', 10000);</div> </td></tr></tbody></table></div>        <div class="table-wrapper"><table class="                 " width="100%" id="enterConfigMode"><thead><tr id="d4d60545" class="ijRowHead"><th id="92cbb5fb" colspan="2"><p>enterConfigMode(): void</p></th></tr></thead><tbody><tr id="64930002" class="ijRowOdd"><td id="10c788da" width="20%"><p>Description</p></td><td id="dfbcca58"><p>Invokes configuration mode.                    When in configuration mode, the visual presentation of the widget changes to indicate that its settings can be updated.                    The <span class="control">refresh</span> icon is also hidden.</p></td></tr></tbody></table></div>        <div class="table-wrapper"><table class="                 " width="100%" id="exitConfigMode"><thead><tr id="75a026e8" class="ijRowHead"><th id="48f7e110" colspan="2"><p>exitConfigMode(): void</p></th></tr></thead><tbody><tr id="b93aa59b" class="ijRowOdd"><td id="fb16b38a" width="20%"><p>Description</p></td><td id="cc618cc0"><p>Exits configuration mode.</p></td></tr></tbody></table></div>        <div class="table-wrapper"><table class="                 " width="100%" id="storeCache"><thead><tr id="4bc78304" class="ijRowHead"><th id="fc6aecb1" colspan="3"><p>storeCache(cache: Object): Promise&lt;Void&gt;</p></th></tr></thead><tbody><tr id="ed8d01df" class="ijRowOdd"><td id="f1916cff" width="20%"><p>Description</p></td><td id="f3a15363" colspan="2"><p>Stores any object in the client-side cache.                    Use this method to store populated data locally and display it immediately on the dashboard, then refresh it from server.                    Returns a configuration object.</p></td></tr><tr id="978474fe" class="ijRowEven"><td id="91702de5"><p>Parameters</p></td><td id="88854a10" width="20%"><code class="code">cache</code></td><td id="e7e99cfa"><p>Specifies the object to be stored in the cache.</p></td></tr></tbody></table></div>        <div class="table-wrapper"><table class="                 " width="100%" id="readCache"><thead><tr id="1e7a3958" class="ijRowHead"><th id="cf2cdc2a" colspan="2"><p>readCache(): Promise&lt;Object&gt;</p></th></tr></thead><tbody><tr id="f3f5151e" class="ijRowOdd"><td id="1c4fb041" width="20%"><p>Description</p></td><td id="5608bb90"><p>Reads and returns the object that was previously stored in the cache.</p></td></tr></tbody></table></div>        <div class="table-wrapper"><table class="                 " width="100%" id="storeConfig"><thead><tr id="39b313ba" class="ijRowHead"><th id="3fe22e7a" colspan="3"><p>storeConfig(config: Object): Promise&lt;Void&gt;</p></th></tr></thead><tbody><tr id="5d2663e2" class="ijRowOdd"><td id="3cf3abed" width="20%"><p>Description</p></td><td id="573e9570" colspan="2"><p>Stores any object as a widget configuration.                    Exits configuration mode if configuration mode is active.</p></td></tr><tr id="651099c0" class="ijRowEven"><td id="06931a15"><p>Parameters</p></td><td id="3ec674b8" width="20%"><code class="code">config</code></td><td id="048488e7"><p>Specifies the object to be stored as a widget configuration.</p></td></tr></tbody></table></div>        <div class="table-wrapper"><table class="                 " width="100%" id="readConfig"><thead><tr id="94e52cb5" class="ijRowHead"><th id="7841a98f" colspan="2"><p>readConfig(): Promise&lt;Object&gt;</p></th></tr></thead><tbody><tr id="83cda329" class="ijRowOdd"><td id="3d337a7c" width="20%"><p>Description</p></td><td id="69683ab3"><p>Reads and returns the object that was previously stored as a configuration object.</p></td></tr></tbody></table></div>        <div class="table-wrapper"><table class="                 " width="100%" id="fetch"><thead><tr id="f2cb11c3" class="ijRowHead"><th id="e7ffedfe" colspan="3"><p>fetch(serviceID: string, url: string, fetchConfig: Object): Promise&lt;Object&gt;</p></th></tr></thead><tbody><tr id="9e38cee7" class="ijRowOdd"><td id="b3bd8689" width="20%"><p>Description</p></td><td id="2991a478" colspan="2"><p>Makes an authorized request to the specified service.                    The service must be specified in the widget manifest.</p></td></tr><tr id="50bb2cb1" class="ijRowEven"><td id="defc9a30" rowspan="3"><p>Parameters</p></td><td id="21d44439" width="20%"><code class="code">serviceID</code></td><td id="10e117aa"><p>Specifies the ID of the service.                    To get the service ID, use <a href="#fetchHub">fetchHub</a> first.                    For details, refer to the <a href="/help/hub/Hub-Rest-Api-URL.html" data-external="true" target="_blank" rel="noopener noreferrer">Hub REST API</a>.</p></td></tr><tr id="f0f6dba8" class="ijRowOdd"><td id="12b4352c"><code class="code">url</code></td><td id="80e04490"><p>Sets the URL to the service API endpoint.                    This is the path to the resource that you want to fetch.                    The URL is relative to the server home URL.</p></td></tr><tr id="6577d721" class="ijRowEven"><td id="f4a2e51a"><code class="code">fetchConfig</code></td><td id="47c9fdcf"><p>Defines an optional options object.                    This object contains any custom settings that you want to apply to the request.</p></td></tr><tr id="5846da2f" class="ijRowOdd"><td id="1435b579"><p>Example</p></td><td id="b14b28a1" colspan="2"><p><div class="code-block" data-lang="none">dashboardApi.fetch(serviceId, 'api/users')
    .then(users =&gt; console.log(users));</div>                    The following example shows how to use this method in a POST request:                    <div class="code-block" data-lang="none">dashboardApi.fetch(serviceId, 'api/users', {
    method: 'POST',
    body: {payload: 'test'}
})
    .then(result =&gt; console.log(result));</div> </p></td></tr></tbody></table></div>        <div class="table-wrapper"><table class="                 " width="100%" id="fetchHub"><thead><tr id="875715a4" class="ijRowHead"><th id="8fc1e700" colspan="3"><p> fetchHub(url: string, fetchConfig: Object): Promise&lt;Object&gt;</p></th></tr></thead><tbody><tr id="938f8e94" class="ijRowOdd"><td id="f3042211" width="20%"><p>Description</p></td><td id="53716975" colspan="2"><p>Makes an authorized request to the Hub service.</p></td></tr><tr id="ed2ee2c8" class="ijRowEven"><td id="4d85201e" rowspan="2"><p>Parameters</p></td><td id="9179c251" width="20%"><code class="code">url</code></td><td id="228231f2"><p>Sets the URL to the Hub service API endpoint.                    This is the path to the resource that you want to fetch.                    The URL is relative to the server home URL.                    For more information, refer to the <a href="/help/hub/Hub-Rest-Api-URL.html" data-external="true" target="_blank" rel="noopener noreferrer">Hub documentation</a>.</p></td></tr><tr id="0be3a1a5" class="ijRowOdd"><td id="1e9d6112"><code class="code">fetchConfig</code></td><td id="9011b4ba"><p>Defines an optional options object.                    This object contains any custom settings that you want to apply to the request.</p></td></tr><tr id="e7e567c7" class="ijRowEven"><td id="9a013f2b"><p>Example</p></td><td id="d29e7f7a" colspan="2"><p><div class="code-block" data-lang="none">dashboardApi.fetchHub('api/rest/users/me?fields=name,login,profile(avatar(url))')
    .then(response =&gt; console.log(response));</div>                    The following example shows how to use this method in a POST request:                    <div class="code-block" data-lang="none">dashboardApi.fetchHub('api/rest/users/me', {
    method: 'POST',
    body: {favoriteProjects: []}
})
    .then(response =&gt; console.log(response));</div> </p></td></tr></tbody></table></div>        <div class="table-wrapper"><table class="                 " width="100%" id="loadServices"><thead><tr id="fecd1334" class="ijRowHead"><th id="1c098878" colspan="3"><p>loadServices(applicationName: string): Promise&lt;Array&lt;Object&gt;&gt;</p></th></tr></thead><tbody><tr id="092f69d2" class="ijRowOdd"><td id="02250100" width="20%"><p>Description</p></td><td id="813dc43c" colspan="2"><p id="e60f09a7">Returns a list of services that are connected to the Hub service and meet the minimum version requirements that are specified in the <code class="code">dependencies</code> section of the <code class="code">manifest.json</code> file for the widget.</p>                    <ul class="list _ul"><li class="list__item" id="33a732f6"><p>If the service that is specified with the <code class="code">applicationName</code> parameter is not referenced in the <code class="code">dependencies</code> section of the widget manifest, an exception is thrown.</p></li><li class="list__item" id="88570518"><p>If the specified service that is connected to the Hub service does not meet the minimum version requirements, returns an empty array.</p></li></ul></td></tr><tr id="284a93a2" class="ijRowEven"><td id="ec661f23"><p>Parameters</p></td><td id="3dae28f5" width="20%"><code class="code">applicationName</code></td><td id="56e9908a"><p>Determines which services are checked against the <code class="code">dependencies</code> in the widget manifest.</p></td></tr><tr id="e79b1ad4" class="ijRowOdd"><td id="5c121671"><p>Example</p></td><td id="b413a195" colspan="2"><p>The following example checks the Hub service for versions of YouTrack that are compatible with the YouTrack versions that are referenced in the <code class="code">dependencies</code> section of the widget manifest.                    The list of compatible versions of the application is printed to the console.                    <div class="code-block" data-lang="none">dasboardApi.loadServices('YouTrack')
    .then(youtracks =&gt; console.log(youtracks[0]));</div></p></td></tr></tbody></table></div>        <div class="table-wrapper"><table class="                 " width="100%" id="removeWidget"><thead><tr id="1777abf9" class="ijRowHead"><th id="31359a7b" colspan="2"><p>removeWidget(): void</p></th></tr></thead><tbody><tr id="290a3e26" class="ijRowOdd"><td id="42b7e91a" width="20%"><p>Description</p></td><td id="8075e2b5"><p>Removes the custom widget from the dashboard.</p></td></tr></tbody></table></div>    </div>    <div class="chapter"><h2 id="widget-API" data-toc="custom-widgets-API-reference#widget-API">Widget API</h2>        <p id="ab27e800">Use the widget API to manipulate the visibility of controls on your custom widget.            These methods are applied to the <code class="code">widgetApi</code> object.</p>        <div class="table-wrapper"><table class="                 " width="100%" id="onRefresh"><thead><tr id="a968b635" class="ijRowHead"><th id="942ebe57" colspan="2"><p>onRefresh(): ?Promise&lt;Void&gt;</p></th></tr></thead><tbody><tr id="adab9f91" class="ijRowOdd"><td id="ee794b06" width="20%"><p>Description</p></td><td id="b030b6dc"><p>Calls an action when the <span class="control">refresh</span> icon is clicked in the widget header.                    If not set, the <span class="control">refresh</span> icon is not shown in the header.</p></td></tr></tbody></table></div>        <div class="table-wrapper"><table class="                 " width="100%" id="onConfigure"><thead><tr id="c56162bf" class="ijRowHead"><th id="99361fe4" colspan="2"><p>onConfigure(): void</p></th></tr></thead><tbody><tr id="25f602df" class="ijRowOdd"><td id="168a2f8e" width="20%"><p>Description</p></td><td id="4a0eb52b"><p>Calls an action when the <span class="control">Edit</span> option is selected from the widget menu.                    If not set, the <span class="control">Edit</span> option is not shown.</p></td></tr></tbody></table></div>    </div><div class="last-modified" data-skip-index="skip">Last modified: 8 July 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="test-custom-widgets.html">Test a Custom Widget</a><a class="navigation-links__next" href="sample-custom-widgets.html">Sample Custom Widgets</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/help/app/v2/app.js"></script></body></html>