<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/help/app/v2/analytics.js"></script><meta charset="UTF-8"><meta name="robots" content="noindex"><title>Limit Work in Progress - Help | YouTrack Standalone</title><link rel="stylesheet" href="/help/app/v2/app.css"></head><body data-id="limit-work-in-progress-kanban"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search YouTrack Standalone Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>YouTrack Standalone 2019.1 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="limit-work-in-progress-kanban" id="limit-work-in-progress-kanban.xml">Limit Work in Progress</h1>        <p id="0344085b">Many development teams use a Kanban framework to manage a steady flow of incoming work.        While Scrum teams use sprints to limit limit the amount of work that is performed in a specific time frame,        Kanban teams can impose work in progress limits for all active stages of development.</p>        <p id="2ec014db">Our product teams at JetBrains establish their own workflows to match their goals, working habits, and personality.        The development teams for AppCode and CLion follow a Kanban-inspired framework.          They use Kanban boards to manage everyday activities related to the development of these two IDEs.</p>  <p id="9688dde7">Here's what the AppCode Kanban board looks like in our YouTrack installation:</p>  <figure><a class="lightbox" href="/help/img/youtrack/2019.1/wip-limit-board.zoomed.png"><img alt="Wip limit board" title="Wip limit board" src="/help/img/youtrack/2019.1/wip-limit-board.png" id="d8b96d42" width="600" height="413"></a></figure>        <p id="ebdcf843">These boards support the following processes:</p>  <ul class="list _ul"><li class="list__item" id="f489a9f9"><p>The teams decide whether to add an issue to the board based on a queue of prioritized tasks.      This queue is represented by a saved search with a custom order.</p></li><li class="list__item" id="0baa6f95"><p>The teams discuss priorities during daily standups and weekly meetings where members of the team agree on the list of tasks that should be fixed first.      The highest priority issues are placed at the top of the queue.</p></li><li class="list__item" id="31135cc3"><p>When developers want to start progress on an issue from the queue, they just change the value of the <span class="control">Kanban State</span> field.</p></li><li class="list__item" id="5c42ccc9">The board is divided into two swimlanes that help the team prioritize their work.      <ul class="list _ul"><li class="list__item" id="bfe10e36"><p>Issues that are moved to the board are added to the <span class="control">General</span> swimlane by default.</p></li><li class="list__item" id="52b039cf"><p>The <span class="control">Priority</span> swimlane is for issues that require special attention and should be resolved as soon as possible.</p></li></ul>The highest priority issues are placed at the top of the queue.</li><li class="list__item" id="8aa3e9c1"><p>The columns on the board use work-in-progress limits that correspond to the number of members in the team.      This helps to control the number of activities that happen simultaneously and highlights areas where the teams have bottlenecks.</p></li><li class="list__item" id="801ac71b"><p>The team leads see the bigger picture, including all the incoming tasks and how are the tasks are balanced between the team members.      This helps them decide who can take a new task and see who might be overwhelmed at the moment.</p></li><li class="list__item" id="56a5f273"><p>As all issues are added to the board automatically, the team doesn't have to work with a backlog.</p></li></ul>  <p id="59392441">The Kanban board helps these teams in the following ways:</p>  <ul class="list _ul"><li class="list__item" id="3bbe8c89"><p>The development teams is able to concentrate on the work in progress, rather than sprint scheduling and estimations.</p></li><li class="list__item" id="61e1e9cd"><p>All of the tasks that are in progress are shown on the board.</p></li><li class="list__item" id="ce133269"><p>Team members can swarm to unload column that exceed work-progress-limits. For example, the developers can prioritize code reviews or help with testing.</p></li></ul>  <p id="c5adcd25">This type of board can be useful for any team that regularly prioritizes incoming feature requests and bug reports.</p>  <section class="procedure-steps"><h3 id="64f507dc">To build a board like this:</h3><ol class="list _decimal"><li class="list__item" id="f216f694">Create your board.      <figure><a class="lightbox" href="/help/img/youtrack/2019.1/wip-limit-create-board.zoomed.png"><img alt="Wip limit create board" title="Wip limit create board" src="/help/img/youtrack/2019.1/wip-limit-create-board.png" id="bf994d4e" width="600" height="239"></a></figure>      <ul class="list _ul"><li class="list__item" id="92723ce7"><p>Use the <span class="control">Kanban board</span> template.</p></li><li class="list__item" id="e4d109d2"><p>Select the projects that you want to manage on the board.</p></li><li class="list__item" id="5559884f"><p>For the <span class="control">Backlog</span> option, choose <span class="control">Create new</span>.</p></li></ul>      <figure><a class="lightbox" href="/help/img/youtrack/2019.1/wip-limit-new-board-settings.zoomed.png"><img alt="Wip limit new board settings" title="Wip limit new board settings" src="/help/img/youtrack/2019.1/wip-limit-new-board-settings.png" id="cb3b210f" width="600" height="244"></a></figure>    </li><li class="list__item" id="2414623f">Set sprint options and board behavior.      <figure><a class="lightbox" href="/help/img/youtrack/2019.1/wip-limit-general-settings.zoomed.png"><img alt="Wip limit general settings" title="Wip limit general settings" src="/help/img/youtrack/2019.1/wip-limit-general-settings.png" id="a0333a6b" width="600" height="271"></a></figure>      <ul class="list _ul"><li class="list__item" id="3331a520"><p>When you create a board with the <span class="control">Kanban board</span> template, the <span class="control">Sprints</span> option is disabled by default.</p></li><li class="list__item" id="27d3cc0c"><p>This board uses the <span class="control">Manually assign issues</span> option.          These teams use the queue to prioritize issues and manually add the issues to the board.</p></li><li class="list__item" id="a39f947f"><p>If you prefer to add cards the the board automatically, enable the <span class="control">Filter cards to match a query</span> option.          Use the filter to exclude any issues that you don't want to manage on the board..</p></li></ul></li><li class="list__item" id="8e0b9fc6">Define columns.      <figure><a class="lightbox" href="/help/img/youtrack/2019.1/wip-limit-define-columns.zoomed.png"><img alt="Wip limit define columns" title="Wip limit define columns" src="/help/img/youtrack/2019.1/wip-limit-define-columns.png" id="e930c069" width="600" height="272"></a></figure>      <ul class="list _ul"><li class="list__item" id="3541ba66"><p>On this board, columns are identified by values from the <span class="control">Kanban State</span> field.          The values in this field represent the stages in their development process.          They use the stages <span class="control">Analyze</span>, <span class="control">Develop</span>, <span class="control">Review</span>, <span class="control">Ready to test</span>, <span class="control">Test</span>, <span class="control">Merge</span>, and <span class="control">Done</span>.          <span class="control">Merge</span> is a special stage where a task is ready but not yet published in the release branch.          When the task is merged to the release branch, it moves to the <span class="control">Done</span> column.            Every stage in the development process is used as a column on the board.</p></li></ul></li><li class="list__item" id="42e930f6">Set WIP limits.      <figure><a class="lightbox" href="/help/img/youtrack/2019.1/wip-limit-set-work-in-progress.zoomed.png"><img alt="Wip limit set work in progress" title="Wip limit set work in progress" src="/help/img/youtrack/2019.1/wip-limit-set-work-in-progress.png" id="4cf56001" width="600" height="269"></a></figure>      <ul class="list _ul"><li class="list__item" id="81f27b81"><p>These teams limit the work in progress for every column except <span class="control">Done</span>.</p></li><li class="list__item" id="7ae8681a"><p>The WIP limits are tuned according to the number of team members who work on each stage and the number of tasks they are comfortable working on in parallel.          When cards in a column exceed the WIP limit, this indicates that there is a bottleneck in this stage of development.</p></li></ul>    </li><li class="list__item" id="bc14286c">Define swimlanes.      <figure><a class="lightbox" href="/help/img/youtrack/2019.1/wip-limit-define-swimlanes.zoomed.png"><img alt="Wip limit define swimlanes" title="Wip limit define swimlanes" src="/help/img/youtrack/2019.1/wip-limit-define-swimlanes.png" id="2222fc8c" width="600" height="127"></a></figure>      <ul class="list _ul"><li class="list__item" id="38e0a567"><p>Here, the teams use a dedicated custom field, <span class="control">Kanban Track</span>, to separate tasks into different streams.          This field stores two values: <span class="control">Priority</span> and <span class="control">General</span>.</p></li><li class="list__item" id="a00887c1"><p>Priority tasks go on the top, and should be taken first.</p></li></ul></li><li class="list__item" id="57db08aa">Configure cards.      <figure><a class="lightbox" href="/help/img/youtrack/2019.1/wip-limit-card-settings.zoomed.png"><img alt="Wip limit card settings" title="Wip limit card settings" src="/help/img/youtrack/2019.1/wip-limit-card-settings.png" id="394920cb" width="600" height="123"></a></figure>      <ul class="list _ul"><li class="list__item" id="30971ab6"><p>The teams use the swimlanes to indicate which issues need the most attention, but they also use the values in the <span class="control">Severity</span> field to highlight cards on the board.          This helps them see if there are any issues in the <span class="control">General</span> swimlane that need to be moved to the <span class="control">Priority</span> track.</p></li></ul></li><li class="list__item" id="709562c9">Pick a chart.      <figure><a class="lightbox" href="/help/img/youtrack/2019.1/wip-limit-chart-settings.zoomed.png"><img alt="Wip limit chart settings" title="Wip limit chart settings" src="/help/img/youtrack/2019.1/wip-limit-chart-settings.png" id="e77ebaee" width="600" height="110"></a></figure>    <ul class="list _ul"><li class="list__item" id="8b478542"><p>These teams don’t work with the chart on their agile boards — the WIP limits help them to identify bottlenecks.</p></li><li class="list__item" id="978bb652"><p>he default chart option for a Kanban board is <span class="control">Cumulative flow</span>.        If you want to use it, it's already configured for you.</p></li></ul></li><li class="list__item" id="49e43862">Build the backlog.    <ul class="list _ul"><li class="list__item" id="6e9a7430"><p>Each of these teams use a saved search that represents the incoming queue of issues.        Each saved search sorts issues in a custom order. They use the custom order in the <span class="control">Issues</span> list to prioritize the queue.</p></li><li class="list__item" id="e355fb26"><p>This search query simply shows any issue that is unresolved in either project.      <div class="code-block" data-lang="none"><code class="code-block__wrapper">#Unresolved and (project: OC or project CPP)</code></div> </p></li></ul></li></ol></section>  <div class="chapter"><h2 id="working-with-kanban-board">Working With the Kanban Board</h2>    <p id="a179b382">Prioritizing issues in the queue is an important part of the process for both teams.      The teams organize the queue during planning sessions and revisit the priority on a regular basis.      Planning sessions occur after every major release.      The teams makes a preliminary agreement on the priority for each task and who will take it.</p>    <p id="1f1a8c4a">The team updates the queue when new critical issues or regressions appear, or whenever the teams just feel that the order needs to change.</p>    <p id="bdae0fa0">Developers also have their own lists of things to do.      The queue is simply a guideline.      When developers choose their next task, they either look into the backlog for an issue in the queue or check their personal list.</p>    <p id="03855901">When you view the board with all of the columns expanded, it looks like it might be difficult to work with.    In reality, team members with different roles collapse the columns that aren't related to their role.</p>    <ul class="list _ul"><li class="list__item" id="44f1826a"><p>Developers can focus on issues that are in the analysis, development, and review stages.        <figure><a class="lightbox" href="/help/img/youtrack/2019.1/wip-limit-board-developer-view.zoomed.png"><img alt="Wip limit board developer view" title="Wip limit board developer view" src="/help/img/youtrack/2019.1/wip-limit-board-developer-view.png" id="2351bf84" width="600" height="332"></a></figure>      </p></li><li class="list__item" id="6c72b4c2"><p>Quality Assurance Engineers can focus on issues that are ready to test, in testing, or ready to merge into the main branch.        <figure><a class="lightbox" href="/help/img/youtrack/2019.1/wip-limit-board-q-a-view.zoomed.png"><img alt="Wip limit board q a view" title="Wip limit board q a view" src="/help/img/youtrack/2019.1/wip-limit-board-q-a-view.png" id="79953ef9" width="600" height="365"></a></figure>      </p></li><li class="list__item" id="06abc8bd"><p>Members of the team can also collapse the <span class="control">Priority</span> swimlane if it is empty.</p></li></ul>    <p id="0b08c4f7">On any Kanban board, tasks eventually start to pile up in the <span class="control">Done</span> column.      When these teams publish an EAP or release version of their product, they remove all of the issues that are included in the release from the board.      One way to clean up the <span class="control">Done</span> column is to search for all of the resolved issues that were included in the latest release, for example, <code class="code">in: CPP version: {CLion 2017.1.1} State: Fixed</code> and update them with a command.      The command to remove issues from the CLion board is <code class="code">remove Board CLion Kanban</code>.    The teams have implemented a workflow that performs this task automatically, as described below.</p>  </div>  <div class="chapter"><h2 id="workflow-support-manage-assignments">Workflow Support</h2>    <p id="8c955e5a">The CLion and AppCode teams use several workflow rules that automatically update values in issues that are managed on the board. The following workflows are triggered by events on the board:</p>    <ol class="list _decimal"><li class="list__item" id="c10dc975"><p>When a developer changes takes an issue for analysis or development, the workflow adds the issue to the board and assigns the card to the current user.        This workflow also assigns a card to the QA Engineer who moves it to the <span class="control">Test</span> column.        The assignee is not updated when cards move between other columns — these assignments are set manually.</p></li><li class="list__item" id="4bcc4411"><p>When an issue is added to the board, the value in the <span class="control">Kanban Track</span> field is set to <span class="control">General</span> (if the field was empty).        This workflow fires when a developer adds an issue to the board with a command or by setting a value of the <span class="control">Kanban State</span> field in the issue itself.        This ensures that the issue is added to the correct swimlane.        If the value in the <span class="control">Kanban Track</span> field is empty, the card appears in the swimlane for uncategorized cards, which is not where it belongs.</p></li><li class="list__item" id="1f79d396"><p>When a card moves to the <span class="control">Test</span> column, the <span class="control">no testing</span> tag is removed from the issue.        The team uses the no testing tag to flag trivial fixes.        The developer and reviewer can agree that an issue doesn't require testing and add the tag.        However, if QA disagrees and decides it should be tested, the tag is removed automatically.        When QA agrees to pass the issue without testing, the tag remains as an indicator that the fix was not tested manually.</p></li><li class="list__item" id="c260983f">When a card is moved from one column to another, changes are synchronized with the value that is stored in the <span class="control">State</span> field.        The <span class="control">Kanban State</span> field stores values as enumerated types, not states.        If the value for the <span class="control">State</span> field is not synchronized with changes on the board, the issues are never moved to a state that is considered to be resolved.        This workflow sets the value for the <span class="control">State</span> when the following changes are applied to an issue:      <ul class="list _ul"><li class="list__item" id="c23cec13"><p>When a card moves to the <span class="control">Done</span> column, the state is set to <span class="control">Fixed</span>.          The issue is then considered to be resolved.          If the card is currently assigned to the <span class="control">Priority</span> swimlane, it moves to <span class="control">General</span>.</p></li><li class="list__item" id="c8d44585"><p>When a card is added to the board (meaning the <span class="control">Kanban State</span> field is set to any value other than <span class="control">Done</span>), the state is set to <span class="control">In Progress</span>.</p></li><li class="list__item" id="f0e9d672"><p>If an issue is removed from the board (meaning the <span class="control">Kanban State</span> field is set to an empty value) and an issue has the <span class="control">In Progress</span> state, the state is set to <span class="control">Open</span>.          In this case, the workflow sets the <span class="control">Kanban Track</span> field to an empty value.</p></li></ul>      </li></ol>    <p id="9be57065">Here's the workflow code:</p>        <div class="code-block" data-lang="javascript">var entities = require('v1/entities');
var message = require('v1/workflow').message;

exports.rule = entities.Issue.onChange({
  action: function(ctx) {
    var issue = ctx.issue;

    var KANBAN_STATE = 'CIDR Kanban State';
    var KANBAN_TRACK = 'CIDR Kanban Track';

    var kanbanStateField = issue.project.findFieldByName(KANBAN_STATE);
    var KANBAN_STATE_ANALYZE = kanbanStateField.findValueByName("Analyse");
    var KANBAN_STATE_DEVELOP = kanbanStateField.findValueByName('Develop');
    var KANBAN_STATE_TEST = kanbanStateField.findValueByName('Test');
    var KANBAN_STATE_DONE = kanbanStateField.findValueByName('Done');
    var KANBAN_TRACK_GENERAL = issue.project.findFieldByName(KANBAN_TRACK).findValueByName('General');

    var stateField = issue.project.findFieldByName('State');
    var STATE_OPEN = stateField.findValueByName('Open');
    var STATE_IN_PROGRESS = stateField.findValueByName('In Progress');
    var STATE_FIXED = stateField.findValueByName('Fixed');

    var putOnBoard = function() {
      console.log("Placing the issue on the board");

      issue.applyCommand("add board " + issue.project.name);

      if (issue[KANBAN_TRACK] === null) {
        issue[KANBAN_TRACK] = KANBAN_TRACK_GENERAL;
      }

      message('Issue is placed on the board ' + issue.project.name);
    };

    var removeFromBoard = function() {
      console.log("Removing the issue from the board");

      issue[KANBAN_STATE] = null;
      issue[KANBAN_TRACK] = null;
      issue.sprints.clear();

      if (issue.State.name == STATE_IN_PROGRESS.name) {
        console.log("Setting open state");

        issue.State = STATE_OPEN;
      }

      message('Issue is removed from the board');
    };

    var removeFromBoardIfReleased = function() {
      if (issue[KANBAN_STATE] !== null &amp;&amp; issue[KANBAN_STATE].name == KANBAN_STATE_DONE.name) {
        console.log("Checking if the issue is released");

        var released = !issue['Fix versions'].find(function(each) {
          if (each.name.indexOf("Next") != -1) return true;
          return false;
        });

        if (released) {
          console.log("Issue is released");

          removeFromBoard();
        }
      }
    };

    if (issue.isChanged(KANBAN_STATE)) {
      console.log(KANBAN_STATE + " changed");

      var curr = issue[KANBAN_STATE];
      var prev = issue.oldValue(KANBAN_STATE);

      if (curr !== null /* issue is moved on board */ ) {
        issue.State = STATE_IN_PROGRESS;

        var needToAssign = curr.name == KANBAN_STATE_TEST.name /* when issue is taken into testing */ ;

        if (issue.sprints.size === 0 /* issue is placed  on board */ ) {
          putOnBoard();

          needToAssign = needToAssign ||
            issue.Assignee === null ||
            /* when issue is taken into development or testing */
            curr.name == KANBAN_STATE_ANALYZE.name ||
            curr.name == KANBAN_STATE_DEVELOP.name ||
            curr.name == KANBAN_STATE_TEST.name;
        }

        if (needToAssign) {
          issue.Assignee = ctx.currentUser;
        }

        /*
        if (prev !== null) {
          var lastItem = issue.workItems.last();
          var workType = entities.WorkItemType.findByProject(issue.project).find(function(each) {
            return each.name == prev.name;
          });
          message("Warning: Work type not found for " + prev.name);

          if (lastItem !== null &amp;&amp; workType !== null) {
            var now = new Date();
            console.log("last " + lastItem + " date " + lastItem.date);

            var durationInMinutes = 100;//(now.getTime() - lastItem.date.time) / (1000 * 60);
            console.log(prev.name + " took " + durationInMinutes);
            issue.addWorkItem(prev.name,
              now.getTime(),
              ctx.currentUser,
              durationInMinutes,
              workType);
          }
        }
        */

        if (curr.name == KANBAN_STATE_TEST.name) {
          issue.removeTag("no testing");
        } else if (curr.name == KANBAN_STATE_DONE.name) {
          console.log("Setting the issue to the Done state");

          issue.State = STATE_FIXED;
          issue[KANBAN_TRACK] = KANBAN_TRACK_GENERAL;

          removeFromBoardIfReleased();
        }
      } else if (prev !== null /* issue is removed from the board */ ) {
        removeFromBoard();
      }
    } else if (issue.isChanged(KANBAN_TRACK)) {
      console.log(KANBAN_TRACK + " changed");

      if (issue[KANBAN_TRACK] === null /* issue is removed from the board */ ) {
        removeFromBoard();
      } else {
        issue.required(KANBAN_STATE, 'Please specify the column on the board');
      }
    } else if (issue.isChanged('sprints')) {
      console.log("sprints changed");

      if (issue.sprints.size === 0) {
        // when issue is moved between AppCode/CLion projects
        if (issue.isChanged("project") &amp;&amp;
            (issue.oldValue("project").name == "AppCode" || issue.oldValue("project").name == "CLion") &amp;&amp;
            issue.oldValue("sprints").size !== 0) {
          putOnBoard();
        } else {
          removeFromBoard();
        }
      } else {
        issue.required(KANBAN_STATE, 'Please specify the column on the board');
      }
    }

    if (issue.isChanged("Fix versions")) {
      removeFromBoardIfReleased();
    }
  }
});</div>        </div>        <div class="last-modified" data-skip-index="skip">Last modified: 8 July 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="get-executive-overview.html">Get an Executive Overview</a><a class="navigation-links__next" href="link-sprints-fix-versions.html">Link Sprints with Fix Versions</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/help/app/v2/app.js"></script></body></html>