<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/help/app/v2/analytics.js"></script><meta charset="UTF-8"><meta name="robots" content="noindex"><title>Update the Certificate for Your Hub Server - Help | YouTrack Standalone</title><link rel="stylesheet" href="/help/app/v2/app.css"></head><body data-id="update-hub-server-certificate"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search YouTrack Standalone Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>YouTrack Standalone 2019.1 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="update-hub-server-certificate" id="update-hub-server-certificate.xml">Update the Certificate for Your Hub Server</h1>            <aside class="note " data-title="" rel="update-hub-server-certificate.xml" id="291b6b3a">                <p id="17319298">These instructions only apply to YouTrack installations that are connected to an external Hub service.</p>            </aside>            <p id="c8704d30">To exchange information with an external Hub service over a secure connection, YouTrack stores a copy of the SSL certificate for the Hub server in its internal keystore.                If the SSL certificate for the Hub server is updated or renewed, YouTrack may no longer trust the connection to the Hub service.</p>            <p id="bd4b6bd6">If YouTrack can't establish a trusted connection to Hub, the YouTrack server fails to start.                When you try to run YouTrack, you encounter a <span class="control">Server SSL certificate not trusted</span> error.                To resolve this issue, you need to import the updated Hub certificate into the internal keystore for YouTrack.                This operation is performed by applying a command to the YouTrack server.</p>    <p id="bc31d016">There are a few situations where you need to update a Hub certificate in YouTrack.</p>    <ul class="list _ul"><li class="list__item" id="f1ce60bb"><p>The SSL certificate for your Hub server has expired.        You need to replace the expired certificate with a renewed certificate.</p></li><li class="list__item" id="67000ed9"><p>Hub URL changes because the Hub service is migrated to another server location.</p></li><li class="list__item" id="ab23f5c9"><p>You were previously connecting to the Hub service over plain HTTP and have just installed the certificate.</p></li></ul>    <p id="73427268">The last two cases also require that you update the URL for your external Hub service in YouTrack.    For specific instructions, see <a href="update-hub-server-url.html">Update the URL for your Hub Server</a>.</p>    <p id="57bf19f7">This procedure requires that you have a copy of your Hub certificate in PEM format.        The command described here only imports the certificate. The private key is not required.</p>    <section class="procedure-steps"><h3 id="5562b21e">To update the SSL certificate for an external Hub server:</h3><ol class="list _decimal"><li class="list__item" id="fe420ed1">            <p id="c57b6a62">Open a command-line interface on the YouTrack server and enter the following command:</p>            <div class="code-block" data-lang="none"><code class="code-block__wrapper">keytool -import -alias hub-&lt;alias&gt; -keystore &lt;youtrack_home&gt;/conf/internal/keystore.jks -file /path/to/imported/certificate</code></div>            <p id="7a069296">Replace the command-line parameters with values as described here:</p>            <div class="table-wrapper"><table class="                  _layout-fixed" width="100%" id="06c4b6fa"><thead><tr id="b4d84ea0" class="ijRowHead"><th id="55f2e280" width="20%"><p>Parameter</p></th><th id="7fc8f806"><p>Description</p></th></tr></thead><tbody><tr id="5abfebe2" class="ijRowOdd"><td id="7d1f51e3"><code class="code">alias</code></td><td id="a3705a0b"><p>An arbitrary alias name that is assigned to the imported certificate.                        You can enter any string, but it helps you and other administrators recognize where this certificate came from when you assign it a meaningful value.</p></td></tr><tr id="56ca1cc7" class="ijRowEven"><td id="f3eb1769"><code class="code">keystore</code></td><td id="5158413b"><p id="b889adb1">The path to the internal keystore file for your YouTrack server.                        This path is relative to your YouTrack home directory.</p>                    <p id="232345b5">Replace the <code class="code">&lt;youtrack_home&gt;</code> placeholder with the actual path to the YouTrack home directory on your server.</p>                        <ul class="list _ul"><li class="list__item" id="8cedd412"><p>For an MSI installation, the <code class="code">&lt;youtrack_home&gt;</code> directory is the location where YouTrack was installed.</p></li><li class="list__item" id="471ed574"><p>For a ZIP installation, the <code class="code">&lt;youtrack_home&gt;</code> directory is the location where                                the ZIP distribution was unpacked during installation.                            </p></li></ul>                        <p id="74bb7f41">If the keystore file doesn't already exist in the specified location, it is created.</p></td></tr><tr id="f1c90d30" class="ijRowOdd"><td id="46ac8ebd"><code class="code">file</code></td><td id="5fe9c1f8"><p>The path to the SSL certificate for your Hub server.</p></td></tr></tbody></table></div>        </li><li class="list__item" id="85f6f430"><p id="1dc33e80">When prompted, enter the password that protects the keystore file.            The password is stored as the value for the <code class="code">additional-keystore-password</code> property in the <code class="code">&gt;YouTrack home directory&lt;/conf/internal/bundle.properties</code> file.</p>        <ul class="list _ul"><li class="list__item" id="4fce7aec"><p>If the password is correct, the properties for the SSL certificate are printed in the console.</p></li></ul></li><li class="list__item" id="04230167"><p id="2140256d">When prompted to confirm whether you trust the certificate, enter <code class="code">yes</code> in the console.</p>        <ul class="list _ul"><li class="list__item" id="a5e9e4bc"><p>If the certificate is imported successfully, the message <code class="code">Certificate was added to keystore</code> is printed in the console.</p></li></ul></li><li class="list__item" id="87b2c238"><p id="470802c0"><a href="Stop-and-Start-YouTrack.html">Restart YouTrack</a>.</p>        <ul class="list _ul"><li class="list__item" id="b95c1039"><p>YouTrack uses the updated SSL certificate from the keystore file to authenticate with the Hub server.</p></li></ul></li></ol></section>    <p id="f40d55b5">The following example shows you what this procedure should look like in a command-line interface.        Here, the <code class="code">keytool</code> command is executed in the same directory where the <code class="code">keystore.jks</code> and <code class="code">certificate.crt</code> files are both stored.</p>    <div class="code-block" data-lang="bash">&gt; keytool -import -alias hub-&lt;hostname&gt; -keystore keystore.jks -file certificate.crt
Enter keystore password: &lt;keystore password&gt;

Owner: EMAILADDRESS=...
Issuer: EMAILADDRESS=...
Serial number: acee3222e1df2767
...

Trust this certificate? [no]:  yes
Certificate was added to keystore</div><div class="last-modified" data-skip-index="skip">Last modified: 8 July 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="update-hub-server-url.html">Update the URL for your Hub Server</a><a class="navigation-links__next" href="set-service-secret-for-youtrack.html">Update the Service Secret for YouTrack</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/help/app/v2/app.js"></script></body></html>