<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/help/app/v2/analytics.js"></script><meta charset="UTF-8"><meta name="robots" content="noindex"><title>Configure Built-in TLS from the Command Line - Help | YouTrack Standalone</title><link rel="stylesheet" href="/help/app/v2/app.css"></head><body data-id="server-tls-from-command-line"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search YouTrack Standalone Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>YouTrack Standalone 2019.1 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="server-tls-from-command-line" id="configure-server-tls-from-command-line.xml">Configure Built-in TLS from the Command Line</h1>    <p id="e3c6dfc6">The instructions on this page show you how to configure built-in TLS for an existing installation using command-line arguments.</p>    <p id="f55043ae">Using the command line, you can switch between the following connection modes:</p>    <div class="table-wrapper"><table class="                 " width="100%" id="0c897746"><thead><tr id="3b99ae15" class="ijRowHead"><th id="ccd8b9b2" width="20%"><p>Mode</p></th><th id="91f89675"><p>Description</p></th></tr></thead><tbody><tr id="a9e85aa8" class="ijRowOdd"><td id="6099f9ca"><p>HTTP</p></td><td id="fd2960f6"><p id="6cfa6596">The default HTTP mode. TLS is disabled.</p>                <p id="52a5c5ef">HTTP mode is only suitable for test installations or when connections to YouTrack are routed through an SSL-terminating reverse proxy server.</p></td></tr><tr id="ba1961ea" class="ijRowEven"><td id="01f033e6"><p>HTTPS</p></td><td id="882f7464"><p id="f0f81dad">A secure HTTPS mode. TLS is enabled.</p>                <p id="58519e71">The configuration parameters let you secure your server connections using the following file formats:</p>                <ul class="list _ul"><li class="list__item" id="dbc57e36"><p>A keystore that contains private key/certificate data in <a href="https://en.wikipedia.org/wiki/Keystore" data-external="true" target="_blank" rel="noopener noreferrer">JKS</a> or <a href="https://en.wikipedia.org/wiki/PKCS_12" data-external="true" target="_blank" rel="noopener noreferrer">PKCS #12</a> format.</p></li><li class="list__item" id="c9a58a79"><p>A private key, certificate, and (optional) certificate chain as separate files in <a href="https://en.wikipedia.org/wiki/Privacy-Enhanced_Mail" data-external="true" target="_blank" rel="noopener noreferrer">PEM</a> format.</p></li></ul>            </td></tr></tbody></table></div>    <p id="675614a8">To switch modes, stop YouTrack and run the <code class="code">configure</code> command.        The values that you specify for each of the parameters in the command define your configuration of choice.        See below for detailed instructions and a complete list of properties for each configuration.</p>    <div class="chapter"><h2 id="switch-to-http" data-toc="server-tls-from-command-line#switch-to-http">Switching to HTTP Mode</h2>        <p id="7e6c25d2">When you run YouTrack with plain HTTP mode, the connections between web browsers and your server are not secured over SSL/TLS.            YouTrack is also optimized to use the HTTP/2 protocol, which most servers only support for HTTPS connections.            For optimal performance, strongly advise against using plain HTTP.</p>        <p id="9ced1b47">The one case where it's safe to switch from HTTPS mode to HTTP is when you modify your server environment to use an SSL-terminating reverse proxy.            In this case, you switch YouTrack to run in HTTP mode.            Instead of using built-in TLS, you configure the reverse proxy to secure your server traffic and support HTTP/2 connections.</p>    <section class="procedure-steps"><h3 id="HTTP">To switch to HTTP mode:</h3><ol class="list _decimal"><li class="list__item" id="da5fbebf"><p><a href="Stop-and-Start-YouTrack.html">Stop the YouTrack service</a>.</p></li><li class="list__item" id="8eeccf6b">            <p id="e1dffcf0">Enter the following command:</p>            <div class="code-block" data-lang="none"><code class="code-block__wrapper">&lt;youtrack&gt;/bin/youtrack.sh configure \
--listen-port=8080 \
[--base-url=&lt;new base URL&gt;] \
--secure-mode=disable</code></div>            <p id="e53fa007">If the server base URL changes as a result of switching to HTTP mode,                use the <code class="code">--base-url=&lt;new base URL&gt;</code> parameter to set this value.</p>            <aside class="note " data-title="" rel="e53fa007" id="cf5a8f87">                <p id="e854ac99">When you change the base URL, you need to re-register YouTrack in each of the services that are integrated with your installation.                    This includes generating new client IDs and secrets for third-party authentication modules and access tokens for VCS integrations.</p>            </aside>            <p id="bb8c209b">For more information about the parameters that are used in this command, see <a href="#configure-properties">Configuration Parameters</a>.</p>        </li><li class="list__item" id="b5b40fb7"><p><a href="Stop-and-Start-YouTrack.html">Start the YouTrack service</a>.</p></li></ol></section>    </div>    <div class="chapter"><h2 id="switch-to-https-secure-mode" data-toc="server-tls-from-command-line#switch-to-https-secure-mode">Switching to HTTPS Mode</h2>        <p id="3a62372a">The <code class="code">configure</code> command lets you switch from HTTP to HTTPS mode.            To enable secure HTTPS mode, you need to provide YouTrack with a private key and certificate.            You can supply the private key and certificate as:</p>        <ul class="list _ul"><li class="list__item" id="32c7f29f"><p>A keystore that contains private key/certificate data in <a href="https://en.wikipedia.org/wiki/Keystore" data-external="true" target="_blank" rel="noopener noreferrer">JKS</a> or <a href="https://en.wikipedia.org/wiki/PKCS_12" data-external="true" target="_blank" rel="noopener noreferrer">PKCS #12</a> format.</p></li><li class="list__item" id="9e988263"><p>A private key, certificate, and (optional) certificate chain as separate files in <a href="https://en.wikipedia.org/wiki/Privacy-Enhanced_Mail" data-external="true" target="_blank" rel="noopener noreferrer">PEM</a> format.</p></li></ul>        <p id="4eaf0b58">Before you start, copy your secure files to a location that is available to your YouTrack server.</p>        <p id="93e03ce6">The <code class="code">configure</code> command supports different properties that are specific to these file types.            Follow the procedure that is applicable for the type of files that are available to you.</p>        <p id="3a903d16">You can also follow these procedures if you have already configured HTTPS and simply want to apply a new certificate and private key to your YouTrack server.</p>    <section class="procedure-steps"><h3 id="HTTPS-keystore">To switch to HTTPS mode using an SSL keystore file:</h3><ol class="list _decimal"><li class="list__item" id="62e566a8"><p><a href="Stop-and-Start-YouTrack.html">Stop the YouTrack service</a>.</p></li><li class="list__item" id="a4aa4fa2">            <p id="e69538d3">Run the following command:</p>            <div class="code-block" data-lang="none"><code class="code-block__wrapper">&lt;youtrack&gt;/bin/youtrack.sh configure \
--listen-port=443 \
[--base-url=&lt;new base URL&gt;] \
--secure-mode=tls \
--tls-server-cert-keystore-file=&lt;path-to-keystore&gt; \
--tls-server-cert-keystore-password=&lt;keystore password&gt; \
--tls-server-cert-keystore-key-alias=&lt;private key entry alias&gt; \
[--tls-server-cert-keystore-key-password=&lt;private key entry password&gt;] \
--tls-redirect-from-http=&lt;[true|false]&gt; \
[--tls-redirect-from-http-listen-port=8080]</code></div>            <ul class="list _ul"><li class="list__item" id="77ee9536"><p id="f6906536">If the server base URL changes as a result of switching to HTTPS mode,                    use the <code class="code">--base-url=&lt;new base URL&gt;</code> parameter to set this value.</p>                    <aside class="note " data-title="" rel="f6906536" id="72b3c19a">                        <p id="2250213a">When you change the base URL, you need to re-register YouTrack in each of the services that are integrated with your installation.                            This includes generating new client IDs and secrets for third-party authentication modules and access tokens for VCS integrations.</p>                    </aside>                </li><li class="list__item" id="a2df3342"><p>If you are switching from HTTP to HTTPS mode, you can designate a redirect listen port.                    This non-secure port receives all HTTP requests and redirects them to the secure listen                    port. To do so, use <code class="code">tls-redirect-from-http=true</code> and                    specify a value for the <code class="code">tls-redirect-from-http-listen-port=&lt;your redirect port number&gt;</code> property.</p></li></ul>            <p id="be91a49f">For more information about the parameters that are used in this command, see <a href="#configure-properties">Configuration Parameters</a>.</p>        </li><li class="list__item" id="f2746b70"><p><a href="Stop-and-Start-YouTrack.html">Start the YouTrack service</a>.</p></li></ol></section>    <section class="procedure-steps"><h3 id="HTTPS-privateKeyAndCert">To switch to the HTTPS mode using a private key and certificate:</h3><ol class="list _decimal"><li class="list__item" id="2d191b4a"><p><a href="Stop-and-Start-YouTrack.html">Stop the YouTrack service</a>.</p></li><li class="list__item" id="cb3cffac"><p id="659ada1b">Run the following command:</p>            <div class="code-block" data-lang="none"><code class="code-block__wrapper">&lt;youtrack&gt;bin/youtrack.sh configure \
--listen-port=443 \
[--base-url=&lt;new base URL&gt;] \
--secure-mode=tls \
--tls-server-cert-key-file=&lt;path-to-private-key-file&gt; \
--tls-server-cert-file=&lt;path-to-certificate-file&gt; \
[--tls-server-cert-chain-file=&lt;path-to-certificate-chain-file&gt;]  \
--tls-redirect-from-http=&lt;[true|false]&gt; \
[--tls-redirect-from-http-listen-port=8080]</code></div>            <ul class="list _ul"><li class="list__item" id="faa0c91a"><p>If the private key is encrypted, add the <code class="code">tls-server-cert-private-key-passphrase</code> property to provide the passphrase for the key.</p></li><li class="list__item" id="d146525c"><p>If you want to define relative paths to the certificate files, use <code class="code">tls-server-cert-key-file</code>, <code class="code">tls-server-cert-file</code>, and <code class="code">tls-server-cert-chain-file</code>.                    Set the value for the additional <code class="code">tls-server-cert-folder</code> property with the absolute path to the directory.                    Relative paths are resolved against the specified absolute path.</p></li><li class="list__item" id="dc732547"><p id="6c5844a7">If the server base URL changes as a result of switching to HTTPS mode,                    use the <code class="code">--base-url=&lt;new base URL&gt;</code> parameter to set this value.</p>                    <aside class="note " data-title="" rel="6c5844a7" id="0d48a65c">                        <p id="5ee8397a">When you change the base URL, you need to re-register YouTrack in each of the services that are integrated with your installation.                            This includes generating new client IDs and secrets for third-party authentication modules and access tokens for VCS integrations.</p>                    </aside>                </li><li class="list__item" id="f704cbcd"><p>If you are switching from HTTP to HTTPS mode, you can designate a redirect listen port.                    This non-secure port receives all HTTP requests and redirects them to the secure listen                    port. To do so, use <code class="code">tls-redirect-from-http=true</code> and                    specify a value for the <code class="code">tls-redirect-from-http-listen-port=&lt;your redirect port number&gt;</code> property.</p></li></ul>            <p id="7037c4bc">For more information about the parameters that are used in this command, see <a href="#configure-properties">Configuration Parameters</a>.</p>        </li><li class="list__item" id="4177045a"><p><a href="Stop-and-Start-YouTrack.html">Start the YouTrack service</a>.</p></li></ol></section>    </div>    <div class="chapter"><h2 id="configure-properties" data-toc="server-tls-from-command-line#configure-properties">Configuration Parameters</h2>    <p id="a347ee7a">The following table provides a list of parameters that you can use to configure built-in TLS.</p>    <div class="table-wrapper"><table class=" wide                  _layout-fixed" width="100%" id="3d223b0e"><thead><tr id="be840383" class="ijRowHead"><th id="70d1c6bd" width="20%"><p>Property</p></th><th id="d230de2c" width="20%"><p>Value</p></th><th id="c2bcccd0"><p>Description</p></th></tr></thead><tbody><tr id="19478b27" class="ijRowOdd"><td id="d837fa29"><p>secure-mode</p></td><td id="ab9c36c9"><p><code class="code">disable</code> | <code class="code">tls</code></p></td><td id="226d21ce"><p id="aecd4bcf">The connection mode that is applied to the YouTrack server.                This property supports the following values:</p>                <ul class="list _ul"><li class="list__item" id="4899f6c7"><p><code class="code">disable</code> — TLS is disabled. This is the default value for this property.</p></li><li class="list__item" id="85b8830b"><p><code class="code">tls</code> — TLS is enabled. </p></li></ul>            </td></tr><tr id="02c4167e" class="ijRowEven"><td id="4ce9a113"><p>listen-port</p></td><td id="223c2cef"></td><td id="6b6d7ce9"><p>The port on which YouTrack listens to HTTP traffic.</p></td></tr><tr id="e2b27680" class="ijRowOdd"><td id="8d944519"><p>base-url</p></td><td id="0fa53afb"></td><td id="66f60fe8"><p id="95a74376">The URL that end users request to access your YouTrack installation. For example, <code class="code">https://youtrack.mydomain.com</code>.</p>                <ul class="list _ul"><li class="list__item" id="89ab4537"><p>When the value for the <code class="code">secure-mode</code> property is <code class="code">tls</code> or your YouTrack installation is secured behind an SSL-terminating reverse proxy server,                        the URL should begin with <code class="code">https</code>.</p></li><li class="list__item" id="1f7ef15f"><p>Otherwise (when running YouTrack using plain HTTP), the URL begins with <code class="code">http</code>.</p></li></ul>            </td></tr><tr id="6379ec6b" class="ijRowEven"><td id="053042d7"><p>tls-redirect-from-http</p></td><td id="f3bd96b1"><p><code class="code">true</code> | <code class="code">false</code></p></td><td id="759fa142"><p id="dfab56d2">Set to true, to enable an additional port (defined by property <code class="code">tls-redirect-from-http-listen-port</code>) to accept unencrypted HTTP traffic and redirect it to a                secure port defined by the property <code class="code">listen-port</code>.</p>                <p id="6aac34c7">The default value is <code class="code">false</code>.</p></td></tr><tr id="4b0fc7f0" class="ijRowOdd"><td id="da13a75b"><p>tls-redirect-from-http-listen-port</p></td><td id="d9e6f16d"></td><td id="0c1d3b1c"><p>Specify an additional port to accept unencrypted HTTP traffic and redirect it to a secure port                defined by the property <code class="code">listen-port</code> (to enable this port, set the property <code class="code">tls-redirect-from-http</code> to <code class="code">true</code>).</p></td></tr><tr id="7fe8788d" class="ijRowEven"><td id="8f3369ff"><p>tls-server-cert-folder</p></td><td id="b2c6e7a7"></td><td id="31708d97"><p id="e99dc2eb">An (optional) absolute path to resolve relative paths defined by other command line parameters, when present.                Relative paths to server certificate files that are specified in other properties are resolved against this directory.                The properties that can reference relative paths are:</p>                <ul class="list _ul"><li class="list__item" id="5698786a"><code class="code">tls-server-cert-key-file</code></li><li class="list__item" id="c8098748"><code class="code">tls-server-cert-file</code></li><li class="list__item" id="b6ed9585"><code class="code">tls-server-cert-chain-file</code></li><li class="list__item" id="3857d6f2"><code class="code">tls-server-cert-keystore-file</code></li></ul>            </td></tr><tr id="4c30a077" class="ijRowOdd"><td id="304d2beb"><p>tls-server-cert-keystore-file</p></td><td id="ed9453ae"></td><td id="f8295121"><p>The location of a keystore file in either <a href="https://en.wikipedia.org/wiki/Keystore" data-external="true" target="_blank" rel="noopener noreferrer">JKS</a> or <a href="https://en.wikipedia.org/wiki/PKCS_12" data-external="true" target="_blank" rel="noopener noreferrer">PKCS #12</a> format.</p></td></tr><tr id="b010481d" class="ijRowEven"><td id="969554e7"><p>tls-server-cert-keystore-password</p></td><td id="1930d84b"></td><td id="d496f462"><p>Keystore integrity password</p></td></tr><tr id="c611a7cb" class="ijRowOdd"><td id="1b5464d8"><p>tls-server-cert-keystore-key-alias</p></td><td id="785177e2"></td><td id="cd74906d"><p id="117783fb">The alias of the entry in the keystore that contains the server certificate and the private key.                If your keystore uses the <a href="https://en.wikipedia.org/wiki/PKCS_12" data-external="true" target="_blank" rel="noopener noreferrer">PKCS #12</a> format, follow these guidelines:</p>                <ul class="list _ul"><li class="list__item" id="1dced3f8"><p>Use the value that is stored as the <code class="code">friendlyName</code> in the keystore.</p></li><li class="list__item" id="b3a0d9b4"><p>If the private key and certificate pair was not marked with a <code class="code">friendlyName</code> during generation,                        use this parameter to provide the sequential number of this pair in the keystore.                        For a keystore that only contains one certificate and private key pair, set the value to <code class="code">1</code>.</p></li></ul>            </td></tr><tr id="3ace564e" class="ijRowEven"><td id="2d16a87e"><p>tls-server-cert-keystore-key-password</p></td><td id="1a2c2a35"></td><td id="f1a95517"><p>Password that protects your server's private key entry in the keystore.</p></td></tr><tr id="e3de6387" class="ijRowOdd"><td id="924aa057"><p>tls-server-cert-key-file</p></td><td id="b0ce38ad"></td><td id="cd8e405a"><p>The location of a private key (<a href="https://en.wikipedia.org/wiki/PKCS_1" data-external="true" target="_blank" rel="noopener noreferrer">PKCS #1</a> or <a href="https://en.wikipedia.org/wiki/PKCS_8" data-external="true" target="_blank" rel="noopener noreferrer">PKCS #8</a>) file, stored in <a href="https://en.wikipedia.org/wiki/Privacy-Enhanced_Mail" data-external="true" target="_blank" rel="noopener noreferrer">PEM</a> format.</p></td></tr><tr id="3bbf5063" class="ijRowEven"><td id="f90054b2"><p>tls-server-cert-file</p></td><td id="ebae158f"></td><td id="dc976990"><p>The location of a certificate file, stored in <a href="https://en.wikipedia.org/wiki/Privacy-Enhanced_Mail" data-external="true" target="_blank" rel="noopener noreferrer">PEM</a> format.</p></td></tr><tr id="9cc25301" class="ijRowOdd"><td id="c067bd22"><p>tls-server-cert-chain-file</p></td><td id="d3cbd6b7"></td><td id="12170e91"><p>The (optional) location of a file that contains the certificate chain, stored in <a href="https://en.wikipedia.org/wiki/Privacy-Enhanced_Mail" data-external="true" target="_blank" rel="noopener noreferrer">PEM</a> format.</p></td></tr><tr id="075a9717" class="ijRowEven"><td id="3e7d73c5"><p>tls-server-cert-private-key-passphrase</p></td><td id="11df16c8"><p>string</p></td><td id="7854b8c6"><p>If you use an encrypted private key, then use this property to provide the passphrase that was used for encryption. Supported for both <a href="https://en.wikipedia.org/wiki/PKCS_1" data-external="true" target="_blank" rel="noopener noreferrer">PKCS #1</a> and <a href="https://en.wikipedia.org/wiki/PKCS_8" data-external="true" target="_blank" rel="noopener noreferrer">PKCS #8</a> formats.</p></td></tr></tbody></table></div>    </div><div class="last-modified" data-skip-index="skip">Last modified: 8 July 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="configure-server-tls-configuration-wizard.html">Configure Built-in TLS in Web-based Configuration Wizard</a><a class="navigation-links__next" href="switch-between-third-party-proxy-and-built-in-tls.html">Switch Between Third-party Proxy and Built-in TLS</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/help/app/v2/app.js"></script></body></html>