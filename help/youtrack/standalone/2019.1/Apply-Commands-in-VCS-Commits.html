<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/help/app/v2/analytics.js"></script><meta charset="UTF-8"><meta name="robots" content="noindex"><title>Apply Commands in VCS Commits - Help | YouTrack Standalone</title><link rel="stylesheet" href="/help/app/v2/app.css"></head><body data-id="Apply-Commands-in-VCS-Commits"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search YouTrack Standalone Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>YouTrack Standalone 2019.1 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Apply-Commands-in-VCS-Commits" id="Apply-Commands-in-VCS-Commits.xml">Apply Commands in VCS Commits</h1>    <a name="Executing_Commands_from_a_Comment_to_a_VCS_Change_Commit"></a>    <p id="8447e98f">You can apply commands to issues when you commit changes to a code repository in a version control system.        You don't even need to open YouTrack.        Do apply these changes, you use a special format to specify a command in your commit message.        For a complete list of commands that are supported in YouTrack, see <a href="Command-Reference.html">Command Reference</a>.</p>    <p id="326f7c32">You may have already seen how to <a href="Map-Issues-to-VCS-Change-Commit.html">add links to issues in a commit message</a>.    This goes one step further.    Instead of just adding links that help you navigate between your issues and the version control system,        you can apply any command that is recognized by YouTrack without leaving your IDE or repository.</p>    <p id="2e9632f7">This feature is supported by the following integrations:</p>    <ul class="list _ul"><li class="list__item" id="6c4f506f"><a href="Integration-with-TeamCity.html">TeamCity Integration</a></li><li class="list__item" id="adbe1ba3"><a href="Integration-with-Upsource.html">Upsource Integration</a></li><li class="list__item" id="cfc047de"><p><a href="Integration-with-Version-Control-Systems.html">VCS Integrations</a> (GitHub, Bitbucket, and GitLab)</p></li></ul>    <p id="06bac33b">For build server integrations, the availability of this feature is based on the configuration for the integration in your project.    Specifically, the <span class="control">Process changes</span> setting for the mapping between the build configuration and the project must be set to <span class="control">Attach and apply commands</span>.    Otherwise, the commands are ignored by YouTrack.</p>    <div class="chapter"><h2 id="match-vcs-commit-author-with-users-youtrack" data-toc="Apply-Commands-in-VCS-Commits#match-vcs-commit-author-with-users-youtrack">Matching VCS Commit Authors and YouTrack Users</h2>    <p id="d2a6e4ef">To link VCS changes and process commands in commit messages, YouTrack has to find a user account that matches the author of the commit message.        If a command is specified in the commit message, it is applied based on the access permissions that are granted to the user account in YouTrack.    The user account is identified in different ways based on the type of connection to the version control system.</p>    <div class="table-wrapper"><table class="                 " width="100%" id="1aa410ef"><thead><tr id="7f1aa5b2" class="ijRowHead"><th id="064867ab" width="20%"><p>Connection Type</p></th><th id="b9f37b39"><p>Description</p></th></tr></thead><tbody><tr id="1b0275d0" class="ijRowOdd"><td id="b914516b"><p>TeamCity Integration</p></td><td id="91e3939b"><p id="59e96d81">YouTrack checks the email address that is stored in the TeamCity user profile of the user who committed changes to the VCS.                To recognize the TeamCity user who committed the change, the VCS user name should be associated with the user profile in TeamCity.</p>            </td></tr><tr id="a74601d4" class="ijRowEven"><td id="4d535f56"><p>Upsource Integration</p></td><td id="a2d907a7"><p>This integration is supported by connecting to an external Hub that manages user accounts for both Upsource and YouTrack.            The command is applied in YouTrack by the same user who entered the command in the VCS commit message.</p></td></tr><tr id="b960f0ff" class="ijRowOdd"><td id="0a5abcc1"><p>VCS Integrations</p></td><td id="d04c5f72"><p id="fbb466cb">For VCS integrations, the ability to apply commands to issues is limited to users who are members of the <span class="control">Committers</span> group in the VCS integration settings.</p>                <ul class="list _ul"><li class="list__item" id="bd1fbd73"><p>First, YouTrack searches for a user account whose email address matches the email address of the commit author.                    If found, the command is executed on behalf of this user.</p></li><li class="list__item" id="3edc0134"><p id="3614d886">If none of the users in the <span class="control">Committers</span> group has such an email address, YouTrack tries to find a match by name.                        It takes the value that is provided by the integrated VCS and compares it to the list of <span class="control">VCS user names</span> that are stored in the Hub accounts for users who belong to the <span class="control">Committers</span> group.</p>                    <ul class="list _ul"><li class="list__item" id="73cc05e3"><p>GitHub and GitLab provide the value that is stored as the <span class="control">Name</span>.</p></li><li class="list__item" id="e5365585"><p>Bitbucket provides the value that is stored as the <span class="control">Nickname</span>.</p></li></ul>                    </li></ul>            </td></tr></tbody></table></div>    <p id="67a59830">If the author of the commit message cannot be found in YouTrack, the command is not applied.    The user name is shown in red text on the VCS changes tab.    The warning tooltip provides information that you can use to fix the problem.</p>    <figure><a class="lightbox" href="/help/img/youtrack/2019.1/vcs-user-not-found.zoomed.png"><img alt="VCS user not found" title="VCS user not found" src="/help/img/youtrack/2019.1/vcs-user-not-found.png" id="96bbc145" width="600" height="94"></a></figure>        <p id="bb70b828">There are basically two things that users can do to fix this problem:</p>        <ul class="list _ul"><li class="list__item" id="35c2fc19"><p>Use the same email address for their accounts in YouTrack and the integrated VCS.</p></li><li class="list__item" id="2820f621"><p id="88f6c94b">Add their name (or nickname for Bitbucket) to the list of <span class="control">VCS user names</span> in their Hub accounts.</p>                <aside class="note " data-title="" rel="88f6c94b" id="f72b48e7"><p id="34ee0112">GitHub and GitLab users often enter their username instead of the value that is stored as the <span class="control">Name</span> in their profile.                If you continue to have trouble applying commands in commit messages to your GitHub or GitLab repository, check your <span class="control">VCS user names</span> for your <span class="control">Name</span>.</p>                <p id="57d7a3c5">For example, if the legendary software engineer Linus Torvalds wanted to make sure his GitHub commits were properly linked to his VCS changes,                    he would need to add <span class="control">Linus Torvalds</span> to the list of <span class="control">VCS user names</span> in YouTrack, not <code class="code">torvalds</code>, which is his username in GitHub.</p></aside>            </li></ul>    </div>    <div class="chapter"><h2 id="command-related-notifications" data-toc="Apply-Commands-in-VCS-Commits#command-related-notifications">Command-related Notifications</h2>        <p id="93df58ae">There are special event categories that let you monitor whether changes are applied to issues by VCS and build server integrations.        The subscription options for these events are available in your YouTrack profile settings.</p>        <figure><a class="lightbox" href="/help/img/youtrack/2019.1/command-related-notifications.zoomed.png"><img alt="command-related notifications" title="command-related notifications" src="/help/img/youtrack/2019.1/command-related-notifications.png" id="49351bfa" width="600" height="267"></a></figure>        <p id="2d705013">The following options are available:</p>        <div class="table-wrapper"><table class="                 " width="100%" id="7b343f7a"><thead><tr id="54a78b5f" class="ijRowHead"><th id="fb7f7902" width="20%"><p>Notification event</p></th><th id="343640b4"><p>Description</p></th></tr></thead><tbody><tr id="9e80016a" class="ijRowOdd"><td id="8a8fa317"><p>Updates applied by VCS and build server integrations</p></td><td id="1c5a9881"><p>Sends a notification when a change is applied to an issue with a command that is entered in a comment in a VCS commit.                This can help you verify whether your changes have been processed by the integrated build server or VCS.</p></td></tr><tr id="1cfe520a" class="ijRowEven"><td id="665c5c5c"><p>Failed commands in commits processed by VCS and build server integrations</p></td><td id="307b1cbf"><p>Sends a notification when a command that is entered in a comment in a VCS commit fails to update an issue.                This can help you identify users whose VCS usernames aren't properly matched with their YouTrack accounts or recognize invalid command syntax.</p></td></tr></tbody></table></div>            <p id="fb9a3648">To learn how to update the notification settings in your YouTrack profile, see <a href="Notifications.html#general-notifications-scheme">General Notification Scheme</a>.</p>    </div>    <div class="chapter"><h2 id="vcs-commit-command-syntax" data-toc="Apply-Commands-in-VCS-Commits#vcs-commit-command-syntax">Command Syntax</h2>        <p id="c5a46652">The settings for your VCS or build server integration include an option to parse commits for issue comments.            With the <span class="control">Parse commits for issue comments</span> enabled, commit message text that starts a new line after a command is copied to a separate issue comment.            This feature can be enabled or disabled independently on a per-project basis and is disabled by default.            To learn more, see <a href="Add-a-Comment.html#add-comment-vcs-commits">Generate Comments from VCS Commits</a>.</p>    <p id="d2566628">The pattern that you use to apply commands to issues is not affected by this setting.        Use the following syntax to apply commands to issues from a VCS commit message:</p>    <div class="code-block" data-lang="none"><code class="code-block__wrapper">[commit message text] #issueID [command 1] [command 2] ... [command n]
[issue comment text]
...</code></div>    <p id="53989400">or</p>    <div class="code-block" data-lang="none"><code class="code-block__wrapper">[commit message text] ^issueID [command 1] [command 2] ... [command n]
[issue comment text]
...</code></div>        <p id="82c853a6">The entire commit message, including commands and issue comments, is shown as part of the VCS change record in the activity stream.</p>        <figure><a class="lightbox" href="/help/img/youtrack/2019.1/commit-message-with-command.zoomed.png"><img alt="commit message with command" title="commit message with command" src="/help/img/youtrack/2019.1/commit-message-with-command.png" id="564d7090" width="600" height="190"></a></figure>        <p id="ee6e0320">The message text is broken down into the following components:</p>        <div class="table-wrapper"><table class="                 " width="100%" id="32d0c470"><thead><tr id="fa730192" class="ijRowHead"><th id="782220d4" width="20%"><p>Component</p></th><th id="13ad3d28"><p>Description</p></th></tr></thead><tbody><tr id="23ea3524" class="ijRowOdd"><td id="8ba3d44d"><p>Commit message text</p></td><td id="d788babc"><p id="3aa5ac12">The string of characters that precedes the number sign or caret are simply added to the VCS change record.                    This text is not applied as a comment to the issue.</p>                    <p id="a6dbb9b3">The commit message text can wrap multiple lines and include empty lines.</p></td></tr><tr id="10904bd4" class="ijRowEven"><td id="b3116aa8"><p>Commands</p></td><td id="92fb49df"><p id="fe0fc923">YouTrack recognizes the number sign (#) or caret (^) as a flag for an issue that is followed by a command.                    The characters that follow the number sign or caret are parsed to match an issue ID.                    Any string that follows the issue ID is parsed as a command up to the end of the current line.                    If any part of the command wraps to the next line, the command is truncated.                    You can apply additional commands to one or more issues by starting a new line with the number sign or caret.</p>                    <p id="0408b3b4">If the string contains any incorrect commands or attribute references, the command is not applied.                        Errors in the command are highlighted on the VCS changes tab.</p>                    <p id="9c834881">For a complete list of commands that are supported in YouTrack, see <a href="Command-Reference.html">Command Reference</a>.</p></td></tr><tr id="2cef5932" class="ijRowOdd"><td id="354ad83a"><p>Issue comment text</p></td><td id="c941de04"><p id="d4c5138e">If the the <span class="control">Parse commits for issue comments</span> option is enabled for your integration, text that is added as a new line after a command is copied to the issue as a comment.                    You can add multiple lines of text between commands.</p>                    <p id="56e91361">If this option is disabled in your project, the text is only visible as part of the VCS change record.                    For more information, see <a href="Add-a-Comment.html#add-comment-vcs-commits">Generate Comments from VCS Commits</a>.</p></td></tr><tr id="fe4d5fd3" class="ijRowEven"><td id="0d2831cc"><p>Issue IDs</p></td><td id="b5729ee5"><p>Any issue ID that is found in the commit message is transformed into a hyperlink.                    This includes issues that are flagged for a command and issues that are simply mentioned in the commit message or issue comment text.</p></td></tr></tbody></table></div>    </div>        <div class="chapter"><h2 id="update-multiple-issues" data-toc="Apply-Commands-in-VCS-Commits#update-multiple-issues">Updating Multiple Issues</h2>    <p id="afe60609">You can also apply commands to multiple issues by grouping issues by ID in parentheses.    You don't need so specify the same command to each issue individually.        For example:</p>    <div class="code-block" data-lang="shell">(#TST-12, #TST-324, #TST-433) Fixed Reviewed by john.d Revision ${revision}</div>    <p id="aee14287">The command in this example is applied to three issues.        The issue state is set to <span class="control">Fixed</span>, the <span class="control">Reviewed by</span> field is set to <code class="code">john.d</code>.        The value for the <span class="control">Revision</span> field is automatically set to the current revision with the <code class="code">${revision}</code> placeholder.</p>    <p id="eca96d3c">The following example shows you how to update issues like a boss.    A single commit message applies all of these changes at once:</p>    <ul class="list _ul"><li class="list__item" id="f5ab7a38"><p>For issue TST-345, the state is set to <span class="control">Fixed</span>, the developer who reviewed the changes is added to the <span class="control">Reviewed by</span> field,            the revision number from TeamCity is added to the <span class="control">Revision</span> field, and a comment is added to the issue.</p></li><li class="list__item" id="9b13e28d"><p>For issues TST-423 and TST-348, the state is set to <span class="control">In Progress</span> and a comment is added to both issues.</p></li></ul>    <div class="code-block" data-lang="shell">With this commit I've made the following progress:
#TST-345 Fixed Reviewed by daria.s Revision ${revision}
@William_Johnson I finally fixed this nasty bug!!!
(#TST-423, #TST-348) In Progress
I implemented the code to support this use case, but need to describe the steps for testing.</div>    </div>    <div class="chapter"><h2 id="vcs-commit-placeholders" data-toc="Apply-Commands-in-VCS-Commits#vcs-commit-placeholders">Placeholders</h2>        <p id="f156ccef">You can use the <code class="code">${revision}</code> a placeholder in a commit message.            The placeholder is be replaced with the actual hash of the VCS commit.</p>        <p id="34c02a16">The TeamCity Integration supports additional placeholders for build attributes.            These placeholders are used in commands that are automatically applied to all issues that are assigned build numbers in YouTrack.            You cannot use these additional placeholders in manual commit messages.            For more information, see <a href="Integration-with-TeamCity.html">TeamCity Integration</a>.</p>    </div>    <div class="last-modified" data-skip-index="skip">Last modified: 8 July 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="Command-Grammar.html">Command Grammar</a><a class="navigation-links__next" href="Apply-Commands-over-Jabber.html">Apply Commands over Jabber</a></div><section class="seealso" data-skip-index="skip"><div class="seealso__header"><h2>See Also</h2></div><div class="seealso__content"><div class="seealso__col" data-skip-index="skip"><h3>System Administration:</h3><ul class="list"><li class="list__item"><a href="Integration-with-TeamCity.html">TeamCity Integration</a></li><li class="list__item"><a href="Integration-with-Upsource.html">Upsource Integration</a></li><li class="list__item"><a href="Integration-with-Version-Control-Systems.html">VCS Integrations</a></li></ul></div><div class="seealso__col" data-skip-index="skip"><h3>User Guide:</h3><ul class="list"><li class="list__item"><a href="Command-Reference.html">Command Reference</a></li><li class="list__item"><a href="Map-Issues-to-VCS-Change-Commit.html">Link Issues in VCS Commits</a></li><li class="list__item"><a href="VCS-Changes.html">View and Edit VCS Changes</a></li></ul></div><div class="seealso__col" data-skip-index="skip"><h3>Project Administration:</h3><ul class="list"><li class="list__item"><a href="Configure-TeamCity-Integration.html">Integrate with TeamCity</a></li><li class="list__item"><a href="Connect-to-a-VCS.html">Connect to a VCS</a></li></ul></div></div></section></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/help/app/v2/app.js"></script></body></html>