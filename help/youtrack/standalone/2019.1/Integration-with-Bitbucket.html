<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/help/app/v2/analytics.js"></script><meta charset="UTF-8"><meta name="robots" content="noindex"><title>Bitbucket Integration - Help | YouTrack Standalone</title><link rel="stylesheet" href="/help/app/v2/app.css"></head><body data-id="Integration-with-Bitbucket"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search YouTrack Standalone Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>YouTrack Standalone 2019.1 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Integration-with-Bitbucket" id="Integration-with-Bitbucket.xml">Bitbucket Integration</h1>    <p id="0c4bf160">You can integrate a project in YouTrack with VCS repositories that are hosted on <a href="https://bitbucket.org/" data-external="true" target="_blank" rel="noopener noreferrer">bitbucket.org</a>.        A Bitbucket integration enables the following features in YouTrack:</p>    <ul class="list _ul"><li class="list__item" id="e5a86ddb"><p>Apply commands to YouTrack issues right from a commit comment or a pull request description.            For more information, see <a href="Apply-Commands-in-VCS-Commits.html">Apply Commands in VCS Commits</a>.</p></li><li class="list__item" id="d44233f6"><p>Track commits that are related to specific issues in the activity stream for each issue.            For more information, see <a href="VCS-Changes.html">View and Edit VCS Changes</a>.</p></li><li class="list__item" id="2eff82e1"><p>Add links to YouTrack issues in commit messages.            For more information, see <a href="Map-Issues-to-VCS-Change-Commit.html">Link Issues in VCS Commits</a>.</p></li></ul>    <aside class="note " data-title="" rel="86de097a" id="0479b096">    <p id="9fe90e98">When you set up an integration with Bitbucket, you map a YouTrack project to a Bitbucket repository.        This operation can also be performed by a project administrator on a per-project basis.        For more information, see <a href="integrate-project-with-bitbucket.html">Integrate with Bitbucket</a>.</p>    <p id="1c5c8d16">As an administrator, you can enable the Bitbucket integration for any project in YouTrack.</p>    </aside>    <div class="chapter"><h2 id="bitbucket-integration-prerequisites" data-toc="Integration-with-Bitbucket#bitbucket-integration-prerequisites">Prerequisites</h2>        <ul class="list _ul"><li class="list__item" id="da1f4b53"><p>YouTrack is accessible to inbound connections.            Specifically, you need to make sure that your network doesn't block connections between your VCS server and YouTrack.</p></li><li class="list__item" id="63e0fc1b"><p>The account that you use to connect to Bitbucket is either the owner of the repository or has admin-level access to the repository.                This is the user account whose login and password are used for authentication.                If you use an account that does not have admin-level access to the repository, you encounter an <code class="code">unable to perform operation</code> error.</p></li></ul>      </div>      <div class="chapter"><h2 id="configure-bitbucket-integration" data-toc="Integration-with-Bitbucket#configure-bitbucket-integration">Connect to a Bitbucket Repository</h2>          <p id="6e0d2d77">The first step is to establish a connection between a project and YouTrack and a repository in Bitbucket.              To connect with Bitbucket, you need to enter the credentials for your Bitbucket account.              This authentication grants YouTrack access to the repository based on the access that is granted to your account in Bitbucket.</p>          <p id="8afb32b1">The form that you use to set up the integration accepts either the password for your Bitbucket account or an app password.              We strongly recommend that you use an app password.</p>          <aside class="tip sideblock" data-title="Permissions" rel="enable-procedure" id="43bf5e74"><br><br>              <p id="919e40a5"><img alt="Icon globe" title="Icon globe" src="/help/img/youtrack/2019.1/iconGlobe.png" id="29e744a1" width="14" height="15" class="inline-icon-14"> Low-level Admin Read</p>              <p id="ff34e27b"><img alt="Icon globe" title="Icon globe" src="/help/img/youtrack/2019.1/iconGlobe.png" id="d85a1e07" width="14" height="15" class="inline-icon-14"> Low-level Admin Write</p>              <p id="be77b686">— Read Project Basic</p>              <p id="116b1c6a">— Update Project</p>          </aside>          <section class="procedure-steps"><h3 id="enable-procedure">To connect to a Bitbucket repository:</h3><ol class="list _decimal"><li class="list__item" id="080719dd"><p>Open the <span data-skip-index="skip" class="menupath">Administration &gt; VCS Integrations</span> page in YouTrack.</p></li><li class="list__item" id="8106dcd9"><p id="c337f389">Click the <span class="control">New VCS Integration</span>&nbsp;button.</p>                  <ul class="list _ul"><li class="list__item" id="31684fb8"><p>The <span class="control">New VCS Integration</span> dialog opens.                          <figure><a class="lightbox" href="/help/img/youtrack/2019.1/new-bitbucket-vcs-integration.zoomed.png"><img alt="new Bitbucket VCS integration" title="new Bitbucket VCS integration" src="/help/img/youtrack/2019.1/new-bitbucket-vcs-integration.png" id="844f210a" width="600" height="291"></a></figure></p></li></ul></li><li class="list__item" id="4702f523"><p>From the <span class="control">YouTrack project</span> list, select the name of the project that you want to integrate with the VCS repository.</p></li><li class="list__item" id="19d92b0f"><p>For the <span class="control">Server type</span>, select <span class="control">Bitbucket</span>.</p></li><li class="list__item" id="6f84a919"><p>Paste the URL that points to your Bitbucket repository into the <span class="control">Repository URL</span> input field.</p></li><li class="list__item" id="e0096d07"><p id="a911dbb1">Enter the login and password for the Bitbucket account.</p>              <p id="cef2bbe3">The <span class="control">Password</span> input field accepts either the password for your Bitbucket account or an app password.</p>                  <p id="b1d5ee7c">To create an app password, click the <span class="control">Create an app password</span> link to access your account in Bitbucket.                     Your app password for this integration requires the following permissions:</p>                  <div class="table-wrapper"><table class="                 " width="100%" id="073871bf"><thead><tr id="aa1c4237" class="ijRowHead"><th id="ae7a7217" width="20%"><p>Category</p></th><th id="8f0d9670"><p>Permission</p></th></tr></thead><tbody><tr id="32222414" class="ijRowOdd"><td id="9fd8f545"><p>Repositories</p></td><td id="2be24305"><p>Read, Admin</p></td></tr><tr id="28b10a6e" class="ijRowEven"><td id="233a49a3"><p>Pull requests</p></td><td id="e6c9e595"><p>Read</p></td></tr><tr id="c04e715e" class="ijRowOdd"><td id="15a05d71"><p>Issues</p></td><td id="48b43816"><p>Read</p></td></tr><tr id="12da7c18" class="ijRowEven"><td id="f617a79d"><p>Webhooks</p></td><td id="7b9e67d8"><p>Read and write</p></td></tr></tbody></table></div>              </li><li class="list__item" id="512bb6f1"><p id="b58f7ba9">Click the <span class="control">Save</span> button.</p>                  <ul class="list _ul"><li class="list__item" id="97abd2d5"><p>Your YouTrack project is integrated with the selected repository in Bitbucket.</p></li><li class="list__item" id="6d945fdf"><p>Commits from the Bitbucket repository that reference an issue in the project are displayed in the activity stream of the referenced issue.</p></li><li class="list__item" id="38724b9d"><p>The sidebar displays additional settings for configuring the VCS integration.                          <figure><a class="lightbox" href="/help/img/youtrack/2019.1/bitbucket-integration-settings.zoomed.png"><img alt="Bitbucket integration settings" title="Bitbucket integration settings" src="/help/img/youtrack/2019.1/bitbucket-integration-settings.png" id="f8595c90" width="600" height="351"></a></figure></p></li></ul>              <p id="39f83715">To learn more about these settings, see <a href="#integration-settings">Integration Settings</a>.</p></li></ol></section>      </div>    <div class="chapter"><h2 id="integration-settings" data-toc="Integration-with-Bitbucket#integration-settings">Integration Settings</h2>        <p id="dfb338c8">By default, the VCS integration processes changes that are committed to the repository by any user in any branch.            Any user who has access to the issue in YouTrack can view these changes in the issue activity stream.</p>        <p id="a9b598e1">If you only want to process changes by specific users in designated branches or restrict the visibility of VCS changes in YouTrack, you can customize the integration settings.            Use following settings to customize the integration:</p>        <div class="table-wrapper"><table class="                  _layout-fixed" width="100%" id="b6dc87e9"><thead><tr id="687bd7d2" class="ijRowHead"><th id="6fe70d67" width="20%"><p>Setting</p></th><th id="49381fd1"><p>Description</p></th></tr></thead><tbody><tr id="cf3745eb" class="ijRowOdd"><td id="75d39065"><p>Repository</p></td><td id="9b879dfb"><p id="90a3c810">Displays the path to the repository in the integrated version control system.</p>              <p id="f41472b4">If needed, you can edit the location of the repository after you have set up the integration.                For instructions, see <a href="edit-repository-settings.html">Edit Repository Settings</a>.</p>            </td></tr><tr id="507b9d30" class="ijRowEven"><td id="11a1f33c"><p>YouTrack project</p></td><td id="ca6cef61"><p>Sets the project in which the VCS integration is active.                    You can switch the integration to update issues in another project without having to add a new integration.</p></td></tr><tr id="bb252369" class="ijRowOdd"><td id="e47a7353"><p>Committers</p></td><td id="63229901"><p>Restricts the ability to update issues with commands in commit messages to members of the specified group.                    VCS changes from users who are not members of the selected group are still attached to related issues, but any commands that are specified in their commits are ignored.</p></td></tr><tr id="9d29a30c" class="ijRowEven"><td id="510a6e8d"><p>Monitored branches</p></td><td id="2b4e5c81"><p id="88d0b5e1">Stores the names of the branches that you want to monitor for changes.</p>                    <ul class="list _ul"><li class="list__item" id="85db6a53"><p>Use <code class="code">+</code> to include a branch.</p></li><li class="list__item" id="6c60629c"><p>Use <code class="code">-</code> exclude a branch.</p></li><li class="list__item" id="13bcffb4"><p>Use <code class="code">*</code> as a wildcard. This placeholder matches one or more characters in a string.                            For example, to include all feature branches, use:                            <div class="code-block" data-lang="bash">+:refs/heads/feature/*</div></p></li><li class="list__item" id="4a0a435d"><p>To monitor all branches, leave the input field empty.</p></li></ul>                    <p id="2db5b4e0">If the address that you entered as the <span class="control">Repository URL</span> when you connected to Bitbucket points to a specific branch,                        this branch is automatically added to the list of monitored branches when you set up the connection.</p>                </td></tr><tr id="0499816f" class="ijRowOdd"><td id="c7748ec8"><p>Parse commits for issue comments</p></td><td id="6476c89d"><p id="5f6cc5fb">When enabled, specific segments of commit message text are copied to issues as comments.                    When you copy parts of the commit message to the issue as comments, you can trigger @mention notifications and expose information to users who don't have access to VCS changes.</p>                    <p id="1467cda6">This setting does not affect how commit messages are shown in VCS changes.                        The entire commit message, including commands and issue comments, is always shown as part of the VCS change record in the activity stream.</p>                    <p id="a225cd11">You should only enable this option when:</p>                    <ul class="list _ul"><li class="list__item" id="74a5b33c"><p>You want to mention other users in your commit messages and generate notifications when the text is copied to an issue comment.</p></li><li class="list__item" id="1a2c84f1"><p>You restrict the visibility for VCS changes and want to make commit-related information visible to external users as comments.</p></li></ul>                    <p id="73748fc3">To learn more about how YouTrack processes commit messages, see <a href="Apply-Commands-in-VCS-Commits.html">Apply Commands in VCS Commits</a>.</p></td></tr><tr id="54408622" class="ijRowEven"><td id="082876f6"><p>VCS changes visibility</p></td><td id="7bd8e1a5"><p>Restricts the visibility of VCS changes to one or more groups of users in YouTrack.                    When unrestricted, the list of VCS changes is visible to any user who has permission to read issues in the project.</p></td></tr></tbody></table></div>    </div>    <div class="chapter"><h2 id="troubleshooting" data-toc="Integration-with-Bitbucket#troubleshooting">Troubleshooting</h2>      <p id="843863f9"><b id="e9fef812">Condition</b> — References to issues in VCS commits are not shown as VCS changes in YouTrack.</p>      <div class="table-wrapper"><table class="                 " width="100%" id="5cd3fddc"><thead><tr id="129981e6" class="ijRowHead"><th id="5e222624" width="50%"><p>Cause</p></th><th id="37d0af32"><p>Solution</p></th></tr></thead><tbody><tr id="228ef561" class="ijRowOdd"><td id="c662533c"><p>The webhooks in the integrated VCS don't exist, are disabled, or are otherwise malformed.</p></td><td id="f45faaf6"><p id="7c6abd18">Check the webhooks in the settings for your VCS repository.            Make sure that the webhooks exist and that they are enabled.</p>            <p id="3df31453">If you suspect that there is a problem with a webhook, delete or disable it in the settings for your VCS and set up a new VCS integration in YouTrack.</p></td></tr></tbody></table></div>        <p id="1be5aeca"><b id="f55d2e77">Condition</b> — Commands that are specified in VCS commits are not applied to issues in YouTrack.</p>        <div class="table-wrapper"><table class="                 " width="100%" id="b10ca762"><thead><tr id="2951c201" class="ijRowHead"><th id="df5dc956" width="50%"><p>Cause</p></th><th id="b5b995e3"><p>Solution</p></th></tr></thead><tbody><tr id="c28864d8" class="ijRowOdd"><td id="562bee79"><p>The users who commit changes to the repository are not members of the <span class="control">Committers</span> group in the integration settings.</p></td><td id="172800f8"><p>Either add the committers to the specified group in YouTrack or modify the selection in the integration settings.</p></td></tr><tr id="dcdd8a7d" class="ijRowEven"><td id="fb1be033"><p>The users who commit changes to the repository do not have permission to update issues in the connected project.</p></td><td id="b71d5f74"><p>Either add these users to the project team or grant them a role in the project that includes the <span class="control">Read Issue</span> and <span class="control">Update Issue</span> permissions.</p></td></tr><tr id="a871f2b9" class="ijRowOdd"><td id="ba6adb8e"><p>YouTrack can't find a user account that matches the author of the commit message.</p></td><td id="d24d31fa"><p id="ffa94580">The user must either use the same email address for their accounts in both YouTrack and Bitbucket or                    add the value that is stored as the nickname in their Bitbucket profile to the list of VCS user names in their Hub accounts.</p>                    <p id="5f0b49be">For more information, see <a href="match-commit-authors-and-youtrack-users.html">Match Commit Authors and YouTrack Users</a>.</p></td></tr></tbody></table></div>        <p id="9328f800"><b id="f3e7a38b">Condition</b> — YouTrack returns the error <code class="code">unable to perform operation</code> when you try to establish a connection with a Bitbucket repository.        Follow the instructions below to resolve the problem.</p>          <div class="table-wrapper"><table class="                 " width="100%" id="f9489589"><thead><tr id="402f32bf" class="ijRowHead"><th id="6cec5207" width="50%"><p>Cause</p></th><th id="3ff7499f"><p>Solution</p></th></tr></thead><tbody><tr id="5862e1bc" class="ijRowOdd"><td id="4c6b3527"><p>The login and password that are used for authentication with Bitbucket belong to a user who is not the owner of the repository and does not have admin-level access.                  This integration uses webhooks, which can only be created by the owner of the repository and other users who are granted admin access.</p></td><td id="e5ece9b3"><p id="3ffda5e2">Access the <span class="control">User and group access</span> settings for your repository and grant admin access to the user you are using to authenticate with Bitbucket.                      You can also grant admin access to a group where this user is a member.</p>                      <p id="f45f5453">Alternatively, use the login and password of an account that is already granted admin access in the repository.</p>                  </td></tr></tbody></table></div>      </div>        <div class="last-modified" data-skip-index="skip">Last modified: 8 July 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="Integration-with-GitLab.html">GitLab Integration</a><a class="navigation-links__next" href="edit-repository-settings.html">Edit Repository Settings</a></div><section class="seealso" data-skip-index="skip"><div class="seealso__header"><h2>See Also</h2></div><div class="seealso__content"><div class="seealso__col" data-skip-index="skip"><h3>User Guide:</h3><ul class="list"><li class="list__item"><a href="VCS-Changes.html">View and Edit VCS Changes</a></li><li class="list__item"><a href="Map-Issues-to-VCS-Change-Commit.html">Link Issues in VCS Commits</a></li><li class="list__item"><a href="Apply-Commands-in-VCS-Commits.html">Apply Commands in VCS Commits</a></li></ul></div></div></section></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/help/app/v2/app.js"></script></body></html>