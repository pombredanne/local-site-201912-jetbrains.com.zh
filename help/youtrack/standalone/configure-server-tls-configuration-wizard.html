<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>在基于Web的配置向导中配置内置TLS-帮助|帮助YouTrack单机版</title><link rel="stylesheet" href="/resources.jetbrains.com/storage/help-app/v3/app.css"></head><body  data-id="configure-server-tls-configuration-wizard" data-breadcrumbs="Installation-and-Upgrade.xml|Installation and Upgrade/secure-connection-for-youtrack-server.xml|Secure Connection for YouTrack Server/configure-server-tls-configuration-wizard.xml|Configure Built-in TLS in Web-based Configuration Wizard" data-main-title="Configure Built-in TLS in Web-based Configuration Wizard"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索YouTrack独立帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>YouTrack Standalone 2019.2帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 id="configure-server-tls-configuration-wizard.xml" data-toc="configure-server-tls-configuration-wizard">在基于Web的配置向导中配置内置TLS</h1>    <p id="5bf40ea9">YouTrack允许您使用内置的TLS保护网络连接。您可以在“配置向导”中或从命令行启用HTTPS模式。但是，无论您喜欢哪种方法，此过程都不会取决于您使用的分发类型。因此，该过程与基本过程分开描述。</p>    <p id="404d89c7">本页介绍在配置向导中启用HTTPS的步骤。有关命令行的详细说明，请参阅<a href="configure-server-tls-from-command-line.html">从命令行配置内置TLS</a> 。</p>    <p id="ced44670">在配置向导中启用内置TLS的概述过程如下所示：</p>    <ol class="list _decimal"><li class="list__item" id="50809981"><p>如果您有正在运行的YouTrack服务，请停止它。</p></li><li class="list__item" id="c3a3aded"><p>开始安装或升级。</p></li><li class="list__item" id="d85de266"><p>在基于Web的配置向导中，启用和配置HTTPS设置。</p></li><li class="list__item" id="a2fbf063"><p>完成安装或升级。</p></li><li class="list__item" id="a422102b"><p>享受通过HTTPS运行YouTrack服务器的乐趣。</p></li></ol>    <p id="ad7ed402">让我们更详细地查看这些过程。</p>    <div class="chapter"><h2 id="enable-tls-for-clean-installation" data-toc="configure-server-tls-configuration-wizard#enable-tls-for-clean-installation">在安装过程中启用HTTPS</h2>        <section class="procedure-steps"><h3 id="3a2d0446">在全新安装期间启用HTTPS</h3><ol class="list _decimal"><li class="list__item" id="be4cee3e"><p><a href="tls-keystores-and-certificates-for-server.html">准备兼容的服务器私钥和证书或密钥库</a> 。</p></li><li class="list__item" id="9ca0c316"><p>开始安装。</p></li><li class="list__item" id="e38dfa08"><p>当基于Web的配置向导打开时，单击“ <span class="control">设置”</span>链接。</p></li><li class="list__item" id="696486d7"><p>在“服务器设置”页面中，单击“ <span class="control">HTTPS”</span>选项卡以启用TLS设置。端口和基本URL会自动更正。</p></li><li class="list__item" id="1c1b295a"><p>（可选）启用<span class="control">从HTTP重定向到HTTPS</span> 。此选项启用一个非安全端口，该端口接收所有HTTP请求并将它们重定向到安全监听端口。</p></li><li class="list__item" id="ad1dacdc"><p>根据您使用的是密钥库还是私钥和证书，选择相关选项。</p></li><li class="list__item" id="9414f032">提供所需的文件：<ul class="list _ul"><li class="list__item" id="15de1720"><p>对于密钥库：密钥库文件，其密码，别名和密码。</p></li><li class="list__item" id="39eed3ee"><p>对于证书：私钥，证书本身，以及（如果使用的话）链证书（可选）。</p></li></ul>有关TLS特定参数的更多详细信息，请参阅下<a href="#tls-attributes">表。</a>            </li><li class="list__item" id="178a5e6e"><p>完成配置向导的其余步骤，以完成安装并启动YouTrack服务。</p></li></ol></section>    </div>    <div class="chapter"><h2 id="enable-https-during-upgrade" data-toc="configure-server-tls-configuration-wizard#enable-https-during-upgrade">内置TLS升级方案</h2>        <p id="ea6148d5">涉及升级时，您有三个用例：</p>        <ul class="list _ul"><li class="list__item" id="ab8af2b0"><p>您要在以前使用纯HTTP的服务器上启用TLS。</p></li><li class="list__item" id="3f5cd965"><p>您有一台已配置为使用内置TLS的服务器。您只想获取该应用程序的较新版本。</p></li><li class="list__item" id="a885d50e"><p>您有一台已配置为使用内置TLS的服务器。但是，您要为服务器使用另一个证书或密钥库。原因可能是现有数据库中的证书即将到期，或者例如，您希望切换到生产环境并停止使用自签名的现有证书。不管是什么原因，您都可以在升级期间在基于Web的配置向导中上载新的证书或密钥库。</p></li></ul>        <div class="chapter"><h3 id="upgrade-switch-from-http-to-https" data-toc="configure-server-tls-configuration-wizard#upgrade-switch-from-http-to-https">升级期间从HTTP到HTTPS</h3>            <p id="4473d623">如果您的先前版本使用普通的HTTP连接，那么启用和配置内置TLS的步骤与全新安装期间的步骤非常相似。</p>            <section class="procedure-steps"><h3 id="57ec6cb5">要在升级过程中启用HTTPS：</h3><ol class="list _decimal"><li class="list__item" id="140f95cc"><p>停止当前运行的YouTrack服务。</p></li><li class="list__item" id="e4e0cb87"><p>启动更新的安装程序包或docker映像。</p></li><li class="list__item" id="4e1366a0"><p>在“配置向导”的起始页上，单击“ <span class="control">升级”</span> 。</p></li><li class="list__item" id="9f4d44ae"><p>选择升级源。</p></li><li class="list__item" id="7eef85bd"><p>单击HTTPS选项卡以配置TLS。</p></li><li class="list__item" id="7b573971"><p>（可选）启用<span class="control">从HTTP重定向到HTTPS</span> 。此选项启用一个非安全端口，该端口接收所有HTTP请求并将它们重定向到安全监听端口。</p></li><li class="list__item" id="58fffb2b"><p>根据您使用的是密钥库还是私钥和证书，选择相关选项。</p></li><li class="list__item" id="944d2982">提供所需的文件：<ul class="list _ul"><li class="list__item" id="75d418e0"><p>对于密钥库：密钥库文件，其密码，别名和密码。</p></li><li class="list__item" id="40f35ba9"><p>对于证书：私钥，证书本身，以及（如果使用的话）链证书（可选）。</p></li></ul>有关TLS特定参数的更多详细信息，请参阅<a href="#tls-attributes">TLS特定属性</a> 。</li><li class="list__item" id="ad4a577e"><p>查看其他设置，并根据需要进行调整。</p></li><li class="list__item" id="71db6a4b"><p>完成后，单击“ <span class="control">升级”</span>以完成升级YouTrack服务。</p></li></ol></section>        </div>        <div class="chapter"><h3 id="upgrade-https-version-with-valid-certificate" data-toc="configure-server-tls-configuration-wizard#upgrade-https-version-with-valid-certificate">使用启用的TLS和有效证书升级现有服务器</h3>            <p id="be9c6641">如果在先前的安装中启用了内置TLS，并且服务器证书或密钥库仍然有效，则可以在升级期间安全地重用它们。</p>            <section class="procedure-steps"><h3 id="0997920b">要使用已启用的内置TLS升级现有服务，请执行以下操作：</h3><ol class="list _decimal"><li class="list__item" id="c684f6ed"><p>停止当前运行的YouTrack服务。</p></li><li class="list__item" id="35b4739f"><p>启动更新的安装程序包或docker映像。</p></li><li class="list__item" id="1b7b55e6"><p>在“配置向导”的起始页上，单击“ <span class="control">升级”</span> 。</p></li><li class="list__item" id="28066e35"><p>选择升级源。</p></li><li class="list__item" id="c388fb54"><p>单击HTTPS选项卡以配置TLS。</p></li><li class="list__item" id="8340b598"><p>（可选）启用<span class="control">从HTTP重定向到HTTPS</span> 。</p></li><li class="list__item" id="da152a71"><p>如果源数据库包含有效的服务器证书，则默认情况下启用<span class="control">使用现有文件</span>选项。找到的服务器证书的有效日期位于此选项旁边。</p></li><li class="list__item" id="40966fef"><p>查看其他设置，并根据需要进行调整。</p></li><li class="list__item" id="a76ab580"><p>完成后，单击“ <span class="control">升级”</span>以完成升级YouTrack服务。</p></li></ol></section>        </div>        <div class="chapter"><h3 id="upgrade-https-version-with-new-certificate" data-toc="configure-server-tls-configuration-wizard#upgrade-https-version-with-new-certificate">使用新证书或密钥库升级现有服务器</h3>            <p id="908c924d">如果在先前的安装中启用了内置TLS，但是服务器证书或密钥库无效或已过期，则可以在升级过程中上载新证书。</p>            <section class="procedure-steps"><h3 id="955f753b">要在升级过程中启用HTTPS：</h3><ol class="list _decimal"><li class="list__item" id="77ae5d00"><p>停止当前运行的YouTrack服务。</p></li><li class="list__item" id="539fc97e"><p>启动更新的安装程序包或docker映像。</p></li><li class="list__item" id="e2ff2eb3"><p>在“配置向导”的起始页上，单击“ <span class="control">升级”</span> 。</p></li><li class="list__item" id="c6da5ced"><p>选择升级源。</p></li><li class="list__item" id="85b05550"><p>单击HTTPS选项卡以配置TLS。</p></li><li class="list__item" id="5903e54a"><p>（可选）启用<span class="control">从HTTP重定向到HTTPS</span> 。</p></li><li class="list__item" id="c75cfe26"><p>如果源数据库包含有效的服务器证书，则默认情况下启用<span class="control">使用现有文件</span>选项。找到的服务器证书的有效日期位于此选项旁边。</p></li><li class="list__item" id="c60dce1e"><p>查看其他设置，并根据需要进行调整。</p></li><li class="list__item" id="6bb7a86e"><p>完成后，单击“ <span class="control">升级”</span>以完成升级YouTrack服务。</p></li></ol></section>        </div>    </div>    <div class="chapter"><h2 id="tls-attributes" data-toc="configure-server-tls-configuration-wizard#tls-attributes">TLS特定属性</h2>        <div class="table-wrapper"><table width="100%" id="c9516183"><thead><tr id="86dfee26" class="ijRowHead"><th id="02790eab"><p>属性</p></th><th id="271e34d4"><p>描述</p></th></tr></thead><tbody><tr id="1a325278" class="ijRowOdd"><td id="31fecbc2"><p>从HTTP重定向到HTTPS</p></td><td id="0eafdbc9"><p>该选项使您可以启用和配置非安全端口，以将所有HTTP请求重定向到新配置的HTTPS安全端口。</p></td></tr><tr id="dd82e60b" class="ijRowEven"><td id="842931ed" colspan="2">                    <span class="control">密钥库</span>                </td></tr><tr id="fccebf92" class="ijRowOdd"><td id="f2c39d26"><p>密钥库文件</p></td><td id="b1dd105b"><p>密钥库是一个JKS或PKCS＃12文件，其中包含用于保护HTTPS连接的证书和私钥。</p></td></tr><tr id="a1d4c76c" class="ijRowEven"><td id="c1479c91"><p>密码</p></td><td id="170014fa"><p>保护密钥库文件的密码。</p></td></tr><tr id="e7a2423b" class="ijRowOdd"><td id="09a12354"><p>别名</p></td><td id="8ba08285"><p>密钥库中条目的别名（PKCS＃12中为Friendlyname），其中包含服务器证书和私钥。如果使用PKCS＃12密钥库，并且在生成过程中私钥和证书对未标记为Friendlyname，则在“ <span class="control">别名”</span>字段中，需要在密钥库中提供该对的序号。如果密钥库仅包含一对私钥和证书，则输入<code class="code">1</code>在“ <span class="control">别名”</span>字段中。</p></td></tr><tr id="2109b77f" class="ijRowEven"><td id="a1f22c54"><p>别名密码</p></td><td id="17fa6d27"><p>用于加密私钥的密码。如果私钥未加密，则将该字段留空。</p></td></tr><tr id="19ab11ec" class="ijRowOdd"><td id="82bb6b46" colspan="2">                    <span class="control">私钥和证书</span>                </td></tr><tr id="72fd5681" class="ijRowEven"><td id="39cf1f3d"><p>私钥</p></td><td id="6f4dd82c"><p>使用服务器证书保护和验证连接的私钥PEM文件。</p></td></tr><tr id="1094e5ac" class="ijRowOdd"><td id="b6c192a7"><p>证书</p></td><td id="bda5f1e7"><p>服务器证书PEM文件，用于确保与您的域的HTTPS连接的安全。</p></td></tr><tr id="0dea086c" class="ijRowEven"><td id="82a2a831"><p>证书链</p></td><td id="c2415162"><p>服务器证书和根证书之间的中间证书链。</p></td></tr></tbody></table></div>        <p id="a0ed7da2">有关获取私钥和证书的更多信息，请参阅<a href="tls-keystores-and-certificates-for-server.html">TLS服务器证书和密钥库</a> 。</p>    </div><div class="last-modified" data-skip-index="skip">上次修改时间：2019年11月29日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="secure-connection-for-youtrack-server.html">YouTrack服务器的安全连接从命令行</a> <a class="navigation-links__next" href="configure-server-tls-from-command-line.html">配置内置TLS</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>