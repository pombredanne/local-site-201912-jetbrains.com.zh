<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>Docker Installation - Help | YouTrack Standalone</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body data-id="youtrack-docker-installation" data-breadcrumbs="Installation-and-Upgrade.xml|Installation and Upgrade/youtrack-docker.xml|Docker Container/youtrack-docker-installation.xml|Docker Installation" data-main-title="Docker Installation"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search YouTrack Standalone Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>YouTrack Standalone 2019.2 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="youtrack-docker-installation" id="youtrack-docker-installation.xml">Docker Installation</h1>    <p id="1b85784d">To run a new instance of the YouTrack service in a docker container:</p>    <ol class="list _decimal"><li class="list__item" id="99c3835f">            <a href="#pull-image">Pull YouTrack Image</a>        </li><li class="list__item" id="19ac7470">            <a href="#create-and-configure-directories">Create and Configure Directories</a>        </li><li class="list__item" id="d5f64a13">            <a href="#run-youtrack-service">Run YouTrack Docker Container</a>        </li><li class="list__item" id="b134b74c">            <a href="#configure-new-instance">Configure YouTrack</a>        </li></ol>    <div class="chapter"><h2 id="pull-image" data-toc="youtrack-docker-installation#pull-image">Pull YouTrack Image</h2>        <p id="cf4605f7">Pull an image of the latest YouTrack version from the <a href="https://hub.docker.com/r/jetbrains/youtrack/" data-external="true" target="_blank" rel="noopener noreferrer">Docker YouTrack Repository</a>:</p>        <div class="code-block" data-lang="bash">
            docker pull jetbrains/youtrack:&lt;version&gt;
    </div>        <p id="3a7738d3"><code class="code">&lt;version&gt;</code> is a full version number of a YouTrack build.  <a href="https://hub.docker.com/r/jetbrains/youtrack/tags/" data-external="true" target="_blank" rel="noopener noreferrer">See the complete list of available versions.</a></p>    </div>    <div class="chapter"><h2 id="create-and-configure-directories" data-toc="youtrack-docker-installation#create-and-configure-directories">Create and Configure Directories</h2>        <aside data-type="note" class="prompt" data-title="" rel="create-and-configure-directories" id="d4c4dd48">            <p id="df67e066">You can skip this step and the volume-mapping commands shown in the next step for demo or test runs,                but doing so in production instances is not recommended. Without the mapping all YouTrack data will be                routed to anonymous container volumes and may be accidentally lost with a container removal.                Besides, all data will be stored by the Docker engine in subfolders with cryptic names, making it                nearly impossible to locate and access for future backups or upgrades.            </p>        </aside>        <p id="e4d13d86">YouTrack image container is a <i id="e2b1ae3f">stateful container</i>. Thus, before running it, you should create specific            directories <i id="d63263d1">on the host machine</i> to store YouTrack database, configuration files, logs, backups, and pass them            to the YouTrack container as volumes. Otherwise, you risk losing YouTrack data when the container is removed.        </p>        <p id="3ca29ea0">These directories are:</p>        <ul class="list _bullet"><li class="list__item" id="a7016e37"><p><code class="code">data</code> — a directory where YouTrack stores its database. For a new installation, this directory must be                empty.            </p></li><li class="list__item" id="75c11354"><p><code class="code">conf</code> — a directory where YouTrack stores configuration files that contain environment settings,                JVM options, YouTrack integration settings, and so on.            </p></li><li class="list__item" id="01b7641c"><p><code class="code">logs</code> — a directory where YouTrack stores its log files.</p></li><li class="list__item" id="f964dad6"><p><code class="code">backups</code> — a directory where YouTrack stores backups. For more details about backups,                see <a href="Back-Up-the-Database.html">Back Up the Database</a>.            </p></li></ul>        <h4 id="d2f62850">YouTrack-specific directories on a Linux host machine:</h4>        <p id="ed51b8b8">These directories must be accessible to the user account that is used to run YouTrack service inside the            container. If your host machine is run under *nix OS, YouTrack uses the non-root account `<code class="code">13001:13001</code>` (`group:id`, respectively).        </p>        <p id="c6f6e34a">For example, you can execute the following commands to create            YouTrack directories and apply the required access permissions:        </p>        <div class="code-block" data-lang="bash">
            mkdir -p -m 750 &lt;path to data directory&gt; &lt;path to logs directory&gt; &lt;path to conf directory&gt;
            &lt;path to backups directory&gt;
            chown -R 13001:13001 &lt;path to data directory&gt; &lt;path to logs directory&gt; &lt;path to conf
            directory&gt; &lt;path to backups directory&gt;
    </div>        <p id="2fbc585a">When YouTrack-specific directories are created and configured, you can define the mapping between them and            directories inside the docker container as the arguments of the <code class="code">docker run</code> command.        </p>        <h4 id="412ddd29">YouTrack-specific directories on another OS host machine:</h4>        <p id="648d7769">These directories must be accessible to the user account that is used to run YouTrack service inside the            container.        </p>        <p id="a722173a">For example, you can run the following command under the same user account that runs the Docker container:</p>        <aside data-type="note" class="prompt" data-title="macOS Users" rel="a722173a" id="cd11dd48"><p id="86f5cd67">On macOS, do not perform <code class="code">chown</code> commands            to provide access to the directories.</p></aside>        <div class="code-block" data-lang="bash">
            mkdir -p -m 750 &lt;path to data directory&gt; &lt;path to logs directory&gt; &lt;path to conf directory&gt;
            &lt;path to backups directory&gt;
    </div>        <p id="4ccf15ba">When YouTrack-specific directories are created and configured, you can define the mapping between them and            directories inside the docker container as the arguments of the <code class="code">docker run</code> command.        </p>    </div>    <div class="chapter"><h2 id="run-youtrack-service" data-toc="youtrack-docker-installation#run-youtrack-service">Run YouTrack Docker Container</h2>        <p id="2f14bc51">Use the following command to run a container with YouTrack service and map YouTrack data volumes and port:</p>        <div class="code-block" data-lang="bash">
            docker run -it --name &lt;youtrack-server-instance&gt; \
            -v &lt;path to data directory&gt;:/opt/youtrack/data \
            -v &lt;path to conf directory&gt;:/opt/youtrack/conf \
            -v &lt;path to logs directory&gt;:/opt/youtrack/logs \
            -v &lt;path to backups directory&gt;:/opt/youtrack/backups \
            -p &lt;port on host&gt;:8080 \
            jetbrains/youtrack:&lt;version&gt;
    </div>        <p id="ee40e0e5">Where:</p>        <ul class="list _bullet"><li class="list__item" id="3d87e0a0"><p>                <code class="code">-it</code> — a flag that attaches YouTrack container input and output including the startup                logs to the                terminal window. Note that pressing `Ctrl+C` when the terminal is attached to a container output                causes                the container to shut down. Use `Ctrl+PQ` in order to detach the terminal from container output. For                more details, see <a href="https://docs.docker.com/engine/reference/commandline/attach/#extended-description" data-external="true" target="_blank" rel="noopener noreferrer">the official docker documentation</a>.            </p></li><li class="list__item" id="244fc526"><p>                <code class="code">--name youtrack-server-instance</code> — the arbitrary name for the container.            </p></li><li class="list__item" id="4e53c974"><p>                <code class="code">-v &lt;path to NNN directory&gt;:/opt/youtrack/NNN</code> — binding the YouTrack-specific 'NNN'                directory on the                host machine to the respective <code class="code">/opt/youtrack/NNN</code> directory inside the container.            </p></li><li class="list__item" id="4a664146"><p>                <code class="code">-p &lt;port on host&gt;:8080</code> — parameter that defines the ports mapping. It                instructs the                host machine to listen on port <code class="code">&lt;port on host&gt;</code> and propagate all traffic to the                port                `8080` inside the docker container.            </p></li></ul>        <p id="10dc9b70">YouTrack service is started on <code class="code">{0.0.0.0:8080}</code> inside the Docker container, and port <code class="code">8080</code> is mapped to <code class="code">&lt;port on host&gt;</code> that you have specified. This way the service may be accessed from any machine that has network            access to the <code class="code">&lt;port on host&gt;</code> of your host machine. For instance, if the FQDN of the host machine is            <code class="code">host.mydomain.com</code> and the <code class="code">&lt;port on host&gt;</code> is 7777, then the service will be available at            <code class="code">http://host.mydomain.com:7777</code>.        </p>    </div>    <div class="chapter"><h2 id="configure-new-instance" data-toc="youtrack-docker-installation#configure-new-instance">Configure YouTrack</h2>        <p id="cb0177f8">On the first run, the YouTrack service starts with the web-based Configuration Wizard at the address mentioned            above. Open your browser, enter the address and follow the steps described in Configuration Wizard to complete the            setup.        </p>        <p id="f86c46d1">When the YouTrack service is configured and running, log in as the system administrator. Then, open the <span data-skip-index="skip" class="menupath">administration menu &gt; Global Settings</span> page, and set up your timezone. For an empty new installation the time zone is set to UTC, by default.</p>        <div class="chapter"><h3 id="configure-container-command-line">Configure YouTrack service from the Command Line</h3>            <aside data-type="warning" class="prompt" data-title="" rel="configure-container-command-line" id="d918c7e9"><p id="e9210736">You can only use the <code class="code">configure</code> command when the YouTrack service is stopped!</p></aside>            <p id="d8d971e1">For automated installation purposes, you can <b id="80ed9bd3">skip the wizard</b>. However, in this case, the YouTrack service starts with the <i id="62d3f159">default parameters</i>.                Thus, you need to explicitly set the <i id="0dbb2522">base URL</i> — the URL at which the YouTrack service is available to the end users.</p>            <aside data-type="note" class="prompt" data-title="" rel="d8d971e1" id="26766558">                <p id="ce1bea7d">If you skip the web-based wizard during the <span class="emphasis">installation</span>, log in to YouTrack with the default administrator credentials: <code class="code">admin/admin</code>.</p>            </aside>            <p id="a83aa2ef">To skip Configuration Wizard, run the <code class="code">configure</code> command <b id="c06b7a5c">before</b> running YouTrack:            </p>            <div class="code-block" data-lang="bash">
                docker run --rm -it
                -v &lt;path to conf directory&gt;:/opt/youtrack/conf \
                -v &lt;path to logs directory&gt;:/opt/youtrack/logs \
                jetbrains/youtrack:&lt;version&gt; \
                configure \
                -J-Ddisable.configuration.wizard.on.clean.install=true \
                --base-url=http://youtrack.mydomain.com:XXXX
    </div>            <p id="d4aff859">If you ever need to <b id="e08175e9">change the base URL</b> for your running YouTrack instance, we <i id="ef85e73c">urge</i> you to do it                using the <span data-skip-index="skip" class="menupath">Admin menu &gt; Global Settings</span> page of the YouTrack UI. In this case you do not need to stop the service.                However, you can also use the <code class="code">configure</code> command with the <code class="code">--base-url</code> argument.            </p>            <section class="procedure-steps"><h3 id="16d30b1a">To change the Base URL of the YouTrack service:</h3><ol class="list _decimal"><li class="list__item" id="92f6c54f">                    <p id="cc1b4457">Stop YouTrack:                        <code class="code">docker exec &lt;containerId&gt; stop</code>                    </p>                </li><li class="list__item" id="53e1fcfa">                    <p id="5b61f8c2">Run the following command:</p>                    <div class="code-block" data-lang="bash">
                        docker run --rm -it
                        -v &lt;path to conf directory&gt;:/opt/youtrack/conf \
                        -v &lt;path to logs directory&gt;:/opt/youtrack/logs \
                        jetbrains/youtrack:&lt;version&gt; \
                        configure --base-url=https://&lt;YouTrack service baseURL&gt;:XXXX
    </div>                </li><li class="list__item" id="62a9218f">                    <p id="213c783f">Start YouTrack:                        <code class="code">docker start &lt;containerId&gt;</code>                    </p>                </li></ol></section>            <p id="3a76ada4">To see all stopped containers, run <code class="code">docker ps -a</code></p>        </div>    </div><div class="last-modified" data-skip-index="skip">Last modified: 29 November 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="youtrack-docker.html">Docker Container</a><a class="navigation-links__next" href="upgrade-with-docker-image.html">Upgrade with Docker Container</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>