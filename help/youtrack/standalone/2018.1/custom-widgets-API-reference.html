<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/help/app/v2/analytics.js"></script><meta charset="UTF-8"><meta name="robots" content="noindex"><title>Custom Widgets API Reference - Help | YouTrack Standalone</title><link rel="stylesheet" href="/help/app/v2/app.css"></head><body data-id="custom-widgets-API-reference"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search YouTrack Standalone Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>YouTrack Standalone 2018.1 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="false"><h1 data-toc="custom-widgets-API-reference" id="custom-widgets-API-reference.xml">Custom Widgets API Reference</h1>    <p id="b6d13077">We provide a custom library for JavaScript that includes an API for working with custom widgets.        To install this library, use one of the following implementations:</p>    <ul class="list _ul"><li class="list__item" id="f741fb87"><p>Add a reference to the <a href="https://unpkg.com/hub-dashboard-addons@latest" data-external="true" target="_blank" rel="noopener noreferrer"><span>dashboard script on unpkg</span></a> in the header of your <code class="code" data-lang="Java">index.html</code> file.            Wrap the reference inside a <code class="code" data-lang="Java">&lt;script&gt;</code> tag. For example:            <div class="code-block" data-lang="HTML"><code class="code-block__wrapper"><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;https://unpkg.com/hub-dashboard-addons@latest&quot;</span><span class="nt">&gt;&lt;/script&gt;</span></code></div>        </p></li><li class="list__item" id="76f0916e"><p>Use the npm package manager to install the script with the <code class="code" data-lang="Java">npm install hub-dashboard-addons</code> command.            You can then add references to the script in your widget any way you want.        </p></li></ul>    <p id="8f140ef6">The <code class="code" data-lang="Java">Dashboard.registerWidget</code> function accepts a callback that is called with the <code class="code" data-lang="Java">dashboardAPI</code> and <code class="code" data-lang="Java">registerWidgetAPI</code> parameters as shown in the following code sample.        To view this sample in context, refer to the <a href="custom-widget-tutorial.html#create-the-script"><span>Create the Script</span></a>.</p>    <div class="code-block" data-lang="Javascript"><code class="code-block__wrapper"><span class="c1">// Register widget:</span>
<span class="nx">Dashboard</span><span class="p">.</span><span class="nx">registerWidget</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">dashboardAPI</span><span class="p">,</span> <span class="nx">registerWidgetAPI</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Load GitHub profile data</span>
    <span class="nx">loadAndRenderUser</span><span class="p">(</span><span class="nx">USER_NAME</span><span class="p">)</span>

    <span class="c1">// Set the widget title</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">user</span> <span class="o">=&gt;</span> <span class="nx">dashboardAPI</span><span class="p">.</span><span class="nx">setTitle</span><span class="p">(</span><span class="err">`</span><span class="nx">GitHub</span> <span class="nx">User</span> <span class="nx">$</span><span class="p">{</span><span class="nx">user</span><span class="p">.</span><span class="nx">login</span><span class="p">}</span><span class="err">`</span><span class="p">));</span>

    <span class="c1">// Add the refresh button.</span>
    <span class="nx">registerWidgetAPI</span><span class="p">({</span>
        <span class="nx">onRefresh</span><span class="o">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">loadAndRenderUser</span><span class="p">(</span><span class="nx">USER_NAME</span><span class="p">)</span>
    <span class="p">});</span>
<span class="p">});</span></code></div>    <p id="994f1cea">Use the following reference to build custom widgets for your dashboards.</p>    <div class="chapter"><h2 id="dashboard-API" data-toc="custom-widgets-API-reference#dashboard-API">Dashboard API</h2>        <p id="e579102d">Use the dashboard API to communicate with the widget wrapper and the dashboard.            All of these methods are asynchronous and return <code class="code" data-lang="Java">Promise</code> objects.            These methods are applied to the <code class="code" data-lang="Java">dashboardApi</code> object.</p>        <div class="table-wrapper"><table class="                 " width="100%" id="setTitle"><thead><tr id="3b97b456" class="ijRowHead"><th id="9fd5564a" colspan="3"><p>setTitle(label: string, ?labelUrl: string): void</p></th></tr></thead><tbody><tr id="caee9772" class="ijRowOdd"><td id="ea6eb8f7" width="10%"><p>Description</p></td><td id="788a4841" colspan="2"><p>Sets the text that is displayed in the widget header.                    If a value is specified for the <code class="code" data-lang="Java">labelUrl</code> parameter, the text is set as a link to the target URL.</p></td></tr><tr id="883ce4cf" class="ijRowEven"><td id="97be086a" width="10%" rowspan="2"><p>Parameters</p></td><td id="bbcefe6a" width="10%"><code class="code" data-lang="Java">label</code></td><td id="bd442695"><p>The text string that is shown as the widget title.</p></td></tr><tr id="1feeb4c7" class="ijRowOdd"><td id="ba292874"><code class="code" data-lang="Java">labelURL</code></td><td id="94464b92"><p>The address of the target page that opens when a user clicks the widget title.                    If this optional parameter is not specified, the widget title is set as text only.</p></td></tr></tbody></table></div>        <div class="table-wrapper"><table class="                 " width="100%" id="setLoadingAnimationEnabled"><thead><tr id="ab3cdc60" class="ijRowHead"><th id="9f66435c" colspan="3"><p>setLoadingAnimationEnabled(enabled: boolean): void</p></th></tr></thead><tbody><tr id="97960e3b" class="ijRowOdd"><td id="f946fe21" width="10%"><p>Description</p></td><td id="73bfe59e" colspan="2"><p>Toggles the image rotation animation for the widget reload icon.                    Call this method when the widget populates data from a remote server to indicate that a process is running in the background.</p></td></tr><tr id="494e9b14" class="ijRowEven"><td id="0dcc7591"><p>Parameters</p></td><td id="026dbb88" width="10%"><code class="code" data-lang="Java">enabled</code></td><td id="55c015aa"><p>Determines whether the widget reload icon rotates or not.</p></td></tr></tbody></table></div>        <div class="table-wrapper"><table class="                 " width="100%" id="alert"><thead><tr id="10980127" class="ijRowHead"><th id="545825d1" colspan="3"><p>alert(message: string, ?type: string, ?timeout: number): string</p></th></tr></thead><tbody><tr id="e2aa5fee" class="ijRowOdd"><td id="db9076b6" width="10%"><p>Description</p></td><td id="97233d81" colspan="2"><p>Displays a system alert at the top of the page.</p></td></tr><tr id="905caae5" class="ijRowEven"><td id="487d86cd" rowspan="3"><p>Parameters</p></td><td id="bc3665a4" width="10%"><code class="code" data-lang="Java">message</code></td><td id="56ba0a2d"><p>Sets the text that is displayed as the system alert.</p></td></tr><tr id="fbf6a618" class="ijRowOdd"><td id="e810e267"><code class="code" data-lang="Java">type</code></td><td id="cd02c819"><p>Determines which notification style is applied to the alert.                    Possible values include <code class="code" data-lang="Java">error</code>, <code class="code" data-lang="Java">message</code>, <code class="code" data-lang="Java">success</code>, and <code class="code" data-lang="Java">warning</code>.</p></td></tr><tr id="22f481e1" class="ijRowEven"><td id="fe206c52"><code class="code" data-lang="Java">timeout</code></td><td id="7e9d322f"><p>The amount of time the alert is shown on the page, in seconds.</p></td></tr></tbody></table></div>        <div class="table-wrapper"><table class="                 " width="100%" id="enterConfigMode"><thead><tr id="4ca9bbd3" class="ijRowHead"><th id="c8c9c5b4" colspan="2"><p>enterConfigMode(): void</p></th></tr></thead><tbody><tr id="b736f15c" class="ijRowOdd"><td id="11427706" width="10%"><p>Description</p></td><td id="1784b927"><p>Invokes configuration mode.                    When in configuration mode, the visual presentation of the widget changes to indicate that its settings can be updated.                    The <span class="control">refresh</span> icon is also hidden.</p></td></tr></tbody></table></div>        <div class="table-wrapper"><table class="                 " width="100%" id="exitConfigMode"><thead><tr id="4bb35823" class="ijRowHead"><th id="73b706b7" colspan="2"><p>exitConfigMode(): void</p></th></tr></thead><tbody><tr id="235a87ce" class="ijRowOdd"><td id="d01f7667" width="10%"><p>Description</p></td><td id="c6dd853e"><p>Exits configuration mode.</p></td></tr></tbody></table></div>        <div class="table-wrapper"><table class="                 " width="100%" id="storeCache"><thead><tr id="c4f0afa5" class="ijRowHead"><th id="c15baccc" colspan="3"><p>storeCache(cache: Object): Object</p></th></tr></thead><tbody><tr id="d7abf27c" class="ijRowOdd"><td id="0e02765b" width="10%"><p>Description</p></td><td id="bc9bf8ab" colspan="2"><p>Stores any object in the client-side cache.                    Use this method to store populated data locally and display it immediately on the dashboard, then refresh it from server.                    Returns a configuration object.</p></td></tr><tr id="c6e671a6" class="ijRowEven"><td id="f069832f"><p>Parameters</p></td><td id="60334afb" width="10%"><code class="code" data-lang="Java">cache</code></td><td id="563179c4"><p>Specifies the object to be stored in the cache.</p></td></tr></tbody></table></div>        <div class="table-wrapper"><table class="                 " width="100%" id="readCache"><thead><tr id="91383b5f" class="ijRowHead"><th id="56ee4c21" colspan="2"><p>readCache(): Object</p></th></tr></thead><tbody><tr id="8ffc4056" class="ijRowOdd"><td id="fdce3315" width="10%"><p>Description</p></td><td id="73cc088e"><p>Reads and returns the object that was previously stored in the cache.</p></td></tr></tbody></table></div>        <div class="table-wrapper"><table class="                 " width="100%" id="storeConfig"><thead><tr id="20aa8345" class="ijRowHead"><th id="39c2d8ff" colspan="3"><p>storeConfig(config: Object): void</p></th></tr></thead><tbody><tr id="bc7d1e8c" class="ijRowOdd"><td id="11657670" width="10%"><p>Description</p></td><td id="269e0cad" colspan="2"><p>Stores any object as a widget configuration.                    Exits configuration mode if configuration mode is active.</p></td></tr><tr id="348d7ed8" class="ijRowEven"><td id="51ea54dc"><p>Parameters</p></td><td id="29b59b5d" width="10%"><code class="code" data-lang="Java">config</code></td><td id="451a9765"><p>Specifies the object to be stored as a widget configuration.</p></td></tr></tbody></table></div>        <div class="table-wrapper"><table class="                 " width="100%" id="readConfig"><thead><tr id="063f2c29" class="ijRowHead"><th id="5604e948" colspan="2"><p>readConfig(): Object</p></th></tr></thead><tbody><tr id="c5bd319b" class="ijRowOdd"><td id="7d2c17ff" width="10%"><p>Description</p></td><td id="953b17c2"><p>Reads and returns the object that was previously stored as a configuration object.</p></td></tr></tbody></table></div>        <div class="table-wrapper"><table class="                 " width="100%" id="fetch"><thead><tr id="c5ee3ef4" class="ijRowHead"><th id="7d51d352" colspan="3"><p>fetch(serviceID: string, url: string, fetchConfig: Object): Object</p></th></tr></thead><tbody><tr id="fedb121b" class="ijRowOdd"><td id="4ffa2280" width="10%"><p>Description</p></td><td id="7f5027d1" colspan="2"><p>Makes an authorized request to the specified service.                    The service must be specified in the widget manifest.</p></td></tr><tr id="b97099e1" class="ijRowEven"><td id="29ca37fb" rowspan="3"><p>Parameters</p></td><td id="4461a6b3" width="10%"><code class="code" data-lang="Java">serviceID</code></td><td id="2604e89e"><p>Specifies the ID of the service.</p></td></tr><tr id="89300ad7" class="ijRowOdd"><td id="8ecfd60f"><code class="code" data-lang="Java">url</code></td><td id="d16db1ea"><p>Sets the URL to the service API endpoint.                    This is the path to the resource that you want to fetch.                    The URL is relative to the server home URL.</p></td></tr><tr id="3cbdcafb" class="ijRowEven"><td id="c138d986"><code class="code" data-lang="Java">fetchConfig</code></td><td id="3e87ff37"><p>Defines an optional options object.                    This object contains any custom settings that you want to apply to the request.</p></td></tr></tbody></table></div>        <div class="table-wrapper"><table class="                 " width="100%" id="fetchHub"><thead><tr id="c07d102a" class="ijRowHead"><th id="c457176b" colspan="3"><p> fetchHub(url: string, fetchConfig: Object): Object</p></th></tr></thead><tbody><tr id="51c74dfe" class="ijRowOdd"><td id="7307f567" width="10%"><p>Description</p></td><td id="0099dbf5" colspan="2"><p>Makes an authorized request to the built-in Hub service.</p></td></tr><tr id="c1af2f96" class="ijRowEven"><td id="19ecf6d0" rowspan="2"><p>Parameters</p></td><td id="29de988b" width="10%"><code class="code" data-lang="Java">url</code></td><td id="918f7801"><p>Sets the URL to the Hub service API endpoint.                    This is the path to the resource that you want to fetch.                    The URL is relative to the server home URL.</p></td></tr><tr id="c93de12e" class="ijRowOdd"><td id="1c32204c"><code class="code" data-lang="Java">fetchConfig</code></td><td id="e5bf3360"><p>Defines an optional options object.                    This object contains any custom settings that you want to apply to the request.</p></td></tr></tbody></table></div>        <div class="table-wrapper"><table class="                 " width="100%" id="removeWidget"><thead><tr id="dc4925e3" class="ijRowHead"><th id="5e5484b2" colspan="2"><p>removeWidget(): void</p></th></tr></thead><tbody><tr id="ab418af5" class="ijRowOdd"><td id="e255204f" width="10%"><p>Description</p></td><td id="350fe051"><p>Removes the custom widget from the dashboard.</p></td></tr></tbody></table></div>    </div>    <div class="chapter"><h2 id="widget-API" data-toc="custom-widgets-API-reference#widget-API">Widget API</h2>        <p id="0bb7783e">Use the widget API to manipulate the visibility of controls on your custom widget.            These methods are also asynchronous and return <code class="code" data-lang="Java">Promise</code> objects.            These methods are applied to the <code class="code" data-lang="Java">widgetApi</code> object.</p>        <div class="table-wrapper"><table class="                 " width="100%" id="onRefresh"><thead><tr id="d1593fbd" class="ijRowHead"><th id="8755e005" colspan="2"><p>onRefresh(): void</p></th></tr></thead><tbody><tr id="58257b4e" class="ijRowOdd"><td id="5d60953c" width="10%"><p>Description</p></td><td id="f9e2eed2"><p>Calls an action when the <span class="control">refresh</span> icon is clicked in the widget header.                    If not set, the <span class="control">refresh</span> icon is not shown in the header.</p></td></tr></tbody></table></div>        <div class="table-wrapper"><table class="                 " width="100%" id="onConfigure"><thead><tr id="f2f9944b" class="ijRowHead"><th id="a864da9f" colspan="2"><p>onConfigure(): void</p></th></tr></thead><tbody><tr id="9da63819" class="ijRowOdd"><td id="550cb043" width="10%"><p>Description</p></td><td id="ef5418c1"><p>Calls an action when the <span class="control">Edit</span> option is selected from the widget menu.                    If not set, the <span class="control">Edit</span> option is not shown.</p></td></tr></tbody></table></div>    </div><div class="last-modified" data-skip-index="skip">Last modified: 7 March 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="test-custom-widgets.html">Test a Custom Widget</a><a class="navigation-links__next" href="custom-widget-tutorial.html">Custom Widget Tutorial</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/help/app/v2/app.js"></script></body></html>