<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>SSL密钥-帮助| YouTrack单机版</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body  data-id="SSL-Key-Stores" data-breadcrumbs="Administration.xml|Administration/Server-Settings.xml|Server Settings/SSL-Key-Stores.xml|SSL Keys" data-main-title="SSL Keys"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索YouTrack独立帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>YouTrack Standalone 2019.2帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 id="SSL-Key-Stores.xml" data-toc="SSL-Key-Stores">SSL密钥</h1>        <p id="e2b6e020">YouTrack允许您将SSL密钥库导入YouTrack。密钥库是公用和专用密钥对以及与它们关联的证书的容器。密钥库在尝试连接到第三方时会将YouTrack标识为客户端。</p>    <p id="fb342656">您还可以使用密钥库来缓存第三方服务的公共密钥（以证书的形式）。如果您的密钥库包含用于外部服务的密钥和证书，则可以在此页面上载它们。否则，您可以在<a href="SSL-Certificates.html">SSL证书</a>页面上上传证书和公钥。</p>    <aside class="prompt" rel="fb342656" id="fb233df5" data-type="note" data-title=""><p id="b66f3d7b">当YouTrack Standalone使用外部集线器服务时，您将在集线器而不是YouTrack中管理受信任的SSL证书和SSL密钥。<span class="control">管理</span>菜单中的<span class="control">SSL证书</span>和<span class="control">SSL密钥</span>选项将您重定向到集线器中的相应页面。有关特定于外部集线器服务的信息，请参阅<a href="https://www.jetbrains.com/help/hub/Managing-SSL-Keys-and-Trusted-Certificates.html" rel="noopener noreferrer" data-external="true" target="_blank">集线器文档</a> 。</p></aside>        <p id="0f8ad75c">要访问已导入YouTrack的<span class="control">SSL密钥</span> ，请在<span class="control">“</span> <span class="control">管理”</span>菜单的“ <span class="control">服务器设置”</span>区域中选择“ <span class="control">SSL密钥</span> <span class="control">”</span> 。</p>    <figure><a class="lightbox" href="/help/img/youtrack/2019.2/ssl-keystore.zoomed.png"><img alt="SSL密钥库" title="SSL密钥库" src="/help/img/youtrack/2019.2/ssl-keystore.png" id="c32aeea1" width="600" height="305"></a></figure>    <p id="866376f7">此页面上提供以下控件：</p>    <div class="table-wrapper"><table width="100%" id="884693db"><thead><tr id="4be5a8bb" class="ijRowHead"><th id="caa7b46e" width="20%"><p>控制</p></th><th id="4dca29ab"><p>描述</p></th></tr></thead><tbody><tr id="31d1c768" class="ijRowOdd"><td id="19f298d0"><p>导入密钥库</p></td><td id="a254863a"><p>单击以从本地目录导入密钥库文件。</p></td></tr><tr id="197bca5f" class="ijRowEven"><td id="35965fa9"><p>查看密钥库属性</p></td><td id="a8494038"><p>单击键的名称以查看其属性。在这里，您还可以编辑分配给导入密钥的名称。</p></td></tr><tr id="913833e4" class="ijRowOdd"><td id="4cfdc7a8"><p>删除</p></td><td id="7ce94bc9"><p>单击<span class="control">删除</span>按钮以从YouTrack删除密钥。使用此选项可删除包含已过期或不再使用的证书的密钥库。</p></td></tr></tbody></table></div>    <div class="chapter"><h2 id="generate-keystore-file" data-toc="SSL-Key-Stores#generate-keystore-file">生成密钥库文件</h2>        <p id="60e8bac9">有几种工具可让您创建PKCS12格式的SSL密钥和证书。我们描述了如何使用<a href="https://www.openssl.org" rel="noopener noreferrer" data-external="true" target="_blank">OpenSSL工具箱</a>创建SSL密钥。</p>        <section class="procedure-steps"><h3 id="246d5fb0">要使用OpenSSL创建SSL密钥库，请执行以下操作：</h3><ol class="list _decimal"><li class="list__item" id="e123237b"><p>生成具有密码保护的新2048位RSA密钥：</p><div class="code-block" data-lang="bash">openssl genrsa -des3 -out YouTrack_SAML.key 2048</div>            <p></p></li><li class="list__item" id="3b90936a"><p>为生成的密钥生成证书请求：</p><div class="code-block" data-lang="bash">openssl req -new -key YouTrack_SAML.key -out YouTrack_SAML.csr</div>            <p></p></li><li class="list__item" id="e3c60716"><p>生成证书：</p><div class="code-block" data-lang="bash">openssl x509 -req -days 365 -in YouTrack_SAML.csr -signkey YouTrack_SAML.key -out YouTrack_SAML.crt</div>            <p></p></li><li class="list__item" id="1631e587"><p id="bae32578">将密钥和证书打包在PKCS12文件中：</p>                <div class="code-block" data-lang="bash">openssl pkcs12 -export -out YouTrack_SAML.p12 -inkey YouTrack_SAML.key -in YouTrack_SAML.crt -certfile YouTrack_SAML.crt</div>                <ul class="list _ul"><li class="list__item" id="eccff6a9"><p>您有一个PKCS12密钥库（ <code class="code">YouTrack_SAML.p12</code> （在示例中），可以上传到YouTrack。</p></li></ul>            </li></ol></section>    </div>    <div class="chapter"><h2 id="import-ssl-keystore" data-toc="SSL-Key-Stores#import-ssl-keystore">导入SSL密钥库</h2>        <p id="fc06d5ce">在开始之前，您需要一个密钥库，其中包含公用和专用密钥对以及与它们关联的证书。该文件应为PKCS12或JKS格式。私钥必须用密码保护。您可以使用<a href="http://docs.oracle.com/javase/6/docs/technotes/tools/solaris/keytool.html" rel="noopener noreferrer" data-external="true" target="_blank">Java keytool之</a>类的应用程序生成密钥库。</p>        <section class="procedure-steps"><h3 id="import-procedure">要上传新的SSL客户端密钥：</h3><aside class="prompt" rel="import-procedure" id="f4fd65ea" data-type="tip" data-title=""><p>需要权限：低级管理员写</p></aside><ol class="list _decimal"><li class="list__item" id="a9f0e25e"><p>在<span class="control">管理</span>菜单的<span class="control">服务器设置</span>部分中，选择<span class="control">SSL密钥</span> 。</p></li><li class="list__item" id="333a8213"><p>单击<span class="control">导入密钥库</span>按钮。</p></li><li class="list__item" id="934b1b9f"><p>在“ <span class="control">导入密钥库”</span>对话框中，输入<span class="control">密钥</span>的名称。</p></li><li class="list__item" id="f6ff0ea5"><p>单击<span class="control">选择文件</span>按钮，然后从本地目录中选择密钥库文件。<br>                </p><figure><a class="lightbox" href="/help/img/youtrack/2019.2/import-keystore.zoomed.png"><img alt="导入SSL密钥库" title="导入SSL密钥库" src="/help/img/youtrack/2019.2/import-keystore.png" id="f59b3f60" width="600" height="239"></a></figure>            <p></p></li><li class="list__item" id="03fc20e6"><p>在“ <span class="control">存储密码”</span>输入字段中输入密钥库的<span class="control">密码</span> 。</p></li><li class="list__item" id="dde9f812"><p id="181ed2d6">单击<span class="control">导入</span>按钮。</p>                <ul class="list _ul"><li class="list__item" id="8d0c1f8c"><p>密钥库已添加到YouTrack。</p></li></ul>            </li></ol></section>    </div><div class="last-modified" data-skip-index="skip">上次修改时间：2019年11月29日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="SSL-Certificates.html">SSL证书</a> <a class="navigation-links__next" href="Hub-Integration.html">中心集成</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>