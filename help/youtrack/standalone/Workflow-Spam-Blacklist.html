<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>亵渎黑名单-帮助| YouTrack单机版</title><link rel="stylesheet" href="/resources.jetbrains.com/storage/help-app/v3/app.css"></head><body  data-id="Workflow-Spam-Blacklist" data-breadcrumbs="Administration.xml|Administration/Workflow-Guide.xml|Workflows/Default-Workflows.xml|Default Workflows/Workflow-Spam-Blacklist.xml|Profanity Blacklist" data-main-title="Profanity Blacklist"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索YouTrack独立帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>YouTrack Standalone 2019.2帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 id="Workflow-Spam-Blacklist.xml" data-toc="Workflow-Spam-Blacklist">亵渎黑名单</h1>  <p id="d6313db7">如果工作流包含黑名单中的单词，则此工作流将阻止提交描述或评论。</p>  <div class="table-wrapper"><table class="left_header" width="100%" id="653d4230"><tbody><tr id="2670084c" class="ijRowOdd"><th id="a5b27a5a" width="20%"><p>名称</p></th><td id="34c67a1b"><p>@ jetbrains / youtrack-workflow-亵渎黑名单</p></td></tr><tr id="5f735fe1" class="ijRowEven"><th id="654135ac"><p>上一个标题</p></th><td id="1b60c149"><p>垃圾邮件黑名单</p></td></tr><tr id="361e0229" class="ijRowOdd"><th id="586dcf8a"><p>自动连接</p></th><td id="45904965"><p>没有</p></td></tr><tr id="b6c2a7d2" class="ijRowEven"><th id="c63c3022"><p>模组</p></th><td id="e26a9da2"><p>        <a href="#stop-word">包含停用词的块描述和注释</a> （更改规则）<br>        <a href="#profanity-common">profanity-common.js</a> （自定义脚本）</p></td></tr></tbody></table></div>  <div class="chapter"><h2 id="c61aa761">用例</h2>    <p id="be7353d9">此工作流程可防止用户提交包含令人反感的语言的问题或评论。您可以编辑规则以向黑名单中添加单词或从中删除单词。</p>  </div>  <div class="chapter"><h2 id="9317748c">模组</h2>    <p id="c32f82e4">此工作流程包含两个模块。第一个是更改规则，该规则检查描述和注释以查看其是否包含黑名单中的任何单词。第二个模块是自定义脚本。</p>    <div class="chapter"><h3 id="stop-word">包含停用词的块描述和注释</h3>      <p id="966c5c9a">报告或更新问题时，此规则将检查描述和注释，以查看其是否包含黑名单中的任何单词。如果为true，则显示警告。通知用户该描述或注释包含黑名单中的一个或多个单词。</p>      <div class="code-block" data-lang="javascript">var实体= require（'@ jetbrains / youtrack-scripting-api / entities'）; var工作流程= require（'@ jetbrains / youtrack-scripting-api / workflow'）; var profanity = require（'./ profanity-common'）; Exports.rule =实体。Issue.onChange（{标题：“包含停用词的块描述和注释”，操作：function（ctx）{var issue = ctx.issue; var texts = []; function add（text）{if（text）{texts .push（text）;} 'summary'））{add（issue.summary）;} if（becomesReported || issue.isChanged（'description'））{add（issue.description）;} texts.forEach（function（text）{text = text。 toLowerCase（）; profanity.words.forEach（function（badWord）{var index = text.indexOf（badWord）; while（index！== -1）{var sepBefore =索引=== 0 || profanity.separators.indexOf（text.substring（index-1，index））> -1; var endIndex =索引+ badWord.length; var sepAfter = endIndex === text.length || profanity.separators.indexOf（text.substring（endIndex，endIndex + 1））> -1;工作流程。检查（！（sepBefore && sepAfter），工作流.i18n（'禁止放置单词{0}'，badWord）））;索引= text.indexOf（badWord，endIndex）; }}; }）; }};</div>    </div>    <div class="chapter"><h3 id="profanity-common">profanity-common.js</h3>      <p id="8969458b">此自定义脚本包含停止列表中的所有单词。该脚本在<code class="code">var profanity = require('./profanity-common');</code>宣言。</p>      <p id="879e684f">如果您发现问题中报告的亵渎单词或要阻止的其他单词，则可以在不修改工作流程规则的情况下更新此模块中的单词列表。</p>      <div class="code-block" data-lang="javascript">var工作流程= require（'@ jetbrains / youtrack-scripting-api / workflow'）; exports.words =工作流<a list="" comma-separated="" of="" stop="" words="">.i18n （' </a><a list="" comma-separated="" of="" stop="" words="">'）.split（'，'）.map（function（word）{return word.toLowerCase（）;}）; exports.separators ='〜`！@＃$％^＆*（）-_ + = [] {}：; \'\“ \\ |，<。> /？\ n \ r \ t';</a></div>    </div>  </div><div class="last-modified" data-skip-index="skip">上次修改时间：2019年11月29日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="Workflow-Pomodoro-Timer.html">Pomodoro计时器</a> <a class="navigation-links__next" href="Workflow-Referred-Issues.html">参考问题</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>