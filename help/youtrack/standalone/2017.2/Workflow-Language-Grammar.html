<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/help/app/analytics.js"></script><meta charset="UTF-8"><meta name="robots" content="noindex"><title>Grammar - Help | YouTrack Standalone</title><link rel="stylesheet" href="/help/app/app.css"></head><body data-id="Workflow-Language-Grammar"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search YouTrack Standalone Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>YouTrack Standalone 2017.2 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="primary" value="default" selected>Default (Windows/Linux)</option><option data-group="secondary" value="mac_os_x_10.5_">Default (Mac OS X 10.5+)</option><option data-group="secondary" value="mac_os_x">OS X</option><option data-group="secondary" value="eclipse_mac_os_x">OS X Eclipse</option><option data-group="secondary" value="intellij_idea_classic_os_x">IntelliJ IDEA Classic (OS X)</option><option data-group="secondary" value="xcode">Xcode</option><option data-group="secondary" value="visual_studio">Visual Studio</option><option data-group="secondary" value="resharper">ReSharper</option><option data-group="secondary" value="resharper_osx">ReSharper OSX</option><option data-group="secondary" value="emacs">Emacs</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="false"><h1 data-toc="Workflow-Language-Grammar" id="Workflow-Language-Grammar.xml">Grammar</h1>    <p id="ae16a4e1">This page describes the basic grammar, variable declarations, data types and literals that are used in the YouTrack workflow programming language.</p>    <div class="table-wrapper"><table class="                 " width="100%" id="6311672a"><thead><tr id="365fdba8" class="ijRowHead"><th id="8b1b69f7" colspan="3"><p>Workflow Language Elements</p></th></tr></thead><tbody><tr id="aa5629f1" class="ijRowOdd"><td id="a2411bdb" width="10%"><ul class="list _ul"><li class="list__item" id="5092af5b"><a href="#syntax">rule syntax</a></li></ul></td><td id="f954020a" width="10%"><ul class="list _ul"><li class="list__item" id="5631e238"><a href="#literals">literals</a></li></ul></td><td id="dbb09362" width="10%"><ul class="list _ul"><li class="list__item" id="8afc66dc"><a href="#variables">variables</a></li></ul></td><td id="0137c735" width="10%"><ul class="list _ul"><li class="list__item" id="8d15b911"><a href="#state-machine-declarations">state-machine declarations</a></li></ul></td><td id="cbfedead" width="10%"><ul class="list _ul"><li class="list__item" id="a18a6ad4"><a href="#comments">comments</a></li></ul></td></tr></tbody></table></div>    <p id="f6f81eec">The workflow programming language borrows most of its syntax from JavaScript.        If you are familiar with JavaScript, you will quickly recognize the structure that is used to write a workflow rule.</p>    <p id="7ce717ac">If you're not a programmer, you can find your way around with the code completion feature in the workflow editor.    The workflow editor shows you a list of available options for every element in the code.    The editor also displays default text that tells you what is expected for each line.</p>    <figure><a class="lightbox" href="/help/img/youtrack/2017.2/workflowEditorCodeCompletion_thumbnail.zoomed.png"><img alt="workflowEditorCodeCompletion thumbnail" title="workflowEditorCodeCompletion thumbnail" src="/help/img/youtrack/2017.2/workflowEditorCodeCompletion_thumbnail.png" id="89683976" width="600" height="207"></a></figure>    <p id="723de4e3">The workflow language is case-sensitive and uses the Unicode character set.</p>    <div class="chapter"><h2 id="syntax" data-toc="Workflow-Language-Grammar#syntax">Workflow Rule Syntax</h2>        <p id="116f513e">The syntax that is used for each rule is defined by the rule type.        The workflow editor applies constraints when you write that help you follow the required syntax.</p>        <p id="d9b956d8">The syntax for each rule type is as follows:</p>        <b id="886efeef">Stateless</b>        <div class="code-block" data-lang="Javascript"><code class="code-block__wrapper"><span class="nx">rule</span> <span class="p">[</span><span class="nx">rule</span> <span class="nx">name</span><span class="p">]</span>
<span class="nx">when</span> <span class="o">&lt;</span><span class="nx">issue</span> <span class="nx">created</span> <span class="nx">or</span> <span class="nx">updated</span><span class="o">&gt;</span> <span class="p">{</span>
    <span class="o">&lt;</span><span class="nx">define</span> <span class="nx">statements</span><span class="o">&gt;</span>
<span class="p">}</span></code></div>        <p id="6eb0bf3e">The initial <code class="code" data-lang="Java">when</code> statement determines whether the rule is triggered on issue creation or update.</p>                <b id="2004d8d5">Schedule</b>                <div class="code-block" data-lang="Javascript"><code class="code-block__wrapper"><span class="nx">schedule</span> <span class="nx">rule</span> <span class="p">[</span><span class="nx">rule</span> <span class="nx">name</span><span class="p">]</span>
<span class="p">[</span><span class="nx">schedule</span><span class="p">]</span> <span class="p">[</span><span class="o">&lt;</span><span class="nx">expression</span><span class="o">&gt;</span><span class="p">]</span> <span class="p">{</span>
    <span class="o">&lt;</span><span class="nx">define</span> <span class="nx">statements</span><span class="o">&gt;</span>
<span class="p">}</span></code></div>               <p id="93375513">The initial <code class="code" data-lang="Java">schedule</code> statement determines when the rule is triggered.                   The following intervals are supported:</p>                <ul class="list _ul"><li class="list__item" id="8a290529"><p>every minute</p></li><li class="list__item" id="60b88869"><p>daily at &lt;hour&gt;:&lt;minute&gt;:&lt;second&gt;</p></li><li class="list__item" id="8a4b1c02"><p>weekly on &lt;day of week&gt; at &lt;hour&gt;:&lt;minute&gt;:&lt;second&gt;</p></li><li class="list__item" id="12eaa8a2"><p>hourly at &lt;minute&gt;:&lt;second&gt;</p></li><li class="list__item" id="58eab869"><p>monthly on &lt;day of month&gt; at &lt;hour&gt;:&lt;minute&gt;:&lt;second&gt;</p></li><li class="list__item" id="cd09c1f3"><p>yearly on &lt;month&gt;, &lt;day of month&gt; at &lt;hour&gt;:&lt;minute&gt;:&lt;second&gt;</p></li><li class="list__item" id="f7a51afb"><p>cron: [cron expression]</p></li></ul>                <p id="ab6a577a">The expression (set in square brackets) that follows the <code class="code" data-lang="Java">schedule</code> statement is a guard condition.                    The guard condition determines whether the subsequent statements are executed.</p>                <b id="34b173e7">State-machine</b>                <div class="code-block" data-lang="Javascript"><code class="code-block__wrapper"><span class="nx">statemachine</span> <span class="p">[</span><span class="nx">rule</span> <span class="nx">name</span><span class="p">]</span> <span class="k">for</span> <span class="nx">field</span> <span class="p">[</span><span class="nx">field</span> <span class="nx">name</span><span class="p">]</span> <span class="p">}</span>
    <span class="nx">initial</span> <span class="nx">state</span> <span class="p">[</span><span class="nx">field</span> <span class="nx">value</span><span class="p">]</span> <span class="p">{</span>

    <span class="p">}</span>

    <span class="nx">state</span> <span class="p">[</span><span class="nx">field</span> <span class="nx">value</span><span class="p">]</span> <span class="p">{</span>

    <span class="p">}</span>

<span class="p">}</span></code></div>        <p id="2c084fff">For each state, you specify the conditions for applying an action. The following options are available:</p>                    <div class="table-wrapper"><table class="left_header                 " width="100%" id="fd9f00c3"><thead><tr id="f8ac7519" class="ijRowHead"><th id="4bf04482" width="50%"><p>Statement</p></th><th id="d5f1c75f"><p>Description</p></th></tr></thead><tbody><tr id="c5db3c94" class="ijRowOdd"><th id="733d6dd7"><p>enter</p></th><td id="523db65b"><p>The changes that are specified in a nested block statement are applied when the field is set to the specified value.</p></td></tr><tr id="e143ab31" class="ijRowEven"><th id="f0de727e"><p>exit</p></th><td id="68e230f5"><p>The changes that are specified in a nested block statement are applied when the field is changed from the specified value.</p></td></tr><tr id="1ff0c773" class="ijRowOdd"><th id="a154c136"><p>on [action] [condition] do {statements} transit to [field value]</p></th><td id="02e1da26"><p>The changes that are specified in the {statements} block are applied when the action is applied with a command or the field is set to the specified value.                                The optional [condition] block specifies additional criteria that must be met to apply the specified changes.                                After the changes are applied, the issue transitions automatically to the specified value.</p></td></tr><tr id="ddd2a03f" class="ijRowEven"><th id="a4ef81c0"><p>in [time frame] [condition] do {statements} transit to [field value]</p></th><td id="d0b064ef"><p>The changes that are specified in the {statements} block are applied after the specified time frame.                                The optional [condition] block specifies additional criteria that must be met to apply the specified changes.                                After the changes are applied, the issue transitions automatically to the specified value.</p></td></tr></tbody></table></div>    </div>    <div class="chapter"><h2 id="literals" data-toc="Workflow-Language-Grammar#literals">Literals</h2>    <p id="259574ad">The workflow programming language uses the following keywords to represent fixed values.</p>        <div class="table-wrapper"><table class="left_header wide                 " width="100%" id="27c2f20b"><thead><tr id="9b18b9f9" class="ijRowHead"><th id="9cff80fb"><p>Keyword</p></th><th id="ce479937"><p>Description</p></th><th id="5530ab1f"><p>Example</p></th></tr></thead><tbody><tr id="9933b03b" class="ijRowOdd"><th id="309b92e9"><p>loggedInUser</p></th><td id="4cce4d18"><p>References the user who is currently logged in to YouTrack.</p></td><td id="0f87824b"><code class="code" data-lang="Java">issue.Assignee = loggedInUser</code></td></tr><tr id="ca88a46e" class="ijRowEven"><th id="2f1f7a3d"><p>issue</p></th><td id="33c57b0d"><p>References the current issue.</p></td><td id="cbaa6731"><code class="code" data-lang="Java">when issue.becomesReported()</code></td></tr><tr id="d31db3b2" class="ijRowOdd"><th id="794b05c4"><p>now</p></th><td id="66e9c47a"><p>References the current date and time in UTC.</p></td><td id="d9e70500"><code class="code" data-lang="Java">Due date = now</code></td></tr><tr id="793273e4" class="ijRowEven"><th id="94e315dd"><p>true</p></th><td id="4718a630"><p>A Boolean literal value.</p></td><td id="36427ff3"><code class="code" data-lang="Java">var isHandled = true</code></td></tr><tr id="027191f0" class="ijRowOdd"><th id="617d9a4e"><p>false</p></th><td id="afffd1a1"><p>A Boolean literal value.</p></td><td id="c8053cad"><code class="code" data-lang="Java">var hasChildren = false</code></td></tr><tr id="2ecfd9d6" class="ijRowEven"><th id="9c580528"><p>null</p></th><td id="1ff4f49d"><p>A reference literal value.</p></td><td id="0d6033f5"><code class="code" data-lang="Java">var number = null</code></td></tr></tbody></table></div>    <p id="0bc529cf">Use the following formats to reference literal values for specific data types.</p>        <div class="table-wrapper"><table class=" wide                 " width="100%" id="40d1c439"><thead><tr id="74525298" class="ijRowHead"><th id="48cdf29f"><p>Type</p></th><th id="8231c717"><p>Format</p></th><th id="e7e50d5d"><p>Example</p></th></tr></thead><tbody><tr id="40ed6996" class="ijRowOdd"><td id="1158ffd4"><p>date</p></td><td id="e201b534"><p>Written in the format <code class="code" data-lang="Java">year-month-day</code>.                    Use the <code class="code" data-lang="Java">T</code> operation to combine with a time value.</p></td><td id="c777c4f9"><div class="code-block" data-lang="Javascript"><code class="code-block__wrapper"><span class="k">if</span> <span class="p">(</span><span class="nx">created</span> <span class="o">&lt;</span> <span class="mi">2012</span><span class="o">-</span><span class="nx">Dec</span><span class="o">-</span><span class="mi">31</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">isResolved</span><span class="p">())</span> <span class="p">{</span>
    <span class="nx">tags</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">project</span><span class="p">.</span><span class="nx">getUser</span><span class="p">(</span><span class="s2">&quot;root&quot;</span><span class="p">).</span><span class="nx">getSharedTag</span><span class="p">(</span><span class="s2">&quot;obsolete?&quot;</span><span class="p">));</span>
<span class="p">}</span></code></div></td></tr><tr id="af34cdf0" class="ijRowEven"><td id="359460ed"><p>time</p></td><td id="0f35a546"><p>Written in the format <code class="code" data-lang="Java">hour-minute-second</code>.                    Use the <code class="code" data-lang="Java">T</code> operation to combine with a date value.</p></td><td id="5d02ebe4"><p><div class="code-block" data-lang="Javascript"><code class="code-block__wrapper"><span class="nx">daily</span> <span class="nx">at</span> <span class="mi">08</span><span class="o">:</span><span class="mi">00</span><span class="o">:</span><span class="mi">00</span> <span class="p">[</span><span class="nx">issue</span><span class="p">.</span><span class="nx">resolved</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="nx">issue</span><span class="p">.</span><span class="nx">Priority</span> <span class="o">==</span> <span class="p">{</span><span class="nx">Normal</span><span class="p">}</span> <span class="o">&amp;&amp;</span> <span class="nx">issue</span><span class="p">.</span><span class="nx">created</span> <span class="o">&lt;</span> <span class="nx">now</span> <span class="o">-</span> <span class="mi">7</span> <span class="nx">days</span><span class="p">]{</span>
    <span class="nx">issue</span><span class="p">.</span><span class="nx">Priority</span> <span class="o">=</span> <span class="p">{</span><span class="nx">Major</span><span class="p">};</span>
<span class="p">}</span></code></div> </p></td></tr><tr id="bfc6678f" class="ijRowOdd"><td id="ec42c994"><p>integer</p></td><td id="b8d00a4d"><p>Unformatted numeric value.</p></td><td id="853015f6"><div class="code-block" data-lang="Javascript"><code class="code-block__wrapper"><span class="kd">var</span> <span class="nx">increaseNumber</span> <span class="o">=</span> <span class="nx">Internal</span> <span class="nx">number</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span></code></div></td></tr><tr id="b25216d2" class="ijRowEven"><td id="c52dbbbb"><p>period</p></td><td id="c4cf89f7">Represented by an integer and the time period.                    The following period constants are supported:                    <ul class="list _ul"><li class="list__item" id="5e0666ca"><p>millisecond(s)</p></li><li class="list__item" id="44a74f95"><p>second(s)</p></li><li class="list__item" id="1de7db5f"><p>minute(s)</p></li><li class="list__item" id="77e9c06d"><p>hour(s)</p></li><li class="list__item" id="9a7b264c"><p>day(s)</p></li><li class="list__item" id="76fe0c3b"><p>week(s)</p></li><li class="list__item" id="53eb55f3"><p>month(s)</p></li><li class="list__item" id="40470deb"><p>year(s)</p></li></ul></td><td id="ee9ecb90"><p><div class="code-block" data-lang="Javascript"><code class="code-block__wrapper"><span class="k">if</span> <span class="p">(</span><span class="nx">updated</span> <span class="o">+</span> <span class="mi">10</span> <span class="nx">months</span> <span class="o">&lt;</span> <span class="nx">now</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">project</span><span class="p">.</span><span class="nx">leader</span><span class="p">.</span><span class="nx">watchIssue</span><span class="p">(</span><span class="nx">issue</span><span class="p">);</span>
<span class="p">}</span></code></div>                </p></td></tr><tr id="e300fbbc" class="ijRowOdd"><td id="0d8d9c81"><p>string</p></td><td id="c587ed1b"><p>Set in quotation marks</p></td><td id="4aa1e854"><p><div class="code-block" data-lang="Javascript"><code class="code-block__wrapper"><span class="k">if</span> <span class="p">(</span><span class="nx">now</span> <span class="o">&gt;</span> <span class="nx">created</span> <span class="o">+</span> <span class="mi">3</span> <span class="nx">days</span> <span class="o">&amp;&amp;</span> <span class="nx">Assignee</span> <span class="o">==</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">message</span><span class="p">(</span><span class="s2">&quot;Issue is three days old and is still unassigned!&quot;</span><span class="p">);</span>
<span class="p">}</span></code></div> </p></td></tr></tbody></table></div>        <p id="9bf6db7b">You can reference literal values for entities with the construction <code class="code" data-lang="Java">{entity: static_entity_name}</code>.</p>            <div class="table-wrapper"><table class="                 " width="100%" id="8708c512"><thead><tr id="4d78d3ec" class="ijRowHead"><th id="7e8c61e7" width="30%"><p>Reference</p></th><th id="5874f175"><p>Value</p></th></tr></thead><tbody><tr id="e33ecda6" class="ijRowOdd"><td id="8163c56a"><p>{group: [group_name]}</p></td><td id="accc6d0c"><p>UserGroup literal.</p></td></tr><tr id="6a790011" class="ijRowEven"><td id="eca8ed32"><p>{issue: [issueID]}</p></td><td id="6aee6747"><p>Issue literal.</p></td></tr><tr id="388d86a2" class="ijRowOdd"><td id="bfa508b7"><p>{project: [project_shortName]}</p></td><td id="bd218806"><p>Project literal.</p></td></tr><tr id="2d343a57" class="ijRowEven"><td id="6d383e94"><p>{savedSearch: [savedSearchName]}</p></td><td id="abf4514d"><p>SavedSearch literal.</p></td></tr><tr id="a1e1968d" class="ijRowOdd"><td id="a402c80a"><p>{tag: [tagName]}</p></td><td id="b4923371"><p>IssueTag literal.</p></td></tr><tr id="247db7d5" class="ijRowEven"><td id="301da0cd"><p>{user: [username]}</p></td><td id="38e26d84"><p>User literal.</p></td></tr><tr id="1db7a1b3" class="ijRowOdd"><td id="f5f145ee"><p>{[customFieldName]}</p></td><td id="191b1f01"><p>CustomField literal.</p></td></tr></tbody></table></div>           <p id="e01a473b">The following examples show you how to insert static references to different entities.</p>        <div class="table-wrapper"><table class="                  _layout-fixed" width="100%" id="eff6c9aa"><thead><tr id="c99e1b71" class="ijRowHead"><th id="3a89c43e" width="50%"><p>Code</p></th><th id="57029e6f"><p>Description</p></th></tr></thead><tbody><tr id="ee5c58d0" class="ijRowOdd"><td id="4a45253f"><p><div class="code-block" data-lang="Javascript"><code class="code-block__wrapper"><span class="p">{</span><span class="nx">group</span><span class="o">:</span> <span class="nx">QA</span> <span class="nx">Engineers</span><span class="p">}.</span><span class="nx">notifyAllUsers</span><span class="p">(</span><span class="s2">&quot;Test failed!&quot;</span><span class="p">,</span> <span class="s2">&quot;Please look at the failed test &quot;</span> <span class="o">+</span> <span class="nx">getId</span><span class="p">())</span></code></div>                </p></td><td id="0593ecd0"><p>References the UserGroup <code class="code" data-lang="Java">QA Engineers</code>.                </p></td></tr><tr id="2641434b" class="ijRowEven"><td id="03568738"><p><div class="code-block" data-lang="Javascript"><code class="code-block__wrapper"><span class="nx">assert</span> <span class="p">{</span><span class="nx">issue</span><span class="o">:</span> <span class="nx">IDEA</span><span class="o">-</span><span class="mi">99999</span><span class="p">}.</span><span class="nx">Type</span> <span class="o">==</span> <span class="p">{</span><span class="nx">Feature</span><span class="p">}</span><span class="o">:</span> <span class="s2">&quot;It should be the cool feature about the new look and feel!&quot;</span><span class="p">;</span></code></div>                </p></td><td id="2abd1d52"><p>References a single Issue <code class="code" data-lang="Java">IDEA-99999</code>.</p></td></tr><tr id="91bd0291" class="ijRowOdd"><td id="771dfeb3"><p><div class="code-block" data-lang="Javascript"><code class="code-block__wrapper"><span class="k">for</span> <span class="nx">each</span> <span class="nx">currency</span> <span class="k">in</span> <span class="p">{</span><span class="nx">project</span><span class="o">:</span> <span class="nx">Business</span> <span class="nx">Trips</span><span class="p">}.</span><span class="nx">valuesFor</span><span class="p">(</span><span class="nx">Currency</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">currency</span><span class="p">.</span><span class="nx">name</span> <span class="o">==</span> <span class="p">{</span><span class="nx">Dollar</span><span class="p">})</span> <span class="p">{</span>
        <span class="nx">assert</span> <span class="nx">currency</span><span class="p">.</span><span class="nx">colorIndex</span> <span class="o">==</span> <span class="mi">17</span><span class="o">:</span> <span class="s2">&quot;Dollar should be green!&quot;</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span></code></div>                </p></td><td id="51ea81a2"><p>References the Project <code class="code" data-lang="Java">Business Trips</code>.</p></td></tr><tr id="a04327bf" class="ijRowEven"><td id="edc34bda"><p><div class="code-block" data-lang="Javascript"><code class="code-block__wrapper"><span class="k">for</span> <span class="nx">each</span> <span class="nx">notMyIssue</span> <span class="k">in</span> <span class="nx">loggedInUser</span><span class="p">.</span><span class="nx">getIssues</span><span class="p">({</span><span class="nx">savedSearch</span><span class="o">:</span> <span class="nx">Reported</span> <span class="nx">by</span> <span class="nx">me</span><span class="p">},</span> <span class="s2">&quot;for: -me&quot;</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">notMyIssue</span><span class="p">.</span><span class="nx">Assignee</span> <span class="o">=</span> <span class="nx">loggedInUser</span><span class="p">;</span>
<span class="p">}</span></code></div>                </p></td><td id="3265dbaa"><p>References the SavedSearch <code class="code" data-lang="Java">Reported by me</code>.</p></td></tr><tr id="466bdb01" class="ijRowOdd"><td id="785c7ded"><p><div class="code-block" data-lang="Javascript"><code class="code-block__wrapper"><span class="nx">rule</span> <span class="nx">Regression</span>

<span class="nx">when</span> <span class="nx">State</span><span class="p">.</span><span class="nx">becomes</span><span class="p">({</span><span class="nx">Reopened</span><span class="p">})</span> <span class="p">{</span>
    <span class="nx">tags</span><span class="p">.</span><span class="nx">add</span><span class="p">({</span><span class="nx">tag</span><span class="o">:</span> <span class="nx">regression</span><span class="p">});</span>
<span class="p">}</span></code></div>                </p></td><td id="434a0408"><p>References the IssueTag <code class="code" data-lang="Java">regression</code>.</p></td></tr></tbody></table></div>    </div>    <div class="chapter"><h2 id="variables" data-toc="Workflow-Language-Grammar#variables">Variables</h2>        <p id="51b875e0">Variables are declared with the keyword <code class="code" data-lang="Java">var</code>, followed by the name of the variable.            You can specify the initial value with the <code class="code" data-lang="Java">=</code> sign, as with JavaScript. </p>        <div class="code-block" data-lang="Javascript"><code class="code-block__wrapper"><span class="kd">var</span> <span class="nx">notInitializedVariable</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">initializedVariable</span> <span class="o">=</span> <span class="s2">&quot;Hello&quot;</span><span class="p">;</span></code></div>        <p id="dc606d1c">The data type of the variable is inferred from the type that is specified in the initial expression.            When a variable has no initial value, its value is inferred from its usages.</p>        <p id="69f34d92">Once you have declared a variable, you can refer to it by its name.</p>        <div class="code-block" data-lang="Javascript"><code class="code-block__wrapper"><span class="nx">notInitializedVar</span> <span class="o">=</span> <span class="s2">&quot;World!&quot;</span><span class="p">;</span>
            <span class="nx">notInitializedVar</span> <span class="o">=</span> <span class="nx">initializedVar</span> <span class="o">+</span> <span class="s2">&quot;, &quot;</span> <span class="o">+</span> <span class="nx">notInitializedVar</span><span class="p">;</span></code></div>    <p id="8f12603f">In the following example, the variable <code class="code" data-lang="Java">user</code> is used to set the assignee of an issue.</p>        <div class="code-block" data-lang="Javascript"><code class="code-block__wrapper"><span class="kd">var</span> <span class="nx">user</span><span class="p">;</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">issue</span><span class="p">.</span><span class="nx">Assignee</span> <span class="o">==</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">user</span> <span class="o">=</span> <span class="nx">issue</span><span class="p">.</span><span class="nx">project</span><span class="p">.</span><span class="nx">leader</span><span class="p">;</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nx">user</span> <span class="o">=</span> <span class="nx">issue</span><span class="p">.</span><span class="nx">Assignee</span><span class="p">;</span>
<span class="p">}</span></code></div>        <p id="bae272d8">When you use the <code class="code" data-lang="Java">createNewIssue</code> method, an issue is created with the default (or empty) values for each field as configured for the project.            To create an issue with specific values for fields, use variable declarations.</p>        <p id="f5558a43">The following sample shows how to create an issue in the project with the ID <code class="code" data-lang="Java">RM</code>,            specify values for custom fields, and add a <span class="control">depends on</span> link for the current issue to the issue that is created by the workflow.</p>        <div class="code-block" data-lang="Javascript"><code class="code-block__wrapper"><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="nx">loggedInUser</span><span class="p">.</span><span class="nx">createNewIssue</span><span class="p">(</span><span class="s2">&quot;RM&quot;</span><span class="p">);</span>
    <span class="nx">i</span><span class="p">.</span><span class="nx">Assignee</span> <span class="o">=</span> <span class="nx">Marketing</span><span class="p">;</span>
    <span class="nx">i</span><span class="p">.</span><span class="nx">Due</span> <span class="nb">Date</span> <span class="o">=</span> <span class="nx">Due</span> <span class="nb">Date</span> <span class="o">-</span> <span class="mi">1</span> <span class="nx">month</span><span class="p">;</span>
    <span class="nx">i</span><span class="p">.</span><span class="nx">summary</span> <span class="o">=</span> <span class="s2">&quot;Write text for mailing list&quot;</span><span class="p">;</span>
    <span class="nx">i</span><span class="p">.</span><span class="nx">Version</span> <span class="o">=</span> <span class="nx">Version</span><span class="p">;</span>
    <span class="nx">i</span><span class="p">.</span><span class="nx">Product</span> <span class="o">=</span> <span class="nx">Product</span><span class="p">;</span>
    <span class="nx">depends</span> <span class="nx">on</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span></code></div>    </div>    <div class="chapter"><h2 id="state-machine-declarations" data-toc="Workflow-Language-Grammar#state-machine-declarations">State-machine Declarations</h2>        <p id="fb36256c">State-machine rules use a pre-defined set of declarations.        These declarations identify the field that is managed by the state-machine rule and values that are assigned to each transition.</p>        <div class="table-wrapper"><table class="                  _layout-fixed" width="100%" id="33b20f13"><thead><tr id="4c9ffe16" class="ijRowHead"><th id="c8a2b156" width="30%"><p>Declaration</p></th><th id="d03950ed"><p>Description</p></th></tr></thead><tbody><tr id="dad23838" class="ijRowOdd"><td id="7c322ec6"><p>for field</p></td><td id="7c2812d5"><p>Identifies the field that is managed by the state-machine rule.</p></td></tr><tr id="25021ea2" class="ijRowEven"><td id="9ef5a216"><p>initial state</p></td><td id="96e71ec9"><p>Sets the value that is assigned to new issues for the specified field.</p></td></tr><tr id="9ecbdcb5" class="ijRowOdd"><td id="e4a0204c"><p>state</p></td><td id="521e81e2"><p>Specifies a value in the set of values for the custom field.                Allowed transitions for the specified value are defined in the block statements that follow the declaration.</p></td></tr><tr id="ab9ea5a4" class="ijRowEven"><td id="413038e1"><p>transit to</p></td><td id="6c2e115e"><p>Specifies the value that is set for the specified field. This declaration is used in an <code class="code" data-lang="Java">on</code> statement.</p></td></tr></tbody></table></div>    </div>    <div class="chapter"><h2 id="comments" data-toc="Workflow-Language-Grammar#comments">Comments</h2>        <p id="35c5c7a9">You can use comments to add notes to your workflow rules.            This can help others understand what a rule does and how it can be implemented.            You can also use comments to disable specific lines of code.</p>        <p id="68d9221a">To insert a comment, use <code class="code" data-lang="Java">//</code>. All of the text that follows on the same line is commented out.            For example:</p>        <div class="code-block" data-lang="Javascript"><code class="code-block__wrapper"><span class="k">for</span> <span class="nx">each</span> <span class="nx">subtask</span> <span class="k">in</span> <span class="nx">parent</span><span class="p">.</span><span class="nx">parent</span> <span class="k">for</span> <span class="p">{</span>
    <span class="c1">//We can&#39;t use subtask.isResolved() here, as this method relies on issue.resolved</span>
    <span class="c1">//property, which is updated after workflow rules are executed.</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">subtask</span><span class="p">.</span><span class="nx">State</span><span class="p">.</span><span class="nx">isResolved</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">allSubtasksResolved</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
        <span class="k">break</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span></code></div>    </div><div class="last-modified" data-skip-index="skip">Last modified: 7 March 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="Workflow-Language-Reference.html">Workflow Language Reference</a><a class="navigation-links__next" href="Workflow-Operators.html">Operators</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/help/app/app.js"></script></body></html>