<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/help/app/analytics.js"></script><meta charset="UTF-8"><meta name="robots" content="noindex"><title>Workflow Rules - Help | YouTrack Standalone</title><link rel="stylesheet" href="/help/app/app.css"></head><body data-id="Workflow-Rules"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search YouTrack Standalone Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>YouTrack Standalone 2017.2 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="primary" value="default" selected>Default (Windows/Linux)</option><option data-group="secondary" value="mac_os_x_10.5_">Default (Mac OS X 10.5+)</option><option data-group="secondary" value="mac_os_x">OS X</option><option data-group="secondary" value="eclipse_mac_os_x">OS X Eclipse</option><option data-group="secondary" value="intellij_idea_classic_os_x">IntelliJ IDEA Classic (OS X)</option><option data-group="secondary" value="xcode">Xcode</option><option data-group="secondary" value="visual_studio">Visual Studio</option><option data-group="secondary" value="resharper">ReSharper</option><option data-group="secondary" value="resharper_osx">ReSharper OSX</option><option data-group="secondary" value="emacs">Emacs</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="false"><h1 data-toc="Workflow-Rules" id="Workflow-Rules.xml">Workflow Rules</h1>    <a name="Sample_Workflow_Rules"></a>    <p id="d1a454a7">YouTrack provides three different types of workflow rules. The rule type defines the general conditions that cause the rule to be executed.</p>    <div class="chapter"><h2 id="Stateless" data-toc="Workflow-Rules#Stateless">Stateless Rules</h2>        <p id="bdce9d8e">A stateless rule defines the action to be performed when a change is applied to an issue.            The <code class="code" data-lang="Java">when</code> statement defines the initial guard condition that must be met for the rule to be executed.</p>        <p id="8ebfd037">A stateless rule is executed by the user who applies the change that matches the guard condition.</p>        <a name="Stateless_Rule_Sample"></a>        <b id="48c9a004">Example</b>            <p id="a6cd7ab5">This rule performs the following actions when a change is applied to an issue:</p>            <ul class="list _bullet"><li class="list__item" id="19df3bf2"><p>YouTrack checks for a change to the value in the <span class="control">Subsystem</span> field.</p></li><li class="list__item" id="74440bd5"><p>If the value in the <span class="control">Subsystem</span> changed, the issue is automatically assigned to the owner of the subsystem.</p></li></ul>            <div class="code-block" data-lang="Javascript"><code class="code-block__wrapper"><span class="nx">rule</span> <span class="nx">Set</span> <span class="nx">Assignee</span> <span class="nx">to</span> <span class="nx">a</span> <span class="nx">Subsystem</span> <span class="nx">Owner</span>

<span class="nx">when</span> <span class="nx">issue</span><span class="p">.</span><span class="nx">Subsystem</span><span class="p">.</span><span class="nx">changed</span> <span class="p">{</span>
    <span class="nx">issue</span><span class="p">.</span><span class="nx">Assignee</span> <span class="o">=</span> <span class="nx">issue</span><span class="p">.</span><span class="nx">Subsystem</span><span class="p">.</span><span class="nx">owner</span><span class="p">;</span>
<span class="p">}</span></code></div>    </div>    <div class="chapter"><h2 id="Scheduled" data-toc="Workflow-Rules#Scheduled">Scheduled Rules</h2>        <p id="cac23b91">A scheduled rule defines a set of changes that are applied according to a time-based guard condition.            For example, you can periodically check for issues with specific attribute values and notify a user or a group.</p>        <p id="9b3a1260">A scheduled rule is executed by a special workflow user.            This is a system user account that is granted a full set of permissions.            The permissions for this account cannot be modified.            The workflow user account is not included in the license restrictions and is not displayed in the users list.</p>        <p id="007ef34d">The guard conditions that you can use in a scheduled rule are limited.            You can only use queries that are optimized by the database.            These include queries that reference specific fields (for example, <code class="code" data-lang="Java">issue.Priority == {Critical}</code> or <code class="code" data-lang="Java">issue.Due Date &gt; now</code>).            A guard condition that uses a method or operation (for example, <code class="code" data-lang="Java">issue.isResolved()</code>) requires significant system resources to process.            Guard conditions that contain methods or operations in the expression are not supported.</p>        <p id="fd90a1e5"></p>        <b id="c45df904">Example</b>            <a name="Scheduled_Rule_Sample"></a>            <p id="bb2f7908">This rule defines a schedule for the following periodic action:</p>            <ul class="list _ul"><li class="list__item" id="fd4042c0">Each day at 08:00, YouTrack checks issues that contain a value in the <span class="control">Due date</span> field.                    If the issue is due in fewer than two days, a notification is sent to the assignee. The notification is formatted as follows:                    <div class="table-wrapper"><table class="left_header                 " width="100%" id="d8825803"><tbody><tr id="29d4b9be" class="ijRowOdd"><th id="25b5c0ff"><p>Subject line</p></th><td id="f47cbee2"><p>Issue is due in less than two days</p></td></tr><tr id="11bd9a14" class="ijRowEven"><th id="71cac754"><p>Message body</p></th><td id="bfebd13a"><p>You have less than two days remaining to resolve the following issue: &lt;issueID&gt;</p></td></tr></tbody></table></div>                </li></ul>            <div class="code-block" data-lang="Javascript"><code class="code-block__wrapper"><span class="nx">schedule</span> <span class="nx">rule</span> <span class="nx">Check</span> <span class="k">for</span> <span class="nx">Due</span> <span class="nx">date</span> <span class="nx">and</span> <span class="nx">notify</span> <span class="nx">assignee</span>

<span class="nx">daily</span> <span class="nx">at</span> <span class="mi">08</span> <span class="o">:</span> <span class="mi">00</span> <span class="o">:</span> <span class="mi">00</span> <span class="p">[</span><span class="nx">issue</span><span class="p">.</span><span class="nx">Due</span> <span class="nx">date</span> <span class="o">&lt;=</span> <span class="p">(</span><span class="nx">now</span> <span class="o">+</span> <span class="mi">2</span> <span class="nx">days</span><span class="p">)]</span> <span class="p">{</span>
    <span class="nx">issue</span><span class="p">.</span><span class="nx">Assignee</span><span class="p">.</span><span class="nx">notify</span><span class="p">(</span><span class="s2">&quot;Issue is due in less than two days&quot;</span><span class="p">,</span> <span class="s2">&quot;You have less than two days remaining to resolve the following issue:&quot;</span> <span class="o">+</span> <span class="nx">issue</span><span class="p">.</span><span class="nx">getId</span><span class="p">());</span>
<span class="p">}</span></code></div>            <p id="c50c94d4">The schedule uses the date constant <code class="code" data-lang="Java">08 : 00 : 00</code>, which uses the time zone setting for your YouTrack server.                The <code class="code" data-lang="Java">issue.Due date</code> references a custom field that stores the date and time as 12:00 UTC.                If, for example, your office is in California (UTC-7) and you want your users to be notified for all issues that are due in less than two days,                you need to offset the due date by seven hours.                For more information, see <a href="Workflow-Working-with-Dates-Times.html"><span>Working with Dates and Times</span></a>.</p>    </div>    <div class="chapter"><h2 id="Statemachine" data-toc="Workflow-Rules#Statemachine">State-machine Rules</h2>        <p id="bf1facba">A state-machine rule regulates the transitions from one value to another for a custom field.            You can apply a state-machine rule to any custom field.            However, the most common use case for a state-machine rule is to regulate transitions between values for the <span class="control">State</span> field or another custom field that stores a <code class="code" data-lang="Java">state</code> type.</p>        <p id="221fe1d1">When a state-machine rule is applied to a project, the options that are shown in the drop-down list for the field are restricted to the transitions that are defined in the state-machine rule for the current state.        Custom fields that are regulated by a state-machine rule are marked with a <span class="control">Workflow-driven field</span> icon.        The action that is defined for each value in the state-machine rule is displayed in the drop-down list, followed by the actual value in parenthesis.        The following image illustrates how the list of allowed transitions for the <span class="control">State</span> field changes based on the current value.</p>        <aside class="warning " data-title="Warning!" rel="221fe1d1" id="534e82b7"><br>            <br>            <p id="e398e6b7">The allowed transitions for each value are displayed even when you have a guard condition that potentially blocks the selection of the value.                If the guard conditions is not met, the selection is ignored.</p>            <p id="b53b249c">There are no mechanisms for exposing this condition to users.                If you add guard conditions to your statements, make sure your users are aware of the restrictions that are applied by the workflow.</p>        </aside>        <figure><a class="lightbox" href="/help/img/youtrack/2017.2/statemachine-field-values.zoomed.png"><img alt="statemachine field values" title="statemachine field values" src="/help/img/youtrack/2017.2/statemachine-field-values.png" id="61773ff0" width="600" height="137"></a></figure>        <p id="cdce29df">State-machine rules use two types of conditional statements.</p>        <ul class="list _ul"><li class="list__item" id="e4903e54"><p>The <code class="code" data-lang="Java">enter</code>, <code class="code" data-lang="Java">exit</code>, and <code class="code" data-lang="Java">on</code> statements perform an action when the value for the field is set.            These actions are executed by the user who changes the value of the field.</p></li><li class="list__item" id="2dbbaac1"><p>The <code class="code" data-lang="Java">in</code> statement performs an action after the specified time frame.            These actions are executed by the workflow user account.</p></li></ul>            <a name="State-machine_Rule_Sample"></a>            <b id="35d1cd3e">Example</b>            <p id="2bb4c10a">This rule defines the transitions that are allowed for the <span class="control">State</span> field.            This field is referenced with the <code class="code" data-lang="Java">for field</code> declaration in the first line.</p>            <ul class="list _bullet"><li class="list__item" id="1f8f997a"><p>The <code class="code" data-lang="Java">initial state</code> declaration sets the value that is assigned to new issues.                    Here, an issue starts with the <span class="control">Submitted</span> state.</p></li><li class="list__item" id="78cfd290">The block statement that follows the initial state defines which transitions are allowed from the original value.                    These transitions are defined with one or more conditional statements.                    These statements let you apply changes to an issue when the value for this field changes to the specified value.                    You can even define optional conditions that must be met to apply the specified changes.                    For more information about the statements that are used in this block, see <a href="Workflow-Language-Statements.html#rule-specific-statements"><span>Rule-specific Statements</span></a>.                    <p id="265ae160">In this example, the value can only transition from <span class="control">Submitted</span> to <span class="control">Open</span>.</p>                </li><li class="list__item" id="6a4bddda">Following the initial state, you see a series of <code class="code" data-lang="Java">state</code> declarations.                    These declarations let you specify the transitions that are allowed for each value in the field.                    The transitions are defined in the block statements that follow the declaration.                    <p id="de664111">The following transitions are defined in this example:</p>                    <ul class="list _ul"><li class="list__item" id="544bcb9d"><p>From <span class="control">Open</span>, the value can change to <span class="control">Fixed</span>, <span class="control">Duplicate</span>, or <span class="control">Can't Reproduce</span>.</p></li><li class="list__item" id="0466a2f6"><p>From <span class="control">Fixed</span>, the value can change to <span class="control">Verified</span> or <span class="control">Reopened</span>.                        When the value changes to <span class="control">Fixed</span>, the value of the <span class="control">Subsystem</span> field is set to <span class="control">Testing</span>.</p></li><li class="list__item" id="90709ba4"><p>From <span class="control">Duplicate</span>, the value can only change to <span class="control">Reopened</span>.</p></li><li class="list__item" id="5576420b"><p>From <span class="control">Can't Reproduce</span>, the value can only change to <span class="control">Reopened</span>.</p></li><li class="list__item" id="9cb569b0"><p>From <span class="control">Verified</span>, there are no transitions defined for this value.                        Once this value is set, it cannot be changed.</p></li><li class="list__item" id="b77ca181"><p>From <span class="control">Reopened</span>, the value can only change to <span class="control">Fixed</span>.</p></li></ul>                </li></ul>            <p id="8452d46b">In most of the block statements that follow the <code class="code" data-lang="Java">state</code> declarations contain the following components:</p>            <ul class="list _ul"><li class="list__item" id="07fe9743"><p>An <code class="code" data-lang="Java">on</code> statement that defines the action that is associated with this value.                This action creates an alias for the field that is used in commands to set this value.                The action is also displayed in the drop-down list for the custom field.</p></li><li class="list__item" id="9d01ad85"><p>An optional guard condition for applying additional changes to an issue when the field is set to this value.                By default, the changes are always applied.                    This is represented by the <code class="code" data-lang="Java">[always]</code> placeholder in the editor.                    Here, you can insert a Boolean expression that applies the changes if it resolves to the value <code class="code" data-lang="Java">true</code>.</p></li><li class="list__item" id="44ea307b"><p>A <code class="code" data-lang="Java">do</code> element that introduces an optional block statement.                    This block statement is represented by the <code class="code" data-lang="Java">&lt;define statements&gt;</code> placeholder in the editor.                    Here, you can define a set of changes that are applied to an issue and the conditions that must be met for the changes to be applied.                Basically, you can insert the same instructions that are used in stateless and scheduled rules.</p></li><li class="list__item" id="df2b96f9"><p>A <code class="code" data-lang="Java">transit to</code> declaration that specifies the value to set for the field when the action that is specified in the <code class="code" data-lang="Java">on</code> statement is applied to an issue.                When you specify a value for the <code class="code" data-lang="Java">transit to</code> declaration, a new <code class="code" data-lang="Java">state</code> declaration for the specified value is added to the state-machine rule.</p></li></ul>            <p id="d2660f1b">The <span class="control">Fixed</span> value uses an <code class="code" data-lang="Java">enter</code> statement.            This statement automatically applies the specified changes to an issue when the value for this field is set to <span class="control">Fixed</span>.</p>            <div class="code-block" data-lang="Javascript"><code class="code-block__wrapper"><span class="nx">statemachine</span> <span class="nx">State</span> <span class="nx">lifecycle</span> <span class="k">for</span> <span class="nx">field</span> <span class="nx">State</span> <span class="p">{</span>

    <span class="nx">initial</span> <span class="nx">state</span> <span class="nx">Submitted</span> <span class="p">{</span>
        <span class="nx">on</span> <span class="nx">Open</span><span class="p">[</span><span class="nx">always</span><span class="p">]</span> <span class="k">do</span> <span class="p">{</span><span class="o">&lt;</span><span class="nx">define</span> <span class="nx">statements</span><span class="o">&gt;</span><span class="p">}</span> <span class="nx">transit</span> <span class="nx">to</span> <span class="nx">Open</span>
    <span class="p">}</span>

    <span class="nx">state</span> <span class="nx">Open</span> <span class="p">{</span>
        <span class="nx">on</span> <span class="nx">Fix</span><span class="p">[</span><span class="nx">always</span><span class="p">]</span> <span class="k">do</span> <span class="p">{</span><span class="o">&lt;</span><span class="nx">define</span> <span class="nx">statements</span><span class="o">&gt;</span><span class="p">}</span> <span class="nx">transit</span> <span class="nx">to</span> <span class="nx">Fixed</span>

        <span class="nx">on</span> <span class="nx">Duplicate</span><span class="p">[</span><span class="nx">always</span><span class="p">]</span> <span class="k">do</span> <span class="p">{</span><span class="o">&lt;</span><span class="nx">define</span> <span class="nx">statements</span><span class="o">&gt;</span><span class="p">}</span> <span class="nx">transit</span> <span class="nx">to</span> <span class="nx">Duplicate</span>

        <span class="nx">on</span> <span class="nx">Can</span><span class="s1">&#39;t reproduce[always] do {&lt;define statements&gt;} transit to Can&#39;</span><span class="nx">t</span> <span class="nx">Reproduce</span>
    <span class="p">}</span>

    <span class="nx">state</span> <span class="nx">Fixed</span> <span class="p">{</span>
        <span class="nx">enter</span> <span class="p">{</span>
            <span class="nx">issue</span><span class="p">.</span><span class="nx">Subsystem</span> <span class="o">=</span> <span class="p">{</span><span class="nx">Testing</span><span class="p">};</span>
        <span class="p">}</span>

        <span class="nx">on</span> <span class="nx">Verify</span><span class="p">[</span><span class="nx">always</span><span class="p">]</span> <span class="k">do</span> <span class="p">{</span><span class="o">&lt;</span><span class="nx">define</span> <span class="nx">statements</span><span class="o">&gt;</span><span class="p">}</span> <span class="nx">transit</span> <span class="nx">to</span> <span class="nx">Verified</span>

        <span class="nx">on</span> <span class="nx">Reopen</span><span class="p">[</span><span class="nx">always</span><span class="p">]</span> <span class="k">do</span> <span class="p">{</span><span class="o">&lt;</span><span class="nx">define</span> <span class="nx">statements</span><span class="o">&gt;</span><span class="p">}</span> <span class="nx">transit</span> <span class="nx">to</span> <span class="nx">Reopened</span>
    <span class="p">}</span>

    <span class="nx">state</span> <span class="nx">Duplicate</span> <span class="p">{</span>
        <span class="nx">on</span> <span class="nx">Reopen</span><span class="p">[</span><span class="nx">always</span><span class="p">]</span> <span class="k">do</span> <span class="p">{</span><span class="o">&lt;</span><span class="nx">define</span> <span class="nx">statements</span><span class="o">&gt;</span><span class="p">}</span> <span class="nx">transit</span> <span class="nx">to</span> <span class="nx">Reopened</span>
    <span class="p">}</span>

    <span class="nx">state</span> <span class="nx">Can</span><span class="err">&#39;</span><span class="nx">t</span> <span class="nx">Reproduce</span> <span class="p">{</span>
        <span class="nx">on</span>  <span class="nx">Reopen</span><span class="p">[</span><span class="nx">always</span><span class="p">]</span> <span class="k">do</span> <span class="p">{</span><span class="o">&lt;</span><span class="nx">define</span> <span class="nx">statements</span><span class="o">&gt;</span><span class="p">}</span> <span class="nx">transit</span> <span class="nx">to</span> <span class="nx">Reopened</span>
    <span class="p">}</span>

    <span class="nx">state</span> <span class="nx">Verified</span> <span class="p">{</span>

    <span class="p">}</span>

    <span class="nx">state</span> <span class="nx">Reopened</span> <span class="p">{</span>
        <span class="nx">on</span> <span class="nx">Fix</span><span class="p">[</span><span class="nx">always</span><span class="p">]</span> <span class="k">do</span> <span class="p">{</span><span class="o">&lt;</span><span class="nx">define</span> <span class="nx">statements</span><span class="o">&gt;</span><span class="p">}</span> <span class="nx">transit</span> <span class="nx">to</span> <span class="nx">Fixed</span>
    <span class="p">}</span>

<span class="p">}</span></code></div>    </div><div class="last-modified" data-skip-index="skip">Last modified: 7 March 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="Workflow-Overview.html">Workflow Overview</a><a class="navigation-links__next" href="Workflow-Tutorial.html">Workflow Tutorial</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/help/app/app.js"></script></body></html>