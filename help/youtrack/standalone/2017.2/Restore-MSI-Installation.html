<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/help/app/analytics.js"></script><meta charset="UTF-8"><meta name="robots" content="noindex"><title>Restore an MSI Installation - Help | YouTrack Standalone</title><link rel="stylesheet" href="/help/app/app.css"></head><body data-id="Restore-MSI-Installation"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search YouTrack Standalone Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>YouTrack Standalone 2017.2 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="primary" value="default" selected>Default (Windows/Linux)</option><option data-group="secondary" value="mac_os_x_10.5_">Default (Mac OS X 10.5+)</option><option data-group="secondary" value="mac_os_x">OS X</option><option data-group="secondary" value="eclipse_mac_os_x">OS X Eclipse</option><option data-group="secondary" value="intellij_idea_classic_os_x">IntelliJ IDEA Classic (OS X)</option><option data-group="secondary" value="xcode">Xcode</option><option data-group="secondary" value="visual_studio">Visual Studio</option><option data-group="secondary" value="resharper">ReSharper</option><option data-group="secondary" value="resharper_osx">ReSharper OSX</option><option data-group="secondary" value="emacs">Emacs</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="false"><h1 data-toc="Restore-MSI-Installation" id="Restore-MSI-Installation.xml">Restore an MSI Installation</h1>    <aside class="note " data-title="Note" rel="Restore-MSI-Installation.xml" id="565a0903"><br><br>        <p id="c003a380">To restore your database from a backup successfully, the version of the backup file should be the same or earlier than the version of YouTrack to which you restore this database.</p>    </aside>    <p id="dca7a127">Before you begin, make sure you have a backup copy of the database that you want to restore.        Note the location of the backup copy so you are sure to select the correct file during this procedure.</p>    <p id="23ffc8f7">If you don't have valid backup files or your backup files are out of date, follow the instructions to <a href="#restore-without-backup">Restore the Current Version Without a Backup</a>.</p>    <ul class="list _ul"><li class="list__item" id="009326f0"><p>If you're rolling back to the previous installation version after an unsuccessful upgrade, use the backup that you created prior to installation.            If you ignored this prerequisite, locate an archived backup file in the directory that is set as the <span class="control">Backup location</span> that corresponds with the version of your previous installation.</p></li><li class="list__item" id="11e0c84b"><p>If you're attempting to restore the current installation, locate&nbsp;an archived&nbsp;backup file in the directory that is set as the <span class="control">Backup location</span> that corresponds with the current version of your installation.            </p></li></ul>    <div class="chapter"><h2 id="restore-from-backup" data-toc="Restore-MSI-Installation#restore-from-backup">Restore an Installation from a Backup</h2>        <p id="e9f3b59c">To restore your database to the current or previous version, you need to reinstall YouTrack and use the backup as the <span class="control">Upgrade Source</span> during installation.</p>        <p id="7cd4a7b6">When you restore to a previous version of YouTrack, use a backup that corresponds to the version of the product that you want to restore.</p>        <section class="procedure-steps"><h2 id="8ebd33fb">To restore your database from a backup:</h2><aside class="note " data-title="Permissions" rel="8ebd33fb" id="c7b2bb55"><br><br>                <p id="c303db4d">Global:</p>                <ul class="list _ul"><li class="list__item" id="a287c4a6"><span class="control">Low-level Administration</span></li></ul></aside><ol class="list _decimal"><li class="list__item" id="8d1ea6ec"><p>Uninstall YouTrack from the <span class="control">Windows Control Panel</span>.</p></li><li class="list__item" id="b9ecd8e2"><p>Make sure that the YouTrack service user (<code class="code" data-lang="Java">JetBrainsYouTrack</code>, by default) has full access to the directory where you saved the database backup file.</p></li><li class="list__item" id="c6e3b15a">Install a YouTrack build that is the same version or later than the version of your database backup.                For detailed instructions, see <a href="Install-YouTrack-MSI-Installation.html"><span>MSI Installation</span></a>.<br>                Please note:                <ul class="list _bullet"><li class="list__item" id="7ec5c14b"><p>To troubleshoot errors more effectively, run the MSI installer with verbose logging enabled.                        In a <span class="control">Command Prompt</span> window, enter the following command:                        <div class="code-block" data-lang="Java"><code class="code-block__wrapper"><span class="n">msiexec</span> <span class="o">/</span><span class="n">i</span> <span class="n">youtrack</span><span class="o">-&lt;</span><span class="n">version</span> <span class="n">number</span><span class="o">&gt;.&lt;</span><span class="n">build</span> <span class="n">number</span><span class="o">&gt;.</span><span class="na">msi</span> <span class="o">/</span><span class="n">l</span><span class="o">*</span><span class="n">v</span> <span class="n">install</span><span class="o">.</span><span class="na">txt</span></code></div><br>                        Use the &lt;version number&gt; and &lt;build number&gt; of the installer package.</p></li><li class="list__item" id="933795eb"><p>Configuration files from previous installations might be found during the installation. In this case, use the (Recommended) installation option that is selected by default.</p></li></ul>            </li><li class="list__item" id="6a787065"><p>In the <span class="control">Configuration Wizard</span>, select the <span class="control">Upgrade</span> option.</p></li><li class="list__item" id="52630d6e"><p>On the <span class="control">Select Upgrade Source</span> page, select your backup as the <span class="control">Upgrade Source</span> and click the <span class="control">Next</span> button.</p></li><li class="list__item" id="740cab1a">Confirm or change the locations where YouTrack stores product data. When done, click the <span class="control">Next</span> button.                <ul class="list _ul"><li class="list__item" id="6a3c9546"><p>YouTrack starts with the data from the backup file.</p></li></ul>            </li></ol></section>    </div>    <div class="chapter"><h2 id="restore-without-backup" data-toc="Restore-MSI-Installation#restore-without-backup">Restore the Current Version Without a Backup</h2>        <p id="a0eaeb89">There are a few cases where you are unable to restore you installation from backup.</p>        <ul class="list _ul"><li class="list__item" id="c44c708c"><p>Your backup files are missing or out of date.</p></li><li class="list__item" id="7f3be9a4"><p>The files on your server became corrupted and are unusable.</p></li></ul>        <p id="1f1c324f">You may also want to follow this procedure when, for example, you were able to recover your data following a server crash and there is information that was recorded in YouTrack that is not in your most recent backup files.</p>        <p id="bad107c4">You can attempt to restore the current version of your installation using valid copies of your configuration and data files.            This restoration procedure is only successful when your configuration and data files are not corrupted.            You can restore to an earlier version of YouTrack only when you have copies of files that have never been used to start a later version of the product.</p>        <section class="procedure-steps"><h2 id="f9e623a1">To restore your database without a backup:</h2><aside class="note " data-title="Permissions" rel="f9e623a1" id="907e5047"><br><br>                <p id="fc6896b7">Global:</p>                <ul class="list _ul"><li class="list__item" id="bbfc6375"><span class="control">Low-level Administration</span></li></ul></aside><ol class="list _decimal"><li class="list__item" id="a84e322f"><p>Locate the most recent copies of your <code class="code" data-lang="Java">data</code> and <code class="code" data-lang="Java">conf</code> directories.                The default location of the directories that are created during installation is <code class="code" data-lang="Java">%programdata%\JetBrains\YouTrack\</code>.<br>                Note that an administrator may have changed the location where YouTrack stores these files.                The path to the current location of the database is stored in the <code class="code" data-lang="Java">data-dir</code> parameter in the <code class="code" data-lang="Java">%programdata%\JetBrains\YouTrack\conf\internal\bundle.properties</code> file.                You may also use copies of these directories that are stored in another location.</p></li><li class="list__item" id="8b990571">Copy the <code class="code" data-lang="Java">conf</code> directory and the <code class="code" data-lang="Java">hub</code> and <code class="code" data-lang="Java">youtrack</code> subdirectories of the <code class="code" data-lang="Java">data</code> directory.                Paste them into a single, empty directory.            <ul class="list _ul"><li class="list__item" id="420e83d2"><p>If your database is stored in the default location, you can copy these files from the location shown in the following image and structure the content of the new directory as shown on the right.                <figure><a class="lightbox" href="/help/img/youtrack/2017.2/restore-youtrack-msi-default-data-folder.zoomed.png"><img alt="restore youtrack msi default data folder" title="restore youtrack msi default data folder" src="/help/img/youtrack/2017.2/restore-youtrack-msi-default-data-folder.png" id="238bd7cb" width="519" height="347"></a></figure>                </p></li><li class="list__item" id="5988b1eb"><p>If your database is stored in another location, reference the <code class="code" data-lang="Java">bundle.properties</code> file to locate the data files and recreate the structure as shown on the right.                <figure><a class="lightbox" href="/help/img/youtrack/2017.2/restore-msi-non-default-data-folder.zoomed.png"><img alt="restore msi non default data folder" title="restore msi non default data folder" src="/help/img/youtrack/2017.2/restore-msi-non-default-data-folder.png" id="2440ff80" width="600" height="377"></a></figure>                </p></li></ul></li><li class="list__item" id="9ca244a7"><p>Compress the contents of the new directory into an archive file.            You can use any filename.</p></li><li class="list__item" id="de12b44e"><p>Make sure that the YouTrack service user (<code class="code" data-lang="Java">JetBrainsYouTrack</code>, by default) has full access to this directory where the archive file is stored.</p></li><li class="list__item" id="2492dbb1"><p>Uninstall YouTrack from the <span class="control">Windows Control Panel</span>.</p></li><li class="list__item" id="7050384d"><p>Install a YouTrack build that is the same version or later than the version of your database.</p></li><li class="list__item" id="78dd7c35"><p>In the <span class="control">Configuration Wizard</span>, select the <span class="control">Upgrade</span> option.</p></li><li class="list__item" id="c2b9958f"><p>On the <span class="control">Select Upgrade Source</span> page, select the archive file that you created in step 3, then click the <span class="control">Next</span> button.</p></li><li class="list__item" id="abd2ab3c">Confirm or change the locations where YouTrack stores product data. When done, click the <span class="control">Next</span> button.                <ul class="list _ul"><li class="list__item" id="ffcc38a9"><p>YouTrack starts with the data from the configuration and data files.</p></li></ul>            </li></ol></section>    </div><div class="last-modified" data-skip-index="skip">Last modified: 7 March 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="Restore-ZIP-Installation.html">Restore a ZIP Installation</a><a class="navigation-links__next" href="Restore-JAR-Installation.html">Restore a JAR Installation</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/help/app/app.js"></script></body></html>