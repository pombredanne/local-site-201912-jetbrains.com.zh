<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta name="robots" content="noindex"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/help/app/v2/analytics.js"></script><meta charset="UTF-8"><title>Streamline Issue Reporting - Help | YouTrack Standalone</title><link rel="stylesheet" href="/help/app/v2/app.css"></head><body data-id="streamline-issue-reporting-workflows"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search YouTrack Standalone Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>YouTrack Standalone 2018.4 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="false"><h1 data-toc="streamline-issue-reporting-workflows" id="streamline-issue-reporting-workflows.xml">Streamline Issue Reporting</h1>    <p id="dc93e1f8">You can set up a basic issue reporting process without workflows.        It all starts with the configuration of the custom fields in your projects.        For most custom fields, you can choose whether the field can or cannot be empty.</p>        <p id="6b02e5fa">If the field is cannot be empty, you must assign a default value in the configuration.            This value is automatically assigned to each issue that is reported in the project.            Moreover, you cannot clear the value of the field, only replace it with another value.</p>    <p id="f0f87678">By defining whether fields can or cannot be empty and setting default values accordingly, you can effectively set the starting point for new issues in your project.</p>    <p id="b40c4574">While field configuration options are useful, they have some limitations.        There are a number of use cases that are not addressed by empty values and default values:</p>    <ul class="list _ul"><li class="list__item" id="4513ff5d"><p>You want to require a value in the <span class="control">Due Date</span> field.          Fields that store simple values (like string, integer, float, date, or period) cannot store a default value.          In new issues, these fields are always empty.</p></li><li class="list__item" id="32bb983a"><p>You want reporters to set the value in a specific field without suggesting a default.          For example, you want to assign each task to a <span class="control">Subsystem</span>, but there isn’t a logical value that you would suggest as a default.</p></li><li class="list__item" id="ad1a35de"><p>You want to set default values dynamically.          For example, you always want the <span class="control">Due Date</span> to be two weeks from today.</p></li><li class="list__item" id="87e55a0d"><p>You want to provide your customers with a template for reporting issues.          The template contains predefined values for custom fields and a default description.</p></li><li class="list__item" id="a6d4707c"><p>As an extension of the previous case, you want to provide your customers with a collection of templates for issues in the same project.          Each template varies based on the value that is selected for a custom field value (like <span class="control">Type</span>) or can be applied to a draft using menu actions.</p></li></ul>        <p id="006501d8">Support for these use cases can be implemented with various workflow rules, some of which are already available as default workflows in YouTrack.</p>  <div class="chapter"><h2 id="make-field-mandatory" data-toc="streamline-issue-reporting-workflows#make-field-mandatory">Make a Field Mandatory</h2>    <p id="705a8919">The first case is about making simple fields mandatory for new issues. This case is addressed by the <code class="code" data-lang="Java">issue.fields.required(field, message)</code> method.      This method checks if the field is empty.      If it is, the current changes are rolled back and a message is shown to the reporter.      Check out the <code class="code" data-lang="Java">Require due dates for submitted issues</code> rule from the <a href="Workflow-Due-Date.html"><span>Due Date</span></a> workflow:</p>    <div class="code-block" data-lang="Javascript"><code class="code-block__wrapper"><span class="kd">var</span> <span class="nx">entities</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;@jetbrains/youtrack-scripting-api/entities&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">workflow</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;@jetbrains/youtrack-scripting-api/workflow&#39;</span><span class="p">);</span>

<span class="nx">exports</span><span class="p">.</span><span class="nx">rule</span> <span class="o">=</span> <span class="nx">entities</span><span class="p">.</span><span class="nx">Issue</span><span class="p">.</span><span class="nx">onChange</span><span class="p">({</span>
  <span class="nx">title</span><span class="o">:</span> <span class="nx">workflow</span><span class="p">.</span><span class="nx">i18n</span><span class="p">(</span><span class="s1">&#39;Require due dates for submitted issues&#39;</span><span class="p">),</span>
  <span class="nx">guard</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">ctx</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">ctx</span><span class="p">.</span><span class="nx">issue</span><span class="p">.</span><span class="nx">becomesReported</span><span class="p">;</span>
  <span class="p">},</span>
  <span class="nx">action</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">ctx</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">ctx</span><span class="p">.</span><span class="nx">issue</span><span class="p">.</span><span class="nx">fields</span><span class="p">.</span><span class="nx">required</span><span class="p">(</span><span class="nx">ctx</span><span class="p">.</span><span class="nx">DueDate</span><span class="p">,</span>
      <span class="nx">workflow</span><span class="p">.</span><span class="nx">i18n</span><span class="p">(</span><span class="s1">&#39;You must set the Due date!&#39;</span><span class="p">));</span>
  <span class="p">},</span>
  <span class="nx">requirements</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">DueDate</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">type</span><span class="o">:</span> <span class="nx">entities</span><span class="p">.</span><span class="nx">Field</span><span class="p">.</span><span class="nx">dateType</span><span class="p">,</span>
      <span class="nx">name</span><span class="o">:</span> <span class="s2">&quot;Due Date&quot;</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">});</span></code></div>  <aside class="note " data-title="Workflow Localization" rel="59b57079" id="910ee9d0"><br><br>    <p id="3ae5220f">Default workflows in YouTrack use the <code class="code" data-lang="Java">workflow.i18n(...)</code> method to localize workflow messages.      When you write your own workflows, you always know the language of your YouTrack installation, so you don’t need to use this method.</p>    <p id="94edad93">If you want to edit the messages in default workflows, remove this method and replace its usage with a plain string of message text.    For details, see <a href="Workflow-Localization.html"><span>Localization</span></a>.</p>  </aside>    <p id="100bf3dd">Note the guard in this rule.      This guard ensures that the check is only initiated once, after the reporter has filled in the issue content and attempts to create the issue.</p>      <p id="180a9991">If you want to make it so the value for this field cannot be removed for submitted issues, update the guard as follows:</p>    <div class="code-block" data-lang="Javascript"><code class="code-block__wrapper"><span class="nx">guard</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">ctx</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">ctx</span><span class="p">.</span><span class="nx">issue</span><span class="p">.</span><span class="nx">isReported</span><span class="p">;</span>
<span class="p">},</span></code></div>    <p id="3b5a7476">The use case for making reporters set the value in a specific field is solved with the same kind of rule.      Simply take a custom field that can be empty and check whether it is empty or not when a new issue is reported.      The <code class="code" data-lang="Java">issue.fields.required(field, message)</code> method works the same for all types of custom fields.</p>  </div>  <div class="chapter"><h2 id="set-dynamic-defaults" data-toc="streamline-issue-reporting-workflows#set-dynamic-defaults">Set Dynamic Defaults</h2>    <p id="6b78148f">You can use workflows to calculate the default value for a field automatically.      For example, the following rule sets the value for the Due date field to a date that is two weeks from the current date:</p>    <div class="code-block" data-lang="Javascript"><code class="code-block__wrapper"><span class="kd">var</span> <span class="nx">entities</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;@jetbrains/youtrack-scripting-api/entities&#39;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">WEEK_IN_MS</span> <span class="o">=</span> <span class="mi">7</span> <span class="o">*</span> <span class="mi">24</span> <span class="o">*</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">1000</span><span class="p">;</span>

<span class="nx">exports</span><span class="p">.</span><span class="nx">rule</span> <span class="o">=</span> <span class="nx">entities</span><span class="p">.</span><span class="nx">Issue</span><span class="p">.</span><span class="nx">onChange</span><span class="p">({</span>
  <span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;Set Due Date on issue submitting&#39;</span><span class="p">,</span>
  <span class="nx">guard</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">ctx</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">ctx</span><span class="p">.</span><span class="nx">issue</span><span class="p">.</span><span class="nx">becomesReported</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">ctx</span><span class="p">.</span><span class="nx">issue</span><span class="p">.</span><span class="nx">fields</span><span class="p">.</span><span class="nx">DueDate</span><span class="p">;</span>
  <span class="p">},</span>
  <span class="nx">action</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">ctx</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">ctx</span><span class="p">.</span><span class="nx">issue</span><span class="p">.</span><span class="nx">fields</span><span class="p">.</span><span class="nx">DueDate</span> <span class="o">=</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">()</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="nx">WEEK_IN_MS</span><span class="p">;</span>
  <span class="p">},</span>
  <span class="nx">requirements</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">DueDate</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">type</span><span class="o">:</span> <span class="nx">entities</span><span class="p">.</span><span class="nx">Field</span><span class="p">.</span><span class="nx">dateType</span><span class="p">,</span>
      <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;Due Date&#39;</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">});</span></code></div>  </div>  <div class="chapter"><h2 id="build-issue-templates" data-toc="streamline-issue-reporting-workflows#build-issue-templates">Build Issue Templates</h2>    <p id="84112fc3">Another popular case that is supported by one of the default workflows adds a default description to new issues.      Here is how it is implemented in our <a href="Workflow-Default-Description.html"><span>Default Description</span></a> workflow:</p>    <div class="code-block" data-lang="Javascript"><code class="code-block__wrapper"><span class="kd">var</span> <span class="nx">entities</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;@jetbrains/youtrack-scripting-api/entities&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">workflow</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;@jetbrains/youtrack-scripting-api/workflow&#39;</span><span class="p">);</span>

<span class="nx">exports</span><span class="p">.</span><span class="nx">rule</span> <span class="o">=</span> <span class="nx">entities</span><span class="p">.</span><span class="nx">Issue</span><span class="p">.</span><span class="nx">onChange</span><span class="p">({</span>
  <span class="nx">title</span><span class="o">:</span> <span class="nx">workflow</span><span class="p">.</span><span class="nx">i18n</span><span class="p">(</span><span class="s1">&#39;Insert default description template for external users&#39;</span><span class="p">),</span>
  <span class="nx">guard</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">ctx</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">issue</span> <span class="o">=</span> <span class="nx">ctx</span><span class="p">.</span><span class="nx">issue</span><span class="p">;</span>
    <span class="k">return</span> <span class="o">!</span><span class="nx">issue</span><span class="p">.</span><span class="nx">isReported</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">issue</span><span class="p">.</span><span class="nx">becomesReported</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">issue</span><span class="p">.</span><span class="nx">description</span><span class="p">;</span>
  <span class="p">},</span>
  <span class="nx">action</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">ctx</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">ctx</span><span class="p">.</span><span class="nx">issue</span><span class="p">.</span><span class="nx">description</span> <span class="o">=</span>
      <span class="nx">workflow</span><span class="p">.</span><span class="nx">i18n</span><span class="p">(</span><span class="s1">&#39;What steps will reproduce the problem?&#39;</span><span class="p">)</span> <span class="o">+</span>
      <span class="s2">&quot;\n1.\n2.\n3.\n\n&quot;</span> <span class="o">+</span>
      <span class="nx">workflow</span><span class="p">.</span><span class="nx">i18n</span><span class="p">(</span><span class="s2">&quot;What is the expected result?&quot;</span><span class="p">)</span> <span class="o">+</span>
      <span class="s2">&quot;\n\n&quot;</span> <span class="o">+</span>
      <span class="nx">workflow</span><span class="p">.</span><span class="nx">i18n</span><span class="p">(</span><span class="s2">&quot;What happens instead?&quot;</span><span class="p">)</span> <span class="o">+</span>
      <span class="s2">&quot;\n\n&quot;</span> <span class="o">+</span>
      <span class="nx">workflow</span><span class="p">.</span><span class="nx">i18n</span><span class="p">(</span><span class="s2">&quot;Please provide any additional information below.&quot;</span><span class="p">)</span> <span class="o">+</span>
      <span class="s2">&quot;\n&quot;</span> <span class="o">+</span>
      <span class="nx">workflow</span><span class="p">.</span><span class="nx">i18n</span><span class="p">(</span><span class="s2">&quot;Attach a screenshot if possible&quot;</span><span class="p">)</span> <span class="o">+</span>
      <span class="s2">&quot;\n&quot;</span><span class="p">;</span>
  <span class="p">},</span>
  <span class="nx">requirements</span><span class="o">:</span> <span class="p">{}</span>
<span class="p">});</span></code></div>    <p id="2e5a38f8">This workflow rule sets the default description for each new issue.      This rule is triggered as soon as the reporter edits any value in the new issue, for example, typing a summary or changing the project.      Due to technical limitations, this rule can’t be applied at the moment when the <span class="control">New Issue</span> page opens.</p>      <p id="2b6f1fd7">You can extend this workflow to let reporters choose between different templates without filling in a lot of data manually.        For example, you can use different templates for feature requests and bug reports:</p>    <ul class="list _ul"><li class="list__item" id="ca88b88f"><p>For bug reports, you require the steps to reproduce (STR) in the description.</p></li><li class="list__item" id="a0bff47f"><p>For features, you require the suggestion and motivation (what and why). You also want to set the value for the <span class="control">Fix versions</span> field to <span class="control">Backlog</span>.</p></li></ul>    <p id="41f7950c">For this case, the easiest approach consists of two parts:</p>    <ul class="list _ul"><li class="list__item" id="861750b8"><p>Make the <span class="control">Type</span> field empty by default.</p></li><li class="list__item" id="4860d0cf"><p>Force setting the value for the <span class="control">Type</span> field when the reporter starts to create an issue:        <div class="code-block" data-lang="Javascript"><code class="code-block__wrapper"><span class="kd">var</span> <span class="nx">entities</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;@jetbrains/youtrack-scripting-api/entities&#39;</span><span class="p">);</span>

<span class="nx">exports</span><span class="p">.</span><span class="nx">rule</span> <span class="o">=</span> <span class="nx">entities</span><span class="p">.</span><span class="nx">Issue</span><span class="p">.</span><span class="nx">onChange</span><span class="p">({</span>
  <span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;Choose Type when new issue is created&#39;</span><span class="p">,</span>
  <span class="nx">guard</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">ctx</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">issue</span> <span class="o">=</span> <span class="nx">ctx</span><span class="p">.</span><span class="nx">issue</span><span class="p">;</span>
    <span class="k">return</span> <span class="o">!</span><span class="nx">issue</span><span class="p">.</span><span class="nx">isReported</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">issue</span><span class="p">.</span><span class="nx">becomesReported</span> <span class="o">&amp;&amp;</span>
      <span class="o">!</span><span class="nx">issue</span><span class="p">.</span><span class="nx">fields</span><span class="p">.</span><span class="nx">Type</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">issue</span><span class="p">.</span><span class="nx">isChanged</span><span class="p">(</span><span class="s1">&#39;project&#39;</span><span class="p">);</span>
  <span class="p">},</span>
  <span class="nx">action</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">ctx</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">ctx</span><span class="p">.</span><span class="nx">issue</span><span class="p">.</span><span class="nx">fields</span><span class="p">.</span><span class="nx">required</span><span class="p">(</span><span class="nx">ctx</span><span class="p">.</span><span class="nx">Type</span><span class="p">,</span> <span class="s1">&#39;Please choose issue Type before editing!&#39;</span><span class="p">);</span>
  <span class="p">},</span>
  <span class="nx">requirements</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">Type</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">type</span><span class="o">:</span> <span class="nx">entities</span><span class="p">.</span><span class="nx">EnumField</span><span class="p">.</span><span class="nx">fieldType</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">});</span></code></div>      </p></li><li class="list__item" id="4ba56668"><p>Add a rule which sets the values based on the selection in the <span class="control">Type</span> field:        <div class="code-block" data-lang="Javascript"><code class="code-block__wrapper"><span class="kd">var</span> <span class="nx">entities</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;@jetbrains/youtrack-scripting-api/entities&#39;</span><span class="p">);</span>

<span class="nx">exports</span><span class="p">.</span><span class="nx">rule</span> <span class="o">=</span> <span class="nx">entities</span><span class="p">.</span><span class="nx">Issue</span><span class="p">.</span><span class="nx">onChange</span><span class="p">({</span>
  <span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;Set issue template based on Type&#39;</span><span class="p">,</span>
  <span class="nx">guard</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">ctx</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">issue</span> <span class="o">=</span> <span class="nx">ctx</span><span class="p">.</span><span class="nx">issue</span><span class="p">;</span>
    <span class="k">return</span> <span class="o">!</span><span class="nx">issue</span><span class="p">.</span><span class="nx">isReported</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">issue</span><span class="p">.</span><span class="nx">becomesReported</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">issue</span><span class="p">.</span><span class="nx">description</span> <span class="o">&amp;&amp;</span>
      <span class="nx">issue</span><span class="p">.</span><span class="nx">fields</span><span class="p">.</span><span class="nx">isChanged</span><span class="p">(</span><span class="nx">ctx</span><span class="p">.</span><span class="nx">Type</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">issue</span><span class="p">.</span><span class="nx">fields</span><span class="p">.</span><span class="nx">oldValue</span><span class="p">(</span><span class="nx">ctx</span><span class="p">.</span><span class="nx">Type</span><span class="p">);</span>
  <span class="p">},</span>
  <span class="nx">action</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">ctx</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">issue</span> <span class="o">=</span> <span class="nx">ctx</span><span class="p">.</span><span class="nx">issue</span><span class="p">;</span>

    <span class="kd">var</span> <span class="nx">typeIs</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="nx">issue</span><span class="p">.</span><span class="nx">fields</span><span class="p">.</span><span class="nx">Type</span><span class="p">.</span><span class="nx">name</span> <span class="o">===</span> <span class="nx">value</span><span class="p">.</span><span class="nx">name</span><span class="p">;</span>
    <span class="p">};</span>

    <span class="k">if</span> <span class="p">(</span><span class="nx">typeIs</span><span class="p">(</span><span class="nx">ctx</span><span class="p">.</span><span class="nx">Type</span><span class="p">.</span><span class="nx">Bug</span><span class="p">))</span> <span class="p">{</span>
      <span class="nx">issue</span><span class="p">.</span><span class="nx">description</span> <span class="o">=</span>
        <span class="s1">&#39;What steps will reproduce the problem?&#39;</span> <span class="o">+</span>
        <span class="s1">&#39;\n1.\n2.\n3.\n\n&#39;</span> <span class="o">+</span>
        <span class="s1">&#39;What is the expected result?\n\n&#39;</span> <span class="o">+</span>
        <span class="s1">&#39;What happens instead?\n&#39;</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">typeIs</span><span class="p">(</span><span class="nx">ctx</span><span class="p">.</span><span class="nx">Type</span><span class="p">.</span><span class="nx">Feature</span><span class="p">))</span> <span class="p">{</span>
      <span class="nx">issue</span><span class="p">.</span><span class="nx">description</span> <span class="o">=</span>
        <span class="s1">&#39;What should be implemented?\n\n&#39;</span> <span class="o">+</span>
        <span class="s1">&#39;Why is this functionality required?\n&#39;</span><span class="p">;</span>
      <span class="nx">issue</span><span class="p">.</span><span class="nx">fields</span><span class="p">.</span><span class="nx">FixVersions</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">ctx</span><span class="p">.</span><span class="nx">FixVersions</span><span class="p">.</span><span class="nx">Backlog</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="nx">requirements</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">Type</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">type</span><span class="o">:</span> <span class="nx">entities</span><span class="p">.</span><span class="nx">EnumField</span><span class="p">.</span><span class="nx">fieldType</span><span class="p">,</span>
      <span class="nx">Bug</span><span class="o">:</span> <span class="p">{},</span>
      <span class="nx">Feature</span><span class="o">:</span> <span class="p">{}</span>
    <span class="p">},</span>
    <span class="nx">FixVersions</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">type</span><span class="o">:</span> <span class="nx">entities</span><span class="p">.</span><span class="nx">ProjectVersion</span><span class="p">.</span><span class="nx">fieldType</span><span class="p">,</span>
      <span class="nx">multi</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
      <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;Fix versions&#39;</span><span class="p">,</span>
      <span class="nx">Backlog</span><span class="o">:</span> <span class="p">{}</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">});</span></code></div>      </p></li></ul>  </div>  <div class="chapter"><h2 id="add-templates-to-actions-menu" data-toc="streamline-issue-reporting-workflows#add-templates-to-actions-menu">Add Templates to the Actions Menu</h2>    <p id="f871b96c">Another way to support this use case is to provide a list of templates in the form of actions.      Action rules are a special type of workflow rule.      Each action rule is associated with a command and an item in the list of actions that are shown in the <span class="control">Command Dialog</span> drop-down menu.      These rules are triggered when the user executes the command or clicks the corresponding item.      For details, see <a href="Workflow-Rules.html#action-rules"><span>Action Rules</span></a>.</p>    <p id="c6f2f1ea">Here’s a sample action rule for the feature request template:</p>    <div class="code-block" data-lang="Javascript"><code class="code-block__wrapper"><span class="kd">var</span> <span class="nx">entities</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;@jetbrains/youtrack-scripting-api/entities&#39;</span><span class="p">);</span>

<span class="nx">exports</span><span class="p">.</span><span class="nx">rule</span> <span class="o">=</span> <span class="nx">entities</span><span class="p">.</span><span class="nx">Issue</span><span class="p">.</span><span class="nx">action</span><span class="p">({</span>
  <span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;Feature template&#39;</span><span class="p">,</span>
  <span class="nx">command</span><span class="o">:</span> <span class="s1">&#39;feature-template&#39;</span><span class="p">,</span>
  <span class="nx">guard</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">ctx</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">issue</span> <span class="o">=</span> <span class="nx">ctx</span><span class="p">.</span><span class="nx">issue</span><span class="p">;</span>
    <span class="k">return</span> <span class="o">!</span><span class="nx">issue</span><span class="p">.</span><span class="nx">isReported</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">issue</span><span class="p">.</span><span class="nx">becomesReported</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">issue</span><span class="p">.</span><span class="nx">description</span><span class="p">;</span>
  <span class="p">},</span>
  <span class="nx">action</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">ctx</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">issue</span> <span class="o">=</span> <span class="nx">ctx</span><span class="p">.</span><span class="nx">issue</span><span class="p">;</span>
    <span class="nx">issue</span><span class="p">.</span><span class="nx">description</span> <span class="o">=</span>
      <span class="s1">&#39;What should be implemented?\n\n&#39;</span> <span class="o">+</span>
      <span class="s1">&#39;Why is this functionality required?\n&#39;</span><span class="p">;</span>
    <span class="nx">issue</span><span class="p">.</span><span class="nx">fields</span><span class="p">.</span><span class="nx">Type</span> <span class="o">=</span> <span class="nx">ctx</span><span class="p">.</span><span class="nx">Type</span><span class="p">.</span><span class="nx">Feature</span><span class="p">;</span>
    <span class="nx">issue</span><span class="p">.</span><span class="nx">fields</span><span class="p">.</span><span class="nx">FixVersions</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">ctx</span><span class="p">.</span><span class="nx">FixVersions</span><span class="p">.</span><span class="nx">Backlog</span><span class="p">);</span>
  <span class="p">},</span>
  <span class="nx">requirements</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">Type</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">type</span><span class="o">:</span> <span class="nx">entities</span><span class="p">.</span><span class="nx">EnumField</span><span class="p">.</span><span class="nx">fieldType</span><span class="p">,</span>
      <span class="nx">Feature</span><span class="o">:</span> <span class="p">{}</span>
    <span class="p">},</span>
    <span class="nx">FixVersions</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">type</span><span class="o">:</span> <span class="nx">entities</span><span class="p">.</span><span class="nx">ProjectVersion</span><span class="p">.</span><span class="nx">fieldType</span><span class="p">,</span>
      <span class="nx">multi</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
      <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;Fix versions&#39;</span><span class="p">,</span>
      <span class="nx">Backlog</span><span class="o">:</span> <span class="p">{}</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">});</span></code></div>    <p id="563147de">To make reporters select a template, first check if the description is empty.      If so, suggest that they choose a template from the menu.</p>    <div class="code-block" data-lang="Javascript"><code class="code-block__wrapper"><span class="kd">var</span> <span class="nx">entities</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;@jetbrains/youtrack-scripting-api/entities&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">workflow</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;@jetbrains/youtrack-scripting-api/workflow&#39;</span><span class="p">);</span>

<span class="nx">exports</span><span class="p">.</span><span class="nx">rule</span> <span class="o">=</span> <span class="nx">entities</span><span class="p">.</span><span class="nx">Issue</span><span class="p">.</span><span class="nx">onChange</span><span class="p">({</span>
  <span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;Choose a template when new issue is created&#39;</span><span class="p">,</span>
  <span class="nx">guard</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">ctx</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">issue</span> <span class="o">=</span> <span class="nx">ctx</span><span class="p">.</span><span class="nx">issue</span><span class="p">;</span>
    <span class="k">return</span> <span class="o">!</span><span class="nx">issue</span><span class="p">.</span><span class="nx">isReported</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">issue</span><span class="p">.</span><span class="nx">becomesReported</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">issue</span><span class="p">.</span><span class="nx">description</span><span class="p">;</span>
  <span class="p">},</span>
  <span class="nx">action</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">ctx</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">workflow</span><span class="p">.</span><span class="nx">check</span><span class="p">(</span><span class="kc">false</span><span class="p">,</span> <span class="s1">&#39;Please, choose one of templates in action menu!&#39;</span><span class="p">);</span>
  <span class="p">},</span>
  <span class="nx">requirements</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">Type</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">type</span><span class="o">:</span> <span class="nx">entities</span><span class="p">.</span><span class="nx">EnumField</span><span class="p">.</span><span class="nx">fieldType</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">});</span></code></div>    <p id="d3d4272a">The field-based approach is better for simple cases.      When you have complex templates that are defined by a combination of field values, use the action-based approach.</p>  </div><div class="last-modified" data-skip-index="skip">Last modified: 8 March 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="prevent-unwanted-updates-workflows.html">Prevent Unwanted Updates</a><a class="navigation-links__next" href="generate-issues-automatically-workflows.html">Generate Issues Automatically</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/help/app/v2/app.js"></script></body></html>