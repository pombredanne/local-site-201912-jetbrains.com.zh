<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta name="robots" content="noindex"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/help/app/v2/analytics.js"></script><meta charset="UTF-8"><title>Restore a JAR Installation - Help | YouTrack Standalone</title><link rel="stylesheet" href="/help/app/v2/app.css"></head><body data-id="Restore-JAR-Installation"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search YouTrack Standalone Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>YouTrack Standalone 2018.4 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="false"><h1 data-toc="Restore-JAR-Installation" id="Restore-JAR-Installation.xml">Restore a JAR Installation</h1>    <aside class="note " data-title="Note" rel="Restore-JAR-Installation.xml" id="cd637ac3"><br><br>        <p id="113856a0">To restore your database from a backup successfully, the version of the backup file should be the same or earlier than the version of YouTrack to which you restore this database.</p>    </aside>    <p id="a7efe057">Before you begin, make sure you have a backup copy of the database that you want to restore.        Note the location of the backup copy so you are sure to select the correct file during this procedure.</p>    <p id="111b8996">If you don't have valid backup files or your backup files are out of date, follow the instructions to <a href="#restore-without-database-backup">Restore the Current Version Without a Database Backup</a>.</p>    <ul class="list _ul"><li class="list__item" id="6a59c57f"><p>If you're rolling back to the previous installation version after an unsuccessful upgrade, use the backup that you created prior to installation.            If you ignored this prerequisite, locate an archived backup file in the directory that is set as the <span class="control">Backup location</span> that corresponds with the version of your previous installation.</p></li><li class="list__item" id="fd3a3f69"><p>If you're attempting to restore the current installation, locate&nbsp;an archived&nbsp;backup file in the directory that is set as the <span class="control">Backup location</span> that corresponds with the current version of your installation.</p></li></ul>    <div class="chapter"><h2 id="restore-from-database-backup" data-toc="Restore-JAR-Installation#restore-from-database-backup">Restore an Installation from a Backup Copy of Your Database</h2>        <p id="bff762d0">To restore your database to the current or previous version, you need to remove your current database and replace it with a copy of the database that you want to restore to.</p>        <p id="48cac7f6">When you restore to a previous version of YouTrack, use a backup that corresponds to the version of the product that you want to restore.            To successfully restore to the previous version, this backup file must not have been used as an upgrade source for the installation of a later version of the product.</p>        <section class="procedure-steps"><h2 id="e17aaa9c">To restore your database from a backup:</h2><aside class="tip sideblock" data-title="Permissions" rel="e17aaa9c" id="c0e961eb"><br><br>                <p id="f97dd31f"><img alt="Icon globe" title="Icon globe" src="/help/img/youtrack/2018.4/iconGlobe.png" id="47e39cb8" width="14" height="15" class="inline-icon-14"> Low-level Admin Read</p>                <p id="6d267626"><img alt="Icon globe" title="Icon globe" src="/help/img/youtrack/2018.4/iconGlobe.png" id="2b803ae5" width="14" height="15" class="inline-icon-14"> Low-level Admin Write</p>            </aside><ol class="list _decimal"><li class="list__item" id="7c531acd"><p>Stop the YouTrack service. For details, see <a href="start-stop-jar.html#stop-jar">Stop                JAR Distribution</a>.</p></li><li class="list__item" id="f0d0ec38"><p id="59354e69">Remove all of the content from the database location directory.                By default, the database is located in the <code class="code" data-lang="Java">${user.home}/teamsysdata</code> folder for the user                account that runs the YouTrack service.</p>                <p id="884e2056">An administrator may have changed the default database location. For more information, see <a href="Changing-Database-Location.html"><span>Change Database Location</span></a>. You can also find the actual location of the                    database as follows:</p>                <ol class="list _decimal"><li class="list__item" id="8ae0f9bd"><p>Open the <code class="code" data-lang="Java">${user.home}/.youtrack/app/internal/conf/installation.xml</code> file.</p></li><li class="list__item" id="b4c13c0b"><p>In the file, find the <code class="code" data-lang="Java">conf-location</code> property that defines a path to the                        <code class="code" data-lang="Java">conf</code> subfolder of                        the <code class="code" data-lang="Java">data</code> directory. Thus, the database location of your service is a path to the                        parent <code class="code" data-lang="Java">data</code> directory of the <code class="code" data-lang="Java">conf-location</code>.</p></li></ol>            </li><li class="list__item" id="168b85fd"><p>Extract the downloaded backup file to the <code class="code" data-lang="Java">${user.home}/teamsysdata</code> folder.</p></li><li class="list__item" id="b54f593e"><p>Make sure that your YouTrack service user has read/write ("rw") permissions for the unpacked files.</p></li><li class="list__item" id="71340929">Run the JAR file that corresponds with the version of your YouTrack database.                <ul class="list _ul"><li class="list__item" id="5ca249e5"><p>YouTrack starts with the data from the backup file.</p></li></ul>            </li></ol></section>    </div>    <div class="chapter"><h2 id="restore-without-database-backup" data-toc="Restore-JAR-Installation#restore-without-database-backup">Restore the Current Version Without a Database Backup</h2>        <p id="fd68be46">There are a few cases where you are unable to restore you installation from backup.</p>        <ul class="list _ul"><li class="list__item" id="e3784832"><p>Your backup files are missing or out of date.</p></li><li class="list__item" id="5b39495c"><p>The backup files on your server became corrupted and are unusable.</p></li></ul>        <p id="3a333ade">You may also want to follow this procedure when, for example, you were able to recover your data following a server crash and there is information that was recorded in YouTrack that is not in your most recent backup files.</p>        <p id="1672a4b6">You can attempt to restore the current version of your installation using a valid copy of your database.            This restoration procedure is only successful when your database files are not corrupted.            You can restore to an earlier version of YouTrack only when you have copies of files that have never been used to start a later version of the product.</p>        <section class="procedure-steps"><h2 id="b627854c">To restore your database without a backup:</h2><aside class="tip sideblock" data-title="Permissions" rel="b627854c" id="7fa54ce7"><br><br>                <p id="23b80ae5"><img alt="Icon globe" title="Icon globe" src="/help/img/youtrack/2018.4/iconGlobe.png" id="e93e8313" width="14" height="15" class="inline-icon-14"> Low-level Admin Read</p>                <p id="0ff9591b"><img alt="Icon globe" title="Icon globe" src="/help/img/youtrack/2018.4/iconGlobe.png" id="fb7d7e7b" width="14" height="15" class="inline-icon-14"> Low-level Admin Write</p>            </aside><ol class="list _decimal"><li class="list__item" id="b5e0b204"><p>Locate the most recent copies of database.                The default location of the directories is in the <code class="code" data-lang="Java">${user.home}/teamsysdata</code> folder for the user account that runs the YouTrack service.<br>                Note that an administrator may have changed the location where YouTrack stores these files.                You may also use copies of these directories that are stored in another location.</p></li><li class="list__item" id="ce8f171b"><p>Stop the YouTrack service.</p></li><li class="list__item" id="2a3d9b4e"><p>Remove all of the content from the database location directory.</p></li><li class="list__item" id="7cd7750b"><p>Move the copy of your database to the <code class="code" data-lang="Java">${user.home}/teamsysdata</code> folder.</p></li><li class="list__item" id="ef97543b"><p>Make sure that your YouTrack service user has read/write ("rw") permissions for this folder.</p></li><li class="list__item" id="c20659fd">Run the JAR file that corresponds with the version of your YouTrack database.                <ul class="list _ul"><li class="list__item" id="c3eca4b5"><p>YouTrack starts with the data that was copied to the database location directory.</p></li></ul>            </li></ol></section>    </div><div class="last-modified" data-skip-index="skip">Last modified: 8 March 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="start-stop-jar.html">Start and Stop a JAR Distribution</a><a class="navigation-links__next" href="Install-YouTrack-JAR-as-Service-OS-X.html">Install YouTrack JAR as a Service on macOS</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/help/app/v2/app.js"></script></body></html>