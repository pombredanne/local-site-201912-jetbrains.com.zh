<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta name="robots" content="noindex"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/help/app/v2/analytics.js"></script><meta charset="UTF-8"><title>Configure Built-in TLS in Command Line - Help | YouTrack Standalone</title><link rel="stylesheet" href="/help/app/v2/app.css"></head><body data-id="server-tls-from-command-line"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search YouTrack Standalone Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>YouTrack Standalone 2018.4 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="false"><h1 data-toc="server-tls-from-command-line" id="configure-server-tls-from-command-line.xml">Configure Built-in TLS in Command Line</h1>    <div class="chapter"><h2 id="ba34a74b" data-toc="server-tls-from-command-line#ba34a74b">Configuring TLS in your current YouTrack installation</h2>        <aside class="note " data-title="" rel="ba34a74b" id="8ccfba94">            <p id="80e1cf62">All commands listed here are for Linux or macOS. If you're working on a Windows server, simply                replace <code class="code" data-lang="Console">.sh</code> with <code class="code" data-lang="Java">.bat</code>. For macOS or Linux, please make sure                to start YouTrack as a non-root user.            </p>        </aside>        <p id="d33c7985">            Using the command line, you can switch between the following secure mode configurations:        </p>        <ul class="list _ul"><li class="list__item" id="5528d065"><p>                HTTP — default HTTP mode. TLS is disabled            </p></li><li class="list__item" id="3fa10622"><p>                HTTPS(keystore) — secure HTTPS mode. TLS is enabled. The private key/certificate data is stored in                a keystore file.            </p></li><li class="list__item" id="fe718750"><p>                HTTPS(privateKeyAndCert) — secure HTTPS mode. TLS is enabled. The private key, certificate, and                certificate chain(optional) are stored in separate files in the PEM format.            </p></li></ul>        <p id="d68c07c4">To switch to a desired mode, you need to stop YouTrack and run the <code class="code" data-lang="Java">configure</code> command defining all the        properties required for the configuration of your choice.        See below for detailed instructions and a complete list of the <a href="#configure-properties">properties</a> for            each configuration.</p>        <aside class="note " data-title="" rel="d68c07c4" id="4e0b2621">            <p id="dbf01dac">If the server base URL is expected to be changed as a result of switching between HTTP/HTTPS modes, you                must specify the new base URL: Add the parameter <code class="code" data-lang="Java">--base-url=&lt;new base URL&gt;</code> to                the <code class="code" data-lang="Java">configure</code> command.            </p>        </aside>        <section class="procedure-steps"><h2 id="procedure-switch-to-http">To switch to the HTTP mode:</h2><ol class="list _decimal"><li class="list__item" id="42d72107">                <p id="9726d845">Stop YouTrack:                    <code class="code" data-lang="Java">&lt;youtrack_home&gt;/bin/youtrack.sh stop</code>                </p>            </li><li class="list__item" id="be8986ce">                <p id="e95eb9a2">Enter the following command:                    <div class="code-block" data-lang="Java"><code class="code-block__wrapper"><span class="o">&lt;</span><span class="n">youtrack_home</span><span class="o">&gt;/</span><span class="n">bin</span><span class="o">/</span><span class="n">youtrack</span><span class="o">.</span><span class="na">sh</span> <span class="n">configure</span> <span class="o">--</span><span class="n">listen</span><span class="o">-</span><span class="n">port</span><span class="o">=</span><span class="mi">8080</span> <span class="o">--</span><span class="n">secure</span><span class="o">-</span><span class="n">mode</span><span class="o">=</span><span class="n">disable</span></code></div>                </p>            </li><li class="list__item" id="67c68bae">                    <p id="cbd9c60f">Start YouTrack:                        <code class="code" data-lang="Java">&lt;youtrack_home&gt;/bin/youtrack.sh start</code>                    </p>            </li></ol></section>        <section class="procedure-steps"><h2 id="HTTPS-keystore">To switch to the HTTPS (keystore) mode:</h2><ol class="list _decimal"><li class="list__item" id="815254d4">                <p id="29676699">Create a temporary folder and place the file <code class="code" data-lang="Java">keystore.jks</code> containing the server's                    private key and certificate in that folder.                </p>            </li><li class="list__item" id="18e7acfd">                <p id="8299ff54">Stop YouTrack:                    <code class="code" data-lang="Java">&lt;youtrack_home&gt;/bin/youtrack.sh stop</code>                </p>            </li><li class="list__item" id="7b24c98f">                <p id="ff9e228c">Run the following command:                    <div class="code-block" data-lang="Java"><code class="code-block__wrapper"><span class="o">&lt;</span><span class="n">youtrack_home</span><span class="o">&gt;/</span><span class="n">bin</span><span class="o">/</span><span class="n">youtrack</span><span class="o">.</span><span class="na">sh</span> <span class="n">configure</span> <span class="o">--</span><span class="n">listen</span><span class="o">-</span><span class="n">port</span><span class="o">=</span><span class="mi">443</span> <span class="o">--</span><span class="n">secure</span><span class="o">-</span><span class="n">mode</span><span class="o">=</span><span class="n">tls</span> <span class="o">--</span><span class="n">tls</span><span class="o">-</span><span class="n">server</span><span class="o">-</span><span class="n">cert</span><span class="o">-</span><span class="n">storage</span><span class="o">-</span><span class="n">type</span><span class="o">=</span><span class="n">keystore</span> <span class="o">--</span><span class="n">tls</span><span class="o">-</span><span class="n">server</span><span class="o">-</span><span class="n">cert</span><span class="o">-</span><span class="n">folder</span><span class="o">=&lt;</span><span class="n">folder</span> <span class="n">with</span> <span class="n">file</span> <span class="n">keystore</span><span class="o">.</span><span class="na">jks</span><span class="o">&gt;</span> <span class="o">--</span><span class="n">tls</span><span class="o">-</span><span class="n">server</span><span class="o">-</span><span class="n">cert</span><span class="o">-</span><span class="n">keystore</span><span class="o">-</span><span class="n">password</span><span class="o">=&lt;</span><span class="n">keystore</span> <span class="n">password</span><span class="o">&gt;</span> <span class="o">--</span><span class="n">tls</span><span class="o">-</span><span class="n">server</span><span class="o">-</span><span class="n">cert</span><span class="o">-</span><span class="n">keystore</span><span class="o">-</span><span class="n">key</span><span class="o">-</span><span class="n">alias</span><span class="o">=&lt;</span><span class="kd">private</span> <span class="n">key</span> <span class="n">entry</span> <span class="n">alias</span><span class="o">&gt;</span> <span class="o">--</span><span class="n">tls</span><span class="o">-</span><span class="n">server</span><span class="o">-</span><span class="n">cert</span><span class="o">-</span><span class="kd">private</span><span class="o">-</span><span class="n">key</span><span class="o">-</span><span class="n">passphrase</span><span class="o">=&lt;</span><span class="kd">private</span> <span class="n">key</span> <span class="n">entry</span> <span class="n">password</span><span class="o">&gt;</span> <span class="o">--</span><span class="n">tls</span><span class="o">-</span><span class="n">redirect</span><span class="o">-</span><span class="n">from</span><span class="o">-</span><span class="n">http</span><span class="o">=&lt;[</span><span class="kc">true</span><span class="o">|</span><span class="kc">false</span><span class="o">]&gt;</span> <span class="o">[--</span><span class="n">tls</span><span class="o">-</span><span class="n">redirect</span><span class="o">-</span><span class="n">from</span><span class="o">-</span><span class="n">http</span><span class="o">-</span><span class="n">listen</span><span class="o">-</span><span class="n">port</span><span class="o">=</span><span class="mi">8080</span><span class="o">]</span></code></div>                </p>            </li><li class="list__item" id="3b0dfe09">                <p id="ddcfd36e">Start YouTrack:                    <code class="code" data-lang="Java">&lt;youtrack_home&gt;/bin/youtrack.sh start</code>                </p>            </li></ol></section>        <aside class="tip sideblock" data-title="" rel="HTTPS-keystore" id="bdff250b">            <p id="8e461c7f">You can also use these procedures if you have already configured HTTPS and simply want to apply new                private key/certificate to the server.            </p>        </aside>        <section class="procedure-steps"><h2 id="HTTPS-privateKeyAndCert">To switch to the HTTPS (privateKeyAndCert) mode:</h2><ol class="list _decimal"><li class="list__item" id="83713e63">                <p id="1a325a4e">Create a temporary folder (let's call it <code class="code" data-lang="Java">&lt;certificates_folder&gt;</code>) to store the files                    with private key, certificate, and certificate chain (if any).                </p>            </li><li class="list__item" id="08f16c6d">                <p id="f22c5b09">Place the private key (in the PEM format) into file <code class="code" data-lang="Java">&lt;certificates_folder&gt;/privateKey.pem</code>.                </p>            </li><li class="list__item" id="ce508b73">                <p id="fc51c697">Place the server certificate (in the PEM format) associated with the private key into the file <code class="code" data-lang="Java">&lt;certificates_folder&gt;/certificate.crt</code>.                </p>            </li><li class="list__item" id="cfd459f6">                <p id="41739cbe">If you have a certificate chain for signing the server's certificate (in the PEM format), place it                    into the file <code class="code" data-lang="Java">&lt;certificates_folder&gt;/certificateChain.crt</code>.                </p>            </li><li class="list__item" id="86eec5e4">                <p id="90c91a34">Stop YouTrack:                    <code class="code" data-lang="Java">&lt;youtrack_home&gt;/bin/youtrack.sh stop</code>                </p>            </li><li class="list__item" id="8d5375da"><p>                Run the following command:                    <div class="code-block" data-lang="Java"><code class="code-block__wrapper"><span class="o">&lt;</span><span class="n">youtrack_home</span><span class="o">&gt;/</span><span class="n">bin</span><span class="o">/</span><span class="n">youtrack</span><span class="o">.</span><span class="na">sh</span> <span class="n">configure</span> <span class="o">--</span><span class="n">listen</span><span class="o">-</span><span class="n">port</span><span class="o">=</span><span class="mi">443</span> <span class="o">--</span><span class="n">secure</span><span class="o">-</span><span class="n">mode</span><span class="o">=</span><span class="n">tls</span> <span class="err">\</span>
<span class="o">--</span><span class="n">tls</span><span class="o">-</span><span class="n">server</span><span class="o">-</span><span class="n">cert</span><span class="o">-</span><span class="n">storage</span><span class="o">-</span><span class="n">type</span><span class="o">=</span><span class="n">privateKeyAndCert</span> <span class="o">--</span><span class="n">tls</span><span class="o">-</span><span class="n">server</span><span class="o">-</span><span class="n">cert</span><span class="o">-</span><span class="n">folder</span><span class="o">=&lt;</span><span class="n">certificates_folder</span><span class="o">&gt;</span> <span class="err">\</span>
<span class="o">--</span><span class="n">tls</span><span class="o">-</span><span class="n">redirect</span><span class="o">-</span><span class="n">from</span><span class="o">-</span><span class="n">http</span><span class="o">=&lt;[</span><span class="kc">true</span><span class="o">|</span><span class="kc">false</span><span class="o">]&gt;</span> <span class="o">[--</span><span class="n">tls</span><span class="o">-</span><span class="n">redirect</span><span class="o">-</span><span class="n">from</span><span class="o">-</span><span class="n">http</span><span class="o">-</span><span class="n">listen</span><span class="o">-</span><span class="n">port</span><span class="o">=</span><span class="mi">8080</span><span class="o">]</span></code></div>                If the private key is encrypted, also add the <code class="code" data-lang="Java">tls-server-cert-private-key-passphrase</code> property to provide the passphrase for the key.            </p></li><li class="list__item" id="ebfdb275">                    <p id="3a44eb85">Start YouTrack:                        <code class="code" data-lang="Java">&lt;youtrack_home&gt;/bin/youtrack.sh start</code>                    </p>            </li></ol></section>    </div>    <div class="chapter"><h2 id="redirect" data-toc="server-tls-from-command-line#redirect">Redirecting HTTP traffic</h2>        <p id="e9c87d02">If you are going to use a secure HTTPS mode, you can optionally set up a <span class="control">Redirect listen port        </span> — a non-secure port that will receive all HTTP requests and redirect them to the secure listen            port. To do so, add the parameters <code class="code" data-lang="Java">tls-redirect-from-http=true</code> and            <code class="code" data-lang="Java">tls-redirect-from-http-listen-port=&lt;your redirect port number&gt;</code> to the <code class="code" data-lang="Java">configure</code> command.        </p>    </div>    <div class="chapter"><h2 id="configure-properties" data-toc="server-tls-from-command-line#configure-properties">Configuration Parameters</h2>        <h2>HTTP</h2><div class="table-wrapper"><table class=" wide                 " width="100%" id="configuration-parameters-http"><thead><tr id="e2218785" class="ijRowHead"><th id="aebeead6"><p>                    Property                </p></th><th id="7ca201eb"><p>                    Value                </p></th><th id="aad3d678"><p>                    Description                </p></th></tr></thead><tbody><tr id="73c3c73e" class="ijRowOdd"><td id="9f6e2b34"><p>                    secure-mode                </p></td><td id="ad6c7284"><p>                    disable                </p></td><td id="5c1e71fb"><p>                    The default value of the property. TLS is disabled by default.                </p></td></tr><tr id="86b00240" class="ijRowEven"><td id="41ce3fcf"><p>                    listen-port                </p></td><td id="a54a5037"><p></p></td><td id="d45723ed"><p>                    The port on which YouTrack listens to the HTTP traffic.                </p></td></tr></tbody></table></div>        <h2>HTTPS (common properties)</h2><div class="table-wrapper"><table class=" wide                 " width="100%" id="configuration-parameters-https-common"><thead><tr id="2b5d1a82" class="ijRowHead"><th id="785dc225"><p>                    Property                </p></th><th id="49a48c8c"><p>                    Value                </p></th><th id="1363e556"><p>                    Description                </p></th></tr></thead><tbody><tr id="2cc18c97" class="ijRowOdd"><td id="d2de7aff"><p>                    secure-mode                </p></td><td id="e2547a9e"><p>                    tls                </p></td><td id="096cf0dd"><p>                    TLS is enabled                </p></td></tr><tr id="3a5408bd" class="ijRowEven"><td id="f5867524"><p>                    tls-server-cert-storage-type                </p></td><td id="29d8bb84"><p>                    <code class="code" data-lang="Java">keystore</code> or<br>                    <code class="code" data-lang="Java">privateKeyAndCert</code>                </p></td><td id="ba11e74c"><p>                    Defines the format (storage type) of a server certificate. See descriptions of each storage type                    below.                </p></td></tr><tr id="013b16a0" class="ijRowOdd"><td id="976c0f0b"><p>                    tls-redirect-from-http                </p></td><td id="c1caeefd"><p>                    <code class="code" data-lang="Java">true</code>                    or <code class="code" data-lang="Java">false</code>. The default value is <code class="code" data-lang="Java">false</code>.                </p></td><td id="41481b8b"><p>                    Set to true, to enable an additional port (defined by property <code class="code" data-lang="Java">tls-redirect-from-http-listen-port</code>) to accept unencrypted HTTP traffic and redirect it to a                    secure port defined by the property <code class="code" data-lang="Java">listen-port</code>.                </p></td></tr><tr id="cd32087a" class="ijRowEven"><td id="c14c4227"><p>                    tls-redirect-from-http-listen-port                </p></td><td id="5c101c51"><p></p></td><td id="71f226b0"><p>                    Specify an additional port to accept unencrypted HTTP traffic and redirect it to a secure port                    defined by the property <code class="code" data-lang="Java">listen-port</code> (to enable this port, set the property <code class="code" data-lang="Java">tls-redirect-from-http</code> to <code class="code" data-lang="Java">true</code>)                </p></td></tr><tr id="9a30a901" class="ijRowOdd"><td id="086c6318"><p>                    tls-server-cert-folder                </p></td><td id="66769722"><p></p></td><td id="0840ad94">                    <p id="dd20bbe8">Specify the directory that contains server certificate files to be applied to YouTrack. The directory                        should contain the file <code class="code" data-lang="Java">keystore.jks</code>. If you are using the keystore format (the property <code class="code" data-lang="Java">tls-server-cert-storage-type</code> is set to keystore in that case). The directory should contain the files <code class="code" data-lang="Java">privateKey.pem</code>, <code class="code" data-lang="Java">certificate.crt</code> and <code class="code" data-lang="Java">certificateChain.crt</code> (if                        any) if you are using the PEM format (the property <code class="code" data-lang="Java">tls-server-cert-storage-type</code> is                        set to <code class="code" data-lang="Java">privateKeyAndCert</code> in that case).                    </p>                </td></tr></tbody></table></div>        <h2>HTTPS (keystore - additional settings)</h2><div class="table-wrapper"><table class=" wide                  _layout-fixed" width="100%" id="configuration-parameters-https-keystore-additional"><thead><tr id="55c99b4e" class="ijRowHead"><th id="580c7c4b"><p>                    Property                </p></th><th id="7109ca3f" width="180"><p>                    Value                </p></th><th id="9375b139"><p>                    Description                </p></th></tr></thead><tbody><tr id="1c4712d2" class="ijRowOdd"><td id="f6a6619e"><p>                    tls-server-cert-storage-type                </p></td><td id="d4a8b105"><p>                    keystore                </p></td><td id="6c1d75a7">                    <p id="f83b3745">Use this property if your private key/certificate data is stored in a generated keystore file. In                        this mode, the server's private key/certificate pair will be derived from the file                        <code class="code" data-lang="Console">internal/cert/keystore/keystore.jks</code>                        located in the conf directory. The keystore file is saved in the <a href="https://docs.oracle.com/javase/7/docs/technotes/tools/windows/keytool.html" data-external="true" target="_blank" rel="noopener noreferrer"><span>JKS format</span></a>.                    </p>                </td></tr><tr id="199d3c54" class="ijRowEven"><td id="5bcc3bc3"><p>                    tls-server-cert-keystore-password                </p></td><td id="d5783a3a"><p></p></td><td id="0e6fa0c2"><p>                    Keystore integrity password                </p></td></tr><tr id="590dd629" class="ijRowOdd"><td id="a82f3076"><p>                    tls-server-cert-keystore-key-alias                </p></td><td id="35f25ad2"><p></p></td><td id="012ac51d"><p>                    Alias that is associated with the private key/certificate entry in the keystore.                </p></td></tr><tr id="f924fa6c" class="ijRowEven"><td id="a1653868"><p>                    tls-server-cert-private-key-passphrase                </p></td><td id="1b4c4460"><p></p></td><td id="9b2baab2"><p>                    Password that protects your server's private key entry in the keystore.                </p></td></tr></tbody></table></div>        <h2>HTTPS (privateKeyAndCert - additional settings)</h2><div class="table-wrapper"><table class=" wide                  _layout-fixed" width="100%" id="configuration-parameters-https-cert-additional"><thead><tr id="7cd754fc" class="ijRowHead"><th id="11442de8"><p>                    Property                </p></th><th id="b27e2b31" width="180"><p>                    Value                </p></th><th id="0df693c8"><p>                    Description                </p></th></tr></thead><tbody><tr id="c8bada87" class="ijRowOdd"><td id="fe18227d"><p>                    tls-server-cert-storage-type                </p></td><td id="5a8bc400"><p>                    privateKeyAndCert                </p></td><td id="b9d084e9">                    <p id="9c24ddeb">In this mode the server's private key/certificate pair is taken from the files                        <code class="code" data-lang="Console">internal/cert/privateKeyAndCert/privateKey.pem</code>,                        <code class="code" data-lang="Console">internal/cert/privateKeyAndCert/certificate.crt</code> that are located in the <code class="code" data-lang="Java">conf</code> directory.                        Also, a certificate chain can be defined in the                        file <code class="code" data-lang="Console">internal/cert/privateKeyAndCert/certificateChain.crt</code>. All files are assumed to                        be stored in the PEM format. Private key in PKCS#8 or PKCS#1 format.                    </p>                </td></tr><tr id="d53bb12d" class="ijRowEven"><td id="1ff21bc8"><p>tls-server-cert-private-key-passphrase </p></td><td id="66bb9fb1"><p>string</p></td><td id="b1371184"><p>If you use an encrypted private key, then use this property to provide the passphrase that was used for encryption. Supported for both PKCS#8 and PKCS#1 formats.</p></td></tr></tbody></table></div>    </div><div class="last-modified" data-skip-index="skip">Last modified: 8 March 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="configure-server-tls-configuration-wizard.html">Configure Built-in TLS in Web-based Configuration Wizard</a><a class="navigation-links__next" href="switch-between-third-party-proxy-and-built-in-tls.html">Switch Between Third-party Proxy and Built-in TLS</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/help/app/v2/app.js"></script></body></html>