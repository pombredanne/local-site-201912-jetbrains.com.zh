<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta name="robots" content="noindex"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/help/app/v2/analytics.js"></script><meta charset="UTF-8"><title>Change Database Location - Help | YouTrack Standalone</title><link rel="stylesheet" href="/help/app/v2/app.css"></head><body data-id="Changing-Database-Location"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search YouTrack Standalone Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>YouTrack Standalone 2018.4 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="false"><h1 data-toc="Changing-Database-Location" id="Changing-Database-Location.xml">Change Database Location</h1>    <p id="6afed420">YouTrack uses its own in-process database.        By default, data files are saved to the <code class="code" data-lang="Java">&lt;youtrack_home&gt;/data</code> directory.</p>    <aside class="note " data-title="" rel="6afed420" id="870e4857">        <p id="33809980">All of the commands on this page are for Linux and macOS.            For a Windows installation, replace <code class="code" data-lang="Java">.sh</code> with <code class="code" data-lang="Java">.bat</code> and use the backslash.</p>    </aside>    <p id="0cbc0ec9">The default directory where YouTrack stores data contains the following subdirectories:</p>    <div class="table-wrapper"><table class="                  _layout-fixed" width="100%" id="a3be20c9"><thead><tr id="a2448040" class="ijRowHead"><th id="ae124214" width="20%"><p>Name</p></th><th id="724e4c8e"><p>Description</p></th></tr></thead><tbody><tr id="39df0218" class="ijRowOdd"><td id="e703fb4c"><code class="code" data-lang="Java">youtrack</code></td><td id="15d31031"><p>Contains the YouTrack database</p></td></tr><tr id="df986df8" class="ijRowEven"><td id="fcca2501"><code class="code" data-lang="Java">hub</code></td><td id="40449b2b"><p>Contains the database for the Hub service, if built-in Hub has ever been used for the YouTrack instance</p></td></tr><tr id="158d0e4a" class="ijRowOdd"><td id="975edef3"><code class="code" data-lang="Java">internal</code></td><td id="03871ed8"><p>May contain other internal product data</p></td></tr></tbody></table></div>    <p id="94aafe22">When you copy your existing database to the new location, make sure the new location uses the same folder structure that is shown here.</p>    <figure><img alt="Youtrack data directory" title="Youtrack data directory" src="/help/img/youtrack/2018.4/youtrackDataDirectory.png" id="314052fa" width="210" height="97"></figure>    <div class="chapter"><h2 id="Changing-Database-Location-via-Command-Line-for-JAR" data-toc="Changing-Database-Location#Changing-Database-Location-via-Command-Line-for-JAR">Change the Database Location for JAR Distribution</h2>        <p id="16ec3c46">If you run YouTrack as a standalone Java process, you can specify the database location in the command line.</p>        <section class="procedure-steps"><h2 id="2d76c95b">To change the database location:</h2><ol class="list _decimal"><li class="list__item" id="c962e05c"><p><a href="start-stop-jar.html#stop-jar">Stop the YouTrack server</a>.</p></li><li class="list__item" id="1a927b0c"><p>Move your existing database to the new database directory.</p></li><li class="list__item" id="c8f54aae"><p>Run the following <code class="code" data-lang="Java">configure</code> command to set the location of the new data                directory:<br>                <code class="code" data-lang="Console">java -jar youtrack-&lt;version&gt;.jar --data-dir=&lt;new YouTrack database directory&gt;</code>            </p></li><li class="list__item" id="e05f13b9"><p>Start the YouTrack server.</p></li></ol></section>    </div>    <div class="chapter"><h2 id="Changing-Database-Location-for-MSI-and-ZIP" data-toc="Changing-Database-Location#Changing-Database-Location-for-MSI-and-ZIP">Change the Database Location for MSI and ZIP Distributions</h2>        <p id="61715bbc">For MSI and ZIP distributions, you can change the default location of the YouTrack database with the <code class="code" data-lang="Java">configure</code> command in the command line.        To execute these commands in an MSI distribution, open the <span class="control">Command Prompt</span> window as an administrator.</p>        <section class="procedure-steps"><h2 id="c492bbb7">To change the database location:</h2><ol class="list _decimal"><li class="list__item" id="03f73201"><p>Stop the YouTrack service. For specific instructions, see <a href="Stop-and-Start-YouTrack.html"><span>Stop and Start YouTrack</span></a>.</p></li><li class="list__item" id="b0645310"><p>Move your existing database to the new database directory.</p></li><li class="list__item" id="a6c69371"><p>Run the following <code class="code" data-lang="Java">configure</code> command to set the location of the new data                directory:<br>                <code class="code" data-lang="Console">&lt;youtrack_home&gt;/bin/youtrack.sh configure --data-dir=&lt;new YouTrack database directory&gt;</code>            </p></li><li class="list__item" id="93e250c4"><p>Start the YouTrack service. For specific instructions, see <a href="Stop-and-Start-YouTrack.html"><span>Stop and Start YouTrack</span></a>.</p></li></ol></section>    </div>    <div class="chapter"><h2 id="change-database-location-docker" data-toc="Changing-Database-Location#change-database-location-docker">Change the Database Location for a Docker Installation</h2>        <p id="f45790c7">As YouTrack service runs inside a Docker container, you can change only the location of the database on the hosted machine.            In this case you need to move the database to a new location, and then specify the new path as parameter of the <code class="code" data-lang="Java">docker run</code> command.</p>        <section class="procedure-steps"><ol class="list _decimal"><li class="list__item" id="d418cb70"><p>Back up the database. Just in case.</p></li><li class="list__item" id="e5bd8c06"><p>Stop the YouTrack Docker container. For specific instructions, see <span>Stop and Run Docker Container</span>.</p></li><li class="list__item" id="dacecf06"><p>Create a new directory for the database.</p></li><li class="list__item" id="6bd1540c"><p>Move the content of the current database directory (<code class="code" data-lang="Java">data</code>) to the new directory.</p></li><li class="list__item" id="9729e4d5"><p id="a884ea90">Provide the user <code class="code" data-lang="Java">13001:13001</code> that runs the YouTrack service inside the container                with                access permissions to the new database directory.                For more details, see <a href="youtrack-docker-installation.html#create-and-configure-directories"><span>Create and Configure Directories</span></a>.</p>                <aside class="note " data-title="" rel="a884ea90" id="03644d7e"><p>If you run the docker container on a macOS machine, skip this step.</p></aside>            </li><li class="list__item" id="7cd5cc48"><p id="07ec8629">Run the Docker container with the new path to the database on the hosting machine:</p>                <div class="code-block" data-lang="Console"><code class="code-block__wrapper">docker run -it --name &lt;youtrack-server-instance&gt; <span class="se">\</span>
-v &lt;path to new data directory&gt;:/opt/youtrack/data <span class="se">\</span>
-v &lt;path to conf directory&gt;:/opt/youtrack/conf <span class="se">\</span>
-v &lt;path to logs directory&gt;:/opt/youtrack/logs <span class="se">\</span>
-v &lt;path to backups directory&gt;:/opt/youtrack/backups <span class="se">\</span>
-p &lt;port on host&gt;:8080 <span class="se">\</span>
jetbrains/youtrack:&lt;version&gt;</code></div>                <ul class="list _ul"><li class="list__item" id="c53102ca"><p>YouTrack service starts with the data directory inside the container (<code class="code" data-lang="Java">/opt/youtrack/data</code>) mapped to the new database location on the hosting machine.</p></li></ul>            </li></ol></section>        <p id="d9c076b6">Use the same procedure to change the location of the <code class="code" data-lang="Java">conf</code>, <code class="code" data-lang="Java">logs</code>, <code class="code" data-lang="Java">backups</code>, and/or <code class="code" data-lang="Java">temp</code> directories.</p>    </div><div class="last-modified" data-skip-index="skip">Last modified: 8 March 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="Back-Up-the-Database.html">Back Up the Database</a><a class="navigation-links__next" href="Text-Index.html">Text Index</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/help/app/v2/app.js"></script></body></html>