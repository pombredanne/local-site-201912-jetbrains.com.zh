<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta name="robots" content="noindex"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/help/app/v2/analytics.js"></script><meta charset="UTF-8"><title>JavaScript Workflow Reference - Help | YouTrack Standalone</title><link rel="stylesheet" href="/help/app/v2/app.css"></head><body data-id="Workflows-in-JavaScript"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search YouTrack Standalone Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>YouTrack Standalone 2018.4 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="false"><h1 data-toc="Workflows-in-JavaScript" id="Workflows-in-JavaScript.xml">JavaScript Workflow Reference</h1>    <p id="6efe9723">Starting from YouTrack 2017.2, you don't have to write workflows in a domain-specific programming language.        Just use JavaScript!</p>    <p id="997e2813">JavaScript is arguably the most popular programming language in the world today.        If you yourself aren't familiar with it, chances are that there is someone in your organization who is fluent.    By switching to JavaScript, we hope to make writing workflows for YouTrack more accessible than ever.</p>    <p id="9d9e9b8a">That said, to create your own workflows, you do need write some code.    This requires a basic understanding of JavaScript.    Luckily, there are a lot of resources available on the web, one of the best of which is provided by the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript" data-external="true" target="_blank" rel="noopener noreferrer"><span>Mozilla Foundation</span></a>, who continues to oversee the development of the language.</p>    <p id="1908ab39">This also means that you don't need to do anything out of the ordinary when you write workflows in JavaScript.    You can use any of the declarations, variables, constants, data types, literals, functions, expressions, and operators that are supported in JavaScript when you write a workflow.</p>    <p id="5d026785">This section of the documentation provides a few guidelines that help you understand how to work with the custom properties and methods that are specific to the workflow API.        For a complete list of functions, properties, and methods, refer to the  <a href="YouTrack-Api-Documentation.html">YouTrack Workflow API</a>.</p>    <div class="chapter"><h2 id="2018-updates" data-toc="Workflows-in-JavaScript#2018-updates">Updates for YouTrack 2018.1</h2>        <p id="02b64a61">Our JavaScript implementation is based on <a href="https://github.com/mozilla/rhino" data-external="true" target="_blank" rel="noopener noreferrer"><span>Rhino</span></a>.            For the 2018.1 release, we adopted Rhino version 1.7.7.2.            This means that all of the features from ES6 /JS2015 that are supported in this version of Rhino are also available for workflows in YouTrack.</p>        <p id="647f9420">Major changes include:</p>        <ul class="list _ul"><li class="list__item" id="cf549017"><p>Support many ES6 additions to the <code class="code" data-lang="Java">Math</code> class.</p></li><li class="list__item" id="d989fe2e"><p>Support many ES6 additions to the <code class="code" data-lang="Java">Number</code> class.</p></li><li class="list__item" id="21c699b6"><p>Support ES6 additions to the <code class="code" data-lang="Java">String</code> class.</p></li><li class="list__item" id="bef416be"><p>Initial support for ES6 method definitions.</p></li><li class="list__item" id="1f029a46"><p>Conversion of native <code class="code" data-lang="Java">Error</code> instances to JSON.</p></li><li class="list__item" id="5d236743"><p>Compatibility fixes for <code class="code" data-lang="Java">Date</code>, <code class="code" data-lang="Java">Array</code>, and <code class="code" data-lang="Java">String</code>, among others.</p></li><li class="list__item" id="c19838ba"><p>Support for methods <code class="code" data-lang="Java">Array.find()</code> and <code class="code" data-lang="Java">findIndex()</code>.</p></li><li class="list__item" id="e6a9426b"><p>Support for methods <code class="code" data-lang="Java">String.trimLeft()</code> and <code class="code" data-lang="Java">trimRight()</code>.</p></li><li class="list__item" id="8de3a879"><p>Support for V8 <code class="code" data-lang="Java">Error</code> extensions, including <code class="code" data-lang="Java">Error.captureStackTrace</code>.</p></li><li class="list__item" id="6db438a1"><p>Support for typed arrays.</p></li><li class="list__item" id="c33ac87e"><p>Support for attaching "external data" as the indexed properties of any object.</p></li></ul>        <p id="51a85d7b">To see which of the advanced JavaScript features from ES5, 6, and 7 are available for workflows in YouTrack, refer to the <a href="http://mozilla.github.io/rhino/compat/engines.html" data-external="true" target="_blank" rel="noopener noreferrer"><span>Rhino compatibility table</span></a>.        All of the features that are compatible with <span class="control">rhino177</span> are supported.</p>    </div>    <div class="chapter"><h2 id="major-changes-from-old-api" data-toc="Workflows-in-JavaScript#major-changes-from-old-api">Major Changes from the Previous Workflow Programming Language</h2>        <p id="9db16a46">Switching to JavaScript changes how you reference specific entities and properties when you write a workflow.            Here is a short list of the major changes in comparison to the previous API:</p>        <ol class="list _decimal"><li class="list__item" id="cac4941a"><p>The <code class="code" data-lang="Java">issue</code> reference is never omitted.                You can't call an issue method assuming that it references an issue from the context â€” you must reference the issue explicitly.            </p></li><li class="list__item" id="ec4b6213">Property-related methods are spelled differently. Also, these functions are now properties. Get methods are                simplified.                <div class="table-wrapper"><table class="                  _layout-fixed" width="100%" id="08ce43ac"><thead><tr id="1f4bd76d" class="ijRowHead"><th id="1ced3b0b" width="50%"><p>MPS-based API</p></th><th id="69ecac53"><p>JavaScript API</p></th></tr></thead><tbody><tr id="21619145" class="ijRowOdd"><td id="1ecc3413"><p>                            <code class="code" data-lang="Java">issue.becomesResolved(), issue.becomesReported()</code>                        </p></td><td id="73fde803"><p>                            <code class="code" data-lang="Java">issue.becomesResolved, issue.becomesReported</code>                        </p></td></tr><tr id="88e81421" class="ijRowEven"><td id="c3dbafb8"><p>                            <code class="code" data-lang="Java">issue.getId(), issue.getUrl()</code>                        </p></td><td id="a8c97d70"><p>                            <code class="code" data-lang="Java">issue.id, issue.url</code>                        </p></td></tr></tbody></table></div>            </li><li class="list__item" id="a869bf87">Fields-related keywords are now methods.                <div class="table-wrapper"><table class="                  _layout-fixed" width="100%" id="5738f4af"><thead><tr id="399e0879" class="ijRowHead"><th id="cd4abbbc" width="50%"><p>MPS-based API</p></th><th id="6ebd7a30"><p>JavaScript API</p></th></tr></thead><tbody><tr id="59038f20" class="ijRowOdd"><td id="ebf526f4"><p>                            <code class="code" data-lang="Java">X.required</code>                        </p></td><td id="f1eb3285"><p>                            <code class="code" data-lang="Java">issue.fields.required(ctx.X, &lt;message&gt;)</code>                        </p></td></tr><tr id="d3c81ee5" class="ijRowEven"><td id="cf4fdbdd"><p>                            <code class="code" data-lang="Java">X.changed</code>                        </p></td><td id="46fb28c4"><p>                            <code class="code" data-lang="Java">issue.fields.isChanged(ctx.X)</code>                        </p></td></tr><tr id="701a5a00" class="ijRowOdd"><td id="327c5da2"><p>                            <code class="code" data-lang="Java">X.becomes</code>                        </p></td><td id="21beeca8"><p>                            <code class="code" data-lang="Java">issue.fields.becomes(ctx.X, &lt;ctx.X.value&gt;)</code>                        </p></td></tr><tr id="607dc6b5" class="ijRowEven"><td id="3a7f8baf"><p>                            <code class="code" data-lang="Java">X.oldValue</code>                        </p></td><td id="a26ef78b"><p>                            <code class="code" data-lang="Java">issue.fields.oldValue(ctx.X)</code>                        </p></td></tr></tbody></table></div>            </li><li class="list__item" id="d8a0a328">Global keywords and warning statements have changed.                <div class="table-wrapper"><table class="                  _layout-fixed" width="100%" id="069b8170"><thead><tr id="44c57bc9" class="ijRowHead"><th id="12744a81" width="50%"><p>MPS-based API</p></th><th id="b28d3804"><p>JavaScript API</p></th></tr></thead><tbody><tr id="87052477" class="ijRowOdd"><td id="6de7e19c"><p>                            <code class="code" data-lang="Java">message</code>                        </p></td><td id="bf89e8d0"><p>                            <code class="code" data-lang="Java">workflow.message(&lt;message&gt;)</code>                            (see '@jetbrains/youtrack-scripting-api/workflow' module)                        </p></td></tr><tr id="c227ede5" class="ijRowEven"><td id="a2d6a592"><p>                            <code class="code" data-lang="Java">assert</code>                        </p></td><td id="2a481983"><p>                            <code class="code" data-lang="Java">workflow.check(&lt;condition&gt;, &lt;message&gt;)</code>                            (see '@jetbrains/youtrack-scripting-api/workflow' module)                        </p></td></tr><tr id="a86a9e66" class="ijRowOdd"><td id="02d10abc"><p>                            <code class="code" data-lang="Java">loggedInUser</code>                        </p></td><td id="e9b95a2c"><p>                            <code class="code" data-lang="Java">ctx.currentUser</code>                        </p></td></tr><tr id="0ceb1bf4" class="ijRowEven"><td id="5c97317a"><p>                            <code class="code" data-lang="Java">now</code>                        </p></td><td id="3903180f"><p>                            <code class="code" data-lang="Java">Date.now()</code>                            (standard JS date API)                        </p></td></tr></tbody></table></div>            </li><li class="list__item" id="8bdc205d">Some methods are changed completely:                <div class="table-wrapper"><table class="                  _layout-fixed" width="100%" id="c4c8b0ad"><thead><tr id="ef2dbf76" class="ijRowHead"><th id="f39aa8ee" width="50%"><p>MPS-based API</p></th><th id="bdc917d3"><p>JavaScript API</p></th></tr></thead><tbody><tr id="506b1e4e" class="ijRowOdd"><td id="d1dcaa77"><p>                            <code class="code" data-lang="Java">loggedInUser.createNewIssue(&lt;project name&gt;)</code>                        </p></td><td id="075cc367"><p>                            <code class="code" data-lang="Java">new entities.Issue(&lt;user&gt;, &lt;project&gt;, &lt;summary&gt;)</code>                        </p></td></tr></tbody></table></div>            </li></ol>    </div><div class="last-modified" data-skip-index="skip">Last modified: 8 March 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="Custom-Workflow-Repository.html">Custom Workflow Repository</a><a class="navigation-links__next" href="rule-specific-properties.html">Rule-specific Properties</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/help/app/v2/app.js"></script></body></html>