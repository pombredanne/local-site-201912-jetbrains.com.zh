<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>配置JVM选项-帮助|帮助YouTrack单机版</title><link rel="stylesheet" href="/resources.jetbrains.com/storage/help-app/v3/app.css"></head><body  data-id="Configure-JVM-Options" data-breadcrumbs="Installation-and-Upgrade.xml|Installation and Upgrade/Configure-JVM-Options.xml|Configure JVM Options" data-main-title="Configure JVM Options"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索YouTrack独立帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>YouTrack Standalone 2019.2帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 id="Configure-JVM-Options.xml" data-toc="Configure-JVM-Options">配置JVM选项</h1>    <p id="70200208">您可以为YouTrack实例配置属性和JVM选项。YouTrack属性包括各种启动配置设置。JVM选项使您可以管理服务器的行为，垃圾收集，性能和调试选项。</p>    <p id="a9137756">有关特定于YouTrack的配置参数的完整列表，请参阅“ <a href="YouTrack-Java-Start-Parameters.html">配置参数”</a> 。</p>    <div class="chapter"><h2 id="mandatory-jvm-options" data-toc="Configure-JVM-Options#mandatory-jvm-options">默认JVM选项</h2>        <p id="2f716de4">要运行YouTrack，默认情况下为所有安装设置以下JVM选项：</p>        <div class="table-wrapper"><table class=" wide" width="100%" id="b8653dd8"><thead><tr id="551e191b" class="ijRowHead"><th id="04e394d7" width="40%"><p>设置</p></th><th id="460f5e00" width="30%"><p>JVM选项</p></th><th id="2caa1379"><p>值</p></th></tr></thead><tbody><tr id="d8e6201e" class="ijRowOdd"><td id="d12c0b78"><p>最大元空间内存</p></td><td id="11ffebad"><code class="code">-XX:MaxMetaspaceSize</code></td><td id="49ad2fff"><code class="code">350m</code></td></tr><tr id="f61d32d0" class="ijRowEven"><td id="a4bde21a"><p>最大Java堆大小</p></td><td id="3f497e99"><code class="code">-Xmx</code></td><td id="bb25e209"><p><code class="code">1024m</code>要么<code class="code">1g</code></p></td></tr></tbody></table></div><p id="bb4b62db">以下JVM选项可以提高YouTrack安装的性能：</p>        <div class="table-wrapper"><table class=" wide" width="100%" id="d5e83085"><thead><tr id="17fb8dd6" class="ijRowHead"><th id="910e9284" width="40%"><p>设置</p></th><th id="6a3f6a3b" width="30%"><p>JVM选项</p></th><th id="fb46b873"><p>值</p></th></tr></thead><tbody><tr id="bde421a8" class="ijRowOdd"><td id="d304ad45"><p>最小元空间内存</p></td><td id="57f7f39e"><code class="code">-XX:MetaspaceSize</code></td><td id="ce24cbd7"><code class="code">350m</code></td></tr></tbody></table></div>    </div>    <div class="chapter"><h2 id="set-jvm-options-jar" data-toc="Configure-JVM-Options#set-jvm-options-jar">为YouTrack JAR安装设置JVM选项</h2>        <a name="Providing_Java_Start_Parameters_for_YouTrack_JAR"></a>        <p id="61302c0c">当您将YouTrack作为独立的Java进程运行时，请在用于运行YouTrack的命令中设置JVM选项。</p>        <div class="code-block" data-lang="bash">java -jar youtrack-xx.jar --J-Xmx1024m<port></port></div>        <p id="0e7d154a">在这种情况下，JVM选项是临时应用的。这些选项在下次运行时重置。要永久存储JVM选项，请使用<code class="code">configure</code>命令：</p>        <div class="code-block" data-lang="bash">java -jar youtrack-xx.jar配置-J-Xmx1024m<port></port></div>    </div>    <div class="chapter"><h2 id="set-jvm-options" data-toc="Configure-JVM-Options#set-jvm-options">设置JVM选项</h2>        <a name="Providing_Start_Java_Parameters_for_MSI_and_ZIP_distributions"></a>        <p id="2de4893b">您可以在命令行界面中设置JVM选项，也可以手动编辑配置文件。</p>        <p id="7fc64afe">设置YouTrack属性或JVM选项时，该属性将在每次服务器重新启动时应用。</p>        <div class="chapter"><h3 id="set-jvm-options-command-line">从命令行设置JVM选项</h3>            <p id="7579fd7f">您可以使用以下命令为服务器设置属性和JVM选项： <code class="code">configure</code>命令。您可以对任何类型的YouTrack安装使用此方法。要在MSI分发中执行这些命令，请以管理员身份打开“ <span class="control">命令提示符”</span>窗口。</p>            <p id="53bbc43a">从命令行设置JVM选项时，请考虑以下准则：</p>            <ul class="list _ul"><li class="list__item" id="ee4641ee"><p>始终执行<code class="code">configure</code>命令代表运行YouTrack服务的OS用户。此命令创建配置文件和文件夹。YouTrack服务用户应具有足够的权限来访问这些文件和文件夹。</p></li><li class="list__item" id="7a8e36f4"><p>要为JVM选项设置参数，请输入<code class="code">configure</code>带有前缀的命令<code class="code">-J</code> 。的<code class="code">-J</code>前缀表示在其后声明了JVM选项。您必须添加<code class="code">-J</code>您要配置的每个JVM选项的前缀。</p></li><li class="list__item" id="dd7165bf"><p id="4a4d6810">要定义启动时JVM传递给YouTrack的选项，请使用“-”：<code class="code">youtrack configure -J-<jvm.property>[=<value>]</code></p>                    <p id="e5efcea0">例如：</p>                    <div class="code-block" data-lang="bash">您跟踪配置-J-Dorg.eclipse.jetty.server。Request.maxFormKeys = 10000您跟踪配置-J-Xmx1024m -J-XX：+ HeapDumpOnOutOfMemoryError</div></li><li class="list__item" id="2348ad38"><p id="8ace4f5e">要删除JVM选项，请使用“ +”：<code class="code">youtrack configure -J+<jvm.property>[=<value>]</code></p>                    <p id="5c25bef9">建筑<code class="code">+option=<value></code> ， <code class="code">+XX:<option>=<value></code>和<code class="code">+D<property>=<value></code>仅当其具有完全相同的值时才删除相应的选项。</p>                    <p id="009bd5c2">例如：</p>                    <div class="code-block" data-lang="bash">youtrack配置-J + Dorg.eclipse.jetty.server。Request.maxFormKeys = 10000</div>                    <p id="dcd9aa29">建筑<code class="code">+option</code> ， <code class="code">+XX:<option></code>和<code class="code">+D<property></code>无论值如何，都删除相应的选项。</p>                    <p id="4c96a50a">例如：</p>                    <div class="code-block" data-lang="bash">youtrack配置-J + ea</div>                </li></ul>            <aside class="prompt" rel="c0f153a6" id="7593f689" data-type="note" data-title="">                <p id="1f8c1d92">此过程的命令适用于Linux和macOS。对于Windows安装，请更换<code class="code">.sh</code>与<code class="code">.bat</code>并使用反斜杠。</p>            </aside>            <section class="procedure-steps"><h3 id="8f1cb4cb">要从命令行设置JVM选项：</h3><ol class="list _decimal"><li class="list__item" id="c1706cb8"><p><a href="Stop-and-Start-YouTrack.html">停止YouTrack服务</a> 。</p></li><li class="list__item" id="078576dd"><p id="bc576d5b">在命令行界面中，输入<code class="code">configure</code>命令。例如：</p>                    <code class="code"><youtrack_home>bin/youtrack.sh configure -J-XX:+HeapDumpOnOutOfMemoryError</code>                </li><li class="list__item" id="f688a88b"><p><a href="Stop-and-Start-YouTrack.html">启动YouTrack服务</a> 。</p></li></ol></section>        </div>        <div class="chapter"><h3 id="set-jvm-options-manually">手动设置JVM选项</h3>            <p id="046bd4ef">您可以通过编辑<code class="code">youtrack.jvmoptions</code>文件。修改默认配置时，将自动创建此文件。文件的位置取决于YouTrack安装的分发类型。</p>            <aside class="prompt" rel="046bd4ef" id="20d4efb8" data-type="note" data-title="Changing Database Location">                <p id="4ae39f09">您不能手动更改数据库位置。服务器启动时将重写此参数。要更改数据库位置，请参阅<a href="Changing-Database-Location.html">更改数据库位置</a> 。</p>            </aside>            <ul class="list _bullet"><li class="list__item" id="e87de2d3"><p>对于ZIP分发，该文件位于<code class="code"><YouTrack installation directory>/conf</code>目录。</p></li><li class="list__item" id="9ad60165"><p id="5acd50f8">对于MSI分发，文件位于<code class="code">%programdata%\JetBrains\YouTrack\conf</code>目录。</p>                    <p id="68384166">您可以找到到的路径<code class="code">conf</code>文件夹中<code class="code"><YouTrack installation directory>\internal\conf\installation.xml</code>文件。路径被写入属性<code class="code">default-appdata-root</code> 。例如：</p>                        <div class="code-block" data-lang="markup"><default-appdata-root>C：\ ProgramData \ JetBrains \ YouTrack</default-appdata-root></div>                </li></ul>            <p id="6fcd8671">如果尚未更改服务器的JVM选项，则该目录包含一个示例配置文件。样本配置文件使用<code class="code">.dist</code>扩展名，并包含默认JVM选项的列表。如果您要编辑的文件不存在：</p>            <ul class="list _ul"><li class="list__item" id="b503f1c2"><p>复制<span class="control">youtrack.jvmoptions.dist</span>文件并将其另存为<span class="control">youtrack.jvmoptions</span><br>要么</p></li><li class="list__item" id="58dc2a77"><p>在此目录中创建一个<span class="control">youtrack.jvmoptions</span>文件，并将示例配置文件的内容粘贴到其中。</p></li></ul>            <p id="5354b2ac">然后，您可以编辑文件的内容以配置JVM选项。</p>            <section class="procedure-steps"><h3 id="ff251872">要更改配置文件中的JVM选项：</h3><ol class="list _decimal"><li class="list__item" id="2a15f4eb"><p><a href="Stop-and-Start-YouTrack.html">停止YouTrack服务</a> 。</p></li><li class="list__item" id="e255ca2e"><p>打开<code class="code">youtrack.jvmoptions</code>文件。</p></li><li class="list__item" id="da0cf389"><p>直接在文件中编辑JVM选项。要设置预定义的JVM选项，只需取消注释相应的行并更新JVM选项值。</p></li><li class="list__item" id="fc2d552c"><p>保存并关闭文件。</p></li><li class="list__item" id="504c5089"><p><a href="Stop-and-Start-YouTrack.html">启动YouTrack服务</a> 。</p></li></ol></section>        </div>    </div>    <div class="chapter"><h2 id="check-jvm-options" data-toc="Configure-JVM-Options#check-jvm-options">检查JVM选项</h2>        <p id="a89e89e2">在更改了YouTrack安装的JVM选项之后，您可能需要检查更改是否已应用。为此，您可以使用<code class="code">list jvm-options</code>命令。它会生成JVM属性列表，这些属性将在下次启动时应用于YouTrack实例。请注意，该命令的输出仅列出持久性JVM选项。在运行YouTrack的命令中临时提供的所有选项都将覆盖同一持久性选项的值。</p>    </div><div class="last-modified" data-skip-index="skip">上次修改时间：2019年11月29日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="Reverse-Proxy-Configuration.html">反向代理配置</a> <a class="navigation-links__next" href="YouTrack-Java-Start-Parameters.html">配置参数</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>