<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>基于令牌的身份验证-帮助|帮助YouTrack单机版</title><link rel="stylesheet" href="/resources.jetbrains.com/storage/help-app/v3/app.css"></head><body  data-id="2fa-with-token" data-breadcrumbs="Managing-Your-Profile.xml|Managing Your Profile/enable-two-factor-authentication.xml|Enable Two-factor Authentication/2fa-with-token.xml|Token-based Authentication" data-main-title="Token-based Authentication"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索YouTrack独立帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>YouTrack Standalone 2019.2帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 id="2fa-with-token.xml" data-toc="2fa-with-token">基于令牌的身份验证</h1>    <p id="0f991f1b">YouTrack中的两因素身份验证选项之一使您可以将Hub帐户与硬件令牌配对。在这种情况下，您需要与您拥有的硬件设备进行交互才能登录到YouTrack。</p>    <aside class="prompt" rel="0f991f1b" id="b961ad8e" data-type="note" data-title="Application Passwords">        <p id="87238f8b">为您的集线器帐户启用双重身份验证时，登录使用集线器帐户进行授权的第三方应用程序时可能会遇到问题。例如，YouTrack Mobile。</p>        <p id="f70638cd">要在没有第二身份验证因素的情况下登录到外部应用程序或设备，请使用<a href="application-passwords.html">应用程序密码</a> 。</p></aside>    <div class="chapter"><h2 id="browser-support" data-toc="2fa-with-token#browser-support">支持的网页浏览器</h2>        <p id="8d0bfa13">YouTrack中基于令牌的2FA需要从网络浏览器本地支持通用第二因子（U2F）协议。以下Web浏览器支持该协议：</p>        <ul class="list _ul"><li class="list__item" id="a4e7d73c"><p>谷歌浏览器73+</p></li><li class="list__item" id="2d3c22b9"><p>Windows 10版本1809+的Microsoft Edge</p></li><li class="list__item" id="5af33c1f"><p>Mozilla Firefox 57+</p></li><li class="list__item" id="63c2f9fd"><p>歌剧54+</p></li></ul>        <p id="f48a6a85">不支持或不建议使用以下Web浏览器：</p>        <ul class="list _ul"><li class="list__item" id="27327b10"><p>Microsoft Internet Explorer不支持U2F，YouTrack也不再支持。</p></li><li class="list__item" id="cc128913"><p>在Apple Safari中，作为实验性功能，仅在12.1版和更高版本中提供U2F支持。我们在启用实验功能的情况下测试基于令牌的2FA的努力尚无定论。为了获得最佳结果，我们建议您切换到支持UTF作为基准功能的Web浏览器。</p></li></ul>    </div>    <div class="chapter"><h2 id="supported-devices" data-toc="2fa-with-token#supported-devices">支持的设备</h2>        <p id="81b273a6">YouTrack中基于令牌的2FA基于<a href="https://fidoalliance.org/fido2/" rel="noopener noreferrer" data-external="true" target="_blank">FIDO2</a>规范。通过此实现，您可以使用普通设备从移动设备或台式计算机上通过集线器进行身份验证。该功能与FIDO2兼容的任何设备兼容，包括：</p>        <ul class="list _ul"><li class="list__item" id="1b7a1d59"><p>来自<a href="https://www.yubico.com/" rel="noopener noreferrer" data-external="true" target="_blank">Yubico</a> ， <a href="https://www.hidglobal.com/" rel="noopener noreferrer" data-external="true" target="_blank">HID Global</a>和<a href="https://www.ftsafe.com/" rel="noopener noreferrer" data-external="true" target="_blank">Feitian</a>等制造商的硬件安全密钥。</p></li><li class="list__item" id="bb1df978"><p>操作系统支持的生物识别技术，例如内置指纹传感器。</p></li></ul>        <p id="d29ffdf3">当前版本中的Windows Hello存在已知的兼容性问题。我们希望在不久的将来支持使用此技术的登录机制。</p>        <p id="494bc0e0">如果您想在MacBook上使用Touch ID使用指纹登录，我们建议您使用Chrome for macOS。Firefox和其他浏览器目前不支持此功能。</p>        <aside class="prompt" rel="494bc0e0" id="2d266043" data-type="note" data-title="">            <p id="faf2fa64">您提供给硬件设备的任何生物识别信息都不会中继到YouTrack。YouTrack不会请求，存储或处理您的生物特征数据。</p>        </aside>    </div>    <div class="chapter"><h2 id="hardware-limitations" data-toc="2fa-with-token#hardware-limitations">局限性</h2>        <p id="9ea940e1">YouTrack中基于令牌的身份验证受以下限制：</p>        <ul class="list _ul"><li class="list__item" id="d274afb2"><p id="e164f176"><b id="31a68851">您仅限于一种两因素身份验证。</b>                这意味着您不能将基于令牌的身份验证与基于应用程序的身份验证一起使用。将集线器帐户与硬件令牌配对后，设置基于应用程序的身份验证的选项将不可用。若要从基于令牌的身份验证切换到基于应用程序的2FA，必须首先取消注册当前用作第二因素的硬件设备。</p></li><li class="list__item" id="114eddb2"><p id="aacfb82b"><b id="64e405f7">您的Hub帐户不能与多个硬件设备配对。</b>                这意味着，例如，当您在台式计算机上的网络浏览器中登录YouTrack时，您无法通过硬件安全密钥进行身份验证，而在移动设备中登录YouTrack时，则无法通过内置指纹传感器进行身份验证浏览器。</p>                <p id="46cb2850">有关详细信息，请参阅<a href="#secure-desktop-mobile">面向桌面和移动设备的基于令牌的2FA</a> 。</p>            </li><li class="list__item" id="29ca4322"><p id="46b290cc"><b id="6334c734">您应该始终从用于注册设备的URL访问YouTrack。</b>                身份验证协议使用内置的域跟踪来防止网络钓鱼攻击。</p></li></ul>        <p id="5808482d">以下限制适用于YouTrack中所有类型的两因素身份验证：</p>        <ul class="list _ul"><li class="list__item" id="242c9875"><p id="8093d736"><b id="8b55cadb">YouTrack仅请求基于密码的登录的第二个因素。</b>                如果您使用第三方身份验证模块（例如Google或GitHub）支持的身份验证方法，则不需要第二个因素。其中许多服务也支持2FA，因此，使用这些身份验证模块登录时，您仍然可以保护自己的帐户。您只需要在auth模块支持的服务中为您的帐户设置2FA。</p>                <p id="fcf3d4be">如果您是需要2FA的组的成员，则必须为支持使用用户名和密码登录的所有身份验证模块设置第二个身份验证因子。您可以删除基于密码的凭据，然后继续使用第三方身份验证登录，或者按照此处所述为帐户设置2FA。</p></li><li class="list__item" id="57feb1dc"><p id="7c928fe4"><b id="bd7d24bb">启用2FA后，使用登录名和密码进行Hub REST API的基本身份验证无效。</b>                您仍然可以使用永久令牌进行身份验证，而不必禁用2FA。有关更多信息，请参阅<a href="Manage-Permanent-Token.html">管理永久令牌</a> 。</p>                <p id="a1af16b1">要在外部应用程序中规避2FA，请生成并使用应用程序密码。有关详细信息，请参见<a href="application-passwords.html">生成应用程序密码</a> 。</p></li><li class="list__item" id="c0c33076"><p id="60e6182a"><b id="d28f417c">您不能使用使用2FA的帐户将集线器数据迁移到另一个集线器安装。</b>                支持<a href="Migrate-YouTrack-Data-to-External-Hub.html">集线器到集线器迁移的服务</a>使用应用程序令牌进行身份验证。如果需要将集线器数据迁移到外部安装，则需要为用于登录迁移服务的帐户禁用2FA。迁移完成后，您可以为您的帐户重新启用2FA。</p></li></ul>    </div>    <div class="chapter"><h2 id="enable-token-based-2fa" data-toc="2fa-with-token#enable-token-based-2fa">启用基于令牌的2FA</h2>        <p id="edfa9a25">在YouTrack中启用基于令牌的2FA之前，您应该验证Web浏览器是否支持此功能，并且要用作第二因素的硬件设备是否支持FIDO2规范。有关详细信息，请参阅<a href="#browser-support">支持的Web浏览器</a>和<a href="#supported-devices">支持的设备</a> 。</p>        <p id="0ba47cea">以下说明描述了如何在Web浏览器中设置基于硬件的2FA。在移动浏览器中将集线器帐户与硬件令牌配对的过程应该相似。</p>        <section class="procedure-steps"><h3 id="enable-procedure">要在Web浏览器中启用基于令牌的两因素身份验证：</h3><aside class="prompt" rel="enable-procedure" id="ad25d756" data-type="tip" data-title=""><p>需要权限：更新自我</p></aside><ol class="list _decimal"><li class="list__item" id="d3a9a03a"><p>通过单击您的头像，然后选择<span class="control">Profile</span>来打开您的Hub配置<span class="control">文件</span> 。</p></li><li class="list__item" id="527a2e72"><p id="26e8a560">找到“ <span class="control">双重身份验证”</span>设置，然后单击“ <span class="control">与硬件令牌配对”</span>链接。</p>                <figure><a class="lightbox" href="/help/img/youtrack/2019.2/enable-two-factor-authentication.zoomed.png"><img alt="启用两因素身份验证" title="启用两因素身份验证" src="/help/img/youtrack/2019.2/enable-two-factor-authentication.png" id="9f38be6a" width="600" height="178"></a></figure>                <ul class="list _ul"><li class="list__item" id="3287dea7"><p id="23a948c1">您的浏览器将显示一个对话框，其中包含与硬件设备配对的其他说明。实际的对话框和设置说明取决于您的操作系统，浏览器和硬件设备。</p>                        <p id="c185214d">此示例显示了在没有内置指纹传感器的设备上，Chrome for Windows中显示的对话框。</p>                        <figure><a class="lightbox" href="/help/img/youtrack/2019.2/pair-with-hardware-token.zoomed.png"><img alt="Chrome对话框，用于与硬件设备配对，无指纹传感器。" title="Chrome对话框，用于与硬件设备配对，无指纹传感器。" src="/help/img/youtrack/2019.2/pair-with-hardware-token.png" id="e2dfffe3" width="600" height="221"></a></figure>                    <p id="3111adef">这是与支持Touch ID的MacBook上的macOS版Chrome中的对话框相同的对话框。</p>                        <figure><a class="lightbox" href="/help/img/youtrack/2019.2/pair-with-hardware-token-sensor.zoomed.png"><img alt="与支持Touch ID的硬件设备配对的Chrome对话框。" title="与支持Touch ID的硬件设备配对的Chrome对话框。" src="/help/img/youtrack/2019.2/pair-with-hardware-token-sensor.png" id="d506b869" width="600" height="259"></a></figure></li></ul>            </li><li class="list__item" id="7a8a836d"><p id="a19c300c">连接并激活硬件设备。正确激活后，设备将与您的集线器帐户配对。</p>                <ul class="list _ul"><li class="list__item" id="c074e440"><p>您的集线器帐户启用了两因素身份验证。</p></li><li class="list__item" id="6d4b8df9"><p>每当您使用集线器凭据登录时，如果未自动检测到配对设备，系统都会提示您连接该设备。</p></li></ul>            </li></ol></section>    </div>    <div class="chapter"><h2 id="secure-desktop-mobile" data-toc="2fa-with-token#secure-desktop-mobile">适用于台式机和移动设备的基于令牌的2FA</h2>        <p id="eec8b358">如果要在台式机和移动设备上使用基于令牌的身份验证作为第二因素，则需要与兼容两个平台的单个设备配对。许多硬件安全密钥被设计为插入大多数移动设备没有的USB 3.x端口。如果使用台式机浏览器中的此类设备保护帐户安全，则可能需要使用适配器在移动设备上对此设备进行身份验证。您可以使用以下几种方法在台式机和移动设备上进行身份验证：</p>        <ul class="list _ul"><li class="list__item" id="4dc187cd"><p>使用连接到USB-C端口的安全密钥。尽管台式机和移动设备都广泛支持这种连接，但是某些设备可能仍需要适配器。</p></li><li class="list__item" id="b67904af"><p>使用支持近场通信（NFC）的安全密钥。这些密钥通常可以插入台式计算机的USB端口，并通过NFC连接到移动设备。要将安全密钥与您在移动设备上的帐户配对，该移动设备也必须支持NFC。</p></li><li class="list__item" id="15de0b76"><p>使用支持蓝牙连接的安全密钥。这些密钥可以与支持此标准的台式机和移动客户端配对。</p></li></ul>                <p id="9f5f9dc9">请记住，在移动浏览器中使用YouTrack时，只需在移动设备上提供第二个身份验证因素。如果您仅使用YouTrack，则可以下载并安装YouTrack Mobile，并使用应用程序密码进行身份验证。有关详细信息，请参见<a href="application-passwords.html">生成应用程序密码</a> 。</p>    </div>    <div class="chapter"><h2 id="account-recovery" data-toc="2fa-with-token#account-recovery">帐户恢复</h2>        <p id="2d79b46b">如果您丢失了配对的硬件设备，并且无法再登录到YouTrack，请与管理员联系。具有“ <span class="control">更新用户”</span>权限的<span class="control">用户</span>可以访问您的配置文件并为您禁用两因素身份验证。然后，您可以仅使用您的登录名和密码登录。您可以重新启用该功能，并将集线器帐户与新设备配对或将连接恢复到旧设备。</p>        <ul class="list _ul"><li class="list__item" id="07abc035"><p>要了解如何为其他用户禁用2FA，请参阅<a href="disable-two-factor-authentication.html">禁用两因素身份验证</a> 。</p></li><li class="list__item" id="c3d6c649"><p>要了解如何为默认管理员禁用2FA，请参阅“ <a href="Changing-or-Restoring-Password-and-Permissions-for-Root.html">更改或还原Root的密码和权限”</a> 。</p></li></ul>        <p id="b084db6d">如果您的安装支持第三方身份验证模块，则您也可以尝试使用不需要第二身份验证因素的第三方服务登录。登录表单底部显示每个活动身份验证模块的按钮。</p>        <figure><a class="lightbox" href="/help/img/youtrack/2019.2/federated-logins.zoomed.png"><img alt="一组可用的身份验证模块，如登录表单上所示。" title="一组可用的身份验证模块，如登录表单上所示。" src="/help/img/youtrack/2019.2/federated-logins.png" id="680d1fa8" width="600" height="264"></a></figure>        <p id="6d303aad">这些登录选项通过第三方服务重定向，因此YouTrack不会要求您输入验证码。</p>    </div><div class="last-modified" data-skip-index="skip">上次修改时间：2019年11月29日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="2fa-with-app.html">基于应用程序的身份验证</a> <a class="navigation-links__next" href="Manage-your-Passwords.html">管理您的密码</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>