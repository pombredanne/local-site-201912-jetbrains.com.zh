<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/help/app/v2/analytics.js"></script><meta charset="UTF-8"><meta name="robots" content="noindex"><title>Use YouTrack as a Help Desk - Help | YouTrack Standalone</title><link rel="stylesheet" href="/help/app/v2/app.css"></head><body data-id="Use-YouTrack-as-a-Help-Desk"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search YouTrack Standalone Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>YouTrack Standalone 2018.2 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="false"><h1 data-toc="Use-YouTrack-as-a-Help-Desk" id="Use-YouTrack-as-a-Help-Desk.xml">Use YouTrack as a Help Desk</h1>    <a name="Introduction"></a>    <p id="014dadfe">The <span class="control">Mailbox Integration</span> is a key feature that lets you create issues from email messages and add replies as comments, in effect turning YouTrack into a help desk.</p>    <p id="07832d60">You can involve your customers in your issue tracking process without creating user accounts for them in YouTrack.        Plus, YouTrack can involve multiple help desk customers in a single email thread.</p>    <p id="3105a7fa">When you use YouTrack as a help desk, your support workflow is clean and simple.</p>    <ul class="list _ul"><li class="list__item" id="b32dc108"><p>Your customers don't need user accounts in YouTrack to follow up on issues.</p></li><li class="list__item" id="4be5ad28"><p>Your support engineers don't have to monitor a support mailbox.</p></li><li class="list__item" id="e4595bb0"><p>Customers are notified when comments are added to issues.</p></li><li class="list__item" id="ad59e916"><p>Support engineers can read replies from customers as comments in YouTrack</p></li><li class="list__item" id="b877dc4d"><p>When a customer adds recipients to a reply, they are also notified when the issue is updated.            Additional recipients can add their own comments when they reply to the notification or the message from the original reporter.</p></li></ul>    <p id="fa37cb2d">This step-by-step guide shows you how to configure YouTrack to process and manage support requests.</p>    <div class="chapter"><h2 id="helpdesk-overview" data-toc="Use-YouTrack-as-a-Help-Desk#helpdesk-overview">Process Overview</h2>        <p id="ead0259d">To configure and use a YouTrack project as a help desk, follow these steps:</p>      <aside class="note " data-title="Permissions" rel="ead0259d" id="827704ec"><br><br>        <p id="7e696a00"><img alt="iconGlobe" title="iconGlobe" src="/help/img/youtrack/2018.2/iconGlobe.png" id="aec5318d" width="14" height="15" class="inline-icon-14"> Low-level Admin Read</p>        <p id="d3bebd2a"><img alt="iconGlobe" title="iconGlobe" src="/help/img/youtrack/2018.2/iconGlobe.png" id="01c13cb3" width="14" height="15" class="inline-icon-14"> Low-level Admin Write</p>      </aside>        <ol class="list _decimal"><li class="list__item" id="46885f63"><p><a href="#enable-email-notifications">Enable Email Notifications in YouTrack</a>.</p></li><li class="list__item" id="a78988a4"><p><a href="#set-up-project">Set Up a Project for Your Help Desk</a>.</p></li><li class="list__item" id="844646a7"><p><a href="#configure-mailbox-integration">Configure the Mailbox Integration</a>.</p></li></ol>    </div>    <div class="chapter"><h2 id="enable-email-notifications" data-toc="Use-YouTrack-as-a-Help-Desk#enable-email-notifications">Enable Email Notifications in YouTrack</h2>        <p id="a5554820">First, make sure that email notifications are enabled and configured correctly on your server.</p>        <ul class="list _ul"><li class="list__item" id="5455a972"><p>If you are using YouTrack InCloud and haven't changed the default settings, skip this step and continue with <a href="#set-up-project">Set Up a Project for Your Help Desk</a>.            Email notifications are enabled and configured by default in your InCloud instance.</p></li><li class="list__item" id="436478a0"><p>If you are have changed the default email notification settings in your YouTrack InCloud instance, or are using YouTrack Standalone edition,            verify that email notification is enabled and the connection to an email server is configured.</p></li></ul>        <p id="294325ab">If you use a Google mail server to send email notifications, use the same email address as your <span class="control">Server 'From:' email</span> and your help desk notifications.            Google does not let you use a substitute email address.            If you use an email address as the <code class="code" data-lang="Java">From:</code> address in your project that differs from the address in the global settings, the mail server does not deliver the messages.</p>        <p id="776a147a">You don't have to do anything special here, just follow the basic setup instructions and test the connection to the mail server.            For specific instructions, see <a href="Managing-Global-Settings.html#global-settings-notifications"><span>Notifications</span></a>.</p>        <p id="cbbca65b">When email notifications are enabled and configured in YouTrack, you are ready to create and configure your help desk project.</p>    </div>    <div class="chapter"><h2 id="set-up-project" data-toc="Use-YouTrack-as-a-Help-Desk#set-up-project">Set Up a Project for Your Help Desk</h2>        <p id="7e426ba7">The project that you use for your help desk should be configured differently from a project that is used for a development team.        You probably want to use a different set of custom fields, and will need to set the email address that is used for notifications in the project.</p>        <p id="5e02947a">You also need to attach a workflow to the project that manages email notifications. To learn more about this workflow, see <a href="Workflow-Notify-Multiple-Unregistered-Users.html"><span>Notify Multiple Unregistered Users</span></a>.</p>        <p id="b5fb20cb">The configuration of the project is specific to this use case, so we describe it here in some detail.</p>            <section class="procedure-steps"><h2 id="f1da68f4">To create a new project to use for the help desk:</h2><ol class="list _decimal"><li class="list__item" id="064693d2"><p>Click the <span class="control">Projects</span> link in the header, then click the <span class="control">Create Project</span> button.</p></li><li class="list__item" id="b9eae4c0"><p>Enter a name (<span class="control">Help Desk</span>), and a description for the project.</p></li><li class="list__item" id="f2a283e5"><p>Select the project type that you want to use.                Any type will work just fine, but if you select a <span class="control">Kanban</span> project, YouTrack automatically creates an agile board that your support engineers can use to manage issues.                This project type also uses fewer default custom fields, which makes it easier to configure for your help desk.</p></li><li class="list__item" id="69327a02">Click the <span class="control">Create project</span> button.                <ul class="list _ul"><li class="list__item" id="de7ecb4e"><p>The profile page for the new project opens.</p></li></ul></li><li class="list__item" id="7ebe87ba"><p>Click the <span class="control">Edit project</span> link.</p></li><li class="list__item" id="486b18b1"><p>Set the manager of the help desk as the <span class="control">Project Lead</span>.</p></li><li class="list__item" id="9676b73e"><p>Enter the email address that you want to use to send notifications for the help desk project.                   Use the same email address that customers use to send support requests.                        <figure><a class="lightbox" href="/help/img/youtrack/2018.2/projectFromEmail_thumbnail.zoomed.png"><img alt="projectFromEmail thumbnail" title="projectFromEmail thumbnail" src="/help/img/youtrack/2018.2/projectFromEmail_thumbnail.png" id="77d20a1d" width="600" height="261"></a></figure>                </p></li><li class="list__item" id="59ae6ee5"><p>Click the <span class="control">Apply changes</span> button.</p></li><li class="list__item" id="8a51596e">Select the <span class="control">Fields</span> tab and configure the custom fields in the new project:                    <ul class="list _ul"><li class="list__item" id="e801c55d"><p>Add your support engineers to the list of assignees.</p></li><li class="list__item" id="bc744a79"><p>Configure the custom fields that you want to use in the project.                        For a help desk, you can get by with <span class="control">Type</span>, <span class="control">Priority</span>, <span class="control">Assignee</span>, and <span class="control">State</span>.                            The project administrator can add more custom fields as needed.</p></li><li class="list__item" id="62832f50"><p>Remove any unrelated default custom fields.</p></li></ul>                    <figure><a class="lightbox" href="/help/img/youtrack/2018.2/helpDeskFieldsInit_thumbnail.zoomed.png"><img alt="helpDeskFieldsInit thumbnail" title="helpDeskFieldsInit thumbnail" src="/help/img/youtrack/2018.2/helpDeskFieldsInit_thumbnail.png" id="37715f6b" width="600" height="374"></a></figure>                </li><li class="list__item" id="d4c056b8"><p>Select the <span class="control">Workflow</span> tab.</p></li><li class="list__item" id="cde223b3"><p>Detach any unrelated workflows.                For example, if you used the <span class="control">Kanban</span> project template, you can detach the <span class="control">Kanban</span> workflow.                It's more appropriate for development teams, not support engineers.</p></li><li class="list__item" id="d3be66a4">Click the <span class="control">Attach workflows</span> button and select <span class="control">Notify Multiple Unregistered Users</span> from the drop-down list.                <ul class="list _ul"><li class="list__item" id="d121b856"><p>The workflow is attached to the project.</p></li><li class="list__item" id="da0a2fc0"><p>The <span class="control">requires setup</span> flag indicates that the workflow uses custom fields that are not used in the project.</p></li></ul></li><li class="list__item" id="595f8583">Add the missing fields and field values to the project:                    <ul class="list _ul"><li class="list__item" id="3eabfdb2"><p>Expand the workflow and select the first workflow rule.</p></li><li class="list__item" id="367af36b"><p>Click the <span class="control">Update fields</span> button to add the required fields to the project.</p></li><li class="list__item" id="19da8a94"><p>Repeat this process for the second workflow rule.</p></li></ul>                    The following custom fields are added to the project:                    <div class="table-wrapper"><table class="                 " width="100%" id="6b57982a"><thead><tr id="a35ff46f" class="ijRowHead"><th id="0f68b935" width="20%"><p>Custom Field</p></th><th id="34e4fc28"><p>Description</p></th></tr></thead><tbody><tr id="e9efbe2a" class="ijRowOdd"><td id="8a1026a1"><p>All related emails</p></td><td id="6735c528"><p>Stores the email addresses for all of the participants in the discussion.                            The workflow uses this list to send email messages to recipients who are not registered users in YouTrack.</p></td></tr><tr id="8cdc8370" class="ijRowEven"><td id="103b51ac"><p>Last message related emails</p></td><td id="07ef434f"><p>Stores only the email addresses that were included in the most recent message that was processed by the mailbox integration.                            This field is updated when YouTrack processes an incoming email message.                            The workflow copies these email addresses to the <span class="control">All related emails</span> field every time an issue is updated.                            This ensures that recipients who were not included in the most recent email message are not sent notifications.</p></td></tr></tbody></table></div>                </li><li class="list__item" id="c3394529"><p>When finished, check the list of custom fields in the project to verify that all of the required fields are in place.                    <figure><a class="lightbox" href="/help/img/youtrack/2018.2/helpDeskFields_thumbnail.zoomed.png"><img alt="helpDeskFields thumbnail" title="helpDeskFields thumbnail" src="/help/img/youtrack/2018.2/helpDeskFields_thumbnail.png" id="14b0bef2" width="600" height="273"></a></figure>                </p></li></ol></section>    </div>    <div class="chapter"><h2 id="configure-mailbox-integration" data-toc="Use-YouTrack-as-a-Help-Desk#configure-mailbox-integration">Configure the Mailbox Integration</h2>        <p id="de077dda">The last step is to configure the mailbox integration for the help desk project.</p>        <p id="59a89ee0">The configuration is specific to this use case, so we describe it here in some detail. For general instructions, see <a href="Mailbox-Integration.html"><span>Mailbox Integration</span></a>.</p>        <section class="procedure-steps"><h2 id="3f8f9021">To configure the mailbox integration:</h2><ol class="list _decimal"><li class="list__item" id="e005999c"><p>Open the <span data-skip-index="skip" class="menupath">Administration &gt; Mailbox Integration</span> page.</p></li><li class="list__item" id="e29c21f8"><p>Set the <span class="control">Fetching interval</span>. For details, see <a href="Mailbox-Integration.html#fetch-email"><span>Set the Schedule for Fetching Email Messages</span></a>.</p></li><li class="list__item" id="491ff8f5"><p>Connect to the mail server that you use to receive email messages. For details, see <a href="Mailbox-Integration.html#connect-to-mail-server"><span>Connect to a Mail Server</span></a>.                <figure><a class="lightbox" href="/help/img/youtrack/2018.2/addMailbox_thumbnail.zoomed.png"><img alt="addMailbox thumbnail" title="addMailbox thumbnail" src="/help/img/youtrack/2018.2/addMailbox_thumbnail.png" id="7f7f9dee" width="600" height="467"></a></figure>            </p></li><li class="list__item" id="db173975">Click the <span class="control">Add Mailbox Rule</span> button and configure the following settings:                <div class="table-wrapper"><table class="                 " width="100%" id="449d22e0"><thead><tr id="55cd7124" class="ijRowHead"><th id="2d1269f2" width="15%"><p>Setting</p></th><th id="290ed99f"><p>Description</p></th></tr></thead><tbody><tr id="35ea3bd6" class="ijRowOdd"><td id="6ef1a59a"><p>Mailbox</p></td><td id="3f7173b3"><p>Select the mailbox that you provided as the <span class="control">Project 'From:' email</span>.</p></td></tr><tr id="c4315328" class="ijRowEven"><td id="6c329acc"><p>Project</p></td><td id="fe62150a"><p>Select the project that you configured to use for the help desk.</p></td></tr></tbody></table></div>                <figure><a class="lightbox" href="/help/img/youtrack/2018.2/mailbox_rule_main_thumbnail.zoomed.png"><img alt="mailbox rule main thumbnail" title="mailbox rule main thumbnail" src="/help/img/youtrack/2018.2/mailbox_rule_main_thumbnail.png" id="e92e581a" width="600" height="367"></a></figure>            </li><li class="list__item" id="17167e6e">Click to expand the <span class="control">Filter</span> section and enter values for the following settings:                <div class="table-wrapper"><table class="                 " width="100%" id="a0c165b4"><thead><tr id="6762ac94" class="ijRowHead"><th id="55f15758" width="15%"><p>Setting</p></th><th id="2ce7a1ba"><p>Description</p></th></tr></thead><tbody><tr id="56639bac" class="ijRowOdd"><td id="0d6d27de"><p>Folder</p></td><td id="994debb5"><p>Select the folder from which you fetch email messages on the mail server.</p></td></tr></tbody></table></div>                <figure><a class="lightbox" href="/help/img/youtrack/2018.2/mailbox_rule_filter_thumbnail.zoomed.png"><img alt="mailbox rule filter thumbnail" title="mailbox rule filter thumbnail" src="/help/img/youtrack/2018.2/mailbox_rule_filter_thumbnail.png" id="71e94dae" width="600" height="432"></a></figure>            </li><li class="list__item" id="d851b3de"><p>Click to expand the <span class="control">Reporter</span> section.</p></li><li class="list__item" id="d7e5ea55"><p>Select the <span class="control">Always set predefined user as reporter</span> option                and select the predefined user to set as the reporter for all issues that are created from incoming email messages.                This option guarantees that YouTrack does not create a user account for each new customer who sends a support request.                <figure><a class="lightbox" href="/help/img/youtrack/2018.2/mailbox_rule_reporter_thumbnail.zoomed.png"><img alt="mailbox rule reporter thumbnail" title="mailbox rule reporter thumbnail" src="/help/img/youtrack/2018.2/mailbox_rule_reporter_thumbnail.png" id="7b6c1a73" width="600" height="465"></a></figure></p></li><li class="list__item" id="a4a22b53"><p>Click to expand the <span class="control">Postprocessing</span> section.</p></li><li class="list__item" id="9b462c2c">In the <span class="control">Command on New Issues</span> input field, enter the following command:                <div class="code-block" data-lang="Java"><code class="code-block__wrapper"><span class="n">Last</span> <span class="n">message</span> <span class="n">related</span> <span class="n">emails</span> <span class="n">$</span><span class="o">{</span><span class="n">from</span><span class="o">}</span> <span class="n">$</span><span class="o">{</span><span class="n">to</span><span class="o">}</span> <span class="n">$</span><span class="o">{</span><span class="n">cc</span><span class="o">}</span></code></div>                <figure><a class="lightbox" href="/help/img/youtrack/2018.2/mailbox_rule_postprocessing_thumbnail.zoomed.png"><img alt="mailbox rule postprocessing thumbnail" title="mailbox rule postprocessing thumbnail" src="/help/img/youtrack/2018.2/mailbox_rule_postprocessing_thumbnail.png" id="3c8c39da" width="600" height="466"></a></figure>                <p id="b6539d1b">This command stores all of the email addresses that are included in processed email messages.                    When an issue is updated, the workflow processes this data, updates the <span class="control">All related emails</span> field, sends notifications, and clears this field.                    For this reason, you will probably never see any values in the <span class="control">Last message related emails</span> field.</p></li><li class="list__item" id="8a9e67d7"><p>Copy the same command to the <span class="control">Command on New Comment</span> field.</p></li><li class="list__item" id="2667f137"><p>Click the <span class="control">Save</span> button.</p></li></ol></section>        <p id="25d042fe">When you have finished with the configuration of the mailbox integration, you're all set.           You are ready to use YouTrack as a help desk and handle incoming requests that are sent to the email address for your customer support team.</p>    </div>    <div class="chapter"><h2 id="Key-Configuration-Settings" data-toc="Use-YouTrack-as-a-Help-Desk#Key-Configuration-Settings">Key Configuration Settings</h2>        <a name="Summary_of_Configuration_Key_Points"></a>        <p id="2e6d81dc">The configuration for the mailbox integration requires setup on a few different pages in YouTrack.            If you're having problems and need to verify the setup, check that the following settings are configured correctly.</p>        <div class="table-wrapper"><table class="                  _layout-fixed" width="100%" id="bb53bb93"><thead><tr id="59855be0" class="ijRowHead"><th id="0eef812a" width="40%"><p>Page</p></th><th id="c09ada0a"><p>Setting</p></th></tr></thead><tbody><tr id="d419e65f" class="ijRowOdd"><td id="517710c4"><p>Global Settings &gt; Notifications</p></td><td id="b78c7612"><p>Email notifications are enabled and configured for your YouTrack server.</p></td></tr><tr id="60f9556d" class="ijRowEven"><td id="338dbd35"><p>Edit Project &gt; General</p></td><td id="52c21b03"><p>The <span class="control">Project 'from' email</span> is set to the email address that customers use to send support requests.</p></td></tr><tr id="26e96371" class="ijRowOdd"><td id="6200458b"><p>Edit Project &gt; Fields</p></td><td id="8231d6a8"><p>The string-type fields <span class="control">All related emails</span> and <span class="control">Last message related emails</span> are added to your project.                You can add these fields to your project when you attach the <span class="control">Notify Multiple Unregistered Users</span> workflow and update the fields in your project.</p></td></tr><tr id="9621d608" class="ijRowEven"><td id="517e1e08"><p>Edit Project &gt; Workflow</p></td><td id="9fb94bc9"><p>The <span class="control">Notify Multiple Unregistered Users</span> is attached to your project.</p></td></tr><tr id="f009e0cc" class="ijRowOdd"><td id="8957c824"><p>Mailbox Integration Settings &gt; Mailbox Rule</p></td><td id="13fca8ff"><p>The <span class="control">Mailbox</span> is set to the mail server that processes email messages that are sent to the address that you used as the <span class="control">Project 'from' email</span> in your project.</p></td></tr><tr id="6a21520b" class="ijRowEven"><td id="05de9f16"><p>Mailbox Integration Settings &gt; Mailbox Rule &gt; Reporter</p></td><td id="1795d375"><p>The <span class="control">Always set predefined user as reporter</span> option is enabled.                    This setting prevents the creation of new user account for each customer who sends an email message to your support address.</p></td></tr><tr id="a7bd84ef" class="ijRowOdd"><td id="cfaa1db3"><p>Mailbox Integration Settings &gt; Mailbox Rule &gt; Postprocessing</p></td><td id="8d2704b3"><p>The command <code class="code" data-lang="Java">Last message related emails ${from} ${to} ${cc}</code> is set for both the <span class="control">Command on New Issues</span> and <span class="control">Command on New Comment</span> input fields.</p></td></tr></tbody></table></div>    </div>    <div class="chapter"><h2 id="Help-Desk-in-Action" data-toc="Use-YouTrack-as-a-Help-Desk#Help-Desk-in-Action">The Help Desk in Action</h2>        <a name="How_the_Process_Will_Look_to_Your_Customers"></a>        <p id="6513a993">Now that you've configured YouTrack to function as a help desk, let's see how it works.            Here is how YouTrack handles a sample customer request.</p>        <ol class="list _decimal"><li class="list__item" id="9387b4be"><p>Your customer sends an email message to your help desk address.                <figure><a class="lightbox" href="/help/img/youtrack/2018.2/userEmail_thumbnail.zoomed.png"><img alt="userEmail thumbnail" title="userEmail thumbnail" src="/help/img/youtrack/2018.2/userEmail_thumbnail.png" id="17e3f271" width="600" height="384"></a></figure>            </p></li><li class="list__item" id="601be16c"><p>The email message is processed by the mailbox integration.                A new issue is created based on the email message.                <figure><a class="lightbox" href="/help/img/youtrack/2018.2/new-issue-from-email.zoomed.png"><img alt="new issue from email" title="new issue from email" src="/help/img/youtrack/2018.2/new-issue-from-email.png" id="51bd4cb3" width="600" height="336"></a></figure>                YouTrack stores the email address of the customer in the issue.</p></li><li class="list__item" id="c34ec091"><p>A support engineer adds a comment to the issue to respond to the customer request.                <figure><a class="lightbox" href="/help/img/youtrack/2018.2/support-reply-in-comment.zoomed.png"><img alt="support reply in comment" title="support reply in comment" src="/help/img/youtrack/2018.2/support-reply-in-comment.png" id="8d1170f1" width="600" height="424"></a></figure>            </p></li><li class="list__item" id="32610b5b"><p>The customer receives an email message that includes the new comment.                <figure><a class="lightbox" href="/help/img/youtrack/2018.2/notificationReceived_thumbnail.zoomed.png"><img alt="notificationReceived thumbnail" title="notificationReceived thumbnail" src="/help/img/youtrack/2018.2/notificationReceived_thumbnail.png" id="04857dbf" width="600" height="112"></a></figure>            </p></li><li class="list__item" id="ce3618f1"><p>The customer replies to the email message.                <figure><a class="lightbox" href="/help/img/youtrack/2018.2/userReplyEmail_thumbnail.zoomed.png"><img alt="userReplyEmail thumbnail" title="userReplyEmail thumbnail" src="/help/img/youtrack/2018.2/userReplyEmail_thumbnail.png" id="ca77c386" width="600" height="336"></a></figure>            </p></li><li class="list__item" id="17cfe26f"><p>YouTrack adds the text in the reply as a comment in the original issue.                <figure><a class="lightbox" href="/help/img/youtrack/2018.2/user-reply-as-comment.zoomed.png"><img alt="user reply as comment" title="user reply as comment" src="/help/img/youtrack/2018.2/user-reply-as-comment.png" id="2d62f693" width="600" height="283"></a></figure>            </p></li></ol>        <p id="3b33e5e1">From the customers' point of view, all they do exchange emails with your support team.            Your support team simply reads and adds comments to the issue.            Plus, you get to take advantage of using a full-featured issue tracking system.</p>    </div>    <div class="chapter"><h2 id="Enhancements" data-toc="Use-YouTrack-as-a-Help-Desk#Enhancements">Enhancements</h2>        <p id="e13a61be">This setup shows you how to set up YouTrack to manage support requests.            You can configure your YouTrack system to support additional use cases and match your support routine.</p>        <p id="4f157594">Review this section for additional features that you want to activate or configure in your project.</p>        <div class="chapter"><h3 id="update-email-message-text">Customize the Email Message</h3>          <p id="304d2813">The workflow that sends notifications to unregistered users adds a line of text to the end of the message.            To update this part of the message, edit the text in the <span class="control">Send notifications to all unregistered users</span> rule.            For more information, see <a href="Workflow-Notify-Multiple-Unregistered-Users.html"><span>Notify Multiple Unregistered Users</span></a>.</p>          <p id="8d2812e7">Note that the message text in the default workflow has been localized.            To customize the message, you need to remove the <code class="code" data-lang="Java">i18n</code> method and replace the localized text string with a static string literal in the desired language.            For more information, see <a href="Workflow-Localization.html"><span>Localization</span></a>.</p></div>        <div class="chapter"><h3 id="change-priority-issue-age">Change Priority Based on Issue Age</h3>          <p id="e044ca02">You can automatically raise the priority of an issue based on the amount of time it has been open.            For more information, see <a href="Workflow-Auto-Raise-Priority.html"><span>SLA Priority</span></a>.</p>        </div>      <div class="chapter"><h3 id="use-multiple-email-addresses">Use Multiple Support Email Addresses</h3>        <p id="edfc7181">We use this setup for the YouTrack team. You can contact us at youtrack-feedback@jetbrains.com or youtrack-incloud-support@jetbrains.com.          All of these requests end up in one Gmail inbox.          As you can only use one From field in a project, we use a workflow to manage each email address.</p>        <p id="09fa6cf9">The solution is to create a workflow rule and attach it to your help desk project:</p>        <div class="code-block" data-lang="Javascript"><code class="code-block__wrapper"><span class="kd">var</span> <span class="nx">entities</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;@jetbrains/youtrack-scripting-api/entities&#39;</span><span class="p">);</span>

<span class="nx">exports</span><span class="p">.</span><span class="nx">rule</span> <span class="o">=</span> <span class="nx">entities</span><span class="p">.</span><span class="nx">Issue</span><span class="p">.</span><span class="nx">onChange</span><span class="p">({</span>
  <span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;Remove additional feedback emails from All related emails&#39;</span><span class="p">,</span>
  <span class="nx">guard</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">ctx</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">ctx</span><span class="p">.</span><span class="nx">issue</span><span class="p">.</span><span class="nx">fields</span><span class="p">.</span><span class="nx">isChanged</span><span class="p">(</span><span class="nx">ctx</span><span class="p">.</span><span class="nx">allEmails</span><span class="p">);</span>
  <span class="p">},</span>
  <span class="nx">action</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">ctx</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">fields</span> <span class="o">=</span> <span class="nx">ctx</span><span class="p">.</span><span class="nx">issue</span><span class="p">.</span><span class="nx">fields</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">feedbackEmail</span> <span class="o">=</span> <span class="s1">&#39;email@test.com&#39;</span><span class="p">;</span>
    <span class="nx">fields</span><span class="p">.</span><span class="nx">allEmails</span> <span class="o">=</span> <span class="nx">fields</span><span class="p">.</span><span class="nx">allEmails</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="nx">feedbackEmail</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">);</span>
  <span class="p">},</span>
  <span class="nx">requirements</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">allEmails</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;All related emails&#39;</span><span class="p">,</span>
      <span class="nx">type</span><span class="o">:</span> <span class="nx">entities</span><span class="p">.</span><span class="nx">Field</span><span class="p">.</span><span class="nx">stringType</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">});</span></code></div>      </div>      <div class="chapter"><h3 id="send-confirmation-emails">Send Confirmation Emails for New Issues</h3>        <p id="48b4478e">We prefer to minimize the number of notifications that customers receive from YouTrack.          This is why we don't send notifications when issues are created.</p>        <p id="651b7551">If you choose to send a notification, apply the following changes to the <span class="control">Collect related emails on issue creation</span> rule          of the <span class="control">Notify Multiple Unregistered Users</span> workflow:</p>        <ol class="list _decimal"><li class="list__item" id="b0555a74"><p>Add a reference to the <code class="code" data-lang="Java">notifications</code> module in the requirement declarations section.</p></li><li class="list__item" id="b14ffd95"><p>Add the definition for an email message that is sent when an issue is created in the project.</p></li></ol>        <p id="c6c36213">Use the following version of the workflow rule as a guide:</p>        <div class="code-block" data-lang="Javascript"><code class="code-block__wrapper"><span class="kd">var</span> <span class="nx">entities</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;@jetbrains/youtrack-scripting-api/entities&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">workflow</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;@jetbrains/youtrack-scripting-api/workflow&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">notifications</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;@jetbrains/youtrack-scripting-api/notifications&#39;</span><span class="p">);</span>

<span class="nx">exports</span><span class="p">.</span><span class="nx">rule</span> <span class="o">=</span> <span class="nx">entities</span><span class="p">.</span><span class="nx">Issue</span><span class="p">.</span><span class="nx">onChange</span><span class="p">({</span>
  <span class="nx">title</span><span class="o">:</span> <span class="nx">workflow</span><span class="p">.</span><span class="nx">i18n</span><span class="p">(</span><span class="s1">&#39;Collect related emails on issue creation&#39;</span><span class="p">),</span>
  <span class="nx">guard</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">ctx</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">ctx</span><span class="p">.</span><span class="nx">issue</span><span class="p">.</span><span class="nx">becomesReported</span><span class="p">;</span>
  <span class="p">},</span>
  <span class="nx">action</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">ctx</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">issue</span> <span class="o">=</span> <span class="nx">ctx</span><span class="p">.</span><span class="nx">issue</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">lastMessageRelatedEmailsStr</span> <span class="o">=</span> <span class="nx">issue</span><span class="p">.</span><span class="nx">fields</span><span class="p">.</span><span class="nx">lastEmails</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">isBlank</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">str</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="o">!</span><span class="nx">str</span> <span class="o">||</span> <span class="nx">str</span><span class="p">.</span><span class="nx">trim</span><span class="p">().</span><span class="nx">length</span> <span class="o">===</span> <span class="mi">0</span><span class="p">;</span>
    <span class="p">};</span>
    <span class="kd">var</span> <span class="nx">lastMessageRelatedEmails</span> <span class="o">=</span> <span class="nx">isBlank</span><span class="p">(</span><span class="nx">lastMessageRelatedEmailsStr</span><span class="p">)</span> <span class="o">?</span> <span class="p">[]</span> <span class="o">:</span> <span class="nx">lastMessageRelatedEmailsStr</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">);</span>

    <span class="k">if</span> <span class="p">(</span><span class="nx">lastMessageRelatedEmails</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">fromServiceEmail</span> <span class="o">=</span> <span class="nx">issue</span><span class="p">.</span><span class="nx">project</span><span class="p">.</span><span class="nx">notificationEmail</span><span class="p">;</span>
      <span class="kd">var</span> <span class="nx">isEmailAllowed</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">email</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">email</span> <span class="o">&amp;&amp;</span> <span class="nx">email</span><span class="p">.</span><span class="nx">length</span> <span class="o">&amp;&amp;</span> <span class="nx">email</span><span class="p">.</span><span class="nx">toUpperCase</span><span class="p">()</span> <span class="o">!==</span> <span class="nx">fromServiceEmail</span><span class="p">.</span><span class="nx">toUpperCase</span><span class="p">();</span>
      <span class="p">};</span>
      <span class="kd">var</span> <span class="nx">allRelatedEmailsStr</span> <span class="o">=</span> <span class="nx">issue</span><span class="p">.</span><span class="nx">fields</span><span class="p">.</span><span class="nx">allEmails</span><span class="p">;</span>
      <span class="kd">var</span> <span class="nx">allRelatedEmails</span> <span class="o">=</span> <span class="nx">isBlank</span><span class="p">(</span><span class="nx">allRelatedEmailsStr</span><span class="p">)</span> <span class="o">?</span> <span class="p">[]</span> <span class="o">:</span> <span class="nx">allRelatedEmailsStr</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">);</span>

      <span class="kd">var</span> <span class="nx">newUsersEmails</span> <span class="o">=</span> <span class="nx">lastMessageRelatedEmails</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">email</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">isEmailAllowed</span><span class="p">(</span><span class="nx">email</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nx">allRelatedEmails</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">email</span><span class="p">)</span> <span class="o">===</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
      <span class="p">});</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">newUsersEmails</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">issue</span><span class="p">.</span><span class="nx">fields</span><span class="p">.</span><span class="nx">allEmails</span> <span class="o">=</span> <span class="nx">allRelatedEmails</span><span class="p">.</span><span class="nx">concat</span><span class="p">(</span><span class="nx">newUsersEmails</span><span class="p">).</span><span class="nx">join</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">);</span>
      <span class="p">}</span>
      <span class="nx">issue</span><span class="p">.</span><span class="nx">fields</span><span class="p">.</span><span class="nx">lastEmails</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>

      <span class="kd">var</span> <span class="nx">message</span> <span class="o">=</span> <span class="p">{</span>
          <span class="nx">fromName</span><span class="o">:</span> <span class="s1">&#39;YouTrack&#39;</span><span class="p">,</span>                  <span class="c1">// set whichever name you prefer</span>
          <span class="nx">toEmails</span><span class="o">:</span> <span class="nx">lastMessageRelatedEmails</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
          <span class="nx">subject</span><span class="o">:</span> <span class="s1">&#39;[YouTrack] New Issue&#39;</span><span class="p">,</span>       <span class="c1">// set a subject you like</span>
          <span class="nx">body</span><span class="o">:</span> <span class="s1">&#39;The text of the notification&#39;</span>   <span class="c1">// set a full body of your notification</span>
        <span class="p">};</span>
      <span class="nx">notifications</span><span class="p">.</span><span class="nx">sendEmail</span><span class="p">(</span><span class="nx">message</span><span class="p">,</span> <span class="nx">issue</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="nx">requirements</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">lastEmails</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;Last message related emails&#39;</span><span class="p">,</span>
      <span class="nx">type</span><span class="o">:</span> <span class="nx">entities</span><span class="p">.</span><span class="nx">Field</span><span class="p">.</span><span class="nx">stringType</span>
    <span class="p">},</span>
    <span class="nx">allEmails</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;All related emails&#39;</span><span class="p">,</span>
      <span class="nx">type</span><span class="o">:</span> <span class="nx">entities</span><span class="p">.</span><span class="nx">Field</span><span class="p">.</span><span class="nx">stringType</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">});</span></code></div>      </div>    </div>        <div class="last-modified" data-skip-index="skip">Last modified: 7 March 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="Right-to-Left-Languages-Support.html">Right-to-Left Language Support</a><a class="navigation-links__next" href="Add-System-Wide-Banner-to-YouTrack.html">Add a System-wide Banner to YouTrack</a></div><section class="seealso" data-skip-index="skip"><div class="seealso__header"><h2>See Also</h2></div><div class="seealso__content"><div class="seealso__col" data-skip-index="skip"><h3>Concepts:</h3><ul class="list"><li class="list__item"><a href="Project-Templates.html"><span>Project Templates</span></a></li></ul></div><div class="seealso__col" data-skip-index="skip"><h3>System Administration:</h3><ul class="list"><li class="list__item"><a href="Managing-Global-Settings.html"><span>Global Settings</span></a></li><li class="list__item"><a href="Creating-and-Editing-Custom-Fields.html"><span>Create and Edit Custom Fields</span></a></li><li class="list__item"><a href="Attach-Workflow-to-Projects.html"><span>Manage Workflows for Multiple Projects</span></a></li><li class="list__item"><a href="Mailbox-Integration.html"><span>Mailbox Integration</span></a></li></ul></div></div></section></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/help/app/v2/app.js"></script></body></html>