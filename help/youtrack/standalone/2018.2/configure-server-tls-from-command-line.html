<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/help/app/v2/analytics.js"></script><meta charset="UTF-8"><meta name="robots" content="noindex"><title>Configure Built-in TLS in Command Line - Help | YouTrack Standalone</title><link rel="stylesheet" href="/help/app/v2/app.css"></head><body data-id="server-tls-from-command-line"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search YouTrack Standalone Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>YouTrack Standalone 2018.2 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="false"><h1 data-toc="server-tls-from-command-line" id="configure-server-tls-from-command-line.xml">Configure Built-in TLS in Command Line</h1>    <div class="chapter"><h2 id="ae9d3737" data-toc="server-tls-from-command-line#ae9d3737">Configuring TLS in your current YouTrack installation</h2>        <aside class="note " data-title="" rel="ae9d3737" id="8398a539">            <p id="7ad01b94">All commands listed here are Linux or Mac OS X commands. If you're working on a Windows server, simply                replace <code class="code" data-lang="Console">.sh</code> with <code class="code" data-lang="Java">.sh</code>. For Mac OS X or Linux, please make sure                to start YouTrack as a non-root user.            </p>        </aside>        <p id="4e09a41e">            Using the command line, you can switch between the following secure mode configurations:        </p>        <ul class="list _ul"><li class="list__item" id="5094cd1b"><p>                HTTP — default HTTP mode. TLS is disabled            </p></li><li class="list__item" id="21f6b2fc"><p>                HTTPS(keystore) — secure HTTPS mode. TLS is enabled. The private key/certificate data is stored in                a keystore file.            </p></li><li class="list__item" id="f6a3fa5a"><p>                HTTPS(privateKeyAndCert) — secure HTTPS mode. TLS is enabled. The private key, certificate, and                certificate chain(optional) are stored in separate files in the PEM format.            </p></li></ul>        To switch to a desired mode, you need to stop YouTrack and run the <code class="code" data-lang="Java">configure</code> command defining all the        properties required for the configuration of your choice.        See below for detailed instructions and a complete list of the <a href="#configure-properties">properties</a> for        each configuration.        <section class="procedure-steps"><h2 id="procedure-switch-to-http">To switch to the HTTP mode:</h2><ol class="list _decimal"><li class="list__item" id="4afd2e67">                <p id="f45e42d3">Stop YouTrack:                    <code class="code" data-lang="Java">&lt;youtrack_home&gt;/bin/youtrack.sh stop</code>                </p>            </li><li class="list__item" id="07dc2932">                <p id="0fce8aaa">Enter the following command:                    <div class="code-block" data-lang="Java"><code class="code-block__wrapper"><span class="o">&lt;</span><span class="n">youtrack_home</span><span class="o">&gt;/</span><span class="n">bin</span><span class="o">/</span><span class="n">youtrack</span><span class="o">.</span><span class="na">sh</span> <span class="n">configure</span> <span class="o">--</span><span class="n">listen</span><span class="o">-</span><span class="n">port</span><span class="o">=</span><span class="mi">8080</span> <span class="o">--</span><span class="n">secure</span><span class="o">-</span><span class="n">mode</span><span class="o">=</span><span class="n">disable</span></code></div>                </p>            </li><li class="list__item" id="f1e50d84">                <p id="27aab3f4">                    <p id="2f6114cf">Start YouTrack:                        <code class="code" data-lang="Java">&lt;youtrack_home&gt;/bin/youtrack.sh start</code>                    </p>                </p>            </li></ol></section>        <section class="procedure-steps"><h2 id="HTTPS-keystore">To switch to the HTTPS (keystore) mode:</h2><ol class="list _decimal"><li class="list__item" id="8066f9b4">                <p id="b1d8c1db">Create a temporary folder and place the file <code class="code" data-lang="Java">keystore.jks</code> containing the server's                    private key and certificate in that folder.                </p>            </li><li class="list__item" id="2795e2a5">                <p id="e46c961f">Stop YouTrack:                    <code class="code" data-lang="Java">&lt;youtrack_home&gt;/bin/youtrack.sh stop</code>                </p>            </li><li class="list__item" id="2f58e10a">                <p id="8280bbea">Run the following command:                    <div class="code-block" data-lang="Java"><code class="code-block__wrapper"><span class="o">&lt;</span><span class="n">youtrack_home</span><span class="o">&gt;/</span><span class="n">bin</span><span class="o">/</span><span class="n">youtrack</span><span class="o">.</span><span class="na">sh</span> <span class="n">configure</span> <span class="o">--</span><span class="n">listen</span><span class="o">-</span><span class="n">port</span><span class="o">=</span><span class="mi">443</span> <span class="o">--</span><span class="n">secure</span><span class="o">-</span><span class="n">mode</span><span class="o">=</span><span class="n">tls</span> <span class="o">--</span><span class="n">tls</span><span class="o">-</span><span class="n">server</span><span class="o">-</span><span class="n">cert</span><span class="o">-</span><span class="n">storage</span><span class="o">-</span><span class="n">type</span><span class="o">=</span><span class="n">keystore</span> <span class="o">--</span><span class="n">tls</span><span class="o">-</span><span class="n">server</span><span class="o">-</span><span class="n">cert</span><span class="o">-</span><span class="n">folder</span><span class="o">=&lt;</span><span class="n">folder</span> <span class="n">with</span> <span class="n">file</span> <span class="n">keystore</span><span class="o">.</span><span class="na">jks</span><span class="o">&gt;</span> <span class="o">--</span><span class="n">tls</span><span class="o">-</span><span class="n">server</span><span class="o">-</span><span class="n">cert</span><span class="o">-</span><span class="n">keystore</span><span class="o">-</span><span class="n">password</span><span class="o">=&lt;</span><span class="n">keystore</span> <span class="n">password</span><span class="o">&gt;</span> <span class="o">--</span><span class="n">tls</span><span class="o">-</span><span class="n">server</span><span class="o">-</span><span class="n">cert</span><span class="o">-</span><span class="n">keystore</span><span class="o">-</span><span class="n">key</span><span class="o">-</span><span class="n">alias</span><span class="o">=&lt;</span><span class="kd">private</span> <span class="n">key</span> <span class="n">entry</span> <span class="n">alias</span><span class="o">&gt;</span> <span class="o">--</span><span class="n">tls</span><span class="o">-</span><span class="n">server</span><span class="o">-</span><span class="n">cert</span><span class="o">-</span><span class="n">keystore</span><span class="o">-</span><span class="n">key</span><span class="o">-</span><span class="n">password</span><span class="o">=&lt;</span><span class="kd">private</span> <span class="n">key</span> <span class="n">entry</span> <span class="n">password</span><span class="o">&gt;</span> <span class="o">--</span><span class="n">tls</span><span class="o">-</span><span class="n">redirect</span><span class="o">-</span><span class="n">from</span><span class="o">-</span><span class="n">http</span><span class="o">=&lt;[</span><span class="kc">true</span><span class="o">|</span><span class="kc">false</span><span class="o">]&gt;</span> <span class="o">[--</span><span class="n">tls</span><span class="o">-</span><span class="n">redirect</span><span class="o">-</span><span class="n">from</span><span class="o">-</span><span class="n">http</span><span class="o">-</span><span class="n">listen</span><span class="o">-</span><span class="n">port</span><span class="o">=</span><span class="mi">8080</span><span class="o">]</span></code></div>                </p>            </li><li class="list__item" id="df51e3ae">                <p id="81663ddf">Start YouTrack:                    <code class="code" data-lang="Java">&lt;youtrack_home&gt;/bin/youtrack.sh start</code>                </p>            </li></ol></section>        <aside class="tip sideblock" data-title="" rel="HTTPS-keystore" id="d5b63f42">            <p id="822b1a54">You can also use these procedures if you have already configured HTTPS and simply want to apply new                private key/certificate to the server.            </p>        </aside>        <aside class="note " data-title="" rel="ae9d3737" id="29420030">            <p id="886a1f69">If the server base URL is expected to be changed as a result of switching between HTTP/HTTPS modes, you                must specify the new base URL: Add the parameter <code class="code" data-lang="Java">--base-url=&lt;new base URL&gt;</code> to                the <code class="code" data-lang="Java">configure</code>command.            </p>        </aside>        <section class="procedure-steps"><h2 id="HTTPS-privateKeyAndCert">To switch to the HTTPS (privateKeyAndCert) mode:</h2><ol class="list _decimal"><li class="list__item" id="5b769b95">                <p id="ade26fea">Create a temporary folder (let's call it <code class="code" data-lang="Java">&lt;certificates_folder&gt;</code>) to store the files                    with private key, certificate, and certificate chain (if any).                </p>            </li><li class="list__item" id="1a76fd16">                <p id="76503f46">Place the private key (in the PEM format) into file <code class="code" data-lang="Java">&lt;certificates_folder&gt;/privateKey.pem</code>.                </p>            </li><li class="list__item" id="ed20c4ef">                <p id="b3f672a5">Place the server certificate (in the PEM format) associated with the private key into the file <code class="code" data-lang="Java">&lt;certificates_folder&gt;/certificate.crt</code>.                </p>            </li><li class="list__item" id="07240f2f">                <p id="118d63df">If you have a certificate chain for signing the server's certificate (in the PEM format), place it                    into the file <code class="code" data-lang="Java">&lt;certificates_folder&gt;/certificateChain.crt</code>.                </p>            </li><li class="list__item" id="a5488cf8">                <p id="2d2fd2fd">Stop YouTrack:                    <code class="code" data-lang="Java">&lt;youtrack_home&gt;/bin/youtrack.sh stop</code>                </p>            </li><li class="list__item" id="f2a8dcc1"><p>                Run the following command:                    <div class="code-block" data-lang="Java"><code class="code-block__wrapper"><span class="o">&lt;</span><span class="n">youtrack_home</span><span class="o">&gt;/</span><span class="n">bin</span><span class="o">/</span><span class="n">youtrack</span><span class="o">.</span><span class="na">sh</span> <span class="n">configure</span> <span class="o">--</span><span class="n">listen</span><span class="o">-</span><span class="n">port</span><span class="o">=</span><span class="mi">443</span> <span class="o">--</span><span class="n">secure</span><span class="o">-</span><span class="n">mode</span><span class="o">=</span><span class="n">tls</span> <span class="err">\</span>
<span class="o">--</span><span class="n">tls</span><span class="o">-</span><span class="n">server</span><span class="o">-</span><span class="n">cert</span><span class="o">-</span><span class="n">storage</span><span class="o">-</span><span class="n">type</span><span class="o">=</span><span class="n">privateKeyAndCert</span> <span class="o">--</span><span class="n">tls</span><span class="o">-</span><span class="n">server</span><span class="o">-</span><span class="n">cert</span><span class="o">-</span><span class="n">folder</span><span class="o">=&lt;</span><span class="n">certificates_folder</span><span class="o">&gt;</span> <span class="err">\</span>
<span class="o">--</span><span class="n">tls</span><span class="o">-</span><span class="n">redirect</span><span class="o">-</span><span class="n">from</span><span class="o">-</span><span class="n">http</span><span class="o">=&lt;[</span><span class="kc">true</span><span class="o">|</span><span class="kc">false</span><span class="o">]&gt;</span> <span class="o">[--</span><span class="n">tls</span><span class="o">-</span><span class="n">redirect</span><span class="o">-</span><span class="n">from</span><span class="o">-</span><span class="n">http</span><span class="o">-</span><span class="n">listen</span><span class="o">-</span><span class="n">port</span><span class="o">=</span><span class="mi">8080</span><span class="o">]</span></code></div>                If the private key is encrypted, also add the <code class="code" data-lang="Java">tls-server-cert-keystore-key-password</code> property to provide the passphrase for the key.            </p></li><li class="list__item" id="4cedf4da">                <p id="995a31f0">                    <p id="292f8825">Start YouTrack:                        <code class="code" data-lang="Java">&lt;youtrack_home&gt;/bin/youtrack.sh start</code>                    </p>                </p>            </li></ol></section>    </div>    <div class="chapter"><h2 id="redirect" data-toc="server-tls-from-command-line#redirect">Redirecting HTTP traffic</h2>        <p id="054d9fe2">If you are going to use a secure HTTPS mode, you can optionally set up a <span class="control">Redirect listen port        </span> — a non-secure port that will receive all HTTP requests and redirect them to the secure listen            port. To do so, add the parameters <code class="code" data-lang="Java">tls-redirect-from-http=true</code> and            <code class="code" data-lang="Java">tls-redirect-from-http-listen-port=&lt;your redirect port number&gt;</code> to the <code class="code" data-lang="Java">configure</code> command.        </p>    </div>    <div class="chapter"><h2 id="configure-properties" data-toc="server-tls-from-command-line#configure-properties">Configuration Parameters</h2>        <h2>HTTP</h2><div class="table-wrapper"><table class=" wide                 " width="100%" id="configuration-parameters-http"><thead><tr id="f702b17f" class="ijRowHead"><th id="3debd0ee"><p>                    Property                </p></th><th id="9db4000e"><p>                    Value                </p></th><th id="843360ec"><p>                    Description                </p></th></tr></thead><tbody><tr id="5d122f84" class="ijRowOdd"><td id="63b6eab7"><p>                    secure-mode                </p></td><td id="6016a4e7"><p>                    disable                </p></td><td id="19129fbf"><p>                    The default value of the property. TLS is disabled by default.                </p></td></tr><tr id="5805c7e6" class="ijRowEven"><td id="c87d9b47"><p>                    listen-port                </p></td><td id="8a6bed35"><p></p></td><td id="5bf1624e"><p>                    The port on which YouTrack listens to the HTTP traffic.                </p></td></tr></tbody></table></div>        <h2>HTTPS (common properties)</h2><div class="table-wrapper"><table class=" wide                 " width="100%" id="configuration-parameters-https-common"><thead><tr id="83ab07ce" class="ijRowHead"><th id="0a91ac84"><p>                    Property                </p></th><th id="3c5346de"><p>                    Value                </p></th><th id="2b656359"><p>                    Description                </p></th></tr></thead><tbody><tr id="6ba06fb4" class="ijRowOdd"><td id="bdcf9722"><p>                    secure-mode                </p></td><td id="510bd706"><p>                    tls                </p></td><td id="ef1a9bc0"><p>                    TLS is enabled                </p></td></tr><tr id="10723e2d" class="ijRowEven"><td id="08d444f7"><p>                    tls-server-cert-storage-type                </p></td><td id="73017e64"><p>                    <code class="code" data-lang="Java">keystore|privateKeyAndCert</code>                </p></td><td id="9875addd"><p>                    Defines the format (storage type) of a server certificate. See descriptions of each storage type                    below.                </p></td></tr><tr id="590af34c" class="ijRowOdd"><td id="1129d0fd"><p>                    tls-redirect-from-http                </p></td><td id="10646fc8"><p>                    <code class="code" data-lang="Java">true</code>                    or <code class="code" data-lang="Java">false</code>. The default value is <code class="code" data-lang="Java">false</code>.                </p></td><td id="fb783674"><p>                    Set to true, to enable an additional port (defined by property <code class="code" data-lang="Java">tls-redirect-from-http-listen-port</code>) to accept unencrypted HTTP traffic and redirect it to a                    secure port defined by the property <code class="code" data-lang="Java">listen-port</code>.                </p></td></tr><tr id="75ce1858" class="ijRowEven"><td id="09ce6eea"><p>                    tls-redirect-from-http-listen-port                </p></td><td id="bdc3579b"><p></p></td><td id="e267f8b5"><p>                    Specify an additional port to accept unencrypted HTTP traffic and redirect it to a secure port                    defined by the property <code class="code" data-lang="Java">listen-port</code> (to enable this port, set the property <code class="code" data-lang="Java">tls-redirect-from-http</code> to <code class="code" data-lang="Java">true</code>)                </p></td></tr><tr id="17eda378" class="ijRowOdd"><td id="9e126dfa"><p>                    tls-server-cert-folder                </p></td><td id="b138a663"><p></p></td><td id="08c23db8">                    <p id="4164b811">Specify the directory that contains server certificate files to be applied to YouTrack. The directory                        should contain the file <code class="code" data-lang="Java">keystore.jks</code>. If you are using the keystore format (the property <code class="code" data-lang="Java">tls-server-cert-storage-type</code> is set to keystore in that case). The directory should contain the files <code class="code" data-lang="Java">privateKey.pem</code>, <code class="code" data-lang="Java">certificate.crt</code> and <code class="code" data-lang="Java">certificateChain.crt</code> (if                        any) if you are using the PEM format (the property <code class="code" data-lang="Java">tls-server-cert-storage-type</code> is                        set to <code class="code" data-lang="Java">privateKeyAndCert</code> in that case).                    </p>                </td></tr></tbody></table></div>        <h2>HTTPS (keystore - additional settings)</h2><div class="table-wrapper"><table class=" wide                  _layout-fixed" width="100%" id="configuration-parameters-https-keystore-additional"><thead><tr id="b3d158eb" class="ijRowHead"><th id="cdb5a656"><p>                    Property                </p></th><th id="6d019e44" width="180"><p>                    Value                </p></th><th id="ab68ea27"><p>                    Description                </p></th></tr></thead><tbody><tr id="e9a56666" class="ijRowOdd"><td id="48303e6d"><p>                    tls-server-cert-storage-type                </p></td><td id="fe70535d"><p>                    keystore                </p></td><td id="3099011a">                    <p id="41d722bf">Use this property if your private key/certificate data is stored in a generated keystore file. In                        this mode, the server's private key/certificate pair will be derived from the file                        <code class="code" data-lang="Console">internal/cert/keystore/keystore.jks</code>                        located in the conf directory. The keystore file is saved in the <a href="https://docs.oracle.com/javase/7/docs/technotes/tools/windows/keytool.html" data-external="true" target="_blank" rel="noopener noreferrer"><span>JKS format</span></a>.                    </p>                </td></tr><tr id="a640e765" class="ijRowEven"><td id="977f1413"><p>                    tls-server-cert-keystore-password                </p></td><td id="b1455d2d"><p></p></td><td id="8ea71212"><p>                    Keystore integrity password                </p></td></tr><tr id="52216739" class="ijRowOdd"><td id="386e3c26"><p>                    tls-server-cert-keystore-key-alias                </p></td><td id="99cf263f"><p></p></td><td id="20bd4971"><p>                    Alias that is associated with the private key/certificate entry in the keystore.                </p></td></tr><tr id="351445ee" class="ijRowEven"><td id="3ed4ea04"><p>                    tls-server-cert-keystore-key-password                </p></td><td id="74ecf65e"><p></p></td><td id="d0800829"><p>                    Password that protects your server's private key entry in the keystore.                </p></td></tr></tbody></table></div>        <h2>HTTPS (privateKeyAndCert - additional settings)</h2><div class="table-wrapper"><table class=" wide                  _layout-fixed" width="100%" id="configuration-parameters-https-cert-additional"><thead><tr id="8f722e30" class="ijRowHead"><th id="7366edca"><p>                    Property                </p></th><th id="6d3390f3" width="180"><p>                    Value                </p></th><th id="194eb9af"><p>                    Description                </p></th></tr></thead><tbody><tr id="dfb90335" class="ijRowOdd"><td id="42f4a08a"><p>                    tls-server-cert-storage-type                </p></td><td id="a9199d1e"><p>                    privateKeyAndCert                </p></td><td id="be7b0ea0">                    <p id="1db37fa2">In this mode the server's private key/certificate pair is taken from the files                        <code class="code" data-lang="Console">internal/cert/privateKeyAndCert/privateKey.pem</code>,                        <code class="code" data-lang="Console">internal/cert/privateKeyAndCert/certificate.crt</code> that are located in the <code class="code" data-lang="Java">conf</code> directory.                        Also, a certificate chain can be defined in the                        file <code class="code" data-lang="Console">internal/cert/privateKeyAndCert/certificateChain.crt</code>. All files are assumed to                        be stored in the PEM format. Private key in PKCS#8 or PKCS#1 format.                    </p>                </td></tr><tr id="cd4d9215" class="ijRowEven"><td id="025f7c66"><p>tls-server-cert-private-key-passphrase </p></td><td id="7aa0bd81"><p>string</p></td><td id="6acce401"><p>If you use an encrypted private key, then use this property to provide the passphrase that was used for encryption. Supported for both PKCS#8 and PKCS#1 formats.</p></td></tr></tbody></table></div>    </div><div class="last-modified" data-skip-index="skip">Last modified: 7 March 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="configure-server-tls-configuration-wizard.html">Configure Built-in TLS in Web-based Configuration Wizard</a><a class="navigation-links__next" href="switch-between-third-party-proxy-and-built-in-tls.html">Switch Between Third-party Proxy and Built-in TLS</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/help/app/v2/app.js"></script></body></html>