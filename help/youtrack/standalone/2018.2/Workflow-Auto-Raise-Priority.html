<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/help/app/v2/analytics.js"></script><meta charset="UTF-8"><meta name="robots" content="noindex"><title>SLA Priority - Help | YouTrack Standalone</title><link rel="stylesheet" href="/help/app/v2/app.css"></head><body data-id="Workflow-Auto-Raise-Priority"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search YouTrack Standalone Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>YouTrack Standalone 2018.2 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="false"><h1 data-toc="Workflow-Auto-Raise-Priority" id="Workflow-Auto-Raise-Priority.xml">SLA Priority</h1>  <p id="2ec0abe1">This workflow automatically updates the priority of an issue if it is not resolved within a set time frame.</p>  <div class="table-wrapper"><table class="left_header                 " width="100%" id="875840a8"><tbody><tr id="f4b1f045" class="ijRowOdd"><th id="a9619ba3"><p>Name</p></th><td id="3e5e2b35"><p>@jetbrains/youtrack-workflow-auto-raise-priority</p></td></tr><tr id="a7fe464f" class="ijRowEven"><th id="ba5ad3fd"><p>Previous Title</p></th><td id="55f86a4e"><p>Auto Raise Priority</p></td></tr><tr id="ea04b507" class="ijRowOdd"><th id="aad271a0"><p>Auto-attached</p></th><td id="a316335f"><p>no</p></td></tr><tr id="f6807869" class="ijRowEven"><th id="3e295e85"><p>Modules</p></th><td id="b3183f59"><p><a href="#normal-to-major">Raise priority from "Normal" to "Major" if not resolved in 7 days</a> (on-schedule rule)<br>        <a href="#major-to-critical">Raise priority from "Major" to "Critical" if not resolved in 10 days</a> (on-schedule rule)<br>        <a href="#critical-to-show-stopper">Raise priority from "Critical" to "Show-stopper" if not resolved in 12 days</a> (on-schedule rule)<br>        <a href="#date-utils">date-utils</a> (custom script)      </p></td></tr></tbody></table></div>  <div class="chapter"><h2 id="db1142f5">Use Case</h2>    <p id="85fdaee6">This workflow helps you meet specific service-level agreements.      The default workflow is set up for a support desk that tries to resolve all issues within 14 days.      As this deadline approaches, unresolved issues automatically increase in priority.</p>  </div>  <div class="chapter"><h2 id="e0ef5843">Modules</h2>    <p id="4479ccd0">This workflow includes three rules that change the priority based on the amount of time that has passed since an issue was opened.      You can easily customize this workflow to help you resolve issues within a set time frame by simply changing the number of days.</p>    <div class="chapter"><h3 id="normal-to-major">Raise priority from "Normal" to "Major" if not resolved in 7 days</h3>      <p id="72713d14">The first module contains an on-schedule rule that changes the priority of an issue from <span class="control">Normal</span> to <span class="control">Major</span> if it is not resolved after seven days.        The rule runs daily starting at 08:00.</p>        <div class="code-block" data-lang="Javascript"><code class="code-block__wrapper"><span class="kd">var</span> <span class="nx">entities</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;@jetbrains/youtrack-scripting-api/entities&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">workflow</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;@jetbrains/youtrack-scripting-api/workflow&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">days</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;./date-utils&quot;</span><span class="p">).</span><span class="nx">days</span><span class="p">;</span>

<span class="nx">exports</span><span class="p">.</span><span class="nx">rule</span> <span class="o">=</span> <span class="nx">entities</span><span class="p">.</span><span class="nx">Issue</span><span class="p">.</span><span class="nx">onSchedule</span><span class="p">({</span>
  <span class="nx">title</span><span class="o">:</span> <span class="nx">workflow</span><span class="p">.</span><span class="nx">i18n</span><span class="p">(</span><span class="s1">&#39;Raise priority from &quot;Normal&quot; to &quot;Major&quot; if not resolved in 7 days&#39;</span><span class="p">),</span>
  <span class="nx">search</span><span class="o">:</span> <span class="s1">&#39;#Unresolved priority:Normal&#39;</span><span class="p">,</span>
  <span class="nx">cron</span><span class="o">:</span> <span class="s1">&#39;0 0 8 1/1 * ? *&#39;</span><span class="p">,</span>
  <span class="nx">guard</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">ctx</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">ctx</span><span class="p">.</span><span class="nx">issue</span><span class="p">.</span><span class="nx">created</span> <span class="o">&lt;</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">()</span> <span class="o">-</span> <span class="nx">days</span><span class="p">(</span><span class="mi">7</span><span class="p">);</span>
  <span class="p">},</span>
  <span class="nx">action</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">ctx</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">ctx</span><span class="p">.</span><span class="nx">issue</span><span class="p">.</span><span class="nx">fields</span><span class="p">.</span><span class="nx">Priority</span> <span class="o">=</span> <span class="nx">ctx</span><span class="p">.</span><span class="nx">Priority</span><span class="p">.</span><span class="nx">Major</span><span class="p">;</span>
  <span class="p">},</span>
  <span class="nx">requirements</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">Priority</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">type</span><span class="o">:</span> <span class="nx">entities</span><span class="p">.</span><span class="nx">EnumField</span><span class="p">.</span><span class="nx">fieldType</span><span class="p">,</span>
      <span class="nx">Normal</span><span class="o">:</span> <span class="p">{},</span>
      <span class="nx">Major</span><span class="o">:</span> <span class="p">{}</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">});</span></code></div>    </div>    <div class="chapter"><h3 id="major-to-critical">Raise priority from "Major" to "Critical" if not resolved in 10 days</h3>      <p id="8842d721">The second module contains an on-schedule rule that changes the priority of an issue from <span class="control">Major</span> to <span class="control">Critical</span> if it is not resolved after ten days.        The rule runs daily starting at 08:05.</p>        <div class="code-block" data-lang="Javascript"><code class="code-block__wrapper"><span class="kd">var</span> <span class="nx">entities</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;@jetbrains/youtrack-scripting-api/entities&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">workflow</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;@jetbrains/youtrack-scripting-api/workflow&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">days</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;./date-utils&quot;</span><span class="p">).</span><span class="nx">days</span><span class="p">;</span>

<span class="nx">exports</span><span class="p">.</span><span class="nx">rule</span> <span class="o">=</span> <span class="nx">entities</span><span class="p">.</span><span class="nx">Issue</span><span class="p">.</span><span class="nx">onSchedule</span><span class="p">({</span>
  <span class="nx">title</span><span class="o">:</span> <span class="nx">workflow</span><span class="p">.</span><span class="nx">i18n</span><span class="p">(</span><span class="s1">&#39;Raise priority from &quot;Major&quot; to &quot;Critical&quot; if not resolved in 10 days&#39;</span><span class="p">),</span>
  <span class="nx">search</span><span class="o">:</span> <span class="s1">&#39;#Unresolved Priority: Major&#39;</span><span class="p">,</span>
  <span class="nx">cron</span><span class="o">:</span> <span class="s1">&#39;0 5 8 1/1 * ? *&#39;</span><span class="p">,</span>
  <span class="nx">guard</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">ctx</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">ctx</span><span class="p">.</span><span class="nx">issue</span><span class="p">.</span><span class="nx">created</span> <span class="o">&lt;</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">()</span> <span class="o">-</span> <span class="nx">days</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
  <span class="p">},</span>
  <span class="nx">action</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">ctx</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">ctx</span><span class="p">.</span><span class="nx">issue</span><span class="p">.</span><span class="nx">fields</span><span class="p">.</span><span class="nx">Priority</span> <span class="o">=</span> <span class="nx">ctx</span><span class="p">.</span><span class="nx">Priority</span><span class="p">.</span><span class="nx">Critical</span><span class="p">;</span>
  <span class="p">},</span>
  <span class="nx">requirements</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">Priority</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">type</span><span class="o">:</span> <span class="nx">entities</span><span class="p">.</span><span class="nx">EnumField</span><span class="p">.</span><span class="nx">fieldType</span><span class="p">,</span>
      <span class="nx">Major</span><span class="o">:</span> <span class="p">{},</span>
      <span class="nx">Critical</span><span class="o">:</span> <span class="p">{}</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">});</span></code></div>    </div>    <div class="chapter"><h3 id="critical-to-show-stopper">Raise priority from "Critical" to "Show-stopper" if not resolved in 12 days</h3>      <p id="1a9688ae">The next module contains an on-schedule rule that changes the priority of an issue from <span class="control">Critical</span> to <span class="control">Show-Stopper</span> if it is not resolved after 12 days.        The rule runs daily starting at 08:30.</p>        <div class="code-block" data-lang="Javascript"><code class="code-block__wrapper"><span class="kd">var</span> <span class="nx">entities</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;@jetbrains/youtrack-scripting-api/entities&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">workflow</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;@jetbrains/youtrack-scripting-api/workflow&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">days</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;./date-utils&quot;</span><span class="p">).</span><span class="nx">days</span><span class="p">;</span>

<span class="nx">exports</span><span class="p">.</span><span class="nx">rule</span> <span class="o">=</span> <span class="nx">entities</span><span class="p">.</span><span class="nx">Issue</span><span class="p">.</span><span class="nx">onSchedule</span><span class="p">({</span>
  <span class="nx">title</span><span class="o">:</span> <span class="nx">workflow</span><span class="p">.</span><span class="nx">i18n</span><span class="p">(</span><span class="s1">&#39;Raise priority from &quot;Critical&quot; to &quot;Show-stopper&quot; if not resolved in 12 days&#39;</span><span class="p">),</span>
  <span class="nx">search</span><span class="o">:</span> <span class="s1">&#39;#Unresolved priority:Critical&#39;</span><span class="p">,</span>
  <span class="nx">cron</span><span class="o">:</span> <span class="s1">&#39;0 30 8 1/1 * ? *&#39;</span><span class="p">,</span>
  <span class="nx">guard</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">ctx</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">ctx</span><span class="p">.</span><span class="nx">issue</span><span class="p">.</span><span class="nx">created</span> <span class="o">&lt;</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">()</span> <span class="o">-</span> <span class="nx">days</span><span class="p">(</span><span class="mi">12</span><span class="p">);</span>
  <span class="p">},</span>
  <span class="nx">action</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">ctx</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">ctx</span><span class="p">.</span><span class="nx">issue</span><span class="p">.</span><span class="nx">fields</span><span class="p">.</span><span class="nx">Priority</span> <span class="o">=</span> <span class="nx">ctx</span><span class="p">.</span><span class="nx">Priority</span><span class="p">.</span><span class="nx">ShowStopper</span><span class="p">;</span>
  <span class="p">},</span>
  <span class="nx">requirements</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">Priority</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">type</span><span class="o">:</span> <span class="nx">entities</span><span class="p">.</span><span class="nx">EnumField</span><span class="p">.</span><span class="nx">fieldType</span><span class="p">,</span>
      <span class="nx">Critical</span><span class="o">:</span> <span class="p">{},</span>
      <span class="nx">ShowStopper</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;Show-stopper&#39;</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">});</span></code></div>    </div>    <div class="chapter"><h3 id="date-utils">date-utils</h3>      <p id="cef58076">The last module contains a simple utility module that defines the <code class="code" data-lang="Java">days</code> function.      This function is used in each rule to calculate the difference between the current date and the due date.</p>      <div class="code-block" data-lang="Javascript"><code class="code-block__wrapper"><span class="nx">exports</span><span class="p">.</span><span class="nx">days</span> <span class="o">=</span> <span class="kd">function</span> <span class="nx">days</span><span class="p">(</span><span class="nx">count</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">count</span> <span class="o">*</span> <span class="mi">24</span> <span class="o">*</span> <span class="mi">3600</span> <span class="o">*</span> <span class="mi">1000</span><span class="p">;</span>
<span class="p">};</span></code></div>    </div>  </div><div class="last-modified" data-skip-index="skip">Last modified: 7 March 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="Workflow-Set-Fix-Version.html">Set Fix Versions</a><a class="navigation-links__next" href="slack-notifications-workflow.html">Slack Notifications</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/help/app/v2/app.js"></script></body></html>