<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/help/app/v2/analytics.js"></script><meta charset="UTF-8"><meta name="robots" content="noindex"><title>HipChat Integration - Help | YouTrack Standalone</title><link rel="stylesheet" href="/help/app/v2/app.css"></head><body data-id="Hipchat-Integration"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search YouTrack Standalone Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>YouTrack Standalone 2017.4 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="false"><h1 data-toc="Hipchat-Integration" id="Hipchat-Integration.xml">HipChat Integration</h1>    <p id="fc124780">YouTrack supports integration with a HipChat Server.        With this integration, you can send notifications to a HipChat room when:</p>    <ul class="list _ul"><li class="list__item" id="11990ef7"><p>A new issue is created in a specific project.</p></li><li class="list__item" id="699f0bc2"><p>An existing issue is updated in a specific project.</p></li></ul>    <p id="f28afcd8">This integration is designed for use on a per-room basis in HipChat, and is enabled on a per-project basis in YouTrack.        For best results, we recommend that you enable this integration for HipChat rooms where users who have permission to view issues in a related YouTrack project meet to discuss their work.</p>    <p id="cd1c01f5">To set up an integration with HipChat, follow these steps:</p>    <ol class="list _decimal"><li class="list__item" id="c0f67633"><a href="#install-room-integration">Install a Per-Room Integration on Your HipChat Server</a></li><li class="list__item" id="1c3d69d7"><a href="#customize-workflow">Customize the HipChat Integration Workflow</a></li><li class="list__item" id="e3aa4c81"><a href="#enable-workflow">Enable the HipChat Integration Workflow in YouTrack</a></li></ol>    <p id="8d6e0d04">The basic setup described here lets you post updates from a single YouTrack project to a specific room in HipChat.    For more complex integrations, see <a href="#multi-project">Multi-room and Multi-project Configurations</a>.</p>    <div class="chapter"><h2 id="install-room-integration" data-toc="Hipchat-Integration#install-room-integration">Install a Per-Room Integration on Your HipChat Server</h2>        <p id="bfdcbd88">The HipChat integration is enabled on a per-project basis in YouTrack. For this reason, it is designed to support per-room integration.</p>        <section class="procedure-steps"><h2 id="9f35da71">To install a per-room integration:</h2><ol class="list _decimal"><li class="list__item" id="761dbedc"><p>In your HipChat Server, open the <span class="control">Group admin &gt; Rooms</span> page.</p></li><li class="list__item" id="31851692"><p>Select a room.</p></li><li class="list__item" id="0d54d9f7"><p>Click <span class="control">Integrations</span> in the left menu bar.</p></li><li class="list__item" id="879df405"><p>On the <span class="control">Integrations</span> page, select <span class="control">Build your own integration</span>.</p></li><li class="list__item" id="f3480a2a">Enter a name for your integration and click the <span class="control">Create</span> button.            <ul class="list _ul"><li class="list__item" id="6b7cf3f1"><p>HipChat displays the URL you need to send messages to this room.</p></li></ul>            <figure><a class="lightbox" href="/help/img/youtrack/2017.4/hipchatIntegrationToken.zoomed.png"><img alt="hipchatIntegrationToken" title="hipchatIntegrationToken" src="/help/img/youtrack/2017.4/hipchatIntegrationToken.png" id="34189704" width="600" height="433"></a></figure>            </li><li class="list__item" id="56cddaa8"><p>Copy the post URL for your HipChat room and paste it into a text editor.                In the following procedure, you add this URL to your workflow rules in YouTrack.</p></li><li class="list__item" id="323a475a"><p>Click the <span class="control">Save</span> button.</p></li></ol></section>    </div>    <div class="chapter"><h2 id="customize-workflow" data-toc="Hipchat-Integration#customize-workflow">Customize the HipChat Integration Workflow</h2>        <p id="bb23ec40">The next step is to edit the HipChat Integration workflow so it sends notifications to your HipChat room.</p>        <p id="46e6a44f">This workflow contains two rules: <span class="control">Issue Added</span> and <span class="control">Issue Modified</span>.        To receive notifications when issues are added and modified, customize both rules with the URL for your room in HipChat.</p>        <section class="procedure-steps"><h2 id="b91407a2">To customize the HipChat Integration workflow:</h2><aside class="note " data-title="Permissions" rel="b91407a2" id="3c9da5c2">                <br>                <br>                <p id="f424c049"><span class="control">Hub</span></p>                <ul class="list _ul"><li class="list__item" id="dace4e9f"><p>Low-level Administration <img alt="iconGlobe" title="iconGlobe" src="/help/img/youtrack/2017.4/iconGlobe.png" id="27b83481" width="14" height="15" class="inline-icon-14"></p></li></ul>            </aside><ol class="list _decimal"><li class="list__item" id="33689640"><p>Download the HipChat Integration workflow from the <a href="https://github.com/JetBrains/youtrack-workflows/blob/master/legacy/Integration_With_HipChat/jetbrains-youtrack-hipchat.zip" data-external="true" target="_blank" rel="noopener noreferrer"><span>YouTrack Custom Workflow Repository</span></a>.</p></li><li class="list__item" id="8d7024ac"><p>Open the YouTrack Workflow Editor.</p></li><li class="list__item" id="b5aa40b1"><p>From the <span class="control">Workflow</span> menu, select <span class="control">Import Workflow from File</span>.</p></li><li class="list__item" id="0eada11c">Select the ZIP archive that you downloaded in step 1.            <ul class="list _ul"><li class="list__item" id="51d5c6fc"><p>The workflow is imported into the workflow editor.</p></li></ul></li><li class="list__item" id="2542279c"><p>Open the first workflow rule that you want to customize.</p></li><li class="list__item" id="3040a58a"><p>Locate the <code class="code" data-lang="Java">URLs</code> variable declaration in the code.</p></li><li class="list__item" id="91ed3707">Replace the whole URL with the URL that you copied from your HipChat server in the previous procedure.            Specifically, you need to replace the following placeholders in the workflow rule with variables from your HipChat Server:                <aside class="note " data-title="" rel="91ed3707" id="0c98309a"><p id="71b5fdb4">The workflow rules have placeholders for two URLs.</p>                    <p id="b065d0f7">When you specify the URL for a single HipChat room, set the URL in quotation marks and remove the trailing comma.</p></aside>                <div class="table-wrapper"><table class="                 " width="100%" id="053455ea"><thead><tr id="e87724e0" class="ijRowHead"><th id="3cfe09a7"><p>Placeholder</p></th><th id="fc62a157"><p>Value</p></th></tr></thead><tbody><tr id="78100805" class="ijRowOdd"><td id="1238a45d"><code class="code" data-lang="Java">TEST_INSTANCE</code></td><td id="741e70a5"><p>Replace with the subdomain of your HipChat Server.</p></td></tr><tr id="951d3084" class="ijRowEven"><td id="80d68304"><code class="code" data-lang="Java">room_number</code></td><td id="55697590"><p>Replace with the ID of the HipChat room.</p></td></tr><tr id="63c7bc10" class="ijRowOdd"><td id="77442efe"><code class="code" data-lang="Java">TOKEN</code></td><td id="195f99ae"><p>Replace with the auth token for your HipChat room.</p></td></tr></tbody></table></div>                <p id="05a826c4">Your variable declaration should look something like this:</p>                <div class="code-block" data-lang="Javascript"><code class="code-block__wrapper"><span class="kd">var</span> <span class="nx">URLs</span> <span class="o">=</span> <span class="s2">&quot;</span>
<span class="s2">    https://subdomain.hipchat.com/v2/room/1234567/notification?auth_token=AbC4EfGhIjKlMNoPqRsTu1nFrS1tp0w&quot;</span><span class="p">.</span>
    <span class="nx">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">,</span> <span class="nx">opts</span><span class="p">);</span></code></div>            </li><li class="list__item" id="0df32beb"><p>Repeat steps 6 and 7 for the second workflow rule.</p></li><li class="list__item" id="eb874272">From the <span class="control">Workflow</span> menu, select <span class="control">Upload Workflows to Server</span>.            <ul class="list _ul"><li class="list__item" id="4bf6666b"><p>The customized workflows are uploaded to your YouTrack server.</p></li></ul></li></ol></section>    </div>    <div class="chapter"><h2 id="enable-workflow" data-toc="Hipchat-Integration#enable-workflow">Enable the HipChat Integration Workflow in YouTrack</h2>        <p id="28c752bf">The last step is to attach the HipChat Integration workflow to your project in YouTrack.</p>        <aside class="note " data-title="Permissions" rel="28c752bf" id="c54c182b">            <br>            <br>            <p id="fbd63ab3"><span class="control">Hub</span></p>            <ul class="list _ul"><li class="list__item" id="0912adff"><p>Read Project</p></li><li class="list__item" id="7928fd04"><p>Update Project</p></li></ul>        </aside>        <section class="procedure-steps"><h2 id="c161b0e8">To enable the HipChat Integration workflow:</h2><ol class="list _decimal"><li class="list__item" id="c8637b6a"><p>Open the project that you want to integrate with HipChat.</p></li><li class="list__item" id="02979153"><p>Click the <span class="control">Edit project</span> link.</p></li><li class="list__item" id="58420f3c"><p>Select the <span class="control">Workflow</span> tab.</p></li><li class="list__item" id="ea2d1be5">From the <span class="control">Attach workflows</span> list, select <code class="code" data-lang="Java">jetbrains-youtrack-hipchat</code>.            <ul class="list _ul"><li class="list__item" id="d7bc4007"><p>The HipChat Integration workflow is attached to your project.</p></li></ul></li><li class="list__item" id="5e9e48a6"><p>Expand the workflow and select the <span class="control">Issue Added</span> rule.</p></li><li class="list__item" id="83c89a35">If the <span class="control">requires setup</span> flag is displayed, click the <span class="control">Configure project</span> button.            <ul class="list _ul"><li class="list__item" id="bd7dccdd"><p>The custom field (<span class="control">State</span>) that is required for the workflow is added to your project.</p></li><li class="list__item" id="ce058726"><p>The workflow is enabled and ready for use with your project.</p></li></ul></li></ol></section>    </div>    <p id="7001b096">When the setup is complete and the workflow is attached to your project:</p>    <ul class="list _ul"><li class="list__item" id="87084c56"><p>Notification is sent to the room when an issue is created in the project.        <figure><img alt="hipchatIntegrationNewIssue" title="hipchatIntegrationNewIssue" src="/help/img/youtrack/2017.4/hipchatIntegrationNewIssue.png" id="f1591c36" width="866" height="158"></figure>        </p></li><li class="list__item" id="11cafd06"><p>Notification is sent to the room when an issue in the project is updated.        <figure><img alt="hipchatIntegrationUpdate" title="hipchatIntegrationUpdate" src="/help/img/youtrack/2017.4/hipchatIntegrationUpdate.png" id="da8a3fff" width="865" height="160"></figure>        </p></li></ul>    <p id="59952ca0">In each notification, the notification subject and YouTrack issue ID are set as direct links to the issue in YouTrack.</p>    <div class="chapter"><h2 id="multi-project" data-toc="Hipchat-Integration#multi-project">Multi-room and Multi-project Configurations</h2>        <p id="cec70de2">The basic setup lets you post updates from a single YouTrack project to a specific room in HipChat.         However, you can easily configure this setup for more complex integration scenarios.</p>        <div class="chapter"><h3 id="cc1acc5c">One Project, Many Rooms</h3>        <p id="ff38a1e5">The HipChat Integration workflow is scripted to support an integration between one YouTrack project and multiple rooms in HipChat.        You can build integrations for different rooms in HipChat and add the URL for each room to your workflow rules.</p>        <p id="c707afb7">The following lines of code in the workflow can be customized to send notifications to multiple rooms from a single project:</p>        <div class="code-block" data-lang="Javascript"><code class="code-block__wrapper"><span class="kd">var</span> <span class="nx">URLs</span> <span class="o">=</span> <span class="s2">&quot;</span>
<span class="s2">    https://TEST_INSTANCE.hipchat.com/v2/room/room_number/notification?auth_token=TOKEN,https://TEST_INSTANCE.hipchat.com/v2/room/room_number/notification?auth_token=TOKEN&quot;</span><span class="p">.</span>
    <span class="nx">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">,</span> <span class="nx">opts</span><span class="p">);</span></code></div>        <p id="275981cc">The workflow that you download from the repository contains placeholders for two rooms.            The <code class="code" data-lang="Java">split</code> operation uses the <code class="code" data-lang="Java">,</code> character to split the string that is set in quotation marks into separate URLs for each room.</p>        <p id="e3ab289a">With this format, you can continue to add comma-separated URLs for multiple rooms to the workflow.</p>        </div>        <div class="chapter"><h3 id="e3e9a7ec">Many Projects, One Room</h3>            <p id="5d3db22d">If you want to send notifications from multiple YouTrack projects to a single room in HipChat, the setup is relatively simple.</p>                <ol class="list _decimal"><li class="list__item" id="4e88da9d"><p>Follow the steps described here to add the URL for your HipChat room to the workflow rules.</p></li><li class="list__item" id="a9777a93"><p>Attach this workflow to all of the projects you want to report to HipChat.</p></li></ol>        </div>        <div class="chapter"><h3 id="cc75bee2">Separate Projects, Separate Rooms</h3>            <p id="9dd716ce">In a slightly more complicated setup, you have multiple teams who discuss different projects in separate rooms.            You want to direct notifications from specific projects to the rooms where each team meets to discuss their issues.</p>            <p id="84b90ae3">The easiest way to handle this situation is to create separate workflows for each project and customize the rules accordingly.</p>            <section class="procedure-steps"><h2 id="4da62280">To support this use case:</h2><ol class="list _decimal"><li class="list__item" id="3c0ff597"><p>Create a new workflow in the workflow editor.                Give the workflow a name that shows its relationship to the project where it will be applied.</p></li><li class="list__item" id="80d7a5bf"><p>Copy the rules from the HipChat Integration workflow and past them to the new workflow.</p></li><li class="list__item" id="88cd51a5"><p>Update the URLs in the workflow rules to reference the HipChat rooms that you want to notify in this project.</p></li><li class="list__item" id="eecb857e"><p>Repeat steps 1 through 3 for every room or set of rooms that you want to notify in each project.</p></li><li class="list__item" id="2a15ebf5"><p>Upload the workflows to your server.</p></li><li class="list__item" id="7fbf9d75"><p>Attach each workflow to the project for which it has been customized.</p></li></ol></section>            <p id="1d866606">An alternative approach is to add conditional statements to your workflow rules.            With conditional statements, you can identify the project that each issue belongs to and send notifications to dedicated rooms in HipChat.            You can then attach the same workflow to all of the projects that are referenced in the workflow and update the same set of workflow rules when you want to enable HipChat integration in a new project.</p>            <p id="0d131966">To support this use case, add a conditional statement to the <code class="code" data-lang="Java">URLs</code> variable declaration. Use the following sample as a guide:</p>            <div class="code-block" data-lang="Javascript"><code class="code-block__wrapper"><span class="kd">var</span> <span class="nx">URLs</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">issue</span><span class="p">.</span><span class="nx">project</span><span class="p">.</span><span class="nx">shortName</span> <span class="o">==</span> <span class="s2">&quot;Project_ 1&quot;</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">URLs</span> <span class="o">=</span> <span class="s2">&quot;https://TEST_INSTANCE.hipchat.com/v2/room/room_1/notification?auth_token=TOKEN&quot;</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">,</span> <span class="nx">opts</span><span class="p">);</span>
<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">issue</span><span class="p">.</span><span class="nx">project</span><span class="p">.</span><span class="nx">shortName</span> <span class="o">==</span> <span class="s2">&quot;Project_2&quot;</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">URLs</span> <span class="o">=</span> <span class="s2">&quot;https://TEST_INSTANCE.hipchat.com/v2/room/room_2/notification?auth_token=TOKEN&quot;</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">,</span> <span class="nx">opts</span><span class="p">);</span>
<span class="p">}</span></code></div>            <p id="eb71074f">To send notifications to multiple rooms in each project, replace the single URL with a comma-separated list of URLs.                The <code class="code" data-lang="Java">split</code> operation splits the string that is set in quotation marks into separate URLs for each room. </p>        </div>    </div><div class="last-modified" data-skip-index="skip">Last modified: 7 March 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="Confluence-Integration.html">Confluence Integration</a><a class="navigation-links__next" href="Slack-Integration.html">Slack Integration (XMPP)</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/help/app/v2/app.js"></script></body></html>