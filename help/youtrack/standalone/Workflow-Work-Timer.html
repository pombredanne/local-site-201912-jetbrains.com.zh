<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>正在进行的工作计时器-帮助|帮助YouTrack单机版</title><link rel="stylesheet" href="/resources.jetbrains.com/storage/help-app/v3/app.css"></head><body  data-id="Workflow-Work-Timer" data-breadcrumbs="Administration.xml|Administration/Workflow-Guide.xml|Workflows/Default-Workflows.xml|Default Workflows/Workflow-Work-Timer.xml|In Progress Work Timer" data-main-title="In Progress Work Timer"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索YouTrack独立帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>YouTrack Standalone 2019.2帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 id="Workflow-Work-Timer.xml" data-toc="Workflow-Work-Timer">进行中工作计时器</h1>  <p id="2a633500">此工作流使您的开发团队可以跟踪花费在解决问题上的时间并自动记录工作项。该行为类似于<a href="Workflow-Standalone-Work-Timer.html">秒表样式的工作计时器</a> 。该工作流不是使用独立的<span class="control">Timer</span>字段的值来启动和停止计时器，而是使用<span class="control">State</span>字段的默认值。</p>  <p id="14cb5197">当您要通过测量问题在“ <span class="control">进行中”</span>状态下花费的时间来跟踪花费在解决问题上的时间时，请使用此工作流程。</p>  <div class="table-wrapper"><table class="left_header" width="100%" id="53e1561c"><tbody><tr id="434a80c8" class="ijRowOdd"><th id="654c94b5" width="20%"><p>名称</p></th><td id="6e54face"><p>@ jetbrains / youtrack-workflow-work-timer</p></td></tr><tr id="86a576f1" class="ijRowEven"><th id="5162ff98"><p>上一个标题</p></th><td id="5d982cdb"><p>进行中工作计时器</p></td></tr><tr id="cccacd4f" class="ijRowOdd"><th id="e4633b4f"><p>自动连接</p></th><td id="a9c99bc8"><p>没有</p></td></tr><tr id="fe7cbe8c" class="ijRowEven"><th id="a3d14286"><p>模组</p></th><td id="820ae73f"><p>        <a href="#start-timer">正在进行问题时启动计时器</a> （更改规则）<br>        <a href="#stop-timer">解决问题后停止计时器</a> （更改规则）</p></td></tr></tbody></table></div>  <section class="procedure-steps"><h3 id="da9c2b8d">要启用此工作流程：</h3><ol class="list _decimal"><li class="list__item" id="b8f2c6d2"><p>为项目启用和配置时间跟踪。有关说明，请参阅<a href="Enable-and-Configure-Time-Tracking.html">启用时间跟踪</a> 。</p></li><li class="list__item" id="9951faee"><p>添加一个存储<code class="code">date and time</code>以名称<span class="control">Timer time</span>键入您的项目。</p></li><li class="list__item" id="d5c54ea1"><p>将<span class="control">进行中的工作计时器</span>工作流附加到您的项目。</p></li></ol></section>  <p id="42c2fbf0">为了使此工作流程按书面规定运行，您的项目必须使用“ <span class="control">状态”</span>字段，其中包括“ <span class="control">正在进行中”</span>和“ <span class="control">固定</span> ”值。如果使用不同的字段和值来跟踪项目中问题的状态，请相应地修改工作流。</p>  <div class="chapter"><h2 id="029e9c9b">用例</h2>    <p id="9c7dc906">当开发人员将发布状态的状态更改为<span class="control">In Progress时</span> ，工作流将在<span class="control">Timer time</span>字段中输入当前时间。当开发人员将状态更改为<span class="control">固定时</span> ，代表此问题的用户将添加一个工作项目，其中包含在<span class="control">计时器时间</span>和当前时间之间花费的<span class="control">时间</span> 。</p>  </div>  <div class="chapter"><h2 id="4833a33f">模组</h2>    <p id="bad94fcc">该工作流程包括两个模块。</p>    <div class="chapter"><h3 id="start-timer">问题进行时启动计时器</h3>      <p id="2a975152">当问题的状态更改为<span class="control">“进行中”时</span> ，此规则将“ <span class="control">计时器时间”</span>的值设置为当前时间。</p>      <div class="code-block" data-lang="javascript">var实体= require（'@ jetbrains / youtrack-scripting-api / entities'）; var工作流程= require（'@ jetbrains / youtrack-scripting-api / workflow'）; Exports.rule =实体。Issue.onChange（{状态，ctx。州。进行中）; }，操作：function（ctx）{ctx.issue.fields。TimerTime = Date.now（）; workflow.message（workflow.i18n（'计时器已启动。'））; }，要求：{TimerTime：{类型：实体。Field.dateType，名称：“计时器时间”}，状态：{类型：实体。State.fieldType，InProgress：{名称：“进行中”}}}}}）；</div>    </div>    <div class="chapter"><h3 id="stop-timer">解决问题后停止计时器</h3>      <p id="5b190b76">当问题的状态更改为<span class="control">固定时</span> ，此规则将计算解决问题所花费的时间，并将工作项添加到问题中。该工作项包括一条由该规则定义的消息以及计算出的时间。</p>      <div class="code-block" data-lang="javascript">var实体= require（'@ jetbrains / youtrack-scripting-api / entities'）; var工作流程= require（'@ jetbrains / youtrack-scripting-api / workflow'）; Exports.rule =实体。Issue.onChange（{状态）&& issue.fields.oldValue（ctx。状态）。名称=== ctx。州。InProgress.name && issue.fields。TimerTime; }，动作：function（ctx）{var issue = ctx.issue; var newWorkItem = {说明：workflow.i18n（'计时器自动添加的工作项。'），日期：Date.now（），作者：ctx.currentUser，持续时间：issue.project.intervalToWorkingMinutes（issue.fields。TimerTime，Date.now（））}; issue.addWorkItem（newWorkItem）; workflow.message（workflow.i18n（'增加工作时间'））; }，要求：{TimerTime：{类型：实体。Field.dateType，名称：“计时器时间”}，状态：{类型：实体。State.fieldType，InProgress：{名称：“进行中”}}}}}）；</div>    </div>  </div><div class="last-modified" data-skip-index="skip">上次修改时间：2019年11月29日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="Workflow-Issue-Properties-Combinations.html">发行物业组合</a> <a class="navigation-links__next" href="Workflow-Kanban.html">看板</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>