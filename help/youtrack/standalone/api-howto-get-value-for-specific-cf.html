<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>为问题自定义字段获取价值-帮助|帮助YouTrack单机版</title><link rel="stylesheet" href="/resources.jetbrains.com/storage/help-app/v3/app.css"></head><body  data-id="api-howto-get-value-for-specific-cf" data-breadcrumbs="Resources-for-Developers.xml|Resources for Developers/youtrack-rest-api-reference.xml|REST API/api-use-cases.xml|REST API Use Cases/api-howto-get-value-for-specific-cf.xml|Get Value for an Issue Custom Field" data-main-title="Get Value for an Issue Custom Field"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索YouTrack独立帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>YouTrack Standalone 2019.2帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 id="api-howto-get-value-for-specific-cf.xml" data-toc="api-howto-get-value-for-specific-cf">为问题自定义字段获取价值</h1>    <h4 id="version-2019">用例：</h4>    <p id="c1486959">使用REST API检索问题中特定自定义字段的当前值。</p>    <a name="version-note"></a>        <aside class="prompt" rel="api-howto-get-value-for-specific-cf.xml" id="f27421e1" data-type="note" data-title=""><p>请注意，此示例对YouTrack 2019.1和更高版本有效。在以前的版本中，尽管原理相同，但是查询参数和实体属性可能不同。此外，2019.1中引入了许多功能，例如按名称命名实体，但以前的版本中不支持。</p></aside>        <div class="chapter"><h2 id="summary" data-toc="api-howto-get-value-for-specific-cf#summary">摘要</h2>        <p id="244f2b36">要获取问题中特定自定义字段的值，请发送<code class="code">GET</code>请求到以下端点：</p>        <div class="code-block" data-lang="none">/ api / issues / {issueID} / customFields / {fieldID} [？字段= {属性列表}]</div>        <p id="d2e4c7ed">为了正确形成此请求，您需要以下数据：</p>        <ol class="list _decimal"><li class="list__item" id="1b7c64cb"><p>问题的ID，您可以为其获取自定义字段。</p></li><li class="list__item" id="026a3584"><p>问题自定义字段的ID，您可以为其获取其值。</p></li><li class="list__item" id="eaf515a6"><p>希望从服务器接收的值的属性列表。</p></li></ol>        <p id="b385b477">要获取目标问题和字段的ID，您可以使用一个<code class="code">GET</code>要求提供问题清单。</p>        <p id="f29e28a2">要形成值属性列表，请参考值实体的支持属性列表<code class="code">$type</code>问题中的目标自定义字段。</p>    </div>    <div class="chapter"><h2 id="step-by-step" data-toc="api-howto-get-value-for-specific-cf#step-by-step">一步步</h2>        <section class="procedure-steps"><ol class="list _decimal"><li class="list__item" id="53d92c2c">                <p id="b9c4014c">获取目标项目中的问题列表。另外，让我们请求可用自定义字段及其名称的列表。</p>                <div class="code-block" data-lang="http">curl -X GET \'https://example.myjetbrains.com/youtrack/api/issues?query=in:SP&fields=id,idReadable,summary,customFields(id,projectCustomField(field(name）））'\ -H '接受：application / json'\ -H'授权：不记名perm：amFuZS5kb2U =。UkVTVCBBUEk = .wcKuAok8cHmAtzjA6xlc4BrB4hleaX'\ -H'Cache-Control：no-cache'\ -H'Content-Type：application / json'</div>                <p id="38cfd51f">的<code class="code">query</code> request参数使我们可以按目标项目过滤问题列表，在示例项目中<code class="code">shortName</code>是`SP`。</p>                <p id="3aa8dfd2">在里面<code class="code">fields</code> request参数，我们指示服务器为找到的每个问题返回以下属性：</p>                <ul class="list _ul"><li class="list__item" id="09649b1c"><p>                        <code class="code">id</code>和<code class="code">idReadable</code> -数据库实体ID和项目中问题的ID分别。</p></li><li class="list__item" id="89b3d049"><p>                        <code class="code">summary</code> -问题的摘要可能有助于确定目标问题。</p></li><li class="list__item" id="8f173d8b"><p>                        <code class="code">customFields</code> -每个问题的自定义字段列表。为了帮助我们识别目标自定义字段，我们还要求通过项目自定义字段及其“原型”（通用自定义字段）定义的每个字段的名称。</p></li></ul>                <p id="630b0ed9">在对此请求的响应中，服务器返回以下数据：</p>                <div class="code-block" data-lang="json">[{“ summary”：“来自REST＃1的问题”，“ idReadable”：“ SP-8”，“ customFields”：[{“ projectCustomField”：{“ field”：{“ name”：“ Priority”，“ $ type“：” CustomField“}，” $ type“：” EnumProjectCustomField“}，” id“：” 92-1“，” $ type“：” SingleEnumIssueCustomField“}，{” projectCustomField“：{” field“：{” name“：” Type“，” $ type“：” CustomField“}，” $ type“：” EnumProjectCustomField“}，” id“：” 92-2“，” $ type“：” SingleEnumIssueCustomField“}，{” projectCustomField “：{” field“：{”名称“：”州“，” $ type“：” CustomField“}，” $ type“：” StateProjectCustomField“}，” id“：” 92-3“，” $ type“ ：“” StateIssueCustomField“}，{” projectCustomField“：{” field“：{” name“：”受让人“，” $ type“：” CustomField“}，” $ type“：” UserProjectCustomField“}，” id“：” 94-0“，” $ type“：” SingleUserIssueCustomField“}，{” projectCustomField“：{” field“：{” name“：”子系统“，” $ type“：” CustomField“}，” $ type“：” OwnedProjectCustomField“}，” id“：” 92-0“，” $ type“：” SingleOwnedIssueCustomField“}，{” projectCustomField“：{” field“：{” name“：”修复版本ns“，” $ type“：” CustomField“}，” $ type“：” VersionProjectCustomField“}，” id“：” 92-4“，” $ type“：” MultiVersionIssueCustomField“}，{” projectCustomField“：{” field”：{“ name”：“受影响的版本”，“ $ type”：“ CustomField”}，“ $ type”：“ VersionProjectCustomField”}，“ id”：“ 92-5”，“ $ type”：“ MultiVersionIssueCustomField “}，{” projectCustomField“：{” field“：{” name“：”固定在版本中“，” $ type“：” CustomField“}，” $ type“：” BuildProjectCustomField“}，” id“：” 92 -6“，” $ type“：” SingleBuildIssueCustomField“}]，” id“：” 2-7“，” $ type“：” Issue“}，{” summary“：” Sprint 3。任务2”，“ idReadable”：“ SP-38”，“ customFields”：[...]，“ id”：“ 2-42”，“ $ type”：“问题”}，{“ summary”：“ Sprint3。任务1”，“ idReadable”：“ SP-37”，“ customFields”：[...]，“ id”：“ 2-40”，“ $ type”：“问题”}，...]</div>            </li><li class="list__item" id="514b4fa4">                <p id="0035292a">找到目标问题的ID。对于示例，让我们考虑一下<code class="code">SP-8</code>实体编号<code class="code">2-7</code> 。</p>            </li><li class="list__item" id="d8b32c5a">                <p id="c5e9ea54">找到目标自定义字段的ID。让我们获取问题的当前状态。在示例中，如果“状态”字段为<code class="code">92-3</code> 。</p>            </li><li class="list__item" id="31d19fd4">                <p id="f9c4f754">形成要为“状态”字段获取的属性的列表。</p>                <p id="3ce16f63">自定义字段支持的属性列表完全取决于其类型。</p>                <p id="d8b96fe2">一个State字段有<code class="code">$type</code>的<code class="code">StateIssueCustomField</code> 。它绑定类型的项目自定义字段<code class="code">StateProjectCustomField</code>和一个值。<a href="api-json-schema.html#StateProjectCustomField">StateProjectCustomField</a>使用一包<a href="api-json-schema.html#StateBundle">StateBundle</a>类型的值。还有一个<code class="code">StateBundle</code>存储<a href="api-json-schema.html#StateBundleElement">StateBundleElement</a>类型的<a href="api-json-schema.html#StateBundleElement">值</a> 。因此，要形成我们想要获取的State字段当前值的属性列表，我们需要检查JSON模式，并查看<a href="api-json-schema.html#StateBundleElement">StateBundleElement</a>实体包含哪些属性。</p>                <p id="53fd9fb9">对于示例，我们选择了以下这些：</p>                <div class="table-wrapper"><table width="100%" id="7eb79f1d"><thead><tr id="c26fa6ba" class="ijRowHead"><th id="384288a1"><p>属性</p></th><th id="b0a5f659"><p>描述</p></th></tr></thead><tbody><tr id="9c7fd563" class="ijRowOdd"><td id="2de93952"><code class="code">name</code></td><td id="4e32ed58"><p>值的名称。它代表用户在UI中看到的实际状态：“打开”，“进行中”，“固定”等。</p></td></tr><tr id="2f8760b1" class="ijRowEven"><td id="945d9a7d"><code class="code">localizedName</code></td><td id="892429e2"><p>如果服务器不使用默认语言环境，则此属性将值的名称存储在所选语言环境中。</p></td></tr><tr id="0cdbfdd9" class="ijRowOdd"><td id="70d877e3"><code class="code">isResolved</code></td><td id="45d303dc"><p>指示是否将值（状态）视为已解析。</p></td></tr><tr id="3ab6481f" class="ijRowEven"><td id="cdbe3e74"><code class="code">id</code></td><td id="5611419f"><p>值的实体ID。</p></td></tr></tbody></table></div>                <p id="be319b85">为了验证我们在示例中获得了正确的字段，我们还请求该字段的名称及其ID。</p>                <p id="b1105962">因此，当我们将要从服务器接收的所有属性放在一起时，request参数<code class="code">fields</code>看起来如下：</p>                <div class="code-block" data-lang="http">字段= id，projectCustomField（id，field（name）），值（id，isResolved，localizedName，name）</div>            </li><li class="list__item" id="5e146c8b">                <p id="deec00f7">现在，我们已经收集了请求所需的所有数据，这就是对字段值的最终请求：</p>                <div class="code-block" data-lang="http">curl -X GET \'https://example.myjetbrains.com/youtrack/api/issues/SP-8/customFields/92-3?fields=id,projectCustomField%28id,field%28id,name%29%29， value％28id，isResolved，localizedName，name％29'\ -H'Accept：application / json'\ -H'Authorization：Bearer perm：amFuZS5kb2U =。UkVTVCBBUEk = .wcKuAok8cHmAtzjA6xlc4BrB4hleaX'\ -H'Cache-Control：no-cache'\ -H'Content-Type：application / json'</div>                <p id="aca668df">对于此请求，服务器返回以下响应正文：</p>                <div class="code-block" data-lang="json">{“ projectCustomField”：{“ field”：{“ name”：“ State”，“ id”：“ 58-3”，“ $ type”：“ CustomField”}，“ id”：“ 92-3”，“ $ type“：” StateProjectCustomField“}，” value“：{” isResolved“：true，” localizedName“：null，” name“：” Fixed“，” id“：” 69-7“，” $ type“：” StateBundleElement“}，” id“：” 92-3“，” $ type“：” StateIssueCustomField“}</div>            </li></ol></section>    </div>    <div class="last-modified" data-skip-index="skip">上次修改时间：2019年11月29日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="api-howto-get-issues-with-all-values.html">获取具有所有值的问题列表将值</a> <a class="navigation-links__next" href="api-usecase-add-value-to-bundle.html">添加到集合中</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>