<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>备份数据库-帮助| YouTrack单机版</title><link rel="stylesheet" href="/resources.jetbrains.com/storage/help-app/v3/app.css"></head><body  data-id="Back-Up-the-Database" data-breadcrumbs="Administration.xml|Administration/Server-Settings.xml|Server Settings/Database.xml|Database Backup/Back-Up-the-Database.xml|Back Up the Database" data-main-title="Back Up the Database"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索YouTrack独立帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>YouTrack Standalone 2019.2帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 id="Back-Up-the-Database.xml" data-toc="Back-Up-the-Database">备份数据库</h1>    <p id="9d71bef1">为了保护您的安装免受勒索软件的侵害并从硬件或软件故障中恢复，您应该定期备份YouTrack数据库。您应该始终至少有一个数据库的最近有效备份副本，可用于还原安装。</p>    <p id="91466741">若要访问数据库控件，请从“ <span class="control">管理”</span>菜单中选择“ <span class="control">数据库备份</span> ”。</p>    <p id="09027d2a">        </p><figure><a class="lightbox" href="/help/img/youtrack/2019.2/database-backup.zoomed.png"><img alt="数据库备份" title="数据库备份" src="/help/img/youtrack/2019.2/database-backup.png" id="11148099" width="600" height="349"></a></figure>    <p></p>    <p id="4d3f3b0c">您可以立即备份YouTrack数据库，也可以使用cron表达式按设置的时间表备份数据库（请参阅<a href="http://www.quartz-scheduler.org/documentation/quartz-2.3.0/tutorials/crontrigger.html" rel="noopener noreferrer" data-external="true" target="_blank">cron表达式语法</a>以供参考）。<br>关于YouTrack数据库设置和控件，需要注意以下几点：</p>    <ul class="list _ul"><li class="list__item" id="6997301e"><p>如果YouTrack使用内置的Hub服务，则当您开始数据库备份时，YouTrack会自动将数据库切换为只读模式。这样可以保留YouTrack数据库和Hub数据库之间的同步。用户仍然可以在YouTrack中访问和更新问题，但是管理页面上的大多数设置都是只读的。为了获得最佳结果，请在工作时间之外安排备份。</p></li><li class="list__item" id="72ddfa1d"><p>数据库备份一旦启动就无法取消。</p></li><li class="list__item" id="0321a8f6"><p>只能为YouTrack应用程序管理员配置有关数据库备份状态的通知。</p></li></ul>    <div class="chapter"><h2 id="configure-backup-settings" data-toc="Back-Up-the-Database#configure-backup-settings">配置备份设置</h2>        <a name="Configuring_Backup_Settings"></a>        <p id="07b47104">您可以修改数据库备份配置的默认设置。</p>        <section class="procedure-steps"><h3 id="configure-procedure">要配置数据库备份设置：</h3><aside class="prompt" rel="configure-procedure" id="ba2bd33a" data-type="tip" data-title=""><p>需要权限：低级管理员写</p></aside><ol class="list _decimal"><li class="list__item" id="d24b75de"><p>在<span class="control">管理</span>菜单的<span class="control">服务器设置</span>部分中，选择<span class="control">数据库备份</span> 。</p></li><li class="list__item" id="a8caa04e"><p>在“ <span class="control">备份位置”</span>字段中，设置服务器的备份文件夹的位置。</p></li><li class="list__item" id="11d8e50e"><p id="f45d4463">设置<span class="control">存档格式，</span>以确定是否将备份文件创建为TAR.GZ或ZIP存档。</p>                <p id="ab5aaa91">ZIP备份文件的最大大小为2Gb。对于较大的数据库，请使用TAR.GZ存档。</p>            </li><li class="list__item" id="bca88557"><p id="107eb23d">在“ <span class="control">通知失败”</span>下拉列表中，选择接收有关数据库备份的通知消息的用户。</p>                <p id="fb64d72f">要接收有关数据库备份的通知，用户还必须具有“ <span class="control">低级管理”</span>权限。</p>            </li><li class="list__item" id="3f60b4ad"><p id="f967451a">要配置自动备份，请选中“ <span class="control">启用常规备份”</span>复选框。启用常规备份时，将显示以下设置：</p>                <ul class="list _ul"><li class="list__item" id="7b33a4f8"><p><span class="control">备份间隔</span> —设置自动备份的时间表。选择一个预先配置的间隔或使用cron表达式设置自定义间隔（请参阅<a href="http://www.quartz-scheduler.org/documentation/quartz-2.3.0/tutorials/crontrigger.html" rel="noopener noreferrer" data-external="true" target="_blank">cron表达式语法</a>以供参考）。</p></li><li class="list__item" id="63d1243c"><p id="71964f8e"><span class="control">备份文件轮换</span> -指定要保留的数据库备份文件数。此参数使您可以创建数据库备份的轮换。服务器上仅保留指定数量的备份文件。要禁用自动备份轮换，请将数字设置为“ 0”（零）。在这种情况下，所有备份文件都会保留，必须手动删除。</p>                        <p id="c472956a">要手动删除备份文件，请在列表中选择文件，然后单击垃圾桶按钮。</p></li></ul></li></ol></section>    </div>    <div class="chapter"><h2 id="restore-your-installation" data-toc="Back-Up-the-Database#restore-your-installation">恢复安装</h2>        <p id="b6197d16">存储备份的主要原因之一是保留数据的有效副本，可用于从硬件或软件故障中恢复。为了确保数据安全，我们强烈建议您启用数据库的常规备份并测试恢复安装的过程。</p>        <p id="4fff2f6c">有关其他信息和说明，请参阅与您的安装类型相关的页面：</p>        <ul class="list _ul"><li class="list__item" id="4dbc50b7"><a href="restore-docker-image-installation.html">恢复Docker安装</a></li><li class="list__item" id="3637db76"><a href="Restore-JAR-Installation.html">还原JAR安装</a></li><li class="list__item" id="790a34c5"><a href="Restore-MSI-Installation.html">还原MSI安装</a> </li><li class="list__item" id="e4311ece"><a href="Restore-ZIP-Installation.html">还原ZIP安装</a> </li></ul>    </div><div class="last-modified" data-skip-index="skip">上次修改时间：2019年11月29日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="Database.html">数据库备份</a> <a class="navigation-links__next" href="Changing-Database-Location.html">更改数据库位置</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>