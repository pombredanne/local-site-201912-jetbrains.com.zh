<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>使用ZIP发行版升级-帮助|帮助YouTrack单机版</title><link rel="stylesheet" href="/resources.jetbrains.com/storage/help-app/v3/app.css"></head><body  data-id="Upgrade-YouTrack-ZIP" data-breadcrumbs="Installation-and-Upgrade.xml|Installation and Upgrade/youtrack-zip.xml|ZIP Distribution/Upgrade-YouTrack-ZIP.xml|Upgrade with a ZIP Distribution" data-main-title="Upgrade with a ZIP Distribution" data-article-props="
                {
                
            " seeals=":[=" titl=":=" installation="" and="" upgrad=",=" link=":=" ur=":" secure-connection-for-youtrack-server.htm="," tex=":" secure="" connection="" for="" youtrack="" serve="}=" configure-jvm-options.htm="," configure="" jvm="" option="}=" =""><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索YouTrack独立帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>YouTrack Standalone 2019.2帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 id="Upgrade-YouTrack-ZIP.xml" data-toc="Upgrade-YouTrack-ZIP">通过ZIP发行版升级</h1>   <p id="24c0e282">您可以使用ZIP发行版本升级任何现有的YouTrack安装。</p>    <a name="upgrade-prerequisites"></a>        <div class="chapter"><h2 id="prerequisites" data-toc="Upgrade-YouTrack-ZIP#prerequisites">先决条件</h2>        <p id="6e53d5ff">升级之前，请执行以下先决任务：</p>        <ul class="list _ul"><li class="list__item" id="a6e28117"><p><a href="Back-Up-the-Database.html">创建当前数据库的备份</a> 。YouTrack Standalone不提供向前数据库兼容性。在升级过程中，数据库将迁移为与最新版本兼容的格式。这意味着您无法还原到以前的版本，而无法继续使用升级期间处理的数据库。</p></li><li class="list__item" id="42440fdd"><p>将当前数据库的备份复制到安全位置，以防万一升级遇到问题并需要回滚到以前的版本。</p></li><li class="list__item" id="ed7481cf"><p>验证您的YouTrack许可证是否支持升级。要查看许可证限制，请单击<span class="control">“</span> <span class="control">管理”</span>菜单中的“ <span class="control">全局设置”</span>链接。如果您的免费更新期已过，则需要<a href="/youtrack/buy/#stand-alone" rel="noopener noreferrer" data-external="true" target="_blank">延长订阅时间</a> 。</p></li><li class="list__item" id="4322cb2b"><p>注意<a href="#upgrade-matrix">建议的升级路径</a> 。安装的当前版本显示在应用程序中任何页面的底部。</p></li></ul>        <h4 id="upgrade-matrix">推荐升级路径</h4>        <div class="table-wrapper"><table width="100%" id="01534bff"><thead><tr id="285dbea4" class="ijRowHead"><th id="0265767b"><p>现有版本</p></th><th id="7fd9fe1d"><p>升级到版本</p></th></tr></thead><tbody><tr id="02c1982e" class="ijRowOdd"><td id="5cbad6fd"><p>6.5或更早</p></td><td id="abffb5a6"><p>YouTrack 7.0</p></td></tr><tr id="f0c65615" class="ijRowEven"><td id="675639ce"><p>7.0</p></td><td id="74b683ee"><p>2017.1</p></td></tr><tr id="d95bbe1a" class="ijRowOdd"><td id="d0a3a1f9"><p>2017.x</p></td><td id="daba88fb"><p>2018.x</p></td></tr><tr id="b01fc50e" class="ijRowEven"><td id="d6b2f475"><p>2018.x</p></td><td id="6e909512"><p>2019.x</p></td></tr></tbody></table></div>        </div>        <div class="chapter"><h2 id="upgrade-zip-to-zip" data-toc="Upgrade-YouTrack-ZIP#upgrade-zip-to-zip">升级现有的ZIP安装</h2>        <a name="Upgrading_YouTrack_using_ZIP_Distribution"></a>        <p id="78d126cc">此过程描述了如何将当前的YouTrack ZIP安装升级到最新版本。</p>        <aside class="prompt" rel="78d126cc" id="1d17bf37" data-type="note" data-title="">            <p id="1941c3ac">此过程中的所有命令均适用于Linux和macOS。如果要在Windows服务器上升级YouTrack Standalone，请更换<code class="code">.sh</code>与<code class="code">.bat</code>并使用反斜杠。</p>        </aside>        <section class="procedure-steps"><h3 id="1bccbc40">要升级现有的YouTrack安装：</h3><ol class="list _decimal"><li class="list__item" id="e2deb93b"><p><a href="/youtrack/download/get_youtrack.html" rel="noopener noreferrer" data-external="true" target="_blank">下载ZIP发行版</a> 。</p></li><li class="list__item" id="13d8735e"><p><a href="start-stop-zip.html">停止YouTrack服务</a> 。</p></li><li class="list__item" id="59d2e10c"><p>使用操作系统工具来验证YouTrack启动的所有Java进程是否不再运行。如果仍有与YouTrack相关的Java进程仍在运行，请终止未完成的进程树。</p></li><li class="list__item" id="b04a98c2">清除您的<code class="code"><youtrack_home></code>目录。该目录是安装过程中解压缩ZIP分发包的位置。<aside class="prompt" rel="efb80191" id="44610fae" data-type="warning" data-title=""><p>不要将ZIP安装文件解压缩到包含旧文件的目录中。</p></aside>                <p id="01987075">我们建议您执行以下步骤：</p>                <ul class="list _ul"><li class="list__item" id="397bd2fe"><p>重命名现有的<code class="code"><youtrack_home></code>目录到<code class="code">YouTrack_old</code> （您可以使用其他名称）。</p></li><li class="list__item" id="4507cf07"><p>创建一个新的<code class="code"><youtrack_home></code>目录位于与先前安装相同的位置。</p></li></ul>            </li><li class="list__item" id="a55329f9"><p>将ZIP归档文件的内容提取为空<code class="code"><youtrack_home></code>目录。</p></li><li class="list__item" id="9a1e5d5c">在命令行界面中，输入命令以开始升级：<ul class="list _ul"><li class="list__item" id="543c2b53"><p>如果输入<code class="code"><youtrack_home>/bin/youtrack.sh run</code> ，控制台将被阻止，直到服务停止。</p></li><li class="list__item" id="5d39323d"><p>如果输入<code class="code"><youtrack_home>/bin/youtrack.sh start</code> ，仅在启动过程中阻止控制台。</p></li></ul>                <p id="e7f71173">如果您的主机上没有安装Web浏览器，请按照以下命令操作<code class="code">--no-browser</code>选项。例如， <code class="code"><youtrack_home>/bin/youtrack.sh start --no-browser</code> 。</p>                <aside class="prompt" rel="e7f71173" id="2178a5b4" data-type="note" data-title=""><p id="f82e1f2a">要查看所有可用的命令选项，请输入<code class="code"><youtrack_home>/bin/youtrack.sh help</code> 。</p></aside>            </li><li class="list__item" id="412ff6f8">在基于Web的<span class="control">配置向导中</span>继续升级。<ul class="list _ul"><li class="list__item" id="be4a2a09"><p>如果您在主机上安装了浏览器，则配置向导将自动打开。</p></li><li class="list__item" id="4391b089"><p>如果主机上未安装Web浏览器，请在另一个工作站上的Web浏览器中打开向导的URL。向导URL打印在控制台输出中：</p><div class="code-block" data-lang="none">JetBrains YouTrack <version>将在[ <youtrack base="" url="">/ bundle / starting？<value>启动后</value> Wizard_token = <value>]</value></youtrack></version></div>                    <p></p></li></ul>            </li><li class="list__item" id="5328be96"><p>在<span class="control">配置向导中</span> ，单击“ <span class="control">升级”</span> 。</p></li><li class="list__item" id="a8f21b0e">在“ <span class="control">选择升级源”</span>页面上，单击“ <span class="control">选择”</span>按钮，然后选择一个升级源。<figure><a class="lightbox" href="/help/img/youtrack/2019.2/zip-upgrade-source.zoomed.png"><img alt="选择升级源" title="选择升级源" src="/help/img/youtrack/2019.2/zip-upgrade-source.png" id="216d7cdb" width="600" height="355"></a></figure>                <p id="7075bc2d">您可以选择备份的位置或现有的YouTrack Standalone安装的位置。</p>            </li><li class="list__item" id="a5bded7f"><p>完成后，单击“ <span class="control">下一步”</span> 。</p></li><li class="list__item" id="bfd5d8ab">在“ <span class="control">确认设置”</span>页面上，确认或更改系统设置和系统目录的位置。<figure><a class="lightbox" href="/help/img/youtrack/2019.2/zip-upgrade-http-confirm.zoomed.png"><img alt="Youtrack zip升级设置" title="Youtrack zip升级设置" src="/help/img/youtrack/2019.2/zip-upgrade-http-confirm.png" id="33400178" width="600" height="499"></a></figure>                <p id="242cad70">在这里，您还可以<span class="emphasis">启用内置TLS，</span>以保护服务器的网络连接。有关详细过程，请阅读“ <a href="configure-server-tls-configuration-wizard.html#enable-https-during-upgrade">内置TLS升级方案”</a>页面。</p>            </li><li class="list__item" id="b74f186d">                <p id="93f51342">查看您的许可证。如果需要，您也可以在此页面上更新许可证。</p>            </li><li class="list__item" id="b53be0a6">完成后，点击<span class="control">升级</span> 。<ul class="list _ul"><li class="list__item" id="6f3ede07">YouTrack启动其组件。<p id="c577a48c">设置完成之前，请勿在浏览器中关闭页面。</p></li><li class="list__item" id="54b1bffb"><p>当YouTrack Standalone服务器准备就绪时， <span class="control">仪表板</span>将打开。您的YouTrack Standalone实例已升级并可以使用。</p></li></ul></li></ol></section>    </div>    <div class="chapter"><h2 id="upgrade-non-zip-to-zip" data-toc="Upgrade-YouTrack-ZIP#upgrade-non-zip-to-zip">升级非ZIP安装</h2>        <a name="Upgrading_YouTrack_using_ZIP_Distribution"></a>        <p id="5109d576">本节介绍如何使用ZIP发行版本升级现有的非ZIP YouTrack安装。</p>        <aside class="prompt" rel="5109d576" id="a37ff0a8" data-type="note" data-title="">            <p id="8ebe520f">此过程中的所有命令均适用于Linux和macOS。如果要在Windows服务器上升级YouTrack Standalone，请更换<code class="code">.sh</code>与<code class="code">.bat</code>并使用反斜杠。</p>        </aside>        <section class="procedure-steps"><h3 id="7704e342">要升级现有的YouTrack安装：</h3><ol class="list _decimal"><li class="list__item" id="ca131495"><p><a href="/youtrack/download/get_youtrack.html" rel="noopener noreferrer" data-external="true" target="_blank">下载ZIP发行版</a> 。</p></li><li class="list__item" id="34b34bdb"><p><a href="Back-Up-the-Database.html">创建并下载当前数据库的新备份</a> 。</p></li><li class="list__item" id="81f52b72"><p><a href="start-stop-zip.html">停止YouTrack服务</a> 。</p></li><li class="list__item" id="08d6a68a"><p>使用操作系统工具来验证YouTrack启动的所有Java进程是否不再运行。如果仍有与YouTrack相关的Java进程仍在运行，请终止未完成的进程树。</p></li><li class="list__item" id="b237b01c"><p>将ZIP归档文件的内容提取为空<code class="code"><youtrack_home></code>目录。</p></li><li class="list__item" id="03c34344">在命令行界面中，输入命令以开始升级：<ul class="list _ul"><li class="list__item" id="19eead13"><p>如果输入<code class="code"><youtrack_home>/bin/youtrack.sh run</code> ，控制台将被阻止，直到服务停止。</p></li><li class="list__item" id="555d8975"><p>如果输入<code class="code"><youtrack_home>/bin/youtrack.sh start</code> ，仅在启动过程中阻止控制台。</p></li></ul>                <p id="ac757111">如果您的主机上没有安装Web浏览器，请按照以下命令操作<code class="code">--no-browser</code>选项。例如， <code class="code"><youtrack_home>/bin/youtrack.sh start --no-browser</code> 。</p>                <aside class="prompt" rel="ac757111" id="20a6d226" data-type="note" data-title=""><p id="3851b267">要查看所有可用的命令选项，请输入<code class="code"><youtrack_home>/bin/youtrack.sh help</code> 。</p></aside>            </li><li class="list__item" id="c5e4658e">在基于Web的<span class="control">配置向导中</span>继续升级。<ul class="list _ul"><li class="list__item" id="447712b2"><p>如果您在主机上安装了浏览器，则配置向导将自动打开。</p></li><li class="list__item" id="0e70011d"><p>如果主机上未安装Web浏览器，请在另一个工作站上的Web浏览器中打开向导的URL。向导URL打印在控制台输出中：</p><div class="code-block" data-lang="none">JetBrains YouTrack <version>将在[ <youtrack base="" url="">/ bundle / starting？<value>启动后</value> Wizard_token = <value>]</value></youtrack></version></div>                    <p></p></li></ul>            </li><li class="list__item" id="92c7cf1f"><p>在<span class="control">配置向导中</span> ，单击“ <span class="control">升级”</span> 。</p></li><li class="list__item" id="feae3aa0"><p>在“ <span class="control">选择升级源”</span>页面上，单击“ <span class="control">选择”</span>按钮，然后<span class="control">选择</span>已创建的当前数据库的备份文件。</p><figure><a class="lightbox" href="/help/img/youtrack/2019.2/zip-upgrade-source.zoomed.png"><img alt="选择升级源" title="选择升级源" src="/help/img/youtrack/2019.2/zip-upgrade-source.png" id="201e73cd" width="600" height="355"></a></figure>            <p></p></li><li class="list__item" id="22dd35f1"><p>完成后，单击“ <span class="control">下一步”</span> 。</p></li><li class="list__item" id="589073f8">在“ <span class="control">确认设置”</span>页面上，确认或更改系统设置和系统目录的位置。<figure><a class="lightbox" href="/help/img/youtrack/2019.2/zip-upgrade-http-confirm.zoomed.png"><img alt="Youtrack zip升级设置" title="Youtrack zip升级设置" src="/help/img/youtrack/2019.2/zip-upgrade-http-confirm.png" id="6c40a96e" width="600" height="499"></a></figure>                <p id="07d49d20">在这里，您还可以<span class="emphasis">启用内置TLS，</span>以保护服务器的网络连接。有关详细过程，请阅读“ <a href="configure-server-tls-configuration-wizard.html#enable-https-during-upgrade">内置TLS升级方案”</a>页面。</p>            </li><li class="list__item" id="e37900f4">                <p id="917688ac">查看您的许可证。如果需要，您也可以在此页面上更新许可证。</p>                <figure><a class="lightbox" href="/help/img/youtrack/2019.2/yt-upgrade-license.zoomed.png"><img alt="查看您的许可证" title="查看您的许可证" src="/help/img/youtrack/2019.2/yt-upgrade-license.png" id="fc527110" width="600" height="330"></a></figure>            </li><li class="list__item" id="ef83e861">完成后，点击<span class="control">升级</span> 。<ul class="list _ul"><li class="list__item" id="2341f788">YouTrack启动其组件。<p id="7f852c1e">设置完成之前，请勿在浏览器中关闭页面。</p>                    </li><li class="list__item" id="88323ea3"><p>当YouTrack Standalone服务器准备就绪时， <span class="control">仪表板</span>将打开。您的YouTrack Standalone实例已升级并可以使用。</p></li></ul></li></ol></section>    </div>    <div class="last-modified" data-skip-index="skip">上次修改时间：2019年11月29日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="Install-YouTrack-ZIP-Installation.html">ZIP安装</a> <a class="navigation-links__next" href="start-stop-zip.html">开始和停止ZIP安装</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>