<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>使用JAR发行版进行升级-帮助|帮助YouTrack单机版</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body  data-id="Upgrade-YouTrack-JAR" data-breadcrumbs="Installation-and-Upgrade.xml|Installation and Upgrade/youtrack-jar.xml|JAR Distribution/upgrade-with-youtrack-jar.xml|Upgrade with a JAR Distribution" data-main-title="Upgrade with a JAR Distribution" data-article-props="
                {
                
            " seeals=":[=" titl=":=" installation="" and="" upgrad=",=" link=":=" ur=":" configure-jvm-options.htm="," tex=":" configure="" jvm="" option="}=" =""><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索YouTrack独立帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>YouTrack Standalone 2019.2帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 id="upgrade-with-youtrack-jar.xml" data-toc="Upgrade-YouTrack-JAR">通过JAR发行版升级</h1>    <a name="upgrade-prerequisites"></a>        <div class="chapter"><h2 id="prerequisites" data-toc="Upgrade-YouTrack-JAR#prerequisites">先决条件</h2>        <p id="9aad6ad6">升级之前，请执行以下先决任务：</p>        <ul class="list _ul"><li class="list__item" id="b89c7a1f"><p><a href="Back-Up-the-Database.html">创建当前数据库的备份</a> 。YouTrack Standalone不提供向前数据库兼容性。在升级过程中，数据库将迁移为与最新版本兼容的格式。这意味着您无法还原到以前的版本，而无法继续使用升级期间处理的数据库。</p></li><li class="list__item" id="e8a86f4a"><p>将当前数据库的备份复制到安全位置，以防万一升级遇到问题并需要回滚到以前的版本。</p></li><li class="list__item" id="a61462f2"><p>验证您的YouTrack许可证是否支持升级。要查看许可证限制，请单击<span class="control">“</span> <span class="control">管理”</span>菜单中的“ <span class="control">全局设置”</span>链接。如果您的免费更新期已过，则需要<a href="/youtrack/buy/#stand-alone" rel="noopener noreferrer" data-external="true" target="_blank">延长订阅时间</a> 。</p></li><li class="list__item" id="538b1ede"><p>注意<a href="#upgrade-matrix">建议的升级路径</a> 。安装的当前版本显示在应用程序中任何页面的底部。</p></li></ul>        <h4 id="upgrade-matrix">推荐升级路径</h4>        <div class="table-wrapper"><table width="100%" id="b327ba78"><thead><tr id="c89888a7" class="ijRowHead"><th id="c8155195"><p>现有版本</p></th><th id="be996f34"><p>升级到版本</p></th></tr></thead><tbody><tr id="42128fe6" class="ijRowOdd"><td id="5e1b2405"><p>6.5或更早</p></td><td id="401acafc"><p>YouTrack 7.0</p></td></tr><tr id="71ad45f3" class="ijRowEven"><td id="5009dbae"><p>7.0</p></td><td id="1879659d"><p>2017.1</p></td></tr><tr id="47d547ef" class="ijRowOdd"><td id="a7c4b7a0"><p>2017.x</p></td><td id="7d856d41"><p>2018.x</p></td></tr><tr id="a729b6bf" class="ijRowEven"><td id="fde0d810"><p>2018.x</p></td><td id="d69b4ff1"><p>2019.x</p></td></tr></tbody></table></div>        </div>        <div class="chapter"><h2 id="upgrade-jar-procedure" data-toc="Upgrade-YouTrack-JAR#upgrade-jar-procedure">升级现有的JAR安装</h2>        <p id="6d0144ae">如果将YouTrack作为带有JAR发行版的独立Java进程运行，则升级过程非常简单。</p>        <section class="procedure-steps"><h3 id="6ad592ea">要使用JAR发行版升级YouTrack，请执行以下操作：</h3><ol class="list _decimal"><li class="list__item" id="d9a43175"><p>                <a href="/youtrack/download/get_youtrack.html" rel="noopener noreferrer" data-external="true" target="_blank">下载JAR发行版</a> 。</p></li><li class="list__item" id="b6b81abf"><p><a href="Back-Up-the-Database.html">创建当前数据库的备份</a> 。</p></li><li class="list__item" id="a6502c9b"><p>                <a href="start-stop-jar.html#stop-jar">停止YouTrack服务器</a> 。</p></li><li class="list__item" id="7d843af2">                <p id="665e0063">从命令行运行新的JAR文件。如果使用脚本运行YouTrack jar，则部署新的JAR并启动服务器。</p>                <p id="dce146d7">确保使用与先前版本相同的用户帐户运行新的JAR文件。</p>            </li></ol></section>        <p id="6fed8c01">            <b id="06b45cec">如果您在升级过程中遇到问题</b> ，请<a href="https://youtrack.jetbrains.com/issues/JT" rel="noopener noreferrer" data-external="true" target="_blank">创建一个问题</a> 。描述问题并将日志附加到该问题。使用升级前的数据库备份还原以前的YouTrack版本。</p>    </div>    <div class="chapter"><h2 id="upgrade-another-installation-to-jar" data-toc="Upgrade-YouTrack-JAR#upgrade-another-installation-to-jar">使用JAR升级非JAR安装</h2>        <p id="0128d305">本节介绍如何使用JAR发行版本升级现有的非JAR YouTrack安装。</p>        <section class="procedure-steps"><h3 id="8c4ca39d">要升级现有的YouTrack安装：</h3><ol class="list _decimal"><li class="list__item" id="48a812e1"><p><a href="/youtrack/download/get_youtrack.html" rel="noopener noreferrer" data-external="true" target="_blank">下载JAR发行版</a> 。</p></li><li class="list__item" id="e8b0ff1f"><p><a href="Back-Up-the-Database.html">创建并下载当前数据库的新备份</a> 。</p></li><li class="list__item" id="41117b66"><p><a href="Stop-and-Start-YouTrack.html">停止YouTrack服务</a> 。</p></li><li class="list__item" id="abb6fa96"><p>使用操作系统工具来验证YouTrack启动的所有Java进程是否不再运行。如果仍有与YouTrack相关的Java进程仍在运行，请终止未完成的进程树。</p></li><li class="list__item" id="6df5e0f7"><p id="3a1f62ce">在命令行界面中，输入命令以开始升级：</p>                <div class="code-block" data-lang="bash">java -jar youtrack- <version>.jar</version></div>                <p id="bf58e148">有关运行YouTrack JAR的详细信息，请参阅<a href="install-youtrack-jar.html#run-youtrack-jar">“运行YouTrack JAR”</a> 。</p>                <ul class="list _ul"><li class="list__item" id="77bf66f3"><p>基于Web的<span class="control">配置向导</span>启动。</p></li></ul>            </li><li class="list__item" id="5c5cb1ce"><p id="ce50c08f">打开基于Web的<span class="control">配置向导</span> 。</p>                <ul class="list _ul"><li class="list__item" id="e8ec586a"><p>如果您在主机上安装了浏览器，则配置向导将自动打开。</p></li><li class="list__item" id="e50198b2"><p>如果主机上未安装Web浏览器，请在另一个工作站上的Web浏览器中打开向导的URL。向导URL打印在控制台输出中：</p><div class="code-block" data-lang="none">JetBrains YouTrack <version>将在[ <youtrack base="" url="">/ bundle / starting？<value>启动后</value> Wizard_token = <value>]</value></youtrack></version></div>                    <p></p></li></ul>            </li><li class="list__item" id="8b34c62f"><p>在<span class="control">配置向导中</span> ，单击“ <span class="control">升级”</span> 。</p><figure><a class="lightbox" href="/help/img/youtrack/2019.2/upgrade-config-wizard-start.zoomed.png"><img alt="升级：配置向导起始页" title="升级：配置向导起始页" src="/help/img/youtrack/2019.2/upgrade-config-wizard-start.png" id="24d808fe" width="600" height="247"></a></figure>            <p></p></li><li class="list__item" id="de295757"><p>在“ <span class="control">选择升级源”</span>页面上，单击“ <span class="control">选择”</span>按钮，然后<span class="control">选择</span>已创建的当前数据库的备份文件。</p><figure><a class="lightbox" href="/help/img/youtrack/2019.2/zip-upgrade-source.zoomed.png"><img alt="选择升级源" title="选择升级源" src="/help/img/youtrack/2019.2/zip-upgrade-source.png" id="dd77d694" width="600" height="355"></a></figure>            <p></p></li><li class="list__item" id="3d4b4d30"><p>完成后，单击“ <span class="control">下一步”</span> 。</p></li><li class="list__item" id="13bd0619"><p id="07aa6805">在“ <span class="control">确认设置”</span>页面上，确认或更改系统设置和系统目录的位置。</p>                <figure><a class="lightbox" href="/help/img/youtrack/2019.2/zip-upgrade-http-confirm.zoomed.png"><img alt="YouTrack JAR升级设置" title="YouTrack JAR升级设置" src="/help/img/youtrack/2019.2/zip-upgrade-http-confirm.png" id="8a7cb11f" width="600" height="499"></a></figure>                <p id="2319ba63">在这里，您还可以<span class="emphasis">启用内置TLS，</span>以保护服务器的网络连接。有关详细过程，请阅读“ <a href="configure-server-tls-configuration-wizard.html#enable-https-during-upgrade">内置TLS升级方案”</a>页面。</p>            </li><li class="list__item" id="2fd7fbd2"><p id="a7579c95">完成后，点击<span class="control">升级</span> 。</p>                <ul class="list _ul"><li class="list__item" id="06791e2e"><p id="6326b177">YouTrack启动其组件。</p>                        <p id="53478878">设置完成之前，请勿在浏览器中关闭页面。</p>                    </li><li class="list__item" id="f17b5f65"><p>当YouTrack Standalone服务器准备就绪时， <span class="control">仪表板</span>将打开。您的YouTrack Standalone实例已升级并可以使用。</p></li></ul>            </li></ol></section>    </div>    <div class="last-modified" data-skip-index="skip">上次修改时间：2019年11月29日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="install-youtrack-jar.html">JAR安装</a> <a class="navigation-links__next" href="start-stop-jar.html">开始和停止JAR分发</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>