<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>在Microsoft Azure上托管YouTrack实例-帮助|帮助YouTrack单机版</title><link rel="stylesheet" href="/resources.jetbrains.com/storage/help-app/v3/app.css"></head><body  data-id="Host-YouTrack-Instance-on-Microsoft-Azure" data-breadcrumbs="Installation-and-Upgrade.xml|Installation and Upgrade/Host-YouTrack-Instance-on-Microsoft-Azure.xml|Host a YouTrack Instance on Microsoft Azure" data-main-title="Host a YouTrack Instance on Microsoft Azure"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索YouTrack独立帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>YouTrack Standalone 2019.2帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 id="Host-YouTrack-Instance-on-Microsoft-Azure.xml" data-toc="Host-YouTrack-Instance-on-Microsoft-Azure">在Microsoft Azure上托管YouTrack实例</h1>    <p id="a6cc8a37">云托管使您可以灵活地向网络添加资源，而无需安装和维护自己的服务器。JetBrains提供了<a href="http://www.jetbrains.com/youtrack/buy/index.jsp#incloud" rel="noopener noreferrer" data-external="true" target="_blank">YouTrack InCloud</a> ，它在云中为您提供了一个现成的YouTrack实例。您还可以在Microsoft Azure托管的虚拟机上安装YouTrack Standalone。</p>    <p id="46da2534">本指南说明如何配置虚拟机以及如何在Microsoft Azure帐户中安装YouTrack。您可以使用多种不同的配置在托管环境中运行YouTrack。本指南中的设置使用以下组件：</p>    <ul class="list _ul"><li class="list__item" id="306cc147"><p>适用于虚拟机的Windows Server 2012 R2数据中心</p></li><li class="list__item" id="52950cf2"><p>安装程序包的YouTrack MSI分发</p></li></ul>    <p id="c5947065">如果要使用其他类型的虚拟机或安装，仍可以按照本指南的一般设置指南进行操作。</p>    <div class="chapter"><h2 id="azure-hosting-overview" data-toc="Host-YouTrack-Instance-on-Microsoft-Azure#azure-hosting-overview">总览</h2>        <p id="6e079f67">要在Microsoft Azure中托管YouTrack实例，请执行以下步骤：</p>        <ul class="list _ul"><li class="list__item" id="e33e40b5"><p><a href="#Creating_a_virtual_machine">创建一个虚拟机</a> 。</p></li><li class="list__item" id="3e4032ad"><p><a href="#AddEndpoints">将端点添加到虚拟机</a> 。</p></li><li class="list__item" id="7bcbcffc"><p><a href="#OpenHTTPPort">在防火墙中打开一个HTTP端口</a> 。</p></li><li class="list__item" id="c28369f2"><p><a href="#InstallYT">安装YouTrack</a> 。</p></li></ul>    </div>    <div class="chapter"><h2 id="azure-hosting-prerequisites" data-toc="Host-YouTrack-Instance-on-Microsoft-Azure#azure-hosting-prerequisites">先决条件</h2>        <p id="8a1b90d2">此设置要求您具有活动的Microsoft Azure订阅。</p>        <ul class="list _ul"><li class="list__item" id="ab9e42b0"><p>托管YouTrack所需的存储量因YouTrack数据库的大小而异。</p></li><li class="list__item" id="f3ff6bb4"><p>如果您的订阅中尚未包含独立的虚拟机，则需要创建一个。虚拟机必须至少具有1个核心和1,5 Gb RAM。</p></li></ul>        <p id="d32713bd">如果您没有Microsoft Azure订阅，则可以注册30天的免费试用期。通过该试用版，您可以创建和试用Azure资源的任意组合。有关更多信息，请访问<a href="https://azure.microsoft.com/en-us/free/" rel="noopener noreferrer" data-external="true" target="_blank">Microsoft Azure官方网站</a> 。</p>    </div>    <div class="chapter"><h2 id="CreateMachine" data-toc="Host-YouTrack-Instance-on-Microsoft-Azure#CreateMachine">创建一个虚拟机</h2>        <a name="Creating_a_virtual_machine"></a>        <p id="b40239ca">首先，您需要将虚拟机添加到Microsoft Azure订阅中。如果您已经有一个虚拟机，该虚拟机具有足够的可用资源来承载YouTrack，请跳过此过程，然后<a href="#AddEndpoints">继续下一步</a> 。</p>        <aside class="prompt" rel="b40239ca" id="3f49205c" data-type="note" data-title="">            <p id="7689c935">本指南向您显示设置Microsoft Azure环境的几个选项之一。</p>               <p id="33c25210">有关其他选项，请参考<a href="https://azure.microsoft.com/en-us/documentation/articles/virtual-machines-windows-hero-tutorial/" rel="noopener noreferrer" data-external="true" target="_blank">Microsoft Azure网站</a>上的文档。</p></aside>        <section class="procedure-steps"><h3 id="2744f328">要创建虚拟机：</h3><ol class="list _decimal"><li class="list__item" id="06d1a227"><p>登录到<a href="https://portal.azure.com/" rel="noopener noreferrer" data-external="true" target="_blank">Microsoft Azure管理门户</a> 。</p></li><li class="list__item" id="6a3d3363"><p>单击“ <span class="control">新建”</span>按钮，然后选择“ <span class="control">虚拟机”</span> 。</p></li><li class="list__item" id="268d7822">从列表中选择一个图像。您可以在Windows或Linux服务器上运行YouTrack。此安装程序使用Windows Server 2012 R2数据中心。<p id="ba7b8c9c"></p><figure><a class="lightbox" href="/help/img/youtrack/2019.2/newAzureVM_thumbnail.zoomed.png"><img alt="新天蓝色VM" title="新天蓝色VM" src="/help/img/youtrack/2019.2/newAzureVM_thumbnail.png" id="7fdec497" width="600" height="388"></a></figure><p></p></li><li class="list__item" id="806b2767"><p>从“ <span class="control">选择部署模型”</span>下拉列表中，选择“ <span class="control">经典”</span> 。</p></li><li class="list__item" id="869c1851">单击<span class="control">创建</span>按钮。<ul class="list _ul"><li class="list__item" id="d2776373"><p>将打开“ <span class="control">创建VM”</span>向导。</p></li></ul>                <figure><a class="lightbox" href="/help/img/youtrack/2019.2/createVMWizard_thumbnail.zoomed.png"><img alt="创建虚拟机向导" title="创建虚拟机向导" src="/help/img/youtrack/2019.2/createVMWizard_thumbnail.png" id="c6dd2bbd" width="600" height="298"></a></figure>            </li><li class="list__item" id="b918f4e7">输入以下设置的值：<div class="table-wrapper"><table width="100%" id="796de0c1"><thead><tr id="8f614903" class="ijRowHead"><th id="c8555683" width="20%"><p>设置</p></th><th id="9484ba6f"><p>描述</p></th></tr></thead><tbody><tr id="0d1cc2f4" class="ijRowOdd"><td id="cbe360ab"><p>主机名</p></td><td id="f1bbba67"><p>输入虚拟机的名称。此值将作为前缀添加到用于远程访问计算机的DNS名称。为虚拟机分配一个始终使用子域的唯一DNS名称<code class="code">.cloudapp.net</code> 。如果要使用自定义域名，请在继续此设置的下一步之前<a href="https://azure.microsoft.com/en-us/documentation/articles/cloud-services-custom-domain-name-portal/" rel="noopener noreferrer" data-external="true" target="_blank">配置自定义域名</a> 。</p></td></tr><tr id="a8c06384" class="ijRowEven"><td id="73d7e606"><p>用户名</p></td><td id="c7e57a14"><p>输入用于管理虚拟机的用户帐户的名称。</p></td></tr><tr id="2580bb00" class="ijRowOdd"><td id="ed96c1c3"><p>密码</p></td><td id="e1e013b9"><p>设置用于访问虚拟机的用户帐户的密码。</p></td></tr></tbody></table></div></li><li class="list__item" id="18b14ffa"><p>在“ <span class="control">定价层”</span>部分中，选择虚拟机的大小。</p></li><li class="list__item" id="b078eef6"><p>在“ <span class="control">位置”</span>部分中，选择离您最近的位置以减少延迟。</p></li><li class="list__item" id="7bc9b3f1">单击<span class="control">创建</span>按钮。<ul class="list _ul"><li class="list__item" id="74273ce2"><p>虚拟机已创建并添加到您的订阅中。根据虚拟机的大小，这可能需要一些时间。虚拟机的状态显示在工具栏的“ <span class="control">通知”</span>窗格下。</p></li></ul></li></ol></section>        <p id="31a6881c">虚拟机设置完成后，即可继续下一步。</p>    </div>    <div class="chapter"><h2 id="AddEndpoints" data-toc="Host-YouTrack-Instance-on-Microsoft-Azure#AddEndpoints">将端点添加到虚拟机</h2>        <p id="a480ffe2">创建新的Windows虚拟机时，将打开TCP端口3389与远程桌面连接。Linux虚拟机使用TCP端口22允许SSH连接。要使外部用户能够访问您的YouTrack服务，您需要在虚拟机中设置服务的入口点。</p>        <section class="procedure-steps"><h3 id="22997317">要将端点添加到虚拟机：</h3><ol class="list _decimal"><li class="list__item" id="f3508be1"><p>在Microsoft Azure门户中选择虚拟机的名称。</p></li><li class="list__item" id="65d305be"><p>单击工具栏中的<span class="control">设置</span>按钮。</p></li><li class="list__item" id="a78fe039"><p>在<span class="control">常规</span>部分中，点击<span class="control">端点</span> 。</p></li><li class="list__item" id="ba60d910"><p>单击工具栏中的“ <span class="control">添加”</span>按钮。</p><figure><a class="lightbox" href="/help/img/youtrack/2019.2/AzureMVEndpoints.zoomed.png"><img alt="Azure Mv终结点" title="Azure Mv终结点" src="/help/img/youtrack/2019.2/AzureMVEndpoints.png" id="60075375" width="600" height="284"></a></figure>            <p></p></li><li class="list__item" id="5c058568">在“ <span class="control">添加端点”</span>刀片中，输入以下设置的值：<div class="table-wrapper"><table width="100%" id="740300df"><thead><tr id="6b5ae782" class="ijRowHead"><th id="b0122b43" width="20%"><p>设置</p></th><th id="5cceb42c"><p>描述</p></th></tr></thead><tbody><tr id="31df8f09" class="ijRowOdd"><td id="dc138ec3"><p>名称</p></td><td id="09de7ba0"><p>输入端点的名称，例如， <code class="code">YouTrack</code> 。</p></td></tr><tr id="71ddcfe9" class="ijRowEven"><td id="b0e85f3d"><p>协议</p></td><td id="c90cab0e"><p>选择“ <span class="control">TCP”</span> 。</p></td></tr><tr id="9d39e4e9" class="ijRowOdd"><td id="491bfd34"><p>公共港口</p></td><td id="ece44caa"><p>输入<code class="code">80</code> 。</p></td></tr><tr id="2029617b" class="ijRowEven"><td id="102510b3"><p>私人港口</p></td><td id="a993fef3"><p>输入<code class="code">80</code> 。</p></td></tr></tbody></table></div></li><li class="list__item" id="b110e53b">单击<span class="control">确定</span>按钮。<ul class="list _ul"><li class="list__item" id="c1240687"><p>虚拟机终端端口已保存。虚拟机的状态显示在工具栏的“ <span class="control">通知”</span>窗格下。</p></li></ul></li></ol></section>        <p id="34e7e3ab">既然您已经配置了虚拟机，请继续下一步配置防火墙。</p>    </div>    <div class="chapter"><h2 id="OpenHTTPPort" data-toc="Host-YouTrack-Instance-on-Microsoft-Azure#OpenHTTPPort">在防火墙中打开HTTP端口</h2>        <p id="f1d28f0b">此设置中使用的虚拟机映像包括一个预先配置的防火墙。如果您的虚拟机启用了防火墙，则需要打开一个端口以允许通过HTTP访问YouTrack。</p>        <section class="procedure-steps"><h3 id="53a687ed">要在Windows防火墙中打开端口，请执行以下操作：</h3><ol class="list _decimal"><li class="list__item" id="c60e63ad"><p>在Microsoft Azure门户中选择虚拟机的名称。</p></li><li class="list__item" id="571b3a1c">单击工具栏中的“ <span class="control">连接”</span>按钮。<ul class="list _ul"><li class="list__item" id="5e11d0b5"><p>与虚拟机的远程桌面连接将下载到本地目录。</p></li></ul></li><li class="list__item" id="b0d052d2"><p>使用创建虚拟机时输入的用户名和密码打开远程桌面连接。</p></li><li class="list__item" id="c12645f1"><p>在<span class="control">服务器管理器中</span> ，选择“ <span class="control">本地服务器”</span> 。</p></li><li class="list__item" id="63f37d7c">在“ <span class="control">属性”</span>部分中，单击“ <span class="control">Windows防火墙”</span>属性旁边的链接。<figure><a class="lightbox" href="/help/img/youtrack/2019.2/AzureLocalServer.zoomed.png"><img alt="Azure本地服务器" title="Azure本地服务器" src="/help/img/youtrack/2019.2/AzureLocalServer.png" id="705c13fe" width="600" height="150"></a></figure>                <ul class="list _ul"><li class="list__item" id="7187127d"><p><span class="control">Windows防火墙</span>窗口打开。</p></li></ul></li><li class="list__item" id="7c6e32df">单击<span class="control">高级设置</span>链接。<ul class="list _ul"><li class="list__item" id="66df9fd7"><p>将打开“ <span class="control">具有高级安全性</span>的<span class="control">Windows防火墙”</span>对话框。</p></li></ul></li><li class="list__item" id="5c99815f">右键单击“ <span class="control">入站规则”，</span>然后选择“ <span class="control">新建规则”</span>选项。<figure><a class="lightbox" href="/help/img/youtrack/2019.2/newFirewallRule_thumbnail.zoomed.png"><img alt="新防火墙规则" title="新防火墙规则" src="/help/img/youtrack/2019.2/newFirewallRule_thumbnail.png" id="58f16748" width="600" height="446"></a></figure>                <ul class="list _ul"><li class="list__item" id="4270b773"><p>将打开“ <span class="control">新建入站规则向导”</span> 。</p></li></ul></li><li class="list__item" id="c24bec26">请按照向导中的步骤配置规则，如下所示：<div class="table-wrapper"><table width="100%" id="70dcf5e3"><thead><tr id="1154fe65" class="ijRowHead"><th id="84870a68" width="20%"><p>步</p></th><th id="fc795079"><p>选项</p></th></tr></thead><tbody><tr id="9ab01efd" class="ijRowOdd"><td id="a6888739"><p>规则类型</p></td><td id="690c8509"><p>选择<span class="control">端口</span> 。</p></td></tr><tr id="d4a8be28" class="ijRowEven"><td id="f39702df"><p>协议和端口</p></td><td id="0903d3d4"><ul class="list _ul"><li class="list__item" id="380d0945"><p>选择“ <span class="control">TCP”</span> 。</p></li><li class="list__item" id="864e6c4c"><p>在“ <span class="control">特定本地端口”</span>输入字段中，输入<code class="code">80</code> 。</p></li></ul></td></tr><tr id="85bdb85a" class="ijRowOdd"><td id="1ae83cf7"><p>行动</p></td><td id="24a21523"><p>选择“ <span class="control">允许连接”</span> 。</p></td></tr><tr id="2f6c9912" class="ijRowEven"><td id="c3f738dc"><p>轮廓</p></td><td id="5166373a"><p>将规则应用于所有防火墙模式。</p></td></tr><tr id="e33e89d9" class="ijRowOdd"><td id="4e32aab4"><p>名称</p></td><td id="ee20ba95"><p>输入名称，例如， <code class="code">Allow YouTrack</code> 。输入可选说明。</p></td></tr></tbody></table></div></li><li class="list__item" id="ec3ddf7a">完成后，单击<span class="control">完成</span>按钮。<ul class="list _ul"><li class="list__item" id="45571c25"><p>防火墙规则已启用。</p></li></ul></li></ol></section>        <p id="4d2a0a95">或者，您可以打开<span class="control">Windows PowerShell</span>并输入以下命令：</p>        <div class="code-block" data-lang="bash">netsh advfirewall防火墙添加规则名称=“ YouTrack” dir =正在执行=允许协议= TCP localport = 80</div>        <p id="426d7ae3">现在您已经打开了YouTrack将使用的端口，请保持登录到远程桌面连接的状态并继续执行最后一步。</p>    </div>    <div class="chapter"><h2 id="InstallYT" data-toc="Host-YouTrack-Instance-on-Microsoft-Azure#InstallYT">安装YouTrack</h2>        <a name="Installing_YouTrack"></a>        <p id="4df2eaa5">在虚拟机上安装YouTrack的过程与任何其他YouTrack安装类似。您可以安装要使用的任何分发类型。此设置遵循<a href="Install-YouTrack-MSI-Installation.html">MSI分发</a>的<a href="Install-YouTrack-MSI-Installation.html">安装过程</a> 。</p>        <p id="a8c820ef">Windows虚拟机包括Internet Explorer作为默认浏览器，但是，将浏览器配置为使用增强的安全性配置。此配置不信任任何网站，并禁用下载。在继续安装之前：</p>        <ul class="list _ul"><li class="list__item" id="08442be2"><p>禁用Internet Explorer增强的安全性。<br>要么</p></li><li class="list__item" id="5e4d844f"><p>下载并安装其他Web浏览器。如果安装其他浏览器，请将其设置为操作系统的默认浏览器。</p></li></ul>        <section class="procedure-steps"><h3 id="3b9f2bd4">要安装YouTrack：</h3><ol class="list _decimal"><li class="list__item" id="9792ea7a"><p><a href="/youtrack/download/get_youtrack.html" rel="noopener noreferrer" data-external="true" target="_blank">下载MSI发行版</a> 。</p></li><li class="list__item" id="498583dc">打开Windows Installer程序包（MSI文件）。<ul class="list _ul"><li class="list__item" id="552d64df"><p>将打开<span class="control">JetBrains YouTrack设置向导</span> 。</p></li></ul></li><li class="list__item" id="087aef53">请按照安装向导中的说明进行操作。<ul class="list _ul"><li class="list__item" id="a6d0b772"><p>安装向导完成后，基于Web的配置向导将在默认浏览器中打开。</p></li></ul>            </li><li class="list__item" id="3139da7c"><p>在<span class="control">配置向导中</span> ，单击“ <span class="control">设置”</span> 。</p></li><li class="list__item" id="76ca6635"><p>在“ <span class="control">确认设置”</span>页面上，将“ <span class="control">基本URL”</span>更改为虚拟机的完整DNS名称。这样可以确保包含指向您的YouTrack实例的链接的通知指向正确的URL。</p><figure><a class="lightbox" href="/help/img/youtrack/2019.2/azure-change-base-url.zoomed.png"><img alt="Azure更改基础URL" title="Azure更改基础URL" src="/help/img/youtrack/2019.2/azure-change-base-url.png" id="39cfe44a" width="600" height="357"></a></figure>            <p></p></li><li class="list__item" id="6c09669e"><p>继续执行向导中的其余步骤。</p></li><li class="list__item" id="2da4bbcd">完成后，点击<span class="control">完成</span> 。<ul class="list _ul"><li class="list__item" id="6d860286"><p>该配置将应用于您的YouTrack Standalone服务器。</p></li></ul>                <p id="38b6984b">设置完成之前，请勿在浏览器中关闭页面。当YouTrack Standalone服务器准备就绪时，您将以访客身份登录到YouTrack。</p>            </li></ol></section>        <p id="03942eb2">而已。您的YouTrack Standalone实例已安装并可以在云中使用。</p>    </div><div class="last-modified" data-skip-index="skip">上次修改时间：2019年11月29日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="YouTrack-Supported-Environments.html">支持的环境</a> <a class="navigation-links__next" href="uninstall-youtrack.html">卸载YouTrack</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>