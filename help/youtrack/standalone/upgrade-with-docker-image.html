<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>Upgrade with Docker Container - Help | YouTrack Standalone</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body data-id="upgrade-with-docker-image" data-breadcrumbs="Installation-and-Upgrade.xml|Installation and Upgrade/youtrack-docker.xml|Docker Container/upgrade-with-docker-image.xml|Upgrade with Docker Container" data-main-title="Upgrade with Docker Container"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search YouTrack Standalone Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>YouTrack Standalone 2019.2 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="upgrade-with-docker-image" id="upgrade-with-docker-image.xml">Upgrade with Docker Container</h1>        <p id="ae6070d1">This page describes various scenarios of upgrading an existing YouTrack service using the YouTrack docker image.</p>    <a name="upgrade-prerequisites"></a>        <div class="chapter"><h2 id="prerequisites" data-toc="upgrade-with-docker-image#prerequisites">Prerequisites</h2>        <p id="7be7b09c">Before you upgrade, perform the following prerequisite tasks:</p>        <ul class="list _ul"><li class="list__item" id="8628ec89"><p><a href="Back-Up-the-Database.html">Create a backup of your current database</a>.                YouTrack Standalone does not provide forward database compatibility.                Your database is migrated to the format that is compatible with the latest version during the upgrade procedure.                This means that you cannot revert to a previous version and continue to use the database that was processed during the upgrade.</p></li><li class="list__item" id="0ad448ef"><p>Copy the backup of your current database to a secure location just in case you encounter problems with the upgrade and need to                roll back to the previous version.</p></li><li class="list__item" id="dfecc9db"><p>Verify that your YouTrack license supports the upgrade.                To view the license limitations, click the <span class="control">Global Settings</span> link in the <span class="control">Administration</span> menu.                If your free update period has expired, you need to <a href="https://www.jetbrains.com/youtrack/buy/#stand-alone" data-external="true" target="_blank" rel="noopener noreferrer">extend your subscription</a>.</p></li><li class="list__item" id="6d3eb206"><p>Mind the <a href="#upgrade-matrix">recommended upgrade path</a>.                The current version of your installation is shown at the bottom of any page in the application.</p></li></ul>        <h4 id="upgrade-matrix">Recommended upgrade path</h4>        <div class="table-wrapper"><table width="100%" id="6e2debf9"><thead><tr id="39fd0d48" class="ijRowHead"><th id="9a6a29d2"><p>Existing version</p></th><th id="0696a82a"><p>Upgrade to version</p></th></tr></thead><tbody><tr id="7c67f854" class="ijRowOdd"><td id="462ff8f8"><p>6.5 or earlier</p></td><td id="3dc7278a"><p>YouTrack 7.0</p></td></tr><tr id="f948a07d" class="ijRowEven"><td id="b3e1e508"><p>7.0</p></td><td id="e556a05c"><p>2017.1</p></td></tr><tr id="fd84b503" class="ijRowOdd"><td id="a4e338be"><p>2017.x</p></td><td id="009f6610"><p>2018.x</p></td></tr><tr id="e756d1dc" class="ijRowEven"><td id="a65b0bc6"><p>2018.x</p></td><td id="aec42d63"><p>2019.x</p></td></tr></tbody></table></div>        </div>            <div class="chapter"><h2 id="upgrading-docker-image" data-toc="upgrade-with-docker-image#upgrading-docker-image">Upgrade a Docker Image</h2>            <section class="procedure-steps"><ol class="list _decimal"><li class="list__item" id="ff85b5ef"><p><a href="Back-Up-the-Database.html">Create a backup</a> of the YouTrack database while your existing YouTrack installation is running.</p></li><li class="list__item" id="951a9467"><p id="3b1cf96f"><a href="start-stop-docker.html#stop-docker-container">Stop the running YouTrack docker container</a>:</p>                    <div class="code-block" data-lang="bash">
                        docker exec &lt;CONTAINER_ID&gt; stop
    </div>                    <aside data-type="tip" class="prompt" data-title="" rel="058009f3" id="26f5e31e">                        <p id="c5452ee6">To get the &lt;CONTAINER_ID&gt;, use the command:                            <div class="code-block" data-lang="bash">docker ps -a</div></p>                    </aside>                </li><li class="list__item" id="2128a3bd"><p id="46dc4d64">Remove the container with the previous version.</p>                    <div class="code-block" data-lang="bash">
                        docker rm &lt;CONTAINER_ID&gt;
    </div>                    <p id="a5aecd3c">Otherwise, when you run the new version of the container, the command will fail because of the container names conflicts.</p>                </li><li class="list__item" id="a310f188"><p id="d0b9eb88">Pull an image of the latest YouTrack version from the <a href="https://hub.docker.com/r/jetbrains/youtrack/" data-external="true" target="_blank" rel="noopener noreferrer">Docker YouTrack Repository</a>:</p>                    <div class="code-block" data-lang="bash">
                        docker pull jetbrains/youtrack:&lt;version&gt;
    </div>                    <p id="f5d0b831">Where <code class="code">&lt;version&gt;</code> is a full version number of an YouTrack build. <a href="https://hub.docker.com/r/jetbrains/youtrack/tags/" data-external="true" target="_blank" rel="noopener noreferrer">See the complete list of available versions.</a></p>                </li><li class="list__item" id="3d64756f"><p id="5bfe9eb5">Execute the following command to run a container with the new YouTrack version, that you have pulled from the repository.                    All other attributes of the command (volumes and port mappings) must be the same as you have used to                    run the previous version of the YouTrack image:</p>                    <div class="code-block" data-lang="bash">
                        docker run -it --name &lt;arbitrary-youtrack-container-name&gt; \
                        -v &lt;path to data directory&gt;:/opt/youtrack/data \
                        -v &lt;path to conf directory&gt;:/opt/youtrack/conf \
                        -v &lt;path to logs directory&gt;:/opt/youtrack/logs \
                        -v &lt;path to backups directory&gt;:/opt/youtrack/backups \
                        -p &lt;port on host&gt;:8080 \
                        jetbrains/youtrack:&lt;new version&gt;
    </div>                    <ul class="list _ul"><li class="list__item" id="67cd9732"><p>In the console output, an URL to the web-based Configuration Wizard is provided.</p></li></ul>                </li><li class="list__item" id="ce7a0edc"><p>In a browser, open the web-based Configuration Wizard by the URL.</p></li><li class="list__item" id="ea137ba2"><p>                    Review the upgrade settings. Click <span class="control">Next</span>.                </p></li><li class="list__item" id="75d7a113">                    <p id="9ee53987">Review you license. If required, you can also update your license on this page.</p>                </li><li class="list__item" id="a0917c45"><p id="60d03d1b">When done, click <span class="control">Upgrade</span>.</p>                    <ul class="list _ul"><li class="list__item" id="1c2740cc"><p id="7c0db437">YouTrack Standalone launches its components.</p>                            <p id="95d12887">Do not close the page in the browser until the setup is complete.                                When the YouTrack Standalone server is ready, you are redirected to the login page.</p>                        </li></ul>                </li><li class="list__item" id="34b23af3"><p id="c4f94fbe">Enter the credentials for the YouTrack Standalone administrator account and click the <span class="control">Log in</span> button.</p>                    <ul class="list _ul"><li class="list__item" id="6bff6e48"><p>YouTrack opens to the <span class="control">Dashboard</span> page.</p></li></ul>                    <p id="d2cc7b35">Your YouTrack Standalone installation is upgraded and ready to use.</p>                </li></ol></section>        </div>        <div class="chapter"><h2 id="youtrack-zip-msi-to-docker" data-toc="upgrade-with-docker-image#youtrack-zip-msi-to-docker">Upgrade Another Installation with Docker Image</h2>            <section class="procedure-steps"><ol class="list _decimal"><li class="list__item" id="789fffd4"><p><a href="Back-Up-the-Database.html">Create a backup</a> of the YouTrack database while your existing YouTrack installation is running.</p></li><li class="list__item" id="47d0d9b9"><p><a href="Stop-and-Start-YouTrack.html">Stop the existing YouTrack service</a>.</p></li><li class="list__item" id="b06880b7"><p id="8d75453a">Pull an image of the latest YouTrack version from the <a href="https://hub.docker.com/r/jetbrains/youtrack/" data-external="true" target="_blank" rel="noopener noreferrer">Docker YouTrack Repository</a>:</p>                    <div class="code-block" data-lang="bash">
                        docker pull jetbrains/youtrack:&lt;version&gt;
    </div>                    <p id="60a2dee6">Where &lt;version&gt; is a full version number of an YouTrack build. <a href="https://hub.docker.com/r/jetbrains/youtrack/tags/" data-external="true" target="_blank" rel="noopener noreferrer">See the complete list of available versions.</a></p>                </li><li class="list__item" id="8d59c077"><a href="youtrack-docker-installation.html#create-and-configure-directories">Create and configure YouTrack-specific directories on the host machine.</a></li><li class="list__item" id="5e5bee98"><p>Copy the backup file of the YouTrack database into the <code class="code">backups</code> directory, that you created in the previous step.</p></li><li class="list__item" id="8c3f9df7">                    <a href="start-stop-docker.html#youtrack-docker-start">Run the container with YouTrack server and map YouTrack data volumes and port.</a>                    <ul class="list _ul"><li class="list__item" id="7d2394cb"><p>YouTrack service starts with the web-based Configuration Wizard.                            The URL at which you can access the wizard is displayed in the command output.</p></li></ul>                </li><li class="list__item" id="9e355209"><p>In a browser, open the URL to access the wizard.                </p></li><li class="list__item" id="cea86d1d"><p>In the <span class="control">Configuration Wizard</span>, click <span class="control">Upgrade</span>.                    <figure><a class="lightbox" href="/help/img/youtrack/2019.2/upgrade-config-wizard-start.zoomed.png"><img alt="Configuration wizard starts" title="Configuration wizard starts" src="/help/img/youtrack/2019.2/upgrade-config-wizard-start.png" id="1c8e19f4" width="600" height="247"></a></figure>                </p></li><li class="list__item" id="7addaa29"><p>On the <span class="control">Select Upgrade Source</span> page, click the <span class="control">Select</span> button and select the backup file as an upgrade source.                    <figure><a class="lightbox" href="/help/img/youtrack/2019.2/docker-upgrade-source.zoomed.png"><img alt="Select a source for upgrade" title="Select a source for upgrade" src="/help/img/youtrack/2019.2/docker-upgrade-source.png" id="1d0ba6fe" width="600" height="355"></a></figure>                    Click <span class="control">Next</span>.                </p></li><li class="list__item" id="b067e107"><p>On the <span class="control">Confirm Settings</span> page, confirm your system settings and the location of system directories.                    <figure><a class="lightbox" href="/help/img/youtrack/2019.2/docker-upgrade-http-confirm.zoomed.png"><img alt="Docker upgrade confirm settings" title="Docker upgrade confirm settings" src="/help/img/youtrack/2019.2/docker-upgrade-http-confirm.png" id="546b0c4e" width="600" height="499"></a></figure>                </p></li><li class="list__item" id="ed0dd531">                    <p id="d0b29ce5">Review you license. If required, you can also update your license on this page.</p>                </li><li class="list__item" id="387d3d79"><p id="3834d4cf">When done, click <span class="control">Upgrade</span>.</p>                    <ul class="list _ul"><li class="list__item" id="c59fc736"><p id="be3882a3">YouTrack Standalone launches its components.</p>                            <p id="23f42b13">Do not close the page in the browser until the setup is complete.                                When the YouTrack Standalone server is ready, you are redirected to the login page.</p>                        </li></ul>                </li><li class="list__item" id="85396ec4"><p id="8d3175d7">Enter the credentials for the YouTrack Standalone administrator account and click the <span class="control">Log in</span> button.</p>                    <ul class="list _ul"><li class="list__item" id="61017fe1"><p>YouTrack opens to the <span class="control">Dashboard</span> page.</p></li></ul>                    <p id="02bd4928">Your YouTrack Standalone installation is upgraded and ready to use.</p>                </li></ol></section>        </div><div class="last-modified" data-skip-index="skip">Last modified: 29 November 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="youtrack-docker-installation.html">Docker Installation</a><a class="navigation-links__next" href="start-stop-docker.html">Run and Stop a Docker Container</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>