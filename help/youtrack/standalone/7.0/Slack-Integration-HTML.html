<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><title>YouTrack Standalone 7.0 Help :: Slack Integration (HTTP)</title><link rel="stylesheet" href="/help/app/app.css"></head><body data-id="Slack-Integration-HTML"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><div class="wrapper"><section class="panel _nav"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search YouTrack Standalone Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header"><div class="container"><h3>YouTrack Standalone 7.0 Help</h3><div class="shortcuts-switcher"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="primary" value="default" selected>Default (Windows/Linux)</option><option data-group="secondary" value="mac_os_x_10.5_">Default (Mac OS X 10.5+)</option><option data-group="secondary" value="mac_os_x">OS X</option><option data-group="secondary" value="eclipse_mac_os_x">OS X Eclipse</option><option data-group="secondary" value="intellij_idea_classic_os_x">IntelliJ IDEA Classic (OS X)</option><option data-group="secondary" value="xcode">Xcode</option><option data-group="secondary" value="visual_studio">Visual Studio</option><option data-group="secondary" value="resharper">ReSharper</option><option data-group="secondary" value="resharper_osx">ReSharper OSX</option><option data-group="secondary" value="emacs">Emacs</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="false"><div class="navigation-links _top"><a class="navigation-links__prev" href="Integration-with-Test-Management-Tools.html">Test Management Tools</a><a class="navigation-links__next" href="Language-Support.html">Language Support</a></div><h1>Slack Integration (HTTP)</h1><a name="d140988e3"></a><p>With the REST client implementation for the workflow API, you can use a workflow to script a push-style integration with Slack.
       This integration lets you post notifications to a channel in Slack when a new issue is created in a specific project.
    In addition, we provide a sample workflow that lets you post notifications to Slack when the priority of an existing issue is raised to <a name="d140988e5"></a><span class="control">High</span>.
    You can modify this workflow to post notifications for any type of issue update.</p><a name="d140988e9"></a><p>This integration uses <a name="d140988e11"></a><span class="control">Incoming WebHooks</span> to enable an integration between Slack and YouTrack.
        The YouTrack workflow sends a normal HTTP request with a JSON payload that contains the issue ID and summary.</p><a name="d140988e15"></a><p>Unlike the <a name="d140988e17"></a><a href="Slack-Integration.html"><span>Slack integration over XMPP</span></a>, this integration only lets you post notifications to a channel in Slack.
    This type of integration does not let users update issues with commands by sending direct messages to a Jabber bot.</p><a name="d140988e21"></a><p>To set up this integration with Slack, follow these steps:</p><ol class="list _decimal"><li class="list__item"><a name="d140988e26"></a><a href="#add-custom-integration">Add a Custom Integration to Slack</a></li><li class="list__item"><a name="d140988e29"></a><a href="#customize-workflow">Customize the Slack Integration Workflow</a></li><li class="list__item"><a name="d140988e32"></a><a href="#enable-workflow">Enable the Slack Integration Workflow in YouTrack</a></li></ol><a name="d140988e37"></a><p>The basic setup described here lets you post notifications to a specific channel in Slack when an issue is created in a single YouTrack project.
        For more complex integrations, see <a href="#multi-project">Multi-channel and Multi-project Configurations</a>.</p><a name="add-custom-integration"></a><h2>Add a Custom Integration to Slack</h2>

        <a name="d140988e44"></a><p>This type of Slack integration is enabled on a per-project basis in YouTrack and enabled for a specific channel in Slack.</p>
        <a name="d140988e47"></a><a name="dynaProc0"></a><section class="procedure-steps"><h2>To add a custom integration:</h2><ol class=".list _decimal"><li class="list__item">In Slack, access the channel that you want to integrate with YouTrack.</li><li class="list__item">From the <a name="d140988e54"></a><span class="control">Channel Settings</span> menu, select <a name="d140988e57"></a><span class="control">Add an app or integration</span>.
                <figure><a class="lightbox" href="/help/img/youtrack/7.0/slackIntegrationAddApp.zoomed.png"><img alt="/help/img/youtrack/7.0/slackIntegrationAddApp.png" title="/help/img/youtrack/7.0/slackIntegrationAddApp.png" src="/help/img/youtrack/7.0/slackIntegrationAddApp.png" width="600" height="221"></a></figure>
            <ul class="list _ul"><li class="list__item"><a name="d140988e64"></a>The <a name="d140988e66"></a><span class="control">App Directory</span> page opens.</li></ul></li><li class="list__item">Click <a name="d140988e73"></a><span class="control">Build</span> in the page header.
            <figure><a class="lightbox" href="/help/img/youtrack/7.0/slackIntegrationBuild.zoomed.png"><img alt="/help/img/youtrack/7.0/slackIntegrationBuild.png" title="/help/img/youtrack/7.0/slackIntegrationBuild.png" src="/help/img/youtrack/7.0/slackIntegrationBuild.png" width="600" height="162"></a></figure>
            </li><li class="list__item">Click <a name="d140988e81"></a><span class="control">Make a Custom Integration</span>.
                <figure><a class="lightbox" href="/help/img/youtrack/7.0/slackIntegrationCustom.zoomed.png"><img alt="/help/img/youtrack/7.0/slackIntegrationCustom.png" title="/help/img/youtrack/7.0/slackIntegrationCustom.png" src="/help/img/youtrack/7.0/slackIntegrationCustom.png" width="600" height="263"></a></figure>
            <ul class="list _ul"><li class="list__item"><a name="d140988e88"></a>The <a name="d140988e90"></a><span class="control">Build a Custom Integration</span> page opens.</li></ul></li><li class="list__item">Select the <a name="d140988e97"></a><span class="control">Incoming WebHooks</span> option.
                <figure><a class="lightbox" href="/help/img/youtrack/7.0/slackIntegrationIncomingWebhooks.zoomed.png"><img alt="/help/img/youtrack/7.0/slackIntegrationIncomingWebhooks.png" title="/help/img/youtrack/7.0/slackIntegrationIncomingWebhooks.png" src="/help/img/youtrack/7.0/slackIntegrationIncomingWebhooks.png" width="600" height="266"></a></figure>
            </li><li class="list__item">In the <a name="d140988e106"></a><span class="control">Post to Channel</span> section, select the channel that you want to integrate with YouTrack.</li><li class="list__item">Click the <a name="d140988e112"></a><span class="control">Add Incoming WebHooks Integration</span> button.
                <ul class="list _ul"><li class="list__item"><a name="d140988e117"></a>The <a name="d140988e119"></a><span class="control">Incoming WebHooks</span> page displays the settings for your integration.</li></ul>
            </li><li class="list__item">Copy the <a name="d140988e127"></a><span class="control">Webhook URL</span> and paste it into a text editor.
                <figure><a class="lightbox" href="/help/img/youtrack/7.0/slackIntegrationWebhookURL.zoomed.png"><img alt="/help/img/youtrack/7.0/slackIntegrationWebhookURL.png" title="/help/img/youtrack/7.0/slackIntegrationWebhookURL.png" src="/help/img/youtrack/7.0/slackIntegrationWebhookURL.png" width="600" height="116"></a></figure>
                In the following procedure, you add this URL to your workflow rules in YouTrack.</li><li class="list__item">Optionally, customize the settings for your custom integration:
                <figure><a class="lightbox" href="/help/img/youtrack/7.0/slackIntegrationSettings.zoomed.png"><img alt="/help/img/youtrack/7.0/slackIntegrationSettings.png" title="/help/img/youtrack/7.0/slackIntegrationSettings.png" src="/help/img/youtrack/7.0/slackIntegrationSettings.png" width="600" height="511"></a></figure>
            <table class="" width="100%" id="d140988e137"><thead><tr id="d140988e139" class="ijRowHead"><a name="d140988e139"></a><th width="15%"><a name="d140988e141"></a>Setting</th><th><a name="d140988e144"></a>Description</th></tr></thead><tbody><tr id="d140988e148" class="ijRowOdd"><a name="d140988e148"></a><td><a name="d140988e150"></a>Customize Name</td><td><a name="d140988e153"></a>Assign the integration a username.</td></tr><tr id="d140988e157" class="ijRowEven"><a name="d140988e157"></a><td><a name="d140988e159"></a>Customize Icon</td><td><a name="d140988e162"></a>Upload a custom image to use for messages from this integration.</td></tr></tbody></table></li><li class="list__item">Click the <a name="d140988e169"></a><span class="control">Save Settings</span> button.</li></ol></section>

    <a name="customize-workflow"></a><h2>Customize the Slack Integration Workflow</h2>

        <a name="d140988e177"></a><p>The next step is to edit the Slack Integration workflow so it sends notifications to your channel in Slack.</p>
        <a name="d140988e180"></a><p>This workflow contains two rules: <a name="d140988e182"></a><span class="control">Post New Issues to Slack</span> and <a name="d140988e185"></a><span class="control">Post Priority Change to Slack</span>.
            This procedure shows you how to customize the rule that posts new issues.
            For a detailed description of the second rule, see <a href="#update-notifications">Update Notifications</a>.</p>
        <a name="d140988e191"></a><a name="dynaProc1"></a><section class="procedure-steps"><h2>To customize the Slack Integration workflow:</h2><ol class=".list _decimal"><li class="list__item">Download the Slack Integration workflow from the <a name="d140988e205"></a><a href="https://github.com/JetBrains/youtrack-workflows/blob/master/Integration_With_Slack/jetbrains-youtrack-slack.zip" data-external="true"><span>YouTrack Custom Workflow Repository</span></a>.</li><li class="list__item">Open the YouTrack Workflow Editor.</li><li class="list__item">From the <a name="d140988e214"></a><span class="control">Workflow</span> menu, select <a name="d140988e217"></a><span class="control">Import Workflow from File</span>.</li><li class="list__item">Select the ZIP archive that you downloaded in step 1.
                <ul class="list _ul"><li class="list__item"><a name="d140988e225"></a>The workflow is imported into the workflow editor.</li></ul></li><li class="list__item">Open the <a name="d140988e232"></a><span class="control">Post New Issues to Slack</span> rule in the editor.</li><li class="list__item">Locate the <code class="code" data-lang="Java">doHttpPost</code> method in the code.</li><li class="list__item">Replace the whole URL with the <a name="d140988e244"></a><span class="control">Webhook URL</span> that you copied from your custom integration in the previous procedure.</li><li class="list__item">From the <a name="d140988e250"></a><span class="control">Workflow</span> menu, select <a name="d140988e253"></a><span class="control">Upload Workflows to Server</span>.
                <ul class="list _ul"><li class="list__item"><a name="d140988e258"></a>The customized workflows are uploaded to your YouTrack server.</li></ul></li></ol><aside class="note sideblock" data-title="Permissions">
                <ul class="list _ul"><li class="list__item"><a name="d140988e197"></a><a name="d140988e198"></a><span class="control">Low-level Administration</span></li></ul>
            </aside></section>

    <a name="enable-workflow"></a><h2>Enable the Slack Integration Workflow in YouTrack</h2>
        <a name="d140988e266"></a><p>The last step is to attach the Slack Integration workflow to your project in YouTrack.</p>
        <aside class="note sideblock" data-title="Permissions">
            <ul class="list _ul"><li class="list__item"><a name="d140988e273"></a><a name="d140988e274"></a><span class="control">Read Project</span></li><li class="list__item"><a name="d140988e277"></a><a name="d140988e278"></a><span class="control">Update Project</span></li></ul>
        </aside>

        <a name="d140988e283"></a><a name="dynaProc2"></a><section class="procedure-steps"><h2>To enable the Slack Integration workflow:</h2><ol class=".list _decimal"><li class="list__item">Open the project that you want to integrate with Slack.</li><li class="list__item">Click the <a name="d140988e290"></a><span class="control">Edit project</span> link.</li><li class="list__item">Select the <a name="d140988e296"></a><span class="control">Workflow</span> tab.</li><li class="list__item">From the <a name="d140988e302"></a><span class="control">Attach workflows</span> list, select <code class="code" data-lang="Java">Slack-Integration-Generic</code>.
                <ul class="list _ul"><li class="list__item"><a name="d140988e310"></a>The Slack Integration workflow is attached to your project.</li><li class="list__item"><a name="d140988e313"></a>The workflow is enabled and ready for use with your project.</li></ul></li></ol></section>
    <a name="d140988e319"></a><p>When the setup is complete and the workflow is attached to your project, notification is sent to the channel when an issue is created in the project.</p><figure><img alt="/help/img/youtrack/7.0/slackIntegrationNewIssue.png" title="/help/img/youtrack/7.0/slackIntegrationNewIssue.png" src="/help/img/youtrack/7.0/slackIntegrationNewIssue.png" width="824" height="92"></figure><a name="d140988e325"></a><p>In each notification, the YouTrack issue ID is set as a direct link to the issue in YouTrack.</p><a name="update-notifications"></a><h2>Update Notifications</h2>

    <a name="d140988e330"></a><p>The workflow we use for this integration only posts the issue ID, summary, and the color code that indicates the issue priority.
        If you want to include more information, all you have to do is modify the <code class="code" data-lang="Java">payload</code> to include more details about each issue.</p>
    <a name="d140988e336"></a><p>When you post issue updates to Slack, take a selective approach and post only important updates to the channel.
    If you spam the channel with too many updates, important discussions are constantly interrupted by the bot.</p>

    <a name="d140988e339"></a><p>Our sample workflow includes a rule that sends notification to the channel when the priority of an existing issue is raised to <a name="d140988e341"></a><span class="control">High</span>.
    The YouTrack development team uses different set of conditions to push notifications to Slack when an issue is added to the current sprint.
    We offer this rule as an example of just one of may conditions that you can consider for sending update notifications to Slack.</p>

<a name="multi-project"></a><h2>Multi-channel and Multi-project Configurations</h2>

        <a name="d140988e348"></a><p>The basic setup lets you post updates from a single YouTrack project to a specific channel in Slack.
            However, you can easily configure this setup for more complex integration scenarios.</p>

        <a name="d140988e351"></a><h3>One Project, Many Channels</h3>


            <a name="d140988e353"></a><p>The Slack Integration workflow is scripted to support an integration between one YouTrack project and one channel in Slack.
                You can add custom integrations to different channels in Slack and add the Webhook URL for each channel to your workflow rules.</p>

            <a name="d140988e356"></a><p>The following lines of code in the workflow can be customized to send notifications to multiple channels from a single project:</p>

            <a name="d140988e359"></a><div class="code-block" data-lang="Javascript"><code class="code-block__wrapper"><span class="nx">issue</span><span class="p">.</span><span class="nx">doHttpPost</span><span class="p">(</span><span class="s2">&quot;https://hooks.slack.com/services/T00000001/B000000001/XXXXXXXXXXXXXXXXXXXXXXXX&quot;</span><span class="p">,</span> <span class="nx">payload</span><span class="p">);</span>
<span class="nx">issue</span><span class="p">.</span><span class="nx">doHttpPost</span><span class="p">(</span><span class="s2">&quot;https://hooks.slack.com/services/T00000002/B000000002/XXXXXXXXXXXXXXXXXXXXXXXX&quot;</span><span class="p">,</span> <span class="nx">payload</span><span class="p">);</span>
<span class="nx">issue</span><span class="p">.</span><span class="nx">doHttpPost</span><span class="p">(</span><span class="s2">&quot;https://hooks.slack.com/services/T00000003/B000000003/XXXXXXXXXXXXXXXXXXXXXXXX&quot;</span><span class="p">,</span> <span class="nx">payload</span><span class="p">);</span></code></div>


         
        <a name="d140988e363"></a><h3>Many Projects, One Channel</h3>
            <a name="d140988e365"></a><p>If you want to send notifications from multiple YouTrack projects to a single channel in Slack, the setup is relatively simple.</p>
            <ol class="list _decimal"><li class="list__item"><a name="d140988e370"></a>Follow the steps described here to add the URL for your Slack channel to the workflow rules.</li><li class="list__item"><a name="d140988e373"></a>Attach this workflow to all of the projects you want to report to Slack.</li></ol>
         
        <a name="d140988e378"></a><h3>Separate Projects, Separate Channels</h3>
            <a name="d140988e380"></a><p>In a slightly more complicated setup, you have multiple teams who discuss different projects in separate channels.
                You want to direct notifications from specific projects to the channels where each team discusses their issues.</p>
            <a name="d140988e383"></a><p>The easiest way to handle this situation is to create separate workflows for each project and customize the rules accordingly.</p>
            <a name="d140988e386"></a><a name="dynaProc3"></a><section class="procedure-steps"><h2>To support this use case:</h2><ol class=".list _decimal"><li class="list__item">Create a new workflow in the workflow editor.
                    Give the workflow a name that shows its relationship to the project where it will be applied.</li><li class="list__item">Copy the rules from the Slack Integration workflow and past them to the new workflow.</li><li class="list__item">Update the Webhook URL in the workflow rules to reference the Slack channel that you want to notify in this project.</li><li class="list__item">Repeat steps 1 through 3 for every channel that you want to notify in each project.</li><li class="list__item">Upload the workflows to your server.</li><li class="list__item">Attach each workflow to the project for which it has been customized.</li></ol></section>

            <a name="d140988e408"></a><p>An alternative approach is to add conditional statements to your workflow rules.
                With conditional statements, you can identify the project that each issue belongs to and send notifications to dedicated channels in Slack.
                You can then attach the same workflow to all of the projects that are referenced in the workflow and update the same set of workflow rules when you want to enable Slack integration in a new project.</p>
            <a name="d140988e411"></a><p>To support this use case, replace the single <code class="code" data-lang="Java">doHttpPost</code> method with a conditional statement. Use the following sample as a guide:</p>
            <a name="d140988e418"></a><div class="code-block" data-lang="Javascript"><code class="code-block__wrapper"><span class="k">if</span> <span class="p">(</span><span class="nx">issue</span><span class="p">.</span><span class="nx">project</span><span class="p">.</span><span class="nx">shortName</span> <span class="o">==</span> <span class="s2">&quot;Project_ 1&quot;</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">issue</span><span class="p">.</span><span class="nx">doHttpPost</span><span class="p">(</span><span class="s2">&quot;https://hooks.slack.com/services/T00000001/B000000001/XXXXXXXXXXXXXXXXXXXXXXXX&quot;</span><span class="p">,</span> <span class="nx">payload</span><span class="p">);</span>
<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">issue</span><span class="p">.</span><span class="nx">project</span><span class="p">.</span><span class="nx">shortName</span> <span class="o">==</span> <span class="s2">&quot;Project_2&quot;</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">issue</span><span class="p">.</span><span class="nx">doHttpPost</span><span class="p">(</span><span class="s2">&quot;https://hooks.slack.com/services/T00000002/B000000002/XXXXXXXXXXXXXXXXXXXXXXXX&quot;</span><span class="p">,</span> <span class="nx">payload</span><span class="p">);</span>
<span class="p">}</span></code></div>



         
    <div class="last-modified">Last modified: 2 February 2017 </div></article><div id="disqus_thread"></div></div></section></main></div><script></script><script src="/help/app/app.js"></script></body></html>