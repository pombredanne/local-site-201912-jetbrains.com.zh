<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><title>YouTrack Standalone 7.0 Help :: Working with Dates and Times</title><link rel="stylesheet" href="/help/app/app.css"></head><body data-id="Workflow-Working-with-Dates-Times"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><div class="wrapper"><section class="panel _nav"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search YouTrack Standalone Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header"><div class="container"><h3>YouTrack Standalone 7.0 Help</h3><div class="shortcuts-switcher"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="primary" value="default" selected>Default (Windows/Linux)</option><option data-group="secondary" value="mac_os_x_10.5_">Default (Mac OS X 10.5+)</option><option data-group="secondary" value="mac_os_x">OS X</option><option data-group="secondary" value="eclipse_mac_os_x">OS X Eclipse</option><option data-group="secondary" value="intellij_idea_classic_os_x">IntelliJ IDEA Classic (OS X)</option><option data-group="secondary" value="xcode">Xcode</option><option data-group="secondary" value="visual_studio">Visual Studio</option><option data-group="secondary" value="resharper">ReSharper</option><option data-group="secondary" value="resharper_osx">ReSharper OSX</option><option data-group="secondary" value="emacs">Emacs</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="false"><div class="navigation-links _top"><a class="navigation-links__prev" href="Workflow-Language-Grammar.html">Grammar</a><a class="navigation-links__next" href="Workflow-Localization.html">Localization</a></div><h1>Working with Dates and Times</h1><a name="d233365e3"></a><p>When you write workflow rules, especially scheduled rules and scheduled transitions in state-machine rules, you use conditions that evaluate dates, periods, and durations.
        This time-related information can be referenced in the following contexts:</p><table class=" wide" width="100%" id="d233365e6"><thead><tr id="d233365e8" class="ijRowHead"><a name="d233365e8"></a><th width="10%"><a name="d233365e10"></a>Data Type</th><th width="20%"><a name="d233365e13"></a>Context</th><th><a name="d233365e16"></a>Description</th></tr></thead><tbody><tr id="d233365e20" class="ijRowOdd"><a name="d233365e20"></a><td rowspan="4"><a name="d233365e22"></a>Date</td><td><a name="d233365e25"></a><code class="code" data-lang="Java">now</code></td><td><a name="d233365e29"></a>This keyword literal value references the current date and time in UTC.</td></tr><tr id="d233365e33" class="ijRowEven"><a name="d233365e33"></a><td><a name="d233365e35"></a>Field</td><td><a name="d233365e38"></a>The issue fields <code class="code" data-lang="Java">created</code>, <code class="code" data-lang="Java">updated</code>, and <code class="code" data-lang="Java">resolved</code> store values as date data types.
                These values are stored as the actual date and time the action took place.
                These fields use the default timezone setting of your YouTrack server.</td></tr><tr id="d233365e51" class="ijRowOdd"><a name="d233365e51"></a><td><a name="d233365e53"></a>CustomField</td><td><a name="d233365e56"></a>A custom field that uses the <code class="code" data-lang="Java">date</code> data type that was created in the YouTrack user interface.
            When a value is set for a custom field in YouTrack, the time value is set to 12:00 UTC for the specified date.
            When the value is set outside of YouTrack - for example, by workflow, an integration with TeamCity (assembleDate), or by the REST API,
            the value is set to the actual date and time.</td></tr><tr id="d233365e63" class="ijRowEven"><a name="d233365e63"></a><td><a name="d233365e65"></a>Date literal</td><td><a name="d233365e68"></a>A date that is specified as a literal value in the format: <code class="code" data-lang="Java">year-month-day</code>.
                For example, <code class="code" data-lang="Java">2016-Jan-01</code>.
            <a name="d233365e76"></a><p>You can specify the time of day in the format <code class="code" data-lang="Java">hour-minute-second</code>.
                This value can be added to a date literal with the <code class="code" data-lang="Java">T</code> operation.
            For example, <code class="code" data-lang="Java">2016-Jan-01 T 12:00:00</code>.</p></td></tr><tr id="d233365e90" class="ijRowOdd"><a name="d233365e90"></a><td rowspan="2"><a name="d233365e92"></a>Period</td><td><a name="d233365e95"></a>CustomField</td><td><a name="d233365e98"></a>A custom field that uses the <code class="code" data-lang="Java">period</code> data type.</td></tr><tr id="d233365e105" class="ijRowEven"><a name="d233365e105"></a><td><a name="d233365e107"></a>Period literal</td><td><a name="d233365e110"></a>A period constant value. Represented by an integer and the time period. For example, <code class="code" data-lang="Java">1 week</code>.</td></tr><tr id="d233365e117" class="ijRowOdd"><a name="d233365e117"></a><td><a name="d233365e119"></a>Duration</td><td><a name="d233365e122"></a>[date] - [date] operation</td><td><a name="d233365e125"></a>A duration is only returned when combining two dates with the <code class="code" data-lang="Java">-</code> operator.</td></tr></tbody></table><a name="d233365e133"></a><h2>How Soon is Now?</h2>
        <a name="d233365e135"></a><p>When you write workflow rules that compare dates, take note of the actual times that are stored in each field, how they compare to date constants, and the value of the keyword <code class="code" data-lang="Java">now</code>.</p>
        <ul class="list _ul"><li class="list__item"><a name="d233365e143"></a>Dates that are stored in custom fields that are created in YouTrack are assigned a date value with the time as 12:00 UTC.</li><li class="list__item"><a name="d233365e146"></a>If you set the value of a custom field outside of YouTrack, the field stores the actual time value that is assigned to the field.
            This includes values that are assigned to custom fields by a workflow, an integration with TeamCity (assembleDate), or by the REST API.</li><li class="list__item"><a name="d233365e149"></a>Dates that are stored in issue fields are assigned a value that corresponds to the instant when the action took place in the time zone that is set for your YouTrack server.</li><li class="list__item"><a name="d233365e152"></a>Scheduled rules run according to the server clock.</li></ul>
        <a name="d233365e156"></a><p>Let's take a look at the following example:</p>
        <a name="d233365e159"></a><p>You want to notify users of issues that need to be resolved in the current working day.
            You write a rule that looks identifies issues by due date.
            You want to notify users before they arrive in the office, so you schedule the rule to run at 08:00.
            Your rule would look something like this:</p>
        <a name="d233365e162"></a><div class="code-block" data-lang="Javascript"><code class="code-block__wrapper"><span class="nx">schedule</span> <span class="nx">rule</span> <span class="nx">Check</span> <span class="k">for</span> <span class="nx">Due</span> <span class="nx">date</span> <span class="nx">and</span> <span class="nx">notify</span> <span class="nx">assignee</span>

<span class="nx">daily</span> <span class="nx">at</span> <span class="mi">08</span> <span class="o">:</span> <span class="mi">00</span> <span class="o">:</span> <span class="mi">00</span> <span class="p">[</span><span class="nx">issue</span><span class="p">.</span><span class="nx">Due</span> <span class="nx">date</span> <span class="o">&lt;=</span> <span class="nx">now</span><span class="p">]</span> <span class="p">{</span>
    <span class="nx">issue</span><span class="p">.</span><span class="nx">Assignee</span><span class="p">.</span><span class="nx">notify</span><span class="p">(</span><span class="s2">&quot;Issue is due today&quot;</span><span class="p">,</span> <span class="s2">&quot;Please resolve the following issue:&quot;</span> <span class="o">+</span> <span class="nx">issue</span><span class="p">.</span><span class="nx">getId</span><span class="p">());</span>
<span class="p">}</span></code></div>

        <a name="d233365e166"></a><p>The schedule uses the date constant <code class="code" data-lang="Java">08 : 00 : 00</code>, which uses the time zone setting for your YouTrack server.
            The <code class="code" data-lang="Java">issue.Due date</code> references a custom field that stores the date and time as 12:00 UTC.</p>
        <ul class="list _ul"><li class="list__item"><a name="d233365e177"></a>If your office is in Seattle (UTC-7), the value of <code class="code" data-lang="Java">now</code> at 08:00 is 15:00.
            The guard expression resolves to <code class="code" data-lang="Java">[&lt;current date&gt; 12:00:00 &lt;= &lt;current date&gt; 15:00:00]</code>, which is true.
            You could use the rule as it is written.</li><li class="list__item"><a name="d233365e186"></a>If your office is in Sydney (UTC+10), the value of <code class="code" data-lang="Java">now</code> at 08:00 is 22:00 for the previous day.
                The guard expression resolves to <code class="code" data-lang="Java">[&lt;current date&gt; 12:00:00 &lt;= &lt;previous date&gt; 22:00:00]</code>, which is false.<br>
                To notify users of issues that are due today, you must offset one of the values.
            The modified guard expression would look something like this: <code class="code" data-lang="Java">[issue.Due date &lt;= (now + 10 hours)]</code>.
            The due date for issues that are due today would exactly match the value that is returned by the expression.</li></ul>

    <a name="d233365e202"></a><h2>Operators and Time-related Values</h2>
        <a name="d233365e204"></a><p>Arithmetic and relational operators can be used with dates, periods, and durations.
            The data type that is returned by the operator varies based on the combination of data types.</p>
        <table class=" wide" width="100%" id="d233365e207"><thead><tr id="d233365e209" class="ijRowHead"><a name="d233365e209"></a><th width="20%"><a name="d233365e211"></a>Arithmetic Operation</th><th><a name="d233365e214"></a>Returns</th><th width="20%"><a name="d233365e217"></a>Relational Operation</th><th><a name="d233365e220"></a>Returns</th></tr></thead><tbody><tr id="d233365e224" class="ijRowOdd"><a name="d233365e224"></a><td><a name="d233365e226"></a>date + period</td><td><a name="d233365e229"></a>date</td><td><a name="d233365e232"></a>date &lt; date</td><td><a name="d233365e235"></a>Boolean</td></tr><tr id="d233365e239" class="ijRowEven"><a name="d233365e239"></a><td><a name="d233365e241"></a>date + duration</td><td><a name="d233365e244"></a>date</td><td><a name="d233365e247"></a>date &gt; date</td><td><a name="d233365e250"></a>Boolean</td></tr><tr id="d233365e254" class="ijRowOdd"><a name="d233365e254"></a><td><a name="d233365e256"></a>date - period</td><td><a name="d233365e259"></a>date</td><td><a name="d233365e262"></a>date &lt;= date</td><td><a name="d233365e265"></a>Boolean</td></tr><tr id="d233365e269" class="ijRowEven"><a name="d233365e269"></a><td><a name="d233365e271"></a>date - duration</td><td><a name="d233365e274"></a>date</td><td><a name="d233365e277"></a>date &gt;= date</td><td><a name="d233365e280"></a>Boolean</td></tr><tr id="d233365e285" class="ijRowOdd"><a name="d233365e285"></a><td><a name="d233365e287"></a>date - date</td><td><a name="d233365e290"></a>duration</td><td><a name="d233365e293"></a>date == date</td><td><a name="d233365e296"></a>Boolean</td></tr></tbody></table>




    <div class="last-modified">Last modified: 2 February 2017 </div></article><div id="disqus_thread"></div></div></section></main></div><script></script><script src="/help/app/app.js"></script></body></html>