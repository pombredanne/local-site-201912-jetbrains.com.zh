<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><title>YouTrack Standalone 7.0 Help :: Grammar</title><link rel="stylesheet" href="/help/app/app.css"></head><body data-id="Workflow-Language-Grammar"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><div class="wrapper"><section class="panel _nav"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search YouTrack Standalone Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header"><div class="container"><h3>YouTrack Standalone 7.0 Help</h3><div class="shortcuts-switcher"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="primary" value="default" selected>Default (Windows/Linux)</option><option data-group="secondary" value="mac_os_x_10.5_">Default (Mac OS X 10.5+)</option><option data-group="secondary" value="mac_os_x">OS X</option><option data-group="secondary" value="eclipse_mac_os_x">OS X Eclipse</option><option data-group="secondary" value="intellij_idea_classic_os_x">IntelliJ IDEA Classic (OS X)</option><option data-group="secondary" value="xcode">Xcode</option><option data-group="secondary" value="visual_studio">Visual Studio</option><option data-group="secondary" value="resharper">ReSharper</option><option data-group="secondary" value="resharper_osx">ReSharper OSX</option><option data-group="secondary" value="emacs">Emacs</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="false"><div class="navigation-links _top"><a class="navigation-links__prev" href="Workflow-Language-Reference.html">Workflow Language Reference</a><a class="navigation-links__next" href="Workflow-Operators.html">Operators</a></div><h1>Grammar</h1><a name="d205304e3"></a><p>This page describes the basic grammar, variable declarations, data types and literals that are used in the YouTrack workflow programming language.</p><table class="" width="100%" id="d205304e6"><thead><tr id="d205304e8" class="ijRowHead"><a name="d205304e8"></a><th colspan="3"><a name="d205304e10"></a>Workflow Language Elements</th></tr></thead><tbody><tr id="d205304e14" class="ijRowOdd"><a name="d205304e14"></a><td width="15%"><a name="d205304e16"></a><ul class="list _ul"><li class="list__item"><a name="d205304e19"></a><a name="d205304e20"></a><a href="#syntax"><span>rule syntax</span></a></li></ul></td><td width="15%"><a name="d205304e24"></a><ul class="list _ul"><li class="list__item"><a name="d205304e27"></a><a name="d205304e28"></a><a href="#literals"><span>literals</span></a></li></ul></td><td width="15%"><a name="d205304e32"></a><ul class="list _ul"><li class="list__item"><a name="d205304e35"></a><a name="d205304e36"></a><a href="#variables"><span>variables</span></a></li></ul></td><td width="15%"><a name="d205304e40"></a><ul class="list _ul"><li class="list__item"><a name="d205304e43"></a><a name="d205304e44"></a><a href="#comments"><span>comments</span></a></li></ul></td></tr></tbody></table><a name="d205304e50"></a><p>The workflow programming language borrows most of its syntax from JavaScript.
        If you are familiar with JavaScript, you will quickly recognize the structure that is used to write a workflow rule.</p><a name="d205304e53"></a><p>If you're not a programmer, you can find your way around with the code completion feature in the workflow editor.
    The workflow editor shows you a list of available options for every element in the code.
    The editor also displays default text that tells you what is expected for each line.</p><figure><a class="lightbox" href="/help/img/youtrack/7.0/workflowEditorCodeCompletion_thumbnail.zoomed.png"><img alt="/help/img/youtrack/7.0/workflowEditorCodeCompletion_thumbnail.png" title="/help/img/youtrack/7.0/workflowEditorCodeCompletion_thumbnail.png" src="/help/img/youtrack/7.0/workflowEditorCodeCompletion_thumbnail.png" width="600" height="207"></a></figure><a name="d205304e59"></a><p>The workflow language is case-sensitive and uses the Unicode character set.</p><a name="syntax"></a><h2>Workflow Rule Syntax</h2>
        <a name="d205304e64"></a><p>The syntax that is used for each rule is defined by the rule type.
        The workflow editor applies constraints when you write that help you follow the required syntax.</p>
        <a name="d205304e67"></a><p>The syntax for each rule type is as follows:</p>
        <table class="" width="100%" id="d205304e70"><thead><tr id="d205304e72" class="ijRowHead"><a name="d205304e72"></a><th><a name="d205304e74"></a>Rule</th><th><a name="d205304e77"></a>Syntax</th></tr></thead><tbody><tr id="d205304e81" class="ijRowOdd"><a name="d205304e81"></a><td><a name="d205304e83"></a>Stateless</td><td><a name="d205304e86"></a><a name="d205304e87"></a><div class="code-block" data-lang="Javascript"><code class="code-block__wrapper"><span class="nx">rule</span> <span class="p">[</span><span class="nx">rule</span> <span class="nx">name</span><span class="p">]</span>
<span class="nx">when</span> <span class="o">&lt;</span><span class="nx">issue</span> <span class="nx">created</span> <span class="nx">or</span> <span class="nx">updated</span><span class="o">&lt;</span> <span class="p">{</span>
    <span class="o">&lt;</span><span class="nx">define</span> <span class="nx">statements</span><span class="o">&gt;</span>
<span class="p">}</span></code></div>
                The initial <code class="code" data-lang="Java">when</code> condition determines whether the rule is triggered on issue creation or update.</td></tr><tr id="d205304e95" class="ijRowEven"><a name="d205304e95"></a><td><a name="d205304e97"></a>Schedule</td><td><a name="d205304e100"></a><a name="d205304e101"></a><div class="code-block" data-lang="Javascript"><code class="code-block__wrapper"><span class="nx">schedule</span> <span class="nx">rule</span> <span class="p">[</span><span class="nx">rule</span> <span class="nx">name</span><span class="p">]</span>
<span class="p">[</span><span class="nx">schedule</span><span class="p">]</span> <span class="p">[</span><span class="o">&lt;</span><span class="nx">expression</span><span class="o">&gt;</span><span class="p">]</span> <span class="p">{</span>
    <span class="o">&lt;</span><span class="nx">define</span> <span class="nx">statements</span><span class="o">&gt;</span>
<span class="p">}</span></code></div>
                The initial <code class="code" data-lang="Java">schedule</code> condition determines when the rule is triggered.
                The following intervals are supported:
                <ul class="list _ul"><li class="list__item"><a name="d205304e109"></a>every minute</li><li class="list__item"><a name="d205304e112"></a>daily at &lt;hour&gt;:&lt;minute&gt;:&lt;second&gt;</li><li class="list__item"><a name="d205304e115"></a>weekly on &lt;day of week&gt; at &lt;hour&gt;:&lt;minute&gt;:&lt;second&gt;</li><li class="list__item"><a name="d205304e118"></a>hourly at &lt;minute&gt;:&lt;second&gt;</li><li class="list__item"><a name="d205304e121"></a>monthly on &lt;day of month&gt; at &lt;hour&gt;:&lt;minute&gt;:&lt;second&gt;</li><li class="list__item"><a name="d205304e125"></a>yearly on &lt;month&gt;, &lt;day of month&gt; at &lt;hour&gt;:&lt;minute&gt;:&lt;second&gt;</li><li class="list__item"><a name="d205304e128"></a>cron: [cron expression]</li></ul>
                The expression (set in square brackets) that follows the <code class="code" data-lang="Java">schedule</code> condition is a guard condition.
                    The guard condition determines whether the subsequent statements are executed.</td></tr><tr id="d205304e137" class="ijRowOdd"><a name="d205304e137"></a><td><a name="d205304e139"></a>State-machine</td><td><a name="d205304e142"></a><a name="d205304e143"></a><div class="code-block" data-lang="Javascript"><code class="code-block__wrapper"><span class="nx">statemachine</span> <span class="p">[</span><span class="nx">rule</span> <span class="nx">name</span><span class="p">]</span> <span class="k">for</span> <span class="nx">field</span> <span class="p">[</span><span class="nx">field</span> <span class="nx">name</span><span class="p">]</span> <span class="p">}</span>
    <span class="nx">initial</span> <span class="nx">state</span> <span class="p">[</span><span class="nx">field</span> <span class="nx">value</span><span class="p">]</span> <span class="p">{</span>

    <span class="p">}</span>

    <span class="nx">state</span> <span class="p">[</span><span class="nx">field</span> <span class="nx">value</span><span class="p">]</span> <span class="p">{</span>

    <span class="p">}</span>

<span class="p">}</span></code></div>
                For each state, you specify the conditions for applying an action. The following options are available:
                    <table class="left_header" width="100%" id="d205304e146"><thead><tr id="d205304e148" class="ijRowHead"><a name="d205304e148"></a><th width="50%"><a name="d205304e150"></a>Statement</th><th><a name="d205304e153"></a>Description</th></tr></thead><tbody><tr id="d205304e157" class="ijRowOdd"><a name="d205304e157"></a><th><a name="d205304e159"></a>enter</th><td><a name="d205304e162"></a>The action is performed when the value of the field is set to the specified state.</td></tr><tr id="d205304e166" class="ijRowEven"><a name="d205304e166"></a><th><a name="d205304e168"></a>exit</th><td><a name="d205304e171"></a>The action is performed when the value of the field is changed from the specified state.</td></tr><tr id="d205304e175" class="ijRowOdd"><a name="d205304e175"></a><th><a name="d205304e177"></a>on [state] [condition] do {statements} transit to [next state]</th><td><a name="d205304e180"></a>The action is performed when the value of the field is set to the specified state.
                                After the action is performed, the issue transitions automatically to the next state.</td></tr><tr id="d205304e184" class="ijRowEven"><a name="d205304e184"></a><th><a name="d205304e186"></a>in [time frame] [condition] do {statements} transit to [state]</th><td><a name="d205304e189"></a>The action is performed after the specified time frame.
                                After the action is performed, the issue transitions automatically to the next state.</td></tr></tbody></table>
                </td></tr></tbody></table>

    <a name="literals"></a><h2>Literals</h2>
    <a name="d205304e200"></a><p>The workflow programming language uses the following keywords to represent fixed values.</p>
        <table class="left_header wide" width="100%" id="d205304e203"><thead><tr id="d205304e205" class="ijRowHead"><a name="d205304e205"></a><th><a name="d205304e207"></a>Keyword</th><th><a name="d205304e210"></a>Description</th><th><a name="d205304e213"></a>Example</th></tr></thead><tbody><tr id="d205304e217" class="ijRowOdd"><a name="d205304e217"></a><th><a name="d205304e219"></a>loggedInUser</th><td><a name="d205304e222"></a>References the user who is currently logged in to YouTrack.</td><td><a name="d205304e225"></a><code class="code" data-lang="Java">issue.Assignee = loggedInUser</code></td></tr><tr id="d205304e230" class="ijRowEven"><a name="d205304e230"></a><th><a name="d205304e232"></a>issue</th><td><a name="d205304e235"></a>References the current issue.</td><td><a name="d205304e238"></a><code class="code" data-lang="Java">when issue.becomesReported()</code></td></tr><tr id="d205304e243" class="ijRowOdd"><a name="d205304e243"></a><th><a name="d205304e245"></a>now</th><td><a name="d205304e248"></a>References the current date and time in UTC.</td><td><a name="d205304e251"></a><code class="code" data-lang="Java">Due date = now</code></td></tr><tr id="d205304e256" class="ijRowEven"><a name="d205304e256"></a><th><a name="d205304e258"></a>true</th><td><a name="d205304e261"></a>A Boolean literal value.</td><td><a name="d205304e264"></a><code class="code" data-lang="Java">var isHandled = true</code></td></tr><tr id="d205304e270" class="ijRowOdd"><a name="d205304e270"></a><th><a name="d205304e272"></a>false</th><td><a name="d205304e275"></a>A Boolean literal value.</td><td><a name="d205304e278"></a><code class="code" data-lang="Java">var hasChildren = false</code></td></tr><tr id="d205304e283" class="ijRowEven"><a name="d205304e283"></a><th><a name="d205304e285"></a>null</th><td><a name="d205304e288"></a>A reference literal value.</td><td><a name="d205304e291"></a><code class="code" data-lang="Java">var number = null</code></td></tr></tbody></table>
    <a name="d205304e297"></a><p>Use the following formats to reference literal values for specific data types.</p>
        <table class=" wide" width="100%" id="d205304e300"><thead><tr id="d205304e302" class="ijRowHead"><a name="d205304e302"></a><th><a name="d205304e304"></a>Type</th><th><a name="d205304e307"></a>Format</th><th><a name="d205304e310"></a>Example</th></tr></thead><tbody><tr id="d205304e314" class="ijRowOdd"><a name="d205304e314"></a><td><a name="d205304e316"></a>date</td><td><a name="d205304e319"></a>Written in the format <code class="code" data-lang="Java">year-month-day</code>.
                    Use the <code class="code" data-lang="Java">T</code> operation to combine with a time value.</td><td><a name="d205304e328"></a><a name="d205304e329"></a><div class="code-block" data-lang="Javascript"><code class="code-block__wrapper"><span class="k">if</span> <span class="p">(</span><span class="nx">created</span> <span class="o">&lt;</span> <span class="mi">2012</span><span class="o">-</span><span class="nx">Dec</span><span class="o">-</span><span class="mi">31</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">isResolved</span><span class="p">())</span> <span class="p">{</span>
    <span class="nx">tags</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">project</span><span class="p">.</span><span class="nx">getUser</span><span class="p">(</span><span class="s2">&quot;root&quot;</span><span class="p">).</span><span class="nx">getSharedTag</span><span class="p">(</span><span class="s2">&quot;obsolete?&quot;</span><span class="p">));</span>
<span class="p">}</span></code></div></td></tr><tr id="d205304e333" class="ijRowEven"><a name="d205304e333"></a><td><a name="d205304e335"></a>time</td><td><a name="d205304e338"></a>Written in the format <code class="code" data-lang="Java">hour-minute-second</code>.
                    Use the <code class="code" data-lang="Java">T</code> operation to combine with a date value.</td><td><a name="d205304e347"></a><a name="d205304e348"></a><div class="code-block" data-lang="Javascript"><code class="code-block__wrapper"><span class="nx">daily</span> <span class="nx">at</span> <span class="mi">08</span><span class="o">:</span><span class="mi">00</span><span class="o">:</span><span class="mi">00</span> <span class="p">[</span><span class="nx">issue</span><span class="p">.</span><span class="nx">resolved</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="nx">issue</span><span class="p">.</span><span class="nx">Priority</span> <span class="o">==</span> <span class="p">{</span><span class="nx">Normal</span><span class="p">}</span> <span class="o">&amp;&amp;</span> <span class="nx">issue</span><span class="p">.</span><span class="nx">created</span> <span class="o">&lt;</span> <span class="nx">now</span> <span class="o">-</span> <span class="mi">7</span> <span class="nx">days</span><span class="p">]{</span>
    <span class="nx">issue</span><span class="p">.</span><span class="nx">Priority</span> <span class="o">=</span> <span class="p">{</span><span class="nx">Major</span><span class="p">};</span>
<span class="p">}</span></code></div> </td></tr><tr id="d205304e353" class="ijRowOdd"><a name="d205304e353"></a><td><a name="d205304e355"></a>integer</td><td><a name="d205304e358"></a>Unformatted numeric value.</td><td><a name="d205304e361"></a><a name="d205304e362"></a><div class="code-block" data-lang="Javascript"><code class="code-block__wrapper"><span class="kd">var</span> <span class="nx">increaseNumber</span> <span class="o">=</span> <span class="nx">Internal</span> <span class="nx">number</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span></code></div></td></tr><tr id="d205304e366" class="ijRowEven"><a name="d205304e366"></a><td><a name="d205304e368"></a>period</td><td><a name="d205304e371"></a>Represented by an integer and the time period.
                    The following period constants are supported:
                    <ul class="list _ul"><li class="list__item"><a name="d205304e375"></a>millisecond(s)</li><li class="list__item"><a name="d205304e378"></a>second(s)</li><li class="list__item"><a name="d205304e381"></a>minute(s)</li><li class="list__item"><a name="d205304e384"></a>hour(s)</li><li class="list__item"><a name="d205304e387"></a>day(s)</li><li class="list__item"><a name="d205304e391"></a>week(s)</li><li class="list__item"><a name="d205304e394"></a>month(s)</li><li class="list__item"><a name="d205304e397"></a>year(s)</li></ul></td><td><a name="d205304e401"></a><a name="d205304e402"></a><div class="code-block" data-lang="Javascript"><code class="code-block__wrapper"><span class="k">if</span> <span class="p">(</span><span class="nx">updated</span> <span class="o">+</span> <span class="mi">10</span> <span class="nx">months</span> <span class="o">&lt;</span> <span class="nx">now</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">project</span><span class="p">.</span><span class="nx">leader</span><span class="p">.</span><span class="nx">watchIssue</span><span class="p">(</span><span class="nx">issue</span><span class="p">);</span>
<span class="p">}</span></code></div>
                </td></tr><tr id="d205304e408" class="ijRowOdd"><a name="d205304e408"></a><td><a name="d205304e410"></a>string</td><td><a name="d205304e413"></a>Set in quotation marks</td><td><a name="d205304e416"></a><a name="d205304e417"></a><div class="code-block" data-lang="Javascript"><code class="code-block__wrapper"><span class="k">if</span> <span class="p">(</span><span class="nx">now</span> <span class="o">&gt;</span> <span class="nx">created</span> <span class="o">+</span> <span class="mi">3</span> <span class="nx">days</span> <span class="o">&amp;&amp;</span> <span class="nx">Assignee</span> <span class="o">==</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">message</span><span class="p">(</span><span class="s2">&quot;Issue is three days old and is still unassigned!&quot;</span><span class="p">);</span>
<span class="p">}</span></code></div> </td></tr></tbody></table>



        <a name="d205304e423"></a><p>You can reference literal values for entities with the construction <code class="code" data-lang="Java">{entity: static_entity_name}</code>.</p>
            <table class="" width="100%" id="d205304e430"><thead><tr id="d205304e432" class="ijRowHead"><a name="d205304e432"></a><th width="30%"><a name="d205304e434"></a>Reference</th><th><a name="d205304e437"></a>Value</th></tr></thead><tbody><tr id="d205304e441" class="ijRowOdd"><a name="d205304e441"></a><td><a name="d205304e443"></a>{group: [group_name]}</td><td><a name="d205304e446"></a>UserGroup literal.</td></tr><tr id="d205304e449" class="ijRowEven"><a name="d205304e449"></a><td><a name="d205304e451"></a>{issue: [issueID]}</td><td><a name="d205304e454"></a>Issue literal.</td></tr><tr id="d205304e457" class="ijRowOdd"><a name="d205304e457"></a><td><a name="d205304e459"></a>{project: [project_shortName]}</td><td><a name="d205304e462"></a>Project literal.</td></tr><tr id="d205304e465" class="ijRowEven"><a name="d205304e465"></a><td><a name="d205304e467"></a>{savedSearch: [savedSearchName]}</td><td><a name="d205304e470"></a>SavedSearch literal.</td></tr><tr id="d205304e473" class="ijRowOdd"><a name="d205304e473"></a><td><a name="d205304e475"></a>{tag: [tagName]}</td><td><a name="d205304e478"></a>IssueTag literal.</td></tr><tr id="d205304e481" class="ijRowEven"><a name="d205304e481"></a><td><a name="d205304e483"></a>{user: [username]}</td><td><a name="d205304e486"></a>User literal.</td></tr><tr id="d205304e489" class="ijRowOdd"><a name="d205304e489"></a><td><a name="d205304e491"></a>{[customFieldName]}</td><td><a name="d205304e494"></a>CustomField literal.</td></tr></tbody></table>
           <a name="d205304e499"></a><p>The following examples show you how to insert static references to different entities.</p>
        <table class="" width="100%" id="d205304e502"><thead><tr id="d205304e504" class="ijRowHead"><a name="d205304e504"></a><th width="50%"><a name="d205304e506"></a>Code</th><th><a name="d205304e509"></a>Description</th></tr></thead><tbody><tr id="d205304e513" class="ijRowOdd"><a name="d205304e513"></a><td><a name="d205304e515"></a><a name="d205304e516"></a><div class="code-block" data-lang="Javascript"><code class="code-block__wrapper"><span class="p">{</span><span class="nx">group</span><span class="o">:</span> <span class="nx">QA</span> <span class="nx">Engineers</span><span class="p">}.</span><span class="nx">notifyAllUsers</span><span class="p">(</span><span class="s2">&quot;Test failed!&quot;</span><span class="p">,</span> <span class="s2">&quot;Please look at the failed test &quot;</span> <span class="o">+</span> <span class="nx">getId</span><span class="p">())</span></code></div>
                </td><td><a name="d205304e520"></a>References the UserGroup <code class="code" data-lang="Java">QA Engineers</code>.
                </td></tr><tr id="d205304e527" class="ijRowEven"><a name="d205304e527"></a><td><a name="d205304e529"></a><a name="d205304e530"></a><div class="code-block" data-lang="Javascript"><code class="code-block__wrapper"><span class="nx">assert</span> <span class="p">{</span><span class="nx">issue</span><span class="o">:</span> <span class="nx">IDEA</span><span class="o">-</span><span class="mi">99999</span><span class="p">}.</span><span class="nx">Type</span> <span class="o">==</span> <span class="p">{</span><span class="nx">Feature</span><span class="p">}</span><span class="o">:</span> <span class="s2">&quot;It should be the cool feature about the new look and feel!&quot;</span><span class="p">;</span></code></div>
                </td><td><a name="d205304e534"></a>References a single Issue <code class="code" data-lang="Java">IDEA-99999</code>.</td></tr><tr id="d205304e541" class="ijRowOdd"><a name="d205304e541"></a><td><a name="d205304e543"></a><a name="d205304e544"></a><div class="code-block" data-lang="Javascript"><code class="code-block__wrapper"><span class="k">for</span> <span class="nx">each</span> <span class="nx">currency</span> <span class="k">in</span> <span class="p">{</span><span class="nx">project</span><span class="o">:</span> <span class="nx">Business</span> <span class="nx">Trips</span><span class="p">}.</span><span class="nx">valuesFor</span><span class="p">(</span><span class="nx">Currency</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">currency</span><span class="p">.</span><span class="nx">name</span> <span class="o">==</span> <span class="p">{</span><span class="nx">Dollar</span><span class="p">})</span> <span class="p">{</span>
        <span class="nx">assert</span> <span class="nx">currency</span><span class="p">.</span><span class="nx">colorIndex</span> <span class="o">==</span> <span class="mi">17</span><span class="o">:</span> <span class="s2">&quot;Dollar should be green!&quot;</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span></code></div>
                </td><td><a name="d205304e548"></a>References the Project <code class="code" data-lang="Java">Business Trips</code>.</td></tr><tr id="d205304e555" class="ijRowEven"><a name="d205304e555"></a><td><a name="d205304e557"></a><a name="d205304e558"></a><div class="code-block" data-lang="Javascript"><code class="code-block__wrapper"><span class="k">for</span> <span class="nx">each</span> <span class="nx">notMyIssue</span> <span class="k">in</span> <span class="nx">loggedInUser</span><span class="p">.</span><span class="nx">getIssues</span><span class="p">({</span><span class="nx">savedSearch</span><span class="o">:</span> <span class="nx">Reported</span> <span class="nx">by</span> <span class="nx">me</span><span class="p">},</span> <span class="s2">&quot;for: -me&quot;</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">notMyIssue</span><span class="p">.</span><span class="nx">Assignee</span> <span class="o">=</span> <span class="nx">loggedInUser</span><span class="p">;</span>
<span class="p">}</span></code></div>
                </td><td><a name="d205304e562"></a>References the SavedSearch <code class="code" data-lang="Java">Reported by me</code>.</td></tr><tr id="d205304e570" class="ijRowOdd"><a name="d205304e570"></a><td><a name="d205304e572"></a><a name="d205304e573"></a><div class="code-block" data-lang="Javascript"><code class="code-block__wrapper"><span class="nx">rule</span> <span class="nx">Regression</span>

<span class="nx">when</span> <span class="nx">State</span><span class="p">.</span><span class="nx">becomes</span><span class="p">({</span><span class="nx">Reopened</span><span class="p">})</span> <span class="p">{</span>
    <span class="nx">tags</span><span class="p">.</span><span class="nx">add</span><span class="p">({</span><span class="nx">tag</span><span class="o">:</span> <span class="nx">regression</span><span class="p">});</span>
<span class="p">}</span></code></div>
                </td><td><a name="d205304e577"></a>References the IssueTag <code class="code" data-lang="Java">regression</code>.</td></tr></tbody></table>
    <a name="variables"></a><h2>Variables</h2>
        <a name="d205304e588"></a><p>Variables are declared with the keyword <code class="code" data-lang="Java">var</code>, followed by the name of the variable.
            You can specify the initial value with the <code class="code" data-lang="Java">=</code> sign, as with JavaScript. </p>
        <a name="d205304e597"></a><div class="code-block" data-lang="Javascript"><code class="code-block__wrapper"><span class="kd">var</span> <span class="nx">notInitializedVariable</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">initializedVariable</span> <span class="o">=</span> <span class="s2">&quot;Hello&quot;</span><span class="p">;</span></code></div>
        <a name="d205304e600"></a><p>The data type of the variable is inferred from the type that is specified in the initial expression.
            When a variable has no initial value, its value is inferred from its usages.</p>
        <a name="d205304e603"></a><p>Once you have declared a variable, you can refer to it by its name.</p>
        <a name="d205304e606"></a><div class="code-block" data-lang="Javascript"><code class="code-block__wrapper"><span class="nx">notInitializedVar</span> <span class="o">=</span> <span class="s2">&quot;World!&quot;</span><span class="p">;</span>
            <span class="nx">notInitializedVar</span> <span class="o">=</span> <span class="nx">initializedVar</span> <span class="o">+</span> <span class="s2">&quot;, &quot;</span> <span class="o">+</span> <span class="nx">notInitializedVar</span><span class="p">;</span></code></div>
    <a name="d205304e610"></a><p>In the following example, the variable <code class="code" data-lang="Java">user</code> is used to set the assignee of an issue.</p>
        <a name="d205304e616"></a><div class="code-block" data-lang="Javascript"><code class="code-block__wrapper"><span class="kd">var</span> <span class="nx">user</span><span class="p">;</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">issue</span><span class="p">.</span><span class="nx">Assignee</span> <span class="o">==</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">user</span> <span class="o">=</span> <span class="nx">issue</span><span class="p">.</span><span class="nx">project</span><span class="p">.</span><span class="nx">leader</span><span class="p">;</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nx">user</span> <span class="o">=</span> <span class="nx">issue</span><span class="p">.</span><span class="nx">Assignee</span><span class="p">;</span>
<span class="p">}</span></code></div>
 

       <a name="d205304e619"></a><p>When you use the <code class="code" data-lang="Java">createNewIssue</code> method, an issue is created with the default (or empty) values for each field as configured for the project.
            To create an issue with specific values for fields, use variable declarations.</p>
        <a name="d205304e625"></a><p>The following sample shows how to create an issue in the project with the ID <code class="code" data-lang="Java">RM</code>,
            specify values for custom fields, and add a <a name="d205304e630"></a><span class="control">depends on</span> link for the current issue to the issue that is created by the workflow.</p>
        <a name="d205304e634"></a><div class="code-block" data-lang="Javascript"><code class="code-block__wrapper"><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="nx">loggedInUser</span><span class="p">.</span><span class="nx">createNewIssue</span><span class="p">(</span><span class="s2">&quot;RM&quot;</span><span class="p">);</span>
    <span class="nx">i</span><span class="p">.</span><span class="nx">Assignee</span> <span class="o">=</span> <span class="nx">Marketing</span><span class="p">;</span>
    <span class="nx">i</span><span class="p">.</span><span class="nx">Due</span> <span class="nb">Date</span> <span class="o">=</span> <span class="nx">Due</span> <span class="nb">Date</span> <span class="o">-</span> <span class="mi">1</span> <span class="nx">month</span><span class="p">;</span>
    <span class="nx">i</span><span class="p">.</span><span class="nx">summary</span> <span class="o">=</span> <span class="s2">&quot;Write text for mailing list&quot;</span><span class="p">;</span>
    <span class="nx">i</span><span class="p">.</span><span class="nx">Version</span> <span class="o">=</span> <span class="nx">Version</span><span class="p">;</span>
    <span class="nx">i</span><span class="p">.</span><span class="nx">Product</span> <span class="o">=</span> <span class="nx">Product</span><span class="p">;</span>
    <span class="nx">depends</span> <span class="nx">on</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span></code></div>
    <a name="comments"></a><h2>Comments</h2>

        <a name="d205304e640"></a><p>You can use comments to add notes to your workflow rules.
            This can help others understand what a rule does and how it can be implemented.
            You can also use comments to disable specific lines of code.</p>
        <a name="d205304e643"></a><p>To insert a comment, use <code class="code" data-lang="Java">//</code>. All of the text that follows on the same line is commented out.
            For example:</p>
        <a name="d205304e649"></a><div class="code-block" data-lang="Javascript"><code class="code-block__wrapper"><span class="k">for</span> <span class="nx">each</span> <span class="nx">subtask</span> <span class="k">in</span> <span class="nx">parent</span><span class="p">.</span><span class="nx">parent</span> <span class="k">for</span> <span class="p">{</span>
    <span class="c1">//We can&#39;t use subtask.isResolved() here, as this method relies on issue.resolved</span>
    <span class="c1">//property, which is updated after workflow rules are executed.</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">subtask</span><span class="p">.</span><span class="nx">State</span><span class="p">.</span><span class="nx">isResolved</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">allSubtasksResolved</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
        <span class="k">break</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span></code></div>
    <div class="last-modified">Last modified: 2 February 2017 </div></article><div id="disqus_thread"></div></div></section></main></div><script></script><script src="/help/app/app.js"></script></body></html>