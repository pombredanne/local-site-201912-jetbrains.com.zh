<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><title>YouTrack Standalone 7.0 Help :: Add a System-wide Banner to YouTrack</title><link rel="stylesheet" href="/help/app/app.css"></head><body data-id="Add-System-Wide-Banner-to-YouTrack"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><div class="wrapper"><section class="panel _nav"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search YouTrack Standalone Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header"><div class="container"><h3>YouTrack Standalone 7.0 Help</h3><div class="shortcuts-switcher"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="primary" value="default" selected>Default (Windows/Linux)</option><option data-group="secondary" value="mac_os_x_10.5_">Default (Mac OS X 10.5+)</option><option data-group="secondary" value="mac_os_x">OS X</option><option data-group="secondary" value="eclipse_mac_os_x">OS X Eclipse</option><option data-group="secondary" value="intellij_idea_classic_os_x">IntelliJ IDEA Classic (OS X)</option><option data-group="secondary" value="xcode">Xcode</option><option data-group="secondary" value="visual_studio">Visual Studio</option><option data-group="secondary" value="resharper">ReSharper</option><option data-group="secondary" value="resharper_osx">ReSharper OSX</option><option data-group="secondary" value="emacs">Emacs</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="false"><div class="navigation-links _top"><a class="navigation-links__prev" href="Migrating-to-YouTrack.html">Migrate to YouTrack</a><a class="navigation-links__next" href="Changing-or-Restoring-Password-and-Permissions-for-Root.html">Change or Restore Password and Permissions for Root</a></div><h1>Add a System-wide Banner to YouTrack</h1><a name="d1323e3"></a><p>You can add an informational banner to YouTrack that contains any notification that you want to show to all users in the system.
        For example, you can warn users about scheduled downtime for system maintenance.</p><a name="d1323e6"></a><p>Once users close the banner, it is not shown to them again.</p><a name="d1323e9"></a><p>The banner text is loaded from a file that you upload to your YouTrack server.
        YouTrack checks the banner file every minute.
        If you overwrite the existing file, the new banner content is loaded and shown to all users.</p><a name="d1323e12"></a><p>This procedure consists of two steps:</p><ol class="list _decimal"><li class="list__item"><a name="d1323e17"></a><a href="#create-banner-file">Create and Upload the Banner File</a>.</li><li class="list__item"><a name="d1323e22"></a><a href="#point-to-file">Point YouTrack to the Location of the File</a>.</li></ol><a name="create-banner-file"></a><h2>Create and Upload the Banner File</h2>
        <a name="d1323e31"></a><p>The banner file is a snippet of text with HTML markup.
            When you tell your YouTrack server to load the file, it inserts this snippet into the HTML of the web interface.</p>
        <a name="d1323e34"></a><p>YouTrack reads and handles the HTML snippet as follows:</p>
        <ul class="list _ul"><li class="list__item"><a name="d1323e39"></a>The <code class="code" data-lang="Java">_bannerChecksum_</code> string in the sample is substituted with the checksum from the file when it is loaded on the server.
                YouTrack uses the checksum to determine when the file has been updated.</li><li class="list__item"><a name="d1323e45"></a>The REST call tells YouTrack that a user has closed the notification.
            YouTrack uses the checksum to display a new banner when the file has been updated.</li></ul>

        <a name="d1323e49"></a><a name="dynaProc0"></a><section class="procedure-steps"><h2>To create and upload the banner file:</h2><ol class=".list _decimal"><li class="list__item">Paste the following sample into a text editor:
                <a name="d1323e53"></a><div class="code-block" data-lang="HTML"><code class="code-block__wrapper"><span class="nt">&lt;div</span> <span class="na">style=</span><span class="s">&quot;background: red; font-size:16px; color: white&quot;</span><span class="nt">&gt;</span>
    YouTrack is the best issue tracker ever!
    <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span><span class="nt">&gt;</span>
        <span class="kd">function</span> <span class="nx">rest</span><span class="p">()</span> <span class="p">{</span>
            <span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
                <span class="nx">dataType</span><span class="o">:</span> <span class="s2">&quot;text&quot;</span><span class="p">,</span>
                <span class="nx">type</span><span class="o">:</span> <span class="s2">&quot;POST&quot;</span><span class="p">,</span>
                <span class="nx">url</span><span class="o">:</span> <span class="s2">&quot;/rest/user/banner&quot;</span><span class="p">,</span>
                <span class="nx">data</span><span class="o">:</span> <span class="p">{</span> <span class="nx">checksum</span><span class="o">:</span> <span class="s2">&quot;__bannerChecksum__&quot;</span> <span class="p">}</span>
            <span class="p">}).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span> <span class="nx">msg</span> <span class="p">)</span> <span class="p">{</span>
                        <span class="k">if</span> <span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">confirm</span><span class="p">(</span><span class="s2">&quot;Ok. Reload?&quot;</span><span class="p">))</span> <span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">reload</span><span class="p">();</span>
                    <span class="p">});</span>
        <span class="p">}</span>
    <span class="nt">&lt;/script&gt;</span>
    <span class="nt">&lt;button</span> <span class="na">id=</span><span class="s">&quot;close&quot;</span> <span class="na">onclick=</span><span class="s">&quot;rest();&quot;</span><span class="nt">&gt;</span>Close Banner<span class="nt">&lt;/button&gt;</span>
<span class="nt">&lt;/div&gt;</span></code></div>
            </li><li class="list__item">Change the message text.
                <a name="d1323e59"></a><p>You can also modify the attributes that are applied to the text in HTML markup.
                The attributes in the sample display 16-point white text on a red background.</p></li><li class="list__item">Save the HTML snippet as a text file in a directory on your YouTrack server.</li></ol></section>
    <a name="point-to-file"></a><h2>Point YouTrack to the Location of the File</h2>
        <a name="d1323e69"></a><p>Next, you need to provide the location of the banner file to YouTrack.
            You specify the path with the <code class="code" data-lang="Java">jetbrains.youtrack.banner.path</code> system property.
            The method for setting this property vary based on your YouTrack installation.</p>
        <table class="" width="100%" id="d1323e75"><thead><tr id="d1323e77" class="ijRowHead"><a name="d1323e77"></a><th width="20%"><a name="d1323e79"></a>Installation</th><th><a name="d1323e82"></a>Instructions</th></tr></thead><tbody><tr id="d1323e86" class="ijRowOdd"><a name="d1323e86"></a><td><a name="d1323e88"></a>JAR</td><td><a name="d1323e91"></a>If you run YouTrack from the command line, you add the system property as a Java parameter when you start the server.
                    The command to start the server should look something like this:
                    <a name="d1323e93"></a><div class="code-block" data-lang="Console"><code class="code-block__wrapper">java -Djetbrains.youtrack.banner.path<span class="o">=</span>/home/xxx/banner.txt -jar youtrack-7.0.jar 8080</code></div></td></tr><tr id="d1323e97" class="ijRowEven"><a name="d1323e97"></a><td><a name="d1323e99"></a>Servlet</td><td><a name="d1323e102"></a>If you run YouTrack in a servlet container, add the <code class="code" data-lang="Java">-Djetbrains.youtrack.banner.path</code> system property to your servlet container.
                    For example, for Tomcat on Windows, add the system property in the <code class="code" data-lang="Java">JAVA_OPTS</code> section of the <code class="code" data-lang="Java">catalina.bat</code> file.</td></tr><tr id="d1323e115" class="ijRowOdd"><a name="d1323e115"></a><td><a name="d1323e117"></a>Windows Service (MSI or ZIP)</td><td><a name="d1323e120"></a>Pass the system property as an ad hoc start parameter from the command line.
                    The command to start the server should look something like this:
                    <a name="d1323e122"></a><div class="code-block" data-lang="Console"><code class="code-block__wrapper">youtrack.bat start --J-Djetbrains.youtrack.banner.path<span class="o">=</span>/home/xxx/banner.txt</code></div>
                For more information, see <a name="d1323e125"></a><a href="Configure-JVM-Options.html"><span>Configure JVM Options</span></a>.</td></tr><tr id="d1323e129" class="ijRowEven"><a name="d1323e129"></a><td><a name="d1323e131"></a>OSX or Linux (ZIP)</td><td><a name="d1323e134"></a>Pass the system property as an ad hoc start parameter from the command line.
                    The command to start the server should look something like this:
                    <a name="d1323e136"></a><div class="code-block" data-lang="Console"><code class="code-block__wrapper">youtrack.sh start --J-Djetbrains.youtrack.banner.path<span class="o">=</span>/home/xxx/banner.txt</code></div>
                    For more information, see <a name="d1323e139"></a><a href="Configure-JVM-Options.html"><span>Configure JVM Options</span></a>.</td></tr></tbody></table>
        <a name="d1323e144"></a><p>You can set the path to the banner file for any installation while the server is running with the REST API.
            Send the following <code class="code" data-lang="Java">POST</code> request on behalf of the <a name="d1323e149"></a><b id="d1323e149">root</b> user:
            <a name="d1323e152"></a><div class="code-block" data-lang="Console"><code class="code-block__wrapper">http://&lt;YouTrack_Base_URL&gt;/rest/user/banner/reload?path<span class="o">=</span>/home/user/banner.txt</code></div></p>


    <div class="last-modified">Last modified: 2 February 2017 </div></article><div id="disqus_thread"></div></div></section></main></div><script></script><script src="/help/app/app.js"></script></body></html>