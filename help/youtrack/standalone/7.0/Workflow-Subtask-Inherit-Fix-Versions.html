<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><title>YouTrack Standalone 7.0 Help :: Subtask Inherit Fix Versions</title><link rel="stylesheet" href="/help/app/app.css"></head><body data-id="Workflow-Subtask-Inherit-Fix-Versions"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><div class="wrapper"><section class="panel _nav"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search YouTrack Standalone Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header"><div class="container"><h3>YouTrack Standalone 7.0 Help</h3><div class="shortcuts-switcher"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="primary" value="default" selected>Default (Windows/Linux)</option><option data-group="secondary" value="mac_os_x_10.5_">Default (Mac OS X 10.5+)</option><option data-group="secondary" value="mac_os_x">OS X</option><option data-group="secondary" value="eclipse_mac_os_x">OS X Eclipse</option><option data-group="secondary" value="intellij_idea_classic_os_x">IntelliJ IDEA Classic (OS X)</option><option data-group="secondary" value="xcode">Xcode</option><option data-group="secondary" value="visual_studio">Visual Studio</option><option data-group="secondary" value="resharper">ReSharper</option><option data-group="secondary" value="resharper_osx">ReSharper OSX</option><option data-group="secondary" value="emacs">Emacs</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="false"><div class="navigation-links _top"><a class="navigation-links__prev" href="Workflow-Assignee-Visibility-Group.html">Assignee Visibility Group</a><a class="navigation-links__next" href="Workflow-Subtask-Inherit-Subsystem.html">Subtask Inherit Subsystem</a></div><h1>Subtask Inherit Fix Versions</h1><a name="d227064e3"></a><p>This workflow automatically updates the fix version of a subtask to the fix version set for a parent task.</p><table class="left_header" width="100%" id="d227064e6"><tbody><tr id="d227064e8" class="ijRowOdd"><a name="d227064e8"></a><th><a name="d227064e10"></a>File Name</th><td><a name="d227064e13"></a>jetbrains-youtrack-subtaskInheritFixVersions</td></tr><tr id="d227064e17" class="ijRowEven"><a name="d227064e17"></a><th><a name="d227064e19"></a>Auto-attached</th><td><a name="d227064e22"></a>yes</td></tr><tr id="d227064e26" class="ijRowOdd"><a name="d227064e26"></a><th><a name="d227064e28"></a>Rules</th><td><a name="d227064e31"></a><a href="#Set_Parent">Set parent 'Fix versions' to added unresolved subtasks</a> (stateless)<br>
                <a href="#Set_Fix_Versions">Set added parent 'Fix versions' to unresolved subtasks</a> (stateless)</td></tr></tbody></table><a name="d227064e41"></a><h2>Use Case</h2>
        <a name="d227064e43"></a><p>This workflow helps you manage the fix version set for tasks and subtasks.</p>
    <a name="d227064e47"></a><h2>Rules</h2>
        <a name="d227064e49"></a><p>This workflow includes two rules.</p>
        <a name="Set_Parent"></a><h3>Set parent 'Fix versions' to added unresolved subtasks</h3>
        <a name="d227064e54"></a><p>This rule checks a subtask when it is linked to a parent task.</p>
            <ul class="list _ul"><li class="list__item"><a name="d227064e59"></a>If the subtask belongs to a different project from the parent task and the projects use different sets of values for the <a name="d227064e61"></a><span class="control">Fix versions</span> field,
                     the fix version is set for the parent task only.</li><li class="list__item"><a name="d227064e65"></a>If the subtask and parent task belong to the same project, the fix version assigned to the parent task is set as the fix version for any unresolved subtasks.</li></ul>
        <a name="d227064e69"></a><div class="code-block" data-lang="Javascript"><code class="code-block__wrapper"><span class="nx">rule</span> <span class="nx">Set</span> <span class="nx">parent</span> <span class="s1">&#39;Fix versions&#39;</span> <span class="nx">to</span> <span class="nx">added</span> <span class="nx">unresolved</span> <span class="nx">subtasks</span>

<span class="nx">when</span> <span class="nx">parent</span> <span class="k">for</span><span class="p">.</span><span class="nx">added</span><span class="p">.</span><span class="nx">isNotEmpty</span> <span class="p">{</span>
    <span class="k">for</span> <span class="nx">each</span> <span class="nx">subtask</span> <span class="k">in</span> <span class="nx">parent</span> <span class="k">for</span><span class="p">.</span><span class="nx">added</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">project</span> <span class="o">!=</span> <span class="nx">subtask</span><span class="p">.</span><span class="nx">project</span> <span class="o">&amp;&amp;</span> <span class="nx">issue</span><span class="p">.</span><span class="nx">project</span><span class="p">.</span><span class="nx">valuesFor</span><span class="p">(</span><span class="nx">Fix</span> <span class="nx">versions</span><span class="p">).</span><span class="nx">first</span> <span class="o">!=</span> <span class="nx">subtask</span><span class="p">.</span><span class="nx">project</span><span class="p">.</span><span class="nx">valuesFor</span><span class="p">(</span><span class="nx">Fix</span> <span class="nx">versions</span><span class="p">).</span><span class="nx">first</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">continue</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">subtask</span><span class="p">.</span><span class="nx">isResolved</span><span class="p">())</span> <span class="p">{</span>
            <span class="nx">subtask</span><span class="p">.</span><span class="nx">Fix</span> <span class="nx">versions</span><span class="p">.</span><span class="nx">clear</span><span class="p">;</span>
            <span class="k">for</span> <span class="nx">each</span> <span class="nx">version</span> <span class="k">in</span> <span class="nx">Fix</span> <span class="nx">versions</span> <span class="p">{</span>
                <span class="nx">subtask</span><span class="p">.</span><span class="nx">Fix</span> <span class="nx">versions</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">version</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span></code></div>
             
        <a name="Set_Fix_Versions"></a><h3>Set added parent 'Fix versions' to unresolved subtasks</h3>
        <a name="d227064e75"></a><p>The next rule checks for subtasks when a fix version is set for an issue.</p>
            <ul class="list _ul"><li class="list__item"><a name="d227064e80"></a>If the subtasks are in an archived project or belong to a different project from the parent issue and the projects use different sets of values for the <a name="d227064e82"></a><span class="control">Fix versions</span> field,
                   the fix version is set for the parent task only.</li><li class="list__item"><a name="d227064e86"></a>If the subtasks are in an active project and belong to the same project as the paren task, the fix version for each unresolved subtask is set to the fix version set for the parent task.</li></ul>
        <a name="d227064e90"></a><div class="code-block" data-lang="Javascript"><code class="code-block__wrapper"><span class="nx">rule</span> <span class="nx">Set</span> <span class="nx">added</span> <span class="nx">parent</span> <span class="s1">&#39;Fix versions&#39;</span> <span class="nx">to</span> <span class="nx">unresolved</span> <span class="nx">subtasks</span>

<span class="nx">when</span> <span class="nx">Fix</span> <span class="nx">versions</span><span class="p">.</span><span class="nx">added</span><span class="p">.</span><span class="nx">isNotEmpty</span> <span class="p">{</span>
    <span class="k">for</span> <span class="nx">each</span> <span class="nx">subtask</span> <span class="k">in</span> <span class="nx">parent</span> <span class="k">for</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">subtask</span><span class="p">.</span><span class="nx">project</span><span class="p">.</span><span class="nx">isArchived</span><span class="p">()</span> <span class="o">||</span> <span class="nx">project</span> <span class="o">!=</span> <span class="nx">subtask</span><span class="p">.</span><span class="nx">project</span> <span class="o">&amp;&amp;</span> <span class="nx">issue</span><span class="p">.</span><span class="nx">project</span><span class="p">.</span><span class="nx">valuesFor</span><span class="p">(</span><span class="nx">Fix</span> <span class="nx">versions</span><span class="p">).</span><span class="nx">first</span> <span class="o">!=</span> <span class="nx">subtask</span><span class="p">.</span><span class="nx">project</span><span class="p">.</span><span class="nx">valuesFor</span><span class="p">(</span><span class="nx">Fix</span> <span class="nx">versions</span><span class="p">).</span><span class="nx">first</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">continue</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">subtask</span><span class="p">.</span><span class="nx">isResolved</span><span class="p">())</span> <span class="p">{</span>
            <span class="nx">subtask</span><span class="p">.</span><span class="nx">Fix</span> <span class="nx">versions</span><span class="p">.</span><span class="nx">clear</span><span class="p">;</span>
            <span class="k">for</span> <span class="nx">each</span> <span class="nx">version</span> <span class="k">in</span> <span class="nx">Fix</span> <span class="nx">versions</span><span class="p">.</span><span class="nx">added</span> <span class="p">{</span>
                <span class="nx">subtask</span><span class="p">.</span><span class="nx">Fix</span> <span class="nx">versions</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">version</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span></code></div>
     
    <div class="last-modified">Last modified: 2 February 2017 </div></article><div id="disqus_thread"></div></div></section></main></div><script></script><script src="/help/app/app.js"></script></body></html>