<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/help/app/v2/analytics.js"></script><meta charset="UTF-8"><meta name="robots" content="noindex"><title>notifications - Help | YouTrack Standalone</title><link rel="stylesheet" href="/help/app/v2/app.css"></head><body data-id="v1-notifications"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search YouTrack Standalone Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>YouTrack Standalone 2018.3 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="false"><h1 data-toc="v1-notifications" id="v1-notifications.xml">notifications</h1>    <p id="d533abc1">This module contains functionality for sending email messages. These messages are independent from the notification scheme that is used for subscriptions to issue updates in YouTrack. All of the components for these email messages are defined in the parameters for the function that is supported in this module. However, the messages are still sent by the SMTP server that is connected to your YouTrack installation.    </p>        <div class="chapter"><h2 id="functions" data-toc="v1-notifications#functions">Functions</h2>        <br><div class="chapter"><h3 id="sendEmail" data-toc="v1-notifications#sendEmail">sendEmail</h3>    <div class="code-block" data-lang="Javascript"><code class="code-block__wrapper"><span class="kr">static</span> <span class="nx">sendEmail</span><span class="p">(</span><span class="nx">message</span><span class="p">,</span> <span class="nx">message</span><span class="p">.</span><span class="nx">fromName</span><span class="p">,</span> <span class="nx">message</span><span class="p">.</span><span class="nx">toEmails</span><span class="p">,</span> <span class="nx">message</span><span class="p">.</span><span class="nx">subject</span><span class="p">,</span> <span class="nx">message</span><span class="p">.</span><span class="nx">body</span><span class="p">,</span> <span class="nx">issue</span><span class="p">)</span></code></div><p id="b7c33175">Sends an email message to one or more email addresses. If the project that the issue belongs to uses a dedicated project 'From' email, the email is sent from this address. Otherwise, the default server 'From' address is taken.</p><p id="617f6f8d"><b id="8099d33f">Parameters</b></p><div class="table-wrapper"><table class=" wide                  _layout-fixed" width="100%" id="5fb3c949"><thead><tr id="e47d810c" class="ijRowHead"><th id="f7cff907" width="15%"><p>Name</p></th><th id="5a9f423a" width="15%"><p>Type</p></th><th id="4f068982" width="70%"><p>Description</p></th></tr></thead><tbody><tr id="f778cfe3" class="ijRowOdd"><td id="2cc46f71"><p>message</p></td><td id="ff6f51ca"><p>              <code class="code" data-lang="Javascript">Object</code>          </p></td><td id="742dc3a9"><p>An object that contains all of the message components that are required for sendout.          </p></td></tr><tr id="976dde3e" class="ijRowEven"><td id="a03ac9af"><p>message.fromName</p></td><td id="775a714c"><p>              <code class="code" data-lang="Javascript">string</code>          </p></td><td id="dbc47925"><p>The visible name of the sender. When used, the specified value is displayed as the sender name in the email message. If the sender email (whether taken from the project settings or the server setting) includes a sender name, it is overwritten with this value. If this parameter is left empty, the presentation of the sender is determined by the 'From' address that is saved in either the project or server settings.          </p></td></tr><tr id="e32e5764" class="ijRowOdd"><td id="60da9d53"><p>message.toEmails</p></td><td id="d4fa78d6"><p>              <code class="code" data-lang="Javascript">Array.&lt;string&gt;</code>          </p></td><td id="39c22fdb"><p>A list of recipient email addresses. The first email address in the array is set as the recipient. All others are set as CC.          </p></td></tr><tr id="28ee8ba1" class="ijRowEven"><td id="ce7c3e1f"><p>message.subject</p></td><td id="2cb784e1"><p>              <code class="code" data-lang="Javascript">string</code>          </p></td><td id="abaaef07"><p>The email message subject.          </p></td></tr><tr id="5aa66436" class="ijRowOdd"><td id="315a1a9d"><p>message.body</p></td><td id="ad667396"><p>              <code class="code" data-lang="Javascript">string</code>          </p></td><td id="a72cbb6e"><p>The email message body.          </p></td></tr><tr id="617b4819" class="ijRowEven"><td id="09d4c3d2"><p>issue</p></td><td id="9d1cf510"><p>              <code class="code" data-lang="Javascript">Issue</code>          </p></td><td id="a5e891ce"><p>The issue that the email message is related to. All email messages that are related to a single issue are combined into one thread.          </p></td></tr></tbody></table></div>    <p id="dbfde975"><b id="3b0aa55d">Example</b></p>        <p id="97d17678"><div class="code-block" data-lang="Javascript"><code class="code-block__wrapper"><span class="kd">var</span> <span class="nx">issue</span> <span class="o">=</span> <span class="nx">ctx</span><span class="p">.</span><span class="nx">issue</span><span class="p">;</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">issue</span><span class="p">.</span><span class="nx">comments</span><span class="p">.</span><span class="nx">added</span><span class="p">.</span><span class="nx">isNotEmpty</span><span class="p">())</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">authorName</span> <span class="o">=</span> <span class="nx">issue</span><span class="p">.</span><span class="nx">comments</span><span class="p">.</span><span class="nx">added</span><span class="p">.</span><span class="nx">first</span><span class="p">().</span><span class="nx">author</span><span class="p">.</span><span class="nx">fullName</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">message</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">fromName</span><span class="o">:</span> <span class="nx">authorName</span><span class="p">,</span>
    <span class="nx">toEmails</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;user1@jetbrains.com&#39;</span><span class="p">,</span> <span class="s1">&#39;user2@jetbrains.com&#39;</span><span class="p">],</span>
    <span class="nx">subject</span><span class="o">:</span> <span class="s1">&#39;New comment in &#39;</span> <span class="o">+</span> <span class="nx">issue</span><span class="p">.</span><span class="nx">id</span><span class="p">,</span>
    <span class="nx">body</span><span class="o">:</span> <span class="p">[</span>
      <span class="s1">&#39;&lt;div style=&quot;font-family: sans-serif&quot;&gt;&#39;</span><span class="p">,</span>
      <span class="s1">&#39;  &lt;div style=&quot;padding: 10px 10px; font-size: 13px; border-bottom: 1px solid #D4D5D6;&quot;&gt;&#39;</span><span class="p">,</span>
      <span class="s1">&#39;    New comment was added in issue &#39;</span> <span class="o">+</span> <span class="nx">issue</span><span class="p">.</span><span class="nx">id</span> <span class="o">+</span> <span class="s1">&#39; by &#39;</span> <span class="o">+</span> <span class="nx">authorName</span><span class="p">,</span>
      <span class="s1">&#39;  &lt;/div&gt;&#39;</span><span class="p">,</span>
      <span class="s1">&#39;&lt;\div&gt;&#39;</span>
    <span class="p">].</span><span class="nx">join</span><span class="p">(</span><span class="s1">&#39;\n&#39;</span><span class="p">);</span>
  <span class="p">};</span>
  <span class="nx">notifications</span><span class="p">.</span><span class="nx">sendEmail</span><span class="p">(</span><span class="nx">message</span><span class="p">,</span> <span class="nx">issue</span><span class="p">);</span>
<span class="p">}</span></code></div></p><p id="b3c5b608">&nbsp;</p></div>        </div><div class="last-modified" data-skip-index="skip">Last modified: 7 March 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="v1-Response.html">Response</a><a class="navigation-links__next" href="v1-search.html">search</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/help/app/v2/app.js"></script></body></html>