<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/help/app/v2/analytics.js"></script><meta charset="UTF-8"><meta name="robots" content="noindex"><title>Upgrade with an MSI Distribution - Help | YouTrack Standalone</title><link rel="stylesheet" href="/help/app/v2/app.css"></head><body data-id="Upgrade-YouTrack-MSI"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search YouTrack Standalone Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>YouTrack Standalone 2018.3 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="false"><h1 data-toc="Upgrade-YouTrack-MSI" id="Upgrade-YouTrack-MSI.xml">Upgrade with an MSI Distribution</h1>    <p id="d25f0df6">You can use the MSI distribution to upgrade any existing YouTrack Standalone installation.</p>    <p id="3083a57e">The following software is bundled with the YouTrack Standalone MSI distribution:</p>    <ul class="list _ul"><li class="list__item" id="ac549266"><p>Jetty servlet engine and HTTP server</p></li><li class="list__item" id="1018bd03"><p>Java SE Runtime Environment 8 x64</p></li></ul>    <p id="40224166">The MSI distribution does not include JRE x86.        If you want to install YouTrack in an x86 environment, you will need to download and install the Java Runtime Environment that is compatible with your operating system.</p>    <p id="d71d905f">The MSI installer requires .NET Framework version 2.0 or later.</p>    <ul class="list _ul"><li class="list__item" id="330ef959"><a href="#Upgrade_MSI">Upgrade an MSI Installation</a></li><li class="list__item" id="61fe9764"><a href="#UpgradingZipWithMSI">Upgrade a non-MSI Installation with an MSI Distribution</a></li><li class="list__item" id="bad25b06"><a href="#troubleshooting">Troubleshooting</a></li><li class="list__item" id="47c80e78"><a href="#report-a-problem">Report a Problem with the Upgrade Installation</a></li></ul>    <div class="chapter"><h2 id="upgrade-msi-prerequisites" data-toc="Upgrade-YouTrack-MSI#upgrade-msi-prerequisites">Prerequisites</h2>        <p id="24ce32bf">Before you upgrade, perform the following prerequisite tasks:</p>        <ul class="list _ul"><li class="list__item" id="e9d1839c"><p><a href="Back-Up-the-Database.html">Create a backup of your current database</a>.                YouTrack does not provide forward database compatibility.                Your database is migrated to the format that is compatible with the latest version during the upgrade procedure.                This means that you cannot revert to a previous version and continue to use the database that was processed during the upgrade.</p></li><li class="list__item" id="45ddf1a4"><p>Copy the backup of your current database to a secure location just in case you encounter problems with the upgrade and need to                roll back to the previous version.</p></li><li class="list__item" id="5c44439a"><p>Verify that your YouTrack license supports the upgrade.                To view the license limitations, click the <span class="control">Global Settings</span> link in the <span class="control">Administration</span> menu.                If your free update period has expired, you need to <a href="/youtrack/buy/#stand-alone" data-external="true" target="_blank" rel="noopener noreferrer"><span>extend your subscription</span></a>.</p></li><li class="list__item" id="ff7dada5"><p>Mind the <span>recommended upgrade path</span>.              The current version of your installation is shown at the bottom of any page in the application.</p></li></ul>    </div>    <a name="Upgrade_Procedure"></a>    <div class="chapter"><h2 id="Upgrade_MSI" data-toc="Upgrade-YouTrack-MSI#Upgrade_MSI">Upgrade an MSI Installation</h2>        <a name="Upgrading_the_current_MSI_installation_with_MSI_distribution"></a>        <p id="989e2705">If your YouTrack Standalone service was previously installed using an MSI distribution,            you can use the MSI distribution to upgrade to the latest version of YouTrack Standalone.</p>        <p id="38c70886">The Windows Installer Package handles all of the following upgrade procedures automatically:</p>        <ul class="list _ul"><li class="list__item" id="a1121cfd"><p>Stops the currently running service.</p></li><li class="list__item" id="9ec4bbf4"><p>Uninstalls the previous version.</p></li><li class="list__item" id="c90712ce"><p>Installs the new version.</p></li><li class="list__item" id="d8fe8ee6"><p>Restarts the service.</p></li></ul>        <section class="procedure-steps"><h2 id="373d2b83">To upgrade an existing MSI installation:</h2><ol class="list _decimal"><li class="list__item" id="6b2372e9"><p>Download the MSI distribution from the the <a href="/youtrack/download/get_youtrack.html" data-external="true" target="_blank" rel="noopener noreferrer"><span>JetBrains website</span></a>.</p></li><li class="list__item" id="5009bd5a">Open the Windows Installer Package (MSI file).                <ul class="list _ul"><li class="list__item" id="9d145c62"><p>The <span class="control">JetBrains YouTrack Setup Wizard</span> opens.</p></li></ul>            <figure><img alt="Youtrack setup wizard upgrade" title="Youtrack setup wizard upgrade" src="/help/img/youtrack/2018.3/youtrack-setup-wizard-upgrade.png" id="b517e2a4" width="495" height="387"></figure>            </li><li class="list__item" id="5855ce3a">Follow the instructions in the setup wizard.                <ul class="list _ul"><li class="list__item" id="0cb793df">When the setup wizard is finished, the web-based Configuration Wizard opens in your default browser.                        <p id="59ceafcd">If you do not have a web browser installed on the host machine, open the URL that is provided by the setup wizard in a web browser on another workstation.</p>                    </li></ul>                <figure><img alt="Upgrade setup wizard complete" title="Upgrade setup wizard complete" src="/help/img/youtrack/2018.3/upgrade-setup-wizard-complete.png" id="81bc1c92" width="495" height="387"></figure>            </li><li class="list__item" id="ec66cd9c"><p>Click the <span class="control">Finish</span> button to close the setup wizard.</p></li><li class="list__item" id="1c0559a0">Switch to your web browser and continue with the upgrade installation in the web-based <span class="control">Configuration Wizard</span>.            The <span class="control">Configuration Wizard</span> gives you the following options to continue with the upgrade:                <ul class="list _ul"><li class="list__item" id="607ae973"><p>Upgrade using the settings that were detected in the previous installation.</p></li><li class="list__item" id="2511a00d"><p>Select a different upgrade source. Use this option when you have another backup of your YouTrack Standalone database in a different location or                        want to use the location of another YouTrack Standalone installation as the upgrade source.</p></li><li class="list__item" id="d13aac53"><p>Discard the detected settings and perform a clean installation.</p></li></ul>                <figure><a class="lightbox" href="/help/img/youtrack/2018.3/upgrade-source-msi.zoomed.png"><img alt="Configuration wizard upgrade source" title="Configuration wizard upgrade source" src="/help/img/youtrack/2018.3/upgrade-source-msi.png" id="6b91c736" width="600" height="506"></a></figure>            </li><li class="list__item" id="43e3a0ba"><p>If you select a different upgrade source, verify that the service user account <span class="control">JetBrainsYouTrack</span> has full access permissions to all of the directories that are displayed in the wizard.                This account is created by the installer to run the Windows service.                If you continue without granting access to the <span class="control">JetBrainsYouTrack</span> account, you encounter an error.</p></li><li class="list__item" id="11713929">On the <span class="control">Confirm Settings</span> page, confirm the basic system settings.                <div class="table-wrapper"><table class="                 " width="100%" id="ConfigWizSystemSettings"><thead><tr id="c226e263" class="ijRowHead"><th id="96ec0706" width="20%"><p>Setting</p></th><th id="9ea8ef6c"><p>Description</p></th></tr></thead><tbody><tr id="e35f45e9" class="ijRowOdd"><td id="15a85f46"><span class="control">Base URL</span></td><td id="45aa0073"><p>The URL where end users access YouTrack Standalone.</p></td></tr><tr id="e433d5c2" class="ijRowEven"><td id="75fdf5ab"><span class="control">Application Listen Port</span></td><td id="851f85d3"><p>The port your YouTrack Standalone server listens to after installation.</p></td></tr><tr id="1e218c44" class="ijRowOdd"><td id="20a4a802"><span class="control">Application Listen Address</span></td><td id="a1a9f6ae"><p>The IP address that your YouTrack Standalone listens to after installation.</p></td></tr><tr id="e6413e4d" class="ijRowEven"><td id="7630bb6e"><span class="control">Data Directory Location</span></td><td id="b0e5580e"><p>The directory where YouTrack Standalone stores content data.</p></td></tr><tr id="2204edbd" class="ijRowOdd"><td id="88660c6e"><span class="control">Backup Location</span></td><td id="0cf0250d"><p>The directory where YouTrack Standalone stores backups of the database.</p></td></tr><tr id="360e3ff1" class="ijRowEven"><td id="e0dd8f06"><span class="control">Logs Location</span></td><td id="6fe5d474"><p>The directory where YouTrack Standalone stores log files.</p></td></tr><tr id="e278a3cd" class="ijRowOdd"><td id="94db6a93"><span class="control">Temp Location</span></td><td id="d16f02f4"><p>The directory where YouTrack Standalone stores product-specific temporary files.</p></td></tr></tbody></table></div>                <p id="e45cc0c4">To change the location for any of these file types, click the <span class="control">Change</span> button and select a new location.</p>            </li><li class="list__item" id="a97bfd05">When done, click <span class="control">Upgrade</span>.                <ul class="list _ul"><li class="list__item" id="ba3cfc83">The configuration is applied to your YouTrack Standalone server.                        <p id="516803eb">Do not close the page in the browser until the setup is complete.</p>                    </li><li class="list__item" id="a7af2e8c"><p>When the YouTrack Standalone server is ready, the <span class="control">Dashboard</span> opens. Your YouTrack Standalone instance is upgraded and ready for use.</p></li></ul>            </li></ol></section>    </div>    <div class="chapter"><h2 id="UpgradingZipWithMSI" data-toc="Upgrade-YouTrack-MSI#UpgradingZipWithMSI">Upgrade a non-MSI Installation with an MSI Distribution</h2>        <a name="Upgrading_previous_non-MSI_installation_with_MSI_distribution"></a>        <p id="00e53cb3">You can upgrade an existing installation that was installed with a ZIP or JAR distribution and change the installation type to MSI at the same            time.</p>        <p id="e7b337cf">Before you upgrade, <a href="Back-Up-the-Database.html">create a backup of your current database</a>.</p>        <section class="procedure-steps"><h2 id="4a46bb2d">To upgrade a ZIP or JAR installation with the MSI distribution:</h2><ol class="list _decimal"><li class="list__item" id="853fd772"><p>Download the MSI distribution from the <a href="/youtrack/download/get_youtrack.html" data-external="true" target="_blank" rel="noopener noreferrer"><span>JetBrains website</span></a>.</p></li><li class="list__item" id="e42ecd38"><p>Stop the YouTrack service. For specific instructions, see <a href="Stop-and-Start-YouTrack.html"><span>Stop and Start YouTrack</span></a>.</p></li><li class="list__item" id="d96a06ea"><p>Use your operating system tools to verify that all Java processes that are launched by YouTrack are no longer running.                If there are YouTrack-related Java processes that are still running, kill the outstanding process trees.</p></li><li class="list__item" id="3e37419e">Clear out your <code class="code" data-lang="Java">&lt;youtrack_home&gt;</code> directory.                <ul class="list _ul"><li class="list__item" id="bf019634"><p>For a ZIP installation, the <code class="code" data-lang="Java">&lt;youtrack_home&gt;</code> directory is the location where the ZIP distribution was unpacked during installation.</p></li></ul>                                <p id="64f36990">We recommend that you perform the following steps:</p>                <ul class="list _ul"><li class="list__item" id="575c5daf"><p>Rename the existing <code class="code" data-lang="Java">&lt;youtrack_home&gt;</code> directory to <code class="code" data-lang="Java">YouTrack_old</code> (you can use another name).</p></li><li class="list__item" id="2057bc19"><p>Create a new <code class="code" data-lang="Java">&lt;youtrack_home&gt;</code> directory in the same location as the previous installation.</p></li></ul></li><li class="list__item" id="205d3017">Open the Windows Installer Package (MSI file).                <ul class="list _ul"><li class="list__item" id="598b45c5"><p>The <span class="control">JetBrains YouTrack Setup Wizard</span> opens.</p></li></ul></li><li class="list__item" id="361af0d1">If the setup wizard detects data and configuration files from a previously installed version, select the recommended option to perform a clean installation.                <p id="2b694e81">The setup wizard displays this option when an earlier version of the MSI distribution was installed and later uninstalled on the server.</p>                <p id="3f5f7100">When the setup wizard is finished, the web-based Configuration Wizard opens in your default browser.</p>                <p id="eb756814">If you do not have a web browser installed on the host machine, open the URL that is provided by the setup wizard in a web browser on another workstation.</p>            </li><li class="list__item" id="696dd411"><p>In the <span class="control">Configuration Wizard</span>, click <span class="control">Upgrade</span>.            </p></li><li class="list__item" id="f4ef325c">On the <span class="control">Select Upgrade Source</span> page, click the <span class="control">Select</span> button and select an upgrade source.                <ul class="list _ul"><li class="list__item" id="29c15139"><p>Select the location of the previous ZIP installation as the upgrade source.<br>                        or</p></li><li class="list__item" id="3af863af"><p>Select the location where a backup copy of your database is stored as a ZIP file or unzipped backup.</p></li></ul>            </li><li class="list__item" id="d921034a"><p>Verify that the service user account <span class="control">JetBrainsYouTrack</span> has full access permissions to all of the directories that are displayed in the wizard.                This account is created by the installer to run the Windows service.                If you continue without granting access to the <span class="control">JetBrainsYouTrack</span> account, you encounter an error.</p></li><li class="list__item" id="c39cf862"><p>When done, click <span class="control">Next</span>.</p></li><li class="list__item" id="dcbc55b4"><p>Continue from step 6 of the upgrade procedure as described for the <a href="#Upgrade_MSI">MSI Installation</a>.</p></li></ol></section>    </div>    <div class="chapter"><h2 id="troubleshooting" data-toc="Upgrade-YouTrack-MSI#troubleshooting">Troubleshooting</h2>        <p id="c9020c08">If you encountered a problem and the installation failed, see if any of the following conditions apply.</p>        <div class="table-wrapper"><table class="                  _layout-fixed" width="100%" id="1ab516db"><thead><tr id="c19019b4" class="ijRowHead"><th id="f1879173" width="10%"><p>Condition</p></th><th id="b2165643"><p>The upgrade fails.                    The YouTrack service is not started.                    The database of your existing installation is not upgraded to the latest version.                    The installer rolls back to the previously installed version.</p></th></tr></thead><tbody><tr id="7739f2c0" class="ijRowOdd"><td id="505a965c"><p>Cause</p></td><td id="3b9d95b7"><p>Undetermined.</p></td></tr><tr id="97939f62" class="ijRowEven"><td id="a4d3822d"><p>Solution</p></td><td id="3704fa67"><ol class="list _decimal"><li class="list__item" id="1f3dd679">Run the MSI installer with verbose logging enabled. In the <span class="control">Command Prompt</span> window, enter the following command:<br>                        <code class="code" data-lang="xml">msiexec /i youtrack-xxxxx.msi /l*v install.txt</code>                    <p id="6afe8979">The installer writes the verbose log data to a file named <code class="code" data-lang="Java">install.txt</code> and saves it in your current directory.</p></li><li class="list__item" id="2bf98f3a"><p>Review the contents of the <code class="code" data-lang="Java">install.txt</code> log file.                        The failure report begins with the string <code class="code" data-lang="Java">Return value 3</code>.</p></li><li class="list__item" id="43bee94b"><p>If the log file indicates that there was a service startup failure, check the YouTrack log files for errors.                        The default location of the YouTrack log files is <code class="code" data-lang="Java">%programdata%\JetBrains\YouTrack\logs</code></p></li><li class="list__item" id="9868e534"><p>If you can identify and correct the problem yourself, repeat the upgrade procedure.                    Otherwise, <a href="#report-a-problem">create an issue in the YouTrack project</a>.</p></li></ol></td></tr></tbody></table></div>        <div class="table-wrapper"><table class="                  _layout-fixed" width="100%" id="2c9d0115"><thead><tr id="691f721d" class="ijRowHead"><th id="ad24340f" width="10%"><p>Condition</p></th><th id="ecb29aec"><p>The MSI installer successfully upgraded the installation to the new version, but the Configuration Wizard fails to open or reports an error.                The YouTrack service fails to start.</p></th></tr></thead><tbody><tr id="3108e617" class="ijRowOdd"><td id="1ecc9143"><p>Cause</p></td><td id="414983b9"><ul class="list _ul"><li class="list__item" id="27027aba"><p>The specified port is occupied by another service.</p></li><li class="list__item" id="ebf1e66c"><p>You do not have access permissions to update files and folders in the installation directory.</p></li></ul>                </td></tr><tr id="3c159529" class="ijRowEven"><td id="ee6a1a66"><p>Solution</p></td><td id="71d63794"><ol class="list _decimal"><li class="list__item" id="1cb33364"><p>Check the log files, particularly <code class="code" data-lang="Java">service.log</code>, for errors.                        The default location of the log files is <code class="code" data-lang="Java">%programdata%\JetBrains\YouTrack\logs</code></p></li><li class="list__item" id="117c72a1">If you can identify and correct the problem (for example, change the port number or obtain access to the installation directory), repeat the upgrade procedure as follows.                        <ul class="list _ul"><li class="list__item" id="274f6706"><p>Perform a clean installation of the new version.</p></li><li class="list__item" id="ea481aef"><p>On the <span class="control">Upgrade Source</span> page, select a backup copy of the database from the previous version.</p></li></ul>                        Otherwise, <a href="#report-a-problem">create an issue in the YouTrack project</a>.</li></ol>                <p id="2051c834">If the upgrade failed, you can restore the previous version and continue working with YouTrack until the issue is resolved by our support team.                    For instructions, see <span>Restore an Installation</span>.</p></td></tr></tbody></table></div>        <div class="table-wrapper"><table class="                 " width="100%" id="a6667fd2"><thead><tr id="4d592fe5" class="ijRowHead"><th id="faf95335" width="10%"><p>Condition</p></th><th id="9f3dc282"><p>The upgrade fails. YouTrack is already installed. The product code of the previous installation is displayed. The previous installation cannot be upgraded automatically.</p></th></tr></thead><tbody><tr id="0155e852" class="ijRowOdd"><td id="d0f91315"><p>Cause</p></td><td id="517d78f5"><p>YouTrack was previously installed with another administrator account.</p></td></tr><tr id="ca404906" class="ijRowEven"><td id="9ca7b2da"><p>Solution</p></td><td id="4620c8db"><ol class="list _decimal"><li class="list__item" id="2d573dfe"><p>Log in to the previous version of YouTrack and create a backup of your database.</p></li><li class="list__item" id="fcef6d52"><p>Either ask the administrator who performed the installation to uninstall the previous version or reset the administrator account credentials and uninstall the previous version yourself.                        You can use administration tools like the <span class="control">Event Viewer</span> or <span class="control">Registry</span> to find the user account that was used to install the previous version.                        Alternatively, you can move the previous installation to another server.</p></li><li class="list__item" id="fe82f103"><p>Perform a clean installation of YouTrack. Select the option to remove the previous configuration.</p></li><li class="list__item" id="9c002f61"><p>In the Configuration Wizard, select the backup of the previous version as the upgrade source.</p></li></ol></td></tr></tbody></table></div>    </div>    <div class="chapter"><h2 id="report-a-problem" data-toc="Upgrade-YouTrack-MSI#report-a-problem">Report a Problem with the Upgrade Installation</h2>        <p id="4b6e1323">If you continue to experience problems with the upgrade installation:</p>        <ol class="list _decimal"><li class="list__item" id="f3048130"><p><a href="https://youtrack.jetbrains.com/issues/JT" data-external="true" target="_blank" rel="noopener noreferrer"><span>Create an issue in the YouTrack project</span></a>.</p></li><li class="list__item" id="844f0ddf">Attach the following files to help us investigate and fix the issue:                <ul class="list _ul"><li class="list__item" id="7c3ac8ec">Compress the contents of the <code class="code" data-lang="Java">logs</code> directory and attach the ZIP archive.                        The default location of this directory is <code class="code" data-lang="Java">%programdata%\JetBrains\YouTrack\logs</code>.                        <p id="b8d6d3f9">If the location of this directory was changed in the Configuration Wizard, you can find the actual location in the <code class="code" data-lang="Java">logs-dir</code> property of the <code class="code" data-lang="Java">%programdata%\JetBrains\YouTrack\conf\internal\bundle.properties</code> file.</p></li><li class="list__item" id="d7242769"><p>Compress the contents of the <code class="code" data-lang="Java">conf</code> directory and attach the ZIP archive.                        The default location of this directory is <code class="code" data-lang="Java">%programdata%\JetBrains\YouTrack\conf</code>.</p></li><li class="list__item" id="49fb5ed1"><p>Attach the <code class="code" data-lang="Java">install.txt</code>&nbsp;file.</p></li></ul></li></ol>        <p id="3f81256d">Our customer support engineers will investigate the issue and work with you to resolve the problem.</p>    </div>    <div class="last-modified" data-skip-index="skip">Last modified: 7 March 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="Install-YouTrack-MSI-Installation.html">MSI Installation</a><a class="navigation-links__next" href="start-stop-msi.html">Start and Stop an MSI Installation</a></div><section class="seealso" data-skip-index="skip"><div class="seealso__header"><h2>See Also</h2></div><div class="seealso__content"><div class="seealso__col" data-skip-index="skip"><h3>Installation and Upgrade:</h3><ul class="list"><li class="list__item"><a href="Configure-JVM-Options.html"><span>Configure JVM Options</span></a></li></ul></div></div></section></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/help/app/v2/app.js"></script></body></html>