<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/help/app/v2/analytics.js"></script><meta charset="UTF-8"><meta name="robots" content="noindex"><title>Integrate with Jenkins - Help | YouTrack Standalone</title><link rel="stylesheet" href="/help/app/v2/app.css"></head><body data-id="map-project-to-jenkins"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search YouTrack Standalone Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>YouTrack Standalone 2018.3 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="false"><h1 data-toc="map-project-to-jenkins" id="map-project-to-jenkins.xml">Integrate with Jenkins</h1>        <p id="83f4e983">Follow the instructions on this page to integrate your YouTrack project with a job in Jenkins.                The integration between YouTrack and Jenkins enables the following features in your project:</p>        <ul class="list _bullet"><li class="list__item" id="64ce57e7"><p>Pull build numbers from connected projects and automatically update the values in custom fields that store build numbers for resolved issues.                                        </p></li><li class="list__item" id="c71746c7"><p>Add direct links to change details in VCS commits.</p></li><li class="list__item" id="91f81213"><p>Apply commands to issues in commit messages when Jenkins assembles a build that contains the commit.</p></li></ul>        <div class="chapter"><h2 id="teamcity-integration-project-prerequisites" data-toc="map-project-to-jenkins#teamcity-integration-project-prerequisites">Prerequisites</h2>                <p id="31fbd0a4">Before you start, verify the following requirements:</p>                <ul class="list _ul"><li class="list__item" id="82a22b54"><p>You have a Jenkins installation that runs version 1.651.3 (1.x branch) or 2.15 (2.x branch) or later.</p></li><li class="list__item" id="66202c8a"><p>Your Jenkins account has read access for the views that contain the jobs that you want to connect to YouTrack.</p></li><li class="list__item" id="37589a3d">The YouTrack project that you want to integrate with Jenkins uses a custom field that stores a value as a build type.                                You can use the default custom field <span class="control">Fixed in build</span> or any other custom field that stores a build type.                                <p id="a578fad7">If you don't want to add build numbers to issues, you can enable the integration without mapping build numbers to a custom field in YouTrack.                                        In this case, your developers can still mention issues and apply commands in VCS commit messages.</p></li><li class="list__item" id="83aa0204"><p>To map VCS usernames in the linked repository to user accounts in YouTrack, the project in Jenkins must be configured to use the commit author in the changelog.                                Use the following navigation path to locate this setting: <span data-skip-index="skip" class="menupath">Project &gt; Configure &gt; Source Code Management &gt; Additional Behaviours &gt; Use Commit Author In Changelog</span>.</p></li><li class="list__item" id="f90f55ba"><p>To enable linking from VCS changes that are shown in issue view to a diff, you need to install the <a href="https://plugins.jenkins.io/last-changes" data-external="true" target="_blank" rel="noopener noreferrer"><span>Last Changes</span></a> plugin in Jenkins.</p></li></ul>        </div>        <div class="chapter"><h2 id="configure-connection" data-toc="map-project-to-jenkins#configure-connection">Connect to a Jenkins Server</h2>                <p id="ea30839e">To enable the integration in your project, YouTrack needs a connection to at least one Jenkins server.                        If you have sufficient permissions in Jenkins, you can establish the connection yourself.</p>                <p id="f4eb189a">If you don't have these permissions in Jenkins, a YouTrack administrator can configure the connection.                        For details, see <a href="jenkins-integration.html"><span>Jenkins Integration</span></a>.</p>                <p id="d8484599">If YouTrack is already integrated with the Jenkins server that processes builds that contain references to your project, skip this step and <a href="#define-mapping">define the mapping for your project</a>. </p>                <aside class="tip sideblock" data-title="Permissions" rel="jenkins-project-procedure" id="72800d59"><br><br>                        <p id="922f319d">— Read Project Basic</p>                        <p id="d90e9e55">— Update Project</p>                </aside>                <section class="procedure-steps"><h2 id="jenkins-project-procedure">To connect to a Jenkins server:</h2><ol class="list _decimal"><li class="list__item" id="ff1f6dd7"><p>Click the <span class="control">Projects</span> link in the header to open the <span class="control">Projects</span> list.</p></li><li class="list__item" id="6f6b6265"><p>From the <span class="control">Administration</span> menu for your project, select <span class="control">Build Server Integration</span>.                        <figure><a class="lightbox" href="/help/img/youtrack/2018.3/project-administration-build-server-integration.zoomed.png"><img alt="project administration build server integration" title="project administration build server integration" src="/help/img/youtrack/2018.3/project-administration-build-server-integration.png" id="5634bfee" width="600" height="211"></a></figure>                        </p></li><li class="list__item" id="bc823d72">From the <span class="control">Add New Mapping</span> menu, select <span class="control">Add build server</span>.                        <figure><a class="lightbox" href="/help/img/youtrack/2018.3/project-add-build-server.zoomed.png"><img alt="add build server in project" title="add build server in project" src="/help/img/youtrack/2018.3/project-add-build-server.png" id="8baf9192" width="600" height="168"></a></figure>                                <ul class="list _ul"><li class="list__item" id="e6ee7686"><p>The <span class="control">Add Build Server</span> dialog opens in the sidebar.</p></li></ul>                                <figure><a class="lightbox" href="/help/img/youtrack/2018.3/add-jenkins-server-in-project.zoomed.png"><img alt="add Jenkins server" title="add Jenkins server" src="/help/img/youtrack/2018.3/add-jenkins-server-in-project.png" id="cf4b62ad" width="600" height="360"></a></figure>                        </li><li class="list__item" id="159b1c94">Enter values for the following settings:                                <div class="table-wrapper"><table class="                 " width="100%" id="7f6f5bb4"><thead><tr id="9d8ae399" class="ijRowHead"><th id="9a7d1059" width="20%"><p>Setting</p></th><th id="052a1216"><p>Description</p></th></tr></thead><tbody><tr id="fc203ebc" class="ijRowOdd"><td id="30e7101d"><p>URL</p></td><td id="e86d14f7"><p>Enter the URL of the Jenkins server.</p></td></tr><tr id="5c5eebf9" class="ijRowEven"><td id="2ed6e9b0"><p>Type</p></td><td id="c3f60bb4"><p>Select <span class="control">Jenkins</span>.</p></td></tr><tr id="5a5dd961" class="ijRowOdd"><td id="d2195989"><p>Login</p></td><td id="e0be4468"><p>Enter the username of the Jenkins user account.</p></td></tr><tr id="5a4b3140" class="ijRowEven"><td id="6f7b9f94"><p>Password</p></td><td id="82257ee2"><p>Enter the password for the Jenkins user account.</p></td></tr></tbody></table></div>                        </li><li class="list__item" id="61fa1b87">Expand the <span class="control">Advanced settings</span> section and configure the following optional settings:                                <div class="table-wrapper"><table class="                 " width="100%" id="d9931230"><thead><tr id="aff39ff9" class="ijRowHead"><th id="9feee042" width="20%"><p>Setting</p></th><th id="b9542bb2"><p>Description</p></th></tr></thead><tbody><tr id="d91538c5" class="ijRowOdd"><td id="be56d670"><p>Select SSL key</p></td><td id="ed5e0fa5"><p>If the Jenkins server uses a secure connection and you have uploaded an SSL client key to authenticate your YouTrack service,                                                        select the client key from the drop-down list.                                                        For more information, see <a href="SSL-Key-Stores.html"><span>SSL Keystores</span></a>.</p></td></tr><tr id="d55f7f11" class="ijRowEven"><td id="9e4bd7e4"><p>Socket timeout</p></td><td id="ed1ea928"><p>Set the maximum amount of time to wait for a response from the Jenkins server before disconnecting the socket.                                                        The default is 30 seconds.</p></td></tr><tr id="365376d4" class="ijRowOdd"><td id="93c8d6cf"><p>Read timeout</p></td><td id="8dc6ba69"><p>Set the maximum amount of time to wait for complete data transfer from the Jenkins server before closing the connection.                                                        The default is 30 seconds.</p></td></tr></tbody></table></div>                        </li><li class="list__item" id="5e0802d7">Click the <span class="control">Test connection</span> button.                                <ul class="list _ul"><li class="list__item" id="4f4a5dd6"><p>YouTrack verifies the connection to the Jenkins server.</p></li></ul></li><li class="list__item" id="93bdbfe3">Click the <span class="control">Add server</span> button.                                <ul class="list _ul"><li class="list__item" id="5974c471"><p>The Jenkins server connection settings are saved.</p></li></ul></li></ol></section>                <p id="d8008468">Repeat these steps to add connections to additional Jenkins servers.</p>        </div>        <div class="chapter"><h2 id="define-mapping" data-toc="map-project-to-jenkins#define-mapping">Define the Mapping Between Projects</h2>                <a name="Mapping_Projects"></a>                <p id="5f8b54c1">To enable the Jenkins integration in your project, you map your YouTrack project to a job in Jenkins.</p>                <p id="5e67f5e2">The first group of settings connect YouTrack to a job for a project on a Jenkins server.                        Additional options for the default branch let you define which issues are assigned build numbers.                        You can also specify the commands to apply to all of the issues that are processed by YouTrack.</p>                <aside class="tip sideblock" data-title="Permissions" rel="map-jenkins-project-procedure" id="f54e0507"><br><br>                        <p id="3e50605e">— Read Project Basic</p>                        <p id="3a4920a3">— Update Project</p>                </aside>                <section class="procedure-steps"><h2 id="map-jenkins-project-procedure">To define a mapping between YouTrack and Jenkins:</h2><ol class="list _decimal"><li class="list__item" id="3fb3dc51"><p>On the <span class="control">Build Server Integration</span> tab of the <span class="control">Edit Project</span> page, select a Jenkins server in the list of build server integrations.</p></li><li class="list__item" id="9294b656">Click the <span class="control">Create New Mapping</span> button.                                <ul class="list _ul"><li class="list__item" id="0c152eeb"><p>The <span class="control">Create Mapping</span> dialog opens in the sidebar.                                        </p></li></ul>                                <figure><a class="lightbox" href="/help/img/youtrack/2018.3/new-jenkins-mapping.zoomed.png"><img alt="new Jenkins mapping" title="new Jenkins mapping" src="/help/img/youtrack/2018.3/new-jenkins-mapping.png" id="14f4f0fa" width="600" height="309"></a></figure>                        </li><li class="list__item" id="3698005e">Enter values for the following settings:                                <div class="table-wrapper"><table class="                 " width="100%" id="f1ea6b71"><thead><tr id="6fcc51be" class="ijRowHead"><th id="7075d5df" width="20%"><p>Setting</p></th><th id="a9381ca4"><p>Description</p></th></tr></thead><tbody><tr id="3818bcc0" class="ijRowOdd"><td id="d254e3b7"><p>Jenkins Server</p></td><td id="76e8041d"><p>Select the Jenkins server that contains the project that you want to map to.                                                        If you are only connected to one Jenkins server, it is set by default.</p></td></tr><tr id="2f7cd5d5" class="ijRowEven"><td id="6e51a226"><p>Jenkins View</p></td><td id="9873f3ab"><p>Select the name of the view that includes the Jenkins project.</p></td></tr><tr id="67976f5b" class="ijRowOdd"><td id="327ea4c7"><p>Jenkins Job</p></td><td id="fc03e1ff"><p>Select the job in the Jenkins project.</p></td></tr><tr id="275f566f" class="ijRowEven"><td id="307e5c05"><p>Process changes</p></td><td id="b44fd858">Choose how YouTrack handles VCS changes in builds that are processed by Jenkins.                                                        The following options are available:                                                        <ul class="list _ul"><li class="list__item" id="b3c3387b"><p><span class="control">Do not attach</span> — VCS changes that include references to YouTrack issue IDs are not added to the activity stream in the referenced issue.                                                                        Use this option when you only want the integration to add build numbers to custom fields.</p></li><li class="list__item" id="52363d13"><p><span class="control">Attach</span> — VCS changes that include references to YouTrack issue IDs are added to the activity stream in the referenced issue.                                                                        The entry in the activity stream contains a link to the build that contains the change.                                                                        The commit message is not parsed for YouTrack commands.</p></li><li class="list__item" id="168f6965"><p><span class="control">Attach and apply commands</span> — VCS changes that include references to YouTrack issue IDs are added to the activity stream in the referenced issue.                                                                        The entry in the activity stream contains a link to the build that contains the change.                                                                        The commit message is also parsed for YouTrack commands.</p></li></ul></td></tr><tr id="d1a4e0dc" class="ijRowOdd"><td id="34d973b8"><p>Visible to</p></td><td id="65bfe1db"><p>To restrict the visibility of comments and updates that are shown as <span class="control">VCS changes</span> in the activity stream, select one or more groups from the list.                                                        Otherwise, this activity type is visible to any user who has permission to read issues in the project.</p></td></tr><tr id="bf12bebc" class="ijRowEven"><td id="eedbf8f9"><p>Parse commits for issue comments</p></td><td id="08236624"><p>To detect and generate issue comments from commit messages, enable this option.                                                        Otherwise, the entire commit message is displayed with the VCS change in the issue activity stream.<br><br>                                                        To learn more about how YouTrack processes commit messages, see <a href="Apply-Commands-in-VCS-Commits.html"><span>Apply Commands in VCS Commits</span></a>.</p></td></tr></tbody></table></div>                        </li><li class="list__item" id="58513d24"><p>Click to expand the <span class="control">Actions for Default Branch</span> settings.                                These settings determine which actions are applied to builds in the default branch.                                <figure><a class="lightbox" href="/help/img/youtrack/2018.3/actions-for-default-branch-jenkins-project.zoomed.png"><img alt="actions for default branch" title="actions for default branch" src="/help/img/youtrack/2018.3/actions-for-default-branch-jenkins-project.png" id="6c481747" width="600" height="315"></a></figure>                                If you don't want to add build numbers to issues, continue from step 6.</p></li><li class="list__item" id="c56781dd">Configure the following options:                                <div class="table-wrapper"><table class="                  _layout-fixed" width="100%" id="3af20043"><thead><tr id="84753f06" class="ijRowHead"><th id="9168b298" width="20%"><p>Option</p></th><th id="f1cd240b"><p>Description</p></th></tr></thead><tbody><tr id="ca7f6539" class="ijRowOdd"><td id="96c414ea"><p>Consider failed builds</p></td><td id="fbd242eb"><p>Enable to add build numbers to issues for all builds, including failed builds.                                                        When disabled, only successful builds are added to issues in YouTrack.</p></td></tr><tr id="79d206d8" class="ijRowEven"><td id="18be5bfc"><p>Process issues mentioned in commits and build comments</p></td><td id="56dc031c"><p>Enable to add build numbers to issues that are mentioned in commits and build comments.                                                        When disabled, YouTrack ignores mentioned issues.                                                        Use this setting together with the <span class="control">Query</span> setting to determine which issues are assigned build numbers.</p></td></tr><tr id="5d081ace" class="ijRowOdd"><td id="63694976"><p>Query</p></td><td id="0e95898d"><p>Enter a search query to add build numbers to issues that match a specific filter criteria.                                                        The standard search query is <code class="code" data-lang="Java">State: Fixed State: Verified resolved date: ${build.time}..${prev.build.time}</code>.                                                        This query ensures that only issues that are resolved since the last successful build and the current build are considered.                                                        Use this setting together with the <span class="control">Process issues mentioned in commits and build comments</span> option to determine which issues are assigned build numbers.</p></td></tr><tr id="8d7f5ab8" class="ijRowEven"><td id="beac6f32"><p>Command</p></td><td id="c150ae42"><p>Enter a command that is applied to all issues that are assigned build numbers in YouTrack.                                                        Use the <code class="code" data-lang="Java">${build</code>} variable to reference the build number in Jenkins. For example:                                                        <code class="code" data-lang="Java">Subsystem Testing Test in build ${build}</code>                                                        With this command, all issues that are processed by YouTrack are assigned to the <span class="control">Testing</span> subsystem                                                        and the <span class="control">Test in build</span> field is set to the build number.</p></td></tr><tr id="b5bf0957" class="ijRowOdd"><td id="954fd023"><p>Build Field</p></td><td id="62f84c77"><p>Select the custom field that stores the build number from Jenkins.</p></td></tr><tr id="37f4e117" class="ijRowEven"><td id="930dae1c"><p>Add builds to the set of values</p></td><td id="94b6ca7a"><p>Enable to automatically add build numbers to the set of values for the selected custom field.                                                        The builds that are considered for this option are affected by the <span class="control">Consider failed builds</span> setting.</p></td></tr></tbody></table></div></li><li class="list__item" id="78f4e62c">Click the <span class="control">Create mapping</span> button.                                <ul class="list _ul"><li class="list__item" id="1710537b"><p>The YouTrack project is mapped to the selected project in Jenkins.</p></li><li class="list__item" id="f28e9c71"><p>The Jenkins integration is enabled and available for use in your YouTrack project.</p></li></ul></li></ol></section>        </div>        <div class="chapter"><h2 id="teamcity-integration-project-placeholders" data-toc="map-project-to-jenkins#teamcity-integration-project-placeholders">Placeholders</h2>                <p id="bfc4e7e0">You can use placeholders in the <span class="control">Query</span> and <span class="control">Command</span> settings.                        These placeholders reference attributes that are stored for builds in Jenkins.                        The placeholder is replaced with the corresponding value in the connected version control system when the builds are processed by YouTrack.                        The following placeholders are available:</p>                <div class="table-wrapper"><table class="                 " width="100%" id="09c8d675"><thead><tr id="bc1548ea" class="ijRowHead"><th id="c0b25419" width="20%"><p>Placeholder</p></th><th id="135badf7"><p>Description</p></th></tr></thead><tbody><tr id="fa7e3de5" class="ijRowOdd"><td id="4f653e21"><p>${build.time}</p></td><td id="11654c9f"><p>The date and time of the build that is processed by YouTrack.</p></td></tr><tr id="3b30e80f" class="ijRowEven"><td id="0f7edd56"><p>${prev.build.time}</p></td><td id="a92edf00"><p>The date and time of the build prior to the build that is processed by YouTrack.</p></td></tr><tr id="dcf7fd24" class="ijRowOdd"><td id="8741efd1"><p>${build}</p></td><td id="80e29986"><p>The number of the build that is processed by YouTrack.</p></td></tr><tr id="d45773d6" class="ijRowEven"><td id="ba0b0296"><p>${revision}</p></td><td id="7e0554dd"><p>The revision number that is assigned to a VCS commit.</p></td></tr></tbody></table></div>        </div>                <div class="last-modified" data-skip-index="skip">Last modified: 7 March 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="configure-build-server-integration-per-project.html">Integrate with a Build Server</a><a class="navigation-links__next" href="Configure-TeamCity-Integration.html">Integrate with TeamCity</a></div><section class="seealso" data-skip-index="skip"><div class="seealso__header"><h2>See Also</h2></div><div class="seealso__content"><div class="seealso__col" data-skip-index="skip"><h3>User Guide:</h3><ul class="list"><li class="list__item"><a href="VCS-Changes.html"><span>View and Edit VCS Changes</span></a></li><li class="list__item"><a href="Map-Issues-to-VCS-Change-Commit.html"><span>Link Issues in VCS Commits</span></a></li><li class="list__item"><a href="Apply-Commands-in-VCS-Commits.html"><span>Apply Commands in VCS Commits</span></a></li><li class="list__item"><a href="Add-a-Comment.html#add-comment-vcs-commits"><span>Generate Comments from VCS Commits</span></a></li></ul></div></div></section></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/help/app/v2/app.js"></script></body></html>