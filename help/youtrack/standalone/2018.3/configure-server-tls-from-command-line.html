<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/help/app/v2/analytics.js"></script><meta charset="UTF-8"><meta name="robots" content="noindex"><title>Configure Built-in TLS in Command Line - Help | YouTrack Standalone</title><link rel="stylesheet" href="/help/app/v2/app.css"></head><body data-id="server-tls-from-command-line"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search YouTrack Standalone Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>YouTrack Standalone 2018.3 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="false"><h1 data-toc="server-tls-from-command-line" id="configure-server-tls-from-command-line.xml">Configure Built-in TLS in Command Line</h1>    <div class="chapter"><h2 id="b65467b6" data-toc="server-tls-from-command-line#b65467b6">Configuring TLS in your current YouTrack installation</h2>        <aside class="note " data-title="" rel="b65467b6" id="88bd77af">            <p id="a4aa7016">All commands listed here are Linux or Mac OS X commands. If you're working on a Windows server, simply                replace <code class="code" data-lang="Console">.sh</code> with <code class="code" data-lang="Java">.bat</code>. For Mac OS X or Linux, please make sure                to start YouTrack as a non-root user.            </p>        </aside>        <p id="61f613e8">            Using the command line, you can switch between the following secure mode configurations:        </p>        <ul class="list _ul"><li class="list__item" id="0246ba48"><p>                HTTP — default HTTP mode. TLS is disabled            </p></li><li class="list__item" id="6c4a3c35"><p>                HTTPS(keystore) — secure HTTPS mode. TLS is enabled. The private key/certificate data is stored in                a keystore file.            </p></li><li class="list__item" id="21e7775b"><p>                HTTPS(privateKeyAndCert) — secure HTTPS mode. TLS is enabled. The private key, certificate, and                certificate chain(optional) are stored in separate files in the PEM format.            </p></li></ul>        <p id="da67e670">To switch to a desired mode, you need to stop YouTrack and run the <code class="code" data-lang="Java">configure</code> command defining all the        properties required for the configuration of your choice.        See below for detailed instructions and a complete list of the <a href="#configure-properties">properties</a> for            each configuration.</p>        <aside class="note " data-title="" rel="da67e670" id="7d5078d3">            <p id="c2496d02">If the server base URL is expected to be changed as a result of switching between HTTP/HTTPS modes, you                must specify the new base URL: Add the parameter <code class="code" data-lang="Java">--base-url=&lt;new base URL&gt;</code> to                the <code class="code" data-lang="Java">configure</code> command.            </p>        </aside>        <section class="procedure-steps"><h2 id="procedure-switch-to-http">To switch to the HTTP mode:</h2><ol class="list _decimal"><li class="list__item" id="b5f8d91f">                <p id="76cf7b67">Stop YouTrack:                    <code class="code" data-lang="Java">&lt;youtrack_home&gt;/bin/youtrack.sh stop</code>                </p>            </li><li class="list__item" id="cd8742e2">                <p id="9a399766">Enter the following command:                    <div class="code-block" data-lang="Java"><code class="code-block__wrapper"><span class="o">&lt;</span><span class="n">youtrack_home</span><span class="o">&gt;/</span><span class="n">bin</span><span class="o">/</span><span class="n">youtrack</span><span class="o">.</span><span class="na">sh</span> <span class="n">configure</span> <span class="o">--</span><span class="n">listen</span><span class="o">-</span><span class="n">port</span><span class="o">=</span><span class="mi">8080</span> <span class="o">--</span><span class="n">secure</span><span class="o">-</span><span class="n">mode</span><span class="o">=</span><span class="n">disable</span></code></div>                </p>            </li><li class="list__item" id="7a3bdb2f">                    <p id="e3f7032b">Start YouTrack:                        <code class="code" data-lang="Java">&lt;youtrack_home&gt;/bin/youtrack.sh start</code>                    </p>            </li></ol></section>        <section class="procedure-steps"><h2 id="HTTPS-keystore">To switch to the HTTPS (keystore) mode:</h2><ol class="list _decimal"><li class="list__item" id="915a539c">                <p id="b526bc9d">Create a temporary folder and place the file <code class="code" data-lang="Java">keystore.jks</code> containing the server's                    private key and certificate in that folder.                </p>            </li><li class="list__item" id="66f80f97">                <p id="3b58ec3f">Stop YouTrack:                    <code class="code" data-lang="Java">&lt;youtrack_home&gt;/bin/youtrack.sh stop</code>                </p>            </li><li class="list__item" id="3172794f">                <p id="bf6fd63e">Run the following command:                    <div class="code-block" data-lang="Java"><code class="code-block__wrapper"><span class="o">&lt;</span><span class="n">youtrack_home</span><span class="o">&gt;/</span><span class="n">bin</span><span class="o">/</span><span class="n">youtrack</span><span class="o">.</span><span class="na">sh</span> <span class="n">configure</span> <span class="o">--</span><span class="n">listen</span><span class="o">-</span><span class="n">port</span><span class="o">=</span><span class="mi">443</span> <span class="o">--</span><span class="n">secure</span><span class="o">-</span><span class="n">mode</span><span class="o">=</span><span class="n">tls</span> <span class="o">--</span><span class="n">tls</span><span class="o">-</span><span class="n">server</span><span class="o">-</span><span class="n">cert</span><span class="o">-</span><span class="n">storage</span><span class="o">-</span><span class="n">type</span><span class="o">=</span><span class="n">keystore</span> <span class="o">--</span><span class="n">tls</span><span class="o">-</span><span class="n">server</span><span class="o">-</span><span class="n">cert</span><span class="o">-</span><span class="n">folder</span><span class="o">=&lt;</span><span class="n">folder</span> <span class="n">with</span> <span class="n">file</span> <span class="n">keystore</span><span class="o">.</span><span class="na">jks</span><span class="o">&gt;</span> <span class="o">--</span><span class="n">tls</span><span class="o">-</span><span class="n">server</span><span class="o">-</span><span class="n">cert</span><span class="o">-</span><span class="n">keystore</span><span class="o">-</span><span class="n">password</span><span class="o">=&lt;</span><span class="n">keystore</span> <span class="n">password</span><span class="o">&gt;</span> <span class="o">--</span><span class="n">tls</span><span class="o">-</span><span class="n">server</span><span class="o">-</span><span class="n">cert</span><span class="o">-</span><span class="n">keystore</span><span class="o">-</span><span class="n">key</span><span class="o">-</span><span class="n">alias</span><span class="o">=&lt;</span><span class="kd">private</span> <span class="n">key</span> <span class="n">entry</span> <span class="n">alias</span><span class="o">&gt;</span> <span class="o">--</span><span class="n">tls</span><span class="o">-</span><span class="n">server</span><span class="o">-</span><span class="n">cert</span><span class="o">-</span><span class="kd">private</span><span class="o">-</span><span class="n">key</span><span class="o">-</span><span class="n">passphrase</span><span class="o">=&lt;</span><span class="kd">private</span> <span class="n">key</span> <span class="n">entry</span> <span class="n">password</span><span class="o">&gt;</span> <span class="o">--</span><span class="n">tls</span><span class="o">-</span><span class="n">redirect</span><span class="o">-</span><span class="n">from</span><span class="o">-</span><span class="n">http</span><span class="o">=&lt;[</span><span class="kc">true</span><span class="o">|</span><span class="kc">false</span><span class="o">]&gt;</span> <span class="o">[--</span><span class="n">tls</span><span class="o">-</span><span class="n">redirect</span><span class="o">-</span><span class="n">from</span><span class="o">-</span><span class="n">http</span><span class="o">-</span><span class="n">listen</span><span class="o">-</span><span class="n">port</span><span class="o">=</span><span class="mi">8080</span><span class="o">]</span></code></div>                </p>            </li><li class="list__item" id="c1e94aae">                <p id="ff0227e4">Start YouTrack:                    <code class="code" data-lang="Java">&lt;youtrack_home&gt;/bin/youtrack.sh start</code>                </p>            </li></ol></section>        <aside class="tip sideblock" data-title="" rel="HTTPS-keystore" id="3a6b1a18">            <p id="f0d5d203">You can also use these procedures if you have already configured HTTPS and simply want to apply new                private key/certificate to the server.            </p>        </aside>        <section class="procedure-steps"><h2 id="HTTPS-privateKeyAndCert">To switch to the HTTPS (privateKeyAndCert) mode:</h2><ol class="list _decimal"><li class="list__item" id="48376326">                <p id="c23770ef">Create a temporary folder (let's call it <code class="code" data-lang="Java">&lt;certificates_folder&gt;</code>) to store the files                    with private key, certificate, and certificate chain (if any).                </p>            </li><li class="list__item" id="8c969301">                <p id="887c1ff1">Place the private key (in the PEM format) into file <code class="code" data-lang="Java">&lt;certificates_folder&gt;/privateKey.pem</code>.                </p>            </li><li class="list__item" id="89bb7f75">                <p id="cf14acd5">Place the server certificate (in the PEM format) associated with the private key into the file <code class="code" data-lang="Java">&lt;certificates_folder&gt;/certificate.crt</code>.                </p>            </li><li class="list__item" id="5132f66c">                <p id="2a0525b6">If you have a certificate chain for signing the server's certificate (in the PEM format), place it                    into the file <code class="code" data-lang="Java">&lt;certificates_folder&gt;/certificateChain.crt</code>.                </p>            </li><li class="list__item" id="5007c867">                <p id="7d2fdcd5">Stop YouTrack:                    <code class="code" data-lang="Java">&lt;youtrack_home&gt;/bin/youtrack.sh stop</code>                </p>            </li><li class="list__item" id="6e3c54a2"><p>                Run the following command:                    <div class="code-block" data-lang="Java"><code class="code-block__wrapper"><span class="o">&lt;</span><span class="n">youtrack_home</span><span class="o">&gt;/</span><span class="n">bin</span><span class="o">/</span><span class="n">youtrack</span><span class="o">.</span><span class="na">sh</span> <span class="n">configure</span> <span class="o">--</span><span class="n">listen</span><span class="o">-</span><span class="n">port</span><span class="o">=</span><span class="mi">443</span> <span class="o">--</span><span class="n">secure</span><span class="o">-</span><span class="n">mode</span><span class="o">=</span><span class="n">tls</span> <span class="err">\</span>
<span class="o">--</span><span class="n">tls</span><span class="o">-</span><span class="n">server</span><span class="o">-</span><span class="n">cert</span><span class="o">-</span><span class="n">storage</span><span class="o">-</span><span class="n">type</span><span class="o">=</span><span class="n">privateKeyAndCert</span> <span class="o">--</span><span class="n">tls</span><span class="o">-</span><span class="n">server</span><span class="o">-</span><span class="n">cert</span><span class="o">-</span><span class="n">folder</span><span class="o">=&lt;</span><span class="n">certificates_folder</span><span class="o">&gt;</span> <span class="err">\</span>
<span class="o">--</span><span class="n">tls</span><span class="o">-</span><span class="n">redirect</span><span class="o">-</span><span class="n">from</span><span class="o">-</span><span class="n">http</span><span class="o">=&lt;[</span><span class="kc">true</span><span class="o">|</span><span class="kc">false</span><span class="o">]&gt;</span> <span class="o">[--</span><span class="n">tls</span><span class="o">-</span><span class="n">redirect</span><span class="o">-</span><span class="n">from</span><span class="o">-</span><span class="n">http</span><span class="o">-</span><span class="n">listen</span><span class="o">-</span><span class="n">port</span><span class="o">=</span><span class="mi">8080</span><span class="o">]</span></code></div>                If the private key is encrypted, also add the <code class="code" data-lang="Java">tls-server-cert-private-key-passphrase</code> property to provide the passphrase for the key.            </p></li><li class="list__item" id="094df37a">                    <p id="dbe8b798">Start YouTrack:                        <code class="code" data-lang="Java">&lt;youtrack_home&gt;/bin/youtrack.sh start</code>                    </p>            </li></ol></section>    </div>    <div class="chapter"><h2 id="redirect" data-toc="server-tls-from-command-line#redirect">Redirecting HTTP traffic</h2>        <p id="dc518141">If you are going to use a secure HTTPS mode, you can optionally set up a <span class="control">Redirect listen port        </span> — a non-secure port that will receive all HTTP requests and redirect them to the secure listen            port. To do so, add the parameters <code class="code" data-lang="Java">tls-redirect-from-http=true</code> and            <code class="code" data-lang="Java">tls-redirect-from-http-listen-port=&lt;your redirect port number&gt;</code> to the <code class="code" data-lang="Java">configure</code> command.        </p>    </div>    <div class="chapter"><h2 id="configure-properties" data-toc="server-tls-from-command-line#configure-properties">Configuration Parameters</h2>        <h2>HTTP</h2><div class="table-wrapper"><table class=" wide                 " width="100%" id="configuration-parameters-http"><thead><tr id="452d9a4d" class="ijRowHead"><th id="2218a804"><p>                    Property                </p></th><th id="ba80000c"><p>                    Value                </p></th><th id="25c9ecb4"><p>                    Description                </p></th></tr></thead><tbody><tr id="21e6aae8" class="ijRowOdd"><td id="28656c2c"><p>                    secure-mode                </p></td><td id="d1e8b315"><p>                    disable                </p></td><td id="5890061b"><p>                    The default value of the property. TLS is disabled by default.                </p></td></tr><tr id="a7b0307b" class="ijRowEven"><td id="3d951545"><p>                    listen-port                </p></td><td id="fde180aa"><p></p></td><td id="38f3ac9d"><p>                    The port on which YouTrack listens to the HTTP traffic.                </p></td></tr></tbody></table></div>        <h2>HTTPS (common properties)</h2><div class="table-wrapper"><table class=" wide                 " width="100%" id="configuration-parameters-https-common"><thead><tr id="a691dbdc" class="ijRowHead"><th id="db36c807"><p>                    Property                </p></th><th id="6500f488"><p>                    Value                </p></th><th id="27e1ffd2"><p>                    Description                </p></th></tr></thead><tbody><tr id="133cb175" class="ijRowOdd"><td id="587b6fe7"><p>                    secure-mode                </p></td><td id="d3fa7005"><p>                    tls                </p></td><td id="47e776e6"><p>                    TLS is enabled                </p></td></tr><tr id="bb5f4655" class="ijRowEven"><td id="5560e7ec"><p>                    tls-server-cert-storage-type                </p></td><td id="1f9f5bf1"><p>                    <code class="code" data-lang="Java">keystore</code> or<br>                    <code class="code" data-lang="Java">privateKeyAndCert</code>                </p></td><td id="9df01213"><p>                    Defines the format (storage type) of a server certificate. See descriptions of each storage type                    below.                </p></td></tr><tr id="515bfaa1" class="ijRowOdd"><td id="717dee88"><p>                    tls-redirect-from-http                </p></td><td id="5913434b"><p>                    <code class="code" data-lang="Java">true</code>                    or <code class="code" data-lang="Java">false</code>. The default value is <code class="code" data-lang="Java">false</code>.                </p></td><td id="31ab9dab"><p>                    Set to true, to enable an additional port (defined by property <code class="code" data-lang="Java">tls-redirect-from-http-listen-port</code>) to accept unencrypted HTTP traffic and redirect it to a                    secure port defined by the property <code class="code" data-lang="Java">listen-port</code>.                </p></td></tr><tr id="5fc82a16" class="ijRowEven"><td id="7ced4cd3"><p>                    tls-redirect-from-http-listen-port                </p></td><td id="95a37197"><p></p></td><td id="0e3e400c"><p>                    Specify an additional port to accept unencrypted HTTP traffic and redirect it to a secure port                    defined by the property <code class="code" data-lang="Java">listen-port</code> (to enable this port, set the property <code class="code" data-lang="Java">tls-redirect-from-http</code> to <code class="code" data-lang="Java">true</code>)                </p></td></tr><tr id="b5a4e7c1" class="ijRowOdd"><td id="aeca093d"><p>                    tls-server-cert-folder                </p></td><td id="5effee4d"><p></p></td><td id="f65eca0a">                    <p id="fdcd35ae">Specify the directory that contains server certificate files to be applied to YouTrack. The directory                        should contain the file <code class="code" data-lang="Java">keystore.jks</code>. If you are using the keystore format (the property <code class="code" data-lang="Java">tls-server-cert-storage-type</code> is set to keystore in that case). The directory should contain the files <code class="code" data-lang="Java">privateKey.pem</code>, <code class="code" data-lang="Java">certificate.crt</code> and <code class="code" data-lang="Java">certificateChain.crt</code> (if                        any) if you are using the PEM format (the property <code class="code" data-lang="Java">tls-server-cert-storage-type</code> is                        set to <code class="code" data-lang="Java">privateKeyAndCert</code> in that case).                    </p>                </td></tr></tbody></table></div>        <h2>HTTPS (keystore - additional settings)</h2><div class="table-wrapper"><table class=" wide                  _layout-fixed" width="100%" id="configuration-parameters-https-keystore-additional"><thead><tr id="9602605f" class="ijRowHead"><th id="70b954ae"><p>                    Property                </p></th><th id="c8e8d256" width="180"><p>                    Value                </p></th><th id="37728338"><p>                    Description                </p></th></tr></thead><tbody><tr id="c39c58bf" class="ijRowOdd"><td id="223b09d8"><p>                    tls-server-cert-storage-type                </p></td><td id="08ecef77"><p>                    keystore                </p></td><td id="c48cd485">                    <p id="9ba120bd">Use this property if your private key/certificate data is stored in a generated keystore file. In                        this mode, the server's private key/certificate pair will be derived from the file                        <code class="code" data-lang="Console">internal/cert/keystore/keystore.jks</code>                        located in the conf directory. The keystore file is saved in the <a href="https://docs.oracle.com/javase/7/docs/technotes/tools/windows/keytool.html" data-external="true" target="_blank" rel="noopener noreferrer"><span>JKS format</span></a>.                    </p>                </td></tr><tr id="a6dac5ac" class="ijRowEven"><td id="8c19769b"><p>                    tls-server-cert-keystore-password                </p></td><td id="10852b0e"><p></p></td><td id="73533513"><p>                    Keystore integrity password                </p></td></tr><tr id="172ca2fe" class="ijRowOdd"><td id="01c9ccd4"><p>                    tls-server-cert-keystore-key-alias                </p></td><td id="23de18a4"><p></p></td><td id="bc866026"><p>                    Alias that is associated with the private key/certificate entry in the keystore.                </p></td></tr><tr id="b823db28" class="ijRowEven"><td id="c84c3bf4"><p>                    tls-server-cert-private-key-passphrase                </p></td><td id="9e7ad7f0"><p></p></td><td id="ce4d8315"><p>                    Password that protects your server's private key entry in the keystore.                </p></td></tr></tbody></table></div>        <h2>HTTPS (privateKeyAndCert - additional settings)</h2><div class="table-wrapper"><table class=" wide                  _layout-fixed" width="100%" id="configuration-parameters-https-cert-additional"><thead><tr id="9f2c76c1" class="ijRowHead"><th id="78c21e43"><p>                    Property                </p></th><th id="b0fd6963" width="180"><p>                    Value                </p></th><th id="1ef83008"><p>                    Description                </p></th></tr></thead><tbody><tr id="690aa25a" class="ijRowOdd"><td id="68ec9220"><p>                    tls-server-cert-storage-type                </p></td><td id="79f07d3b"><p>                    privateKeyAndCert                </p></td><td id="316f875f">                    <p id="91123eaa">In this mode the server's private key/certificate pair is taken from the files                        <code class="code" data-lang="Console">internal/cert/privateKeyAndCert/privateKey.pem</code>,                        <code class="code" data-lang="Console">internal/cert/privateKeyAndCert/certificate.crt</code> that are located in the <code class="code" data-lang="Java">conf</code> directory.                        Also, a certificate chain can be defined in the                        file <code class="code" data-lang="Console">internal/cert/privateKeyAndCert/certificateChain.crt</code>. All files are assumed to                        be stored in the PEM format. Private key in PKCS#8 or PKCS#1 format.                    </p>                </td></tr><tr id="f1b40c8d" class="ijRowEven"><td id="2ddfc3e1"><p>tls-server-cert-private-key-passphrase </p></td><td id="b9887579"><p>string</p></td><td id="0e2634bd"><p>If you use an encrypted private key, then use this property to provide the passphrase that was used for encryption. Supported for both PKCS#8 and PKCS#1 formats.</p></td></tr></tbody></table></div>    </div><div class="last-modified" data-skip-index="skip">Last modified: 7 March 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="configure-server-tls-configuration-wizard.html">Configure Built-in TLS in Web-based Configuration Wizard</a><a class="navigation-links__next" href="switch-between-third-party-proxy-and-built-in-tls.html">Switch Between Third-party Proxy and Built-in TLS</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/help/app/v2/app.js"></script></body></html>