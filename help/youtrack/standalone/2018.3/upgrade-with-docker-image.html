<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/help/app/v2/analytics.js"></script><meta charset="UTF-8"><meta name="robots" content="noindex"><title>Upgrade with Docker Container - Help | YouTrack Standalone</title><link rel="stylesheet" href="/help/app/v2/app.css"></head><body data-id="upgrade-with-docker-image"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search YouTrack Standalone Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>YouTrack Standalone 2018.3 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="false"><h1 data-toc="upgrade-with-docker-image" id="upgrade-with-docker-image.xml">Upgrade with Docker Container</h1>        <p id="63c61650">This page describes various scenarios of upgrading an existing YouTrack service using the YouTrack docker image.</p>        <div class="chapter"><h2 id="upgrading-docker-image" data-toc="upgrade-with-docker-image#upgrading-docker-image">Upgrade a Docker Image</h2>            <section class="procedure-steps"><ol class="list _decimal"><li class="list__item" id="4a686a42"><p><a href="Back-Up-the-Database.html">Create a backup</a> of the YouTrack database while your existing YouTrack installation is running.</p></li><li class="list__item" id="6d88371d"><span>Stop the running YouTrack docker container</span>:                    <div class="code-block" data-lang="Console"><code class="code-block__wrapper">docker <span class="nb">exec</span> &lt;CONTAINER_ID&gt; stop</code></div>                    <aside class="tip sideblock" data-title="" rel="6c124cdd" id="1f474591">                        <p id="d3106da6">To get the &lt;CONTAINER_ID&gt;, use the command:                            <div class="code-block" data-lang="Console"><code class="code-block__wrapper">docker ps -a</code></div></p>                    </aside>                </li><li class="list__item" id="b58b7d27"><p>Remove the container with the previous version.                    <div class="code-block" data-lang="Console"><code class="code-block__wrapper">docker rm &lt;CONTAINER_ID&gt;</code></div>                    Otherwise, when you run the new version of the container, the command will fail because of the container names conflicts.                </p></li><li class="list__item" id="b437cd3c">Pull an image of the latest YouTrack version from the <a href="https://hub.docker.com/r/jetbrains/youtrack/" data-external="true" target="_blank" rel="noopener noreferrer"><span>Docker YouTrack Repository</span></a>:                    <div class="code-block" data-lang="Console"><code class="code-block__wrapper">docker pull jetbrains/youtrack:&lt;version&gt;</code></div>                    <p id="98ae8899">Where <code class="code" data-lang="Java">&lt;version&gt;</code> is a full version number of an YouTrack build.</p>                </li><li class="list__item" id="c3a3a19c">Execute the following command to run a container with the new YouTrack version, that you have pulled from the repository.                    All other attributes of the command (volumes and port mappings) must be the same as you have used to                    run the previous version of the YouTrack image:                    <div class="code-block" data-lang="Console"><code class="code-block__wrapper">docker run -it --name &lt;arbitrary-youtrack-container-name&gt; <span class="se">\</span>
-v &lt;path to data directory&gt;:/opt/youtrack/data <span class="se">\</span>
-v &lt;path to conf directory&gt;:/opt/youtrack/conf <span class="se">\</span>
-v &lt;path to logs directory&gt;:/opt/youtrack/logs <span class="se">\</span>
-v &lt;path to backups directory&gt;:/opt/youtrack/backups <span class="se">\</span>
-p &lt;port on host&gt;:8080 <span class="se">\</span>
jetbrains/youtrack:&lt;new version&gt;</code></div>                    <ul class="list _ul"><li class="list__item" id="c9606c0b"><p>In the console output, an URL to the web-based Configuration Wizard is provided.</p></li></ul>                </li><li class="list__item" id="ab42d263"><p>In a browser, open the web-based Configuration Wizard by the URL.</p></li><li class="list__item" id="12a32252"><p>                    Review the upgrade settings.                </p></li><li class="list__item" id="6c199f34">When done, click <span class="control">Upgrade</span>.                    <ul class="list _ul"><li class="list__item" id="e1e47694">YouTrack Standalone launches its components.                            <p id="f0a62fd8">Do not close the page in the browser until the setup is complete.                                When the YouTrack Standalone server is ready, you are redirected to the login page.</p>                        </li></ul>                </li><li class="list__item" id="d9f8d20f">Enter the credentials for the YouTrack Standalone administrator account and click the <span class="control">Log in</span> button.                    <ul class="list _ul"><li class="list__item" id="65842c96"><p>YouTrack opens to the <span class="control">Dashboard</span> page.</p></li></ul>                    <p id="69e98b22">Your YouTrack Standalone installation is upgraded and ready to use.</p>                </li></ol></section>        </div>        <div class="chapter"><h2 id="youtrack-zip-msi-to-docker" data-toc="upgrade-with-docker-image#youtrack-zip-msi-to-docker">Upgrade Another Installation with Docker Image</h2>            <section class="procedure-steps"><ol class="list _decimal"><li class="list__item" id="369c3afb"><p><a href="Back-Up-the-Database.html">Create a backup</a> of the YouTrack database while your existing YouTrack installation is running.</p></li><li class="list__item" id="8d75b8e5"><p><a href="Stop-and-Start-YouTrack.html">Stop the existing YouTrack service</a>.</p></li><li class="list__item" id="1ddea4da">Pull an image of the latest YouTrack version from the <a href="https://hub.docker.com/r/jetbrains/youtrack/" data-external="true" target="_blank" rel="noopener noreferrer"><span>Docker YouTrack Repository</span></a>:                    <div class="code-block" data-lang="Console"><code class="code-block__wrapper">docker pull jetbrains/youtrack:&lt;version&gt;</code></div>                    <p id="30cc6376">Where &lt;version&gt; is a full version number of an YouTrack build.</p>                </li><li class="list__item" id="9b787cde"><a href="youtrack-docker-installation.html#create-and-configure-directories">Create and configure YouTrack-specific directories on the host machine.</a></li><li class="list__item" id="7fe25734"><p>Copy the backup file of the YouTrack database into the <code class="code" data-lang="Java">backups</code> directory, that you created in the previous step.</p></li><li class="list__item" id="cb71d1c7">                    <span>Run the container with YouTrack server and map YouTrack data volumes and port.</span>                    <ul class="list _ul"><li class="list__item" id="07f00323"><p>YouTrack service starts with the web-based Configuration Wizard.                            The URL at which you can access the wizard is displayed in the command output.</p></li></ul>                </li><li class="list__item" id="33dd6916"><p>In a browser, open the URL to access the wizard.                </p></li><li class="list__item" id="9734460d"><p>In the <span class="control">Configuration Wizard</span>, click <span class="control">Upgrade</span>.                    <figure><a class="lightbox" href="/help/img/youtrack/2018.3/yt-upgrade-config-wizard-start.zoomed.png"><img alt="Configuration wizard starts" title="Configuration wizard starts" src="/help/img/youtrack/2018.3/yt-upgrade-config-wizard-start.png" id="367efaba" width="600" height="338"></a></figure>                </p></li><li class="list__item" id="f7954582"><p>On the <span class="control">Select Upgrade Source</span> page, click the <span class="control">Select</span> button and select the backup file as an upgrade source.                    <figure><a class="lightbox" href="/help/img/youtrack/2018.3/docker-upgrade-select-source.zoomed.png"><img alt="Select a source for upgrade" title="Select a source for upgrade" src="/help/img/youtrack/2018.3/docker-upgrade-select-source.png" id="4ddb4e7f" width="600" height="480"></a></figure>                    Click <span class="control">Next</span>.                </p></li><li class="list__item" id="522a9f94"><p>On the <span class="control">Confirm Settings</span> page, confirm your system settings and the location of system directories.                    <figure><a class="lightbox" href="/help/img/youtrack/2018.3/docker-upgrade-confirm-settings.zoomed.png"><img alt="Docker upgrade confirm settings" title="Docker upgrade confirm settings" src="/help/img/youtrack/2018.3/docker-upgrade-confirm-settings.png" id="224e5254" width="600" height="600"></a></figure>                </p></li><li class="list__item" id="af04302c">When done, click <span class="control">Upgrade</span>.                    <ul class="list _ul"><li class="list__item" id="ceb61f79">YouTrack Standalone launches its components.                            <p id="83f619ba">Do not close the page in the browser until the setup is complete.                                When the YouTrack Standalone server is ready, you are redirected to the login page.</p>                        </li></ul>                </li><li class="list__item" id="f5e9fd43">Enter the credentials for the YouTrack Standalone administrator account and click the <span class="control">Log in</span> button.                    <ul class="list _ul"><li class="list__item" id="7f32a9af"><p>YouTrack opens to the <span class="control">Dashboard</span> page.</p></li></ul>                    <p id="6c7761d0">Your YouTrack Standalone installation is upgraded and ready to use.</p>                </li></ol></section>        </div><div class="last-modified" data-skip-index="skip">Last modified: 7 March 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="youtrack-docker-installation.html">Docker Installation</a><a class="navigation-links__next" href="start-stop-docker.html">Run and Stop a Docker Container</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/help/app/v2/app.js"></script></body></html>