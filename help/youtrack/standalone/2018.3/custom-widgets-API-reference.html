<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/help/app/v2/analytics.js"></script><meta charset="UTF-8"><meta name="robots" content="noindex"><title>Custom Widgets API Reference - Help | YouTrack Standalone</title><link rel="stylesheet" href="/help/app/v2/app.css"></head><body data-id="custom-widgets-API-reference"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search YouTrack Standalone Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>YouTrack Standalone 2018.3 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="false"><h1 data-toc="custom-widgets-API-reference" id="custom-widgets-API-reference.xml">Custom Widgets API Reference</h1>    <p id="639f3444">We provide a custom library for JavaScript that includes an API for working with custom widgets.        To install this library, use one of the following implementations:</p>    <ul class="list _ul"><li class="list__item" id="be22754c"><p>Add a reference to the <a href="https://unpkg.com/hub-dashboard-addons@latest" data-external="true" target="_blank" rel="noopener noreferrer"><span>dashboard script on unpkg</span></a> in the header of your <code class="code" data-lang="Java">index.html</code> file.            Wrap the reference inside a <code class="code" data-lang="Java">&lt;script&gt;</code> tag. For example:            <div class="code-block" data-lang="HTML"><code class="code-block__wrapper"><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;https://unpkg.com/hub-dashboard-addons@latest&quot;</span><span class="nt">&gt;&lt;/script&gt;</span></code></div>        </p></li><li class="list__item" id="b1713e88"><p>Use the npm package manager to install the script with the <code class="code" data-lang="Java">npm install hub-dashboard-addons</code> command.            You can then add references to the script in your widget any way you want.        </p></li></ul>    <p id="aa9d7542">The <code class="code" data-lang="Java">Dashboard.registerWidget</code> function accepts a callback that is called with the <code class="code" data-lang="Java">dashboardAPI</code> and <code class="code" data-lang="Java">registerWidgetAPI</code> parameters as shown in the following code sample.        To view this sample in context, refer to the <a href="custom-widget-tutorial.html#create-the-script"><span>Create the Script</span></a>.</p>    <div class="code-block" data-lang="Javascript"><code class="code-block__wrapper"><span class="c1">// Register widget:</span>
<span class="nx">Dashboard</span><span class="p">.</span><span class="nx">registerWidget</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">dashboardAPI</span><span class="p">,</span> <span class="nx">registerWidgetAPI</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Load GitHub profile data</span>
    <span class="nx">loadAndRenderUser</span><span class="p">(</span><span class="nx">USER_NAME</span><span class="p">)</span>

    <span class="c1">// Set the widget title</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">user</span> <span class="o">=&gt;</span> <span class="nx">dashboardAPI</span><span class="p">.</span><span class="nx">setTitle</span><span class="p">(</span><span class="err">`</span><span class="nx">GitHub</span> <span class="nx">User</span> <span class="nx">$</span><span class="p">{</span><span class="nx">user</span><span class="p">.</span><span class="nx">login</span><span class="p">}</span><span class="err">`</span><span class="p">));</span>

    <span class="c1">// Add the refresh button.</span>
    <span class="nx">registerWidgetAPI</span><span class="p">({</span>
        <span class="nx">onRefresh</span><span class="o">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">loadAndRenderUser</span><span class="p">(</span><span class="nx">USER_NAME</span><span class="p">)</span>
    <span class="p">});</span>
<span class="p">});</span></code></div>    <p id="dda2fb76">Use the following reference to build custom widgets for your dashboards.</p>    <div class="chapter"><h2 id="dashboard-API" data-toc="custom-widgets-API-reference#dashboard-API">Dashboard API</h2>        <p id="51520257">Use the dashboard API to communicate with the widget wrapper and the dashboard.            All of these methods are asynchronous and return <code class="code" data-lang="Java">Promise</code> objects.            These methods are applied to the <code class="code" data-lang="Java">dashboardApi</code> object.</p>        <div class="table-wrapper"><table class="                 " width="100%" id="setTitle"><thead><tr id="6eeef534" class="ijRowHead"><th id="cbb8b93c" colspan="3"><p>setTitle(label: string, ?labelUrl: string): void</p></th></tr></thead><tbody><tr id="f6e23096" class="ijRowOdd"><td id="f7befaad" width="20%"><p>Description</p></td><td id="b19d782b" colspan="2"><p>Sets the text that is displayed in the widget header.                    If a value is specified for the <code class="code" data-lang="Java">labelUrl</code> parameter, the text is set as a link to the target URL.</p></td></tr><tr id="9b207910" class="ijRowEven"><td id="1fdf9b06" width="20%" rowspan="2"><p>Parameters</p></td><td id="4982c3d8" width="20%"><code class="code" data-lang="Java">label</code></td><td id="9e4fb009"><p>The text string that is shown as the widget title.</p></td></tr><tr id="01a1e253" class="ijRowOdd"><td id="9cfcfc0b"><code class="code" data-lang="Java">labelURL</code></td><td id="5e4a1e01"><p>The address of the target page that opens when a user clicks the widget title.                    If this optional parameter is not specified, the widget title is set as text only.</p></td></tr><tr id="2f14938a" class="ijRowEven"><td id="455bba0b"><p>Example</p></td><td id="a705f9ae" colspan="2"><p><div class="code-block" data-lang="Java"><code class="code-block__wrapper"><span class="n">dashboardApi</span><span class="o">.</span><span class="na">setTitle</span><span class="o">(</span><span class="err">&#39;</span><span class="n">Some</span> <span class="n">widget</span><span class="err">&#39;</span><span class="o">);</span>
<span class="n">dashboardApi</span><span class="o">.</span><span class="na">setTitle</span><span class="o">(</span><span class="err">&#39;</span><span class="n">A</span> <span class="n">link</span> <span class="n">header</span><span class="err">&#39;</span><span class="o">,</span> <span class="err">&#39;</span><span class="n">https</span><span class="o">:</span><span class="c1">//example.com&#39;);</span></code></div> </p></td></tr></tbody></table></div>        <div class="table-wrapper"><table class="                 " width="100%" id="setLoadingAnimationEnabled"><thead><tr id="78eced2f" class="ijRowHead"><th id="65c7d7cb" colspan="3"><p>setLoadingAnimationEnabled(enabled: boolean): void</p></th></tr></thead><tbody><tr id="3cb0dfd5" class="ijRowOdd"><td id="3c60abf0" width="20%"><p>Description</p></td><td id="9ad4134c" colspan="2"><p>Toggles the image rotation animation for the widget reload icon.                    Call this method when the widget populates data from a remote server to indicate that a process is running in the background.</p></td></tr><tr id="0b560087" class="ijRowEven"><td id="f7bcb181"><p>Parameters</p></td><td id="83ac7473" width="10%"><code class="code" data-lang="Java">enabled</code></td><td id="4ba42ef0"><p>Determines whether the widget reload icon rotates or not.</p></td></tr></tbody></table></div>        <div class="table-wrapper"><table class="                 " width="100%" id="alert"><thead><tr id="1332ba7f" class="ijRowHead"><th id="3b3c0a3b" colspan="3"><p>alert(message: string, ?type: string, ?timeout: number): string</p></th></tr></thead><tbody><tr id="32803e5f" class="ijRowOdd"><td id="362fa5e4" width="20%"><p>Description</p></td><td id="88586953" colspan="2"><p>Displays a system alert at the top of the page.</p></td></tr><tr id="bf8d1fd7" class="ijRowEven"><td id="5c8fde8e" rowspan="3"><p>Parameters</p></td><td id="8814baf4" width="20%"><code class="code" data-lang="Java">message</code></td><td id="ec834bec"><p>Sets the text that is displayed as the system alert.</p></td></tr><tr id="f4566ded" class="ijRowOdd"><td id="c4d3c455"><code class="code" data-lang="Java">type</code></td><td id="9535ceed"><p>Determines which notification style is applied to the alert.                    Possible values include <code class="code" data-lang="Java">error</code>, <code class="code" data-lang="Java">message</code>, <code class="code" data-lang="Java">success</code>, and <code class="code" data-lang="Java">warning</code>.</p></td></tr><tr id="26e04e1a" class="ijRowEven"><td id="e4afd253"><code class="code" data-lang="Java">timeout</code></td><td id="6ff5dda3"><p>The amount of time the alert is shown on the page, in seconds.</p></td></tr><tr id="41b4677a" class="ijRowOdd"><td id="fbb2e069"><p>Example</p></td><td id="76d85acb" colspan="2"><p><div class="code-block" data-lang="Java"><code class="code-block__wrapper"><span class="n">dashboardApi</span><span class="o">.</span><span class="na">alert</span><span class="o">(</span><span class="err">&#39;</span><span class="n">This</span> <span class="n">is</span> <span class="n">a</span> <span class="n">standard</span> <span class="n">notification</span><span class="err">&#39;</span><span class="o">,</span> <span class="err">&#39;</span><span class="n">message</span><span class="err">&#39;</span><span class="o">);</span>
<span class="n">dashboardApi</span><span class="o">.</span><span class="na">alert</span><span class="o">(</span><span class="err">&#39;</span><span class="n">This</span> <span class="n">is</span> <span class="n">an</span> <span class="n">error</span><span class="err">&#39;</span><span class="o">,</span> <span class="err">&#39;</span><span class="n">error</span><span class="err">&#39;</span><span class="o">,</span> <span class="mi">10000</span><span class="o">);</span></code></div> </p></td></tr></tbody></table></div>        <div class="table-wrapper"><table class="                 " width="100%" id="enterConfigMode"><thead><tr id="76d77b49" class="ijRowHead"><th id="38637707" colspan="2"><p>enterConfigMode(): void</p></th></tr></thead><tbody><tr id="465c9812" class="ijRowOdd"><td id="8ce3a2fc" width="20%"><p>Description</p></td><td id="81040739"><p>Invokes configuration mode.                    When in configuration mode, the visual presentation of the widget changes to indicate that its settings can be updated.                    The <span class="control">refresh</span> icon is also hidden.</p></td></tr></tbody></table></div>        <div class="table-wrapper"><table class="                 " width="100%" id="exitConfigMode"><thead><tr id="5e7bf5ed" class="ijRowHead"><th id="f2e9d849" colspan="2"><p>exitConfigMode(): void</p></th></tr></thead><tbody><tr id="eb40ecc0" class="ijRowOdd"><td id="bf94da6f" width="20%"><p>Description</p></td><td id="5e53c3de"><p>Exits configuration mode.</p></td></tr></tbody></table></div>        <div class="table-wrapper"><table class="                 " width="100%" id="storeCache"><thead><tr id="f7fe1934" class="ijRowHead"><th id="25b23e77" colspan="3"><p>storeCache(cache: Object): Object</p></th></tr></thead><tbody><tr id="86ba1afb" class="ijRowOdd"><td id="915d85e1" width="20%"><p>Description</p></td><td id="33a46b1c" colspan="2"><p>Stores any object in the client-side cache.                    Use this method to store populated data locally and display it immediately on the dashboard, then refresh it from server.                    Returns a configuration object.</p></td></tr><tr id="e25081e4" class="ijRowEven"><td id="6e6e1cc1"><p>Parameters</p></td><td id="93a30496" width="20%"><code class="code" data-lang="Java">cache</code></td><td id="95d468cd"><p>Specifies the object to be stored in the cache.</p></td></tr></tbody></table></div>        <div class="table-wrapper"><table class="                 " width="100%" id="readCache"><thead><tr id="bc2a3299" class="ijRowHead"><th id="db53018a" colspan="2"><p>readCache(): Object</p></th></tr></thead><tbody><tr id="4d1dfe44" class="ijRowOdd"><td id="1a15b517" width="20%"><p>Description</p></td><td id="ab852b67"><p>Reads and returns the object that was previously stored in the cache.</p></td></tr></tbody></table></div>        <div class="table-wrapper"><table class="                 " width="100%" id="storeConfig"><thead><tr id="6f4ea522" class="ijRowHead"><th id="b22a2016" colspan="3"><p>storeConfig(config: Object): void</p></th></tr></thead><tbody><tr id="70cff635" class="ijRowOdd"><td id="926bb568" width="20%"><p>Description</p></td><td id="40196b49" colspan="2"><p>Stores any object as a widget configuration.                    Exits configuration mode if configuration mode is active.</p></td></tr><tr id="aec9416f" class="ijRowEven"><td id="ea6208d1"><p>Parameters</p></td><td id="4f0ef967" width="20%"><code class="code" data-lang="Java">config</code></td><td id="1ea8c78f"><p>Specifies the object to be stored as a widget configuration.</p></td></tr></tbody></table></div>        <div class="table-wrapper"><table class="                 " width="100%" id="readConfig"><thead><tr id="0e82662e" class="ijRowHead"><th id="de80e870" colspan="2"><p>readConfig(): Object</p></th></tr></thead><tbody><tr id="2e622ad3" class="ijRowOdd"><td id="83854dba" width="20%"><p>Description</p></td><td id="2a3e82ee"><p>Reads and returns the object that was previously stored as a configuration object.</p></td></tr></tbody></table></div>        <div class="table-wrapper"><table class="                 " width="100%" id="fetch"><thead><tr id="05b6e520" class="ijRowHead"><th id="bc119a0e" colspan="3"><p>fetch(serviceID: string, url: string, fetchConfig: Object): Object</p></th></tr></thead><tbody><tr id="c8b4883d" class="ijRowOdd"><td id="1d9754d6" width="20%"><p>Description</p></td><td id="84abfef2" colspan="2"><p>Makes an authorized request to the specified service.                    The service must be specified in the widget manifest.</p></td></tr><tr id="3d778e07" class="ijRowEven"><td id="6449ecfa" rowspan="3"><p>Parameters</p></td><td id="425bf2be" width="20%"><code class="code" data-lang="Java">serviceID</code></td><td id="e953682c"><p>Specifies the ID of the service.                    To get the service ID, use <a href="#fetchHub">fetchHub</a> first.                    For details, refer to the <a href="/help/hub/Hub-Rest-Api-URL.html" data-external="true" target="_blank" rel="noopener noreferrer"><span>Hub REST API</span></a>.</p></td></tr><tr id="8e0886e6" class="ijRowOdd"><td id="75bad22f"><code class="code" data-lang="Java">url</code></td><td id="eb10ba4e"><p>Sets the URL to the service API endpoint.                    This is the path to the resource that you want to fetch.                    The URL is relative to the server home URL.</p></td></tr><tr id="7668b0a2" class="ijRowEven"><td id="2b3cae8d"><code class="code" data-lang="Java">fetchConfig</code></td><td id="f2b0a95b"><p>Defines an optional options object.                    This object contains any custom settings that you want to apply to the request.</p></td></tr><tr id="8b52e8cd" class="ijRowOdd"><td id="b7cc050c"><p>Example</p></td><td id="5609621f" colspan="2"><p><div class="code-block" data-lang="Java"><code class="code-block__wrapper"><span class="n">dashboardApi</span><span class="o">.</span><span class="na">fetch</span><span class="o">(</span><span class="n">serviceId</span><span class="o">,</span> <span class="err">&#39;</span><span class="n">api</span><span class="o">/</span><span class="n">users</span><span class="err">&#39;</span><span class="o">)</span>
    <span class="o">.</span><span class="na">then</span><span class="o">(</span><span class="n">users</span> <span class="o">=&gt;</span> <span class="n">console</span><span class="o">.</span><span class="na">log</span><span class="o">(</span><span class="n">users</span><span class="o">));</span></code></div>                    The following example shows how to use this method in a POST request:                    <div class="code-block" data-lang="Java"><code class="code-block__wrapper"><span class="n">dashboardApi</span><span class="o">.</span><span class="na">fetch</span><span class="o">(</span><span class="n">serviceId</span><span class="o">,</span> <span class="err">&#39;</span><span class="n">api</span><span class="o">/</span><span class="n">users</span><span class="err">&#39;</span><span class="o">,</span> <span class="o">{</span>
    <span class="n">method</span><span class="o">:</span> <span class="err">&#39;</span><span class="n">POST</span><span class="err">&#39;</span><span class="o">,</span>
    <span class="n">body</span><span class="o">:</span> <span class="o">{</span><span class="n">payload</span><span class="o">:</span> <span class="err">&#39;</span><span class="n">test</span><span class="err">&#39;</span><span class="o">}</span>
<span class="o">})</span>
    <span class="o">.</span><span class="na">then</span><span class="o">(</span><span class="n">result</span> <span class="o">=&gt;</span> <span class="n">console</span><span class="o">.</span><span class="na">log</span><span class="o">(</span><span class="n">result</span><span class="o">));</span></code></div> </p></td></tr></tbody></table></div>        <div class="table-wrapper"><table class="                 " width="100%" id="fetchHub"><thead><tr id="86b40630" class="ijRowHead"><th id="906dae35" colspan="3"><p> fetchHub(url: string, fetchConfig: Object): Object</p></th></tr></thead><tbody><tr id="a2f011f9" class="ijRowOdd"><td id="c78b0a01" width="20%"><p>Description</p></td><td id="76f0ff11" colspan="2"><p>Makes an authorized request to the Hub service.</p></td></tr><tr id="baf9aba8" class="ijRowEven"><td id="055eef1b" rowspan="2"><p>Parameters</p></td><td id="dc45f2bf" width="20%"><code class="code" data-lang="Java">url</code></td><td id="f313c696"><p>Sets the URL to the Hub service API endpoint.                    This is the path to the resource that you want to fetch.                    The URL is relative to the server home URL.                    For more information, refer to the <a href="/help/hub/Hub-Rest-Api-URL.html" data-external="true" target="_blank" rel="noopener noreferrer"><span>Hub documentation</span></a>.</p></td></tr><tr id="7b09b20c" class="ijRowOdd"><td id="397fc449"><code class="code" data-lang="Java">fetchConfig</code></td><td id="cbf41181"><p>Defines an optional options object.                    This object contains any custom settings that you want to apply to the request.</p></td></tr><tr id="d108939e" class="ijRowEven"><td id="1768205e"><p>Example</p></td><td id="abfbf447" colspan="2"><p><div class="code-block" data-lang="Java"><code class="code-block__wrapper"><span class="n">dashboardApi</span><span class="o">.</span><span class="na">fetchHub</span><span class="o">(</span><span class="err">&#39;</span><span class="n">api</span><span class="o">/</span><span class="n">rest</span><span class="o">/</span><span class="n">users</span><span class="o">/</span><span class="n">me</span><span class="o">?</span><span class="n">fields</span><span class="o">=</span><span class="n">name</span><span class="o">,</span><span class="n">login</span><span class="o">,</span><span class="n">profile</span><span class="o">(</span><span class="n">avatar</span><span class="o">(</span><span class="n">url</span><span class="o">))</span><span class="err">&#39;</span><span class="o">)</span>
    <span class="o">.</span><span class="na">then</span><span class="o">(</span><span class="n">response</span> <span class="o">=&gt;</span> <span class="n">console</span><span class="o">.</span><span class="na">log</span><span class="o">(</span><span class="n">response</span><span class="o">));</span></code></div>                    The following example shows how to use this method in a POST request:                    <div class="code-block" data-lang="Java"><code class="code-block__wrapper"><span class="n">dashboardApi</span><span class="o">.</span><span class="na">fetchHub</span><span class="o">(</span><span class="err">&#39;</span><span class="n">api</span><span class="o">/</span><span class="n">rest</span><span class="o">/</span><span class="n">users</span><span class="o">/</span><span class="n">me</span><span class="err">&#39;</span><span class="o">,</span> <span class="o">{</span>
    <span class="n">method</span><span class="o">:</span> <span class="err">&#39;</span><span class="n">POST</span><span class="err">&#39;</span><span class="o">,</span>
    <span class="n">body</span><span class="o">:</span> <span class="o">{</span><span class="n">favoriteProjects</span><span class="o">:</span> <span class="o">[]}</span>
<span class="o">})</span>
    <span class="o">.</span><span class="na">then</span><span class="o">(</span><span class="n">response</span> <span class="o">=&gt;</span> <span class="n">console</span><span class="o">.</span><span class="na">log</span><span class="o">(</span><span class="n">response</span><span class="o">));</span></code></div> </p></td></tr></tbody></table></div>        <div class="table-wrapper"><table class="                 " width="100%" id="removeWidget"><thead><tr id="f0803927" class="ijRowHead"><th id="6544707c" colspan="2"><p>removeWidget(): void</p></th></tr></thead><tbody><tr id="c2477101" class="ijRowOdd"><td id="9120f66c" width="20%"><p>Description</p></td><td id="c218f9a5"><p>Removes the custom widget from the dashboard.</p></td></tr></tbody></table></div>    </div>    <div class="chapter"><h2 id="widget-API" data-toc="custom-widgets-API-reference#widget-API">Widget API</h2>        <p id="1295d09d">Use the widget API to manipulate the visibility of controls on your custom widget.            These methods are also asynchronous and return <code class="code" data-lang="Java">Promise</code> objects.            These methods are applied to the <code class="code" data-lang="Java">widgetApi</code> object.</p>        <div class="table-wrapper"><table class="                 " width="100%" id="onRefresh"><thead><tr id="2958faa7" class="ijRowHead"><th id="e4dc4e9d" colspan="2"><p>onRefresh(): void</p></th></tr></thead><tbody><tr id="c63eefe2" class="ijRowOdd"><td id="7d9d6901" width="20%"><p>Description</p></td><td id="5127d118"><p>Calls an action when the <span class="control">refresh</span> icon is clicked in the widget header.                    If not set, the <span class="control">refresh</span> icon is not shown in the header.</p></td></tr></tbody></table></div>        <div class="table-wrapper"><table class="                 " width="100%" id="onConfigure"><thead><tr id="cc748958" class="ijRowHead"><th id="81d00072" colspan="2"><p>onConfigure(): void</p></th></tr></thead><tbody><tr id="08bc2693" class="ijRowOdd"><td id="c2e3eca8" width="20%"><p>Description</p></td><td id="d81e8218"><p>Calls an action when the <span class="control">Edit</span> option is selected from the widget menu.                    If not set, the <span class="control">Edit</span> option is not shown.</p></td></tr></tbody></table></div>    </div><div class="last-modified" data-skip-index="skip">Last modified: 7 March 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="test-custom-widgets.html">Test a Custom Widget</a><a class="navigation-links__next" href="sample-custom-widgets.html">Sample Custom Widgets</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/help/app/v2/app.js"></script></body></html>