<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>Jenkins Integration - Help | YouTrack InCloud</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body data-id="jenkins-integration" data-breadcrumbs="Administration.xml|Administration/Integrations.xml|Integrations/build-server-integration.xml|Build Server Integration/jenkins-integration.xml|Jenkins Integration" data-main-title="Jenkins Integration" data-article-props="&#xA;                {&#xA;                &#xA;            &#34;seeAlso&#34;:[&#xA;            &#xA;                {&#34;title&#34;: &#34;How-Tos&#34;,&#xA;                 &#34;links&#34;: [&#xA;                &#xA;        {&#34;url&#34;:&#34;VCS-Changes.html&#34;,&#34;text&#34;:&#34;View and Edit VCS Changes&#34;}&#xA;    ,&#xA;        {&#34;url&#34;:&#34;Map-Issues-to-VCS-Change-Commit.html&#34;,&#34;text&#34;:&#34;Link Issues in VCS Commits&#34;}&#xA;    ,&#xA;        {&#34;url&#34;:&#34;Apply-Commands-in-VCS-Commits.html&#34;,&#34;text&#34;:&#34;Apply Commands in VCS Commits&#34;}&#xA;    ,&#xA;        {&#34;url&#34;:&#34;Add-a-Comment.html#add-comment-vcs-commits&#34;,&#34;text&#34;:&#34;Generate Comments from VCS Commits&#34;}&#xA;    &#xA;                    ]},&#xA;                {&#34;title&#34;: &#34;Project Administration&#34;,&#xA;                 &#34;links&#34;: [&#xA;                &#xA;        {&#34;url&#34;:&#34;map-project-to-jenkins.html&#34;,&#34;text&#34;:&#34;Integrate with Jenkins&#34;}&#xA;    &#xA;                    ]}&#xA;            ]&#xA;        &#xA;                }&#xA;            "><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search YouTrack InCloud Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>YouTrack InCloud 2019.2 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="jenkins-integration" id="jenkins-integration.xml">Jenkins Integration</h1>  <p id="0edf364b">Follow the instructions on this page to establish a connection between a YouTrack project and a job in Jenkins.    The integration between YouTrack and Jenkins enables useful features in both applications:</p>  <ul class="list _bullet"><li class="list__item" id="f0178c35"><p>Pull build numbers from connected projects and automatically update the values in custom fields that store build numbers for resolved issues.        </p></li><li class="list__item" id="5537919b"><p>Add VCS change records to issues that are mentioned commit messages.      To learn more about VCS changes in YouTrack issues, see <a href="VCS-Changes.html">View and Edit VCS Changes</a>.</p></li><li class="list__item" id="e3815c63"><p>Apply commands to issues in commit messages when Jenkins assembles a build that contains the commit.      To learn how to format commands in commit messages, see <a href="Apply-Commands-in-VCS-Commits.html">Apply Commands in VCS Commits</a>.</p></li></ul>  <aside data-type="note" class="prompt" data-title="Compatibility" rel="b30d1a4a" id="49c08ab8">    <p id="df862722">You can integrate YouTrack with Jenkins 1.651.3 (1.x branch) or 2.15 (2.x branch) or later.</p></aside>  <div class="chapter"><h2 id="prerequisites-teamcity-integration" data-toc="jenkins-integration#prerequisites-teamcity-integration">Prerequisites</h2>    <p id="800f85e4">Before you start, verify the following requirements:</p>    <ul class="list _ul"><li class="list__item" id="8f5aa535"><p>You have a Jenkins installation that runs version 1.651.3 (1.x branch) or 2.15 (2.x branch) or later.</p></li><li class="list__item" id="4f776abe"><p>Your Jenkins account has read access for the views that contain the job that you want to link to your project in YouTrack.</p></li><li class="list__item" id="5edeee4d"><p id="e8c1a7b7">The YouTrack projects that you want to integrate with Jenkins use a custom field that stores a value as a build type.        You can use the default custom field <span class="control">Fixed in build</span> or any other custom field that stores a build type.</p>        <p id="a3e398e4">If you don't want to add build numbers to issues, you can enable the integration without mapping build numbers to a custom field in YouTrack.          In this case, your developers can still mention issues and apply commands in VCS commit messages.</p></li><li class="list__item" id="46c7a672"><p>To map VCS usernames in the linked repository to user accounts in YouTrack, the project in Jenkins must be configured to use the commit author in the changelog.        Use the following navigation path to locate this setting: <span data-skip-index="skip" class="menupath">Project &gt; Configure &gt; Source Code Management &gt; Additional Behaviours &gt; Use Commit Author In Changelog</span>.</p></li><li class="list__item" id="64b159cf"><p>To enable linking from VCS changes that are shown in issue view to a diff, you need to install the <a href="https://plugins.jenkins.io/last-changes" data-external="true" target="_blank" rel="noopener noreferrer">Last Changes</a> plugin in Jenkins.</p></li></ul>  </div>  <div class="chapter"><h2 id="configure-connection" data-toc="jenkins-integration#configure-connection">Connect to a Jenkins Server</h2>    <p id="378b6e39">To enable the integration, you need to connect to one or more Jenkins servers.    This operation can also be performed by a project administrator on a per-project basis.    For more information, see <a href="map-project-to-jenkins.html">Integrate with Jenkins</a>.</p>    <p id="f0a6fa7e">As an administrator, you can enable the Jenkins integration for any project in YouTrack.</p>    <section class="procedure-steps"><h3 id="connect-procedure">To connect to a Jenkins server:</h3><aside data-type="tip" class="prompt" data-title="" rel="connect-procedure" id="699ba173"><p>Requires permissions: Update Project</p></aside><ol class="list _decimal"><li class="list__item" id="b501322c"><p>In the <span class="control">Integrations</span> section of the <span class="control">Administration</span> menu, select <span class="control">Build Server Integration</span>.</p></li><li class="list__item" id="6f7576fd"><p id="4e7b989f">On the <span class="control">Build Server Integration Settings</span> page, click the <span class="control">Add New Build Server</span> link.</p>        <ul class="list _ul"><li class="list__item" id="4591f365"><p>The <span class="control">Add Build Server</span> dialog opens in the sidebar.            <figure><a class="lightbox" href="/help/img/youtrack/2019.2/add-jenkins-server.zoomed.png"><img alt="add Jenkins server" title="add Jenkins server" src="/help/img/youtrack/2019.2/add-jenkins-server.png" id="c65bd110" width="600" height="348"></a></figure></p></li></ul></li><li class="list__item" id="1fb9acca"><p id="c9ab09ea">Enter values for the following settings:</p>        <div class="table-wrapper"><table width="100%" id="41ba0e44"><thead><tr id="e9055c61" class="ijRowHead"><th id="23a208f6" width="20%"><p>Setting</p></th><th id="30bd9425"><p>Description</p></th></tr></thead><tbody><tr id="972c521e" class="ijRowOdd"><td id="8d68d972"><p>URL</p></td><td id="426e0521"><p>Enter the URL of the Jenkins server.</p></td></tr><tr id="5bb8323d" class="ijRowEven"><td id="c03772d6"><p>Type</p></td><td id="f8043017"><p>Select <span class="control">Jenkins</span>.</p></td></tr><tr id="ed4de820" class="ijRowOdd"><td id="89cae04b"><p>Login</p></td><td id="c01abfe8"><p>Enter the username of the Jenkins user account.</p></td></tr><tr id="fc212ad3" class="ijRowEven"><td id="8af30079"><p>Password</p></td><td id="0961d7db"><p>Enter the password for the Jenkins user account.</p></td></tr></tbody></table></div>      </li><li class="list__item" id="e4c90abc"><p id="97f685bf">Expand the <span class="control">Advanced settings</span> section and configure the following optional settings:</p>        <div class="table-wrapper"><table width="100%" id="33e3bc55"><thead><tr id="62aa9895" class="ijRowHead"><th id="0e203164" width="20%"><p>Setting</p></th><th id="34f6168d"><p>Description</p></th></tr></thead><tbody><tr id="d4a99e41" class="ijRowOdd"><td id="377a4efb"><p>SSL key</p></td><td id="cd488d6f"><p>If the Jenkins server requires a secure connection and you have uploaded an SSL client key to authenticate your YouTrack service,              select the client key from the drop-down list.              For more information, see <a href="SSL-Key-Stores.html">SSL Keys</a>.</p></td></tr><tr id="70b1c94e" class="ijRowEven"><td id="eb916e95"><p>Socket timeout</p></td><td id="eae9b367"><p>Set the maximum amount of time to wait for a response from the Jenkins server before disconnecting the socket.              The default is 30 seconds.</p></td></tr><tr id="e94fbfe3" class="ijRowOdd"><td id="9d3447ee"><p>Read timeout</p></td><td id="f8da63fc"><p>Set the maximum amount of time to wait for complete data transfer from the Jenkins server before closing the connection.              The default is 30 seconds.</p></td></tr></tbody></table></div>      </li><li class="list__item" id="14b35214"><p id="1afc4ebc">Click the <span class="control">Test connection</span> button.</p>        <ul class="list _ul"><li class="list__item" id="9b385c35"><p>YouTrack verifies the connection to the Jenkins server.</p></li></ul></li><li class="list__item" id="480c854d"><p id="1a2cc704">Click the <span class="control">Add server</span> button.</p>        <ul class="list _ul"><li class="list__item" id="4cdb0ae4"><p>The Jenkins server connection settings are saved.</p></li></ul></li></ol></section>    <p id="86202141">Repeat these steps to add connections to additional Jenkins servers.</p>  </div>  <div class="chapter"><h2 id="define-mapping" data-toc="jenkins-integration#define-mapping">Define the Mapping between Projects</h2>    <p id="99695dbe">When you connect to a Jenkins server, you must create a mapping between a YouTrack project and a Jenkins job.      As an administrator, you can either map the projects yourself, or let the project administrators map their own projects and jobs.      For detailed instructions that are appropriate for project administrators, see <a href="map-project-to-jenkins.html">Integrate with Jenkins</a>.</p>    <p id="79c7aab3">The first group of settings connect YouTrack to a job for a project on a Jenkins server.      Additional options for the default branch let you define which issues are assigned build numbers.      You can also specify the commands to apply to all of the issues that are processed by YouTrack.</p>    <section class="procedure-steps"><h3 id="mapping-procedure">To define a mapping between YouTrack and Jenkins:</h3><aside data-type="tip" class="prompt" data-title="" rel="mapping-procedure" id="7235c659"><p>Requires permissions: Update Project</p></aside><ol class="list _decimal"><li class="list__item" id="7606c2fd"><p>Select a Jenkins server in the list of build server integrations.</p></li><li class="list__item" id="8074e1f4"><p id="316ca46e">Click the <span class="control">Add New Mapping</span> button.</p>        <ul class="list _ul"><li class="list__item" id="35885f99"><p>The <span class="control">Create Mapping</span> dialog opens in the sidebar.            <figure><a class="lightbox" href="/help/img/youtrack/2019.2/jenkins-create-mapping.zoomed.png"><img alt="Jenkins mapping options" title="Jenkins mapping options" src="/help/img/youtrack/2019.2/jenkins-create-mapping.png" id="9ac9e2a6" width="600" height="349"></a></figure></p></li></ul></li><li class="list__item" id="424329ec"><p id="0b7cdf20">Enter values for the following settings:</p>        <div class="table-wrapper"><table width="100%" id="28361867"><thead><tr id="8af81839" class="ijRowHead"><th id="01455e35" width="20%"><p>Setting</p></th><th id="678848a1"><p>Description</p></th></tr></thead><tbody><tr id="5495d8dc" class="ijRowOdd"><td id="69ec118a"><p>YouTrack Project</p></td><td id="9a70c383"><p>Select the YouTrack project that you want to map to a project in Jenkins.</p></td></tr><tr id="645185b0" class="ijRowEven"><td id="29c76c17"><p>Jenkins Server</p></td><td id="b62e16be"><p>Select the Jenkins server that contains the project that you want to map to.              If you are only connected to one Jenkins server, it is set by default.</p></td></tr><tr id="0a52edf6" class="ijRowOdd"><td id="8145f915"><p>Jenkins View</p></td><td id="fc205a59"><p>Select the name of the view that includes the Jenkins project.</p></td></tr><tr id="c2c1ac08" class="ijRowEven"><td id="4a06b8b2"><p>Jenkins Job</p></td><td id="5fe47cca"><p>Select the job in the Jenkins project.</p></td></tr><tr id="8724ce9e" class="ijRowOdd"><td id="57cb5ed2"><p>Process changes</p></td><td id="186de87c"><p id="3efb6ba6">Choose how YouTrack handles VCS changes in builds that are processed by Jenkins.              The following options are available:</p>              <ul class="list _ul"><li class="list__item" id="ccf767b7"><p><span class="control">Do not attach</span> — VCS changes that include references to YouTrack issue IDs are not added to the activity stream in the referenced issue.                  Use this option when you only want the integration to add build numbers to custom fields.</p></li><li class="list__item" id="27682698"><p><span class="control">Attach</span> — VCS changes that include references to YouTrack issue IDs are added to the activity stream in the referenced issue.                  The entry in the activity stream contains a link to the build that contains the change.                  The commit message is not parsed for YouTrack commands.</p></li><li class="list__item" id="a685ee38"><p><span class="control">Attach and apply commands</span> — VCS changes that include references to YouTrack issue IDs are added to the activity stream in the referenced issue.                  The entry in the activity stream contains a link to the build that contains the change.                  The commit message is also parsed for YouTrack commands.</p></li></ul></td></tr><tr id="62cb5b82" class="ijRowEven"><td id="f3f1b6fe"><p>Visible to</p></td><td id="f6edadef"><p>To restrict the visibility of comments and updates that are shown as <span class="control">VCS changes</span> in the activity stream, select one or more groups from the list.              Otherwise, this activity type is visible to any user who has permission to read issues in the project.</p></td></tr><tr id="863bef86" class="ijRowOdd"><td id="afefa7ca"><p>Parse commits for issue comments</p></td><td id="b3ae5aad"><p id="211975e7">When enabled, specific segments of commit message text are copied to issues as comments.              When you copy parts of the commit message to the issue as comments, you can trigger @mention notifications and expose information to users who don't have access to VCS changes.</p>              <p id="dcb9c590">This setting does not affect how commit messages are shown in VCS changes.                The entire commit message, including commands and issue comments, is always shown as part of the VCS change record in the activity stream.</p>              <p id="5e6d97e1">You should only enable this option when:</p>              <ul class="list _ul"><li class="list__item" id="aae61c0f"><p>You want to mention other users in your commit messages and generate notifications when the text is copied to an issue comment.</p></li><li class="list__item" id="5114e0d7"><p>You restrict the visibility for VCS changes and want to make commit-related information visible to external users as comments.</p></li></ul>              <p id="c3b997a4">To learn more about how YouTrack processes commit messages, see <a href="Apply-Commands-in-VCS-Commits.html">Apply Commands in VCS Commits</a>.</p></td></tr></tbody></table></div>        <p id="7994541a">If you don't want to add build numbers to issues, continue from step 8.</p>      </li><li class="list__item" id="a18f5281"><p>Click to expand the <span class="control">Actions for Default Branch</span> settings.        These settings determine which actions are applied to builds in the default branch.        <figure><a class="lightbox" href="/help/img/youtrack/2019.2/actions-for-default-branch.zoomed.png"><img alt="actions for default branch" title="actions for default branch" src="/help/img/youtrack/2019.2/actions-for-default-branch.png" id="5b17ce6d" width="600" height="346"></a></figure>        </p></li><li class="list__item" id="9285ac1f"><p id="6c1e16ea">Configure the options in the <span class="control">Process</span> section of the form.        These options determine which builds are processed by the integration and which issues are assigned build numbers.</p>        <div class="table-wrapper"><table width="100%" id="f2a6cdaa"><thead><tr id="b7314d07" class="ijRowHead"><th id="9e1182e4" width="20%"><p>Option</p></th><th id="46f49183"><p>Description</p></th></tr></thead><tbody><tr id="5fafa46a" class="ijRowOdd"><td id="e3fbc9ce"><p>Failed builds</p></td><td id="b1eb89b7"><p>Adds build numbers to issues for all builds, including failed builds.              When disabled, only successful builds are added to issues in YouTrack.</p></td></tr><tr id="ba0148b4" class="ijRowEven"><td id="2608a47f"><p>Add each build</p></td><td id="6d177fcf"><p>Determines which build numbers are added to the set of values for the custom field that is stored in the <span class="control">Build field</span> setting.              Enable to add builds to the set of values in the build field even when there aren't any YouTrack issues that were processed in the build.              The builds that are considered for this option are affected by the <span class="control">Failed builds</span> setting.</p></td></tr><tr id="5becdf2b" class="ijRowOdd"><td id="654bf59d"><p>Related issues</p></td><td id="da2d286e"><p id="793baffc">Adds build numbers to issues that are mentioned in commits and build comments.              When disabled, YouTrack ignores mentioned issues.</p>              <p id="f73fb54f">Use this option together with the <span class="control">Issues matching query</span> setting to determine which issues are assigned build numbers.</p></td></tr><tr id="4142ae78" class="ijRowEven"><td id="228acbf4"><p>Issues matching query</p></td><td id="84182cf6"><p id="0a45ce05">Adds build numbers to issues that match a specific filter criteria.              The standard search query is <code class="code">State: Fixed State: Verified resolved date: ${build.time}..${prev.build.time}</code>.              This query ensures that only issues that are resolved since the last successful build and the current build are considered.</p>              <p id="70485fd5">Use this setting together with the <span class="control">Related issues</span> option to determine which issues are assigned build numbers.</p></td></tr></tbody></table></div>      </li><li class="list__item" id="e84afe98"><p>For the <span class="control">Build field</span>, choose the custom field in your project that stores build numbers from Jenkins.        The selection is restricted to custom fields that store a <code class="code">build</code> type.</p></li><li class="list__item" id="04c1815d"><p>In the <span class="control">Apply command</span> field, enter an optional command to apply to all issues that are assigned build numbers in YouTrack.        Use the <code class="code">${build}</code> variable to reference the build number in Jenkins. For example:        <code class="code">Subsystem Testing Test in build ${build}</code>        With this command, all issues that are processed by YouTrack are assigned to the <span class="control">Testing</span> subsystem        and the <span class="control">Test in build</span> field is set to the build number.</p></li><li class="list__item" id="7263409e"><p id="59c4b845">Click the <span class="control">Create Mapping</span> button.</p>        <ul class="list _ul"><li class="list__item" id="003aa795"><p>The YouTrack project is mapped to the job in Jenkins.</p></li><li class="list__item" id="46c7bf7f"><p>The Jenkins integration is enabled and available for use in the selected YouTrack project.</p></li></ul></li></ol></section>  </div>  <div class="chapter"><h2 id="placeholders-teamcity-attributes" data-toc="jenkins-integration#placeholders-teamcity-attributes">Placeholders</h2>    <p id="8ba86385">You can use placeholders in the <span class="control">Query</span> and <span class="control">Command</span> settings.      These placeholders reference attributes that are stored for builds in Jenkins.      The placeholder is replaced with the corresponding value in the connected version control system when the builds are processed by YouTrack.      The following placeholders are available:</p>    <div class="table-wrapper"><table width="100%" id="25c1b24a"><thead><tr id="16979889" class="ijRowHead"><th id="45671afc" width="20%"><p>Placeholder</p></th><th id="b25914eb"><p>Description</p></th></tr></thead><tbody><tr id="2f0262f0" class="ijRowOdd"><td id="607701e5"><p>${build.time}</p></td><td id="4d403e20"><p>The date and time of the build that is processed by YouTrack.</p></td></tr><tr id="6976d320" class="ijRowEven"><td id="aa753045"><p>${prev.build.time}</p></td><td id="3c752333"><p>The date and time of the build prior to the build that is processed by YouTrack.</p></td></tr><tr id="cfd30b67" class="ijRowOdd"><td id="f8db6ec8"><p>${build}</p></td><td id="de092c80"><p>The number of the build that is processed by YouTrack.</p></td></tr></tbody></table></div>  </div>  <div class="last-modified" data-skip-index="skip">Last modified: 29 November 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="build-server-integration.html">Build Server Integration</a><a class="navigation-links__next" href="Integration-with-TeamCity.html">TeamCity Integration</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>