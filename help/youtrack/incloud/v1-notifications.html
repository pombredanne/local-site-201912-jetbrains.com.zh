<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>notifications - Help | YouTrack InCloud</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body data-id="v1-notifications" data-breadcrumbs="Administration.xml|Administration/Workflow-Guide.xml|Workflows/Workflows-in-JavaScript.xml|JavaScript Workflow Reference/YouTrack-Api-Documentation.xml|YouTrack Workflow API/v1-notifications.xml|notifications" data-main-title="notifications"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search YouTrack InCloud Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>YouTrack InCloud 2019.2 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="v1-notifications" id="v1-notifications.xml">notifications</h1>    <p id="4f1f7e63">This module contains functionality for sending email messages. These messages are independent from the notification scheme that is used for subscriptions to issue updates in YouTrack. All of the components for these email messages are defined in the parameters for the function that is supported in this module. However, the messages are still sent by the SMTP server that is connected to your YouTrack installation.    </p>        <div class="chapter"><h2 id="functions" data-toc="v1-notifications#functions">Functions</h2>        <br><div class="chapter"><h3 id="sendEmail" data-toc="v1-notifications#sendEmail">sendEmail</h3>    <div class="code-block" data-lang="javascript">
        static sendEmail(message, message.fromName, message.toEmails, message.subject, message.body, issue)
    </div><p id="b52e99a5">Sends an email message to one or more email addresses. If the project that the issue belongs to uses a dedicated project 'From' email, the email is sent from this address. Otherwise, the default server 'From' address is taken.</p><p id="27a11f7d"><b id="58b34172">Parameters</b></p><div class="table-wrapper"><table class=" wide" width="100%" id="a11cca5b"><thead><tr id="8c4d9817" class="ijRowHead"><th id="207d8f68"><p>Name</p></th><th id="7e9c315d" width="15%"><p>Type</p></th><th id="78f17a2d"><p>Description</p></th></tr></thead><tbody><tr id="bbd59752" class="ijRowOdd"><td id="deac2d75"><p>message</p></td><td id="393e8b12">              <code class="code">Object</code>          </td><td id="23a2ef2d"><p>An object that contains all of the message components that are required for sendout.          </p></td></tr><tr id="fb0181b7" class="ijRowEven"><td id="b241f400"><p>message.fromName</p></td><td id="0e74805a">              <code class="code">string</code>          </td><td id="4df4fa28"><p>The visible name of the sender. When used, the specified value is displayed as the sender name in the email message. If the sender email (whether taken from the project settings or the server setting) includes a sender name, it is overwritten with this value. If this parameter is left empty, the presentation of the sender is determined by the 'From' address that is saved in either the project or server settings.          </p></td></tr><tr id="dff007e1" class="ijRowOdd"><td id="ed7dbd8e"><p>message.toEmails</p></td><td id="ed2d6799">              <code class="code">Array.&lt;string&gt;</code>          </td><td id="a7e141c9"><p>A list of recipient email addresses. The first email address in the array is set as the recipient. All others are set as CC.          </p></td></tr><tr id="28722e18" class="ijRowEven"><td id="981429f4"><p>message.subject</p></td><td id="f8779a64">              <code class="code">string</code>          </td><td id="8e92a6ae"><p>The email message subject.          </p></td></tr><tr id="9bf2ffb8" class="ijRowOdd"><td id="2af82c36"><p>message.body</p></td><td id="1323eef9">              <code class="code">string</code>          </td><td id="d4711bee"><p>The email message body.          </p></td></tr><tr id="2a8b2fe2" class="ijRowEven"><td id="19654b94"><p>issue</p></td><td id="f89eb282">              <code class="code">Issue</code>          </td><td id="b63d80ab"><p>The issue that the email message is related to. All email messages that are related to a single issue are combined into one thread.          </p></td></tr></tbody></table></div>    <p id="20e74f79"><b id="baf59e17">Example</b></p>        <p id="9be6b7e4"><div class="code-block" data-lang="javascript">var issue = ctx.issue;
if (issue.comments.added.isNotEmpty()) {
  var authorName = issue.comments.added.first().author.fullName;
  var message = {
    fromName: authorName,
    toEmails: ['user1@jetbrains.com', 'user2@jetbrains.com'],
    subject: 'New comment in ' + issue.id,
    body: [
      '&lt;div style="font-family: sans-serif"&gt;',
      '  &lt;div style="padding: 10px 10px; font-size: 13px; border-bottom: 1px solid #D4D5D6;"&gt;',
      '    New comment was added in issue ' + issue.id + ' by ' + authorName,
      '  &lt;/div&gt;',
      '&lt;\div&gt;'
    ].join('\n');
  };
  notifications.sendEmail(message, issue);
}</div></p><p id="6a81ee43">&nbsp;</p></div>        </div><div class="last-modified" data-skip-index="skip">Last modified: 29 November 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="v1-Response.html">Response</a><a class="navigation-links__next" href="v1-search.html">search</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>