<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>Rule-specific Properties - Help | YouTrack InCloud</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body data-id="rule-specific-properties" data-breadcrumbs="Administration.xml|Administration/Workflow-Guide.xml|Workflows/Workflows-in-JavaScript.xml|JavaScript Workflow Reference/rule-specific-properties.xml|Rule-specific Properties" data-main-title="Rule-specific Properties"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search YouTrack InCloud Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>YouTrack InCloud 2019.2 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="rule-specific-properties" id="rule-specific-properties.xml">Rule-specific Properties</h1>    <p id="66decc44">All scripts that set a value for the <code class="code">exports.rule</code> property are interpreted as workflow rules.        Each type of rule supports a specific set of properties that define how the rule is executed.</p>    <p id="4446c7e4">Each module can only store a single object for the <code class="code">exports.rule</code> property.    When a script contains more than one definition for this property, the last definition in the script is exported.    For example, if a script sets the <code class="code">exports.rule</code> property to <code class="code">entities.Issue.onChange</code> (the declaration for an on-change rule) then later sets this property to <code class="code">entities.Issue.action</code>,    the script is interpreted as an action rule. All of the properties that are set for the on-change rule are ignored.</p>    <p id="5874b416">This page lists all of the properties for each workflow rule by type.    For examples that show you how these properties are used in actual rules, see <a href="Workflow-Rules.html">Workflow Rule Types</a>.</p>    <div class="chapter"><h2 id="on-change-rule-properties" data-toc="rule-specific-properties#on-change-rule-properties">On-change Rule Properties</h2>        <p id="dc283f8b">The <code class="code">Issue.onChange</code> method exports an object that is interpreted as an on-change rule.            On-change rules support the following properties:</p>        <div class="table-wrapper"><table width="100%" id="347742ab"><thead><tr id="560c13bd" class="ijRowHead"><th id="db988a0d" width="20%"><p>Property</p></th><th id="ca189cf2"><p>Description</p></th></tr></thead><tbody><tr id="507c818c" class="ijRowOdd"><td id="d2d016ef"><p>title</p></td><td id="f814824e"><p>An optional human-readable title. The title is only visible in the administrative interface.</p></td></tr><tr id="94395c63" class="ijRowEven"><td id="da480d1d"><p>guard</p></td><td id="5e6cdc92"><p>A function that determines the conditions for executing the rule.                    If the guard condition is not met, the action specified in the rule is not applied to an issue.</p></td></tr><tr id="a9c49eda" class="ijRowOdd"><td id="3032a0e6"><p>action</p></td><td id="decad5cf"><p>The actions that should be applied to each issue.                    The action is declared as a function that accepts a context as an argument.</p></td></tr><tr id="d76004da" class="ijRowEven"><td id="43280e69"><p>runOn</p></td><td id="0b1d1d87"><p>Determines which issue events trigger the on-change rule.                    When not specified, rules are triggered on issue update.                </p></td></tr><tr id="ca56aef3" class="ijRowOdd"><td id="de587458"><p>requirements</p></td><td id="f1091aa8"><p>The list of entities that are required for the rule to execute without errors.                    This property ensures that rules can be attached to projects safely.</p></td></tr></tbody></table></div>        <p id="c75af5f3">The <code class="code">runOn</code> property supports the following extended properties:</p>        <div class="table-wrapper"><table width="100%" id="81f87cf3"><thead><tr id="edd06eb4" class="ijRowHead"><th id="12206d77" width="20%"><p>Property</p></th><th id="59561df4"><p>Description</p></th></tr></thead><tbody><tr id="0853bfaa" class="ijRowOdd"><td id="1ab769fb"><p>change</p></td><td id="a355b1a2"><p>An extension of the <code class="code">runOn</code> property that determines whether changes are applied on issue change.                    When <code class="code">true</code>, the rule is triggered on issue change.</p></td></tr><tr id="0150d31f" class="ijRowEven"><td id="1b525386"><p>removal</p></td><td id="ad88d9ba"><p>An extension of the <code class="code">runOn</code> property that determines whether changes are applied when an issue is logically deleted.                    When <code class="code">true</code>, the rule is triggered when an issue is logically deleted.</p></td></tr></tbody></table></div>    </div>    <div class="chapter"><h2 id="on-schedule-rule-properties" data-toc="rule-specific-properties#on-schedule-rule-properties">On-schedule Rule Properties</h2>        <p id="2dc72906">The <code class="code">Issue.onSchedule</code> method exports an object that is interpreted as an on-schedule rule.            On-schedule rules support the following properties:</p>        <div class="table-wrapper"><table width="100%" id="5b848247"><thead><tr id="699ce033" class="ijRowHead"><th id="c16cbfae" width="20%"><p>Property</p></th><th id="e3220e77"><p>Description</p></th></tr></thead><tbody><tr id="d816bcec" class="ijRowOdd"><td id="d5157b98"><p>title</p></td><td id="1a1edf97"><p>An optional human-readable title. The title is only visible in the administrative interface.</p></td></tr><tr id="d8462724" class="ijRowEven"><td id="1a67ae2b"><p>search</p></td><td id="2cb23b0a"><p>A search query that determines which issues are processed by this rule.                    It can be a string that uses the syntax for a standard YouTrack search query (see <a href="Search-and-Command-Attributes.html">Search Query Reference</a>) or a function that recalculates a search string every time the rule is triggered.                    When you use a function, reference it by name. For example, <code class="code">search: getSearchExpression</code>.                    We strongly recommend that you make the search expression as concrete as possible, instead of adding conditions inside the action.</p></td></tr><tr id="c9be985a" class="ijRowOdd"><td id="1875be63"><p>cron</p></td><td id="8fe2db7d"><p>The schedule for applying the rule, specified as a <a href="http://www.quartz-scheduler.org/documentation/quartz-2.3.0/tutorials/crontrigger.html" data-external="true" target="_blank" rel="noopener noreferrer">Java cron expression</a>.                                    </p></td></tr><tr id="761c2d61" class="ijRowEven"><td id="e3bad6cb"><p>guard</p></td><td id="4390ca59"><p>A function that determines the conditions for executing the rule.                    If the guard condition is not met, the action specified in the rule is not applied to an issue.</p></td></tr><tr id="9874ad54" class="ijRowOdd"><td id="2ac91c7e"><p>muteUpdateNotifications</p></td><td id="f0149c66"><p id="8e91b83e">A flag that determines whether update notifications are sent for changes that are applied by this rule.                    If you want to apply updates without sending notifications, set to <code class="code">true</code>.</p>                    <p id="99f706dd">When <code class="code">true</code> this property also suppresses notifications for cascading changes that are applied in the same transaction.                    For example, when updates that are applied by the on-schedule rule trigger updates from one or more on-change rules, the entire set of changes is applied silently.</p>                    <p id="1917f455">The value for this property does not affect notifications that are explicitly sent with the <span class="control">.notify</span> method.</p></td></tr><tr id="5ad0f5fb" class="ijRowEven"><td id="442747af"><p>action</p></td><td id="795e8c20"><p>The actions that should be applied to each issue that matches the search condition.                    This action is triggered separately for each issue.                    The action itself is performed by the workflow user account.</p></td></tr><tr id="0b7d8935" class="ijRowOdd"><td id="4441aef7"><p>requirements</p></td><td id="5ce035cc"><p>The list of entities that are required for the rule to execute without errors.                    This property ensures that rules can be attached to projects safely.</p></td></tr></tbody></table></div>    </div>    <div class="chapter"><h2 id="action-rule-properties" data-toc="rule-specific-properties#action-rule-properties">Action Rule Properties</h2>        <p id="0a2c2616">The <code class="code">Issue.action</code> method exports an object that is interpreted as an action rule.            Action rules support the following properties:</p>        <div class="table-wrapper"><table width="100%" id="13fb8204"><thead><tr id="1321333f" class="ijRowHead"><th id="16aed5d4" width="20%"><p>Property</p></th><th id="4316e985"><p>Description</p></th></tr></thead><tbody><tr id="fb4777a3" class="ijRowOdd"><td id="249a536d"><p>title</p></td><td id="2d81592c"><p>A human-readable title.                    The title is used as the label for the command in the <span class="control">Apply Command</span> dialog and the item in the <span class="control">Command Dialog</span> list in the issue toolbar.                    If this property is not set, the command is not added to the menu.</p></td></tr><tr id="445861c9" class="ijRowEven"><td id="763129ee"><p>command</p></td><td id="dc33ab7a"><p>The text that is used for the custom command.                    When this command is applied to one or more issues, the actions that are defined in this rule are executed.                    Commands are defined server-wide, which means that you cannot have two action rules with the same command even when these rules are attached to different projects.</p></td></tr><tr id="704e6f0f" class="ijRowOdd"><td id="f6dbbd89"><p>guard</p></td><td id="60e5f242"><p id="af7f4083">The condition that determines when the action rule is enabled.</p>                    <p id="a348d68f">If the guard condition is not met, the custom command cannot be applied to an issue.                        The command is not suggested in the <span class="control">Apply Command</span> dialog and its title is not visible in the issue toolbar.</p></td></tr><tr id="84eb949f" class="ijRowEven"><td id="a440df74"><p>action</p></td><td id="c5673a98"><p>The changes that should be applied to each of the issues that are selected when the command is applied.                    This action is executed separately for each issue.                    The changes are made on behalf of the user who applies the command.                    </p></td></tr><tr id="aed1a308" class="ijRowOdd"><td id="130dce72"><p>requirements</p></td><td id="5c895229"><p>The list of entities that are required for the rule to execute without errors.                    This property ensures that rules can be attached to projects safely.</p></td></tr></tbody></table></div>    </div>    <div class="chapter"><h2 id="state-machine-rules" data-toc="rule-specific-properties#state-machine-rules">State-machine Rule Properties</h2>        <p id="a39f58a9">The <code class="code">Issue.stateMachine</code> method exports an object that is interpreted as a state-machine rule.            State-machine rules support the following base properties:</p>        <div class="table-wrapper"><table width="100%" id="4a218997"><thead><tr id="4f7c2b3a" class="ijRowHead"><th id="8683ffa7" width="20%"><p>Property</p></th><th id="9d54c10e"><p>Description</p></th></tr></thead><tbody><tr id="d173dd79" class="ijRowOdd"><td id="8f7e63ea"><p>title</p></td><td id="df6c9802"><p>An optional human-readable title.</p></td></tr><tr id="74cdf996" class="ijRowEven"><td id="9b0e9559"><p>fieldName</p></td><td id="c787d552"><p id="643066d7">The name of the custom field that is managed by the state-machine.</p>                <p id="7bdbbac5">The template for state-machine rules per issue type uses the alias <code class="code">stateFieldName</code> for this property.</p></td></tr><tr id="21acd620" class="ijRowOdd"><td id="30f2243c"><p>stateFieldName</p></td><td id="91be99ee"><p>An alias for <code class="code">fieldName</code>.</p></td></tr><tr id="ee49e0f7" class="ijRowEven"><td id="f11fa7f5"><p>typeFieldName</p></td><td id="1c25d70b"><p>This optional property identifies the enumerated custom field that dictates which state-machine per issue type is applied to the managed field.                This property is only used to script state-machines per issue type.                For basic state-machine rules, skip this property.</p></td></tr><tr id="ee7db371" class="ijRowOdd"><td id="c0bd275a"><p>states</p></td><td id="fc3e0954"><p id="2af47baa">The list of field values and definitions for the transitions between them.                    Values that contain spaces and special characters are set in single quotes.</p>                <p id="a3865214">In the template for state-machine rules per issue type, this property is replaced with the alias <code class="code">defaultMachine</code>.                For state-machines per issue type, this property defines the transitions that apply when an alternative state-machine is not defined for the value in the field that regulates which state-machine applies to the managed field.</p></td></tr><tr id="9b0e37ac" class="ijRowEven"><td id="393a1fcd"><p>defaultMachine</p></td><td id="f18b539a"><p>An alias for <code class="code">states</code>.</p></td></tr><tr id="985f3f03" class="ijRowOdd"><td id="fd586e8f"><p>alternativeMachines</p></td><td id="795f7d17"><p>For state-machines per issue type, this property defines the collection of field values and definitions for the transitions between them for each specified value in the field that regulates which state-machine applies to the managed field.</p></td></tr><tr id="ea91bfe9" class="ijRowEven"><td id="a087fea6"><p>requirements</p></td><td id="6ab8be98"><p id="7fe8ea1d">The list of entities that are required for the rule to execute without errors.                    This property ensures that rules can be attached to projects safely.</p>                    <p id="6d8f936f">For a state-machine rule, you do not need to add the field that is managed by the state-machine to the requirements.                        This field and its values are derived from the <code class="code">states</code> property.</p></td></tr></tbody></table></div><p id="ec57c767">Each of the values that are defined in the <code class="code">states</code> property contain definitions for an additional set of properties.</p>        <p id="74bf7afc">In a state-machine per issue type, these properties are specified for the <code class="code">defaultMachine</code>, which is an alias of the <code class="code">states</code> property,            as well as each of the values that are listed for the <code class="code">alternativeMachines</code> property.</p>        <div class="table-wrapper"><table width="100%" id="7db10776"><thead><tr id="89211ecd" class="ijRowHead"><th id="83cf736a" width="20%"><p>Property</p></th><th id="23e18db4"><p>Description</p></th></tr></thead><tbody><tr id="d015cb30" class="ijRowOdd"><td id="eaa2b0b1"><p>initial</p></td><td id="769392c6"><p>A Boolean property that determines which of the values in the list is set when an issue is created.                    Exactly one value must set this property to <code class="code">true</code>.                    For other values that are not set as the initial value, this property is optional and can be omitted.</p></td></tr><tr id="78107140" class="ijRowEven"><td id="abd58e66"><p>onEnter</p></td><td id="ff23c065"><p>An optional function declaration that is called when the corresponding value is assigned to an issue.                    These functions behave similar to actions in other types of rules.</p></td></tr><tr id="b88b1bf5" class="ijRowOdd"><td id="f9d5b6db"><p>onExit</p></td><td id="8b2aafdb"><p>An optional function declaration that is called when the field value is changed from the current value to another value.                    These functions behave similar to actions in other types of rules.</p></td></tr><tr id="10d92d0c" class="ijRowEven"><td id="cb58836d"><p>transitions</p></td><td id="3b5db023"><p id="534314f9">The list of possible target values that can be set for each value in the list.</p>                    <p id="1f3eb1d9">For a state-machine rule, you do not need to list the values that are used by fields that are managed by the state-machine in the requirements.                        This field and its values are derived from the <code class="code">states</code> property.</p></td></tr></tbody></table></div><p id="2878d9e0">Each of the values that are defined in the <code class="code">transitions</code> property contain a <code class="code">name</code> property.    The name is used to set this value in a command and is also shown in the list of values for a custom field.    Each transition name contains definitions for the following additional properties:</p>        <div class="table-wrapper"><table width="100%" id="060eed9d"><thead><tr id="34ae5fd8" class="ijRowHead"><th id="9fb9eb4e" width="20%"><p>Property</p></th><th id="52a01e1b"><p>Description</p></th></tr></thead><tbody><tr id="3aee660b" class="ijRowOdd"><td id="dcc8f55d"><p>targetState</p></td><td id="ba20021c"><p>The actual name of the value that is set when the command specified in the <code class="code">name</code> property is applied.</p></td></tr><tr id="44e00b70" class="ijRowEven"><td id="3ab46fe9"><p>after</p></td><td id="4eac11cc"><p>An optional property that sets an interval for performing an action.                    The action itself is specified in the <code class="code">action</code> property.</p></td></tr><tr id="f76f8be6" class="ijRowOdd"><td id="8e4cc68a"><p>action</p></td><td id="a1ba9274"><p>An optional property for any transition that behaves similar to actions in other types of rules..</p></td></tr><tr id="a2e7a4c4" class="ijRowEven"><td id="05729738"><p>guard</p></td><td id="25733466"><p>An optional condition that determines when the transition is allowed.                    If the guard condition is not met, the value for the custom field cannot change to the value that is defined for this transition.</p></td></tr></tbody></table></div>    </div><div class="last-modified" data-skip-index="skip">Last modified: 29 November 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="Workflows-in-JavaScript.html">JavaScript Workflow Reference</a><a class="navigation-links__next" href="context.html">Context</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>