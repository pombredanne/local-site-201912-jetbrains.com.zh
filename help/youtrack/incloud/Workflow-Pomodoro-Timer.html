<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>Pomodoro计时器-帮助| YouTrack InCloud</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body  data-id="Workflow-Pomodoro-Timer" data-breadcrumbs="Administration.xml|Administration/Workflow-Guide.xml|Workflows/Default-Workflows.xml|Default Workflows/Workflow-Pomodoro-Timer.xml|Pomodoro Timer" data-main-title="Pomodoro Timer"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索YouTrack InCloud帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>YouTrack InCloud 2019.2帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 id="Workflow-Pomodoro-Timer.xml" data-toc="Workflow-Pomodoro-Timer">番茄计时器</h1>  <p id="cd878c17">此工作流支持Pomodoro时间管理和时间跟踪技术。Pomodoro由Francesco Cirillo在1980年代创立。有关详细信息，请访问<a href="http://cirillocompany.de/pages/pomodoro-technique/" rel="noopener noreferrer" data-external="true" target="_blank">http://cirillocompany.de/pages/pomodoro-technique/</a> 。</p>  <div class="table-wrapper"><table class="left_header" width="100%" id="b9a83a36"><tbody><tr id="18e2b107" class="ijRowOdd"><th id="f8c7fda5" width="20%"><p>名称</p></th><td id="9fa70ee9"><p>@ jetbrains / youtrack-workflow-pomodoro-timer</p></td></tr><tr id="9b9baa4f" class="ijRowEven"><th id="abed4b58"><p>自动连接</p></th><td id="52aa6066"><p>没有</p></td></tr><tr id="5e8cde1d" class="ijRowOdd"><th id="b137f619"><p>模组</p></th><td id="7d3de6bc"><p>        <a href="#pomodoro-states">使用番茄定时器</a> （状态机规则） <a href="#pomodoro-states">为“状态”字段定义转换</a><br>        <a href="#pomodoro-countdown">启用番茄倒计时</a> （预定规则）<br>        <a href="#change-reason">在不停止计时器的情况下阻止对中断原因</a>的更改（更改规则）</p></td></tr></tbody></table></div>  <section class="procedure-steps"><h3 id="90ff2ab5">要启用此工作流程：</h3><ol class="list _decimal"><li class="list__item" id="a258a92d"><p>为项目启用和配置时间跟踪。</p></li><li class="list__item" id="026b0a43"><p>向您的项目添加一个名为<span class="control">Pomodoro state</span>的枚举字段。将“ <span class="control">计时器的运行中”</span> ，“ <span class="control">未设置”</span> ，“ <span class="control">计时器已完成</span> ”和<span class="control">“休息时</span> ”值添加到该字段。</p></li><li class="list__item" id="af897313"><p>在您的项目中添加一个名称为<span class="control">Pomodoro interrupt</span>的枚举字段。将值“ <span class="control">老板打断”</span> ，“ <span class="control">Facebook聊天”</span> ，“ <span class="control">电话”</span>和“ <span class="control">紧急电子邮件”添加</span>到该字段。</p></li><li class="list__item" id="fd3cff21"><p>向您的项目添加一个名称为<span class="control">Pomodoro countdown</span>的整数类型的字段。</p></li><li class="list__item" id="188a4d2a"><p>将<span class="control">Pomodoro Timer</span>工作流附加到您的项目。</p></li></ol></section>  <div class="chapter"><h2 id="ed538171">用例</h2>    <p id="38768eba">该工作流使用户可以遵循Pomodoro时间管理策略。Pomodoro技术的工作原理如下：</p>    <ul class="list _ul"><li class="list__item" id="53097943"><p>活动时间分为相等的时间间隔，称为“番茄时间”。</p></li><li class="list__item" id="7eb3e046"><p>传统的番茄时间为30分钟：25分钟的工作时间和5分钟的休息时间。</p></li><li class="list__item" id="9e057bf2"><p>每四个番茄，您可以休息15至30分钟。</p></li><li class="list__item" id="ed2dcd8d"><p>番茄不能被打断或分裂。这标志着25分钟的纯粹工作。</p></li><li class="list__item" id="2246278f"><p>如果发生中断，请停止您的番茄酱并记录造成中断的原因。</p></li></ul>  </div>  <div class="chapter"><h2 id="da8ddf72">模组</h2>    <p id="7ce1fe4a">该工作流程包括三个模块。</p>    <div class="chapter"><h3 id="pomodoro-states">使用番茄定时器为“状态”字段定义过渡</h3>      <p id="2e3aaa40">第一个模块包含状态机规则，该规则定义Pomodoro如何从状态过渡到状态。此规则的优点在于，对于每个已完成或已中断的Pomodoro，YouTrack都会自动添加一个新工作项。它会自动记录您在特定问题上的工作！</p>      <div class="code-block" data-lang="javascript">var实体= require（'@ jetbrains / youtrack-scripting-api / entities'）; var工作流程= require（'@ jetbrains / youtrack-scripting-api / workflow'）; Exports.rule =实体。Issue.stateMachine（{title：workflow.i18n（'使用Pomodoro计时器定义“状态”字段的转换”），fieldName：“ Pomodoro状态”，状态：{'未设置'：{初始值：是，转换值：{开始： {targetState：“计时器正在运行”}}}，“计时器正在运行”：{onEnter：function（ctx）{ctx.issue.fields ['Pomodoro interrupt'] = null; stream.message（workflow.i18n（'25分钟pomodoro开始。'））; ctx.issue.fields ['Pomodoro countdown'] = 25; }，转换：{中断：{targetState：“未设置”，操作：function（ctx）{ctx.issue.fields.required（ctx ['Pomodoro interrupt']，workflow.i18n（'请指定中断原因。'））; ctx.issue.applyCommand（addWorkToday（（25-ctx.issue.fields ['Pomodoro countdown']）+'m'，workflow.i18n（'Pomodoro被中断。原因：\''）+ ctx.issue.fields ['Pomodoro中断'] .name +'\'。'））; ctx.issue.fields ['Pomodoro countdown'] = null; }}，提醒：{targetState：“计时器已完成”，之后：minutes（25）}}}，“计时器已完成”：{过渡：{'休息一下'：{targetState：'On a break'，action：function （ctx）{working.message（workflow.i18n（'5分钟休息。'））; ctx.issue.applyCommand（addWorkToday（'25m'，'+1 pomodoro。'））; ctx.issue.fields ['Pomodoro countdown'] = 5; }}，“丢弃”：{targetState：“未设置”，操作：function（ctx）{ctx.issue.fields.required（ctx ['Pomodoro interrupt']，workflow.i18n（'请指定中断原因。'））; ctx.issue.applyCommand（addWorkToday（'25m'，workflow.i18n（'Pomodoro已被丢弃。原因：\''）+ ctx.issue.fields ['Pomodoro中断'] .name +“'。 ））; ctx.issue.fields ['Pomodoro countdown'] = null; }}}}，“休息”：{过渡：{开始：{targetState：“计时器正在运行”，操作：function（ctx）{ctx.issue.applyCommand（addWorkToday（（5-ctx.issue.fields [' Pomodoro倒计时']）+'m'，workflow.i18n（'+ 1短暂休息。'）））; }}，提醒：{targetState：“未设置”，之后：分钟（5），操作：function（ctx）{ctx.issue.applyCommand（addWorkToday（'5m'，workflow.i18n（'+ 1 break。'）））; }}}}}，要求：{'Pomodoro中断'：{类型：实体。EnumField.fieldType}，'Pomodoro countdown'：{类型：实体。Field.integerType}，“波莫多洛州”：{类型：实体。EnumField.fieldType}}}）;函数minutes（m）{return m * 60 * 1000; }函数addWorkToday（countdown，message）{返回'今天添加工作'+倒数+''+消息； }</div>    </div>    <div class="chapter"><h3 id="pomodoro-countdown">启用番茄倒计时</h3>      <p id="9057afcb">第二个模块包含运行计时器的计划内规则，并调用25分钟倒计时。</p>      <div class="code-block" data-lang="javascript">var实体= require（'@ jetbrains / youtrack-scripting-api / entities'）; var工作流程= require（'@ jetbrains / youtrack-scripting-api / workflow'）; Exports.rule =实体。Issue.onSchedule（{标题：workflow.i18n（'启用Pomodoro倒计时'），搜索：'具有：{Pomodoro倒计时} AND Pomodoro倒计时：-0 AND（Pomodoro状态：{计时器正在运行}或Pomodoro状态：{ }）'，cron：'0 * * * *？'，操作：function（ctx）{var issueFields = ctx.issue.fields; issueFields ['Pomodoro countdown']-= 1; }，要求：{'PomodoroCountdown'：{名称：'Pomodoro countdown'，类型：实体。Field.integerType}，'PomodoroState'：{名称：'Pomodoro state'，类型：实体。EnumField.fieldType，}}}）;</div>    </div>    <div class="chapter"><h3 id="change-reason">在不停止计时器的情况下阻止对中断原因的更改</h3>      <p id="fbc9f000">最后一个模块包含一个变更规则，该规则可防止用户在不停止计时器的情况下（通过在<span class="control">Pomodoro中断</span>字段中输入一个值）来更改中断原因。</p>      <div class="code-block" data-lang="javascript">// Pomodoro技术是Francesco Cirillo在1980年代发明的一种时间管理方法。var实体= require（'@ jetbrains / youtrack-scripting-api / entities'）; var工作流程= require（'@ jetbrains / youtrack-scripting-api / workflow'）; Exports.rule =实体。Issue.onChange（{PomodoroInterruption）&&！issueFields.isChanged（ctx。PomodoroState）； }，操作：function（）{workflow.check（false，workflow.i18n（'如果不更改计时器状态，则无法更改中断原因。'））; }，要求：{'PomodoroInterruption'：{名称：'Pomodoro interrupt'，类型：实体。EnumField.fieldType'老板被打扰'：{}，'Facebook聊天'：{}，'电话'：{}，'紧急电子邮件'：{}}，'PomodoroState'：{名称：'Pomodoro状态'，类型：实体。EnumField.fieldType}}}）;</div>    </div>  </div><div class="last-modified" data-skip-index="skip">上次修改时间：2019年11月29日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="Workflow-One-Vote-Comment.html">一票评论</a> <a class="navigation-links__next" href="Workflow-Spam-Blacklist.html">亵渎黑名单</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>