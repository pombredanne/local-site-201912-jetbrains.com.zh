<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>Action Rules - Help | YouTrack InCloud</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body data-id="action-rules" data-breadcrumbs="Administration.xml|Administration/Workflow-Guide.xml|Workflows/Workflow-Rules.xml|Workflow Rule Types/action-rules.xml|Action Rules" data-main-title="Action Rules"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search YouTrack InCloud Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>YouTrack InCloud 2019.2 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="action-rules" id="action-rules.xml">Action Rules</h1>  <p id="d1302832">An <span class="control">action</span> rule lets you extend YouTrack with actions that can be applied as commands or accessed directly from the issue toolbar.</p>  <div class="chapter"><h2 id="sample-action-rule">Sample Action Rule</h2>    <p id="7d0fafbf">This rule enables a command that automatically assigns issues to the current user.      This command can be applied to one or more issues at once.</p>    <div class="code-block" data-lang="javascript">var entities = require('@jetbrains/youtrack-scripting-api/entities');

exports.rule = entities.Issue.action({
  title: 'Take this issue!',
  command: 'take',
  guard: function(ctx) {
    return ctx.issue.isReported;
  },
  action: function(ctx) {
    ctx.issue.fields.Assignee = ctx.currentUser;
  },

  requirements: {
    Assignee: {
      type: entities.User.fieldType
    }
  }
});</div>    <p id="a86fb948">The components that define this action rule are as follows:</p>    <ul class="list _ul"><li class="list__item" id="387e2382"><p>As usual, the script starts with a <code class="code">require</code> statement that references the entities module in the workflow API.</p></li><li class="list__item" id="f6405129"><p>The <code class="code">exports.rule</code> property uses the <code class="code">Issue.action</code> method to export the script that follows the declaration as an action rule.</p></li><li class="list__item" id="232e6f63"><p id="b3bdaee0">The body of the rule itself contains definitions for the following properties:</p>        <div class="table-wrapper"><table width="100%" id="2061c9ee"><thead><tr id="4d1259b9" class="ijRowHead"><th id="24587f45" width="20%"><p>Property</p></th><th id="e6bdbcfe"><p>Description</p></th></tr></thead><tbody><tr id="59bb0d73" class="ijRowOdd"><td id="4cd5d8c7"><p>title</p></td><td id="71a2b2c1"><p>A human-readable title.              The title is used as the label for the command in the <span class="control">Apply Command</span> dialog and the item in the <span class="control">Command Dialog</span> list in the issue toolbar.              If this property is not set, the command is not added to the menu.</p></td></tr><tr id="31ef3ff6" class="ijRowEven"><td id="b0232cb3"><p>command</p></td><td id="36f666ba"><p>The text that is used for the custom command.              When this command is applied to one or more issues, the actions that are defined in this rule are executed.              Commands are defined server-wide, which means that you cannot have two action rules with the same command even when these rules are attached to different projects.</p></td></tr><tr id="89d948a2" class="ijRowOdd"><td id="74881815"><p>guard</p></td><td id="61c610e8"><p id="db0a664d">The condition that determines when the action rule is enabled.</p>              <p id="e51145a8">If the guard condition is not met, the custom command cannot be applied to an issue.              The command is not suggested in the <span class="control">Apply Command</span> dialog and its title is not visible in the issue toolbar.</p></td></tr><tr id="55f3924d" class="ijRowEven"><td id="198c0ef8"><p>action</p></td><td id="d5a0ede3"><p id="801f9c9e">The changes that should be applied to each of the issues that are selected when the command is applied.              This action is executed separately for each issue.              The changes are made on behalf of the user who applies the command.</p>              <p id="e5c078a2">In this example, we simply assign all of the selected issues to the current user.</p></td></tr><tr id="454e69ba" class="ijRowOdd"><td id="c42cce52"><p>requirements</p></td><td id="e4f40a8c"><p id="18b8d6e3">The list of entities that are required for the rule to execute without errors.              This property ensures that rules can be attached to projects safely.</p>              <p id="22d112a3">In this example, we only require that there is an <span class="control">Assignee</span> field that stores a <code class="code">user</code> type in the projects to which the rule is attached.              If this field is absent, an error is shown in the <span class="control">Workflows</span> list.              The rule cannot be enabled until the required field is attached.</p></td></tr></tbody></table></div></li></ul>  </div><div class="last-modified" data-skip-index="skip">Last modified: 29 November 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="state-machine-per-issue-type.html">State-machine Rules</a><a class="navigation-links__next" href="custom-scripts.html">Custom Scripts</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>