<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>OAuth 2.0 Authorization - Help | YouTrack InCloud</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body data-id="OAuth-Authorization" data-breadcrumbs="Resources-for-Developers.xml|Resources for Developers/api-log-in-to-youtrack.xml|Log in to YouTrack/OAuth-Authorization.xml|OAuth 2.0 Authorization" data-main-title="OAuth 2.0 Authorization"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search YouTrack InCloud Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>YouTrack InCloud 2019.2 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="OAuth-Authorization" id="OAuth-Authorization.xml">OAuth 2.0 Authorization</h1>    <p id="b3b30167">To access YouTrack resources with the REST API using OAuth 2.0, you need to log in, authorize, and obtain an access token for YouTrack.        Authorization is provided by the Hub service.</p>    <p id="5b1fd21d">We only recommend that you use OAuth 2.0 when your application requires client-side authentication.    Otherwise, you're better off using token-based authorization.    For more information, see <a href="authentication-with-permanent-token.html">Permanent Token Authorization</a>.</p>    <aside data-type="warning" class="prompt" data-title="" rel="5b1fd21d" id="9c3f31d3">        <p id="a77655f3">Do not attempt to register external services in the built-in Hub service!            This can cause the service to crash or malfunction.            It can also result in a corrupted database or data loss.</p>    </aside>                <p id="de17a87b">The Hub service that is connected to your YouTrack InCloud instance only supports <a href="#implicit-authorization-grants">implicit authorization grants</a>.</p>        <p id="be9db006">To use implicit OAuth 2.0 authorization, your client application must be publicly available over the internet.        Such applications are usually written in JavaScript and run in a web browser.</p>            <div class="chapter"><h2 id="HubOauthEndpoints" data-toc="OAuth-Authorization#HubOauthEndpoints">Endpoints</h2>        <p id="f7a14d74">The built-in Hub service uses the following OAuth 2.0 endpoints:</p>        <div class="table-wrapper"><table width="100%" id="261e2fb5"><thead><tr id="640add3b" class="ijRowHead"><th id="ca61964a" width="20%"><p>Endpoint</p></th><th id="5a050809"><p>URL</p></th></tr></thead><tbody><tr id="5a0ed516" class="ijRowOdd"><td id="f16cfa68"><p>Authentication</p></td><td id="341a1b62"><code class="code">&lt;Hub service URL&gt;/api/rest/oauth2/auth</code></td></tr><tr id="f33a1260" class="ijRowEven"><td id="5b5219b4"><p>Token</p></td><td id="459cd2af"><code class="code">&lt;Hub service URL&gt;/api/rest/oauth2/token</code></td></tr></tbody></table></div>                            <p id="bd80df70">The <code class="code">&lt;Hub service URL&gt;</code> is the access point for the Hub service in your network environment.                For YouTrack InCloud, the service is accessible when you replace the <code class="code">/youtrack</code> path in your YouTrack Base URL with <code class="code">/hub</code>.                For example, <code class="code">company-domain.myjetbrains.com/hub</code>.</p>            <p id="2b57422d">You can find the Base URL for your instance on the <span class="control">Domain Settings</span> page.            For more information, see <a href="Domain-Settings.html">Domain Settings</a>.</p>            </div>    <div class="chapter"><h2 id="implicit-authorization-grants" data-toc="OAuth-Authorization#implicit-authorization-grants">Implicit Authorization</h2>    <p id="1ce189d1">YouTrack supports OAuth 2.0 authorization with implicit authorization as specified in the <a href="https://tools.ietf.org/html/rfc6749#section-4.2" data-external="true" target="_blank" rel="noopener noreferrer">OAuth 2.0 Authorization Framework</a>.</p>            <p id="92898512">To obtain an access token from YouTrack, you need to provide values for the following parameters:</p>        <a name="Send User to Authorization Server (Hub)"></a>        <div class="chapter"><h3 id="SendUserToAuthServer" data-toc="OAuth-Authorization#SendUserToAuthServer">Requests</h3>            <p id="15449c31">To start authentication, redirect the browser to the authorization endpoint:</p>            <div class="code-block" data-lang="markup">
                ${Hub service URL}/api/rest/oauth2/auth?response_type=token&amp;state=${State}&amp;redirect_uri=${Client redirect URI}&amp;request_credentials=${Request credentials mode}&amp;client_id=${Client service ID}&amp;scope=${Scope}
            </div>            <p id="5f3d5777">Example:</p>            <div class="code-block" data-lang="markup">
                https://www.company-youtrack.com/hub/api/rest/oauth2/auth?response_type=token&amp;state=9b8fdea0-fc3a-410c-9577-5dee1ae028da&amp;redirect_uri=https%3A%2F%2Fmyservice.company.com%2Fauthorized&amp;request_credentials=skip&amp;client_id=98071167-004c-4ddf-ba37-5d4599fdf319&amp;scope=0-0-0-0-0%2098071167-004c-4ddf-ba37-5d4599fdf319
            </div>            <p id="2aeae377">To obtain an access token from YouTrack, you need to provide values for the following parameters in your authorization requests:</p>            <div class="table-wrapper"><table width="100%" id="ebde0859"><thead><tr id="32cee37b" class="ijRowHead"><th id="9bb09239" width="20%"><p>Parameter</p></th><th id="e0f4e591"><p>Description</p></th></tr></thead><tbody><tr id="15ca97d6" class="ijRowOdd"><td id="ad8a86be"><code class="code">response_type</code></td><td id="afdc32a3"><p>Specifies the grant type in an OAuth 2.0 request.                        For implicit grant, use <code class="code">token</code>.</p></td></tr><tr id="43fc96b8" class="ijRowEven"><td id="4aba4759"><code class="code">state</code></td><td id="3636467e"><p>An identifier for the current application state. For example, it can be a key for a local                        storage object that contains information about the location of the current user in the client application.</p></td></tr><tr id="078a4f6b" class="ijRowOdd"><td id="c986c3e9"><code class="code">redirect_uri</code></td><td id="a6ce0cc3"><p>A URI in your client application that can handle responses from Hub.</p></td></tr><tr id="c1d025a2" class="ijRowEven"><td id="a9ad34c7"><code class="code">request_credentials</code></td><td id="e9c411b3">A parameter that determines whether the user should be asked to log in.                        The following values are valid:                        <ul class="list _bullet"><li class="list__item" id="b9243acf">                                <code class="code">skip</code>                                — use when the client application allows anonymous access.                                <ul class="list _bullet"><li class="list__item" id="1c528b94"><p>If the user is already logged in to Hub, the user is granted access to the client application.</p></li><li class="list__item" id="2adec78c"><p>If the user is not logged in to Hub and the guest account is not banned, the user is granted access to the client application as a guest.</p></li><li class="list__item" id="571673c9"><p>If the user is not logged in to Hub and the guest account is banned, the user is redirected to the login page.</p></li></ul>                            </li><li class="list__item" id="8780d45f"><p>                                <code class="code">silent</code>                                — same as <code class="code">skip</code>, but redirects the user to the client application in all cases.                                If the guest account is banned,                                the user is redirected to the client application with an authentication error.                            </p></li><li class="list__item" id="cafaaa64"><p>                                <code class="code">required</code>                                — logs the user out of Hub and redirects them to the login page.                                Use as a response to a logout request in the client application.                            </p></li><li class="list__item" id="630938e7">                                <code class="code">default</code>                                — use when the client application does not allow anonymous access.                                <ul class="list _bullet"><li class="list__item" id="6743f179"><p>If the user is already logged in to Hub, the user is granted access to the client application.</p></li><li class="list__item" id="058237e3"><p>If the user is not logged in to Hub, the user is redirected to the login page.</p></li></ul>                            </li></ul>                    </td></tr><tr id="dea69038" class="ijRowOdd"><td id="53ef63c5"><code class="code">client_id</code></td><td id="ec84a031"><p>The ID of the YouTrack service as registered in the built-in Hub service.                        To get the YouTrack service ID, open the <span data-skip-index="skip" class="menupath">Administration &gt; Hub Integration</span> page:                        <figure><img alt="Oauth yt service id" title="Oauth yt service id" src="/help/img/youtrack/2019.2/oauthYTServiceId.png" id="da12b743" width="672" height="223"></figure></p></td></tr><tr id="b7a77c4f" class="ijRowEven"><td id="5873c1ec"><code class="code">scope</code></td><td id="8a0f94bf"><p>The access scope in which your API requests are processed.                        Use the symbolic name of the YouTrack service in the built-in Hub: <code class="code">YouTrack</code>.</p></td></tr></tbody></table></div>        </div>        <div class="chapter"><h3 id="AuthServerResponse" data-toc="OAuth-Authorization#AuthServerResponse">Responses</h3>            <p id="3161ac20">The client service should be able to handle responses from Hub at the URL that is passed as the                <code class="code">redirect_uri</code>. Response parameters are passed after a hash sign in the URL.                As a result, these parameters are not sent to the server and cannot be intercepted by a malefactor.            </p>            <p id="e305848b">If the resource owner grants the access request, Hub issues an access token and delivers it                to the client by adding the following parameters to the fragment component of the redirect URI using the                <code class="code">"application/x-www-form-urlencoded"</code>                format:</p>            <div class="table-wrapper"><table width="100%" id="01f73c41"><thead><tr id="a0b2be8c" class="ijRowHead"><th id="7ff86068" width="20%"><p>Parameter</p></th><th id="fc5bad9f"><p>Description</p></th></tr></thead><tbody><tr id="f4dfec61" class="ijRowOdd"><td id="dc8a711d"><code class="code">access_token</code></td><td id="647e45a0"><p>The access token issued by Hub.</p></td></tr><tr id="c88ca7f7" class="ijRowEven"><td id="0a083fe5"><code class="code">token_type</code></td><td id="59436db4"><p>The type of the token that was issued by Hub. The value is case insensitive.</p></td></tr><tr id="b0adf5f9" class="ijRowOdd"><td id="c1d33da0"><code class="code">expires_in</code></td><td id="081c8a9b"><p>The lifetime of the access token, in seconds. For                        example, <code class="code">3600</code> denotes that the access token expires one hour from the time the response was generated.</p></td></tr><tr id="7666a5fd" class="ijRowEven"><td id="228beba2"><code class="code">scope</code></td><td id="59ce0014"><p>Optional if identical to the scope requested by the client;                        otherwise, required. The scope of the access token in Hub is the <code class="code">service_id</code>.</p></td></tr><tr id="4d77b8ef" class="ijRowOdd"><td id="7b8d6350"><code class="code">state</code></td><td id="b3d8b8c3"><p>Required if the <code class="code">state</code> parameter was specified in the client                        authorization request. The exact value received from the client.</p></td></tr></tbody></table></div>            <p id="71fd5ae0">Note that the authorization server (Hub) <i id="3365aa3d">does not issue a refresh token</i>.</p>            <p id="ebbf88be">For example, the Hub server redirects the user-agent by                sending the following HTTP response:            </p>            <div class="code-block" data-lang="markup">
HTTP/1.1 302 Found
Location:
http://myservice.company.com/authorized#access_token=1443459450185.0-0-0-0-0.98071167-004c-4ddf-ba37-5d4599fdf319.0-0-0-0-0%3B1.MCwCFC%2FYWvLjHdzOdpLleDLITJn4Mz9rAhRklCoZ2dlMkh2aCd1K5QQ89ibsxg%3D%3D&amp;token_type=Bearer&amp;expires_in=3600&amp;scope=0-0-0-0-0%2098071167-004c-4ddf-ba37-5d4599fdf319&amp;state=9b8fdea0-fc3a-410c-9577-5dee1ae028da
            </div>                    </div>        <div class="chapter"><h3 id="ErrorRedirectBackFromHub" data-toc="OAuth-Authorization#ErrorRedirectBackFromHub">OAuth 2.0 Errors</h3>            <p id="b223015f">                If the request fails due to a missing, invalid, or mismatching                redirect URI, or if the client identifier is missing or invalid,                the Hub server informs the resource owner of the                error and does not automatically redirect the user-agent to the                invalid redirection URI.            </p>            <p id="06084192">                If the resource owner denies the access request or if the request                fails for reasons other than a missing or invalid redirection URI,                the authorization server informs the client by adding the following                parameters to the fragment component of the redirect URI using the                "<code class="code">application/x-www-form-urlencoded</code>" format:            </p>            <div class="table-wrapper"><table width="100%" id="a28e055c"><thead><tr id="e337d68f" class="ijRowHead"><th id="816783f1" width="20%"><p>Parameter</p></th><th id="95359a27"><p>Description</p></th></tr></thead><tbody><tr id="1839d639" class="ijRowOdd"><td id="792945df"><code class="code">error</code></td><td id="6d3e4a02"><p>A single ASCII [USASCII] error code.                        For a list of possible errors, see <a href="#AuthorizationResponseErrors">Authorization Response Errors</a> and                        <a href="#token-response-error-codes">Token Response Errors</a>.</p></td></tr><tr id="68e530ea" class="ijRowEven"><td id="ea3d0657"><code class="code">error_description</code></td><td id="87b1f096"><p>Human-readable ASCII [USASCII] text providing                        additional information, used to help the client developer understand what went wrong.</p></td></tr><tr id="dc3d9bac" class="ijRowOdd"><td id="38117ca7"><code class="code">error_uri</code></td><td id="ec6376cb"><p>A URI that identifies a human-readable web page with                        information about the error, used to provide the client                        developer with additional information.</p></td></tr><tr id="883a7973" class="ijRowEven"><td id="03b37079"><code class="code">state</code></td><td id="71479729"><p>Required if a "state" parameter was present in the client                        authorization request. The exact value received from the                        client.</p></td></tr></tbody></table></div>            <p id="0718a8d8">For example, Hub redirects the user-agent by sending the following HTTP response:</p>            <div class="code-block" data-lang="markup">
                HTTP/1.1 302 Found
                Location: https://myservice.company.com/cb#error=access_denied&amp;state=xyz
            </div>                        <div class="chapter"><h4 id="AuthorizationResponseErrors">Authorization Response Errors</h4>                <p id="8bd2b019">The following errors can be returned by a request to the authorization endpoint.</p>                <div class="table-wrapper"><table class=" wide" width="100%" id="1608cfac"><thead><tr id="ae53cdca" class="ijRowHead"><th id="85c77f8b" width="20%"><p>Error</p></th><th id="fc0db5e8" width="40%"><p>Description</p></th><th id="e895718a" width="40%"><p>Solution</p></th></tr></thead><tbody><tr id="b6cf7986" class="ijRowOdd"><td id="45591976"><a name="auth.invalid_request"></a><code class="code">invalid_request</code></td><td id="abfc9f80"><p>The authorization request to Hub is missing a required parameter, includes an invalid parameter value, includes a parameter more                            than once, or is otherwise malformed.</p></td><td id="102afa1e"><p>Verify that all of the parameters are correct, that the provided <code class="code">service_id</code> exists, and so on.</p></td></tr><tr id="cccf60c7" class="ijRowEven"><td id="9938da42"><a name="auth.unauthorized_client"></a><code class="code">unauthorized_client</code></td><td id="c8749865"><p>Either the client is not authorized to request an authorization code using this method                            or <code class="code">redirect_URI</code> of the service either is incorrect or                            missing.</p></td><td id="a5732da3"><ol class="list _decimal"><li class="list__item" id="4fb1e353"><p>Make sure the <code class="code">redirect_uri</code> is correct and properly registered as one of the service's redirect URIs.</p></li><li class="list__item" id="35911a8b"><p>Make sure your service provides at least one <code class="code">redirect_uri</code> in Hub.</p></li></ol></td></tr><tr id="63f493dc" class="ijRowOdd"><td id="70e43753"><code class="code">access_denied</code></td><td id="dbbbb3f4"><p>The resource owner or Hub denied the request.</p></td><td id="19384dd4"><p>Verify that you are using the correct value for the <code class="code">scope</code> parameter.</p></td></tr><tr id="279d5b8a" class="ijRowEven"><td id="6c3e4fa9"><a name="auth.unsupported_responce_type"></a><code class="code">unsupported_response_type</code></td><td id="94dbb327"><p>Hub does not support obtaining an authorization code using this method.</p></td><td id="536badfe"><p>Verify that you have set the value for the <code class="code">response_type</code> to <code class="code">token</code>.</p></td></tr><tr id="d0578e73" class="ijRowOdd"><td id="99a863c0"><a name="auth.invalid_scope"></a><code class="code">invalid_scope</code></td><td id="eaf089e4"><p>The scope for which authorization is requested, does not match any registered service.</p></td><td id="bac4deb2"><p>Make sure that request is correct.</p></td></tr><tr id="6a10a2b8" class="ijRowEven"><td id="6ee1628d"><code class="code">server_error</code></td><td id="bd00df47"><p>The Hub service encountered an unexpected                            condition that prevented it from fulfilling the request.                            (This error code is needed because a 500 Internal Server                            Error HTTP status code cannot be returned to the client                            with an HTTP redirect.)</p></td><td id="bd3ee8d4"><p>The connection between YouTrack and the Hub service may be out of sync.                            Open the <span class="control">Hub Integration</span> page in YouTrack and run diagnostics.</p></td></tr><tr id="341d3965" class="ijRowOdd"><td id="302722eb"><code class="code">temporarily_unavailable</code></td><td id="3cbb07c7"><p>The authorization server is currently unable to handle                            the request due to a temporary overloading or maintenance                            of the server. (This error code is needed because a 503                            Service Unavailable HTTP status code cannot be returned                            to the client with an HTTP redirect.)</p></td><td id="dd4cb004"><p>The connection between YouTrack and the Hub service may be out of sync.                            Open the <span class="control">Hub Integration</span> page in YouTrack and run diagnostics.</p></td></tr></tbody></table></div>            </div>            <div class="chapter"><h4 id="token-response-error-codes">Token Response Errors</h4>                <p id="3a839228">The following errors can be returned by a request to the token endpoint.                    For more information, read the definition of each error as defined in the <a href="https://tools.ietf.org/html/rfc6749#section-5.2" data-external="true" target="_blank" rel="noopener noreferrer">RFC6749 standard</a>.</p>                <div class="table-wrapper"><table class=" wide" width="100%" id="39285e76"><thead><tr id="6f9bf648" class="ijRowHead"><th id="0e2067fc" width="20%"><p>Error</p></th><th id="a8d1f565" width="40%"><p>Description</p></th><th id="c3280eaf" width="40%"><p>Solution</p></th></tr></thead><tbody><tr id="70f19a5e" class="ijRowOdd"><td id="db0a5807">                            <a name="token.invalid_request"></a>                            <code class="code">invalid_request</code>                        </td><td id="7152ce61">                            <p id="015f82d5">The request is missing a required parameter, includes an                                unsupported parameter value (other than grant type),                                repeats a parameter, includes multiple credentials,                                utilizes more than one mechanism for authenticating the                                client, or is otherwise malformed.                            </p>                        </td><td id="26ae3920"><p>Check the response header, then check if the request is correct.</p></td></tr><tr id="0b7035de" class="ijRowEven"><td id="6559cf72">                            <a name="token.invalid_client"></a>                            <code class="code">invalid_client</code>                        </td><td id="15d6b7a8"><p>Client authentication failed. For example, the client is unknown, no                            client authentication included, or the authentication method is unsupported.                        </p></td><td id="6b416141"><p>Check the value for the <code class="code">client_id</code> parameter.</p></td></tr><tr id="7a467c07" class="ijRowOdd"><td id="235b4455">                            <a name="token.unsupported_grant_type"></a>                            <code class="code">unsupported_grant_type</code>                        </td><td id="8028e5d1"><p>The authorization grant type is not supported by Hub.</p></td><td id="be7c903a"><p>Verify that you have set the value for the <code class="code">response_type</code> to <code class="code">token</code>.</p></td></tr><tr id="02d8d1ab" class="ijRowEven"><td id="5d82ff23">                            <a name="token.invalid_scope"></a>                            <code class="code">invalid_scope</code>                        </td><td id="382ba15b"><p>The scope to which you are requiring access token does not match any registered                            service.                        </p></td><td id="3180293b"><p>Verify that you are using the correct value for the <code class="code">scope</code> parameter.</p></td></tr></tbody></table></div>            </div>        </div>    </div>    <div class="last-modified" data-skip-index="skip">Last modified: 29 November 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="authentication-with-permanent-token.html">Permanent Token Authorization</a><a class="navigation-links__next" href="youtrack-rest-api-reference.html">REST API</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>