<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>如何在DataGrip中导出数据-帮助|帮助数据夹</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body  data-id="Export_data_in_IDE"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索DataGrip帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>DataGrip 2019.2帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option value="primary_default_for_windows" data-group="primary" selected>Windows的默认设置</option><option value="primary_default_for_macos" data-group="primary">macOS的默认设置</option><option value="primary_intellij_idea_classic_macos" data-group="primary">IntelliJ IDEA经典版（macOS）</option><option value="primary_emacs" data-group="primary">埃马克斯</option><option value="primary_default_for_xwin" data-group="primary">XWin的默认设置</option><option value="primary_default_for_gnome" data-group="primary">GNOME的默认设置</option><option value="primary_default_for_kde" data-group="primary">KDE的默认值</option><option value="primary_sublime_text" data-group="primary">崇高文字</option><option value="primary_sublime_text_macos" data-group="primary">崇高文字（macOS）</option><option value="secondary_default_for_windows" data-group="secondary">Windows的默认设置</option><option value="secondary_default_for_macos" data-group="secondary">macOS的默认设置</option><option value="secondary_intellij_idea_classic" data-group="secondary">IntelliJ IDEA经典版</option><option value="secondary_emacs" data-group="secondary">埃马克斯</option><option value="secondary_default_for_xwin" data-group="secondary">XWin的默认设置</option><option value="secondary_default_for_gnome" data-group="secondary">GNOME的默认设置</option><option value="secondary_default_for_kde" data-group="secondary">KDE的默认值</option><option value="secondary_sublime_text" data-group="secondary">崇高文字</option><option value="secondary_sublime_text_macos" data-group="secondary">崇高文字（macOS）</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 id="Export_data_in_IDE.xml" data-toc="Export_data_in_IDE">如何在DataGrip中导出数据</h1>        <p id="6e431b5f">DataGrip具有强大的引擎，可以导出各种格式的数据。您甚至可以创建自己的导出格式。</p>        <div class="chapter"><h2 id="export-directions">出口方向</h2>                            <p id="e8064d94">任何结果集，表或视图都可以导出到文件或复制到剪贴板。</p>                <section class="procedure-steps"><h3 id="export-to-a-file">导出到文件</h3><ul class="list "><li class="list__item" id="eda4f094"><p>右键单击结果集，表或视图，然后选择“ <span class="menupath" data-skip-index="skip">转储数据” |“表”。要归档</span> 。</p></li><li class="list__item" id="df8caba4"><p>右键单击查询，单击“ <span class="control">执行到文件”，</span>然后选择要用于导出的文件类型（例如， <span class="control">逗号分隔（CSV）</span> ）。</p></li><li class="list__item" id="2728ce9d"><p>在工具栏上，单击“ <span class="control">转储数据”</span>图标（ <img class="inline-icon-16" src="/help/img/idea/2019.2/icons.actions.download.svg@2x.png" width="16" alt="转储数据图标"> ），然后选择“ <span class="control">到文件”</span> 。</p></li></ul><figure><img alt="将视图导出到文件" title="将视图导出到文件" src="/help/img/idea/2019.2/db_tutorial_export_data_file.png" id="63b064cf" width="605" height="348"></figure></section>                <section class="procedure-steps"><h3 id="export-to-a-clipboard">导出到剪贴板</h3><ul class="list "><li class="list__item" id="f9571b00"><p>在结果集中或编辑器中选择数据，然后按<kbd data-primary_default_for_windows="Ctrl+C" data-primary_default_for_macos="⌘+C" data-primary_intellij_idea_classic_macos="⌘+C" data-primary_emacs="Ctrl+Insert" data-primary_default_for_xwin="Ctrl+C" data-primary_default_for_gnome="Ctrl+C" data-primary_default_for_kde="Ctrl+C" data-primary_sublime_text="Ctrl+C" data-primary_sublime_text_macos="⌘+C" data-secondary_default_for_windows="⌃C" data-secondary_default_for_macos="⌘C" data-secondary_intellij_idea_classic="⌘C" data-secondary_emacs="⌥C" data-secondary_default_for_xwin="⌃C" data-secondary_default_for_gnome="⌃C" data-secondary_default_for_kde="⌃C" data-secondary_sublime_text="⌃C" data-secondary_sublime_text_macos="⌘C">Ctrl+C</kbd> 。</p></li><li class="list__item" id="7755f53d"><p>在工具栏上，单击“ <span class="control">转储数据”</span>图标（ <img class="inline-icon-16" src="/help/img/idea/2019.2/icons.actions.download.svg@2x.png" width="16" alt="转储数据图标"> ），然后选择“ <span class="control">到剪贴板”</span> 。</p></li></ul><figure><img alt="将视图导出到剪贴板" title="将视图导出到剪贴板" src="/help/img/idea/2019.2/db_tutorial_export_data_clipboard.png" id="7d52b06c" class=" _border-line" width="605" height="348"></figure></section>        </div>        <div class="chapter"><h2 id="default-extractors">默认提取器</h2>                <p id="445c9be9">您可以从“ <span class="control">转储数据”</span>图标附近的列表中选择默认的导出格式（ <img class="inline-icon-16" src="/help/img/idea/2019.2/icons.actions.download.svg@2x.png" width="16" alt="转储数据图标"> ）。有几种内置格式。您可以将数据导出为一组INSERT或UPDATE语句。另外，您可以选择CSV，JSON，HTML，Markdown等文本格式，以及其他格式（有关导出选项的更多信息，请参见<a href="/datagrip/features/importexport.html" rel="noopener noreferrer" data-external="true" target="_blank">导入/导出选项）</a> 。</p>                   <figure><img alt="选择提取器" title="选择提取器" src="/help/img/idea/2019.2/db_tutorial_export_data_2.png" id="5704c891" width="700" height="902"></figure>        </div>        <div class="chapter"><h2 id="creating-a-dsv-based-extractor">创建基于DSV的提取器</h2>                <p id="09207c5c">您可以扩展默认功能并创建基于CSV的自己的格式（或任何DSV格式）。</p>                    <section class="procedure-steps"><ol class="list _decimal"><li class="list__item" id="c9393e38"><p>从<span class="control">转储数据</span>列表中（ <img class="inline-icon-16" src="/help/img/idea/2019.2/icons.actions.download.svg@2x.png" width="16" alt="转储数据图标"> ），选择<span class="control">配置CSV格式</span> 。</p></li><li class="list__item" id="3eea14d6"><p>在“ <span class="control">CSV格式”</span>对话框中，单击“ <span class="control">添加格式”</span>图标<img class="inline-icon-16" src="/help/img/idea/2019.2/icons.general.add.svg@2x.png" width="16" alt="添加格式图标"> 。</p></li><li class="list__item" id="077a8f39"><p>指定新格式的名称（例如<span class="control">Confluence Wiki Markup</span> ）。</p></li><li class="list__item" id="e143ece4"><p id="9b283417">定义格式的设置，然后单击<span class="control">确定</span> 。</p>                            <p id="e0aec290">创建格式后，您可以在“ <span class="control">转储数据”</span>图标附近的下拉列表中将其选中（ <img class="inline-icon-16" src="/help/img/idea/2019.2/icons.actions.download.svg@2x.png" width="16" alt="转储数据图标"> ）。</p></li></ol><figure><img alt="配置提取器" title="配置提取器" src="/help/img/idea/2019.2/db_tutorial_export_data_4.png" id="5f0c0869" width="605" height="1148"></figure></section>        </div>        <div class="chapter"><h2 id="creating-any-text-extractor-with">使用脚本创建任何文本提取器</h2>        <p id="fd8f6b12">对于更复杂的情况，请使用脚本提取器。DataGrip已经有一些（例如<span class="control">CSV-Groovy.csv.groovy</span> ， <span class="control">HTML-Groove.html</span>和其他提取器）。这些脚本是用Groovy编写的，但是您也可以用JavaScript编写。考虑使用Groovy的示例。</p>        <p id="ac9f12a8">仔细查看文件名<span class="control">CSV-Groovy.csv.groovy：</span></p>            <ul class="list _ul"><li class="list__item" id="7ff496b0"><p><span class="control">CSV-Groovy</span>是脚本的名称。</p></li><li class="list__item" id="76dd22bc"><p><span class="control">csv</span>是结果文件的扩展名。</p></li><li class="list__item" id="09380430"><p><span class="control">groovy</span>是脚本的扩展。</p></li></ul>        <p id="8fa87dd7">脚本通常位于<span class="filepath">Scratches and Console /扩展/数据库工具和SQL / data / extractors中</span> 。或者，您可以在提取器菜单中选择“ <span class="control">转到脚本目录</span> ”以导航至该<span class="control">目录</span> 。</p>                <figure><img alt="转到脚本目录" title="转到脚本目录" src="/help/img/idea/2019.2/db_tutorial_export_data_6.png" id="ca516dad" width="605" height="824"></figure>        <p id="5de649e7">编辑现有的提取器或将自己的提取器添加到此文件夹。</p>        <p id="99bd7dff">让我们创建一个提取器，将数据转储为CSV格式，但仅转储到一行。如果要将这些值粘贴到<span class="control">WHERE</span>子句中的<span class="control">IN</span>运算符中，将很有用。</p>        <p id="d9edb7bb">请参见以下两个脚本的区别：现有的<span class="control">CSV-Groovy.csv.groovy</span>和<a href="https://gist.github.com/moscas/793e441b12872b8339a1471966343439#file-csv-toonerow-groovy-csv-groovy" rel="noopener noreferrer" data-external="true" target="_blank">CSV-ToOneRow-Groovy.csv.groovy</a> 。</p>           <figure><img alt="查看两个脚本的差异" title="查看两个脚本的差异" src="/help/img/idea/2019.2/db_tutorial_export_data_7.png" id="2ed4c50a" width="605" height="1046"></figure>        <p id="5a94a54d">考虑可用的上下文绑定：</p>       <div class="code-block" data-lang="none">COLUMNS <datacolumn>//选定的列ALL_COLUMNS列出<datacolumn>//所有列</datacolumn></datacolumn></div>        <p id="21c98a42">当您将整个页面转储到文件时，这些对象是相等的。</p>            <div class="code-block" data-lang="none">ROWS可迭代<datarow>//选定的行</datarow></div>        <p id="3b32a2ee">，其中：</p>            <div class="code-block" data-lang="none">DataRow {rowNumber（）;第一（）;持续（）; data（）：列表<object>； value（column）：Object} DataColumn {columnNumber（）;名称（） }</object></div>            <div class="code-block" data-lang="none">OUT {append（）} //要输出数据的对象FORMATTER {format（row，col）; formatValue（Object，col）} //将数据转换为String TRANSPOSED布尔值//检查是否已转置数据编辑器（Gear Icon→Transpose）TABLE DasTable //表示要从中提取数据的实际表的对象</div>                <p id="dd799e58"><code class="code">DasTable</code>有两种重要方法：</p>        <p id="940b1eff"><span class="control">v2017.3之前</span></p>            <div class="code-block" data-lang="none">DasObject getDbParent（）JBIterable <dasobject>getDbChildren（Class，ObjectKind）</dasobject></div>        <p id="f0ccde40"><span class="control">从v2017.3开始</span></p>            <div class="code-block" data-lang="none">DasObject getDasParent（）JBIterable <dasobject>getDasChildren（ObjectKind）</dasobject></div>        <p id="1c8c5810">有关API的其他信息，请参见<a href="https://intellij-support.jetbrains.com/hc/en-us/community/posts/205993979-What-objects-functions-are-available-for-custom-data-extractors-" rel="noopener noreferrer" data-external="true" target="_blank">此处</a> 。</p>        <p id="a01a8282">当您在IntelliJ IDEA中创建或编辑Groovy脚本并安装了Groovy时，将提供编码帮助。</p>     <figure><img alt="Groovy脚本的编码帮助" title="Groovy脚本的编码帮助" src="/help/img/idea/2019.2/db_tutorial_export_data_8.png" id="b119d41a" width="605" height="322"></figure>        <p id="e0e2d869">将<span class="filepath">CSV-ToOneRow-Groovy.csv.groovy</span>放入文件夹后，即可使用提取器。</p>       <figure><img alt="使用提取器" title="使用提取器" src="/help/img/idea/2019.2/db_tutorial_export_data_9.png" id="ad7606e2" width="605" height="838"></figure>        <p id="18599ecc">复制这些值并将其粘贴到查询中。</p>     <figure><img alt="复制值并将其粘贴到查询中" title="复制值并将其粘贴到查询中" src="/help/img/idea/2019.2/db_tutorial_export_data_10.png" id="7e7db3e7" width="605" height="127"></figure>        <p id="ed703692">这是另一个基于<span class="control">SQL-Insert-Statements.sql.groovy的</span>示例。MySQL和PostgreSQL允许使用多行语法。要使用这种类型的提取器，请在脚本文件夹中创建一个新的<a href="https://gist.github.com/leo-from-spb/ec438f1fe9995b910ad816aabe47dd4f" rel="noopener noreferrer" data-external="true" target="_blank">SQL-Inserts -MultirowSynthax.sql.groovy</a>文件。</p>                <figure><img alt="创建一个新的SQL-Inserts-MultirowSynthax.sql.groovy文件" title="创建一个新的SQL-Inserts-MultirowSynthax.sql.groovy文件" src="/help/img/idea/2019.2/db_tutorial_export_data_11.png" id="138e2973" width="605" height="1214"></figure>                              <p id="1658de92">同样，只需在菜单中选择它即可。</p>            <figure><img alt="在菜单中选择脚本" title="在菜单中选择脚本" src="/help/img/idea/2019.2/db_tutorial_export_data_12.png" id="98873228" width="605" height="926"></figure>        <p id="2cc98ee4">在DataGrip中查看结果：</p>       <figure><img alt="脚本的结果" title="脚本的结果" src="/help/img/idea/2019.2/db_tutorial_export_data_13.png" id="e4c25ba1" width="605" height="244"></figure>        <p id="c280bb85">随意在GitHub上使用其他生成的提取器：</p>            <ul class="list _ul"><li class="list__item" id="bea94178"><p><a href="https://gist.github.com/siggibjarna/ca15688a319771a309078fdd4577deee" rel="noopener noreferrer" data-external="true" target="_blank">提取器可复制制表符分隔的查询结果，并使用逗号十进制分隔符粘贴到Excel中</a> 。</p></li><li class="list__item" id="366cc64f"><p><a href="https://ssmusoke.com/2017/04/17/techtip-dbunit-export-from-jetbrains-DataGrip/" rel="noopener noreferrer" data-external="true" target="_blank">DBunit XML</a> 。</p></li><li class="list__item" id="f4ba41e7"><p><a href="https://gist.github.com/mvitaly/106347c5edfa6614d5311b228b4446c9" rel="noopener noreferrer" data-external="true" target="_blank">带有固定长度columns的Txt文件</a> 。（ <a href="https://github.com/aukevanleeuwen/intellij-extractors/blob/master/Table-Text-Groovy.txt.groovy" rel="noopener noreferrer" data-external="true" target="_blank">这是一个非常相似的</a> ）。</p></li><li class="list__item" id="02fca811"><p><a href="https://gist.github.com/pthiers/6afa65b68947770e5b7ec07bec2117f2" rel="noopener noreferrer" data-external="true" target="_blank">php数组</a> 。</p></li><li class="list__item" id="5827e683"><p><a href="https://gist.github.com/jimschubert/a9dc46dafc891227f25d82a934a7df72" rel="noopener noreferrer" data-external="true" target="_blank">降价</a> 。</p></li></ul>        </div>        <div class="last-modified" data-skip-index="skip">上次修改时间：2019年11月11日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="how-to-find-things-in-datagrip.html">如何在DataGrip中搜索</a> <a class="navigation-links__next" href="how-to-connect-to-heroku-postgres.html">如何在没有SSL验证的情况下连接到Heroku Postgres</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>