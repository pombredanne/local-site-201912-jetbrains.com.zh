<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>IntelliLang配置-帮助| PyCharm</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body  data-id="topicId333803" data-article-props="
                {
                
            " seeals=":[=" titl=":=" external="" link=":=" ur=":" intellilang.htm="," tex=":" intellilan="}=" web="" resource=",=" http:="" ="" devnet.jetbrains.com="" community="" python?view="documents" developer="" communit="}="><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索PyCharm帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>PyCharm 2019.2帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option value="primary_default_for_windows" data-group="primary" selected>Windows的默认设置</option><option value="primary_intellij_idea_classic_macos" data-group="primary">IntelliJ IDEA经典版（macOS）</option><option value="primary_default_for_gnome" data-group="primary">GNOME的默认设置</option><option value="primary_default_for_kde" data-group="primary">KDE的默认值</option><option value="primary_sublime_text" data-group="primary">崇高文字</option><option value="primary_eclipse" data-group="primary">日食</option><option value="primary_emacs" data-group="primary">埃马克斯</option><option value="primary_default_for_xwin_windows" data-group="primary">XWin的默认设置（Windows）</option><option value="secondary_default_for_macos" data-group="secondary">macOS的默认设置</option><option value="secondary_default_for_gnome" data-group="secondary">GNOME的默认设置</option><option value="secondary_default_for_kde" data-group="secondary">KDE的默认值</option><option value="secondary_eclipse" data-group="secondary">日食</option><option value="secondary_default_for_xwin_macos" data-group="secondary">XWin的默认设置（macOS）</option><option value="secondary_sublime_text_macos" data-group="secondary">崇高文字（macOS）</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 id="IntelliLang_Configuration.xml" data-toc="topicId333803">IntelliLang配置</h1>                        <a name="non_educational_edition_feature"></a>    <aside class="warning " rel="IntelliLang_Configuration.xml" id="73c25652" data-title=""><p>此功能在PyCharm的<b id="be6ea139" origin="intellij-platform">教育</b>版中不可用。</p></aside><div class="chapter"><h2 id="Configuration" data-toc="topicId333803#Configuration">组态</h2>    <p id="a0bd3173">配置对话框提供以下选项：</p>    <ul class="list _ul"><li class="list__item" id="5d365265"><p>XML文本的语言注入</p></li><li class="list__item" id="116d1b10"><p>XML属性的语言注入</p></li><li class="list__item" id="dee47f83"><p>方法参数的语言注入</p></li><li class="list__item" id="b35b3eb3"><p>高级设置，使您可以更改识别的基本注释的名称以及运行时期间执行模式验证的方式。</p></li></ul></div>        <div class="chapter"><h2 id="LanguageInjection" data-toc="topicId333803#LanguageInjection">语言注入</h2>        <p id="a0a1d87a"><a name="open_settings"></a>在“ <span class="control">设置/首选项”</span>对话框中（ <kbd data-primary_default_for_windows="Ctrl+Alt+S" data-primary_intellij_idea_classic_macos="⌘+Comma" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_sublime_text="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-primary_emacs="Ctrl+Alt+S" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⌘," data-secondary_default_for_gnome="⌃⌥S" data-secondary_default_for_kde="⌃⌥S" data-secondary_eclipse="⌃⌥S" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="⌘,">Ctrl+Alt+S</kbd> ）导航到<span class="control">编辑器|语言注入</span> 。该对话框允许您配置XML文本，属性和方法参数的语言注入功能。使用工具栏上的按钮或上下文菜单操作来添加，删除，复制或导入新条目。要添加新条目，必须首先选择适当的组。</p>        <div class="chapter"><h3 id="XMLText">XML文字</h3>        <p id="01365a82">请点击<img class="inline-icon-16" src="/help/img/idea/2019.2/artwork.studio.icons.common.add@2x.png" width="16" alt="艺术品工作室图标常见添加">并从列表中选择<span class="control">XML属性注入</span> 。添加新的XML注入后，选择要注入的语言的ID，并可以选择指定构成注入上下文的前缀/后缀。</p>        <figure><img alt="py xml注入" title="py xml注入" src="/help/img/idea/2019.2/py_xml_injection.png" id="2f86d827" width="471" height="1082"></figure>    <p id="86729d25">在“ <i id="0fc988a3">XML标签”</i>窗格中，指定应该被视为所选语言的文本周围的XML标签的本地名称（即<i id="71e3bb21">没有</i>任何名称空间前缀的名称）和名称空间URI。<i id="57380238">名称</i>字段不应为空，但是<i id="6f35f4b5">名称空间</i>字段是可选的。</p>    <p id="5597b3b9">“ <i id="fb731b84">本地名称”</i>字段采用正则表达式，这使得可以指定例如多个标记名（ <span class="control">name1 | name2</span> ），不区分大小写的名称（例如<span class="control">（？i）tagname</span>与<i id="04d77f07">tagname</i>以及<i id="3ddde116">TagName都</i>匹配，等等。请确保不要输入任何空格字符，因为它们对于匹配很重要。</p>    </div>        <div class="chapter"><h3 id="XMLAttributes">XML属性</h3>    <p id="546fa4b5">这类似于XML文本配置。但是，可以将<i id="2283ceac">XML Tag</i>的<i id="391a3a1e">名称</i>保留为空，这意味着该配置将应用于与已配置名称匹配的任何属性，而不管其包含的XML标签如何。</p>    <p id="8b480247">该属性的名称采用该属性的本地名称，也被指定为正则表达式。通过指定名称“ on。*”，可以将其例如用于匹配HTML事件处理程序属性。属性名称也可以为空（除非标签名称也为空），这意味着该配置适用于包含标签的所有属性。</p>    </div>        <div class="chapter"><h3 id="AdvancedXMLOptions">高级XML选项</h3>    <p id="737c8c25">“ XML文本和属性”的“ <i id="d4f05870">高级”</i>窗格允许对注入过程进行更细粒度的控制。</p>    <ul class="list" data-skip-index="skip"><li class="list__item"><a href="#ValuePattern">价值模式</a></li><li class="list__item"><a href="#XPathCondition">XPath条件</a></li><li class="list__item"><a href="#MethodParameters">方法参数</a></li><li class="list__item"><a href="#ImportingConfigurationEntries">导入配置条目</a></li><li class="list__item"><a href="#AdvancedSettings">高级设置</a></li><li class="list__item"><a href="#ContributedConfigurations">贡献配置</a></li></ul>    <div class="chapter"><h4 id="ValuePattern">价值模式</h4>    <p id="33303863">该字段采用一个正则表达式，该表达式确定应将语言注入XML文本或属性值的哪一部分。这可用于仅将语言注入与特定模式匹配的值，或将其注入与模式匹配的多个部分。这是通过使用图案的第一个捕获组作为注射目标来完成的。</p>    <p id="2c8a59f6">例子：</p>    <code class="code">[$#]\{(.*?)\}</code>    <p id="9632ee19">这与JSP / JSF表达式语言使用的模式匹配。</p>    <code class="code">^javascript:(.*)</code>    <p id="95582bd6">这与可在超链接-href中用于执行JS代码的<i id="e0596265">javascript</i> -protocol匹配。</p>    </div>            <div class="chapter"><h4 id="XPathCondition">XPath条件</h4>    <p id="68f20afd">该字段采用一个XPath表达式，可以不仅仅通过提供其名称和名称空间URI来更精确地解决注入目标。计算表达式的上下文是用于XML文本注入的周围XML标记，以及用于XML属性注入的属性本身。</p>    <p id="b19f45c8">例：</p>    <code class="code">lower-case(@type)='text/javascript'</code>    <p id="d2d47024">这将注入限制为其<span class="control">type</span>属性包含值“ text / javascript”的标签。</p>      <p id="f2d16415">可以使用XPath <a href="http://www.cafeconleche.org/jaxen/apidocs/org/jaxen/function/ext/package-summary.html" rel="noopener noreferrer" data-external="true" target="_blank">扩展功能</a> ，例如<span class="control">lower-case（）</span> 。另外，还有三个附加函数可用于确定当前文件的名称，扩展名和文件类型： <span class="control">file-name（）</span> ， <span class="control">file-ext（）</span>和<span class="control">file-type（）</span> 。您还可以使用正常的代码补全功能来获取可用功能的列表。</p>    <aside class="warning " rel="f2d16415" id="52e607ed" data-title="">      <p id="adf5894b">出于性能原因，建议使这些表达式尽可能简单。特别是导致整个文档被扫描的表达式，例如<span class="control">// foo / bar</span>可能会导致大文件的性能问题。</p>    </aside>    </div>        </div>        <div class="chapter"><h3 id="MethodParameters">方法参数</h3>    <p id="356cea3e">如果由于某种原因无法使用注入注释，则可以利用IntelliLang的功能。这主要适用于配置第三方/库方法以及仍必须使用Java 1.4的项目。</p>    <p id="e543ed5e">语言选择与上述语言选择相同。要选择某个方法的一个或多个参数，请首先通过输入名称（文本字段支持补全）或使用通过[...]按钮提供的类选择器来选择其包含的类。接下来，使用“方法名称”窗格内的[...]按钮选择一种方法（无法手动编辑方法名称）。选择方法后，将使用所选方法的参数填充“ <i id="d2b04d7a">参数”</i>窗格中的表。选中第一列中的复选框，以将所选语言注入为此参数传递的参数中。请注意，只能选择String类型的参数。</p>      <p id="4fcdec95">已经有一个IntelliJ IDEA核心（而不是Inspection Gadgets）检查，它可以将某些众所周知的方法的参数检查为有效的正则表达式。但是，IntelliLang可以提供更详细的错误消息以及正则表达式支持插件的所有功能。</p>      <p id="42cac21b">XPathView + XSLT-Support插件提供了默认为某些标准XPath-API配置的XPath语言，可从<a href="http://plugins.intellij.net/plugin/?id=237" rel="noopener noreferrer" data-external="true" target="_blank">此处获得</a> 。</p>    </div>        <div class="chapter"><h3 id="ImportingConfigurationEntries">导入配置条目</h3>    <p id="6563163e">要从另一个PyCharm安装中导入注入配置，请使用工具栏中的“ <i id="ebad4846">导入”</i>按钮，然后从<span class="control">IDEA-CONFIG-HOME / options</span>或包含一些已导出（通过“文件” |“导出”设置）PyCharm的JAR文件中选择文件“ IntelliLang.xml”设置。选择文件后，新对话框将显示该文件中包含的条目。使用<span class="control">删除</span> -按钮删除你不希望导入的所有条目。请注意，这<i id="1ba5b970">不会</i>更改所选的配置文件。</p>    <p id="bea65b4b">这种选择性的导入功能使您可以轻松地在团队中共享某些配置，而不会丢失任何本地条目，例如通过核心文件|导入设置时。导入设置操作。</p>      <p id="58813078">为防止数据不一致，仅当现有配置未更改或已使用“ <i id="a389b783">应用”</i>按钮保存时，才可以导入。</p>    </div>    </div>    <div class="chapter"><h2 id="AdvancedSettings" data-toc="topicId333803#AdvancedSettings">高级设置</h2>    <p id="496c6ed7">高级配置选项卡允许您为应使用的基本注释指定不同的名称。这有助于避免在不需要或不可能的情况下对外部代码的任何依赖。自定义注释应该只提供与原始注释相同的属性，即所有注释的<span class="control">值</span>以及<span class="control">@Language</span>替换的可选（默认=“”） <span class="control">前缀</span>和<span class="control">后缀</span> 。</p>    <p id="c79f0056">在这里，还可以配置插件应为<span class="control">@Pattern</span>验证生成的运行时检查类型：</p>    <ul class="list _ul"><li class="list__item" id="869dcf9b"><p>没有检测：不会插入任何检查，并且不会涉及任何已编译的类文件</p></li><li class="list__item" id="802d8b91"><p>使用<span class="control">assert的检测</span> ：模式验证由<span class="control">-ea</span> JVM开关控制，并引发<span class="control">AssertionError</span> 。由于对频繁调用的方法的性能可能产生负面影响，因此建议使用此方法。</p></li><li class="list__item" id="8c4dc508"><p>使用IllegalArgument-（用于方法参数）和IllegalStateExceptions（用于返回值）进行检测。这与PyCharm的<span class="control">@NotNull</span>仪器相同。</p></li></ul>    </div>    <div class="chapter"><h2 id="ContributedConfigurations" data-toc="topicId333803#ContributedConfigurations">贡献配置</h2>    <p id="d642cc04">可以从此处下载和导入其他配置。这种社区效应可以帮助最小化配置工作，并使IntelliLang更加易于使用。</p>      </div>      <div class="last-modified" data-skip-index="skip">上次修改时间：2019年11月6日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="usage-examples.html">用法示例</a> <a class="navigation-links__next" href="general-usage.html">一般用法</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>