<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta name="robots" content="noindex"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/help/app/v2/analytics.js"></script><meta charset="UTF-8"><title>Optimizing Your Code Using Profilers - Help | PyCharm</title><link rel="stylesheet" href="/help/app/v2/app.css"></head><body data-id="Profiler"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search PyCharm Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>PyCharm 2018.3 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="primary" value="primary_default" selected>Windows/Linux Default</option><option data-group="primary" value="primary_default_for_gnome">GNOME</option><option data-group="primary" value="primary_default_for_kde">KDE</option><option data-group="primary" value="primary_default_for_xwin">XWin</option><option data-group="primary" value="primary_emacs">Emacs</option><option data-group="primary" value="primary_visual_studio">Visual Studio</option><option data-group="primary" value="primary_netbeans">NetBeans</option><option data-group="primary" value="primary_eclipse">Eclipse</option><option data-group="secondary" value="secondary_mac_os_x_10.5_">Default (Mac OS X 10.5+)</option><option data-group="secondary" value="secondary_mac_os_x">Mac OS X</option><option data-group="secondary" value="secondary_eclipse_mac_os_x">Eclipse (Mac OS X)</option><option data-group="secondary" value="secondary_intellij_idea_classic_os_x">IntelliJ IDEA Classic (Mac OS X)</option><option data-group="secondary" value="secondary_xcode">Xcode</option><option data-group="secondary" value="secondary_visual_studio">Visual Studio</option><option data-group="secondary" value="secondary_resharper">ReSharper</option><option data-group="secondary" value="secondary_resharper_osx">ReSharper (Mac OS X)</option><option data-group="secondary" value="secondary_emacs">Emacs (Mac OS X)</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="false"><h1 data-toc="Profiler" id="Profiler.xml">Optimizing Your Code Using Profilers</h1>             <aside class="warning " data-title="" rel="Profiler.xml" id="4a08e8ca"><p>        This feature is only supported in the <b id="cee5a3cf" origin="intellij-platform">Professional</b> edition.         This edition is commercial, and it provides an outstanding set of features:          see the <a href="/pycharm/features/editions_comparison_matrix.html" data-external="true" target="_blank" rel="noopener noreferrer"><span>comparison matrix</span></a> for more details.    </p></aside>    <div class="chapter"><h2 id="intro" data-toc="Profiler#intro">Overview. yappi and CProfile vs VMprof</h2><p id="825d0c45">PyCharm allows running the current <a href="run-debug-configuration.html">run/debug configuration</a> while attaching a Python    profiler to it. </p>    <p id="9af48568">If you have a <a href="https://github.com/sumerc/yappi" data-external="true" target="_blank" rel="noopener noreferrer"><span>yappi</span></a> profiler installed on your interpreter,        PyCharm starts the profiling session with it by default, otherwise it uses the standard        <a href="https://docs.python.org/2/library/profile.html" data-external="true" target="_blank" rel="noopener noreferrer"><span>cProfile</span></a> profiler.</p>    <p id="vmprof">Besides these two tracing profilers, PyCharm supports also sampling (statistical) profiler        <a href="https://vmprof.readthedocs.io/en/latest/" data-external="true" target="_blank" rel="noopener noreferrer"><span>vmprof</span></a>, which should be installed on the selected        Python interpreter. </p>    <aside class="warning " data-title="" rel="vmprof" id="78657927"><p id="eaf15a07">If you are Windows 64 bit user, you have to install Python 32 bit, to make    <code class="code" data-lang="Java">vmprof</code> work. </p>    <p id="ee038f5d">Install 32-bit Python as described on the page        <a href="https://www.python.org/getit/windows/" data-external="true" target="_blank" rel="noopener noreferrer"><span>Python Releases for Windows</span></a>.</p>    </aside>    <p id="30b4cba1">Note the following:</p>    <ul class="list _ul"><li class="list__item" id="d12e59fb"><p>A profiler runs on both <span class="emphasis">local</span> and <span class="emphasis">remote</span> interpreters.</p></li><li class="list__item" id="3c4809a8"><p>A profiler runs in the following order: <code class="code" data-lang="Java">vmprof</code>, <code class="code" data-lang="Java">yappi</code>, <code class="code" data-lang="Java">cProfile</code>.</p></li></ul></div>    <div class="chapter"><h2 id="start-profiling" data-toc="Profiler#start-profiling">Starting the profiling session</h2><p id="dd990471">To start the profiling session, do one of the following:</p>        <ul class="list _bullet"><li class="list__item" id="109cdd05"><p>Click <img alt="profiler icon" title="profiler icon" src="/help/img/idea/2018.3/profiler_icon.png" id="fbaa7ac0" width="19" height="18" class="inline-icon-19"> on the main toolbar.</p></li><li class="list__item" id="9eadce72"><p>Choose <span data-skip-index="skip" class="menupath">Run | Profile &lt;current run.debug configuration name&gt;</span> on the main menu.</p></li></ul>        <p id="f5bc7658">The profiler starts in the dedicated tab of the <a href="run-tool-window.html">Run tool window</a>.</p>    </div><div class="chapter"><h2 id="work-with-profiling-results" data-toc="Profiler#work-with-profiling-results">Working with the profiling results</h2><p id="6ff79b37">On the toolbar of the profiler tab, click <img alt="profiler capture snapshot" title="profiler capture snapshot" src="/help/img/idea/2018.3/profiler_capture_snapshot.png" id="14c73782" width="18" height="19" class="inline-icon-18">. This action results in the following:</p>    <ul class="list _bullet"><li class="list__item" id="ad2ab8e1"><p>The snapshot is saved to the default location under <code class="code" data-lang="Java">.PyCharmXX/system/snapshots</code>            directory under the user's home. For CProfiler, it is saved as            <code class="code" data-lang="Java">&lt;project name&gt;.pstat</code> file:            <figure><img alt="profiler results saved" title="profiler results saved" src="/help/img/idea/2018.3/profiler_results_saved.png" id="ee34e829" width="805" height="406"></figure>        </p></li><li class="list__item" id="d4cf4e2c">The profiling results open in the <code class="code" data-lang="Java">&lt;project name&gt;.pstat</code> tab in the editor,            which consists of two tabs: <span class="control">Statistics</span> and <span class="control">Call Graph</span>:        <figure><img alt="profiler results" title="profiler results" src="/help/img/idea/2018.3/profiler_results.png" id="09ab014a" width="594" height="287"></figure>        <p id="vmprof1">For <code class="code" data-lang="Java">vmprof</code>, it is saved as <code class="code" data-lang="Java">&lt;project name&gt;.prof</code> file.        </p>        </li></ul>    <aside class="tip sideblock" data-title="" rel="vmprof1" id="5f89f6c1"><p id="6ef55e87">For the <code class="code" data-lang="Java">vmprof</code> profiler, the following differences to the other profilers are        important:        <ul class="list _ul"><li class="list__item" id="c1c72d67"><p>The snapshot includes the additional tab <span class="control">Call Tree</span>.</p></li><li class="list__item" id="c5d0f24f"><p>The option <span class="control">Profile lines</span> is available in <code class="code" data-lang="Java">vmprof</code> and enabled by default.                Once statistics is gathered, apart from just seeing the standard profiler                report, call graph and call tree, you can also see the line profiling results right in the editor in the                left gutter. Lines consuming more processor time are marked red.</p></li></ul>         </p></aside>    <div class="chapter"><h3 id="a5726d66">Jumping to the source code</h3>        <p id="89d0a71d">To navigate to the source code of a certain function, right-click the corresponding entry on the        <span class="control">Statistics</span> tab, and choose <span data-skip-index="skip" class="menupath">Navigate to Source</span> on the context menu:</p>        <figure><img alt="profiler jump to source" title="profiler jump to source" src="/help/img/idea/2018.3/profiler_jump_to_source.png" id="204beb7f" width="427" height="191"></figure>        <p id="89e119b4">The source code of the function in question opens in the editor.</p>    </div>    <div class="chapter"><h3 id="b37cec69">Viewing call graph</h3>        <p id="29abe713">To navigate to the call graph of a certain function, right-click the corresponding entry on the            <span class="control">Statistics</span> tab, and choose <span data-skip-index="skip" class="menupath">Show on Call Graph</span> on the context menu.</p>        <p id="e612410c">The <span class="control">Call Graph</span> tab opens with the function un question highlighted:</p>        <figure><img alt="profiler call graph" title="profiler call graph" src="/help/img/idea/2018.3/profiler_call_graph.png" id="1eccd1f8" width="671" height="392"></figure>        <p id="9ca8d845">To increase the graph scale, click <img class="inline-icon-16" src="/help/img/idea/2018.3/artwork.icons.zoomIn@2x.png" width="16" alt="artwork icons zoomIn">; to show actual size of the graph, click            <img class="inline-icon-16" src="/help/img/idea/2018.3/icons.graph.actualZoom.svg@2x.png" width="16" alt="icons graph actualZoom svg">.</p>        <p id="8b53ef2a">Use the toolbar button <img class="inline-icon-16" src="/help/img/idea/2018.3/icons.graph.fitContent.svg@2x.png" width="16" alt="icons graph fitContent svg"> to fit contents into the current diagram size.</p>        <p id="7a0c8cbb">To decrease the graph scale, use <img class="inline-icon-16" src="/help/img/idea/2018.3/artwork.icons.zoomOut@2x.png" width="16" alt="artwork icons zoomOut">.</p>        <p id="5f8fd72e">Note the color codes on the Call Graph. The functions marked red consume more time; the fastest functions are            green.</p>        <figure><img alt="profiler current size" title="profiler current size" src="/help/img/idea/2018.3/profiler_current_size.png" id="47e3f6e8" width="656" height="287"></figure>    </div>    <div class="chapter"><h3 id="c15085d4">Reviewing the existing snapshots</h3>        <section class="procedure-steps"><h2 id="1a314cd1">To open an existing snapshot, follow these steps:</h2><ol class="list _decimal"><li class="list__item" id="d62a257c"><p>On the main menu, choose <span data-skip-index="skip" class="menupath">Tools | Open CProfile snapshot</span>.</p></li><li class="list__item" id="45d1756b">In the <a href="select-path-dialog.html">Select PStat file</a> dialog, choose the desired file with the extension                <code class="code" data-lang="Java">pstat</code>.            <p id="ee1b6d1a">The profiling results open in the <code class="code" data-lang="Java">&lt;project name&gt;.pstat</code> tab in the editor.</p>            </li></ol></section>    </div></div>    <div class="last-modified" data-skip-index="skip">Last modified: 27 February 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="cleaning-pyc-files.html">Cleaning .pyc Files</a><a class="navigation-links__next" href="cython.html">Cython Support</a></div><section class="seealso" data-skip-index="skip"><div class="seealso__header"><h2>See Also</h2></div><div class="seealso__content"><div class="seealso__col" data-skip-index="skip"><h3>External Links:</h3><ul class="list"><li class="list__item"><a href="https://github.com/fogleman/Minecraft" data-external="true" target="_blank" rel="noopener noreferrer"><span>Sample project</span></a></li><li class="list__item"><a href="https://docs.python.org/2/library/profile.html" data-external="true" target="_blank" rel="noopener noreferrer"><span>The Python Profilers</span></a></li><li class="list__item"><a href="https://pypi.python.org/pypi/yappi" data-external="true" target="_blank" rel="noopener noreferrer"><span>yappi</span></a></li><li class="list__item"><a href="https://vmprof.readthedocs.io/en/latest/" data-external="true" target="_blank" rel="noopener noreferrer"><span>vmprof</span></a></li></ul></div></div></section></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/help/app/v2/app.js"></script></body></html>