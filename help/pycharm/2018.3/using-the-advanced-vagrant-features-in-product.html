<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta name="robots" content="noindex"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/help/app/v2/analytics.js"></script><meta charset="UTF-8"><title>Using the Advanced Vagrant Features in PyCharm - Help | PyCharm</title><link rel="stylesheet" href="/help/app/v2/app.css"></head><body data-id="Using_the_Advanced_Vagrant_Features_in_product"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search PyCharm Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>PyCharm 2018.3 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="primary" value="primary_default" selected>Windows/Linux Default</option><option data-group="primary" value="primary_default_for_gnome">GNOME</option><option data-group="primary" value="primary_default_for_kde">KDE</option><option data-group="primary" value="primary_default_for_xwin">XWin</option><option data-group="primary" value="primary_emacs">Emacs</option><option data-group="primary" value="primary_visual_studio">Visual Studio</option><option data-group="primary" value="primary_netbeans">NetBeans</option><option data-group="primary" value="primary_eclipse">Eclipse</option><option data-group="secondary" value="secondary_mac_os_x_10.5_">Default (Mac OS X 10.5+)</option><option data-group="secondary" value="secondary_mac_os_x">Mac OS X</option><option data-group="secondary" value="secondary_eclipse_mac_os_x">Eclipse (Mac OS X)</option><option data-group="secondary" value="secondary_intellij_idea_classic_os_x">IntelliJ IDEA Classic (Mac OS X)</option><option data-group="secondary" value="secondary_xcode">Xcode</option><option data-group="secondary" value="secondary_visual_studio">Visual Studio</option><option data-group="secondary" value="secondary_resharper">ReSharper</option><option data-group="secondary" value="secondary_resharper_osx">ReSharper (Mac OS X)</option><option data-group="secondary" value="secondary_emacs">Emacs (Mac OS X)</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="true"><h1 data-toc="Using_the_Advanced_Vagrant_Features_in_product" id="Using_the_Advanced_Vagrant_Features_in_product.xml">Using the Advanced Vagrant Features in PyCharm</h1>       <div class="chapter"><h2 id="what-about" data-toc="Using_the_Advanced_Vagrant_Features_in_product#what-about">What this tutorial is about</h2>        <p id="c85f7ec1">This tutorial describes how to use the advanced features of Vagrant integration in PyCharm.</p>        <p id="ebc854e6">The details of using <a href="https://www.vagrantup.com/docs/" data-external="true" target="_blank" rel="noopener noreferrer"><span>Vagrant</span></a> and            <a href="https://www.virtualbox.org/" data-external="true" target="_blank" rel="noopener noreferrer"><span>Oracle VirtualBox</span></a> are out of scope of this tutorial. Refer to the            respective documentation for more information.</p>    </div>    <div class="chapter"><h2 id="prereg" data-toc="Using_the_Advanced_Vagrant_Features_in_product#prereg">Prerequisites</h2>        <p id="018aa958">Pay attention to prerequisites mentioned in the <a href="vagrant-support.html"><span>Vagrant: Working with Reproducible Development Environments</span></a> page. Also make sure that a            Vagrant box is created and initialized.</p>        <p id="387384d0">It is highly recommended to read the <a href="vagrant-support.html">PyCharm documentation</a>.</p>    </div>    <div class="chapter"><h2 id="ssh-terminal" data-toc="Using_the_Advanced_Vagrant_Features_in_product#ssh-terminal">Using the built-in SSH terminal to connect to a Vagrant machine</h2>        <p id="74a259a8">PyCharm features a <a href="running-ssh-terminal.html">built-in SSH terminal</a> which can be used to connect to            a remote machine.</p>        <div class="chapter"><h3 id="ea3c79c8" data-toc="Using_the_Advanced_Vagrant_Features_in_product#ea3c79c8">Starting connection</h3>            <p id="97b9e51f">To connect to a Vagrant machine, choose <span data-skip-index="skip" class="menupath">Tools | Start SSH session...</span> on the main                menu. This opens a list of hosts we can connect to.</p>            <p id="d1c00e09">The <a href="vagrant-support.html">configured Vagrant machine</a> is added to this list automatically.                Clicking it opens connection to the SSH endpoint exposed by this Vagrant machine.                The <span data-skip-index="skip" class="menupath">Edit credentials...</span> menu item allows entering connection information manually.                However, we'll confine here to using the virtual box.</p>            <figure><img alt="py vagrant list hosts" title="py vagrant list hosts" src="/help/img/idea/2018.3/py_vagrant_list_hosts.png" id="41146b01" width="539" height="107"></figure>        </div>        <div class="chapter"><h3 id="84d11b9a" data-toc="Using_the_Advanced_Vagrant_Features_in_product#84d11b9a">Working with SSH</h3>            <p id="187e6d11">So, after choosing Vagrant, PyCharm connects to the Vagrant machine using SSH server and shows a                terminal to work with:</p>            <figure><img alt="py vagrant ssh terminal" title="py vagrant ssh terminal" src="/help/img/idea/2018.3/py_vagrant_ssh_terminal.png" id="292db392" width="595" height="180"></figure>            <p id="bf4ec23a">In the SSH terminal you can do the following:</p>            <ul class="list _ul"><li class="list__item" id="fe4bf331"><p>Scroll through the history of commands using up and down arrow keys</p></li><li class="list__item" id="27b9291d"><p>Perform clipboard operations</p></li></ul>        </div>    </div>    <div class="chapter"><h2 id="shared-folders" data-toc="Using_the_Advanced_Vagrant_Features_in_product#shared-folders">Working with shared folders</h2>        <p id="c2a65bb6">Vagrant allows sharing folders between the host machine and the Vagrant machine. You can use these folders,            for example, to automatically map web root contents from the current PyCharm project to the Apache virtual            host directory on the Vagrant machine.</p>        <div class="chapter"><h3 id="1edeee5e" data-toc="Using_the_Advanced_Vagrant_Features_in_product#1edeee5e">Adding a path mapping</h3>           <p id="6783dae5">Open <code class="code" data-lang="Java">Vagrantfile</code> for editing (<kbd data-primary_default="F4" data-primary_default_for_gnome="F4" data-primary_default_for_kde="F4" data-primary_default_for_xwin="F4" data-primary_emacs="F4" data-primary_visual_studio="F4" data-primary_netbeans="F4" data-primary_eclipse="F12" data-secondary_mac_os_x_10.5_="⌘↓" data-secondary_mac_os_x="F4" data-secondary_eclipse_mac_os_x="F3" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_visual_studio="F4" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="F4">F4</kbd>, and add a configuration entry for               path mapping:</p>            <div class="code-block" data-lang="Generic"><code class="code-block__wrapper">Vagrant.configure<span class="o">(</span><span class="s2">&quot;2&quot;</span><span class="o">)</span> <span class="k">do</span> <span class="p">|</span>config<span class="p">|</span>
    config.vm.synced_folder <span class="s2">&quot;src/&quot;</span>, <span class="s2">&quot;/srv/website&quot;</span>
end</code></div>        </div>        <div class="chapter"><h3 id="b1cef6c5" data-toc="Using_the_Advanced_Vagrant_Features_in_product#b1cef6c5">Reloading Vagrant</h3>            <p id="9ebcbff2">Reload <code class="code" data-lang="Java">Vagrantfile</code> by choosing <span data-skip-index="skip" class="menupath">Tools | Vagrant | Reload</span> on the main                menu:</p><figure><img alt="vagrant reload" title="vagrant reload" src="/help/img/idea/2018.3/vagrant_reload.png" id="e091fce9" width="691" height="355"></figure>            <p id="b909b2df">The results of command execution show up in the Run tool window:</p>            <figure><img alt="vagrant reload result" title="vagrant reload result" src="/help/img/idea/2018.3/vagrant_reload_result.png" id="e394b248" width="434" height="259"></figure>            <p id="b51cf238">Once the Vagrant machine is reloaded, a new path mapping becomes available. For example, when connecting                to the Vagrant machine using the built-in SSH terminal, we see the contents of the <code class="code" data-lang="Java">/vagrant</code>                folder that maps to the PyCharm local project folder. Be careful: deleting files from this folder will                delete files on both ends!</p><figure><img alt="py vagrant path mapping" title="py vagrant path mapping" src="/help/img/idea/2018.3/py_vagrant_path_mapping.png" id="4a7c24c2" width="595" height="220"></figure>        </div>    </div>    <div class="chapter"><h2 id="vagrant-instance-folder" data-toc="Using_the_Advanced_Vagrant_Features_in_product#vagrant-instance-folder">Specifying Vagrant instance folder</h2>        <p id="b090f4b3">By default, the <code class="code" data-lang="Java">Vagrantfile</code> and all other Vagrant specifics (like Puppet manifests) are placed            in the root of a PyCharm project. Since this is not always desirable, the instance folder where PyCharm            should look for <code class="code" data-lang="Java">Vagrantfile</code> can be configured through the <a href="vagrant.html"><span>Vagrant</span></a> page of the            settings/preferences:</p><figure><img alt="vagrant instance folder" title="vagrant instance folder" src="/help/img/idea/2018.3/vagrant_instance_folder.png" id="89664e25" width="455" height="160"></figure>    </div>    <div class="chapter"><h2 id="vagrant-plugin" data-toc="Using_the_Advanced_Vagrant_Features_in_product#vagrant-plugin">Managing Vagrant plugins through settings</h2>        <p id="cc144d08">In the <a href="vagrant.html"><span>Vagrant</span></a> page of the settings/preferences, you can also manage Vagrant plugins. In the tab            <span class="control">Plugins</span>, use the toolbar buttons to install, uninstall and update plugins. </p>        <figure><img alt="vagrant pl" title="vagrant pl" src="/help/img/idea/2018.3/vagrant_pl.png" id="f8bf8e70" width="443" height="359"></figure>        <p id="fa26e490">You can also install licenses, for example, for the            <a href="https://www.vagrantup.com/docs/vmware/" data-external="true" target="_blank" rel="noopener noreferrer"><span>VMWare Fusion Provider</span></a>            which allows running Vagrant machines on VMWare.</p>    </div>    <div class="chapter"><h2 id="providers" data-toc="Using_the_Advanced_Vagrant_Features_in_product#providers">Providers support</h2>        <p id="c4702a99">Vagrant works with <a href="https://www.virtualbox.org/" data-external="true" target="_blank" rel="noopener noreferrer"><span>Oracle VirtualBox</span></a> as the virtualization platform            by default. However, you can change the virtualization platform using <span class="emphasis">providers</span>, so the            virtual machines can be run by a system other than VirtualBox, for example,            <a href="http://www.vmware.com/" data-external="true" target="_blank" rel="noopener noreferrer"><span>VMWare</span></a>  or <a href="https://aws.amazon.com/" data-external="true" target="_blank" rel="noopener noreferrer"><span>Amazon EC2</span></a>. Find            available providers at the            <a href="https://github.com/mitchellh/vagrant/wiki/Available-Vagrant-Plugins" data-external="true" target="_blank" rel="noopener noreferrer"><span>Vagrant plugins list</span></a>.</p>        <p id="3eaac2ce">For each command, you should pass the provider to be used to Vagrant. To simplify this process and have            PyCharm automatically add the provider name to every Vagrant command, specify the provider in the            <a href="vagrant.html"><span>Vagrant</span></a> page of the settings/preferences. All providers installed on your machine, are available            from the settings. Once selected, a provider will be used to execute all Vagrant commands in PyCharm:</p>        <figure><img alt="vagrant provider" title="vagrant provider" src="/help/img/idea/2018.3/vagrant_provider.png" id="65cb30d6" width="440" height="156"></figure>    </div>    <div class="chapter"><h2 id="provision" data-toc="Using_the_Advanced_Vagrant_Features_in_product#provision">(Re-)provisioning a Vagrant machine</h2>        <p id="63044ab7">A <code class="code" data-lang="Java">Vagrantfile</code> can contain a series of provisioners which can launch installation and            configuration routines once a virtual machine is running.</p>        <p id="108f5d07">The <span data-skip-index="skip" class="menupath">Tools | Vagrant | Provision</span> main menu command invokes the configured provisioners on            an already running Vagrant machine, without having to first destroy the virtual machine.</p>        <p id="18c4c00c">Refer to the <a href="https://www.vagrantup.com/docs/provisioning/index.html" data-external="true" target="_blank" rel="noopener noreferrer"><span>provisioning</span></a> documentation            for details.</p>    </div>    <div class="chapter"><h2 id="env-var" data-toc="Using_the_Advanced_Vagrant_Features_in_product#env-var">Working with Environment variables</h2>        <p id="928904c0">Environment variables in <code class="code" data-lang="Java">Vagrantfile</code> are useful for:</p>        <ul class="list _ul"><li class="list__item" id="434d7a6b"><p>the Puppet node</p></li><li class="list__item" id="fe7d93fd"><p>Puppet environment</p></li><li class="list__item" id="162b9aea"><p>custom facts</p></li><li class="list__item" id="1b2a13a2"><p>AWS keys</p></li><li class="list__item" id="40e428ef"><p>...</p></li></ul>        <p id="5c7c6d69">In the <a href="vagrant.html"><span>Vagrant</span></a> page of the Settings/Preferences dialog box, specify project-specific environment            variables to be passed to <code class="code" data-lang="Java">Vagrantfile</code>:</p>        <figure><img alt="vagrant env var" title="vagrant env var" src="/help/img/idea/2018.3/vagrant_env_var.png" id="2b16b25c" width="419" height="184"></figure>        <p id="1886a638">Once set, these environment variables are referred to in a <code class="code" data-lang="Java">Vagrantfile</code>, using the syntax            <code class="code" data-lang="Java">#{ENV['name_of_variable']}</code>:</p>        <figure><img alt="vagrant env var in vagrantfile" title="vagrant env var in vagrantfile" src="/help/img/idea/2018.3/vagrant_env_var_in_vagrantfile.png" id="4723af26" width="509" height="101"></figure>    </div><div class="last-modified" data-skip-index="skip">Last modified: 27 February 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="initializing-vagrant-boxes.html">Initializing Vagrant Boxes</a><a class="navigation-links__next" href="configuring-product-to-work-on-the-vm.html">Configuring to Work on the VM</a></div><section class="seealso" data-skip-index="skip"><div class="seealso__header"><h2>See Also</h2></div><div class="seealso__content"><div class="seealso__col" data-skip-index="skip"><h3>Reference:</h3><ul class="list"><li class="list__item"><a href="vagrant.html"><span>Vagrant</span></a></li></ul></div><div class="seealso__col" data-skip-index="skip"><h3>Language and Framework-Specific Guidelines:</h3><ul class="list"><li class="list__item"><a href="vagrant-support.html"><span>Vagrant: Working with Reproducible Development Environments</span></a></li></ul></div><div class="seealso__col" data-skip-index="skip"><h3>External Links:</h3><ul class="list"><li class="list__item"><a href="http://docs.vagrantup.com" data-external="true" target="_blank" rel="noopener noreferrer"><span>http://docs.vagrantup.com</span></a></li><li class="list__item"><a href="https://www.virtualbox.org/" data-external="true" target="_blank" rel="noopener noreferrer"><span>https://www.virtualbox.org/</span></a></li></ul></div></div></section></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/help/app/v2/app.js"></script></body></html>