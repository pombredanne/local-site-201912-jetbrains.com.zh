<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>文档字符串的旧式语法-帮助|帮助PyCharm</title><link rel="stylesheet" href="/resources.jetbrains.com/storage/help-app/v3/app.css"></head><body  data-id="Type_Syntax_for_Docstrings"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索PyCharm帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>PyCharm 2019.2帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option value="primary_default_for_windows" data-group="primary" selected>Windows默认</option><option value="primary_intellij_idea_classic_macos" data-group="primary">IntelliJ IDEA经典版（macOS）</option><option value="primary_default_for_gnome" data-group="primary">GNOME的默认设置</option><option value="primary_default_for_kde" data-group="primary">KDE的默认值</option><option value="primary_sublime_text" data-group="primary">崇高文字</option><option value="primary_eclipse" data-group="primary">日食</option><option value="primary_emacs" data-group="primary">埃马克斯</option><option value="primary_default_for_xwin_windows" data-group="primary">XWin的默认设置（Windows）</option><option value="secondary_default_for_macos" data-group="secondary">macOS的默认设置</option><option value="secondary_default_for_gnome" data-group="secondary">GNOME的默认设置</option><option value="secondary_default_for_kde" data-group="secondary">KDE的默认值</option><option value="secondary_eclipse" data-group="secondary">日食</option><option value="secondary_default_for_xwin_macos" data-group="secondary">XWin的默认设置（macOS）</option><option value="secondary_sublime_text_macos" data-group="secondary">崇高文字（macOS）</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 id="Type_Syntax_for_Docstrings.xml" data-toc="Type_Syntax_for_Docstrings">文档字符串的旧式语法</h1>        <p id="3db3e0c8">PyCharm支持使用文档字符串在Python中指定类型的传统方法。为此，支持的格式为：</p>        <ul class="list _ul"><li class="list__item" id="c66fb1a9"><a href="http://docutils.sourceforge.net/rst.html" rel="noopener noreferrer" data-external="true" target="_blank">reStructuredText</a></li><li class="list__item" id="dca1e187"><a href="http://folk.uio.no/inf3330/scripting/doc/python/epydoc/epytext.html" rel="noopener noreferrer" data-external="true" target="_blank">文字</a></li><li class="list__item" id="0a4fdc7c"><a href="http://sphinxcontrib-napoleon.readthedocs.org/en/latest/example_numpy.html" rel="noopener noreferrer" data-external="true" target="_blank">NumPy</a></li><li class="list__item" id="a900a3c5"><a href="http://sphinxcontrib-napoleon.readthedocs.org/en/latest/example_google.html" rel="noopener noreferrer" data-external="true" target="_blank">谷歌</a></li></ul>        <p id="d3828550">要选择所需的文档字符串格式，请使用“设置/首选项”对话框的“ <a href="settings-tools-python-integrated-tools.html">Python集成工具”</a>页面。</p>        <p id="fb95a85e">Python文档字符串中的类型语法没有任何标准定义。因此，PyCharm建议使用以下符号：</p>        <div class="table-wrapper"><table width="100%" id="1140f040"><thead><tr id="026a7149" class="ijRowHead"><th id="f7b1caf0"><p>句法</p></th><th id="b36b7d62"><p>描述</p></th></tr></thead><tbody><tr id="820c1b17" class="ijRowOdd"><td id="65892776"><code class="code">Foo</code></td><td id="bc35eff5"><p>Foo类在当前范围中可见</p></td></tr><tr id="f3a3bbaf" class="ijRowEven"><td id="f2fad209"><code class="code">x.y.Bar</code> </td><td id="8a20dc46"><p>xy模块中的类栏</p></td></tr><tr id="36db666d" class="ijRowOdd"><td id="6cd8afcb"><code class="code">Foo | Bar</code> </td><td id="0c06704a"><p>Foo或Bar</p></td></tr><tr id="1eb2a96b" class="ijRowEven"><td id="b027741c"><code class="code">(Foo, Bar)</code> </td><td id="eb2ce82d"><p>Foo和Bar的元组</p></td></tr><tr id="d55412f3" class="ijRowOdd"><td id="f7517925"><code class="code">list[Foo]</code> </td><td id="01f58a5e"><p>Foo元素列表</p></td></tr><tr id="e040d608" class="ijRowEven"><td id="79a6134d"><code class="code">dict[Foo, Bar]</code> </td><td id="a79bd12f"><p>从Foo到Bar的字典</p></td></tr><tr id="07d3b7a6" class="ijRowOdd"><td id="7ee5511f"><code class="code">T</code> </td><td id="d9b58ae0"><p>泛型类型（TZ为泛型保留）</p></td></tr><tr id="7ed80ab2" class="ijRowEven"><td id="e9c6a28b"><code class="code">T <= Foo</code> </td><td id="8f9e99db"><p>具有上限Foo的泛型类型</p></td></tr><tr id="8ac9f521" class="ijRowOdd"><td id="400264e6"><code class="code">Foo[T]</code> </td><td id="6232ff20"><p>Foo用T参数化</p></td></tr><tr id="24f5ef9a" class="ijRowEven"><td id="62381b8c"><code class="code">(Foo, Bar) -> Baz</code> </td><td id="8ff98f70"><p>返回Baz的Foo和Bar的功能</p></td></tr><tr id="1208a0aa" class="ijRowOdd"><td id="9d394e57"><code class="code">list[dict[str, datetime]]</code> </td><td id="6d456223"><p>从str到datetime的字典列表（嵌套参数）</p></td></tr></tbody></table></div>        <div class="chapter"><h2 id="local-variables" data-toc="Type_Syntax_for_Docstrings#local-variables">指定局部变量的类型</h2>            <p id="9a7be04c">考虑使用以下方式添加有关局部变量的预期类型的信息<code class="code">:type</code>要么<code class="code">@type</code> docstrings：</p>            <figure><img alt="本地变量的类型提示" title="本地变量的类型提示" src="/help/img/idea/2019.2/py_type_hinting_local_var1.png" id="f9b9b5fa" width="432" height="149"></figure>            <p id="2bc13bdf">也可以使用<code class="code">isinstance</code>定义期望的局部变量类型：</p>            <figure><img alt="本地变量的类型提示" title="本地变量的类型提示" src="/help/img/idea/2019.2/py_type_hinting_local_var2.png" id="1f6d08be" width="360" height="249"></figure>        </div>        <div class="chapter"><h2 id="fields" data-toc="Type_Syntax_for_Docstrings#fields">指定字段类型</h2>            <p id="798b42df">您可以使用类型提示来指定期望的字段类型：</p>            <figure><img alt="类型提示字段" title="类型提示字段" src="/help/img/idea/2019.2/py_type_hinting_field.png" id="2eed8bd7" width="534" height="161"></figure>            <p id="a724a94a">另外，您可以在类的文档字符串中指定字段的类型：</p>            <figure><img alt="类属性的类型提示" title="类属性的类型提示" src="/help/img/idea/2019.2/py_type_hinting_class_attributes.png" id="afb60f47" width="179" height="143"></figure>        </div>        <div class="chapter"><h2 id="return-type" data-toc="Type_Syntax_for_Docstrings#return-type">指定退货类型</h2>                        <p id="0cdc78d5">使用文档字符串<code class="code">:rtype</code>要么<code class="code">@rtype</code>指定期望的返回类型：</p>            <figure><img alt="py_type_hinting_return2" title="py_type_hinting_return2" src="/help/img/idea/2019.2/py_type_hinting_return2.png" id="c9979ed6" width="498" height="169"></figure>            <ul class="list _ul"><li class="list__item" id="d5e9939c"><p><code class="code">:rtype: collections.Iterable[int] # return type</code> ：'items'是类型<code class="code">generator</code>要么<code class="code">collections.Iterable</code> ，'a'是类型<code class="code">int</code> ，请参见以下代码：</p><div class="code-block" data-lang="python">def my_iter（）：在范围（10）中为i全局的i：为a中的项生成i个项= my_iter（）：打印a</div>                <p></p></li><li class="list__item" id="16323a6b"><p>：rtype：my_iter的list [int]＃返回类型：'a'是类型<code class="code">int</code> ，请参见以下代码：</p><div class="code-block" data-lang="python">def my_iter（）：在范围（10）中为i：在my_iter（）中为a产生i：打印a</div>                <p></p></li></ul>        </div>        <div class="chapter"><h2 id="parameter-type" data-toc="Type_Syntax_for_Docstrings#parameter-type">指定参数类型</h2>                        <p id="e80f6f62">考虑添加有关预期参数类型的信息。此信息是使用文档字符串指定的。您可以根据所选文档字符串格式使用不同的文档字符串，例如， <code class="code">:type</code> ， <code class="code">@type</code> ， 要么<code class="code">Args</code> 。使用项目设置来更改文档字符串格式（“ <span class="menupath" data-skip-index="skip">文件” |“设置/首选项” |“工具” |“ Python集成工具”</span> ）。</p>            <figure><img alt="使用文档字符串定义参数type（：type）" title="使用文档字符串定义参数type（：type）" src="/help/img/idea/2019.2/py_type_hinting_param1.png" id="78f8a896" width="504" height="435"></figure>            <figure><img alt="使用文档字符串定义参数类型（Args）" title="使用文档字符串定义参数类型（Args）" src="/help/img/idea/2019.2/py_type_hinting_param11.png" id="ef455cda" width="499" height="505"></figure>        </div><div class="last-modified" data-skip-index="skip">上次修改时间：2019年11月6日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="using-docstrings-to-specify-types.html">使用文档字符串指定类型</a> <a class="navigation-links__next" href="type-hinting-in-product.html">PyCharm中的类型提示</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>