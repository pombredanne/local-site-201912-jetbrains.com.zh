<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>重构JavaScript-帮助|帮助PyCharm</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body  data-id="topicId1000000104" data-article-props="
                {
                
            " seeals=":[=" titl=":=" procedure=",=" link=":=" ur=":" refactoring-source-code.htm="," tex=":" refactoring="" cod="}=" web="" resource=",=" http:="" ="" devnet.jetbrains.com="" community="" python?view="documents" developer="" communit="}="><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索PyCharm帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>PyCharm 2019.2帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option value="primary_default_for_windows" data-group="primary" selected>Windows的默认设置</option><option value="primary_intellij_idea_classic_macos" data-group="primary">IntelliJ IDEA经典版（macOS）</option><option value="primary_default_for_gnome" data-group="primary">GNOME的默认设置</option><option value="primary_default_for_kde" data-group="primary">KDE的默认值</option><option value="primary_sublime_text" data-group="primary">崇高文字</option><option value="primary_eclipse" data-group="primary">日食</option><option value="primary_emacs" data-group="primary">埃马克斯</option><option value="primary_default_for_xwin_windows" data-group="primary">XWin的默认设置（Windows）</option><option value="secondary_default_for_macos" data-group="secondary">macOS的默认设置</option><option value="secondary_default_for_gnome" data-group="secondary">GNOME的默认设置</option><option value="secondary_default_for_kde" data-group="secondary">KDE的默认值</option><option value="secondary_eclipse" data-group="secondary">日食</option><option value="secondary_default_for_xwin_macos" data-group="secondary">XWin的默认设置（macOS）</option><option value="secondary_sublime_text_macos" data-group="secondary">崇高文字（macOS）</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 id="Specific_JavaScript_Refactorings.xml" data-toc="topicId1000000104">重构JavaScript</h1>	<a name="edition"></a>     <aside class="warning " rel="Specific_JavaScript_Refactorings.xml" id="352005ce" data-title=""><p>仅<b id="8ecfb97f" origin="intellij-platform">专业</b>版支持此功能。该版本是商业版本，它提供了一组出色的功能：有关更多详细信息，请参见<a href="/pycharm/features/editions_comparison_matrix.html" rel="noopener noreferrer" data-external="true" target="_blank">比较矩阵</a> 。</p></aside>    	<p id="2c2776e3">		<a name="refactoring_definition"></a> <a href="https://en.wikipedia.org/wiki/Code_refactoring" rel="noopener noreferrer" data-external="true" target="_blank">重构</a>意味着在不更改应用程序行为的情况下更新源代码。重构可帮助您保持代码的牢固， <a href="https://en.wikipedia.org/wiki/Don%27t_repeat_yourself" rel="noopener noreferrer" data-external="true" target="_blank">干燥</a>和易于维护。</p>	<div class="chapter"><h2 id="javascript_move_refactorings" data-toc="topicId1000000104#javascript_move_refactorings">移动符号重构</h2>		<p id="be425145">			<a name="ws_refactoring_js_ts_move_intro"></a>除了<a href="refactoring-source-code.html#ws_refactoring_context_independent_refactorings_copy_rename_move_file_folder">移动文件和文件夹</a> ，PyCharm还允许您移动JavaScript顶级符号。<span class="emphasis">移动符号重构</span>适用于ES6模块中的类，函数和变量。</p>			<section class="procedure-steps"><h3 id="javascript_move_top_level_symbols">移动类，函数或变量</h3><ol class="list _decimal"><li class="list__item" id="2e2f0731"><p>选择要移动的符号。</p></li><li class="list__item" id="invoke_move">						<p id="d73871eb">按<kbd data-primary_default_for_windows="F6" data-primary_intellij_idea_classic_macos="F6" data-primary_default_for_gnome="F6" data-primary_default_for_kde="F6" data-primary_sublime_text="N/A" data-primary_eclipse="Shift+Alt+V" data-primary_emacs="F6" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="F6" data-secondary_default_for_gnome="F6" data-secondary_default_for_kde="F6" data-secondary_eclipse="⌥⇧V" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="N/A">F6</kbd>或选择“ <span class="menupath" data-skip-index="skip">重构” |</span>从上下文菜单或从主菜单中<span class="menupath" data-skip-index="skip">移动</span> 。或者，选择<span class="menupath" data-skip-index="skip">Refactor |重构</span>或按<kbd data-primary_default_for_windows="Ctrl+Shift+Alt+T" data-primary_intellij_idea_classic_macos="Shift+Alt+⌘+T" data-primary_default_for_gnome="Ctrl+Shift+Alt+T" data-primary_default_for_kde="Ctrl+Shift+Alt+T" data-primary_sublime_text="Ctrl+Shift+Alt+T" data-primary_eclipse="Ctrl+Shift+Alt+T" data-primary_emacs="Ctrl+Shift+Alt+T" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⌃T" data-secondary_default_for_gnome="⌃⌥⇧T" data-secondary_default_for_kde="⌃⌥⇧T" data-secondary_eclipse="⌃⌥⇧T" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="⌃T">Ctrl+Shift+Alt+T</kbd> ，然后从列表中选择<span class="menupath" data-skip-index="skip">移动</span> 。</p>						<p id="58fd89ee"><span class="control">将</span>打开“ <span class="control">移动模块成员”</span>对话框。</p>					</li><li class="list__item" id="801d5029"><p>指定目标文件，然后选择要移动的成员。</p></li><li class="list__item" id="1cb8323f"><p>默认情况下，PyCharm会自动将成员的可见性提高到所需级别。如果你想保持能见度水平不变，单击<span class="control">由于是</span>在<span class="control">能见度</span> 。</p></li></ol></section>			</div>	<div class="chapter"><h2 id="javascript_pull_member_up_refactoring" data-toc="topicId1000000104#javascript_pull_member_up_refactoring">拉动班级成员重构</h2>		<p id="832ec123">“上<span class="emphasis">拉类成员”</span>重构将类方法在类层次结构中向上移动-从当前类到超类。</p>		<p id="eb851723">			<span class="emphasis">示例：将类方法移至超类</span><br>假设你有一堂课<code class="code">AccountingDepartment</code>扩展了抽象类<code class="code">Department</code> 。</p><div class="code-block" data-lang="javascript">班级部{名称； printName（）{console.log（“部门名称：” + this.name）; }}类AccountingDepartment扩展了Department {printMeeting（）{console.log（“会计部门在每个星期一的上午10点开会。”）; } generateReports（）{console.log（“正在生成会计报告...”）; }}</div>		<p></p>		<p id="85001f05">在此示例中，上<span class="emphasis">拉类成员向上</span>重构将移动<code class="code">printMeeting()</code>来自的会议<code class="code">AccountingDepartment</code>到其超一流<code class="code">Department</code> 。</p><div class="code-block" data-lang="javascript">班级部{名称； printName（）{console.log（“部门名称：” + this.name）; } printMeeting（）{console.log（“会计部门在每个星期一的上午10点开会。”）; }}类AccountingDepartment扩展了部门{generateReports（）{console.log（“正在生成会计报告...”）; }}</div>		<p></p>		<section class="procedure-steps"><h3 id="504faef7">将类的方法移至超类</h3><ol class="list _decimal"><li class="list__item" id="818a5bb6"><p>将插入号放置在您要从中拉起成员的班级内的任何位置。</p></li><li class="list__item" id="23097c2c"><p>选择<span class="menupath" data-skip-index="skip">重构|</span>从主菜单或上下文菜单中<span class="menupath" data-skip-index="skip">拉成员</span> 。将打开“上<span class="control">拉成员”</span>对话框。</p></li><li class="list__item" id="96d97279"><p>从列表中选择要在其中移动方法的超类。</p></li><li class="list__item" id="8d748bb5"><p>要拉出方法，请在“ <span class="control">要拉起</span>的<span class="control">成员”</span>列表中选中该方法旁边的复选框。</p></li></ol></section>	</div>	<div class="chapter"><h2 id="javascript_rename_refactorings" data-toc="topicId1000000104#javascript_rename_refactorings">重命名重构</h2>		<p id="4d1fcfaa">			<a name="rename_refactorings_js_ts_intro"></a>除了<a href="refactoring-source-code.html#ws_refactoring_context_independent_refactorings_rename_file_folder">重命名文件和文件夹</a> （可以在任何语言的上下文中使用）之外，您还可以重命名类，函数，变量和参数。PyCharm会在符号声明中更改符号名称，默认情况下会更改当前项目中所有符号的用法。</p>		<section class="procedure-steps"><h3 id="fc3870ec">重命名函数，类或变量</h3><a name="ws_js_ts_rename_function_class"></a><ol class="list _decimal"><li class="list__item" id="37f74882">            <p id="e7af1765">在编辑器中，选择要重命名的符号，然后按<kbd data-primary_default_for_windows="Shift+F6" data-primary_intellij_idea_classic_macos="Shift+F6" data-primary_default_for_gnome="Shift+F6" data-primary_default_for_kde="Shift+F6" data-primary_sublime_text="Shift+F6" data-primary_eclipse="Shift+Alt+R" data-primary_emacs="Shift+F6" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⇧F6" data-secondary_default_for_gnome="⇧F6" data-secondary_default_for_kde="⇧F6" data-secondary_eclipse="⌥⇧R" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="⇧F6">Shift+F6</kbd>或选择“ <span class="menupath" data-skip-index="skip">重构” |</span>从上下文菜单或主菜单中<span class="menupath" data-skip-index="skip">重命名</span> 。</p>        </li><li class="list__item" id="0439b1a2">            <p id="ae2c4ab1">在打开的“ <a href="rename-dialogs.html">重命名”对话框</a>中，键入符号的新名称。</p>        </li><li class="list__item" id="javascript_rename_refactorings_rename_search_in_comments_and text">            <p id="c7d63a92">（可选）选中“ <span class="control">在注释和字符串中</span> <span class="control">搜索”</span>以及“ <span class="control">搜索文本出现”</span>复选框，以重命名函数或注释，字符串文字和文本中的类的用法。</p>        </li><li class="list__item" id="151263ba">            <p id="942d392f">如有必要， <a href="refactoring-source-code.html#ws_refactoring_general_procedure_preview">预览并应用更改</a> 。</p>                    </li></ol></section>		<section class="procedure-steps"><h3 id="javascript_rename_refactorings_variable_parameter">重命名参数</h3><a name="ws_ts_rename_parameter"></a><ol class="list _decimal"><li class="list__item" id="ad969867"><p>在编辑器中选择参数，然后按<kbd data-primary_default_for_windows="Shift+F6" data-primary_intellij_idea_classic_macos="Shift+F6" data-primary_default_for_gnome="Shift+F6" data-primary_default_for_kde="Shift+F6" data-primary_sublime_text="Shift+F6" data-primary_eclipse="Shift+Alt+R" data-primary_emacs="Shift+F6" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⇧F6" data-secondary_default_for_gnome="⇧F6" data-secondary_default_for_kde="⇧F6" data-secondary_eclipse="⌥⇧R" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="⇧F6">Shift+F6</kbd>或选择“ <span class="menupath" data-skip-index="skip">重构” |</span>从上下文菜单或主菜单上<span class="menupath" data-skip-index="skip">重命名</span> 。</p></li><li class="list__item" id="53bb4214"><p>在带有红色画布的选定参数周围的字段中，键入新的参数名称。</p></li><li class="list__item" id="c63e50da"><p>按<kbd data-primary_default_for_windows="Enter" data-primary_intellij_idea_classic_macos="Enter" data-primary_default_for_gnome="Enter" data-primary_default_for_kde="Enter" data-primary_sublime_text="Enter" data-primary_eclipse="Enter" data-primary_emacs="Enter" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⏎" data-secondary_default_for_gnome="⏎" data-secondary_default_for_kde="⏎" data-secondary_eclipse="⏎" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="⏎">Enter</kbd>运行重构。</p></li></ol></section>		<div class="chapter"><h3 id="ws_js_rename_refactoring_keep_names_in_compliance" data-toc="topicId1000000104#ws_js_rename_refactoring_keep_names_in_compliance">保持类名并包含文件</h3>			<p id="52e2a7ec">当您重命名一个类时，PyCharm还建议重命名该文件（如果名称相同）。如果您接受建议，PyCharm会在其他文件的import语句中更新此文件的名称。</p><figure id="eed2f1dd" width="600" data-theme="light"><img class="js-gif" src="/help/img/idea/2019.2/ws_js_refactoring_rename_class_and_file.png" width="600" data-gif-src="/help/img/idea/2019.2/ws_js_refactoring_rename_class_and_file.animated.gif" style="width:600px"></figure>			<p></p>			<p id="ws_javascript_rename_refactorings_rename_class_and_file_intention_action">如果您拒绝此建议，则可以在以后随时使用“ <span class="control">重命名文件...”</span>意图操作来<span class="control">重命名文件</span> 。另一个有意的操作建议将类移动到具有相应名称的新文件。建议名称的格式由“ <a href="settings-code-style-javascript.html#ws_settings_code_style_js_code_generation">代码样式：JavaScript”</a>页面上“ <span class="control">文件名”约定</span>中选择的样式确定。</p>								<figure><img alt="ws_js_refactoring_rename_file_intention_custom_naming_convention.png" title="ws_js_refactoring_rename_file_intention_custom_naming_convention.png" src="/help/img/idea/2019.2/ws_js_refactoring_rename_file_intention_custom_naming_convention.png" id="d4b7f1aa" width="600" height="250"></figure>						<p id="1b8e9524">如果您刚刚创建了一个新文件，但是在开始在其中键入类或接口时想出了一个更好的名称，则此功能将非常有用。要调用意图动作，请将插入符号置于感兴趣的类别的名称处，然后按<kbd data-primary_default_for_windows="Alt+Enter" data-primary_intellij_idea_classic_macos="Alt+Enter" data-primary_default_for_gnome="Alt+Enter" data-primary_default_for_kde="Alt+Enter" data-primary_sublime_text="Alt+Enter" data-primary_eclipse="Alt+Enter" data-primary_emacs="Alt+Enter" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⌥⏎" data-secondary_default_for_gnome="⌥⏎" data-secondary_default_for_kde="⌥⏎" data-secondary_eclipse="⌥⏎" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="⌥⏎">Alt+Enter</kbd> 。</p>		</div>	</div><div class="chapter"><h2 id="javascript_extract_refactorings" data-toc="topicId1000000104#javascript_extract_refactorings">提取重构</h2>	<p id="028da85e">		<a name="ws_js_ts_refactoring_extract_intro"></a> PyCharm提供了各种<span class="emphasis">提取</span>重构，以引入参数，变量，常量，字段，方法和函数。要运行任何这些重构，请选择要重构的表达式，然后选择“ <span class="menupath" data-skip-index="skip">重构”。提取物| <target></target></span> 。您可以选择整个表情，也可以将插入符号放置在其中的任何位置，PyCharm将帮助您进行选择。</p>	<div class="chapter"><h3 id="javascript_extract_parameter" data-toc="topicId1000000104#javascript_extract_parameter">提取参数</h3>		<p id="61829720">			<a name="ws_refactoring_js_ts_extract_parameter_description"></a>使用“ <span class="emphasis">提取参数”</span>重构可以用<span class="emphasis">参数</span>替换函数调用中的表达式。PyCharm将相应地更新函数的声明和调用。新参数的默认值可以在函数体内初始化或通过函数调用传递。</p>		<p id="javascript_extract_parameter_examples">假设您有一段带有硬编码的代码<code class="code">1</code>在功能上<code class="code">calculate_sum(i)</code> 。通过解压缩参数重构，您可以替换此硬编码<code class="code">1</code>与一个<code class="code">i2</code>参数。新的<code class="code">i2</code>参数可被提取作为<span class="emphasis">可选</span>或作为<span class="emphasis">必需的</span> 。</p>			<p id="javascript_extract_parameter_examples_example_1_optional_parameter">				<span class="emphasis">示例1：提取一个可选参数</span><br>新参数<code class="code">i2</code>提取为可选参数。新参数在的主体中初始化<code class="code">calculate_sum(i)</code>和的电话<code class="code">calculate_sum(i)</code>在<code class="code">show_sum()</code>不变。</p>		            <p id="f43aea79">请参阅下面的<a href="#javascript_extract_parameter_inplace_optional_required_default_value">选择参数类型（可选）</a> 。</p>			<div class="table-wrapper"><table class=" no_header  _layout-fixed" width="100%" id="0824df3d"><tbody><tr id="ba44bb53" class="ijRowOdd"><td id="f4259245" width="50%">						<div class="code-block" data-lang="javascript">函数calculate_sum（i）{alert（'将'+ 1 +'添加到'+ i）；返回1 + i; }函数show_sum（）{alert（'Result：'+ calculate_sum（5））; }</div>					</td><td id="8d79765b" width="50%">						<div class="code-block" data-lang="javascript">函数calculate_sum（i，i2）{i2 = i2 || 1; alert（'将'+ i2 +'添加到'+ i）;返回i2 + i; }函数show_sum（）{alert（'Result：'+ calculate_sum（5））; }</div>					</td></tr></tbody></table></div>			<p id="javascript_extract_parameter_examples_example_2_required_parameter">				<span class="emphasis">示例2：提取所需的参数</span><br>新参数<code class="code">i2</code>提取为必需参数，调用<code class="code">calculate_sum(i)</code>在<code class="code">show_sum()</code>被相应地更改。</p>		            <p id="56886d16">请参阅下面的<a href="#javascript_extract_parameter_inplace_optional_required_default_value">选择参数类型（必填）</a> 。</p>			<div class="table-wrapper"><table class=" no_header  _layout-fixed" width="100%" id="3effe294"><tbody><tr id="bd3a8d98" class="ijRowOdd"><td id="02d0bf57" width="50%">						<div class="code-block" data-lang="javascript">函数calculate_sum（i）{alert（'将'+ 1 +'添加到'+ i）；返回1 + i; }函数show_sum（）{alert（'Result：'+ calculate_sum（5））; }</div>					</td><td id="ff47590a" width="50%">						<div class="code-block" data-lang="javascript">函数calculate_sum（i，i2）{alert（'将'+ i2 +'添加到'+ i）;返回i2 + i; }函数show_sum（）{alert（'Result：'+ calculate_sum（5，1））; }</div>					</td></tr></tbody></table></div>			<section class="procedure-steps"><h3 id="javascript_extract_parameter_inplace_refactoring">提取参数</h3><ol class="list _decimal"><li class="list__item" id="javascript_extract_parameter_inplace_select_expression">						<p id="4646d063">在编辑器中，将插入符号放置在要转换为参数的表达式内，然后按<kbd data-primary_default_for_windows="Ctrl+Alt+P" data-primary_intellij_idea_classic_macos="Alt+⌘+P" data-primary_default_for_gnome="Ctrl+Alt+P" data-primary_default_for_kde="Ctrl+Alt+P" data-primary_sublime_text="Ctrl+Alt+P" data-primary_eclipse="Ctrl+Alt+P" data-primary_emacs="Ctrl+Alt+P" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⌥⌘P" data-secondary_default_for_gnome="⌃⌥P" data-secondary_default_for_kde="⌃⌥P" data-secondary_eclipse="⌃⌥P" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="⌥⌘P">Ctrl+Alt+P</kbd>或选择“ <span class="control">重构|提取物|</span>从上下文菜单或从主菜单<span class="control">参数</span> 。</p>					</li><li class="list__item" id="75a1be4f"><p>						<a name="several_expressions_at_cursor_detected"></a>如果在当前光标位置检测到多个表达式，请从“ <span class="control">表达式”</span>列表中选择所需的一个。</p><figure><img alt="ws_js_extract_parameter_select_expression.png" title="ws_js_extract_parameter_select_expression.png" src="/help/img/idea/2019.2/ws_js_extract_parameter_select_expression.png" id="6e69c0f7" width="600" height="282"></figure>					<p></p></li><li class="list__item" id="bcc32c94">						<p id="876e150e">						<a name="several_occurrences_of_expression_inplace"></a>如果找到了多个以上的选定表达式，请从“ <span class="control">找到</span>的<span class="control">多个实例”</span>列表中选择“ <span class="control">仅替换此实例”</span>或“ <span class="control">替换所有实例</span> ”。</p>						<figure><img alt="ws_js_extract_parameter_multiple_occurrences.png" title="ws_js_extract_parameter_multiple_occurrences.png" src="/help/img/idea/2019.2/ws_js_extract_parameter_multiple_occurrences.png" id="62f07a88" width="600" height="282"></figure>						<p id="e5ebd00a">最后，将显示用于配置重构的弹出窗口。</p>						<figure><img alt="ws_js_extract_parameter_specify_parameter_name_and_type.png" title="ws_js_extract_parameter_specify_parameter_name_and_type.png" src="/help/img/idea/2019.2/ws_js_extract_parameter_specify_parameter_name_and_type.png" id="c1400a77" width="600" height="446"></figure>					</li><li class="list__item" id="3b78c84f">						<p id="cf8a8f46">选择<span class="control">Generate JSDoc</span>以<span class="control">生成</span>一个JSDoc注释块。如果您需要指定自定义默认参数值，这可能会有所帮助。从<a href="http://usejsdoc.org/tags-param.html" rel="noopener noreferrer" data-external="true" target="_blank">JSDoc</a>官方网站了解更多信息。</p>					</li><li class="list__item" id="javascript_extract_parameter_inplace_optional_required_default_value">						<p id="a26f3b69">选择新参数的类型（ <span class="emphasis">可选</span>或<span class="emphasis">必需</span> ），并指定其默认值（如果适用）：</p>						<ul class="list _bullet"><li class="list__item" id="javascript_extract_parameter_procedure_optional">								<p id="94108609">如果选中了“ <span class="control">可选参数”</span>复选框，则参数将使用函数体内的默认值进行初始化。</p>								            <p id="8e4d84e6">请参阅上面的<a href="#javascript_extract_parameter_examples_example_1_optional_parameter">提取参数示例1</a> 。</p>							</li><li class="list__item" id="javascript_extract_parameter_procedure_required">								<p id="31eaadae">如果取消选中“ <span class="control">可选参数”</span>复选框，则默认参数值将通过现有函数调用传递。所有函数调用都将根据新的函数签名进行更改，并将参数初始化添加到函数主体中。</p>											<p id="4a8ad932">请参阅上面的<a href="#javascript_extract_parameter_examples_example_2_required_parameter">提取参数示例2</a> 。</p>							</li></ul>						<p id="be3ebe03">最初，PyCharm接受在其中调用重构的表达式作为默认值。在大多数情况下，您无需更改它。如果仍然有必要，请在JSDoc注释中以以下格式指定另一个默认值： <code class="code">@param <parameter name> - <default value></code> 。</p>					</li><li class="list__item" id="631b3fae"><p>双击列表中的参数名称，以接受其中一个建议的参数名称，或者在字段中使用红色画布指定自定义名称。按<kbd data-primary_default_for_windows="Enter" data-primary_intellij_idea_classic_macos="Enter" data-primary_default_for_gnome="Enter" data-primary_default_for_kde="Enter" data-primary_sublime_text="Enter" data-primary_eclipse="Enter" data-primary_emacs="Enter" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⏎" data-secondary_default_for_gnome="⏎" data-secondary_default_for_kde="⏎" data-secondary_eclipse="⏎" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="⏎">Enter</kbd>准备好了。</p><figure><img alt="ws_js_extract_parameter_result.png" title="ws_js_extract_parameter_result.png" src="/help/img/idea/2019.2/ws_js_extract_parameter_result.png" id="1330d277" width="600" height="241"></figure>另请注意，在ES6代码中，新的默认函数参数语法<code class="code">function calculate_sum(i, i2 = 1)</code>将代替<code class="code">i2 = i2 || 1;</code> 。从<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Default_parameters" rel="noopener noreferrer" data-external="true" target="_blank">https://developer.mozilla.org网站</a>了解有关默认功能参数的更多信息。<p></p></li></ol></section>		<div class="chapter"><h4 id="javascript_extract_parameter_procedure">选择重构模式</h4>			<p id="2b0ebed2">您可以<a href="#javascript_extract_parameter_inplace_refactoring">如上所述</a>在编辑器中（就地模式）直接<span class="control">提取参数</span> <a href="#javascript_extract_parameter_inplace_refactoring">，</a>或使用“ <span class="control">提取参数”对话框</span> 。这两种方法相当相似，区别如下：</p><ul class="list _bullet"><li class="list__item" id="b832df6f"><p>					<a href="refactoring-source-code.html#ws_refactoring_general_procedure_preview">预览重构的结果</a> 。<br>在对话框中，可以单击“ <span class="control">预览”</span> ，然后在“ <span class="control">查找”</span>工具窗口的专用选项卡中检查预期的更改。在就地模式下，此功能不可用。</p></li><li class="list__item" id="2f1645a9"><p>					<a href="#javascript_extract_parameter_inplace_optional_required_default_value">指定默认参数值</a> 。<br>在对话框中，PyCharm在“ <span class="control">值”</span>字段中建议默认参数值，您可以在其中接受建议或指定其他值。在就地模式下，PyCharm将调用重构的表达式视为默认参数值。要指定另一个值，您必须使用JSDoc注释块。</p></li></ul>			<p></p>			<p id="extract_parameter_dialog">默认情况下，PyCharm在就地模式下运行提取参数重构。要使用“ <span class="control">提取参数”</span>对话框， <a name="enable_inplace_refactoring"></a><a name="open_settings"></a>在“ <span class="control">设置/首选项”</span>对话框中（ <kbd data-primary_default_for_windows="Ctrl+Alt+S" data-primary_intellij_idea_classic_macos="⌘+Comma" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_sublime_text="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-primary_emacs="Ctrl+Alt+S" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⌘," data-secondary_default_for_gnome="⌃⌥S" data-secondary_default_for_kde="⌃⌥S" data-secondary_eclipse="⌃⌥S" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="⌘,">Ctrl+Alt+S</kbd> ），转到“ <span class="control">编辑器” |一般</span>在打开的“ <a href="settings-editor-general.html">常规”页面</a>上，清除“ <span class="control">重构”</span>区域中的“ <span class="control">启用就地模式”</span>复选框。</p>		</div>	</div>	<div class="chapter"><h3 id="javascript_extract_variable" data-toc="topicId1000000104#javascript_extract_variable">提取变量</h3>		<p id="js_extract_var_intro">			<a name="extract_variable_js_description"></a>使用<span class="emphasis">提取变量</span>重构将表达式替换为<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/var" rel="noopener noreferrer" data-external="true" target="_blank">功能范围的变量（var）</a> ， <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/let" rel="noopener noreferrer" data-external="true" target="_blank">块范围的变量（let）</a>或<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/const" rel="noopener noreferrer" data-external="true" target="_blank">常量</a> 。这种重构使您的源代码更易于阅读和维护。它还可以帮助您避免使用硬编码常量，而无需对其值或用途进行任何解释。</p>			<p id="javascript_extract_variable_examples">假设您有一个函数，其中的表达式具有部分硬编码<code class="code">return</code>声明：</p><div class="code-block" data-lang="javascript">Parenizor.method（'toString'，function（））{return'（'+ this.getValue（）+'）'; }</div>通过提取变量重构，您可以替换<code class="code">'(' + this.getValue() + ')'</code>带有变量的表达式，例如， <code class="code">string</code> 。提取变量的范围取决于其声明中使用的语句<code class="code">var</code>要么<code class="code">let</code>以及在其中声明新变量的上下文（在函数内部或函数外部）。<p></p>        <p id="javascript_extract_variable_examples_example_1_declaration_inside_a_function_let_statement">            <span class="emphasis">示例1：使用let语句声明提取块范围变量</span><br>一个变量<code class="code">string</code>从中提取<code class="code">'(' + this.getValue() + ')'</code>在表达<code class="code">return</code>声明。新变量声明为<code class="code">let</code>内部声明<code class="code">Parenizor.method('toString', function ())</code> 。</p><div class="table-wrapper"><table class=" no_header  _layout-fixed" width="100%" id="51ec8a8a"><tbody><tr id="514328ec" class="ijRowOdd"><td id="78622808" width="50%">						<div class="code-block" data-lang="javascript">Parenizor.method（'toString'，function（））{return'（'+ this.getValue（）+'）'; }</div>					</td><td id="f606d1dd" width="50%">						<div class="code-block" data-lang="javascript">Parenizor.method（'toString'，function（））{let string ='（'+ this.getValue（）+'）';返回字符串； }</div>					</td></tr></tbody></table></div>			<p></p>						<p id="javascript_extract_variable_examples_example_2_declaration_outside_a_function">				<span class="emphasis">示例2：提取变量并在任何函数之外声明它</span><br>一个变量<code class="code">appName</code>从中提取<code class="code">navigator.appName</code>表达式并用<code class="code">var</code>任何功能之外的语句。</p><div class="table-wrapper"><table class=" no_header  _layout-fixed" width="100%" id="19324292"><tbody><tr id="a3284f33" class="ijRowOdd"><td id="466a3be7" width="50%">							<div class="code-block" data-lang="javascript">var browserName =“ N / A”;如果（navigator.appName.indexOf（“ Netscape”）！= -1）{browserName =“ NS”; } else if（navigator.appName.indexOf（“ Microsoft”）！= -1）{browserName =“ MSIE”; } if if（navigator.appName.indexOf（“ Opera”）！= -1）{browserName =“ O”; }</div>						</td><td id="a3da2fd5" width="50%">							<div class="code-block" data-lang="javascript">var browserName =“ N / A”; var appName = navigator.appName;如果（appName.indexOf（“ Netscape”）！= -1）{browserName =“ NS”; } else if（appName.indexOf（“ Microsoft”）！= -1）{browserName =“ MSIE”; } else if（appName.indexOf（“ Opera”）！= -1）{browserName =“ O”; }</div>						</td></tr></tbody></table></div>			<p></p>		<section class="procedure-steps"><h3 id="javascript_extract_variable_inplace_refactoring">提取变量</h3><ol class="list _decimal"><li class="list__item" id="js_refactoring_extract_variable_inplace_select_expression">					<p id="8341f57a">在编辑器中，选择要转换为变量的表达式，然后按<kbd data-primary_default_for_windows="Ctrl+Alt+V" data-primary_intellij_idea_classic_macos="Alt+⌘+V" data-primary_default_for_gnome="Ctrl+Alt+V" data-primary_default_for_kde="Shift+Alt+V" data-primary_sublime_text="Ctrl+Alt+V" data-primary_eclipse="Shift+Alt+L" data-primary_emacs="Ctrl+Alt+V" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⌥⌘V" data-secondary_default_for_gnome="⌃⌥V" data-secondary_default_for_kde="⌥⇧V" data-secondary_eclipse="⌥⇧L" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="N/A">Ctrl+Alt+V</kbd>或选择“ <span class="menupath" data-skip-index="skip">重构|提取物|</span>从上下文菜单或主菜单中<span class="menupath" data-skip-index="skip">可变</span> 。</p>				</li><li class="list__item" id="1d98caa3">					<p id="4ec832b7">					<a name="several_expressions_at_cursor_detected"></a>如果在当前光标位置检测到多个表达式，请从“ <span class="control">表达式”</span>列表中选择所需的一个。</p>					<figure><img alt="ws_js_refactoring_extract_variable_inplace_select_expression.png" title="ws_js_refactoring_extract_variable_inplace_select_expression.png" src="/help/img/idea/2019.2/ws_js_refactoring_extract_variable_inplace_select_expression.png" id="bdea0c13" width="600" height="236"></figure>				</li><li class="list__item" id="042100d1">					<p id="9f53cf36">					<a name="several_occurrences_of_expression_inplace"></a>如果找到了多个以上的选定表达式，请从“ <span class="control">找到</span>的<span class="control">多个实例”</span>列表中选择“ <span class="control">仅替换此实例”</span>或“ <span class="control">替换所有实例</span> ”。</p>					<figure><img alt="ws_js_refactoring_extract_variable_inplace_multiple_occurrences.png" title="ws_js_refactoring_extract_variable_inplace_multiple_occurrences.png" src="/help/img/idea/2019.2/ws_js_refactoring_extract_variable_inplace_multiple_occurrences.png" id="d8c60b5e" width="600" height="192"></figure>					<p id="13760a46">最后，将显示用于配置重构的弹出窗口。</p>				</li><li class="list__item" id="js_refactoring_extract_variable_inplace_choose_declaration_statement">					<p id="eac82e1d">从列表中，选择要在新变量的声明中使用的语句：</p>					<ul class="list _bullet"><li class="list__item" id="172ac2ee">							<p id="54ac5d9c">选择<span class="control">var</span>引入<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/var" rel="noopener noreferrer" data-external="true" target="_blank">函数范围的变量</a> 。</p>						</li><li class="list__item" id="8c9044ba">							<p id="10444572">选择<span class="control">let</span>引入一个<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/let" rel="noopener noreferrer" data-external="true" target="_blank">块作用域变量</a> ，请参见上面的<a href="#javascript_extract_variable_examples_example_1_declaration_inside_a_function_let_statement">示例2</a> 。</p>						</li><li class="list__item" id="3bac8edf">							<p id="598620cc">选择<span class="control">const</span>以引入<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/const" rel="noopener noreferrer" data-external="true" target="_blank">常量</a> 。</p>						</li></ul>					<figure><img alt="ws_js_refactoring_extract_variable_inplace_choose_scope_type.png" title="ws_js_refactoring_extract_variable_inplace_choose_scope_type.png" src="/help/img/idea/2019.2/ws_js_refactoring_extract_variable_inplace_choose_scope_type.png" id="d529f8c3" width="600" height="217"></figure>				</li><li class="list__item" id="b6d82bc9">					<p id="595e067a">通过双击列表中的变量名来接受其中之一，或者在字段中指定自定义名称。按<kbd data-primary_default_for_windows="Enter" data-primary_intellij_idea_classic_macos="Enter" data-primary_default_for_gnome="Enter" data-primary_default_for_kde="Enter" data-primary_sublime_text="Enter" data-primary_eclipse="Enter" data-primary_emacs="Enter" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⏎" data-secondary_default_for_gnome="⏎" data-secondary_default_for_kde="⏎" data-secondary_eclipse="⏎" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="⏎">Enter</kbd>准备好了。</p>				</li></ol></section>		<div class="chapter"><h4 id="javascript_extract_variable_procedure">选择重构模式</h4>			<p id="1d1f73c8">您可以<a href="#javascript_extract_variable_inplace_refactoring">如上所述</a>在编辑器中（就地模式）直接<span class="control">提取变量</span> <a href="#javascript_extract_variable_inplace_refactoring">，</a>或使用“ <span class="control">提取变量”对话框</span> 。默认情况下，PyCharm在就地模式下运行提取变量重构。要使用“ <span class="control">提取变量”</span>对话框， <a name="enable_inplace_refactoring"></a><a name="open_settings"></a>在“ <span class="control">设置/首选项”</span>对话框中（ <kbd data-primary_default_for_windows="Ctrl+Alt+S" data-primary_intellij_idea_classic_macos="⌘+Comma" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_sublime_text="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-primary_emacs="Ctrl+Alt+S" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⌘," data-secondary_default_for_gnome="⌃⌥S" data-secondary_default_for_kde="⌃⌥S" data-secondary_eclipse="⌃⌥S" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="⌘,">Ctrl+Alt+S</kbd> ），转到“ <span class="control">编辑器” |一般</span>在打开的“ <a href="settings-editor-general.html">常规”页面</a>上，清除“ <span class="control">重构”</span>区域中的“ <span class="control">启用就地模式”</span>复选框。</p>		</div>	</div>	<div class="chapter"><h3 id="javascript_extract_field" data-toc="topicId1000000104#javascript_extract_field">提取字段</h3>		<p id="21998438">			<a name="extract_field_js_ts_description"></a> <span class="emphasis">提取字段</span>重构声明一个新字段，并使用所选表达式对其进行初始化。原始表达式将替换为该字段的用法。</p>				<aside class="note " rel="21998438" id="5ff5581f" data-title="">			<p id="2eff3b7c">提取字段重构仅在类内可用。</p>		</aside>			<p id="javascript_extract_field_examples">在以下示例中，同一字段中， <code class="code">_calcArea</code> ，被提取。这些示例说明了初始化提取字段的三种不同方式。</p>			<p id="javascript_extract_field_examples_example_1_field_initialized_in_enclosing_method">				<span class="emphasis">示例1：提取的字段在封闭方法中初始化</span>			</p>			<div class="table-wrapper"><table class=" no_header  _layout-fixed" width="100%" id="277bb56d"><tbody><tr id="f5259e04" class="ijRowOdd"><td id="023316b3" width="50%">						<div class="code-block" data-lang="javascript">类Rectangle {构造函数（高度，宽度）{this.height =高度； this.width = width; } get area（）{return this.calcArea（）; } calcArea（）{返回this.height * this.width; }}</div>					</td><td id="23e0b77c" width="50%">						<div class="code-block" data-lang="javascript">类Rectangle {构造函数（高度，宽度）{this.height =高度； this.width = width; } _calcArea;获取area（）{this._calcArea = this.calcArea（）;返回this._calcArea; } calcArea（）{返回this.height * this.width; }}</div>					</td></tr></tbody></table></div><p id="javascript_extract_field_examples_example_2_field_initialized_in_field_declaration">	<span class="emphasis">示例2：提取的字段在其声明中初始化</span></p>			<div class="table-wrapper"><table class=" no_header  _layout-fixed" width="100%" id="942d7c45"><tbody><tr id="a6087525" class="ijRowOdd"><td id="210d1ede" width="50%">						<div class="code-block" data-lang="javascript">类Rectangle {构造函数（高度，宽度）{this.height =高度； this.width = width; } get area（）{return this.calcArea（）; } calcArea（）{返回this.height * this.width; }}</div>					</td><td id="e02007cf" width="50%">						<div class="code-block" data-lang="javascript">类Rectangle {构造函数（高度，宽度）{this.height =高度； this.width = width; } _calcArea = this.calcArea（）;获取area（）{返回this._calcArea; } calcArea（）{返回this.height * this.width; }}</div>				</td></tr></tbody></table></div>			<p id="javascript_extract_field_examples_example_3_field_initialized_in_constructor">				<span class="emphasis">示例3：提取的字段在类的构造函数中初始化</span>			</p>			<div class="table-wrapper"><table class=" no_header  _layout-fixed" width="100%" id="058c0b56"><tbody><tr id="a196d227" class="ijRowOdd"><td id="6cd8ae37" width="50%">						<div class="code-block" data-lang="javascript">类Rectangle {构造函数（高度，宽度）{this.height =高度； this.width = width; } get area（）{return this.calcArea（）; } calcArea（）{返回this.height * this.width; }}</div>					</td><td id="0912c0c0" width="50%">						<div class="code-block" data-lang="javascript">类Rectangle {构造函数（高度，宽度）{this._calcArea = this.calcArea（）; this.height =高度； this.width = width; } _calcArea;获取area（）{返回this._calcArea; } calcArea（）{返回this.height * this.width; }}</div>					</td></tr></tbody></table></div>		<section class="procedure-steps"><h3 id="extract_field_dialog">提取字段</h3><ol class="list _decimal"><li class="list__item" id="javascript_extract_field_dialog_select_expression"><p>在编辑器中，选择要转换为字段的表达式，然后按<kbd data-primary_default_for_windows="Ctrl+Alt+F" data-primary_intellij_idea_classic_macos="Alt+⌘+F" data-primary_default_for_gnome="Ctrl+Alt+F" data-primary_default_for_kde="Ctrl+Alt+F" data-primary_sublime_text="Ctrl+Alt+F" data-primary_eclipse="Ctrl+Alt+F" data-primary_emacs="N/A" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⌥⌘F" data-secondary_default_for_gnome="⌃⌥F" data-secondary_default_for_kde="⌃⌥F" data-secondary_eclipse="⌃⌥F" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="N/A">Ctrl+Alt+F</kbd>或选择“ <span class="menupath" data-skip-index="skip">重构” |提取物|</span>来自上下文菜单或主菜单上的<span class="menupath" data-skip-index="skip">字段</span> 。“ <a href="reference-introduce-field.html">提取字段”对话框</a>打开。</p></li><li class="list__item" id="8e6fa34a"><p>从列表中接受建议的名称之一或键入自定义名称。</p></li><li class="list__item" id="f39ffa3e">                    <p id="6c4c186b">选择新字段的初始化位置：</p>					<ul class="list _bullet"><li class="list__item" id="7b91390c"><p>							<span class="control">当前方法</span> ，请参见上面的<a href="#javascript_extract_field_examples_example_1_field_initialized_in_enclosing_method">示例1</a> 。</p></li><li class="list__item" id="d2cb9f82"><p>							<span class="control">字段声明</span> ，请参见上面的<a href="#javascript_extract_field_examples_example_2_field_initialized_in_field_declaration">示例2</a> 。</p></li><li class="list__item" id="4155cbb9"><p>							<span class="control">类构造函数</span> ，请参见上面的<a href="#javascript_extract_field_examples_example_3_field_initialized_in_constructor">示例3</a> 。</p></li></ul>					<figure><img alt="ws_js_extract_field_dialog_1.png" title="ws_js_extract_field_dialog_1.png" src="/help/img/idea/2019.2/ws_js_extract_field_dialog_1.png" id="429e058d" width="600" height="426"></figure>				</li></ol></section>	</div>	<div class="chapter"><h3 id="javascript_extract_method" data-toc="topicId1000000104#javascript_extract_method">提取方法</h3>				        <p id="fdda819e">			<a name="extract_method_js_ts_description"></a> <span class="emphasis">提取方法</span>重构使您可以使用提取的代码创建命名方法或函数。调用<span class="emphasis">Extract Method</span>重构时，PyCharm会检测到作为所选代码片段输入的变量和作为所选代码片段输出的变量。检测到的输出变量用作提取的方法或函数的返回值。</p>			<p id="javascript_extract_method_example">在以下示例中，从<code class="code">c = a + b;</code>表达。</p>			<p id="javascript_extract_method_examples_example_1_global_inside_another_function">				<span class="emphasis">示例1：从另一个函数内部的表达式中提取全局范围的函数</span><br>的<code class="code">c = a + b;</code>在内部调用重构的表达式<code class="code">MyFunction()</code>功能。选择了<span class="control">全球</span>目标范围。</p>        <p id="javascript_extract_method_examples_example_1_1_global_inside_another_function_function_declaration_generated">            <span class="emphasis">例1.1：生成函数声明</span>			</p><div class="table-wrapper"><table class=" no_header  _layout-fixed" width="100%" id="6cb2055c"><tbody><tr id="0e473023" class="ijRowOdd"><td id="9a568f5b" width="50%">                <div class="code-block" data-lang="javascript">函数MyFunction（a，b）{c = a + b;返回（c * c）; } result = MyFunction（4,6）; document.write（result）;</div>            </td><td id="1a1935e6" width="50%">				<div class="code-block" data-lang="javascript">函数extract（a，b）{c = a + b; }函数MyFunction（a，b）{提取（a，b）;返回（c * c）; } result = MyFunction（4,6）; document.write（result）;</div>            </td></tr></tbody></table></div>		<p></p>        <p id="javascript_extract_method_examples_example_1_2_global_inside_another_function_declaration_inside_expression">            <span class="emphasis">例1.2：提取的函数在表达式内部声明</span>			</p><div class="table-wrapper"><table class=" no_header  _layout-fixed" width="100%" id="a4694502"><tbody><tr id="73fb3258" class="ijRowOdd"><td id="c43b75d8" width="50%">                <div class="code-block" data-lang="javascript">函数MyFunction（a，b）{c = a + b;返回（c * c）; } result = MyFunction（4,6）; document.write（result）;</div>            </td><td id="d3f5126e" width="50%">                <div class="code-block" data-lang="javascript">令提取=函数（a，b）{c = a + b; };函数MyFunction（a，b）{提取（a，b）;返回（c * c）; } result = MyFunction（4,6）; document.write（result）;</div>            </td></tr></tbody></table></div>		<p></p>			<p id="javascript_extract_method_examples_example_2_global_outside_any_function">				<span class="emphasis">示例2：从任何函数外部的表达式中提取全局范围的函数</span><br>的<code class="code">c = a + b;</code>调用重构的表达式位于任何函数之外。因此，无法选择目标范围。</p>        <p id="javascript_extract_method_examples_example_2_1_global_outside_any_function_declaration_generated">            <span class="emphasis">例2.1：生成函数声明</span></p><div class="table-wrapper"><table class=" no_header  _layout-fixed" width="100%" id="b6012857"><tbody><tr id="d6b5df42" class="ijRowOdd"><td id="57169aa2" width="50%">			<div class="code-block" data-lang="javascript">c = a + b;</div>		</td><td id="124ffa0c" width="50%">			<div class="code-block" data-lang="javascript">函数extract（）{c = a + b; } extract（）;</div>		</td></tr></tbody></table></div>        <p></p>        <p id="javascript_extract_method_examples_example_2_2_global_outside_any_function_declaration_inside_expression">            <span class="emphasis">示例2.2：提取的函数在表达式内部声明</span></p><div class="table-wrapper"><table class=" no_header  _layout-fixed" width="100%" id="328b582a"><tbody><tr id="c2a2ea68" class="ijRowOdd"><td id="8d27017d" width="50%">			<div class="code-block" data-lang="javascript">c = a + b;</div>		</td><td id="50380836" width="50%">			<div class="code-block" data-lang="javascript">让我们提取= function（）{c = a + b; }; extract（）;</div>		</td></tr></tbody></table></div>        <p></p>			<p id="javascript_extract_method_examples_example_3_function_scope_inside_another_function">				<span class="emphasis">示例3：提取包含在封闭函数内部的函数</span><br>的<code class="code">c = a + b;</code>在内部调用重构的表达式<code class="code">MyFunction()</code>功能。<span class="control">功能MyFunction</span>目标作用域已选择。</p>			<div class="table-wrapper"><table class=" no_header  _layout-fixed" width="100%" id="047f9dc4"><tbody><tr id="a19f55f7" class="ijRowOdd"><td id="5aa43448" width="50%">						<div class="code-block" data-lang="javascript">函数MyFunction（a，b）{c = a + b;返回（c * c）; } result = MyFunction（4,6）; document.write（result）;</div>					</td><td id="16c305b1" width="50%">						<div class="code-block" data-lang="javascript">函数MyFunction（a，b）{函数extract（）{c = a + b; } extract（）;返回（c * c）; } result = MyFunction（4,6）; document.write（result）;</div>					</td></tr></tbody></table></div>		<section class="procedure-steps"><h3 id="javascript_extract_function_procedure">提取功能</h3><ol class="list _decimal"><li class="list__item" id="javascript_extract_function_select_expression">					<p id="21a2014b">在编辑器中，选择要转换为函数的代码片段，然后按<kbd data-primary_default_for_windows="Ctrl+Alt+M" data-primary_intellij_idea_classic_macos="Alt+⌘+M" data-primary_default_for_gnome="Ctrl+Alt+M" data-primary_default_for_kde="Ctrl+Alt+M" data-primary_sublime_text="Ctrl+Alt+M" data-primary_eclipse="Shift+Alt+M" data-primary_emacs="Ctrl+Alt+M" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⌥⌘M" data-secondary_default_for_gnome="⌃⌥M" data-secondary_default_for_kde="⌃⌥M" data-secondary_eclipse="⌥⇧M" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="⌥⌘M">Ctrl+Alt+M</kbd>或选择“ <span class="menupath" data-skip-index="skip">重构” |提取物|</span>从上下文菜单或从主菜单<span class="menupath" data-skip-index="skip">的方法</span> 。</p>					<aside class="tip sideblock" rel="21a2014b" id="5717d28d" data-title="">						<p id="ea96e4c9">所选代码片段可以是一组语句或在代码中某处使用的表达式。</p>					</aside>				</li><li class="list__item" id="javascript_refactoring_extract_method_choose_destination_scope">					<p id="7c0659ae">如果所选表达式在函数内部，请从列表中选择目标范围：</p>					<ul class="list _ul"><li class="list__item" id="fc9c6931">							<p id="d55ecf9d">如果选择<span class="control">global</span> ，则提取的函数将在任何函数之外声明。请参阅上面的<a href="#javascript_extract_method_examples_example_1_global_inside_another_function">示例1</a> 。</p>						</li><li class="list__item" id="487bfb8d">							<p id="a55fcb5b">要在当前的封闭函数中定义提取的函数，请选择<span class="control">函数<current name="" enclosing="" function=""></current></span> 。请参阅上面的<a href="#javascript_extract_method_examples_example_3_function_scope_inside_another_function">示例3</a> 。</p>						</li></ul>					<figure id="08d09d13" width="600" data-theme="light"><img class="js-gif" src="/help/img/idea/2019.2/ws_refactoring_js_extract_method_extract.png" width="600" data-gif-src="/help/img/idea/2019.2/ws_refactoring_js_extract_method_extract.animated.gif" style="width:600px"></figure>				</li><li class="list__item" id="a4032f98">				<p id="da590a7c">要打开具有更多选项的“ <a href="reference-extract-method-dialog.html">提取功能”</a>对话框，请按<kbd data-primary_default_for_windows="Ctrl+Alt+M" data-primary_intellij_idea_classic_macos="Alt+⌘+M" data-primary_default_for_gnome="Ctrl+Alt+M" data-primary_default_for_kde="Ctrl+Alt+M" data-primary_sublime_text="Ctrl+Alt+M" data-primary_eclipse="Shift+Alt+M" data-primary_emacs="Ctrl+Alt+M" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⌥⌘M" data-secondary_default_for_gnome="⌃⌥M" data-secondary_default_for_kde="⌃⌥M" data-secondary_eclipse="⌥⇧M" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="⌥⌘M">Ctrl+Alt+M</kbd>再来一次。在此对话框中，您可以选择是通过生成的<a href="https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Statements/function" rel="noopener noreferrer" data-external="true" target="_blank">函数声明</a>还是<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/function" rel="noopener noreferrer" data-external="true" target="_blank">在表达式内部</a> <a href="https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Statements/function" rel="noopener noreferrer" data-external="true" target="_blank">声明</a>提取的函数。请参阅<a href="#javascript_extract_method_examples_example_1_1_global_inside_another_function_function_declaration_generated">上面的示例</a> 。</p>				<figure id="03c230ea" width="600" data-theme="light"><img class="js-gif" src="/help/img/idea/2019.2/ws_js_extract_method_es6.png" width="600" data-gif-src="/help/img/idea/2019.2/ws_js_extract_method_es6.animated.gif" style="width:600px"></figure>			</li></ol></section>		<section class="procedure-steps"><h3 id="fd1f09d2">默认情况下打开“提取功能”对话框</h3><ul class="list "><li class="list__item" id="fcd8db0c"><p>				<a name="enable_inplace_refactoring"></a><a name="open_settings"></a>在“ <span class="control">设置/首选项”</span>对话框中（ <kbd data-primary_default_for_windows="Ctrl+Alt+S" data-primary_intellij_idea_classic_macos="⌘+Comma" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_sublime_text="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-primary_emacs="Ctrl+Alt+S" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⌘," data-secondary_default_for_gnome="⌃⌥S" data-secondary_default_for_kde="⌃⌥S" data-secondary_eclipse="⌃⌥S" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="⌘,">Ctrl+Alt+S</kbd> ），转到“ <span class="control">编辑器” |一般</span>在打开的“ <a href="settings-editor-general.html">常规”页面</a>上，清除“ <span class="control">重构”</span>区域中的“ <span class="control">启用就地模式”</span>复选框。</p></li></ul></section>	</div>	<div class="chapter"><h3 id="javascript_extract_superclass" data-toc="topicId1000000104#javascript_extract_superclass">提取超类</h3>		<p id="846fef16"><span class="emphasis">提取超类</span>重构基于当前类的成员创建一个新的抽象类。创建的类将自动扩展。</p>				<aside class="note " rel="846fef16" id="1e03c921" data-title="">			<p id="31cf7731"><span class="emphasis">Extract Superclass</span>重构仅在ES6代码中可用，有关详细信息，请参见<a href="javascript-specific-guidelines.html#ws_js_choose_language_version">选择JavaScript语言版本</a> 。</p>		</aside>		<p id="javascript_extract_superclass_example">假设你有一堂课<code class="code">AccountingDepartment</code>并且您期望<code class="code">printName()</code>中的方法将被重用。</p><div class="code-block" data-lang="javascript">class AccountingDepartment {名称； printName（）{console.log（“部门名称：” + this.name）; } printMeeting（）{console.log（“会计部门在每个星期一的上午10点开会。”）; } generateReports（）{console.log（“正在生成会计报告...”）; }}</div>您可以提取超类<code class="code">Department</code>并包括<code class="code">printName</code>和<code class="code">Name</code>领域。<div class="code-block" data-lang="javascript">班级部{名称； printName（）{console.log（“部门名称：” + this.name）; }}类AccountingDepartment扩展了Department {printMeeting（）{console.log（“会计部门在每个星期一的上午10点开会。”）; } generateReports（）{console.log（“正在生成会计报告...”）; }}</div>		<p></p>		<section class="procedure-steps"><h3 id="ea0e1bf7">提取超类</h3><ol class="list _decimal"><li class="list__item" id="9c2bb6f1"><p>将插入号放置在您要从上下文菜单每个类中获取的类内的任何位置。</p></li><li class="list__item" id="033812d2"><p>选择<span class="menupath" data-skip-index="skip">重构|提取物|</span>来自主菜单或上下文菜单的<span class="menupath" data-skip-index="skip">超类</span> 。将打开“ <span class="control">提取超类”</span>对话框。</p></li><li class="list__item" id="6517aee0"><p>指定新超类的名称，然后选中要包含在其中的类成员旁边的复选框。（可选）标记要抽象的成员。</p></li><li class="list__item" id="bb6b23cb"><p>在“ <span class="control">目标文件”</span>字段中，指定新类将在文件的位置。缺省情况下，该字段显示调用重构的当前文件的路径。</p></li><li class="list__item" id="3c2c88c6"><p>选择<span class="control">提取超类</span> 。PyCharm创建一个新类并用<code class="code">extends</code> 。<br>要创建超类并将方法参数中对超类的引用替换为对源类的引用，请选择<span class="control">Extract超类并在可能的情况下使用它</span> 。PyCharm在“ <span class="control">查找”</span>工具窗口的“ <span class="control">重构预览”</span>窗格中显示建议的更改。</p></li></ol></section>	</div>	<div class="chapter"><h3 id="ws_js_refactoring_extract_object_array_destructuring" data-toc="topicId1000000104#ws_js_refactoring_extract_object_array_destructuring">提取对象或数组解构</h3>		<p id="ws_js_refactoring_extract_object_array_destructuring_intro">			<a name="ws_js_destructuring_definition"></a>通过解构，您可以轻松地将数组和对象中的值分解为变量。此功能具有非常简洁的语法，通常在需要在应用程序中传递数据时使用。有关详细信息，请参见<a href="http://exploringjs.com/es6/ch_destructuring.html" rel="noopener noreferrer" data-external="true" target="_blank">探索ES6</a> 。</p>		<p id="620ac6fc">			<a name="ws_js_destructuring_definition_intentions_and_refactorings"></a>在PyCharm中，您可以简化代码片段，使用专用的重构，意图操作或快速修复，从数组或对象中获取多个值。</p>                <figure id="f333da83" width="600" data-theme="light"><img class="js-gif" src="/help/img/idea/2019.2/ws_js_refactoring_destructuring_light.png" width="600" data-gif-src="/help/img/idea/2019.2/ws_js_refactoring_destructuring_light.animated.gif" style="width:600px"></figure>		<section class="procedure-steps"><ol class="list _decimal"><li class="list__item" id="7c2ed082">				<p id="0a1aa619">将插入号放置在数组或对象的值处。</p>			</li><li class="list__item" id="ws_js_refactoring_extract_object_array_destructuring_proc_step_2">				<p id="f4f5ba91">按<kbd data-primary_default_for_windows="Ctrl+Shift+Alt+T" data-primary_intellij_idea_classic_macos="Shift+Alt+⌘+T" data-primary_default_for_gnome="Ctrl+Shift+Alt+T" data-primary_default_for_kde="Ctrl+Shift+Alt+T" data-primary_sublime_text="Ctrl+Shift+Alt+T" data-primary_eclipse="Ctrl+Shift+Alt+T" data-primary_emacs="Ctrl+Shift+Alt+T" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⌃T" data-secondary_default_for_gnome="⌃⌥⇧T" data-secondary_default_for_kde="⌃⌥⇧T" data-secondary_eclipse="⌃⌥⇧T" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="⌃T">Ctrl+Shift+Alt+T</kbd>然后从“ <span class="control">Refactor This”</span>弹出窗口中选择“ <span class="control">Object or Array Destructuring</span> ”。</p>							<p id="35004be7">或者，选择<span class="menupath" data-skip-index="skip">Refactor |提取物|</span>从上下文菜单或主菜单中进行<span class="menupath" data-skip-index="skip">对象或数组的分解</span> 。</p>			</li><li class="list__item" id="a69c7cc7"><p>指定是要替换所有出现的对象还是仅替换当前出现的对象。</p></li></ol></section>		<p id="9cdcef42">用解构替换原始分配的另一种方法是使用“ <span class="emphasis">用对象/数组解构</span>意图<span class="emphasis">替换”</span>操作。</p>		<section class="procedure-steps"><ul class="list "><li class="list__item" id="52a0a8ce">				<p id="5d4f31bf">将插入号置于数组或对象的值处，按<kbd data-primary_default_for_windows="Alt+Enter" data-primary_intellij_idea_classic_macos="Alt+Enter" data-primary_default_for_gnome="Alt+Enter" data-primary_default_for_kde="Alt+Enter" data-primary_sublime_text="Alt+Enter" data-primary_eclipse="Alt+Enter" data-primary_emacs="Alt+Enter" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⌥⏎" data-secondary_default_for_gnome="⌥⏎" data-secondary_default_for_kde="⌥⏎" data-secondary_eclipse="⌥⏎" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="⌥⏎">Alt+Enter</kbd> ，然后从列表中选择“ <span class="control">替换为对象分解”</span>或“ <span class="control">替换为数组分解</span> ”。</p>								<figure id="c4989eda" width="600" data-theme="light"><img class="js-gif" src="/help/img/idea/2019.2/ws_js_destructuring_intention_action_replace_light.png" width="600" data-gif-src="/help/img/idea/2019.2/ws_js_destructuring_intention_action_replace_light.animated.gif" style="width:600px"></figure>				<p id="a25fd0f9">如果未使用数组或对象中的某些值，则将跳过以下元素：</p>								<figure id="36b6037a" width="600" data-theme="light"><img class="js-gif" src="/help/img/idea/2019.2/ws_js_destructuring_intention_replace_with_array_items_skipped_light.png" width="600" data-gif-src="/help/img/idea/2019.2/ws_js_destructuring_intention_replace_with_array_items_skipped_light.animated.gif" style="width:600px"></figure>			</li></ul></section><p id="f8034f9c">您也可以在不删除原始任务的情况下进行销毁。</p>		<section class="procedure-steps"><h3 id="64605227">保留原始作业</h3><ul class="list "><li class="list__item" id="ws_js_destructuring_procedure_step_2">				<p id="94a30207">按<kbd data-primary_default_for_windows="Alt+Enter" data-primary_intellij_idea_classic_macos="Alt+Enter" data-primary_default_for_gnome="Alt+Enter" data-primary_default_for_kde="Alt+Enter" data-primary_sublime_text="Alt+Enter" data-primary_eclipse="Alt+Enter" data-primary_emacs="Alt+Enter" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⌥⏎" data-secondary_default_for_gnome="⌥⏎" data-secondary_default_for_kde="⌥⏎" data-secondary_eclipse="⌥⏎" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="⌥⏎">Alt+Enter</kbd>然后选择“ <span class="control">介绍对象或数组解构”</span> 。</p>								<figure id="fde8eef2" width="600" data-theme="light"><img class="js-gif" src="/help/img/idea/2019.2/ws_js_destructuring_intention_introduce_light.png" width="600" data-gif-src="/help/img/idea/2019.2/ws_js_destructuring_intention_introduce_light.animated.gif" style="width:600px"></figure>				<p id="4330ebf2">在使用React类组件时，此意图动作可能非常方便：</p>								<figure id="5aa54bfc" width="600" data-theme="light"><img class="js-gif" src="/help/img/idea/2019.2/ws_js_destructuring_react_class_light.png" width="600" data-gif-src="/help/img/idea/2019.2/ws_js_destructuring_react_class_light.animated.gif" style="width:600px"></figure>			</li></ul></section>		<section class="procedure-steps"><h3 id="70a4973f">为函数生成解构参数</h3><ul class="list "><li class="list__item" id="39c853a0">				<p id="76b99f1a">将插入符号置于函数的参数处，按<kbd data-primary_default_for_windows="Alt+Enter" data-primary_intellij_idea_classic_macos="Alt+Enter" data-primary_default_for_gnome="Alt+Enter" data-primary_default_for_kde="Alt+Enter" data-primary_sublime_text="Alt+Enter" data-primary_eclipse="Alt+Enter" data-primary_emacs="Alt+Enter" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⌥⏎" data-secondary_default_for_gnome="⌥⏎" data-secondary_default_for_kde="⌥⏎" data-secondary_eclipse="⌥⏎" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="⌥⏎">Alt+Enter</kbd> ，然后从列表中选择“ <span class="control">将参数转换为对象</span> ”。</p>								<figure id="1f9f5f20" width="600" data-theme="light"><img class="js-gif" src="/help/img/idea/2019.2/ws_js_destructuring_convert_params_light.png" width="600" data-gif-src="/help/img/idea/2019.2/ws_js_destructuring_convert_params_light.animated.gif" style="width:600px"></figure>			</li></ul></section>					</div>	<div class="chapter"><h3 id="ws_js_refactoring_extract_vue_component" data-toc="topicId1000000104#ws_js_refactoring_extract_vue_component">提取Vue组件</h3>		<p id="45f9d0fa">提取Vue组件重构使您可以从现有组件中提取新的<a href="https://vuejs.org/" rel="noopener noreferrer" data-external="true" target="_blank">Vue.js</a>组件，而无需进行任何复制和粘贴。请注意，此重构仅在就地有效，因此请确保在“ <a href="settings-editor-general.html">编辑器：常规”</a>页面上选中“ <span class="control">启用就地模式”</span>复选框。</p>		<section class="procedure-steps"><h3 id="3695ca86">提取Vue.js组件</h3><ol class="list _decimal"><li class="list__item" id="7bde5f0d">				<p id="632316a1">选择要提取的代码片段，然后选择<span class="menupath" data-skip-index="skip">Refactor |。提取物|</span>从其上下文菜单或主菜单中<span class="menupath" data-skip-index="skip">提取Vue组件</span> 。</p>				<p id="857c36e1">或者，使用专用动作：选择要提取的模板片段，然后按<kbd data-primary_default_for_windows="Alt+Enter" data-primary_intellij_idea_classic_macos="Alt+Enter" data-primary_default_for_gnome="Alt+Enter" data-primary_default_for_kde="Alt+Enter" data-primary_sublime_text="Alt+Enter" data-primary_eclipse="Alt+Enter" data-primary_emacs="Alt+Enter" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⌥⏎" data-secondary_default_for_gnome="⌥⏎" data-secondary_default_for_kde="⌥⏎" data-secondary_eclipse="⌥⏎" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="⌥⏎">Alt+Enter</kbd> ，然后从列表中选择“ <span class="control">提取Vue组件</span> ”。有关详细信息，请参见<a href="vue-js.html">Vue.js。</a></p>			</li><li class="list__item" id="f1be036b"><p>键入新组件的名称。如果此名称已被使用或无效，PyCharm将显示警告。否则，将创建一个新的单文件组件并将其导入父组件。</p></li></ol></section>	</div></div>	<div class="chapter"><h2 id="javascript_inline_refactorings" data-toc="topicId1000000104#javascript_inline_refactorings">内联重构</h2>		<p id="4209f61c">内联重构与<a href="#javascript_extract_refactorings">提取重构</a>相反。</p>		<p id="javascript_inline_variable">            <span class="emphasis">示例1：内联变量</span><br>				<a name="inline_variable_js_ts_description"></a> <span class="emphasis">内联变量</span>重构将变量或常量的冗余用法替换为其初始值设定项。这种类型的重构仅适用于块作用域和函数作用域变量。</p><div class="table-wrapper"><table class=" no_header  _layout-fixed" width="100%" id="0df66929"><tbody><tr id="ff5a6069" class="ijRowOdd"><td id="1e9c7c84" width="50%">							<div class="code-block" data-lang="javascript">Parenizor.method（'toString'，function（）{var string ='（'+ this.getValue（）+'）';返回字符串;}</div>						</td><td id="fcaee617" width="50%">							<div class="code-block" data-lang="javascript">Parenizor.method（'toString'，function（）{return'（'+ this.getValue（）+'）';}</div>						</td></tr></tbody></table></div>		<p></p>		<p id="javascript_inline_method">            <span class="emphasis">示例2：内联函数</span><br>				<a name="refactoring_js_ts_inline_function"></a> <span class="emphasis">内联方法</span> / <span class="emphasis">内联函数</span>重构导致将方法或函数的主体放入其调用者的主体中。方法/功能本身被删除。<br>在下面的示例中， <code class="code">Sum()</code>被放置在<code class="code">Multiplication()</code>和<code class="code">Division()</code> 。</p><div class="table-wrapper"><table class=" no_header  _layout-fixed" width="100%" id="4bee38ad"><tbody><tr id="9813138e" class="ijRowOdd"><td id="802a035b" width="50%">							<div class="code-block" data-lang="javascript">函数Sum（a，b）{返回a + b; }函数Multiplication（a，b）{c = Sum（a，b）; d = c * c;返回d; }函数Division（a，b）{c = Sum（a，b）; d =乘法（a，b）;结果= c / d;返回结果； }</div>						</td><td id="0fce103f" width="50%">							<div class="code-block" data-lang="javascript">函数Multiplication（a，b）{c = a + b; d = c * c;返回d; }函数除法（a，b）{c = a + b; d =乘法（a，b）;结果= c / d;返回结果； }</div>						</td></tr></tbody></table></div>		<p></p>        <section class="procedure-steps"><h3 id="javascript_inline_refactorings_procedure">运行内联重构</h3><ol class="list _decimal"><li class="list__item" id="0f880275"><p>在编辑器中，将插入号放置在要内嵌的符号上，然后按<kbd data-primary_default_for_windows="Ctrl+Alt+N" data-primary_intellij_idea_classic_macos="Alt+⌘+N" data-primary_default_for_gnome="Ctrl+Alt+N" data-primary_default_for_kde="Ctrl+Alt+N" data-primary_sublime_text="Ctrl+Alt+N" data-primary_eclipse="Shift+Alt+I" data-primary_emacs="Ctrl+Alt+N" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⌥⌘N" data-secondary_default_for_gnome="⌃⌥N" data-secondary_default_for_kde="⌃⌥N" data-secondary_eclipse="⌥⇧I" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="⌥⌘N">Ctrl+Alt+N</kbd>或选择“ <span class="menupath" data-skip-index="skip">重构” |</span>从上下文菜单或主菜单<span class="menupath" data-skip-index="skip">内联</span> 。</p></li><li class="list__item" id="35a8028a"><p>在与所选符号对应的“ <span class="control">内联”</span>对话框中，确认内联重构。</p></li></ol></section>    </div>	<div class="chapter"><h2 id="javascript_change_signature" data-toc="topicId1000000104#javascript_change_signature">更改签名重构</h2>		<p id="javascript_change_signature_intro">			<a name="refactoring_js_ts_change_signature_description"></a>使用“ <span class="emphasis">更改签名”</span>重构可以更改函数名称，添加，删除，重新排序和重命名参数，以及通过调用层次结构传播新参数。</p>					<p id="32784f27">您还可以使用“ <a href="#javascript_extract_parameter">提取参数”</a>重构来添加参数。</p>			<p id="javascript_change_signature_code_example">下面的示例显示了运行Change Signature重构的不同方法。在所有情况下，该功能<code class="code">result()</code>被重命名为<code class="code">generate_result()</code>和一个新参数<code class="code">input</code>添加到此功能。这些示例说明函数如何调用，即调用函数<code class="code">show_result()</code> ，并且其他代码片段可能会受到重构设置的影响。</p>			<p id="javascript_change_signature_examples_example_1_rename_function_and_add_required_parameter">				<span class="emphasis">示例1：重命名函数，添加参数并通过函数调用传递其值</span><br>在这个例子中，函数<code class="code">result()</code>被重命名为<code class="code">generate_result()</code> ，一个参数<code class="code">input</code>被添加，并且值<code class="code">100</code>在函数调用中作为参数传递。</p>			<div class="table-wrapper"><table class=" no_header  _layout-fixed" width="100%" id="b3402d3e"><tbody><tr id="f8ccd34b" class="ijRowOdd"><td id="676d3a9c" width="50%">						<div class="code-block" data-lang="javascript">函数result（）{}函数show_result（）{alert（'Result：'+ result（））; }</div>					</td><td id="18a121f7" width="50%">						<div class="code-block" data-lang="javascript">函数generate_result（input）{}函数show_result（）{alert（'Result：'+ generate_result（100））; }</div>					</td></tr></tbody></table></div>			<p id="javascript_change_signature_examples_example_2_rename_function_and_add_optional_parameter">				<span class="emphasis">示例2：重命名函数并添加默认参数</span><br>在这个例子中，函数<code class="code">result()</code>被重命名为<code class="code">generate_result()</code> 。默认参数<code class="code">input</code>加上值<code class="code">100</code> 。新参数在<code class="code">generate_result()</code>格式<code class="code">function generate_result(input = 100) {}</code>用于ES6语言级别或<code class="code">input = input || 100</code>对于ES5。</p>			<div class="table-wrapper"><table class=" no_header  _layout-fixed" width="100%" id="be42ad51"><tbody><tr id="4d53e10f" class="ijRowOdd"><td id="2aeccd73" width="50%">						<div class="code-block" data-lang="javascript">函数result（）{}函数show_result（）{alert（'Result：'+ result（））; }</div>					</td><td id="f65d3913" width="50%">						<div class="code-block" data-lang="javascript">函数generate_result（input = 100）{}函数show_result（）{alert（'Result：'+ generate_result（））; }</div>					</td></tr></tbody></table></div>			<p id="javascript_change_signature_examples_example_3_rename_function_and_add_required_parameter_propagate_param_to_call">				<span class="emphasis">示例3：重命名函数，添加默认参数并将参数传播到函数调用</span><br>在这个例子中，函数<code class="code">result()</code>被重命名为<code class="code">generate_result()</code> 。默认参数<code class="code">input</code>加上值<code class="code">100</code> 。新参数在<code class="code">generate_result()</code>格式<code class="code">function generate_result(input = 100) {}</code>用于ES6语言级别或<code class="code">input = input || 100</code>对于ES5。的<code class="code">input</code>参数通过调用函数show_result（）传播，因此函数调用会相应更改。</p>			<div class="table-wrapper"><table class=" no_header  _layout-fixed" width="100%" id="c3028034"><tbody><tr id="6f7123f0" class="ijRowOdd"><td id="50ba5bd6" width="50%">						<div class="code-block" data-lang="javascript">函数result（）{}函数show_result（）{alert（'Result：'+ result（））; }</div>					</td><td id="1408b2a8" width="50%">						<div class="code-block" data-lang="javascript">函数generate_result（input = 100）{}函数show_result（）{alert（'Result：'+ generate_result（））; }</div>					</td></tr></tbody></table></div>		<section class="procedure-steps"><h3 id="javascript_change_signature_proc">调用变更签名</h3><ul class="list "><li class="list__item" id="fb397970"><p>			<a name="refactoring_js_ts_change_signature_invoke"></a>在编辑器中，将光标置于要重构的函数名称内，然后按<kbd data-primary_default_for_windows="Ctrl+F6" data-primary_intellij_idea_classic_macos="⌘+F6" data-primary_default_for_gnome="Ctrl+F6" data-primary_default_for_kde="Ctrl+6" data-primary_sublime_text="N/A" data-primary_eclipse="Shift+Alt+C" data-primary_emacs="Ctrl+F6" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⌘F6" data-secondary_default_for_gnome="⌃F6" data-secondary_default_for_kde="⌃6" data-secondary_eclipse="⌥⇧C" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="N/A">Ctrl+F6</kbd>或选择“ <span class="control">重构” |</span>从上下文菜单或主菜单上<span class="control">更改签名</span> 。将打开“ <span class="control">更改签名”</span>对话框。</p></li></ul></section>		<section class="procedure-steps"><h3 id="javascript_change_signature_change_function_name">重命名功能</h3><ul class="list "><li class="list__item" id="14068a0b"><p>在“ <span class="control">更改签名”</span>对话框中<kbd data-primary_default_for_windows="Ctrl+F6" data-primary_intellij_idea_classic_macos="⌘+F6" data-primary_default_for_gnome="Ctrl+F6" data-primary_default_for_kde="Ctrl+6" data-primary_sublime_text="N/A" data-primary_eclipse="Shift+Alt+C" data-primary_emacs="Ctrl+F6" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⌘F6" data-secondary_default_for_gnome="⌃F6" data-secondary_default_for_kde="⌃6" data-secondary_eclipse="⌥⇧C" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="N/A">Ctrl+F6</kbd> ，编辑<span class="control">名称</span>字段。</p></li></ul></section>		<section class="procedure-steps"><h3 id="manage_params">管理功能参数</h3><ul class="list "><li class="list__item" id="cf253491">                <p id="629db16d">在“ <span class="control">更改签名”</span>对话框中<kbd data-primary_default_for_windows="Ctrl+F6" data-primary_intellij_idea_classic_macos="⌘+F6" data-primary_default_for_gnome="Ctrl+F6" data-primary_default_for_kde="Ctrl+6" data-primary_sublime_text="N/A" data-primary_eclipse="Shift+Alt+C" data-primary_emacs="Ctrl+F6" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⌘F6" data-secondary_default_for_gnome="⌃F6" data-secondary_default_for_kde="⌃6" data-secondary_eclipse="⌥⇧C" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="N/A">Ctrl+F6</kbd> ，请使用参数表及其右侧的按钮：</p>			<ul class="list _bullet"><li class="list__item" id="add_params">                    <p id="d5400b4b">要添加新参数，请单击<img class="inline-icon-16" src="/help/img/idea/2019.2/icons.general.add.svg@2x.png" width="16" alt="添加按钮"><kbd data-primary_default_for_windows="Alt+Insert" data-primary_intellij_idea_classic_macos="Ctrl+N" data-primary_default_for_gnome="Alt+Insert" data-primary_default_for_kde="Alt+Insert" data-primary_sublime_text="Ctrl+N" data-primary_eclipse="Alt+Insert" data-primary_emacs="Alt+Insert" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⌘N" data-secondary_default_for_gnome="N/A" data-secondary_default_for_kde="N/A" data-secondary_eclipse="N/A" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="⌘N">Alt+Insert</kbd>并指定新参数的名称及其默认值或要通过函数调用传递的值。</p>								<p id="2580fd7c">请参阅上面的<a href="#javascript_change_signature_examples_example_1_rename_function_and_add_required_parameter">示例1</a>和<a href="#javascript_change_signature_examples_example_2_rename_function_and_add_optional_parameter">示例2</a> 。</p>				</li><li class="list__item" id="92e26544">                    <p id="9f8c5826">要删除参数，请单击相应行中的任何单元格，然后单击<img class="inline-icon-16" src="/help/img/idea/2019.2/icons.general.remove.svg@2x.png" width="16" alt="删除按钮"><kbd data-primary_default_for_windows="Alt+Delete" data-primary_intellij_idea_classic_macos="⌘+Delete" data-primary_default_for_gnome="Alt+Delete" data-primary_default_for_kde="Alt+Delete" data-primary_sublime_text="Alt+Delete" data-primary_eclipse="Alt+Delete" data-primary_emacs="N/A" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⌘⌦" data-secondary_default_for_gnome="⌥⌦" data-secondary_default_for_kde="⌥⌦" data-secondary_eclipse="⌥⌦" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="⌘⌦">Alt+Delete</kbd> 。</p>				</li><li class="list__item" id="5a6ae0e9">                    <p id="c1859419">要重新排序参数，请使用<img class="inline-icon-16" src="/help/img/idea/2019.2/icons.actions.previousOccurence.svg@2x.png" width="16" alt="上次出现按钮"><kbd data-primary_default_for_windows="Alt+Up" data-primary_intellij_idea_classic_macos="Ctrl+Up" data-primary_default_for_gnome="Alt+Up" data-primary_default_for_kde="Alt+Up" data-primary_sublime_text="Alt+Up" data-primary_eclipse="Ctrl+Shift+Up" data-primary_emacs="Alt+Up" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⌃↑" data-secondary_default_for_gnome="⌥↑" data-secondary_default_for_kde="⌥↑" data-secondary_eclipse="⌃⇧↑" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="⌃↑">Alt+Up</kbd>和<img class="inline-icon-16" src="/help/img/idea/2019.2/icons.actions.nextOccurence.svg@2x.png" width="16" alt="下次出现按钮"><kbd data-primary_default_for_windows="Alt+Down" data-primary_intellij_idea_classic_macos="Ctrl+Down" data-primary_default_for_gnome="Alt+Down" data-primary_default_for_kde="Alt+Down" data-primary_sublime_text="Alt+Down" data-primary_eclipse="Ctrl+Shift+Down" data-primary_emacs="Alt+Down" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⌃↓" data-secondary_default_for_gnome="⌥↓" data-secondary_default_for_kde="⌥↓" data-secondary_eclipse="⌃⇧↓" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="⌃↓">Alt+Down</kbd> 。</p>				</li><li class="list__item" id="b109bbe4">                    <p id="487675d8">要重命名参数，请编辑<span class="control">名称</span>字段。</p>				</li><li class="list__item" id="fa436219">                    <p id="9236ce8a">如有必要， <a href="#propagate_params">将新参数传播</a>到调用当前函数的函数。</p>                </li></ul>			</li></ul></section>		<section class="procedure-steps"><h3 id="propagate_params">沿调用层次结构传播参数</h3><ol class="list _decimal"><li class="list__item" id="e1612595">					<p id="26fd14de">在“ <span class="control">更改签名”</span>对话框中<kbd data-primary_default_for_windows="Ctrl+F6" data-primary_intellij_idea_classic_macos="⌘+F6" data-primary_default_for_gnome="Ctrl+F6" data-primary_default_for_kde="Ctrl+6" data-primary_sublime_text="N/A" data-primary_eclipse="Shift+Alt+C" data-primary_emacs="Ctrl+F6" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⌘F6" data-secondary_default_for_gnome="⌃F6" data-secondary_default_for_kde="⌃6" data-secondary_eclipse="⌥⇧C" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="N/A">Ctrl+F6</kbd> ，选择参数，然后单击<img alt="传播参数按钮" title="传播参数按钮" src="/help/img/idea/2019.2/propagateParameters.png" id="21f9dc19" width="13" height="17" class="inline-icon-13"> 。将打开“ <span class="control">选择传播新参数的方法”</span>对话框。左侧窗格显示函数调用的层次结构。选择功能时，右侧窗格会分别在“ <span class="control">调用方方法”</span>和“被<span class="control">调用方</span> <span class="control">方法”</span>字段中显示其代码和该函数调用的代码。</p>					            <p id="cbe7e0f7">请参阅上面的<a href="#javascript_change_signature_examples_example_3_rename_function_and_add_required_parameter_propagate_param_to_call">示例3</a> 。</p>				</li><li class="list__item" id="ba64aff5">					<p id="52eb4dbd">在左侧窗格中，选中要在其中传播参数的功能旁边的复选框，然后单击<span class="control">确定</span> 。</p>				</li></ol></section>		<section class="procedure-steps"><h3 id="javascript_change_signature_run">预览更改并完成重构</h3><ol class="list _decimal"><li class="list__item" id="a55fde25"><p>在“ <span class="control">更改签名”</span>对话框中，单击“ <span class="control">预览”</span> 。</p></li><li class="list__item" id="b51e05cc"><p>在“ <a href="find-tool-window.html">查找”工具窗口</a>的“ <span class="control">重构预览”</span>选项卡中， <a href="refactoring-source-code.html#ws_refactoring_general_procedure_preview">查看预期的更改</a> ，进行必要的调整，然后在准备好后单击“ <span class="control">执行重构”</span> 。</p></li></ol><aside class="note " rel="b51e05cc" id="9ef7007c" data-title="">				<p id="fd625f46">要立即执行重构，请点击<span class="control">重构</span> 。</p>			</aside></section>	</div>	  	  <div class="last-modified" data-skip-index="skip">上次修改时间：2019年11月6日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="react-native.html">React Native</a> <a class="navigation-links__next" href="debugging-with-spy-js.html">Spy-js</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>