<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>代码质量协助技巧和窍门，或者如何使代码看起来更漂亮？ -帮助| PyCharm</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body  type="" data-id="Tutorial_Code_Quality_Assistance_Tips_and_Tricks" data-article-props="
                {
                
            " seeals=":[=" titl=":=" procedure=",=" link=":=" ur=":" reformat-and-rearrange-code.htm="," tex=":" reformat="" and="" rearrange="" cod="}=" referenc=",=" settings-tools-python-integrated-tools.htm="," python="" integrated="" tool="}=" settings-smart-keys.htm="," smart="" key="}=" language="" framework-specific="" guideline=",=" type-hinting-in-product.htm="," hinting="" in="" pychar="}=" =""=""><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索PyCharm帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>PyCharm 2019.2帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option value="primary_default_for_windows" data-group="primary" selected>Windows的默认设置</option><option value="primary_intellij_idea_classic_macos" data-group="primary">IntelliJ IDEA经典版（macOS）</option><option value="primary_default_for_gnome" data-group="primary">GNOME的默认设置</option><option value="primary_default_for_kde" data-group="primary">KDE的默认值</option><option value="primary_sublime_text" data-group="primary">崇高文字</option><option value="primary_eclipse" data-group="primary">日食</option><option value="primary_emacs" data-group="primary">埃马克斯</option><option value="primary_default_for_xwin_windows" data-group="primary">XWin的默认设置（Windows）</option><option value="secondary_default_for_macos" data-group="secondary">macOS的默认设置</option><option value="secondary_default_for_gnome" data-group="secondary">GNOME的默认设置</option><option value="secondary_default_for_kde" data-group="secondary">KDE的默认值</option><option value="secondary_eclipse" data-group="secondary">日食</option><option value="secondary_default_for_xwin_macos" data-group="secondary">XWin的默认设置（macOS）</option><option value="secondary_sublime_text_macos" data-group="secondary">崇高文字（macOS）</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 id="Tutorial_Code_Quality_Assistance_Tips_and_Tricks.xml" data-toc="Tutorial_Code_Quality_Assistance_Tips_and_Tricks">代码质量协助技巧和窍门，或者如何使代码看起来更漂亮？</h1>    <div class="chapter"><h2 id="fd34ee45" data-toc="Tutorial_Code_Quality_Assistance_Tips_and_Tricks#fd34ee45">本教程的内容</h2>        <p id="cb7d025c">本教程旨在通过使用PyCharm的代码智能功能，逐步引导您在Python项目中创建源代码。您将看到PyCharm如何通过适当的缩进，空格，导入等方式帮助您使源代码保持完美的形状-实际上，您会看到PyCharm本身就是代码质量工具。</p>        <p id="edf0ad2f">Python编程超出了本教程的范围。要了解有关Python语言的更多信息，请<a href="https://www.python.org/" rel="noopener noreferrer" data-external="true" target="_blank">访问官方网站</a> 。</p>    </div><div class="chapter"><h2 id="2c1ef554" data-toc="Tutorial_Code_Quality_Assistance_Tips_and_Tricks#2c1ef554">在你开始前</h2>    <p id="8324f386">确保：</p>    <ul class="list _ul"><li class="list__item" id="1bb582e6"><p>您正在使用PyCharm 5.0或更高版本。如果您仍然没有PyCharm，请从此<a href="https://www.jetbrains.com/pycharm/download/index.html" rel="noopener noreferrer" data-external="true" target="_blank">页面</a>下载。要安装PyCharm，请根据您的平台按照说明进行操作。有关详细信息，请参阅<a href="quick-start-guide.html#step0">产品文档</a> 。</p></li><li class="list__item" id="1bd58912"><p>您已经创建了一个Python项目（ <span class="menupath" data-skip-index="skip">File | New Project ...</span> ）。有关详细信息，请参阅<a href="creating-and-managing-projects.html">产品文档</a> 。</p></li><li class="list__item" id="fc061098"><p>您已经创建了两个目录<span class="filepath">src</span>和<span class="filepath">test_dir</span> （ <span class="menupath" data-skip-index="skip">File | New</span>或<kbd data-primary_default_for_windows="Alt+Insert" data-primary_intellij_idea_classic_macos="Ctrl+N" data-primary_default_for_gnome="Alt+Insert" data-primary_default_for_kde="Alt+Insert" data-primary_sublime_text="Alt+Insert" data-primary_eclipse="Alt+Insert" data-primary_emacs="Alt+Insert" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⌘N" data-secondary_default_for_gnome="N/A" data-secondary_default_for_kde="N/A" data-secondary_eclipse="N/A" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="⌘N">Alt+Insert</kbd> ）。</p></li><li class="list__item" id="03423d63"><p>您已将Python文件添加到项目的<span class="filepath">src</span>和<span class="filepath">test_dir</span>目录（ <span class="menupath" data-skip-index="skip">File | New</span>或<kbd data-primary_default_for_windows="Alt+Insert" data-primary_intellij_idea_classic_macos="Ctrl+N" data-primary_default_for_gnome="Alt+Insert" data-primary_default_for_kde="Alt+Insert" data-primary_sublime_text="Alt+Insert" data-primary_eclipse="Alt+Insert" data-primary_emacs="Alt+Insert" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⌘N" data-secondary_default_for_gnome="N/A" data-secondary_default_for_kde="N/A" data-secondary_eclipse="N/A" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="⌘N">Alt+Insert</kbd> ）。要了解有关创建文件的信息，请参阅“ <a href="populating-projects.html">填充项目</a> ”一节。</p></li></ul></div>    <div class="chapter"><h2 id="4ff8fd7b" data-toc="Tutorial_Code_Quality_Assistance_Tips_and_Tricks#4ff8fd7b">高亮代码样式违规</h2>        <p id="197a8352">创建一个新的Python文件<span class="filepath">src / Solver.py</span> <kbd data-primary_default_for_windows="Alt+Insert" data-primary_intellij_idea_classic_macos="Ctrl+N" data-primary_default_for_gnome="Alt+Insert" data-primary_default_for_kde="Alt+Insert" data-primary_sublime_text="Alt+Insert" data-primary_eclipse="Alt+Insert" data-primary_emacs="Alt+Insert" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⌘N" data-secondary_default_for_gnome="N/A" data-secondary_default_for_kde="N/A" data-secondary_eclipse="N/A" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="⌘N">Alt+Insert</kbd> 。创建的文件将立即打开以进行编辑。默认情况下，该文件没有内容-这是因为<span class="filepath">Solver.py</span>是由<a href="using-file-and-code-templates.html">文件模板</a>创建的（对于Python文件而言）仅包含任何内容。</p>        <p id="cf2f64be">接下来，开始输入关键字<code class="code">class</code> 。当您刚开始输入内容时，PyCharm会立即显示建议列表以完成您的代码：</p>        <figure><img alt="py代码1" title="py代码1" src="/help/img/idea/2019.2/py_code1.png" id="54c0f4c9" width="498" height="139"></figure>        <p id="17341173">（有关详细信息，请参阅产品文档的<a href="auto-completing-code.html#basic_completion">“代码完成”</a>页面。）</p>        <p id="492548c2">红色曲线标记了下一个预期的条目-在这种情况下，这是预期的标识符。输入班级名称<code class="code">Solver</code> 。红色曲线在班级名称之后移动。如果将鼠标指针悬停在该曲线上，则会看到错误说明（“预期冒号”）。另外，请注意右侧装订线中的红色错误条-它也标记了相同的错误：</p>        <figure><img alt="py冒号预期" title="py冒号预期" src="/help/img/idea/2019.2/py_colon_expected.png" id="c2e7e58f" width="495" height="91"></figure>        <p id="9b38abbe">确定，键入冒号，然后按<kbd data-primary_default_for_windows="Enter" data-primary_intellij_idea_classic_macos="Enter" data-primary_default_for_gnome="Enter" data-primary_default_for_kde="Enter" data-primary_sublime_text="Enter" data-primary_eclipse="Enter" data-primary_emacs="Enter" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⏎" data-secondary_default_for_gnome="⏎" data-secondary_default_for_kde="⏎" data-secondary_eclipse="⏎" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="⏎">Enter</kbd> 。根据<a href="code-style-python.html">Python代码样式</a> ，下一条语句缩进。如果碰巧你在按下空格后<kbd data-primary_default_for_windows="Enter" data-primary_intellij_idea_classic_macos="Enter" data-primary_default_for_gnome="Enter" data-primary_default_for_kde="Enter" data-primary_sublime_text="Enter" data-primary_eclipse="Enter" data-primary_emacs="Enter" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⏎" data-secondary_default_for_gnome="⏎" data-secondary_default_for_kde="⏎" data-secondary_eclipse="⏎" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="⏎">Enter</kbd> ，您将因此违反代码样式设置。</p>    </div>    <div class="chapter"><h2 id="14ab3755" data-toc="Tutorial_Code_Quality_Assistance_Tips_and_Tricks#14ab3755">调整PEP8检查</h2>        <p id="063d6d1d">但是，默认情况下，这些违规行为只是微弱的警告，因此不可见。因此，首先让我们提高它们的重要性。请点击<img class="inline-icon-16" src="/help/img/idea/2019.2/icons.general.settings.svg@2x.png" width="16" alt="图标常规设置svg">在主工具栏上的“设置/首选项”对话框的“ <a href="inspections-settings.html">检查”页面</a>上，键入PEP8以查找所有与PEP8相关的检查，然后从“严重性”下拉列表中选择“ <span class="control">警告”</span> ：</p>        <figure><img alt="py检查严重性" title="py检查严重性" src="/help/img/idea/2019.2/py_inspection_severity.png" id="4f16b318" width="745" height="441"></figure>        <p id="fadcc8c3">应用更改并关闭对话框。现在让我们回到源代码。</p>    </div>    <div class="chapter"><h2 id="bad78d18" data-toc="Tutorial_Code_Quality_Assistance_Tips_and_Tricks#bad78d18">跟踪PEP8规则</h2>        <p id="16c26b5d">现在，PyCharm发挥出了自己的最大优势！它可以保护您的代码样式的完整性。您立即注意到缩进的空间被突出显示，例如，当您键入下一条语句时， <code class="code">def demo(self,a,b,c):</code> ，PyCharm将显示来自PEP8检查的消息：</p>        <figure><img alt="py检查pep8" title="py检查pep8" src="/help/img/idea/2019.2/py_inspection_pep8.png" id="491a1bfe" width="226" height="61"></figure>        <p id="2d013ea3">因此，如您所见，PyCharm支持<a href="https://www.python.org/dev/peps/pep-0008/" rel="noopener noreferrer" data-external="true" target="_blank">PEP8</a>作为官方Python样式指南。如果您浏览检查清单（ <kbd data-primary_default_for_windows="Ctrl+Alt+S" data-primary_intellij_idea_classic_macos="⌘+Comma" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_sublime_text="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-primary_emacs="Ctrl+Alt+S" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⌘," data-secondary_default_for_gnome="⌃⌥S" data-secondary_default_for_kde="⌃⌥S" data-secondary_eclipse="⌃⌥S" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="⌘,">Ctrl+Alt+S</kbd> - <a href="inspections-settings.html">检查</a> ），您会看到PyCharm在您的代码上启动了<span class="filepath">pep8.py</span>工具，并查明了违反代码样式的行为。</p>    </div>    <div class="chapter"><h2 id="6864cc67" data-toc="Tutorial_Code_Quality_Assistance_Tips_and_Tricks#6864cc67">代码检查及其设置</h2>      <p id="da86109f">顺便说一句，更专心地<a href="inspections-settings.html">检查检查</a> 。如果您刚刚打开此页面，则将看到具有默认设置的<a href="customizing-profiles.html">默认检查配置文件</a> ：这意味着检查适用于当前项目的所有源。</p>        <p id="4fb707ad">让我们尝试针对两个不同的<a href="scope.html">范围</a>自定义此配置文件：</p>        <ul class="list _ul"><li class="list__item" id="eed50c1c"><p>在<span class="emphasis">测试</span>范围中，拼写错误应标记为错别字（绿色）</p></li><li class="list__item" id="96e564f7"><p>在<span class="emphasis">生产</span>范围中，拼写错误应标记为错误（红色）-我们是否可以实际产生带有错别字的代码？</p></li></ul>        <p id="8415da97">这是怎么做的...</p>        <div class="chapter"><h3 id="de4c99d3" data-toc="Tutorial_Code_Quality_Assistance_Tips_and_Tricks#de4c99d3">创建范围</h3>            <p id="87c43e5f">首先，让我们定义两个范围。为此，请单击<img class="inline-icon-16" src="/help/img/idea/2019.2/icons.general.settings.svg@2x.png" width="16" alt="图标常规设置svg">在主工具栏上的<span class="control">“设置/首选项”</span>对话框中，展开节点“ <span class="control">外观和行为”</span> ，然后打开“ <a href="settings-scopes.html">范围</a> ”页面。然后点击<img class="inline-icon-16" src="/help/img/idea/2019.2/icons.general.add.svg@2x.png" width="16" alt="图标一般添加svg">并选择范围类型<span class="control">Local</span> 。</p>            <p id="bec6c2bd">在“ <span class="control">添加新作用域”</span>对话框中，键入作用域名称（Test），然后在项目树中，选择要包含在“测试作用域”中的<span class="filepath">目录test_dir</span> 。请注意，当您包含目录时，“ <span class="control">模式”</span>字段会自动填写：</p>            <figure><img alt="py范围测试" title="py范围测试" src="/help/img/idea/2019.2/py_scope_test.png" id="d5f5ace4" width="747" height="439"></figure>            <p id="2eb6f9de">重复此过程以创建生产范围。</p>        </div>        <div class="chapter"><h3 id="be6db4da" data-toc="Tutorial_Code_Quality_Assistance_Tips_and_Tricks#be6db4da">使用这些范围创建检验配置文件</h3>            <p id="2aaa5ff2">接下来，让我们<a href="customizing-profiles.html">创建</a>默认配置文件<a href="customizing-profiles.html">的副本</a> （尽管此配置文件是可编辑的……为了安全起见）：</p>            <figure><img alt="py复制配置文件" title="py复制配置文件" src="/help/img/idea/2019.2/py_copy_profile.png" id="02a251e1" width="710" height="443"></figure>            <p id="d3b5f0e4">并为其重新命名，例如MyProjectProfile。此新配置文件是默认配置文件的副本，并且具有相同的检查集。</p>            <p id="dc4cbb53">选择此新配置文件后，让我们找到并检查拼写检查。要查找拼写检查（我们之前已经做过），只需键入<code class="code">spel</code>在搜索区域中。</p>            <p id="6e46d8d9">下一步是什么？单击<span class="control">“所有作用域”</span>按钮，然后从列表中选择“测试”作用域；对生产范围重复相同的操作</p>            <figure><img alt="py spel测试范围" title="py spel测试范围" src="/help/img/idea/2019.2/py_spel_test_scope.png" id="8b4e0db6" width="613" height="439"></figure>            <p id="8b640bfd">在“测试”范围内，检查严重性保持不变（错别字）；但是，在“生产”范围内，我们将从严重性列表中选择“错误”：</p>            <figure><img alt="py pel生产范围" title="py pel生产范围" src="/help/img/idea/2019.2/py_spel_production_scope.png" id="01b2f67d" width="615" height="469"></figure>            <p id="2e6dcca4">注意检查的颜色代码。如果未更改，则显示为黑色。如果它们是蓝色，则表示它们已被更改。</p>            <p id="d965a42c">应用更改并关闭对话框...</p>            <p id="5842568d">因此，修改后的检查配置文件已准备就绪。它的名称是<span class="control">Project Default（副本）</span> ，并且在Test和Production范围中对Spelling检查具有不同的设置。接下来，让我们根据此配置文件检查代码。为此，请在主菜单上选择<span class="menupath" data-skip-index="skip">“代码” |“检查代码”</span> ，然后在对话框中选择所需的配置文件和范围：</p>            <figure><img alt="py根据范围检查代码" title="py根据范围检查代码" src="/help/img/idea/2019.2/py_inspect_code_against_scope.png" id="57acc27a" width="368" height="347"></figure>            <p id="33c282e9">进行两次-对于“测试”和“生产”范围（如果要保留检查结果以供进一步检查和共享，则可以<span>将其导出</span> ）。探索结果：</p>            <figure><img alt="py检查" title="py检查" src="/help/img/idea/2019.2/py_spel_inspection.png" id="4fc75e1e" width="656" height="445"></figure>        </div>    </div>    <div class="chapter"><h2 id="33a49e3b" data-toc="Tutorial_Code_Quality_Assistance_Tips_and_Tricks#33a49e3b">突出显示错误</h2>        <p id="862849d3">除了违反编码风格外，PyCharm还会根据所选配置文件突出显示其他错误。</p>        <p id="dca1f86c">例如，如果您的检查配置文件包含Python检验<span class="control">未解决的引用</span> ，并且您使用了尚未导入的符号，则PyCharm会在未解决的引用下划线并建议添加import语句：</p>        <figure><img alt="py导入" title="py导入" src="/help/img/idea/2019.2/py_import.png" id="d02fcd7b" width="354" height="175"></figure><p id="97cf78a3">请参阅产品<a href="creating-and-optimizing-imports.html">文档</a> 。</p>        <p id="28ad01a5">无论如何，您可以在<span>Hector的</span>帮助下更改错误突出显示。</p>    </div>    <div class="chapter"><h2 id="19e6c8dd" data-toc="Tutorial_Code_Quality_Assistance_Tips_and_Tricks#19e6c8dd">生成源代码</h2>        <p id="26c46858">PyCharm提供了许多自动生成代码的可能性。您可以在<a href="generating-code.html">产品文档中</a>探索自动生成功能。让我们探索主要的代码生成过程。为此，只需删除文件<span class="filepath">Solver.py的</span>所有内容，然后从头开始。</p>        <p id="e3df4873">首先，创建一个类的实例：</p>        <figure><img alt="py创建一个类的实例" title="py创建一个类的实例" src="/help/img/idea/2019.2/py_create_instance_of_a _class.png" id="e6044db1" width="379" height="76"></figure>        <p id="0ebea2d6">接下来，按<kbd data-primary_default_for_windows="Alt+Enter" data-primary_intellij_idea_classic_macos="Alt+Enter" data-primary_default_for_gnome="Alt+Enter" data-primary_default_for_kde="Alt+Enter" data-primary_sublime_text="Alt+Enter" data-primary_eclipse="Alt+Enter" data-primary_emacs="Alt+Enter" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⌥⏎" data-secondary_default_for_gnome="⌥⏎" data-secondary_default_for_kde="⌥⏎" data-secondary_eclipse="⌥⏎" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="⌥⏎">Alt+Enter</kbd>并选择意图操作<span class="control">创建类'Solver'</span> ：</p>        <figure><img alt="py创建类意图动作" title="py创建类意图动作" src="/help/img/idea/2019.2/py_create_class_intention_action.png" id="28f32db1" width="398" height="170"></figure>        <p id="c1770951">大！PyCharm设置了一个类：</p>        <figure><img alt="py创建类存根" title="py创建类存根" src="/help/img/idea/2019.2/py_create_class_stub.png" id="c7088691" width="379" height="160"></figure>        <p id="a0fe9d37">接下来，让我们向类实例添加一个方法。为此，请在类实例之后键入一个点，然后键入方法名称。该方法尚不存在，PyCharm建议创建一个方法：</p>        <figure><img alt="py在类中创建方法" title="py在类中创建方法" src="/help/img/idea/2019.2/py_create_method_in_class.png" id="1677c280" width="841" height="180"></figure><p id="76c60e33">让我们做一些手工工作-输入源代码。在计算判别式时，我们必须提取平方根。有专用功能<code class="code">sqrt</code>在图书馆<code class="code">math</code> ，但尚未导入。好的，无论如何都要键入它，然后看看PyCharm如何处理它。按<kbd data-primary_default_for_windows="Alt+Enter" data-primary_intellij_idea_classic_macos="Alt+Enter" data-primary_default_for_gnome="Alt+Enter" data-primary_default_for_kde="Alt+Enter" data-primary_sublime_text="Alt+Enter" data-primary_eclipse="Alt+Enter" data-primary_emacs="Alt+Enter" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⌥⏎" data-secondary_default_for_gnome="⌥⏎" data-secondary_default_for_kde="⌥⏎" data-secondary_eclipse="⌥⏎" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="⌥⏎">Alt+Enter</kbd>然后选择<span class="control">Import'math'</span> ：</p><figure><img alt="py创建导入" title="py创建导入" src="/help/img/idea/2019.2/py_create_import.png" id="a5af7dd7" width="845" height="232"></figure>        <p id="d6f5412e">因此，我们来到了这样的源代码：</p>        <div class="code-block" data-lang="python">导入数学类求解器（object）：def demo（self，a，b，c）：d = b ** 2-4 * a * c光盘= math.sqrt（d）root1 =（-b +光盘）/（ 2 * a）root2 =（-b-光盘）/（2 * a）打印（root1，root2）返回root1，root2</div>        <p id="e56c6e3d">但是，它缺乏一些重要的分析。我们要分析<code class="code">d</code> 。如果为零或正，则将计算判别式和方程根。当radicand为负数时，让我们提出一个例外。PyCharm如何帮助完成这项任务？</p>        <p id="e0491f2a">让我们用以下代码围住一块代码<code class="code">if</code>构造。选择要完成的语句，当<code class="code">d</code>是非负的，然后按<kbd data-primary_default_for_windows="Ctrl+Alt+T" data-primary_intellij_idea_classic_macos="Alt+⌘+T" data-primary_default_for_gnome="Ctrl+Alt+T" data-primary_default_for_kde="Ctrl+Alt+T" data-primary_sublime_text="Ctrl+Alt+T" data-primary_eclipse="Shift+Alt+Z" data-primary_emacs="Ctrl+Alt+T" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⌥⌘T" data-secondary_default_for_gnome="⌃⌥T" data-secondary_default_for_kde="⌃⌥T" data-secondary_eclipse="⌥⇧Z" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="⌥⌘T">Ctrl+Alt+T</kbd> （或在主菜单上选择<span class="menupath" data-skip-index="skip">代码|环绕声带</span> ）：</p><figure><img alt="py环绕代码" title="py环绕代码" src="/help/img/idea/2019.2/py_surround_code.png" id="2724fa1f" width="524" height="168"></figure>        <p id="17686b7f">选择<code class="code">if</code>建议列表中的选项。如您所见，PyCharm自动添加<code class="code">if True:</code>并缩进选定的行：</p>        <figure><img alt="py环绕添加" title="py环绕添加" src="/help/img/idea/2019.2/py_surround_added.png" id="76d70b6e" width="399" height="312"></figure>        <p id="42a504f6">我们对布尔表达式完全不感兴趣，所以让我们更改选定的<code class="code">True</code>至<code class="code">d >= 0</code> 。接下来，将插入符号放在最后一行的末尾，然后按<kbd data-primary_default_for_windows="Enter" data-primary_intellij_idea_classic_macos="Enter" data-primary_default_for_gnome="Enter" data-primary_default_for_kde="Enter" data-primary_sublime_text="Enter" data-primary_eclipse="Enter" data-primary_emacs="Enter" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⏎" data-secondary_default_for_gnome="⏎" data-secondary_default_for_kde="⏎" data-secondary_eclipse="⏎" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="⏎">Enter</kbd> 。插入符号位于下一行，其缩进与<code class="code">if</code>声明;输入<code class="code">else: clause here</code> ，并查看有关预期缩进的PyCharm报告：</p><figure><img alt="py缩进预期" title="py缩进预期" src="/help/img/idea/2019.2/py_else_indent_expected.png" id="de37d0b6" width="393" height="306"></figure>        <p id="661807c7">当您按<kbd data-primary_default_for_windows="Enter" data-primary_intellij_idea_classic_macos="Enter" data-primary_default_for_gnome="Enter" data-primary_default_for_kde="Enter" data-primary_sublime_text="Enter" data-primary_eclipse="Enter" data-primary_emacs="Enter" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⏎" data-secondary_default_for_gnome="⏎" data-secondary_default_for_kde="⏎" data-secondary_eclipse="⏎" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="⏎">Enter</kbd>再次，插入号位于缩进位置。在这里，您可以使用PyCharm强大的自动代码完成功能键入异常表达式：</p><figure><img alt="py完成代码" title="py完成代码" src="/help/img/idea/2019.2/py_completing_code.png" id="e585f6de" width="321" height="257"></figure>    </div>    <div class="chapter"><h2 id="90e489b5" data-toc="Tutorial_Code_Quality_Assistance_Tips_and_Tricks#90e489b5">重新格式化代码</h2>        <p id="199d7e39">让我们再次看一下我们的<span class="filepath">Solver.py</span>文件。它的右沟显示黄色条纹。当您将鼠标指针悬停在条纹上时，PyCharm将在代码中显示相应问题的描述：</p>        <figure><img alt="py警告" title="py警告" src="/help/img/idea/2019.2/py_warnings.png" id="5de71df1" width="396" height="354"></figure>        <p id="04b40b8a">好消息是它们只是警告，不会影响结果。坏消息是它们太多了，无法一一修复。是否可以使源代码漂亮又漂亮，而不必大惊小怪？</p>        <p id="02ca2305">PyCharm说-是的。这是<a href="reformat-and-rearrange-code.html">代码重新格式化的功能</a> 。因此，让我们尝试更改整个文件的格式。为此，请按<kbd data-primary_default_for_windows="Ctrl+Alt+L" data-primary_intellij_idea_classic_macos="Alt+⌘+L" data-primary_default_for_gnome="Ctrl+Alt+L" data-primary_default_for_kde="Shift+Alt+L" data-primary_sublime_text="Ctrl+Alt+L" data-primary_eclipse="Ctrl+Alt+L" data-primary_emacs="N/A" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⌥⌘L" data-secondary_default_for_gnome="⌃⌥L" data-secondary_default_for_kde="⌥⇧L" data-secondary_eclipse="⌃⌥L" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="⌥⌘L">Ctrl+Alt+L</kbd> （或在主菜单上选择<span class="menupath" data-skip-index="skip">代码|重新格式化代码</span> ）：</p>        <figure><img alt="py重新格式化代码完成" title="py重新格式化代码完成" src="/help/img/idea/2019.2/py_reformat_code_done.png" id="bc9bc587" width="280" height="87"></figure>        <p id="3000bab7">现在看一下代码-与PEP8相关的弊端都消失了。</p>        <p id="5dbf265d">请注意，您可以自己定义格式设置规则。为此，请打开代码<a href="settings-code-style.html">样式设置</a> ，选择语言（在本例中为Python），然后进行必要的更改：</p>        <figure><img alt="py重新格式化代码设置" title="py重新格式化代码设置" src="/help/img/idea/2019.2/py_reformat_code_settings.png" id="96cf3417" width="798" height="531"></figure>    </div>    <div class="chapter"><h2 id="df9be4ca" data-toc="Tutorial_Code_Quality_Assistance_Tips_and_Tricks#df9be4ca">添加文档注释</h2>        <p id="b7121c00">好的，格式化现在已修复，但仍有一些条纹。不可避免的黄色灯泡显示了添加文档字符串注释的可能性：</p><figure><img alt="py意图文档字符串" title="py意图文档字符串" src="/help/img/idea/2019.2/py_intention_docstrings.png" id="2fe2083f" width="470" height="356"></figure>        <p id="2d1f9298">选择此建议，并查看文档字符串注释中添加的某些参数：</p>        <figure><img alt="py意图docstrings完成" title="py意图docstrings完成" src="/help/img/idea/2019.2/py_intention_docstrings_done.png" id="782a82c3" width="475" height="359"></figure>        <p id="cf87b421">请注意，您必须在编辑器设置<a href="settings-smart-keys.html#type">的文档注释存根</a>页面的<span class="control">插入类型占位符中</span>选中<span class="control">文档注释字符串</span>中的<a href="settings-smart-keys.html#type">插入类型占位符</a>复选框：</p>        <figure><img alt="py插入类型占位符设置" title="py插入类型占位符设置" src="/help/img/idea/2019.2/py_insert_type_placeholder_setting.png" id="6f5a8183" width="618" height="318"></figure>        <p id="002e91b8">有多种docstring格式，并且文档注释以您在<a href="settings-tools-python-integrated-tools.html">Python Integrated Tools</a>页面中选择的格式创建。如果愿意，可以将文档字符串格式更改为Epytext或纯文本。</p>    </div>    <div class="chapter"><h2 id="2a0df323" data-toc="Tutorial_Code_Quality_Assistance_Tips_and_Tricks#2a0df323">类型提示</h2>        <p id="6cee95fc">文档注释可用于定义参数，返回值或局部变量的预期类型。我们为什么需要这一切？例如，我们希望控制传递给参数的参数类型<code class="code">demo()</code>方法。为此，我们将相应的信息添加到文档注释中（顺便说一下，请注意文档注释中的代码完成！）：</p>        <figure><img alt="py docstrings完成" title="py docstrings完成" src="/help/img/idea/2019.2/py_docstrings_completion.png" id="15d1eeb0" width="471" height="353"></figure>        <p id="d4557b68">接下来，当您查看方法调用时，您会看到PyCharm的检查<span class="control">类型检查器</span>突出显示了错误的参数：</p>        <figure><img alt="py类型检查器" title="py类型检查器" src="/help/img/idea/2019.2/py_type_checker.png" id="577b2082" width="471" height="355"></figure>        <p id="2ea09245">在PyCharm文档中了解有关<a href="type-hinting-in-product.html">类型提示的</a>更多信息。</p>    </div>    <div class="last-modified" data-skip-index="skip">上次修改时间：2019年11月6日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="switching-boot-jdk.html">切换启动JDK</a> <a class="navigation-links__next" href="tuning-the-ide.html">Advanced配置</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>