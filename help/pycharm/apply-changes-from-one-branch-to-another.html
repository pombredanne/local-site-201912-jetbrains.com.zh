<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>将更改从一个分支应用到另一个分支-帮助|帮助PyCharm</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body  data-id="Apply_changes_from_one_branch_to_another"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索PyCharm帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>PyCharm 2019.2帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option value="primary_default_for_windows" data-group="primary" selected>Windows的默认设置</option><option value="primary_intellij_idea_classic_macos" data-group="primary">IntelliJ IDEA经典版（macOS）</option><option value="primary_default_for_gnome" data-group="primary">GNOME的默认设置</option><option value="primary_default_for_kde" data-group="primary">KDE的默认值</option><option value="primary_sublime_text" data-group="primary">崇高文字</option><option value="primary_eclipse" data-group="primary">日食</option><option value="primary_emacs" data-group="primary">埃马克斯</option><option value="primary_default_for_xwin_windows" data-group="primary">XWin的默认设置（Windows）</option><option value="secondary_default_for_macos" data-group="secondary">macOS的默认设置</option><option value="secondary_default_for_gnome" data-group="secondary">GNOME的默认设置</option><option value="secondary_default_for_kde" data-group="secondary">KDE的默认值</option><option value="secondary_eclipse" data-group="secondary">日食</option><option value="secondary_default_for_xwin_macos" data-group="secondary">XWin的默认设置（macOS）</option><option value="secondary_sublime_text_macos" data-group="secondary">崇高文字（macOS）</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 id="Apply_changes_from_one_branch_to_another.xml" data-toc="Apply_changes_from_one_branch_to_another">将更改从一个分支应用于另一分支</h1>    <p id="20aa136e">在Git中，有几种方法可以将更改从一个分支集成到另一个分支： <a href="#merge">合并分支</a> ，重新设置<a href="#rebase-branch">分支</a> ，或<a href="#cherry-pick">将一个分支的单独提交应用于另一个分支（cherry-pick）</a> 。</p>    <div class="chapter"><h2 id="merge" data-toc="Apply_changes_from_one_branch_to_another#merge">合并分支</h2>        <p id="dd09eb16">假设您已经创建了一个<a href="work-on-several-features-simultaneously.html#feature-branches">功能分支</a>以执行特定任务，并想在完成并测试功能后将工作结果集成到主代码库中：</p><figure><img alt="功能分支图" title="功能分支图" src="/help/img/idea/2019.2/feature_branch_diagram.png" id="8c16eeae" width="360" height="111"></figure>        <p></p>        <p id="6043d2df">            <span class="keyword">将</span>分支<span class="keyword">合并</span>到master是最常见的方法。</p>        <p id="0d164398">在功能分支中工作时，队友会继续将其工作交还给主人：</p><figure><img alt="功能分支与主分支不同" title="功能分支与主分支不同" src="/help/img/idea/2019.2/feature_branch_diverge_from_master_diagram.png" id="eeb91fd8" width="366" height="111"></figure>        <p></p>        <p id="6e363550">当你跑步<code class="code">merge</code> ，来自功能分支的更改将集成到目标分支的HEAD中：</p><figure><img alt="合并结果" title="合并结果" src="/help/img/idea/2019.2/merge_result_diagram.png" id="f04adfa0" width="364" height="107"></figure>Git创建一个新的提交（M），称为合并提交，该合并提交是通过合并功能分支和主分支（从两个分支分开的点）进行的更改而产生的。<p></p>        <section class="procedure-steps"><h3 id="6124de39">合并分支</h3><ol class="list _decimal"><li class="list__item" id="01582b0e"><p>在“ <span class="control">分支”</span>弹出窗口中，选择要将更改集成到的目标分支，然后从弹出菜单中选择“ <span class="control">签</span>出”以切换到该分支。</p></li><li class="list__item" id="4fe19ba9"><p>单击“ PyCharm”窗口底部的“ <span class="control">分支”</span>弹出窗口，选择要合并到目标分支的分支，然后从子菜单中选择“ <span class="control">合并到当前</span> ”。</p></li></ol><p id="84d6218f">如果您的工作树是干净的（这意味着您没有未提交的更改），并且功能分支和目标分支之间没有冲突，则Git将合并两个分支，并且合并提交将出现在<span class="control">Log中</span> ：</p><figure><img alt="合并提交" title="合并提交" src="/help/img/idea/2019.2/merge_commit.png" id="4ef44e44" width="782" height="198"></figure>            <p></p><p id="7902765e">如果分支与目标分支之间发生冲突，将提示您解决它们（请参阅<a href="resolve-conflicts.html">解决冲突</a> ）。如果合并后还有未解决的冲突，则“ <span class="control">合并冲突”</span>节点将显示在“ <span class="control">本地更改”</span>视图中相应的<span class="control">更改</span>列表中，并带有链接来解决这些<span class="control">冲突</span> 。</p><p id="3ffcf245">如果您有本地更改将被合并覆盖，PyCharm将建议执行<span class="control">智能合并</span> 。如果选择此选项，PyCharm将<a href="work-on-several-features-simultaneously.html#stash">存储</a>未提交的更改，执行合并，然后取消存储更改。</p><aside class="note " rel="3ffcf245" id="1f9c0f1f" data-title="">                <p id="ce0b6caf">您可以通过从<span class="control">Git Branches</span>弹出窗口中选择<span class="control">Abort</span>操作来取消未完成的<span class="keyword">合并</span>操作。</p>            </aside></section>    </div>    <div class="chapter"><h2 id="rebase-branch" data-toc="Apply_changes_from_one_branch_to_another#rebase-branch">重新设置分支</h2>        <p id="e0df36fc">当你<code class="code">rebase</code>如果将一个分支转移到另一个分支，则可以将第一个分支的提交应用在第二个分支的HEAD提交的顶部，而不是<a href="#merge">将</a>它们<a href="#merge">合并</a>到目标分支。</p>        <p id="5c717152">假设您已经创建了一个功能分支来处理特定任务，并对该分支进行了几次提交：</p><figure><img alt="特色分支" title="特色分支" src="/help/img/idea/2019.2/feature_branch_diagram.png" id="56e49c4f" width="360" height="111"></figure>        <p></p>        <p id="a60e6649">当您在分支机构中发展时，您的队友将继续致力于他们的工作：</p><figure><img alt="功能分支与主分支不同" title="功能分支与主分支不同" src="/help/img/idea/2019.2/feature_branch_diverge_from_master_diagram.png" id="8d1415b9" width="366" height="111"></figure>        <p></p>        <p id="887f37cf">当您执行<code class="code">rebase</code>您将在功能分支中完成的更改集成到操作中<code class="code">master</code>通过在当前的HEAD提交之上应用您的提交来分支<code class="code">master</code> ：</p><figure><img alt="重新计算操作结果" title="重新计算操作结果" src="/help/img/idea/2019.2/rebase_result_diagram.png" id="0730c4e6" width="371" height="49"></figure>        <p></p>            <section class="procedure-steps"><h3 id="rebase_branch_on_top_of_another_branch">将当前分支重新置于另一个分支之上</h3><ol class="list _decimal"><li class="list__item" id="06c63c9c"><p>在“ <span class="control">分支”</span>弹出窗口中，选择要将当前分支作为基础的分支。</p></li><li class="list__item" id="597e666a"><p>从弹出菜单中选择“将<span class="control">当前基准重新设置为已选定</span> ”。</p></li></ol></section>            <section class="procedure-steps"><h3 id="rebase_branch_on_top_current_branch">在当前分支之上重新建立分支</h3><ol class="list _decimal"><li class="list__item" id="1748735e"><p>在“ <span class="control">分支”</span>弹出窗口中，选择要在当前分支之上重新建立基础的分支。</p></li><li class="list__item" id="2e192172"><p>从弹出菜单中选择“ <span class="control">签出并重新设置为当前</span> ”。</p></li></ol></section>        <aside class="note " rel="rebase_branch_on_top_current_branch" id="96b2e6b5" data-title="">            <p id="b72f98f7">您可以通过从<span class="control">Git Branches</span>弹出窗口的顶部分别选择<span class="control">Abort</span>或<span class="control">Continue</span>操作来取消未完成的<span class="keyword">变基</span>操作或恢复中断的变基。</p>        </aside>        <p id="interactive_rebase">有关在变基期间如何跳过或压缩提交的详细信息，请参阅<a href="edit-project-history.html#interactive-rebase">通过执行交互式变基</a>来<a href="edit-project-history.html#interactive-rebase">编辑项目历史记录</a> 。</p>        <p id="3a9b692e">观看此视频，了解如何在<span class="control">日志</span>视图中反映合并或变基操作：</p>        <div class="video-player"><object width="600" height="400" type="application/x-shockwave-flash" data="//www.youtube.com/v/Nftif2ynvdA?color2=FBE9EC&rel=0&hd=1&autoplay=0&version=3&modestbranding=1&fs=1"><param name="movie" value="//www.youtube.com/v/Nftif2ynvdA?color2=FBE9EC&rel=0&hd=1&autoplay=1&version=3&modestbranding=1&fs=1"><param name="allowFullScreen" value="true"><param name="msallowFullScreen" value="true"><param name="webkitallowFullScreen" value="true"><param name="mozallowFullScreen" value="true"><param name="oallowFullScreen" value="true"><param name="allowscriptaccess" value="always"></object></div>        <br>            </div>    <div class="chapter"><h2 id="cherry-pick" data-toc="Apply_changes_from_one_branch_to_another#cherry-pick">Cherry-pick单独提交</h2>        <p id="ac98b656">有时，您只需要将单个提交或从提交中对单个文件所做的更改应用于不同的分支，而无需重新编制基础或合并整个分支。例如，如果您在功能分支中工作，并且希望集成来自两个分支分开之后提交的<span class="emphasis">master</span>的修补程序，这可能很有用。或者，您可能需要将修补程序反向移植到以前的版本分支。您可以通过使用<span class="control">Cherry-pick</span>操作来实现。</p>        <p id="25e7d345">樱桃选择操作的状态显示在状态栏中。您始终可以通过在<span class="control">Git Branches</span>弹出窗口中选择<span class="control">Abort Cherry-Pick</span>来<span class="control">中止</span>正在进行的<span class="control">Cherry-Pick</span> 。</p><figure><img alt="樱桃摘操作状态" title="樱桃摘操作状态" src="/help/img/idea/2019.2/cherry_pick_status.png" id="135fc6ba" width="489" height="253"></figure>        <p></p>        <section class="procedure-steps"><h3 id="9c69fe67">将整个提交应用于另一个分支</h3><ol class="list _decimal"><li class="list__item" id="da1d5b64"><p>在“ <span class="control">分支”</span>弹出窗口中，选择要将更改集成到的目标分支，然后从弹出菜单中选择“ <span class="control">签</span>出”以切换到该分支。</p></li><li class="list__item" id="a3ec64fa">                <a name="Version_Control_Log"></a>打开<span class="control">版本控制</span>工具窗口<kbd data-primary_default_for_windows="Alt+9" data-primary_intellij_idea_classic_macos="⌘+9" data-primary_default_for_gnome="Alt+9" data-primary_default_for_kde="Alt+9" data-primary_sublime_text="Alt+9" data-primary_eclipse="Alt+9" data-primary_emacs="Alt+9" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⌘9" data-secondary_default_for_gnome="⌥9" data-secondary_default_for_kde="⌥9" data-secondary_eclipse="⌥9" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="⌘9">Alt+9</kbd>并切换到“ <span class="control">日志”</span>标签。</li><li class="list__item" id="ac1d6b6a">                <p id="aef275ac">找到包含您要挑选的更改的提交。</p>                <p id="e6f7dad6">您可以按分支机构，用户或日期过滤提交。您也可以点击<img class="inline-icon-16" src="/help/img/idea/2019.2/icons.general.inspectionsEye.svg@2x.png" width="16" alt="眼睛图标">在工具栏上，然后选择<span class="control">突出显示|未选择提交</span>按钮<img alt="未选择的承诺" title="未选择的承诺" src="/help/img/idea/2019.2/non_picked_commits.png" id="00ac59d3" width="26" height="22" class="inline-icon-26">使已经应用到当前分支的提交变灰。如果您知道提交哈希，或者正在寻找带标记的提交，则还可以使用“ <span class="control">转到哈希/分支/标记”</span>操作（按<kbd data-primary_default_for_windows="Ctrl+F" data-primary_intellij_idea_classic_macos="⌘+F" data-primary_default_for_gnome="Ctrl+F" data-primary_default_for_kde="Ctrl+F" data-primary_sublime_text="Ctrl+F" data-primary_eclipse="N/A" data-primary_emacs="Ctrl+Alt+S" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⌘F" data-secondary_default_for_gnome="⌃F" data-secondary_default_for_kde="⌃F" data-secondary_eclipse="N/A" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="⌘F">Ctrl+F</kbd>在<span class="control">日志</span>视图中，或单击<img class="inline-icon-16" src="/help/img/idea/2019.2/icons.actions.find.svg@2x.png" width="16" alt="搜索">在工具栏上）。</p>            </li><li class="list__item" id="cd4292d3"><p>选择所需的提交。使用“ <span class="control">提交详细信息”</span>区域中的<span class="control">信息</span>来确保这些是您要转移到另一个分支的更改。</p></li><li class="list__item" id="c0a11292"><p>单击“ <span class="control">领料”</span>按钮<img class="inline-icon-16" src="/help/img/idea/2019.2/intellij-dvcs.icons.cherryPick.svg@2x.png" width="16" alt="樱桃选择按钮">在工具栏上。PyCharm将显示带有自动生成的提交消息的“ <span class="control">提交更改”</span>对话框。如果要在将更改提交到目标分支之前查看更改或什至修改代码，可以在此对话框中提供的差异查看器中进行操作。</p></li><li class="list__item" id="8d6239ee">                <p id="12ea4a8d">完成后，单击“ <span class="control">提交”</span>以选择所选更改。</p>                <p id="be972418">请注意，如果单击“ <span class="control">取消”</span> ，将创建一个单独的更改列表，其中包含您可以在“ <span class="control">本地更改”</span>选项卡中看到的所选更改。您可以查看这些更改，并在以后根据需要提交。</p>            </li><li class="list__item" id="ce1efe91"><p>将更改推送到目标分支。</p></li></ol></section>        <section class="procedure-steps"><h3 id="b0a728d2">套用其他变更</h3><ol class="list _decimal"><li class="list__item" id="f22cb216"><p>在“ <span class="control">分支”</span>弹出窗口中，选择要将更改集成到的目标分支，然后从弹出菜单中选择“ <span class="control">签</span>出”以切换到该分支。</p></li><li class="list__item" id="3e29d078">                <a name="Version_Control_Log"></a>打开<span class="control">版本控制</span>工具窗口<kbd data-primary_default_for_windows="Alt+9" data-primary_intellij_idea_classic_macos="⌘+9" data-primary_default_for_gnome="Alt+9" data-primary_default_for_kde="Alt+9" data-primary_sublime_text="Alt+9" data-primary_eclipse="Alt+9" data-primary_emacs="Alt+9" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⌘9" data-secondary_default_for_gnome="⌥9" data-secondary_default_for_kde="⌥9" data-secondary_eclipse="⌥9" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="⌘9">Alt+9</kbd>并切换到“ <span class="control">日志”</span>标签。</li><li class="list__item" id="7a6afd6e">                <p id="44fc157b">找到包含要应用的更改的提交。</p>                <p id="385c6a23">您可以按分支机构，用户或日期过滤提交。您也可以点击<img class="inline-icon-16" src="/help/img/idea/2019.2/icons.general.inspectionsEye.svg@2x.png" width="16" alt="眼睛图标">在工具栏上，然后选择<span class="control">突出显示|未选择提交</span>按钮<img alt="未选择的承诺" title="未选择的承诺" src="/help/img/idea/2019.2/non_picked_commits.png" id="b747b50f" width="26" height="22" class="inline-icon-26">使已经应用到当前分支的提交变灰。如果您知道提交哈希，或者正在寻找带标记的提交，则还可以使用“ <span class="control">转到哈希/分支/标记”</span>操作（按<kbd data-primary_default_for_windows="Ctrl+F" data-primary_intellij_idea_classic_macos="⌘+F" data-primary_default_for_gnome="Ctrl+F" data-primary_default_for_kde="Ctrl+F" data-primary_sublime_text="Ctrl+F" data-primary_eclipse="N/A" data-primary_emacs="Ctrl+Alt+S" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⌘F" data-secondary_default_for_gnome="⌃F" data-secondary_default_for_kde="⌃F" data-secondary_eclipse="N/A" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="⌘F">Ctrl+F</kbd>在<span class="control">日志</span>视图中，或单击<img class="inline-icon-16" src="/help/img/idea/2019.2/icons.actions.find.svg@2x.png" width="16" alt="搜索">在工具栏上）。</p>            </li><li class="list__item" id="85afe976">                <p id="b602af35">在右侧的“ <span class="control">提交详细信息”</span>窗格中，选择包含要应用到目标分支的更改的文件，然后从上下文菜单中选择“ <span class="control">应用选定的更改</span> ”。</p>            </li><li class="list__item" id="910234ca"><p>在打开的对话框中，选择一个现有的变更列表或输入新变更列表的名称，然后单击“ <span class="control">确定”</span> 。</p></li><li class="list__item" id="2e47766b"><p>提交更改，然后将其推送到目标分支。</p></li></ol></section>    </div><div class="last-modified" data-skip-index="skip">上次修改时间：2019年11月6日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="manage-branches.html">管理分支</a> <a class="navigation-links__next" href="resolve-conflicts.html">解决冲突</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>