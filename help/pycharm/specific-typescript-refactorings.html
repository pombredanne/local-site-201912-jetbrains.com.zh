<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>重构TypeScript-帮助|帮助PyCharm</title><link rel="stylesheet" href="/resources.jetbrains.com/storage/help-app/v3/app.css"></head><body  data-id="reference.refactoring.change.signature.typescript" data-article-props="
                {
                
            " seeals=":[=" titl=":=" procedure=",=" link=":=" ur=":" refactoring-source-code.htm="," tex=":" refactoring="" cod="}=" web="" resource=",=" http:="" ="" devnet.jetbrains.com="" community="" python?view="documents" developer="" communit="}="><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索PyCharm帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>PyCharm 2019.2帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option value="primary_default_for_windows" data-group="primary" selected>Windows的默认设置</option><option value="primary_intellij_idea_classic_macos" data-group="primary">IntelliJ IDEA经典版（macOS）</option><option value="primary_default_for_gnome" data-group="primary">GNOME的默认设置</option><option value="primary_default_for_kde" data-group="primary">KDE的默认值</option><option value="primary_sublime_text" data-group="primary">崇高文字</option><option value="primary_eclipse" data-group="primary">日食</option><option value="primary_emacs" data-group="primary">埃马克斯</option><option value="primary_default_for_xwin_windows" data-group="primary">XWin的默认设置（Windows）</option><option value="secondary_default_for_macos" data-group="secondary">macOS的默认设置</option><option value="secondary_default_for_gnome" data-group="secondary">GNOME的默认设置</option><option value="secondary_default_for_kde" data-group="secondary">KDE的默认值</option><option value="secondary_eclipse" data-group="secondary">日食</option><option value="secondary_default_for_xwin_macos" data-group="secondary">XWin的默认设置（macOS）</option><option value="secondary_sublime_text_macos" data-group="secondary">崇高文字（macOS）</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 id="Specific_TypeScript_Refactorings.xml" data-toc="reference.refactoring.change.signature.typescript">重构TypeScript</h1>	<a name="edition"></a>     <aside class="warning " rel="Specific_TypeScript_Refactorings.xml" id="c2f5cfd8" data-title=""><p>仅<b id="4c3ea98b" origin="intellij-platform">专业</b>版支持此功能。该版本是商业版本，它提供了一组出色的功能：有关更多详细信息，请参见<a href="/pycharm/features/editions_comparison_matrix.html" rel="noopener noreferrer" data-external="true" target="_blank">比较矩阵</a> 。</p></aside>    	<p id="726d0f34">		<a name="refactoring_definition"></a> <a href="https://en.wikipedia.org/wiki/Code_refactoring" rel="noopener noreferrer" data-external="true" target="_blank">重构</a>意味着在不更改应用程序行为的情况下更新源代码。重构可帮助您保持代码的牢固， <a href="https://en.wikipedia.org/wiki/Don%27t_repeat_yourself" rel="noopener noreferrer" data-external="true" target="_blank">干燥</a>和易于维护。</p>	<div class="chapter"><h2 id="typescript_move_refactorings" data-toc="reference.refactoring.change.signature.typescript#typescript_move_refactorings">移动重构</h2>        <p id="0f09f0f4">            <a name="ws_refactoring_js_ts_move_intro"></a>除了<a href="refactoring-source-code.html#ws_refactoring_context_independent_refactorings_copy_rename_move_file_folder">移动文件和文件夹</a> ，PyCharm还允许您移动TypeScript顶级符号。<span class="emphasis">移动符号重构</span>适用于ES6模块中的类，函数和变量。</p>			<section class="procedure-steps"><h3 id="typescript_move_top_level_symbols">移动类，函数或变量</h3><ol class="list _decimal"><li class="list__item" id="226ee675">                        <p id="e97eb636">选择要移动的符号。</p>                </li><li class="list__item" id="invoke_move">                    <p id="495baf1c">按<kbd data-primary_default_for_windows="F6" data-primary_intellij_idea_classic_macos="F6" data-primary_default_for_gnome="F6" data-primary_default_for_kde="F6" data-primary_sublime_text="N/A" data-primary_eclipse="Shift+Alt+V" data-primary_emacs="F6" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="F6" data-secondary_default_for_gnome="F6" data-secondary_default_for_kde="F6" data-secondary_eclipse="⌥⇧V" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="N/A">F6</kbd>或选择“ <span class="menupath" data-skip-index="skip">重构|</span>从选择的主菜单或上下文菜单中<span class="menupath" data-skip-index="skip">移动</span> 。或者，选择<span class="menupath" data-skip-index="skip">Refactor |重构</span>或按<kbd data-primary_default_for_windows="Ctrl+Shift+Alt+T" data-primary_intellij_idea_classic_macos="Shift+Alt+⌘+T" data-primary_default_for_gnome="Ctrl+Shift+Alt+T" data-primary_default_for_kde="Ctrl+Shift+Alt+T" data-primary_sublime_text="Ctrl+Shift+Alt+T" data-primary_eclipse="Ctrl+Shift+Alt+T" data-primary_emacs="Ctrl+Shift+Alt+T" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⌃T" data-secondary_default_for_gnome="⌃⌥⇧T" data-secondary_default_for_kde="⌃⌥⇧T" data-secondary_eclipse="⌃⌥⇧T" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="⌃T">Ctrl+Shift+Alt+T</kbd> ，然后从列表中选择<span class="menupath" data-skip-index="skip">移动</span> 。</p>                    <p id="de5e50e4"><span class="control">将</span>打开“ <span class="control">移动模块成员”</span>对话框。</p>                </li><li class="list__item" id="ecb2c454">                    <p id="ab635e88">指定目标文件，然后选择要移动的成员。</p>                </li><li class="list__item" id="d53947cd">                    <p id="c94e879e">默认情况下，PyCharm会自动将成员的可见性提高到所需级别。如果你想保持能见度水平不变，单击<span class="control">由于是</span>在<span class="control">能见度</span> 。</p>                </li></ol></section>			        	</div>    <div class="chapter"><h2 id="typescript_pull_member_up_refactoring" data-toc="reference.refactoring.change.signature.typescript#typescript_pull_member_up_refactoring">拉动班级成员重构</h2>        <p id="541042ca">“上<span class="emphasis">拉类成员向上”</span>重构将类方法在类层次结构中向上移动-从当前类到超类或它实现的接口。</p>        <p id="4fd2ac83">假设你有一堂课<code class="code">AccountingDepartment</code>扩展了抽象类<code class="code">Department</code>并实现一个接口<code class="code">ReportingDepartment</code> 。</p><div class="code-block" data-lang="ts">抽象类Department {构造函数（公共名称：字符串）{} printName（）：void {console.log（“部门名称：” + this.name）; }}接口ReportingDepartment {generateReports（）：void}类AccountingDepartment扩展了部门实现的ReportingDepartment {Constructor（）{super（“ Accounting and Auditing”）; } printMeeting（）：void {console.log（“会计部门在每个星期一的上午10点开会”）； } generateReports（）：void {console.log（“正在生成会计报告...”）; }}</div>        <p></p>        <p id="0c4d9d7f">            <span class="emphasis">示例1：将类方法移至超类</span><br>在此示例中， <code class="code">PrintMeeting()</code>方法从<code class="code">AccountingDepartment</code>至<code class="code">Department</code> 。</p><div class="code-block" data-lang="ts">抽象类Department {构造函数（公共名称：字符串）{} printName（）：void {console.log（“部门名称：” + this.name）; } printMeeting（）：void {console.log（“会计部门在每个星期一的上午10点开会”）； }}接口ReportingDepartment {generateReports（）：void}类AccountingDepartment扩展了部门实现的ReportingDepartment {Constructor（）{super（“ Accounting and Auditing”）; } generateReports（）：void {console.log（“正在生成会计报告...”）; }}</div><figure id="6eea31f5" width="600" data-theme="light"><img class="js-gif" src="/help/img/idea/2019.2/ws_ts_refactoring_pull_members_up.png" width="600" data-gif-src="/help/img/idea/2019.2/ws_ts_refactoring_pull_members_up.animated.gif" style="width:600px"></figure>        <p></p>        <p id="3adc221b">            <span class="emphasis">示例2：将类方法移至接口</span><br>在此示例中， <code class="code">PrintMeeting()</code>方法是从<code class="code">AccountingDepartment</code>上课<code class="code">ReportingDepartment</code>接口。</p><div class="code-block" data-lang="ts">抽象类Department {构造函数（公共名称：字符串）{} printName（）：void {console.log（“部门名称：” + this.name）; }}接口ReportingDepartment {generateReports（）：void printMeeting（）：void}类AccountingDepartment扩展了Department的实现ReportingDepartment {Constructor（）{super（“ Accounting and Auditing”）; } printMeeting（）：void {console.log（“会计部门在每个星期一的上午10点开会”）； } generateReports（）：void {console.log（“正在生成会计报告...”）; }}</div>        <p></p>        <section class="procedure-steps"><h3 id="aabd24aa">将类的方法移至超类或接口</h3><ol class="list _decimal"><li class="list__item" id="faa9dba4"><p>将插入号放置在您要从中拉起成员的班级内的任何位置。</p></li><li class="list__item" id="00719164"><p>选择<span class="menupath" data-skip-index="skip">重构|</span>从主菜单或上下文菜单中<span class="menupath" data-skip-index="skip">拉成员</span> 。将打开“上<span class="control">拉成员”</span>对话框。</p></li><li class="list__item" id="8af7b81a"><p>从列表中选择要在其中移动方法的超类或接口。</p></li><li class="list__item" id="1fae3ff5"><p>要拉出方法，请在“ <span class="control">要拉起</span>的<span class="control">成员”</span>列表中选中该方法旁边的复选框。如果适用， <span class="control">请</span>选中要移动的方法旁边的“ <span class="control">制作摘要”</span>复选框。</p></li></ol></section>    </div>	<div class="chapter"><h2 id="typescript_rename_refactorings" data-toc="reference.refactoring.change.signature.typescript#typescript_rename_refactorings">重命名重构</h2>        <p id="907a81ff">            <a name="rename_refactorings_js_ts_intro"></a>除了<a href="refactoring-source-code.html#ws_refactoring_context_independent_refactorings_rename_file_folder">重命名文件和文件夹</a> （可以在任何语言的上下文中使用）之外，您还可以重命名类，函数，变量和参数。PyCharm会在符号声明中更改符号名称，默认情况下会更改当前项目中所有符号的用法。</p>        <section class="procedure-steps"><h3 id="6529ee67">重命名函数，类或变量</h3><a name="ws_js_ts_rename_function_class"></a><ol class="list _decimal"><li class="list__item" id="183fcf51">            <p id="a877354d">在编辑器中，选择要重命名的符号，然后按<kbd data-primary_default_for_windows="Shift+F6" data-primary_intellij_idea_classic_macos="Shift+F6" data-primary_default_for_gnome="Shift+F6" data-primary_default_for_kde="Shift+F6" data-primary_sublime_text="Shift+F6" data-primary_eclipse="Shift+Alt+R" data-primary_emacs="Shift+F6" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⇧F6" data-secondary_default_for_gnome="⇧F6" data-secondary_default_for_kde="⇧F6" data-secondary_eclipse="⌥⇧R" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="⇧F6">Shift+F6</kbd>或选择“ <span class="menupath" data-skip-index="skip">重构” |</span>从上下文菜单或主菜单中<span class="menupath" data-skip-index="skip">重命名</span> 。</p>        </li><li class="list__item" id="5d3dcce8">            <p id="7eda54ec">在带有红色画布的字段中，输入符号的新名称。</p>        </li><li class="list__item" id="javascript_rename_refactorings_rename_search_in_comments_and text">            <p id="b73acd4e">要使用更多选项打开“ <a href="rename-dialogs.html">重命名”对话框</a> ，请按<kbd data-primary_default_for_windows="Shift+F6" data-primary_intellij_idea_classic_macos="Shift+F6" data-primary_default_for_gnome="Shift+F6" data-primary_default_for_kde="Shift+F6" data-primary_sublime_text="Shift+F6" data-primary_eclipse="Shift+Alt+R" data-primary_emacs="Shift+F6" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⇧F6" data-secondary_default_for_gnome="⇧F6" data-secondary_default_for_kde="⇧F6" data-secondary_eclipse="⌥⇧R" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="⇧F6">Shift+F6</kbd>再来一次。</p>            <ul class="list _bullet"><li class="list__item" id="20e1d3cb">                    <p id="dd162a96">选中“ <span class="control">在注释和字符串中搜索”</span>复选框以重命名函数或注释，文档注释和字符串文字中的类的用法。</p>                </li><li class="list__item" id="61bc5e66">                    <p id="d6a4fc71">选中<span class="control">搜索文本出现</span>复选框，以重命名项目中包含的HTML和其他文件中的文本中的匹配符号。</p>                </li><li class="list__item" id="b72ffcc4">                    <p id="fb9b9ffb">选中“ <span class="control">在JavaScript文件中搜索”</span>复选框，以在JavaScript代码中重命名函数或类的用法。</p>                </li><li class="list__item" id="ecd3af48">                    <p id="f8a17780">选择<span class="control">搜索动态引用</span>复选框以重命名符号的动态用法，例如，类型的动态用法<code class="code">any</code> 。</p>                    <p id="98b95e81">请注意，在重构中包含动态用法可能会导致错误的重命名，如下例所示。在这里变化<code class="code">test()</code>至<code class="code">test1()</code>在<code class="code">rename.test()</code>在里面是正确的<code class="code">hello.test()</code>这是一个错误。</p>                                        <figure id="ff8fd04e" width="600" data-theme="light"><img class="js-gif" src="/help/img/idea/2019.2/ws_ts_rename_symbol_dynamic_usages_error_light.png" width="600" data-gif-src="/help/img/idea/2019.2/ws_ts_rename_symbol_dynamic_usages_error_light.animated.gif" style="width:600px"></figure>                </li></ul>        </li><li class="list__item" id="512fa7a5">            <p id="94d890cc">如有必要， <a href="refactoring-source-code.html#ws_refactoring_general_procedure_preview">预览并应用更改</a> 。</p>                        <p id="17c319da">默认情况下，在“ <span class="control">重构预览”</span>工具窗口中，符号的所有动态用法都标记为已排除，并分组<span class="control">在代码中</span>的“ <span class="control">动态引用”下，以<symbol></symbol></span>节点。要将重构应用于用法，请从其上下文菜单中选择“ <span class="control">包括”</span> 。</p>                        <figure><img alt="重构预览：将符号的动态用法标记为不包括在重构中" title="重构预览：将符号的动态用法标记为不包括在重构中" src="/help/img/idea/2019.2/ws_ts_rename_symbol_dynamic_usages_preview_include_light.png" id="3bf116f7" class=" _border-line" width="600" height="844"></figure>                    </li></ol></section>                <section class="procedure-steps"><h3 id="be66fae1">默认情况下打开“重命名”对话框</h3><ul class="list "><li class="list__item" id="0f7f22c4"><p>                <a name="enable_inplace_refactoring"></a><a name="open_settings"></a>在“ <span class="control">设置/首选项”</span>对话框中（ <kbd data-primary_default_for_windows="Ctrl+Alt+S" data-primary_intellij_idea_classic_macos="⌘+Comma" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_sublime_text="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-primary_emacs="Ctrl+Alt+S" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⌘," data-secondary_default_for_gnome="⌃⌥S" data-secondary_default_for_kde="⌃⌥S" data-secondary_eclipse="⌃⌥S" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="⌘,">Ctrl+Alt+S</kbd> ），转到“ <span class="control">编辑器” |一般</span>在打开的“ <a href="settings-editor-general.html">常规”页面</a>上，清除“ <span class="control">重构”</span>区域中的“ <span class="control">启用就地模式”</span>复选框。</p></li></ul></section>        <section class="procedure-steps"><h3 id="typescript_rename_refactorings_variable_parameter">重命名参数</h3><a name="ws_ts_rename_parameter"></a><ol class="list _decimal"><li class="list__item" id="bc9234ca"><p>在编辑器中选择参数，然后按<kbd data-primary_default_for_windows="Shift+F6" data-primary_intellij_idea_classic_macos="Shift+F6" data-primary_default_for_gnome="Shift+F6" data-primary_default_for_kde="Shift+F6" data-primary_sublime_text="Shift+F6" data-primary_eclipse="Shift+Alt+R" data-primary_emacs="Shift+F6" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⇧F6" data-secondary_default_for_gnome="⇧F6" data-secondary_default_for_kde="⇧F6" data-secondary_eclipse="⌥⇧R" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="⇧F6">Shift+F6</kbd>或选择“ <span class="menupath" data-skip-index="skip">重构” |</span>从上下文菜单或主菜单上<span class="menupath" data-skip-index="skip">重命名</span> 。</p></li><li class="list__item" id="ae72213e"><p>在带有红色画布的选定参数周围的字段中，键入新的参数名称。</p></li><li class="list__item" id="cec7077c"><p>按<kbd data-primary_default_for_windows="Enter" data-primary_intellij_idea_classic_macos="Enter" data-primary_default_for_gnome="Enter" data-primary_default_for_kde="Enter" data-primary_sublime_text="Enter" data-primary_eclipse="Enter" data-primary_emacs="Enter" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⏎" data-secondary_default_for_gnome="⏎" data-secondary_default_for_kde="⏎" data-secondary_eclipse="⏎" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="⏎">Enter</kbd>运行重构。</p></li></ol></section>    <div class="chapter"><h3 id="ws_ts_rename_refactoring_keep_names_in_compliance" data-toc="reference.refactoring.change.signature.typescript#ws_ts_rename_refactoring_keep_names_in_compliance">保持类名并包含文件</h3>        <p id="76cbb169">当您重命名一个类时，PyCharm还建议重命名该文件（如果名称相同）。如果您接受建议，PyCharm会在其他文件的import语句中更新此文件的名称。</p>        <p id="4a5b1745">如果您拒绝此建议，则可以在以后随时使用“ <span class="control">重命名文件...”</span>意图操作来<span class="control">重命名文件</span> 。如果您刚刚创建了一个新文件，但是在开始在其中键入类或接口时想出了一个更好的名称，则此功能将非常有用。另一个有意的操作建议将类移动到具有相应名称的新文件。建议的文件名格式由“ <a href="settings-code-style-typescript.html#ws_settings_code_style_ts_code_generation">代码样式：JavaScript”</a>页面上“ <span class="control">文件名”约定</span>列表中选择的样式确定。</p>        <section class="procedure-steps"><h3 id="a6c3fc2d">使文件名与相应类的名称保持一致</h3><ol class="list _decimal"><li class="list__item" id="391bb118"><p>将插入符号放在班级名称上，然后按<kbd data-primary_default_for_windows="Alt+Enter" data-primary_intellij_idea_classic_macos="Alt+Enter" data-primary_default_for_gnome="Alt+Enter" data-primary_default_for_kde="Alt+Enter" data-primary_sublime_text="Alt+Enter" data-primary_eclipse="Alt+Enter" data-primary_emacs="Alt+Enter" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⌥⏎" data-secondary_default_for_gnome="⌥⏎" data-secondary_default_for_kde="⌥⏎" data-secondary_eclipse="⌥⏎" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="⌥⏎">Alt+Enter</kbd> 。</p></li><li class="list__item" id="d3d24e0e"><p>从意图列表中，选择“ <span class="control">重命名文件<class_name.ts>以匹配类名称”</class_name.ts></span>或“ <span class="control">将类移动<class_name>到文件” <class_name.ts></class_name.ts></class_name></span> 。</p><figure><img alt="ws_ts_refactoring_rename_file_intention_custom_naming_convention.png" title="ws_ts_refactoring_rename_file_intention_custom_naming_convention.png" src="/help/img/idea/2019.2/ws_ts_refactoring_rename_file_intention_custom_naming_convention.png" id="2979f42d" width="600" height="143"></figure>            <p></p></li></ol></section>    </div>	</div>    <div class="chapter"><h2 id="typescript_extract_refactorings" data-toc="reference.refactoring.change.signature.typescript#typescript_extract_refactorings">提取重构</h2>        <p id="7c1a20b6">            <a name="ws_js_ts_refactoring_extract_intro"></a> PyCharm提供了各种<span class="emphasis">提取</span>重构，以引入参数，变量，常量，字段，方法和函数。要运行任何这些重构，请选择要重构的表达式，然后选择“ <span class="menupath" data-skip-index="skip">重构”。提取物| <target></target></span> 。您可以选择整个表情，也可以将插入符号放置在其中的任何位置，PyCharm将帮助您进行选择。</p>        <div class="chapter"><h3 id="typescript_extract_parameter" data-toc="reference.refactoring.change.signature.typescript#typescript_extract_parameter">提取参数</h3>            <p id="47b8a731">                <a name="ws_refactoring_js_ts_extract_parameter_description"></a>使用“ <span class="emphasis">提取参数”</span>重构可以用<span class="emphasis">参数</span>替换函数调用中的表达式。PyCharm将相应地更新函数的声明和调用。新参数的默认值可以在函数体内初始化或通过函数调用传递。</p>                <p id="typescript_extract_parameter_examples">假设您有一段带有硬编码的代码<code class="code">"Hello, "</code>在功能上<code class="code">greeter()</code> 。</p><div class="code-block" data-lang="ts">函数greeter（firstName：String，lastName：String）{返回“ Hello，” + firstName +“” + lastName; } document.body.innerHTML = greeter（“ Jane”，“ User”）;</div>通过解压缩参数重构，您可以替换此硬编码<code class="code">"Hello, "</code>与一个<code class="code">greeting</code>参数。新的<code class="code">greeting</code>参数可被提取作为<span class="emphasis">可选</span>或作为<span class="emphasis">必需的</span> 。<p></p>                <p id="typescript_extract_parameter_examples_example_1_optional_parameter">                    <span class="emphasis">示例1：提取一个可选参数</span><br>新参数<code class="code">greeting</code>提取为可选参数。新参数添加到<code class="code">greeter()</code>使用函数默认参数语法。的呼唤<code class="code">greeter()</code>不变。</p><div class="code-block" data-lang="ts">函数greeter（firstName：String，lastName：String，greeting =“ Hello，”）{返回Greeting + firstName +“” + lastName; } document.body.innerHTML = greeter（“ Jane”，“ User”）;</div>                <p></p>                <p id="typescript_extract_parameter_examples_example_2_required_parameter">                    <span class="emphasis">示例2：提取所需的参数</span><br>在此示例中，一个新参数<code class="code">greeting</code>提取为必需参数。因此，相应的函数调用（ <code class="code">document.body.innerHTML = greeter(user);</code>被相应地更改。</p><div class="code-block" data-lang="ts">函数greeter（firstName：String，lastName：String，greeting：string）{返回问候语+ firstName +“” + lastName; } document.body.innerHTML = greeter（“ Jane”，“ User”，“ Hello，”）;</div>                <p></p>            <section class="procedure-steps"><h3 id="typescript_extract_parameter_inplace_refactoring">提取参数</h3><ol class="list _decimal"><li class="list__item" id="typescript_extract_parameter_inplace_select_expression"><p>在编辑器中，将插入符号放置在要转换为参数的表达式内，然后按<kbd data-primary_default_for_windows="Ctrl+Alt+P" data-primary_intellij_idea_classic_macos="Alt+⌘+P" data-primary_default_for_gnome="Ctrl+Alt+P" data-primary_default_for_kde="Ctrl+Alt+P" data-primary_sublime_text="Ctrl+Alt+P" data-primary_eclipse="Ctrl+Alt+P" data-primary_emacs="Ctrl+Alt+P" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⌥⌘P" data-secondary_default_for_gnome="⌃⌥P" data-secondary_default_for_kde="⌃⌥P" data-secondary_eclipse="⌃⌥P" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="⌥⌘P">Ctrl+Alt+P</kbd>或选择“ <span class="menupath" data-skip-index="skip">重构|提取物|</span>从上下文菜单或从主菜单<span class="menupath" data-skip-index="skip">参数</span> 。</p></li><li class="list__item" id="067fbc51"><p>                        <a name="several_expressions_at_cursor_detected"></a>如果在当前光标位置检测到多个表达式，请从“ <span class="control">表达式”</span>列表中选择所需的一个。</p><figure><img alt="ws_ts_extract_parameter_select_expression.png" title="ws_ts_extract_parameter_select_expression.png" src="/help/img/idea/2019.2/ws_ts_extract_parameter_select_expression.png" id="666deff0" width="600" height="228"></figure>                    <p></p></li><li class="list__item" id="2f4f52ac">                        <p id="1ecb7b70">                        <a name="several_occurrences_of_expression_inplace"></a>如果找到了多个以上的选定表达式，请从“ <span class="control">找到</span>的<span class="control">多个实例”</span>列表中选择“ <span class="control">仅替换此实例”</span>或“ <span class="control">替换所有实例</span> ”。最后，将显示用于配置重构的弹出窗口。</p>                        <figure><img alt="ws_ts_extract_parameter_specify_parameter_name_and_type.png" title="ws_ts_extract_parameter_specify_parameter_name_and_type.png" src="/help/img/idea/2019.2/ws_ts_extract_parameter_specify_parameter_name_and_type.png" id="b04fe09e" width="600" height="210"></figure>                    </li><li class="list__item" id="16ed935c">                        <p id="e03011d8">选择<span class="control">Generate JSDoc</span>以<span class="control">生成</span>一个JSDoc注释块。如果您需要指定自定义默认参数值，这可能会有所帮助。从<a href="http://usejsdoc.org/tags-param.html" rel="noopener noreferrer" data-external="true" target="_blank">JSDoc</a>官方网站了解更多信息。</p>                    </li><li class="list__item" id="typescript_extract_parameter_inplace_optional_required_default_value">                        <p id="f578bfb8">选择新参数的初始化位置，并指定其默认值（如果适用）：</p>                        <ul class="list _bullet"><li class="list__item" id="46f7d360">                                <p id="71f8f073">如果选中了“ <span class="control">可选参数”</span>复选框，则参数将使用函数体内的默认值进行初始化。</p>                            </li><li class="list__item" id="c5040813">                                <p id="3382c779">如果取消选中“ <span class="control">可选参数”</span>复选框，则默认参数值将通过现有函数调用传递。所有函数调用都将根据新的函数签名进行更改，并将参数初始化添加到函数主体中。</p>                            </li></ul>                        <p id="c726d746">最初，PyCharm接受在其中调用重构的表达式作为默认值。在大多数情况下，您无需更改它。如果仍然有必要，请在JSDoc注释中以以下格式指定另一个默认值： <code class="code">@param <parameter name> - <default value></code> 。</p>                                        <p id="6fc45b08">从<a href="https://www.typescriptlang.org/docs/handbook/functions.html#optional-and-default-parameters" rel="noopener noreferrer" data-external="true" target="_blank">TypeScript</a>官方网站上了解有关可选和默认参数的更多信息。</p>                    </li><li class="list__item" id="69eb81ca">                        <p id="4bf7531f">双击列表中的参数名称，以接受其中一个建议的参数名称，或者在字段中使用红色画布指定自定义名称。按<kbd data-primary_default_for_windows="Enter" data-primary_intellij_idea_classic_macos="Enter" data-primary_default_for_gnome="Enter" data-primary_default_for_kde="Enter" data-primary_sublime_text="Enter" data-primary_eclipse="Enter" data-primary_emacs="Enter" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⏎" data-secondary_default_for_gnome="⏎" data-secondary_default_for_kde="⏎" data-secondary_eclipse="⏎" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="⏎">Enter</kbd>准备好了。</p>                        <figure><img alt="ws_ts_extract_parameter_result.png" title="ws_ts_extract_parameter_result.png" src="/help/img/idea/2019.2/ws_ts_extract_parameter_result.png" id="32f68d64" width="600" height="160"></figure>                    </li></ol></section>            <div class="chapter"><h4 id="typescript_extract_parameter_procedure">选择重构模式</h4>                <p id="1c2d0745">您可以<a href="#typescript_extract_parameter_inplace_refactoring">如上所述</a>在编辑器中（就地模式）直接<span class="control">提取参数</span> <a href="#typescript_extract_parameter_inplace_refactoring">，</a>或使用“ <span class="control">提取参数”对话框</span> 。这两种方法相当相似，区别如下：</p>                <ul class="list _bullet"><li class="list__item" id="6ade4acb">                        <p id="bb05e339">                        <a href="refactoring-source-code.html#ws_refactoring_general_procedure_preview">预览重构的结果</a> 。<br>在对话框中，可以单击“ <span class="control">预览”</span> ，然后在“ <span class="control">查找”</span>工具窗口的专用选项卡中检查预期的更改。在就地模式下，此功能不可用。</p>                    </li><li class="list__item" id="48e7ca19">                        <p id="bae0f657">                        <a href="#typescript_extract_parameter_inplace_optional_required_default_value">指定默认参数值</a> 。<br>在对话框中，PyCharm在“ <span class="control">值”</span>字段中建议默认参数值，您可以在其中接受建议或指定其他值。在就地模式下，PyCharm将调用重构的表达式视为默认参数值。要指定另一个值，您必须使用JSDoc注释块。</p>                    </li></ul>            </div>    </div>    <div class="chapter"><h3 id="typescript_extract_variable" data-toc="reference.refactoring.change.signature.typescript#typescript_extract_variable">提取变量</h3>        <p id="ts_extract_var_intro">使用<span class="emphasis">提取变量</span>重构将表达式替换为<a href="https://www.typescriptlang.org/docs/handbook/variable-declarations.html#var-declarations" rel="noopener noreferrer" data-external="true" target="_blank">功能范围变量（var）</a> ， <a href="https://www.typescriptlang.org/docs/handbook/variable-declarations.html#let-declarations" rel="noopener noreferrer" data-external="true" target="_blank">块范围变量（let）</a>或<a href="https://www.typescriptlang.org/docs/handbook/variable-declarations.html#const-declarations" rel="noopener noreferrer" data-external="true" target="_blank">块范围常数（const）</a> 。这种重构使您的源代码更易于阅读和维护。它还可以帮助您避免使用硬编码常量，而无需对其值或用途进行任何解释。</p>        <p id="typescript_extract_variable_examples">            </p><div class="table-wrapper"><table class=" no_header  _layout-fixed" width="100%" id="73a4a4a5"><tbody><tr id="128e9228" class="ijRowOdd"><td id="18b12fed" width="50%">                        <div class="code-block" data-lang="ts">函数Multiplication（a：number，b：number）{let d =（a + b）*（a + b）;返回d; } var e =乘法（4，6）;</div>                    </td><td id="c9c63d77" width="50%">                        <div class="code-block" data-lang="ts">函数Multiplication（a：number，b：number）{令c = a + b;令d =（c）*（c）;返回d; } var e =乘法（4，6）;</div>                    </td></tr></tbody></table></div>        <p></p>        <section class="procedure-steps"><h3 id="typescript_extract_variable_inplace_refactoring">提取变量</h3><ol class="list _decimal"><li class="list__item" id="js_refactoring_extract_variable_inline_select_expression"><p>在编辑器中，选择要转换为变量的表达式，然后按<kbd data-primary_default_for_windows="Ctrl+Alt+V" data-primary_intellij_idea_classic_macos="Alt+⌘+V" data-primary_default_for_gnome="Ctrl+Alt+V" data-primary_default_for_kde="Shift+Alt+V" data-primary_sublime_text="Ctrl+Alt+V" data-primary_eclipse="Shift+Alt+L" data-primary_emacs="Ctrl+Alt+V" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⌥⌘V" data-secondary_default_for_gnome="⌃⌥V" data-secondary_default_for_kde="⌥⇧V" data-secondary_eclipse="⌥⇧L" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="N/A">Ctrl+Alt+V</kbd>或选择“ <span class="menupath" data-skip-index="skip">重构|提取物|</span>从上下文菜单或主菜单中<span class="menupath" data-skip-index="skip">可变</span> 。</p></li><li class="list__item" id="bd3d94ed"><p>                    <a name="several_expressions_at_cursor_detected"></a>如果在当前光标位置检测到多个表达式，请从“ <span class="control">表达式”</span>列表中选择所需的一个。</p><figure><img alt="ws_ts_refactoring_extract_variable_inplace_select_expression.png" title="ws_ts_refactoring_extract_variable_inplace_select_expression.png" src="/help/img/idea/2019.2/ws_ts_refactoring_extract_variable_inplace_select_expression.png" id="12dfbba5" width="600" height="236"></figure>                <p></p></li><li class="list__item" id="15a622c8">                    <p id="2f9a9978">                    <a name="several_occurrences_of_expression_inplace"></a>如果找到了多个以上的选定表达式，请从“ <span class="control">找到</span>的<span class="control">多个实例”</span>列表中选择“ <span class="control">仅替换此实例”</span>或“ <span class="control">替换所有实例</span> ”。</p>                    <figure><img alt="ws_ts_refactoring_extract_variable_inplace_multiple_occurrences.png" title="ws_ts_refactoring_extract_variable_inplace_multiple_occurrences.png" src="/help/img/idea/2019.2/ws_ts_refactoring_extract_variable_inplace_multiple_occurrences.png" id="312227bc" width="600" height="190"></figure>                    <p id="dbfb58c6">最后，将显示用于配置重构的弹出窗口。</p>                </li><li class="list__item" id="ts_refactoring_extract_variable_inplace_choose_declaration_statement">                    <p id="9db20ad8">从列表中，选择要在新变量的声明中使用的语句：</p>                    <ul class="list _bullet"><li class="list__item" id="9082e7c1"><p>选择<span class="control">var</span>引入<a href="https://www.typescriptlang.org/docs/handbook/variable-declarations.html#var-declarations" rel="noopener noreferrer" data-external="true" target="_blank">函数范围的变量</a> 。可以在封闭函数中或任何函数外部声明此变量。</p></li><li class="list__item" id="2d7b5123"><p>选择<span class="control">let</span>引入<a href="https://www.typescriptlang.org/docs/handbook/variable-declarations.html#let-declarations" rel="noopener noreferrer" data-external="true" target="_blank">块范围变量</a> 。</p></li><li class="list__item" id="608e74a2"><p>选择<span class="control">const</span>以引入<a href="https://www.typescriptlang.org/docs/handbook/variable-declarations.html#const-declarations" rel="noopener noreferrer" data-external="true" target="_blank">块范围常量</a> 。</p></li></ul>                    <figure><img alt="ws_ts_refactoring_extract_variable_inplace_choose_scope_type.png" title="ws_ts_refactoring_extract_variable_inplace_choose_scope_type.png" src="/help/img/idea/2019.2/ws_ts_refactoring_extract_variable_inplace_choose_scope_type.png" id="e9cb9fdd" width="600" height="204"></figure>                </li><li class="list__item" id="237c6ff4">                    <p id="3279cb05">通过双击列表中的变量名来接受其中之一，或者在字段中指定自定义名称。按<kbd data-primary_default_for_windows="Enter" data-primary_intellij_idea_classic_macos="Enter" data-primary_default_for_gnome="Enter" data-primary_default_for_kde="Enter" data-primary_sublime_text="Enter" data-primary_eclipse="Enter" data-primary_emacs="Enter" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⏎" data-secondary_default_for_gnome="⏎" data-secondary_default_for_kde="⏎" data-secondary_eclipse="⏎" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="⏎">Enter</kbd>准备好了。</p>                </li></ol></section>        <div class="chapter"><h4 id="typescript_extract_variable_procedure">选择重构模式</h4>            <p id="d3d3b88f">您可以<a href="#typescript_extract_variable_inplace_refactoring">如上所述</a>在编辑器中（就地模式）直接<span class="control">提取变量</span> <a href="#typescript_extract_variable_inplace_refactoring">，</a>或使用“ <span class="control">提取变量”对话框</span> 。默认情况下，PyCharm在就地模式下运行提取变量重构。要使用“ <span class="control">提取变量”</span>对话框， <a name="enable_inplace_refactoring"></a><a name="open_settings"></a>在“ <span class="control">设置/首选项”</span>对话框中（ <kbd data-primary_default_for_windows="Ctrl+Alt+S" data-primary_intellij_idea_classic_macos="⌘+Comma" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_sublime_text="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-primary_emacs="Ctrl+Alt+S" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⌘," data-secondary_default_for_gnome="⌃⌥S" data-secondary_default_for_kde="⌃⌥S" data-secondary_eclipse="⌃⌥S" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="⌘,">Ctrl+Alt+S</kbd> ），转到“ <span class="control">编辑器” |一般</span>在打开的“ <a href="settings-editor-general.html">常规”页面</a>上，清除“ <span class="control">重构”</span>区域中的“ <span class="control">启用就地模式”</span>复选框。</p>        </div>    </div>    <div class="chapter"><h3 id="typescript_extract_field" data-toc="reference.refactoring.change.signature.typescript#typescript_extract_field">提取字段</h3>        <p id="132bdf62">            <a name="extract_field_js_ts_description"></a> <span class="emphasis">提取字段</span>重构声明一个新字段，并使用所选表达式对其进行初始化。原始表达式将替换为该字段的用法。</p>            <p id="javascript_extract_field_examples">假设您有以下代码：</p><div class="code-block" data-lang="ts">类Rectangle {构造函数（公共高度：数字，公共宽度：数字）{this.height = height; this.width = width; } get area（）{return this.calcArea（）; } calcArea（）{返回this.height * this.width; }}</div>在以下所有三个示例中，同一字段中， <code class="code">_calcArea</code>被提取。这些示例说明了初始化提取字段的三种不同方式。<p></p>            <p id="typescript_extract_field_examples_example_1_field_initialized_in_enclosing_method">                <span class="emphasis">示例1：在封闭方法get Area（）中初始化提取的字段_calcAreais</span><br>                </p><div class="code-block" data-lang="ts">类Rectangle {构造函数（公共高度：数字，公共宽度：数字）{this.height = height; this.width = width; } private _calcArea：数字；获取area（）{this._calcArea = this.calcArea（）;返回this._calcArea; } calcArea（）{返回this.height * this.width; }}</div>            <p></p>            <p id="typescript_extract_field_examples_example_2_field_initialized_in_field_declaration">                <span class="emphasis">示例2：提取的字段_calcArea在其声明中初始化</span><br>                </p><div class="code-block" data-lang="ts">类Rectangle {构造函数（公共高度：数字，公共宽度：数字）{this.height = height; this.width = width; } private _calcArea = this.calcArea（）;获取area（）{返回this._calcArea; } calcArea（）{返回this.height * this.width; }}</div>            <p></p>            <p id="typescript_extract_field_examples_example_3_field_initialized_in_constructor">                <span class="emphasis">示例3：提取的字段_calcArea在类的构造函数中初始化</span><br>                </p><div class="code-block" data-lang="ts">类Rectangle {构造函数（公共高度：数字，公共宽度：数字）{this._calcArea = this.calcArea（）; this.height =高度； this.width = width; } private _calcArea：数字；获取area（）{返回this._calcArea; } calcArea（）{返回this.height * this.width; }}</div>            <p></p>        <section class="procedure-steps"><h3 id="extract_field_dialog">提取字段</h3><ol class="list _decimal"><li class="list__item" id="javascript_extract_field_dialog_select_expression"><p>在编辑器中，选择要转换为字段的表达式，然后按<kbd data-primary_default_for_windows="Ctrl+Alt+F" data-primary_intellij_idea_classic_macos="Alt+⌘+F" data-primary_default_for_gnome="Ctrl+Alt+F" data-primary_default_for_kde="Ctrl+Alt+F" data-primary_sublime_text="Ctrl+Alt+F" data-primary_eclipse="Ctrl+Alt+F" data-primary_emacs="N/A" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⌥⌘F" data-secondary_default_for_gnome="⌃⌥F" data-secondary_default_for_kde="⌃⌥F" data-secondary_eclipse="⌃⌥F" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="N/A">Ctrl+Alt+F</kbd>或选择“ <span class="menupath" data-skip-index="skip">重构|提取物|</span>来自上下文菜单或主菜单的<span class="menupath" data-skip-index="skip">字段</span> 。</p></li><li class="list__item" id="635b420e">                    <p id="f666aa97">在打开的“ <span>提取字段”对话框</span>中：</p>                    <ul class="list _ul"><li class="list__item" id="d02d4d81">                            <p id="82c2a49d">指定字段名称并<a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" rel="noopener noreferrer" data-external="true" target="_blank">输入</a> 。</p>                        </li><li class="list__item" id="a34f7102">                            <p id="8aab6dab">选择新字段的初始化位置，可用选项为：</p>                            <ul class="list _bullet"><li class="list__item" id="a77d5fb0">                                    <p id="722bf044">                                    <span class="control">当前方法</span> ，请参见<a href="#typescript_extract_field_examples_example_1_field_initialized_in_enclosing_method">示例1</a> 。</p>                                </li><li class="list__item" id="9b262d5d">                                    <p id="c453a31b">                                        <span class="control">字段声明</span> ，请参见<a href="#typescript_extract_field_examples_example_2_field_initialized_in_field_declaration">示例2</a> 。</p>                                </li><li class="list__item" id="d4038763">                                    <p id="e8cdf5f2">                                        <span class="control">类的构造函数</span> ，请参见<a href="#typescript_extract_field_examples_example_3_field_initialized_in_constructor">示例3</a> 。</p>                                </li></ul>                        </li><li class="list__item" id="70f4bfdf">                            <p id="e214b695">选择字段可见性，可用选项为<span class="control">Public</span> ， <span class="control">Private</span>和<span class="control">Protected</span> 。从<a href="https://www.typescriptlang.org/docs/handbook/classes.html#public-private-and-protected-modifiers" rel="noopener noreferrer" data-external="true" target="_blank">TypeScript</a>官方网站了解字段可见性修饰符</p>                        </li></ul>                    <figure><img alt="ws_ts_extract_field_dialog_1.png" title="ws_ts_extract_field_dialog_1.png" src="/help/img/idea/2019.2/ws_ts_extract_field_dialog_1.png" id="1cb6a036" width="600" height="426"></figure>                </li></ol></section>    </div>    <div class="chapter"><h3 id="typescript_extract_method" data-toc="reference.refactoring.change.signature.typescript#typescript_extract_method">提取方法</h3>        <p id="17d7794e">            <a name="extract_method_js_ts_description"></a> <span class="emphasis">提取方法</span>重构使您可以使用提取的代码创建命名方法或函数。调用<span class="emphasis">Extract Method</span>重构时，PyCharm会检测到作为所选代码片段输入的变量和作为所选代码片段输出的变量。检测到的输出变量用作提取的方法或函数的返回值。</p>        <p id="typescript_extract_method_examples_example_1_global_from_expression_inside_another_function">            <span class="emphasis">示例1：从另一个方法内部的表达式中提取全局方法</span><br>在此示例中，使用全局范围的方法<code class="code">NewMethod()</code>从中提取<code class="code">let c = a + b;</code>表达。从中检索提取方法的参数<code class="code">let c = a + b;</code>表达。</p>        <p id="typescript_extract_method_examples_example_1_1_global_inside_another_function_function_declaration_generated">            <span class="emphasis">例1.1：生成函数声明</span></p><div class="table-wrapper"><table class=" no_header  _layout-fixed" width="100%" id="9f0354d3"><tbody><tr id="6ac0949d" class="ijRowOdd"><td id="fdf6ca8f" width="50%">                    <div class="code-block" data-lang="ts">函数MyFunction（a：number，b：number）{令c = a + b;令d = c * c;返回d; }</div>                </td><td id="125db999" width="50%">                    <div class="code-block" data-lang="ts">函数NewMethod（a：number，b：number）{let c = a + b;返回c; }函数MyFunction（a：number，b：number）{let c = NewMethod（a，b）;令d = c * c;返回d; }</div>                </td></tr></tbody></table></div>        <p></p>        <p id="typescript_extract_method_examples_example_1_2_global_inside_another_function_declaration_inside_expression">            <span class="emphasis">例1.2：提取的函数在表达式内部声明</span>        </p><div class="table-wrapper"><table class=" no_header  _layout-fixed" width="100%" id="3a3cc680"><tbody><tr id="2ab3da78" class="ijRowOdd"><td id="e57216dc" width="50%">                    <div class="code-block" data-lang="ts">函数MyFunction（a：number，b：number）{令c = a + b;令d = c * c;返回d; }</div>                </td><td id="50c9a781" width="50%">                    <div class="code-block" data-lang="ts">let NewMethod = function（a：number，b：number）{let c = a + b;返回c; };函数MyFunction（a：number，b：number）{let c = NewMethod（a，b）;令d = c * c;返回d; }</div>                </td></tr></tbody></table></div>        <p></p>        <p id="typescript_extract_method_examples_example_2_local_from_inside_another_function">            <span class="emphasis">示例2：在封闭方法内部提取带有声明的方法</span><br>在此示例中，一种方法<code class="code">NewMethod()</code>从中提取<code class="code">let c = a + b;</code>表达。目标范围<code class="code">function MyFunction</code>被选中。</p>            <div class="table-wrapper"><table class=" no_header  _layout-fixed" width="100%" id="5d58b6f5"><tbody><tr id="f149a612" class="ijRowOdd"><td id="bce898a8" width="50%">                        <div class="code-block" data-lang="ts">函数MyFunction（a：number，b：number）{令c = a + b;令d = c * c;返回d; }</div>                    </td><td id="616b048a" width="50%">                        <div class="code-block" data-lang="ts">函数MyFunction（a：number，b：number）{let NewMethod = function（）{let c = a + b;返回c; };让c = NewMethod（）;令d = c * c;返回d; }</div>                    </td></tr></tbody></table></div>        <p id="84a2f26a">            <span class="emphasis">示例3：从任何方法之外的表达式中提取方法</span><br>一个方法<code class="code">NewMethod()</code>从中提取<code class="code">var e = MyFunction(4, 6);</code>任何方法之外的表达式。提取的方法是全局范围的。</p>        <div class="table-wrapper"><table class=" no_header  _layout-fixed" width="100%" id="005c7dd2"><tbody><tr id="3ce722e3" class="ijRowOdd"><td id="57159fe9" width="50%">                    <div class="code-block" data-lang="ts">var e = MyFunction（4，6）;</div>                </td><td id="828ac8d9" width="50%">                    <div class="code-block" data-lang="ts">让NewMethod = function（）{var e = MyFunction（4，6）; }; NewMethod（）;</div>                </td></tr></tbody></table></div>                <section class="procedure-steps"><h3 id="typescript_extract_method_procedure">提取功能</h3><ol class="list _decimal"><li class="list__item" id="typescript_extract_function_select_expression">                    <p id="6d548c30">在编辑器中，选择要转换为函数的代码片段，然后按<kbd data-primary_default_for_windows="Ctrl+Alt+M" data-primary_intellij_idea_classic_macos="Alt+⌘+M" data-primary_default_for_gnome="Ctrl+Alt+M" data-primary_default_for_kde="Ctrl+Alt+M" data-primary_sublime_text="Ctrl+Alt+M" data-primary_eclipse="Shift+Alt+M" data-primary_emacs="Ctrl+Alt+M" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⌥⌘M" data-secondary_default_for_gnome="⌃⌥M" data-secondary_default_for_kde="⌃⌥M" data-secondary_eclipse="⌥⇧M" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="⌥⌘M">Ctrl+Alt+M</kbd>或选择“ <span class="menupath" data-skip-index="skip">重构|提取物|</span>从上下文菜单或从主菜单<span class="menupath" data-skip-index="skip">的方法</span> 。</p>                            <aside class="tip sideblock" rel="6d548c30" id="45c1cad9" data-title="">            <p id="b5bb9845">选定的代码片段不一定必须是一组语句。它也可以是代码中某个地方使用的表达式。</p>        </aside>                </li><li class="list__item" id="typescript_refactoring_extract_method_choose_destination_scope">                    <p id="8c1d000e">如果所选表达式在另一个函数中，请从列表中选择目标范围：</p>                    <figure><img alt="ws_ts_extract_method_choose_scope.png" title="ws_ts_extract_method_choose_scope.png" src="/help/img/idea/2019.2/ws_ts_extract_method_choose_scope.png" id="43ba7a00" width="600" height="144"></figure>                    <ul class="list _ul"><li class="list__item" id="e5483bd3">                            <p id="d3119da7">如果选择<span class="control">global</span> ，则提取的函数将在任何函数之外声明，请参见上面的<a href="#typescript_extract_method_examples_example_1_global_from_expression_inside_another_function">示例1</a> 。</p>                        </li><li class="list__item" id="74d29fd9">                            <p id="29163e9c">要在当前的封闭函数中声明提取的函数，请选择<span class="control">function <current name="" enclosing="" function=""></current></span> ，请参见上面的<a href="#typescript_extract_method_examples_example_2_local_from_inside_another_function">示例2</a> 。</p>                        </li></ul>                </li><li class="list__item" id="b6f30f94">                <p id="f1a535a8">要打开具有更多选项的“ <span>提取功能”</span>对话框，请按<kbd data-primary_default_for_windows="Ctrl+Alt+M" data-primary_intellij_idea_classic_macos="Alt+⌘+M" data-primary_default_for_gnome="Ctrl+Alt+M" data-primary_default_for_kde="Ctrl+Alt+M" data-primary_sublime_text="Ctrl+Alt+M" data-primary_eclipse="Shift+Alt+M" data-primary_emacs="Ctrl+Alt+M" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⌥⌘M" data-secondary_default_for_gnome="⌃⌥M" data-secondary_default_for_kde="⌃⌥M" data-secondary_eclipse="⌥⇧M" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="⌥⌘M">Ctrl+Alt+M</kbd>再来一次。在此对话框中，您可以选择是通过生成的<a href="https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Statements/function" rel="noopener noreferrer" data-external="true" target="_blank">函数声明</a>还是<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/function" rel="noopener noreferrer" data-external="true" target="_blank">在表达式内部</a> <a href="https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Statements/function" rel="noopener noreferrer" data-external="true" target="_blank">声明</a>提取的函数，然后配置要作为参数传递的变量集。请参阅<a href="#typescript_extract_method_examples_example_1_1_global_inside_another_function_function_declaration_generated">上面的示例</a> 。</p>                <figure><img alt="ws_ts_extract_method_dialog.png" title="ws_ts_extract_method_dialog.png" src="/help/img/idea/2019.2/ws_ts_extract_method_dialog.png" id="e12fe769" width="600" height="426"></figure>            </li></ol></section>        <section class="procedure-steps"><h3 id="987b091e">默认情况下打开“提取功能”对话框</h3><ul class="list "><li class="list__item" id="44c195f5"><p>                <a name="enable_inplace_refactoring"></a><a name="open_settings"></a>在“ <span class="control">设置/首选项”</span>对话框中（ <kbd data-primary_default_for_windows="Ctrl+Alt+S" data-primary_intellij_idea_classic_macos="⌘+Comma" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_sublime_text="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-primary_emacs="Ctrl+Alt+S" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⌘," data-secondary_default_for_gnome="⌃⌥S" data-secondary_default_for_kde="⌃⌥S" data-secondary_eclipse="⌃⌥S" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="⌘,">Ctrl+Alt+S</kbd> ），转到“ <span class="control">编辑器” |一般</span>在打开的“ <a href="settings-editor-general.html">常规”页面</a>上，清除“ <span class="control">重构”</span>区域中的“ <span class="control">启用就地模式”</span>复选框。</p></li></ul></section>    </div>        <div class="chapter"><h3 id="typescript_extract_type_alias" data-toc="reference.refactoring.change.signature.typescript#typescript_extract_type_alias">提取类型别名</h3>            <p id="141ac80a">使用此重构将类型声明表达式转换为<a href="https://www.typescriptlang.org/docs/handbook/advanced-types.html#type-aliases" rel="noopener noreferrer" data-external="true" target="_blank">类型别名，</a>并用该<a href="https://www.typescriptlang.org/docs/handbook/advanced-types.html#type-aliases" rel="noopener noreferrer" data-external="true" target="_blank">别名</a>替换所有出现的表达式。</p><figure id="19052bb0" width="600" data-theme="light"><img class="js-gif" src="/help/img/idea/2019.2/ws_ts_type_alias_to_interface.png" width="600" data-gif-src="/help/img/idea/2019.2/ws_ts_type_alias_to_interface.animated.gif" style="width:600px"></figure>            <p></p>            <p id="5b62e1bd">假设您具有以下代码片段，其中包含<code class="code">{ z: number }</code>类型声明：</p><div class="code-block" data-lang="ts">函数returnObj（）：{x：数字，y：{z：数字}} {返回null}函数anotherObjectReturned（）：{x：数字，y：{z：数字}} {返回null}</div>在下面的示例中，类型别名<code class="code">MyNewAlias</code>从中提取<code class="code">{ z: number }</code>类型声明：<div class="code-block" data-lang="ts">输入MyNewAlias = {z：number};函数returnObj（）：{x：数字，y：MyNewAlias} {返回null}函数anotherObjectReturned（）：{x：数字，y：MyNewAlias} {返回null}</div>            <p></p>            <section class="procedure-steps"><h3 id="e1a9684c">提取类型别名</h3><ol class="list _decimal"><li class="list__item" id="typescript_extract_type_alias_select_expression"><p>在编辑器中，将插入号放置在您要用类型别名替换的表达式中，然后选择“ <span class="menupath" data-skip-index="skip">重构” |“分解”。提取物|</span>从上下文菜单或主菜单中<span class="menupath" data-skip-index="skip">键入别名</span> 。</p></li><li class="list__item" id="8c0b7f7c"><p>                        <a name="several_expressions_at_cursor_detected"></a>如果在当前光标位置检测到多个表达式，请从“ <span class="control">表达式”</span>列表中选择所需的一个。</p><figure><img alt="ws_ts_extract_type_alias_select_type_declaration_expression.png" title="ws_ts_extract_type_alias_select_type_declaration_expression.png" src="/help/img/idea/2019.2/ws_ts_extract_type_alias_select_type_declaration_expression.png" id="f6d7b568" width="600" height="152"></figure>                    <p></p></li><li class="list__item" id="e2efe409"><p>                        <a name="several_occurrences_of_expression_inplace"></a>如果找到了多个以上的选定表达式，请从“ <span class="control">找到</span>的<span class="control">多个实例”</span>列表中选择“ <span class="control">仅替换此实例”</span>或“ <span class="control">替换所有实例</span> ”。</p><figure><img alt="ws_ts_extract_type_alias_multiple_occurrences.png" title="ws_ts_extract_type_alias_multiple_occurrences.png" src="/help/img/idea/2019.2/ws_ts_extract_type_alias_multiple_occurrences.png" id="218c1a58" width="600" height="142"></figure>                    <p></p></li><li class="list__item" id="58aba1ff"><p>在字段中，输入别名的名称，然后按<kbd data-primary_default_for_windows="Enter" data-primary_intellij_idea_classic_macos="Enter" data-primary_default_for_gnome="Enter" data-primary_default_for_kde="Enter" data-primary_sublime_text="Enter" data-primary_eclipse="Enter" data-primary_emacs="Enter" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⏎" data-secondary_default_for_gnome="⏎" data-secondary_default_for_kde="⏎" data-secondary_eclipse="⏎" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="⏎">Enter</kbd>准备好了。</p><figure><img alt="ws_ts_extract_type_alias_specify_name.png" title="ws_ts_extract_type_alias_specify_name.png" src="/help/img/idea/2019.2/ws_ts_extract_type_alias_specify_name.png" id="a8d5b78b" width="600" height="184"></figure>                    <p></p></li></ol></section>        </div>        <div class="chapter"><h3 id="typescript_extract_superclass" data-toc="reference.refactoring.change.signature.typescript#typescript_extract_superclass">提取超类</h3>            <p id="30386515"><span class="emphasis">提取超类</span>重构基于当前类的成员创建一个新的抽象类。创建的抽象类将自动扩展。</p>            <p id="860e90ec">假设你有一堂课<code class="code">AccountingDepartment</code>并且您期望<code class="code">printName()</code>中的方法将被重用。</p><div class="code-block" data-lang="ts">class AccountingDepartment {名称：字符串； printName（）：void {console.log（“部门名称：” + this.name）; } printMeeting（）：void {console.log（“会计部门在每个星期一的上午10点开会”）； } generateReports（）：void {console.log（“正在生成会计报告...”）; }}</div>您可以提取超类<code class="code">Department</code>并包括<code class="code">printName</code>和<code class="code">Name</code>领域。<div class="code-block" data-lang="ts">类部门{名称：字符串； printName（）：void {console.log（“部门名称：” + this.name）; }}类AccountingDepartment扩展了部门{printMeeting（）：void {console.log（“会计部门在每个星期一的上午10点开会”）； } generateReports（）：void {console.log（“正在生成会计报告...”）; }}</div>            <p></p>            <section class="procedure-steps"><h3 id="ba8830bc">提取超类</h3><ol class="list _decimal"><li class="list__item" id="ad5e2acb"><p>将光标放在要从中提取超类的类内的任何位置。</p></li><li class="list__item" id="ef618fa7"><p>选择<span class="menupath" data-skip-index="skip">重构|提取物|</span>来自主菜单或上下文菜单的<span class="menupath" data-skip-index="skip">超类</span> 。将打开“ <span class="control">提取超类”</span>对话框。</p></li><li class="list__item" id="5d3a8e5e"><p>指定新超类的名称，然后选中要包含在其中的类成员旁边的复选框。</p></li><li class="list__item" id="9eb7fd9a"><p>在“ <span class="control">目标文件”</span>字段中，指定新类将在文件的位置。缺省情况下，该字段显示调用重构的当前文件的路径。</p></li><li class="list__item" id="c1c96f81"><p>选择<span class="control">提取超类</span> 。PyCharm创建一个新类并用<code class="code">extends</code> 。<br>要创建超类并将方法参数中对超类的引用替换为对源类的引用，请选择<span class="control">Extract超类并在可能的情况下使用它</span> 。PyCharm在“ <span class="control">查找”</span>工具窗口的“ <span class="control">重构预览”</span>窗格中显示建议的更改。</p></li></ol></section>        </div>        <div class="chapter"><h3 id="typescript_extract_interface" data-toc="reference.refactoring.change.signature.typescript#typescript_extract_interface">提取界面</h3>            <p id="5894081e"><span class="control">提取接口</span>重构基于当前类的成员创建一个新接口。创建的接口将自动实现。</p>            <p id="6daa98bc">假设你有一堂课<code class="code">AccountingDepartment</code>并且您期望<code class="code">generateReports()</code>该方法将具有其他实现。</p><div class="code-block" data-lang="ts">抽象类Department {构造函数（公共名称：字符串）{} printName（）：void {console.log（“部门名称：” + this.name）; }}类AccountingDepartment扩展了Department {builder（）{super（“ Accounting and Auditing”）; } printMeeting（）：void {console.log（“会计部门在每个星期一的上午10点开会”）； } generateReports（）：void {console.log（“正在生成会计报告...”）; }}</div>您可以提取一个<code class="code">DepartmentInterface</code>界面并包括<code class="code">generateReports()</code>在里面。<div class="code-block" data-lang="ts">抽象类Department {构造函数（公共名称：字符串）{} printName（）：void {console.log（“部门名称：” + this.name）; }}接口DepartmentInterface {generateReports（）：void; }类AccountingDepartment扩展Department实施DepartmentInterface {builder（）{super（“ Accounting and Auditing”）; } printMeeting（）：void {console.log（“会计部门在每个星期一的上午10点开会”）； } generateReports（）：void {console.log（“正在生成会计报告...”）; }}</div>            <p></p>            <section class="procedure-steps"><h3 id="a5ca1ecf">提取接口</h3><ol class="list _decimal"><li class="list__item" id="31b05083"><p>将插入号放置在您要从中提取接口的类内的任何位置。</p></li><li class="list__item" id="0ab09af8"><p>选择<span class="menupath" data-skip-index="skip">重构|提取物|接口</span>从主菜单或从上下文menunu。将打开“ <span class="control">提取接口”</span>对话框。</p></li><li class="list__item" id="f07668a7"><p>指定新接口的名称，然后选中要包含在其中的类成员旁边的复选框。</p></li><li class="list__item" id="ae943ab5"><p>在<span class="control">目标文件</span>字段中，指定新接口将在文件的位置。缺省情况下，该字段显示调用重构的当前文件的路径。</p></li><li class="list__item" id="e4fe313b"><p>选择<span class="control">提取接口</span> 。PyCharm创建一个新接口，并将源类标记为其实现。<br>要创建接口并将方法参数中对接口的引用替换为对源类的引用，请选择<span class="control">Extract interface并在可能的情况下使用它</span> 。PyCharm在“ <span class="control">查找”</span>工具窗口的“ <span class="control">重构预览”</span>窗格中显示建议的更改。请注意，如果实例引用接口中未定义的方法或字段，PyCharm将不建议替换该方法或字段。</p></li></ol></section>        </div>        <div class="chapter"><h3 id="ws_ts_refactoring_extract_object_array_destructuring" data-toc="reference.refactoring.change.signature.typescript#ws_ts_refactoring_extract_object_array_destructuring">提取对象或数组解构</h3>            <p id="ws_ts_refactoring_extract_object_array_destructuring_intro">                <a name="ws_js_destructuring_definition"></a>通过解构，您可以轻松地将数组和对象中的值分解为变量。此功能具有非常简洁的语法，通常在需要在应用程序中传递数据时使用。有关详细信息，请参见<a href="https://www.typescriptlang.org/docs/handbook/variable-declarations.html#destructuring" rel="noopener noreferrer" data-external="true" target="_blank">TypeScript官方网站</a> 。</p>            <p id="5050057e">                <a name="ws_js_destructuring_definition_intentions_and_refactorings"></a>在PyCharm中，您可以简化代码片段，使用专用的重构，意图操作或快速修复，从数组或对象中获取多个值。</p>                        <figure id="290b8bea" width="600" data-theme="light"><img class="js-gif" src="/help/img/idea/2019.2/ws_ts_refactoring_destructuring_light.png" width="600" data-gif-src="/help/img/idea/2019.2/ws_ts_refactoring_destructuring_light.animated.gif" style="width:600px"></figure>            <section class="procedure-steps"><h3 id="4b9295e3">提取解构</h3><ol class="list _decimal"><li class="list__item" id="9ad47f04"><p>将插入号放置在数组或对象的值处。</p></li><li class="list__item" id="ws_ts_refactoring_extract_object_array_destructuring_proc_step_2">                    <p id="ca6f8e94">按<kbd data-primary_default_for_windows="Ctrl+Shift+Alt+T" data-primary_intellij_idea_classic_macos="Shift+Alt+⌘+T" data-primary_default_for_gnome="Ctrl+Shift+Alt+T" data-primary_default_for_kde="Ctrl+Shift+Alt+T" data-primary_sublime_text="Ctrl+Shift+Alt+T" data-primary_eclipse="Ctrl+Shift+Alt+T" data-primary_emacs="Ctrl+Shift+Alt+T" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⌃T" data-secondary_default_for_gnome="⌃⌥⇧T" data-secondary_default_for_kde="⌃⌥⇧T" data-secondary_eclipse="⌃⌥⇧T" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="⌃T">Ctrl+Shift+Alt+T</kbd>然后从“ <span class="control">Refactor This”</span>弹出窗口中选择“ <span class="control">Object or Array Destructuring</span> ”。</p>                    <p id="7f44f375">或者，选择<span class="menupath" data-skip-index="skip">Refactor |提取物|</span>从上下文菜单或主菜单中进行<span class="menupath" data-skip-index="skip">对象或数组的分解</span> 。</p>                </li><li class="list__item" id="f28974e3"><p>指定是要替换所有出现的对象还是仅替换当前出现的对象。</p></li></ol></section>            <p id="c05d2437">用解构替换原始分配的另一种方法是使用“ <span class="emphasis">用对象/数组解构</span>意图<span class="emphasis">替换”</span>操作。</p>            <section class="procedure-steps"><ul class="list "><li class="list__item" id="65d91647">                    <p id="ee34defa">将光标放在数组或对象的值上，按<kbd data-primary_default_for_windows="Alt+Enter" data-primary_intellij_idea_classic_macos="Alt+Enter" data-primary_default_for_gnome="Alt+Enter" data-primary_default_for_kde="Alt+Enter" data-primary_sublime_text="Alt+Enter" data-primary_eclipse="Alt+Enter" data-primary_emacs="Alt+Enter" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⌥⏎" data-secondary_default_for_gnome="⌥⏎" data-secondary_default_for_kde="⌥⏎" data-secondary_eclipse="⌥⏎" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="⌥⏎">Alt+Enter</kbd> ，然后从列表中选择“ <span class="control">替换为对象分解”</span>或“ <span class="control">替换为数组分解</span> ”。</p>                                        <figure id="bf862dbf" width="600" data-theme="light"><img class="js-gif" src="/help/img/idea/2019.2/ws_js_destructuring_intention_action_replace_light.png" width="600" data-gif-src="/help/img/idea/2019.2/ws_js_destructuring_intention_action_replace_light.animated.gif" style="width:600px"></figure>                    <p id="6043a5c9">如果未使用数组或对象中的某些值，则将跳过以下元素：</p>                                        <figure id="2e325a09" width="600" data-theme="light"><img class="js-gif" src="/help/img/idea/2019.2/ws_ts_destructuring_intention_replace_with_array_items_skipped_light.png" width="600" data-gif-src="/help/img/idea/2019.2/ws_ts_destructuring_intention_replace_with_array_items_skipped_light.animated.gif" style="width:600px"></figure>                </li></ul></section>            <p id="03520818">您也可以在不删除原始任务的情况下进行销毁。</p>            <section class="procedure-steps"><h3 id="5bae8d91">保留原始作业</h3><ul class="list "><li class="list__item" id="cc3dc276">                    <p id="bd57de3d">按<kbd data-primary_default_for_windows="Alt+Enter" data-primary_intellij_idea_classic_macos="Alt+Enter" data-primary_default_for_gnome="Alt+Enter" data-primary_default_for_kde="Alt+Enter" data-primary_sublime_text="Alt+Enter" data-primary_eclipse="Alt+Enter" data-primary_emacs="Alt+Enter" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⌥⏎" data-secondary_default_for_gnome="⌥⏎" data-secondary_default_for_kde="⌥⏎" data-secondary_eclipse="⌥⏎" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="⌥⏎">Alt+Enter</kbd>然后选择“ <span class="control">介绍对象或数组解构”</span> 。</p>                                        <figure id="2dac7b0f" width="600" data-theme="light"><img class="js-gif" src="/help/img/idea/2019.2/ws_ts_destructuring_intention_introduce_light.png" width="600" data-gif-src="/help/img/idea/2019.2/ws_ts_destructuring_intention_introduce_light.animated.gif" style="width:600px"></figure>                </li><li class="list__item" id="e27da365">                    <p id="d00011ef">或者，将光标置于数组或对象中的值上，然后选择“ <span class="menupath" data-skip-index="skip">重构” |“</span>对象” <span class="menupath" data-skip-index="skip">。提取物|</span>从上下文菜单中进行<span class="menupath" data-skip-index="skip">对象或数组的分解</span> 。</p>                </li></ul></section>            <section class="procedure-steps"><h3 id="2deac974">为函数生成解构参数</h3><ul class="list "><li class="list__item" id="62cb8808">                    <p id="a5887104">将光标置于函数的参数上，按<kbd data-primary_default_for_windows="Alt+Enter" data-primary_intellij_idea_classic_macos="Alt+Enter" data-primary_default_for_gnome="Alt+Enter" data-primary_default_for_kde="Alt+Enter" data-primary_sublime_text="Alt+Enter" data-primary_eclipse="Alt+Enter" data-primary_emacs="Alt+Enter" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⌥⏎" data-secondary_default_for_gnome="⌥⏎" data-secondary_default_for_kde="⌥⏎" data-secondary_eclipse="⌥⏎" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="⌥⏎">Alt+Enter</kbd> ，然后从列表中选择“ <span class="control">将参数转换为对象</span> ”。</p>                                        <figure id="1dd16c12" width="600" data-theme="light"><img class="js-gif" src="/help/img/idea/2019.2/ws_ts_destructuring_convert_params_light.png" width="600" data-gif-src="/help/img/idea/2019.2/ws_ts_destructuring_convert_params_light.animated.gif" style="width:600px"></figure>                </li></ul></section>        </div>    </div>    <div class="chapter"><h2 id="typescript_inline_refactorings" data-toc="reference.refactoring.change.signature.typescript#typescript_inline_refactorings">内联重构</h2>        <p id="53a47af5">内联重构与<a href="#typescript_extract_refactorings">提取重构</a>相反。</p>            <p id="typescript_inline_variable_example">                <span class="emphasis">示例1：内联变量</span><br>                <a name="inline_variable_js_ts_description"></a> <span class="emphasis">内联变量</span>重构将变量或常量的冗余用法替换为其初始值设定项。这种类型的重构仅适用于块作用域和函数作用域变量。</p>            <div class="table-wrapper"><table class=" no_header  _layout-fixed" width="100%" id="2878fa4c"><tbody><tr id="ee4e7973" class="ijRowOdd"><td id="d7791472" width="50%">                        <div class="code-block" data-lang="ts">函数Multiplication（a：number，b：number）{letс= a + b;令d =（с）*（с）;返回d; }</div>                    </td><td id="0ce43e59" width="50%">                        <div class="code-block" data-lang="ts">函数Multiplication（a：number，b：number）{let d =（（a + b））*（（a + b））;返回d; }</div>                    </td></tr></tbody></table></div>            <p id="typescript_inline_method">                <span class="emphasis">示例2：内联方法</span><br>                <a name="refactoring_js_ts_inline_function"></a> <span class="emphasis">内联方法</span> / <span class="emphasis">内联函数</span>重构导致将方法或函数的主体放入其调用者的主体中。方法/功能本身被删除。<br>在下面的示例中， <code class="code">Sum()</code>被放置在<code class="code">Multiplication()</code> 。</p>        <div class="table-wrapper"><table class=" no_header  _layout-fixed" width="100%" id="8c219384"><tbody><tr id="6d03e815" class="ijRowOdd"><td id="a1bdf208" width="50%">                    <div class="code-block" data-lang="ts">函数Sum（a：number，b：number）{返回a + b; }函数Multiplication（a：number，b：number）{let d = Sum（a，b）* Sum（a，b）;返回d; } var e =乘法（4，6）;</div>                </td><td id="9dc4cf1f" width="50%">                    <div class="code-block" data-lang="ts">函数Multiplication（a：number，b：number）{let d =（a + b）*（a + b）;返回d; } var e =乘法（4，6）;</div>                </td></tr></tbody></table></div>        <section class="procedure-steps"><h3 id="typescript_inline_refactorings_procedure">运行内联重构</h3><ol class="list _decimal"><li class="list__item" id="188d28de"><p>在编辑器中，将光标置于要内联的符号上，然后按<kbd data-primary_default_for_windows="Ctrl+Alt+N" data-primary_intellij_idea_classic_macos="Alt+⌘+N" data-primary_default_for_gnome="Ctrl+Alt+N" data-primary_default_for_kde="Ctrl+Alt+N" data-primary_sublime_text="Ctrl+Alt+N" data-primary_eclipse="Shift+Alt+I" data-primary_emacs="Ctrl+Alt+N" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⌥⌘N" data-secondary_default_for_gnome="⌃⌥N" data-secondary_default_for_kde="⌃⌥N" data-secondary_eclipse="⌥⇧I" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="⌥⌘N">Ctrl+Alt+N</kbd>或选择“ <span class="menupath" data-skip-index="skip">重构|</span>从上下文菜单或主菜单<span class="menupath" data-skip-index="skip">内联</span> 。</p></li><li class="list__item" id="e1aaffb8"><p>在与所选符号对应的“ <span class="control">内联”</span>对话框中，确认内联重构。</p><figure><img alt="ws_ts_extract_variable.png" title="ws_ts_extract_variable.png" src="/help/img/idea/2019.2/ws_ts_extract_variable.png" id="002e3a31" width="600" height="314"></figure>                <p></p></li></ol></section>    </div>	<div class="chapter"><h2 id="typescript_change_signature" data-toc="reference.refactoring.change.signature.typescript#typescript_change_signature">更改签名重构</h2>		<p id="typescript_change_signature_intro">            <a name="refactoring_js_ts_change_signature_description"></a>使用“ <span class="emphasis">更改签名”</span>重构可以更改函数的名称，其可见性和返回类型，添加，删除，重新排序和重命名参数，以及通过调用层次结构传播新参数。</p>        			<p id="9d912029">您还可以使用“ <a href="#typescript_extract_parameter">提取参数”</a>重构来添加参数。</p>            <p id="typescript_change_signature_code_example">在下面的示例中，该函数<code class="code">eat()</code>被重命名为<code class="code">feed()</code>和一个新的<code class="code">boolean</code>参数<code class="code">isMammal</code>介绍。</p>            <div class="table-wrapper"><table class=" no_header  _layout-fixed" width="100%" id="cca7d406"><tbody><tr id="8bd4918a" class="ijRowOdd"><td id="28bed2c8" width="50%">                        <div class="code-block" data-lang="ts">class Animal {构造函数（年龄：数字，名称：字符串）{} eat（food：string []）：void {}}让Max = new Animal（23，'Max'）; Max.eat（['Apple'，'Parsley']）;令Daisy = new Animal（12，'Daisy'）; Daisy.eat（['Pork'，'Fish']）;</div>                    </td><td id="358734b2" width="50%">                        <div class="code-block" data-lang="ts">class Animal {构造函数（年龄：数字，名称：字符串）{} feed（食物：string []，isMammal：boolean = true）：void {}}让Max = new Animal（23，'Max'）; Max.feed（['Apple'，'Parsley']，false）;令Daisy = new Animal（12，'Daisy'）; Daisy.feed（['Pork'，'Fish']，false）;</div>                    </td></tr></tbody></table></div>		<section class="procedure-steps"><h3 id="typescript_change_signature_proc">调用变更签名</h3><ul class="list "><li class="list__item" id="0dfd1907"><p>                <a name="refactoring_js_ts_change_signature_invoke"></a>在编辑器中，将光标置于要重构的函数名称内，然后按<kbd data-primary_default_for_windows="Ctrl+F6" data-primary_intellij_idea_classic_macos="⌘+F6" data-primary_default_for_gnome="Ctrl+F6" data-primary_default_for_kde="Ctrl+6" data-primary_sublime_text="N/A" data-primary_eclipse="Shift+Alt+C" data-primary_emacs="Ctrl+F6" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⌘F6" data-secondary_default_for_gnome="⌃F6" data-secondary_default_for_kde="⌃6" data-secondary_eclipse="⌥⇧C" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="N/A">Ctrl+F6</kbd>或选择“ <span class="control">重构” |</span>从上下文菜单或主菜单上<span class="control">更改签名</span> 。将打开“ <span class="control">更改签名”</span>对话框。</p></li></ul></section>		<section class="procedure-steps"><h3 id="typescript_change_signature_change_function_name">重命名功能</h3><ul class="list "><li class="list__item" id="bc1811da"><p>在“ <span class="control">更改签名”</span>对话框中<kbd data-primary_default_for_windows="Ctrl+F6" data-primary_intellij_idea_classic_macos="⌘+F6" data-primary_default_for_gnome="Ctrl+F6" data-primary_default_for_kde="Ctrl+6" data-primary_sublime_text="N/A" data-primary_eclipse="Shift+Alt+C" data-primary_emacs="Ctrl+F6" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⌘F6" data-secondary_default_for_gnome="⌃F6" data-secondary_default_for_kde="⌃6" data-secondary_eclipse="⌥⇧C" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="N/A">Ctrl+F6</kbd> ，编辑<span class="control">名称</span>字段。</p></li></ul></section>        <section class="procedure-steps"><h3 id="typescript_change_signature_return_type">更改函数的返回类型</h3><ul class="list "><li class="list__item" id="e727e3e5"><p>在“ <span class="control">返回类型”</span>字段中，指定函数返回的值的类型。如果该字段为空，则将返回类型视为<code class="code">void</code> 。从<a href="https://www.typescriptlang.org/docs/handbook/functions.html#writing-the-function-type" rel="noopener noreferrer" data-external="true" target="_blank">TypeScript</a>官方网站上了解有关返回类型的更多信息。</p></li></ul></section>        <section class="procedure-steps"><h3 id="typescript_change_signature_change_visibility">更改功能的可见性</h3><aside class="note " rel="typescript_change_signature_change_visibility" id="e536a82f" data-title="">            <p id="2e63fc99">配置可见性仅适用于在类内定义的功能。</p>                    </aside><ul class="list "><li class="list__item" id="ff5bbe2a">                <p id="1760b9aa">从“ <span class="control">可见性”</span>列表中，选择一个<a href="https://www.typescriptlang.org/docs/handbook/classes.html#public-private-and-protected-modifiers" rel="noopener noreferrer" data-external="true" target="_blank">功能修饰符</a> ，可用选项为<a href="https://www.typescriptlang.org/docs/handbook/classes.html#public-by-default" rel="noopener noreferrer" data-external="true" target="_blank">public（默认）</a> ， <a href="https://www.typescriptlang.org/docs/handbook/classes.html#understanding-private" rel="noopener noreferrer" data-external="true" target="_blank">private</a>和<a href="https://www.typescriptlang.org/docs/handbook/classes.html#understanding-protected" rel="noopener noreferrer" data-external="true" target="_blank">protected</a> 。</p>            </li></ul></section>		<section class="procedure-steps"><h3 id="manage_params">管理功能参数</h3><ul class="list "><li class="list__item" id="5ed44bd8">                <p id="b49199a6">在“ <span class="control">更改签名”</span>对话框中<kbd data-primary_default_for_windows="Ctrl+F6" data-primary_intellij_idea_classic_macos="⌘+F6" data-primary_default_for_gnome="Ctrl+F6" data-primary_default_for_kde="Ctrl+6" data-primary_sublime_text="N/A" data-primary_eclipse="Shift+Alt+C" data-primary_emacs="Ctrl+F6" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⌘F6" data-secondary_default_for_gnome="⌃F6" data-secondary_default_for_kde="⌃6" data-secondary_eclipse="⌥⇧C" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="N/A">Ctrl+F6</kbd> ，请使用参数表及其右侧的按钮：</p>			<ul class="list _bullet"><li class="list__item" id="add_params">                    <p id="98e2ffad">要添加参数，请单击<img class="inline-icon-16" src="/help/img/idea/2019.2/icons.general.add.svg@2x.png" width="16" alt="添加按钮"><kbd data-primary_default_for_windows="Alt+Insert" data-primary_intellij_idea_classic_macos="Ctrl+N" data-primary_default_for_gnome="Alt+Insert" data-primary_default_for_kde="Alt+Insert" data-primary_sublime_text="Ctrl+N" data-primary_eclipse="Alt+Insert" data-primary_emacs="Alt+Insert" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⌘N" data-secondary_default_for_gnome="N/A" data-secondary_default_for_kde="N/A" data-secondary_eclipse="N/A" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="⌘N">Alt+Insert</kbd>并指定新参数的名称及其类型。指定参数的默认值或要通过函数调用传递的值。</p>                    			<p id="5cf71a99">如有必要， <a href="#propagate_params">将新参数传播</a>到调用当前函数的函数。</p>				</li><li class="list__item" id="cdc630c2">                    <p id="2164c0b2">要删除参数，请单击相应行中的任何单元格，然后单击<img class="inline-icon-16" src="/help/img/idea/2019.2/icons.general.remove.svg@2x.png" width="16" alt="删除按钮"><kbd data-primary_default_for_windows="Alt+Delete" data-primary_intellij_idea_classic_macos="⌘+Delete" data-primary_default_for_gnome="Alt+Delete" data-primary_default_for_kde="Alt+Delete" data-primary_sublime_text="Alt+Delete" data-primary_eclipse="Alt+Delete" data-primary_emacs="N/A" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⌘⌦" data-secondary_default_for_gnome="⌥⌦" data-secondary_default_for_kde="⌥⌦" data-secondary_eclipse="⌥⌦" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="⌘⌦">Alt+Delete</kbd> 。</p>				</li><li class="list__item" id="673347a5">                    <p id="142a3237">要对参数重新排序，因此必选参数在可选参数之前列出，请使用<img class="inline-icon-16" src="/help/img/idea/2019.2/icons.actions.previousOccurence.svg@2x.png" width="16" alt="向上按钮"><kbd data-primary_default_for_windows="Alt+Up" data-primary_intellij_idea_classic_macos="Ctrl+Up" data-primary_default_for_gnome="Alt+Up" data-primary_default_for_kde="Alt+Up" data-primary_sublime_text="Alt+Up" data-primary_eclipse="Ctrl+Shift+Up" data-primary_emacs="Alt+Up" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⌃↑" data-secondary_default_for_gnome="⌥↑" data-secondary_default_for_kde="⌥↑" data-secondary_eclipse="⌃⇧↑" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="⌃↑">Alt+Up</kbd>和<img class="inline-icon-16" src="/help/img/idea/2019.2/icons.actions.nextOccurence.svg@2x.png" width="16" alt="向下按钮"><kbd data-primary_default_for_windows="Alt+Down" data-primary_intellij_idea_classic_macos="Ctrl+Down" data-primary_default_for_gnome="Alt+Down" data-primary_default_for_kde="Alt+Down" data-primary_sublime_text="Alt+Down" data-primary_eclipse="Ctrl+Shift+Down" data-primary_emacs="Alt+Down" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⌃↓" data-secondary_default_for_gnome="⌥↓" data-secondary_default_for_kde="⌥↓" data-secondary_eclipse="⌃⇧↓" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="⌃↓">Alt+Down</kbd> 。从<a href="https://www.typescriptlang.org/docs/handbook/functions.html#optional-and-default-parameters" rel="noopener noreferrer" data-external="true" target="_blank">TypeScript</a>官方网站上了解有关必需和可选参数的更多信息。</p>				</li><li class="list__item" id="89d14901">                    <p id="f5746951">要重命名参数，请编辑<span class="control">名称</span>字段。</p>				</li></ul>            </li></ul></section>		<section class="procedure-steps"><h3 id="propagate_params">沿调用层次结构传播参数</h3><ol class="list _decimal"><li class="list__item" id="c7eda98c"><p>在“ <span class="control">更改签名”</span>对话框中<kbd data-primary_default_for_windows="Ctrl+F6" data-primary_intellij_idea_classic_macos="⌘+F6" data-primary_default_for_gnome="Ctrl+F6" data-primary_default_for_kde="Ctrl+6" data-primary_sublime_text="N/A" data-primary_eclipse="Shift+Alt+C" data-primary_emacs="Ctrl+F6" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⌘F6" data-secondary_default_for_gnome="⌃F6" data-secondary_default_for_kde="⌃6" data-secondary_eclipse="⌥⇧C" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="N/A">Ctrl+F6</kbd> ，选择参数，然后单击<img alt="传播按钮" title="传播按钮" src="/help/img/idea/2019.2/propagateParameters.png" id="df784772" width="13" height="17" class="inline-icon-13"> 。将打开“ <span class="control">选择传播新参数的方法”</span>对话框。左侧窗格显示函数调用的层次结构。选择功能时，右侧窗格会分别在“ <span class="control">调用方方法”</span>和“被<span class="control">调用方</span> <span class="control">方法”</span>字段中显示其代码和该函数调用的代码。</p></li><li class="list__item" id="951161ad"><p>在左侧窗格中，选中要在其中传播参数的功能旁边的复选框，然后单击<span class="control">确定</span> 。</p></li></ol></section>        <section class="procedure-steps"><h3 id="typescript_change_signature_run">预览更改并完成重构</h3><ol class="list _decimal"><li class="list__item" id="4a24a203"><p>在“ <span class="control">更改签名”</span>对话框中<kbd data-primary_default_for_windows="Ctrl+F6" data-primary_intellij_idea_classic_macos="⌘+F6" data-primary_default_for_gnome="Ctrl+F6" data-primary_default_for_kde="Ctrl+6" data-primary_sublime_text="N/A" data-primary_eclipse="Shift+Alt+C" data-primary_emacs="Ctrl+F6" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⌘F6" data-secondary_default_for_gnome="⌃F6" data-secondary_default_for_kde="⌃6" data-secondary_eclipse="⌥⇧C" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="N/A">Ctrl+F6</kbd> ，点击<span class="control">预览</span> 。</p></li><li class="list__item" id="90db2756"><p>在“ <a href="find-tool-window.html">查找”工具窗口</a>的“ <span class="control">重构预览”</span>选项卡中， <a href="refactoring-source-code.html#ws_refactoring_general_procedure_preview">查看预期的更改</a> ，进行必要的调整，然后在准备好后单击“ <span class="control">执行重构”</span> 。</p></li></ol><aside class="note " rel="90db2756" id="b0ce8638" data-title="">			<p id="f9008afd">要立即执行重构，请点击<span class="control">重构</span> 。</p>		</aside></section>    </div>	  	  <div class="last-modified" data-skip-index="skip">上次修改时间：2019年11月6日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="typescript-support.html">TypeScript</a> <a class="navigation-links__next" href="running-and-debugging-typescript.html">运行和调试TypeScript</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>