<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>使用Docker配置远程解释器-帮助|帮助PyCharm</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body  data-id="add_interpreter_docker"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索PyCharm帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>PyCharm 2019.2帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option value="primary_default_for_windows" data-group="primary" selected>Windows的默认设置</option><option value="primary_intellij_idea_classic_macos" data-group="primary">IntelliJ IDEA经典版（macOS）</option><option value="primary_default_for_gnome" data-group="primary">GNOME的默认设置</option><option value="primary_default_for_kde" data-group="primary">KDE的默认值</option><option value="primary_sublime_text" data-group="primary">崇高文字</option><option value="primary_eclipse" data-group="primary">日食</option><option value="primary_emacs" data-group="primary">埃马克斯</option><option value="primary_default_for_xwin_windows" data-group="primary">XWin的默认设置（Windows）</option><option value="secondary_default_for_macos" data-group="secondary">macOS的默认设置</option><option value="secondary_default_for_gnome" data-group="secondary">GNOME的默认设置</option><option value="secondary_default_for_kde" data-group="secondary">KDE的默认值</option><option value="secondary_eclipse" data-group="secondary">日食</option><option value="secondary_default_for_xwin_macos" data-group="secondary">XWin的默认设置（macOS）</option><option value="secondary_sublime_text_macos" data-group="secondary">崇高文字（macOS）</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 id="Using_Docker_as_a_Remote_Interpreter.xml" data-toc="add_interpreter_docker">使用Docker配置远程解释器</h1>    <a name="edition"></a>     <aside class="warning " rel="Using_Docker_as_a_Remote_Interpreter.xml" id="d6c27b35" data-title=""><p>仅<b id="1bc59f59" origin="intellij-platform">专业</b>版支持此功能。该版本是商业版本，它提供了一组出色的功能：有关更多详细信息，请参见<a href="/pycharm/features/editions_comparison_matrix.html" rel="noopener noreferrer" data-external="true" target="_blank">比较矩阵</a> 。</p></aside>            <div class="chapter"><h2 id="intro" data-toc="add_interpreter_docker#intro">介绍</h2>            <p id="e22d9068">PyCharm与<a href="https://www.docker.com/" rel="noopener noreferrer" data-external="true" target="_blank">Docker的</a>集成使您可以在Docker容器中部署的各种配置的开发环境中运行应用程序。</p>        </div>        <div class="chapter"><h2 id="prereq" data-toc="add_interpreter_docker#prereq">先决条件</h2>            <p id="6be96632">确保满足以下先决条件：</p>                                    <ul class="list _ul"><li class="list__item" id="951e44c0">                    <p id="410d7b72">如<a href="https://docs.docker.com" rel="noopener noreferrer" data-external="true" target="_blank">Docker Docs</a>页面所述，已安装<a href="https://docs.docker.com" rel="noopener noreferrer" data-external="true" target="_blank">Docker</a> 。您可以在各种平台上安装Docker，但是在这里我们将使用<a href="https://docs.docker.com/docker-for-windows/" rel="noopener noreferrer" data-external="true" target="_blank">Windows</a>安装。</p>                    <p id="4737fd5d">请注意，您可能想在不同的平台上重复本教程。然后将Docker安装用于<a href="https://docs.docker.com/docker-for-mac/" rel="noopener noreferrer" data-external="true" target="_blank">macOS</a>和<a href="https://docs.docker.com/engine/installation/linux/ubuntu/" rel="noopener noreferrer" data-external="true" target="_blank">Linux</a> （Ubuntu，也提供其他与发行版相关的说明）。</p>                </li><li class="list__item" id="f1acb929">                    <p id="44e20327">您的网络连接稳定。</p>                    <a name="docker-internet-requirement"></a>            <p id="25372c5a">要使用Docker进行操作，您需要在计算机上使用<a href="https://hub.docker.com/_/busybox" rel="noopener noreferrer" data-external="true" target="_blank">busybox</a>映像。确保您具有稳定的Internet连接，以便PyCharm可以下载并运行<code class="code">busybox:latest</code> 。成功配置Docker后，您可以脱机。</p>                    </li><li class="list__item" id="14f69812"><a name="prereq_plural"></a>                        <p id="6d402e49">在开始使用Docker之前，请确保已启用Docker集成和Python Docker插件。插件与PyCharm捆绑在一起，并且默认情况下已激活。如果未激活插件，请在“ <a href="plugins-settings.html">插件”</a>页面上启用它们<a name="open_settings"></a> <span class="control">设置/首选项</span>对话框（ <kbd data-primary_default_for_windows="Ctrl+Alt+S" data-primary_intellij_idea_classic_macos="⌘+Comma" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_sublime_text="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-primary_emacs="Ctrl+Alt+S" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⌘," data-secondary_default_for_gnome="⌃⌥S" data-secondary_default_for_kde="⌃⌥S" data-secondary_eclipse="⌃⌥S" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="⌘,">Ctrl+Alt+S</kbd> ），如“ <a href="managing-plugins.html">管理插件”中所述</a> 。</p>        <p id="38f81c8c">如果您正在使用Windows的Docker，请在Docker设置的`` <span class="control">常规''</span>部分中启用<span class="control">tcp：// localhost：2375上没有TLS</span>选项的<span class="control">Expose守护程序</span> 。</p>                    </li><li class="list__item" id="395a77b3"><p>同样，对于Windows，右键单击Docker whale图标，从上下文菜单中选择“设置”，然后在“常规”页面中，选择“ <span class="control">公开守护程序...”</span>复选框：</p><figure><img alt="Docker设置" title="Docker设置" src="/help/img/idea/2019.2/py_docker_general_settings.png" id="4e045bb7" width="700" height="542"></figure>                <p></p></li></ul>        </div>        <div class="chapter"><h2 id="example" data-toc="add_interpreter_docker#example">准备一个例子</h2>            <p id="aa5126ea">创建一个Python项目<code class="code">QuadraticEquation</code> ，添加<span class="filepath">Solver.py</span>文件并输入以下代码：</p>            <div class="code-block" data-lang="python">导入数学类求解器：def demo（self，a，b，c）：d = b ** 2-4 * a * c如果d> 0：disc = math.sqrt（d）root1 =（-b + disc） /（2 * a）root2 =（-b-光盘）/（2 * a）返回root1，root2 elif d == 0：返回-b /（2 * a）否则：如果“此方程式无根”，则返回__name__ =='__main__'：求解器= Solver（），而True：a = int（input（“ a：”））b = int（input（“ b：”））c = int（input（“ c：”） ）结果= Solver.demo（a，b，c）打印（结果）</div>                    </div>        <div class="chapter"><h2 id="config-docker" data-toc="add_interpreter_docker#config-docker">将Docker配置为远程解释器</h2>            <p id="36a87cfa">现在，我们已经准备好示例，让我们定义一个基于Docker的远程解释器。</p>                                        <a name="python-installation"></a>        <p id="424663df">确保已在计算机上下载并安装了<a href="https://www.python.org/downloads/" rel="noopener noreferrer" data-external="true" target="_blank">Python</a> 。</p>                    <p id="c8fd1881">通过以下两种方式打开“ <span class="control">添加Python解释器”</span>对话框：</p>                <ul class="list _ul"><li class="list__item" id="e1df5cc3"><p>在<span class="control">编辑器中</span> ，最方便的方法是使用<a href="guided-tour-around-the-user-interface.html#python-interpreter-widget">用户界面概述中的</a> <span class="control">Python Interpreter</span>小部件。单击小部件，然后选择<span class="menupath" data-skip-index="skip">添加解释器...</span></p></li><li class="list__item" id="8694fe9e"><p id="829ad8db">如果在“ <span class="control">设置/首选项”</span>对话框中<kbd data-primary_default_for_windows="Ctrl+Alt+S" data-primary_intellij_idea_classic_macos="⌘+Comma" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_sublime_text="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-primary_emacs="Ctrl+Alt+S" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⌘," data-secondary_default_for_gnome="⌃⌥S" data-secondary_default_for_kde="⌃⌥S" data-secondary_eclipse="⌃⌥S" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="⌘,">Ctrl+Alt+S</kbd> ，选择<span class="menupath" data-skip-index="skip">项目<project name="">|项目口译员</project></span> 。点击<img class="inline-icon-16" src="/help/img/idea/2019.2/icons.general.gearPlain.svg@2x.png" width="16" alt="配置项目解释器">图标，然后选择<span class="control">添加</span> 。</p></li></ul>                                    <a name="add_docker"></a>                <p id="415e5c90">在打开的对话框中，选择<span class="control">Docker</span>选项，从下拉列表中选择Docker服务器（如果缺少该服务器，请单击<span class="control">New ...</span> ），然后指定映像名称。</p>                <p id="ef019210">Python解释器路径应具有默认值：</p>                                <figure><img alt="选择一个码头工人" title="选择一个码头工人" src="/help/img/idea/2019.2/py_choose_docker.png" id="5d40bef4" width="700" height="662"></figure>                                                        <p id="f57ba89b">结果，在“设置”对话框中，您应该看到类似以下内容：</p>            <figure><img alt="设置口译员" title="设置口译员" src="/help/img/idea/2019.2/py_docker_interpreter.png" id="438261c2" width="700" height="820"></figure>                        <p id="8afb16e9">单击<span class="control">确定</span>以应用更改并关闭对话框。</p>        </div>        <div class="chapter"><h2 id="run" data-toc="add_interpreter_docker#run">在Docker容器中运行您的应用程序</h2>                            <p id="23785b8c">在左装订线旁边<code class="code">main</code>子句，请点击<img alt="跑" title="跑" src="/help/img/idea/2019.2/run_from_left_gutter_icon.png" id="c4c99d55" width="16" height="15" class="inline-icon-16">按钮，然后选择<span class="control">运行'Solver.py'</span>命令。您会看到您的脚本在Docker容器中运行：</p>                <figure><img alt="在Docker容器中运行" title="在Docker容器中运行" src="/help/img/idea/2019.2/py_run_in_docker_container.png" id="6754af36" width="600" height="464"></figure>                <p id="9d2ffdae">如您所见，“运行工具”窗口中的前缀显示了容器ID。</p>                                </div>        <div class="chapter"><h2 id="debug" data-toc="add_interpreter_docker#debug">在Docker容器中调试应用程序</h2>                        <p id="ae7efa89">接下来，让我们调试我们的应用程序。为此，让我们在计算的行上放置一个断点<code class="code">d</code> ，然后点击<img alt="跑" title="跑" src="/help/img/idea/2019.2/run_from_left_gutter_icon.png" id="ebe50e9e" width="16" height="15" class="inline-icon-16">然后选择<span class="menupath" data-skip-index="skip">Debug'Solver'</span> 。</p>                            <p id="d0154d0c">如您在“调试工具”窗口的“控制台”选项卡中所见，调试器也在Docker容器中运行：</p>                <figure><img alt="在Docker容器中进行调试" title="在Docker容器中进行调试" src="/help/img/idea/2019.2/py_docker_debug.png" id="9ee1602f" width="600" height="470"></figure>                <p id="separate">但是现在此容器具有不同的ID，因此也具有不同的名称。您可以在终端中看到它： <code class="code">docker ps</code>命令并查看容器ID和名称：</p><aside class="warning " rel="separate" id="08974c36" data-title="">                <p id="4f7442f3">当以任何方式执行应用程序时，PyCharm创建一个新容器很重要。无论是运行，调试，覆盖测试还是测试，每次执行都需要一个新容器！</p>            </aside>                <figure><img alt="在终端中预览" title="在终端中预览" src="/help/img/idea/2019.2/py_terminal_docker_ps.png" id="4f11e2dc" width="700" height="392"></figure>                                            </div>        <div class="chapter"><h2 id="docker-tw" data-toc="add_interpreter_docker#docker-tw">Docker工具窗口</h2>            <p id="1d14074c">但是是否可以在没有终端的情况下看到所有容器？PyCharm说-是的。您可以将“ <a href="services-tool-window.html">服务”</a>工具窗口中的“ <span class="control">Docker”</span>选项卡用作Docker命令行客户端的UI。</p>            <p id="c8c4a551">如果您已将Docker配置为远程解释器，则将在PyCharm主窗口的底部看到“ <span class="control">服务”</span>工具窗口按钮。单击此按钮，查看docker容器：</p>            <figure><img alt="Docker工具窗口" title="Docker工具窗口" src="/help/img/idea/2019.2/py_docker_tool_window.png" id="3698eed0" width="800" height="704"></figure>                        <p id="7a136b58">让我们更专心地看一下这个工具窗口。我们在这里看到什么？</p>            <ul class="list _ul"><li class="list__item" id="0ecc2569"><p>首先，我们连接到Docker守护程序：</p><figure><img alt="Docker工具窗口，已连接到Docker" title="Docker工具窗口，已连接到Docker" src="/help/img/idea/2019.2/py_docker_tool_window_connected.png" id="04d00500" width="300" height="386"></figure>                                    <p></p></li><li class="list__item" id="294b1d19"><p>其次，如果打开“运行”工具窗口，我们将在Docker工具窗口的“属性”选项卡中看到Docker前缀与容器ID相对应：</p><figure><img alt="属性选项卡和Docker工具窗口" title="属性选项卡和Docker工具窗口" src="/help/img/idea/2019.2/py_correspondence_between_docker_and_run_tool_window.png" id="5b0860a7" width="800" height="848"></figure>                                                        <p></p></li><li class="list__item" id="c4ca2cbd"><p>第三，如果打开“调试工具”窗口，我们将看到Docker前缀（另一个）！对应于Docker工具窗口的Properties标签中的另一个容器ID：</p><figure><img alt="Docker工具窗口和Debug工具窗口" title="Docker工具窗口和Debug工具窗口" src="/help/img/idea/2019.2/py_correspondence_between_docker_and_debug_tool_window.png" id="32157444" width="800" height="862"></figure>                <p></p></li><li class="list__item" id="b3df1106"><p>最后，我们看到了容器的奇怪名称-它们是人类可读的，由Docker本身生成。</p></li></ul>        </div>        <div class="chapter"><h2 id="summary" data-toc="add_interpreter_docker#summary">摘要</h2>            <p id="42497f3a">让我们总结一下在PyCharm的帮助下所做的事情：</p>            <ul class="list _ul"><li class="list__item" id="4e5542d9"><p>我们创建了一个项目并添加了Python脚本。</p></li><li class="list__item" id="3fcc09d2"><p>我们配置了远程解释器。</p></li><li class="list__item" id="54bafcf8"><p>我们在Docker容器中运行并调试了脚本。</p></li><li class="list__item" id="5c184d9d"><p>最后，我们启动了Docker工具窗口，并在Terminal中看到了所有可见的细节。</p></li></ul>        </div>        <div class="last-modified" data-skip-index="skip">上次修改时间：2019年11月6日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="configuring-remote-interpreters-via-ssh.html">使用SSH</a> <a class="navigation-links__next" href="using-docker-compose-as-a-remote-interpreter.html">配置远程解释器使用Docker Compose配置远程解释器</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>