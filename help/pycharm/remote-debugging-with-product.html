<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>使用PyCharm进行远程调试-帮助|帮助PyCharm</title><link rel="stylesheet" href="/resources.jetbrains.com/storage/help-app/v3/app.css"></head><body  data-id="Remote_Debugging_with__product_"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索PyCharm帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>PyCharm 2019.2帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option value="primary_default_for_windows" data-group="primary" selected>Windows的默认设置</option><option value="primary_intellij_idea_classic_macos" data-group="primary">IntelliJ IDEA经典版（macOS）</option><option value="primary_default_for_gnome" data-group="primary">GNOME的默认设置</option><option value="primary_default_for_kde" data-group="primary">KDE的默认值</option><option value="primary_sublime_text" data-group="primary">崇高文字</option><option value="primary_eclipse" data-group="primary">日食</option><option value="primary_emacs" data-group="primary">埃马克斯</option><option value="primary_default_for_xwin_windows" data-group="primary">XWin的默认设置（Windows）</option><option value="secondary_default_for_macos" data-group="secondary">macOS的默认设置</option><option value="secondary_default_for_gnome" data-group="secondary">GNOME的默认设置</option><option value="secondary_default_for_kde" data-group="secondary">KDE的默认值</option><option value="secondary_eclipse" data-group="secondary">日食</option><option value="secondary_default_for_xwin_macos" data-group="secondary">XWin的默认设置（macOS）</option><option value="secondary_sublime_text_macos" data-group="secondary">崇高文字（macOS）</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 id="Remote_Debugging_with__product_.xml" data-toc="Remote_Debugging_with__product_">使用PyCharm进行远程调试</h1>    <a name="edition"></a>     <aside class="warning " rel="Remote_Debugging_with__product_.xml" id="17a53bb8" data-title=""><p>仅<b id="7f5d3b1d" origin="intellij-platform">专业</b>版支持此功能。该版本是商业版本，它提供了一组出色的功能：有关更多详细信息，请参见<a href="/pycharm/features/editions_comparison_matrix.html" rel="noopener noreferrer" data-external="true" target="_blank">比较矩阵</a> 。</p></aside>            <p id="037c8117">使用PyCharm，您可以使用其他计算机（例如，Web服务器或专用测试机）上的解释器来调试应用程序。</p>        <p id="6219bba3">PyCharm提供了两种远程调试方法：</p>        <ul class="list _ul"><li class="list__item" id="551dadf8"><p id="77715a44"><a href="#remote-interpreter">通过远程口译员</a> 。</p>                <p id="230c3006"><span class="emphasis">案例：</span>使用这种方法来利用远程计算机上可用的扩展调试功能。</p>                <p id="8ebc5757"><span class="emphasis">要求：</span>从本地计算机到远程服务器的SSH访问。</p></li><li class="list__item" id="29a2de0d"><p id="1336bbec">使用Python <a href="#remote-debug-config">远程调试服务器配置。</a></p>                <p id="0fc0dc7c"><span class="emphasis">案例：</span>使用这种方法将调试过程集成到远程服务器上一系列正在运行的过程中。当您不能显式运行应用程序进行调试时，或者需要一些准备工作时，这可能会很有帮助。</p>                <p id="de9368b7"><span class="emphasis">要求：</span>从本地计算机到远程服务器的SSH访问，使用任何预定义端口从远程服务器到本地计算机的访问。</p>            </li></ul>        <div class="chapter"><h2 id="prereqs" data-toc="Remote_Debugging_with__product_#prereqs">在你开始前</h2>            <section class="procedure-steps"><h3 id="25c1bf91">完成以下准备任务：</h3><ol class="list _decimal"><li class="list__item" id="16460f22"><p>在本地计算机上，按照创建纯Python项目一节中的描述<a href="creating-empty-project.html">创建一个纯Python项目</a> 。</p></li><li class="list__item" id="b2efce22"><p>将Python文件添加到该项目（ <kbd data-primary_default_for_windows="Alt+Insert" data-primary_intellij_idea_classic_macos="Ctrl+N" data-primary_default_for_gnome="Alt+Insert" data-primary_default_for_kde="Alt+Insert" data-primary_sublime_text="Alt+Insert" data-primary_eclipse="Alt+Insert" data-primary_emacs="Alt+Insert" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⌘N" data-secondary_default_for_gnome="N/A" data-secondary_default_for_kde="N/A" data-secondary_eclipse="N/A" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="⌘N">Alt+Insert</kbd> <span class="control">-Python文件</span> ）。</p></li><li class="list__item" id="037ce77e"><p>将以下代码添加到<span class="control">Python文件</span> ：</p><div class="code-block" data-lang="python">导入数学类求解器：def demo（self，a，b，c）：d = b ** 2-4 * a * c如果d> 0：disc = math.sqrt（d）root1 =（-b + disc） /（2 * a）root2 =（-b-光盘）/（2 * a）返回root1，root2 elif d == 0：返回-b /（2 * a）否则：如果“此方程式无根”，则返回__name__ =='__main__'：求解器= Solver（），而True：a = int（input（“ a：”））b = int（input（“ b：”））c = int（input（“ c：”） ）结果= Solver.demo（a，b，c）打印（结果）</div>                                    <p></p></li></ol></section>        </div>                <div class="chapter"><h2 id="remote-interpreter" data-toc="Remote_Debugging_with__product_#remote-interpreter">为远程解释器创建部署配置</h2>            <p id="25de6863">在此示例中，运行应用程序的计算机被称为<span class="emphasis">local</span> ，带有远程解释器的计算机被称为<span class="emphasis">remote</span> 。</p>            <section class="procedure-steps"><h3 id="d86ebcce">配置远程解释器</h3><ol class="list _decimal"><li class="list__item" id="eca3e164"><p>确保您具有对远程计算机的SSH访问权限。</p></li><li class="list__item" id="2837d4cc"><p>如<a href="configuring-remote-interpreters-via-ssh.html">使用SSH配置远程解释器中</a>指定连接到远程计算机的凭据中所述，将新的远程解释器添加到项目中。</p></li><li class="list__item" id="9bba1695"><p>为项目创建远程解释器后，便会创建相应的部署配置。要预览，请单击<kbd data-primary_default_for_windows="Ctrl+Alt+S" data-primary_intellij_idea_classic_macos="⌘+Comma" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_sublime_text="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-primary_emacs="Ctrl+Alt+S" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⌘," data-secondary_default_for_gnome="⌃⌥S" data-secondary_default_for_kde="⌃⌥S" data-secondary_eclipse="⌃⌥S" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="⌘,">Ctrl+Alt+S</kbd>打开本地计算机上的<span class="control">“设置”</span>对话框窗口，然后单击“ <span class="control">构建，执行，部署”</span>节点和“ <span class="control">部署”</span>节点。</p><figure><img alt="部署配置" title="部署配置" src="/help/img/idea/2019.2/py_remote_debugging_deployment_config.png" id="5a2d5bd9" width="631" height="973"></figure>                    <p></p></li><li class="list__item" id="f6b95791"><p>您可以接受所有默认设置，也可以根据需要更改它们。对于此示例，让我们为您的部署配置使用一个有意义的名称，例如“ MySFTPConnection”。</p></li><li class="list__item" id="41e0eac5"><p>确保“ <span class="control">根路径”</span>值反映了在创建的SSH解释器的相应设置中指定的路径（请检查“ <span class="menupath" data-skip-index="skip">项目” |“项目解释器”</span>设置/首选项中的“ <span class="control">路径解释</span> <span class="menupath" data-skip-index="skip">器”</span> ）。</p><figure><img alt="路径映射验证" title="路径映射验证" src="/help/img/idea/2019.2/py_remote_debugging_path_mappings.png" id="1b052087" width="614" height="179"></figure>                    <p></p></li></ol><p id="99ed1687">现在，您的部署配置已准备就绪。</p></section>                            <section class="procedure-steps"><h3 id="deploy-remote-host">将您的应用程序部署到远程主机</h3><p id="892662ff">接下来，必须将您的应用程序部署到远程主机。</p><ol class="list _decimal"><li class="list__item" id="bea3308b"><p>在<span class="menupath" data-skip-index="skip">工具</span>菜单上，选择<span class="menupath" data-skip-index="skip">部署|。上载到MySFTPConnection</span> 。</p></li><li class="list__item" id="f1dfeb19"><p>出现<span class="control">文件传输</span>工具窗口。验证传输的文件数。</p><figure><img alt="文件传输窗口" title="文件传输窗口" src="/help/img/idea/2019.2/py_remote_debugging_ftp.png" id="fc7bab2c" width="750" height="189"></figure>                    <p></p></li></ol></section>                <section class="procedure-steps"><h3 id="debug-app">调试您的应用程序</h3><ol class="list _decimal"><li class="list__item" id="34a803b1"><p>右键单击编辑器背景，然后选择“ <span class="menupath" data-skip-index="skip">调试” <name></name></span> （在这里<span class="menupath" data-skip-index="skip">调试'quadratic_equation'</span> ）。</p></li><li class="list__item" id="fd8d40ab"><p>查看调试输出。请注意，调试实际上是在指定的远程服务器上进行的。</p><figure><img alt="在远程服务器上调试" title="在远程服务器上调试" src="/help/img/idea/2019.2/py_remote_debugging.png" id="6c0e529a" width="750" height="328"></figure><p></p></li></ol></section>                                </div>        <div class="chapter"><h2 id="remote-debug-config" data-toc="Remote_Debugging_with__product_#remote-debug-config">使用Python远程调试服务器配置进行远程调试</h2>            <p id="0568abef">您还可以使用专用的运行/调试配置（即<a href="run-debug-configuration-python-remote-debug.html">“运行/调试配置：Python远程调试”）</a>启用远程调试。</p>            <section class="procedure-steps"><h3 id="create-remote-debug-config">创建运行/调试配置</h3><ol class="list _decimal"><li class="list__item" id="40e961ce"><p>在主菜单中，选择<span class="menupath" data-skip-index="skip">“运行|编辑配置...。</span>将打开“ <a href="run-debug-configurations-dialog.html">运行/调试配置”对话框</a> 。您必须点击<img class="inline-icon-16" src="/help/img/idea/2019.2/icons.general.add.svg@2x.png" width="16" alt="添加配置">在工具栏上，从可用配置列表中，选择<span class="control">Python Remote Debug</span> 。</p><figure><img alt="添加Python远程调试配置" title="添加Python远程调试配置" src="/help/img/idea/2019.2/py_python_remote_debug_configuration.png" id="deafee99" width="750" height="930"></figure><p></p></li><li class="list__item" id="08a22098"><p>输入此运行/调试配置的名称-使其为<span class="control">MyRemoteServer</span> 。指定运行IDE的计算机的端口号（此处为<span class="control">12345</span> ）和<span class="control">本地主机名</span> （此处为<span class="control">172.20.208.95</span> ）。远程调试服务器将使用这些参数来访问它。</p></li><li class="list__item" id="c5918da7"><p>将本地计算机上的路径映射到远程计算机上的路径：</p><figure><img alt="路径映射" title="路径映射" src="/help/img/idea/2019.2/py_path_mapping_in_debug_server.png" id="0ec78173" width="632" height="179"></figure><p></p></li><li class="list__item" id="24a99f3a">                    <p id="dee9a8cd">检查“ <span class="control">更新脚本”</span>指令并执行以下更改：</p>                    <ul class="list _ul"><li class="list__item" id="pydevd"><p id="7f3ef099">将<span class="filepath">pydevd-pycharm.egg</span>复制到项目根目录。该归档文件位于PyCharm安装目录下的<span class="filepath">debug-eggs</span>目录中。有关默认安装目录的更多信息，请参考<a href="installation-guide.html">安装PyCharm</a> 。如果您已经使用工具箱安装了PyCharm，则PyCharm目录位于以下路径下：Windows上的<span class="filepath">C：\ Users \ <user_name>\ AppData \ Local \ JetBrains \ Toolbox \ PyCharm \ *</user_name></span>和<span class="filepath">/ Users / <user_name>/ Library / Application Support / JetBrains / Toolbox / apps / PyCharm / *（</user_name></span>在Mac上）。</p>                                                    </li><li class="list__item" id="8ca648c8"><p>修改源代码文件，如下所示：</p></li></ul>                    <p id="6385f06c">                        </p><div class="code-block" data-lang="python">导入数学＃==============添加此代码============================== ==================================：import sys sys.path.append（“ pydevd-pycharm。 egg“）import pydevd_pycharm pydevd_pycharm.settrace（'172.20.208.95'，port = 12345，stdoutToServer = True，stderrToServer = True）＃===================== ================================================== ========================类求解器：def demo（self，a，b，c）：d = b ** 2-4 * a * c如果d> 0：光盘= math.sqrt（d）root1 =（-b +光盘）/（2 * a）root2 =（-b-光盘）/（2 * a）返回root1，root2 elif d == 0：返回-b /（2 * a）否则：如果__name__ =='__main__'，则返回“此方程式无根”：解算器= Solver（）而True：a = int（input（“ a：”））b = int（input（“ b：”））c = int（input（“ c：”））结果= Solver.demo（a，b，c）print（result）</div>                    <p></p>                </li></ol></section>            <section class="procedure-steps"><h3 id="connect">创建一个SFTP连接</h3><ol class="list _decimal"><li class="list__item" id="186ae783"><p>在远程计算机上，创建一个目录，应在该目录中上传文件<span class="filepath">quadratic_equation.py</span> 。您可以在“终端”窗口中执行此操作：</p><div class="code-block" data-lang="bash">$ cd / tmp $ mkdir pycharm_project_986</div>                <p></p></li><li class="list__item" id="158a7ef9"><p>在本地计算机上，创建一个连接配置文件。在主菜单中，选择“ <span class="menupath" data-skip-index="skip">工具” |“工具”。部署-配置...。</span>在打开的对话框中，单击<img class="inline-icon-16" src="/help/img/idea/2019.2/icons.general.add.svg@2x.png" width="16" alt="添加服务器"> ，然后在“ <span class="control">添加服务器”</span>对话框中选择连接类型（此处为SFTP）并输入其名称（此处为<span class="control">MySFTPConnection</span> ）。</p></li><li class="list__item" id="0fddc299">                    <p id="7057e867">在“ <span class="control">连接”</span>选项卡中，指定该计算机的SFTP主机（远程计算机的地址），用户名和密码。</p>                    <p id="92dd045c">请注意，指定的用户应具有对远程主机的SSH访问权限。</p></li><li class="list__item" id="2ca517ab"><p>单击“ <span class="control">映射”</span>选项卡，然后在服务器中输入部署路径。服务器是<code class="code">MySFTPConnection</code> ，因此单击浏览按钮，然后选择所需的文件夹<span class="filepath">/ tmp / pycharm_project_986</span> 。请注意，浏览按钮显示了远程主机的内容。应用更改并关闭对话框。</p></li></ol></section>            <section class="procedure-steps"><h3 id="deploy">将文件部署到远程计算机</h3><p id="f538819d">将以下文件部署到远程计算机： <span class="filepath">pydevd-pycharm.egg</span>和<span class="filepath">quadratic_equation.py</span> 。</p><ol class="list _decimal"><li class="list__item" id="980f82aa"><p>在本地计算机上的“ <a href="project-tool-window.html">项目工具”窗口中</a> ，选择文件，右键单击所选内容，然后选择“ <span class="control">部署” |“部署”。上载到MySFTPConnection</span> 。</p></li><li class="list__item" id="d7cee03d"><p id="09039089">检查“ <span class="control">文件传输”</span>对话框窗口，以确保将本地计算机上的文件上载到远程服务器。</p>                    <figure><img alt="文件传输窗口" title="文件传输窗口" src="/help/img/idea/2019.2/py_sftp_deployment_upload.png" id="28a14bf8" width="750" height="223"></figure>                </li></ol></section>            <section class="procedure-steps"><h3 id="launch-debug-server">启动调试服务器</h3><ol class="list _decimal"><li class="list__item" id="a3a0e8dd"><p>选择创建的运行/调试配置，然后单击<img class="inline-icon-16" src="/help/img/idea/2019.2/icons.actions.startDebugger.svg@2x.png" width="16" alt="除错"> ：</p><figure><img alt="运行调试配置" title="运行调试配置" src="/help/img/idea/2019.2/py_remote_debug.png" id="4833dfd3" width="250" height="70"></figure><p></p></li><li class="list__item" id="fff9268d"><p>确保“ <a href="debug-tool-window.html">调试工具”窗口</a>显示“ <span class="control">正在等待进程连接..”</span>消息。该消息将一直显示，直到您在远程计算机上启动脚本为止，并且此脚本将连接到Debug Server。</p></li></ol></section>            <section class="procedure-steps"><h3 id="launch-script">在远程计算机上执行Python文件</h3><ol class="list _decimal"><li class="list__item" id="1d73d683"><p>在远程计算机上，导航到<span class="filepath">tmp / pycharm_project_986</span>目录。</p></li><li class="list__item" id="7b8e14a5"><p>在远程主机上启动<span class="filepath">quadratic_equation.py</span>文件。为此，请在“终端”窗口中输入以下命令：</p></li></ol><p id="fae5f3a3">对于Python 3</p><div class="code-block" data-lang="bash">$ python3 quadratic_equation.py</div><p id="c5a047af">对于Python 2</p><div class="code-block" data-lang="bash">$蟒蛇quadratic_equation.py</div><p id="73cf9da0">此调试方法最有用的方面是，当远程调试是计划任务的一部分，或者需要在运行Python脚本之前执行一些准备步骤时，可以使用任何<span class="filepath">bash</span>脚本运行执行Python文件。如果是这种情况，请将以下行添加到bash脚本的适当位置：</p><p id="c8ec6a19">对于Python 3</p><div class="code-block" data-lang="bash">cd / tmp / pycharm_project_986 python3 quadratic_equation.py</div><p id="627b4c43">对于Python 2</p><div class="code-block" data-lang="bash">cd / tmp / pycharm_project_986 python quadratic_equation.py</div></section>            <section class="procedure-steps"><h3 id="debug-application">调试您的应用程序</h3><ul class="list "><li class="list__item" id="930f1c23"><p id="a06bb131">在本地计算机上，切换到“ <a href="debug-tool-window.html">调试工具窗口”</a> 。它应该显示与pydev调试器的连接。</p>                    <figure><img alt="远程调试" title="远程调试" src="/help/img/idea/2019.2/py_remote_debug_result.png" id="2da260e4" width="731" height="332"></figure>                    <p id="f97a280e">您的代码实际上在远程主机上执行，但是在本地计算机上调试。</p>                </li></ul></section>        </div>        <div class="chapter"><h2 id="summary" data-toc="Remote_Debugging_with__product_#summary">摘要</h2>            <p id="b2073543">为了使用远程解释器进行调试，您必须通过PyCharm启动程序，但这并不总是可能的。另一方面，使用调试服务器时，可以连接到正在运行的进程。</p>            <p id="eef84e44">比较两种方法。</p>            <p id="b3e4e97d">在第一种情况下，我们</p>            <ul class="list _ul"><li class="list__item" id="906c69e3"><p><a href="#remote-interpreter">配置了一个远程解释器</a> 。</p></li><li class="list__item" id="7e588dfe"><p><a href="#deploy-remote-host">将脚本部署到远程主机</a> 。</p></li><li class="list__item" id="8c61e7fd"><p><a href="#debug-app">调试脚本</a> 。</p></li></ul>            <p id="039e7da7">在第二种情况下，我们</p>            <ul class="list _ul"><li class="list__item" id="75c2b198"><p><a href="#create-remote-debug-config">创建了一个调试配置</a> （Debug Server）。</p></li><li class="list__item" id="468a1bf4"><p><a href="#launch-debug-server">启动了调试服务器</a> 。</p></li><li class="list__item" id="3471fc86"><p><a href="#launch-script">在远程计算机上执行Python脚本</a> 。该脚本连接到调试服务器。</p></li><li class="list__item" id="f641bb59"><p>在本地计算机上<a href="#debug-application">调试了脚本</a> 。</p></li></ul>        </div>        <div class="last-modified" data-skip-index="skip">上次修改时间：2019年11月6日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="choosing-a-method-to-step-into.html">选择一种方法进入</a> <a class="navigation-links__next" href="inline-debugging.html">内联值视图</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>