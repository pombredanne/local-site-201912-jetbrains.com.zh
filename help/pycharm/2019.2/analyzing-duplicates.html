<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"></meta><meta name="robots" content="noindex"></meta><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>Analyze duplicates - Help | PyCharm</title><link rel="stylesheet" href="/resources.jetbrains.com/storage/help-app/v3/app.css"></head><body data-id="procedures.workingwithmodules.duplicates" data-article-props="&#xA;                {&#xA;                &#xA;            &#34;seeAlso&#34;:[&#xA;            &#xA;                {&#34;title&#34;: &#34;Procedures&#34;,&#xA;                 &#34;links&#34;: [&#xA;                &#xA;        {&#34;url&#34;:&#34;extract-method.html&#34;,&#34;text&#34;:&#34;Extract method&#34;}&#xA;                    ]},&#xA;                {&#34;title&#34;: &#34;Reference&#34;,&#xA;                 &#34;links&#34;: [&#xA;                &#xA;        {&#34;url&#34;:&#34;specify-code-duplication-analysis-scope.html&#34;,&#34;text&#34;:&#34;Specify Code Duplication Analysis Scope&#34;}&#xA;        {&#34;url&#34;:&#34;code-duplication-analysis-settings.html&#34;,&#34;text&#34;:&#34;Code Duplication Analysis Settings&#34;}&#xA;        {&#34;url&#34;:&#34;duplicates-tool-window.html&#34;,&#34;text&#34;:&#34;Duplicates Tool Window&#34;}&#xA;                    ]},&#xA;                {&#34;title&#34;: &#34;Web Resources&#34;,&#xA;                 &#34;links&#34;: [&#xA;                &#xA;        {&#34;url&#34;:&#34;http://devnet.jetbrains.com/community/python?view=documents&#xA;            &#34;,&#34;text&#34;:&#34;Developer Community&#34;}&#xA;                    ]}&#xA;            ]&#xA;        &#xA;                }&#xA;            "><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search PyCharm Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>PyCharm 2019.2 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="primary" value="primary_default_for_windows" selected>Default for Windows</option><option data-group="primary" value="primary_intellij_idea_classic_macos">IntelliJ IDEA Classic (macOS)</option><option data-group="primary" value="primary_default_for_gnome">Default for GNOME</option><option data-group="primary" value="primary_default_for_kde">Default for KDE</option><option data-group="primary" value="primary_sublime_text">Sublime Text</option><option data-group="primary" value="primary_eclipse">Eclipse</option><option data-group="primary" value="primary_emacs">Emacs</option><option data-group="primary" value="primary_default_for_xwin_windows">Default for XWin (Windows)</option><option data-group="secondary" value="secondary_default_for_macos">Default for macOS</option><option data-group="secondary" value="secondary_default_for_gnome">Default for GNOME</option><option data-group="secondary" value="secondary_default_for_kde">Default for KDE</option><option data-group="secondary" value="secondary_eclipse">Eclipse</option><option data-group="secondary" value="secondary_default_for_xwin_macos">Default for XWin (macOS)</option><option data-group="secondary" value="secondary_sublime_text_macos">Sublime Text (macOS)</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 data-toc="procedures.workingwithmodules.duplicates" id="Analyzing_Duplicates.xml">Analyze duplicates</h1>                  <a name="edition"></a>     <aside class="warning " data-title="" rel="Analyzing_Duplicates.xml" id="8d4c96ba"><p>        This feature is only supported in the <b id="200629ba" origin="intellij-platform">Professional</b> edition.         This edition is commercial, and it provides an outstanding set of features:          see the <a href="/pycharm/features/editions_comparison_matrix.html" data-external="true" target="_blank" rel="noopener noreferrer">comparison matrix</a> for more details.    </p></aside>            <p id="b6bc3a86">PyCharm helps you find repetitive blocks of code in a certain range. This range can        be a single file, a project, a module, or a custom scope. Analysis results are displayed directly in the editor or  in the        dedicated tab of the <a href="duplicates-tool-window.html">Duplicates tool window</a>.    </p>        <section class="procedure-steps"><h3 id="detect-duplicates" data-toc="procedures.workingwithmodules.duplicates#detect-duplicates">Detect duplicates on the fly</h3><p id="02fc0a8b">            PyCharm enables spotting duplicates on the fly. The analysis is performed by means of the <span class="emphasis">Duplicated code fragment</span> <a href="code-inspection.html">inspection</a>, which you can find under the <span class="control">General</span> node of the <span data-skip-index="skip" class="menupath">Editor | Inspections</span> page <a name="open_settings"></a>                of the <span class="control">Settings/Preferences</span> dialog (<kbd data-primary_default_for_windows="Ctrl+Alt+S" data-primary_intellij_idea_classic_macos="⌘+Comma" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_sublime_text="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-primary_emacs="Ctrl+Alt+S" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⌘," data-secondary_default_for_gnome="⌃⌥S" data-secondary_default_for_kde="⌃⌥S" data-secondary_eclipse="⌃⌥S" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="⌘,">Ctrl+Alt+S</kbd>).        </p><p id="39ade143">            If you stumble upon an existing duplicate or somehow create one by writing or pasting code,            PyCharm reports a problem and suggests quick-fixes that let you navigate to the detected duplicates, or view            all of them in the <span class="control">Duplicates</span> tool window.        </p><figure><img alt="Detecting duplicates on-fly" title="Detecting duplicates on-fly" src="/help/img/idea/2019.2/py_detect_duplicates.png" id="678129db" width="613" height="708"></figure></section>                <section class="procedure-steps"><h3 id="configure-duplicates-analysis" data-toc="procedures.workingwithmodules.duplicates#configure-duplicates-analysis">Configure duplicates analysis</h3><ol class="list _decimal"><li class="list__item" id="9943f337">                <p id="5dc64dfd">                    <a name="open_settings"></a>                In the <span class="control">Settings/Preferences</span> dialog (<kbd data-primary_default_for_windows="Ctrl+Alt+S" data-primary_intellij_idea_classic_macos="⌘+Comma" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_sublime_text="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-primary_emacs="Ctrl+Alt+S" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⌘," data-secondary_default_for_gnome="⌃⌥S" data-secondary_default_for_kde="⌃⌥S" data-secondary_eclipse="⌃⌥S" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="⌘,">Ctrl+Alt+S</kbd>), go to <span data-skip-index="skip" class="menupath">Editor | Duplicates</span>.                </p>            </li><li class="list__item" id="0a5684a4">                <p id="8c855acd">                    On the <span class="control">Duplicates</span> page that opens, select the file types, to which duplicates analysis should apply.                    Additionally, select the <span class="control">Variable or identifier names</span>/<span class="control">Function or field names</span>/<span class="control">Constant values</span> checkboxes to define whether two identical entities that use different names should be treated as duplicates.                </p>                <p id="3d3691f7">                    For example, if the <span class="control">Variable or identifier names</span> and <span class="control">Function or field names</span> are enabled, the following two functions will be considered duplicate:                </p>                <div class="code-block" data-lang="python">
                    def demo(a, b, c):
                        return_type_of_sqrt = math.sqrt(b ** 2 - 4 * a * c)
                        root1 = (-b + return_type_of_sqrt) / (2 * a)
                        root2 = (-b - return_type_of_sqrt) / (2 * a)
                        print(root1, root2)


                    def sqrt_func(n, m, k):
                        return_type_of_sqrt = math.sqrt(m ** 2 - 4 * n * k)
                        result1 = (-m + return_type_of_sqrt) / (2 * n)
                        result2 = (-m - return_type_of_sqrt) / (2 * n)
                        print(result1, result2)
                </div>            </li><li class="list__item" id="acbc7747">                <p id="e0074966">                    <a name="open_settings"></a>                In the <span class="control">Settings/Preferences</span> dialog (<kbd data-primary_default_for_windows="Ctrl+Alt+S" data-primary_intellij_idea_classic_macos="⌘+Comma" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_sublime_text="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-primary_emacs="Ctrl+Alt+S" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⌘," data-secondary_default_for_gnome="⌃⌥S" data-secondary_default_for_kde="⌃⌥S" data-secondary_eclipse="⌃⌥S" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="⌘,">Ctrl+Alt+S</kbd>), go to <span data-skip-index="skip" class="menupath">Editor | Inspections</span> and select the <span class="emphasis">Duplicated code fragment</span> inspection under the <span class="control">General</span> node.                </p>            </li><li class="list__item" id="7b9a1f26">                <p id="eb474166">                    In the inspection options, select whether you want to view duplicates only within the same file or across the entire project. In the <span class="control">Do not show duplicates simpler than</span> field for the necessary file type, set the size of duplicated language constructs to be detected.                    In the Python context, the constructs less than 45 units are ignored by default. Alter the number of units to enable duplicate detection for smaller code fragments.                    The value of units can be calculated as follows: <code class="code">units = 2*&lt;number of statements&gt; + &lt;number of expressions&gt;</code>.                </p>                <figure><img alt="Duplicated Code Fragment inspection settings" title="Duplicated Code Fragment inspection settings" src="/help/img/idea/2019.2/py_duplicated_code_fragment_inspection_settings.png" id="77750e37" width="700" height="825"></figure>            </li></ol></section>    <section class="procedure-steps"><h3 id="search-duplicates" data-toc="procedures.workingwithmodules.duplicates#search-duplicates">Search for duplicates manually (deprecated)</h3><aside class="note " data-title="" rel="search-duplicates" id="f4bdfba9">            <p id="21f34a91">This option has been deprecated and is going to be removed soon.</p>        </aside><ol class="list _decimal"><li class="list__item" id="642a1ffd"><p>From the main menu, select <span data-skip-index="skip" class="menupath">Code | Locate Duplicates</span>.</p></li><li class="list__item" id="958a7684"><p>            In the <span class="control">Specify Code Duplication Analysis Scope</span> dialog,            specify the analysis scope: whole project, current file, uncommitted files (for the projects under            version control), or some custom scope. In addition, you can include test sources into the analysis, too.        </p></li><li class="list__item" id="e4f9e592">            <p id="4a55b7c2">In the <span class="control">Code Duplication Analysis Settings</span> dialog, select the languages that you want to analyze.</p>            <p id="d1389daa">For each language, check the options to define the analysis preferences.                For example, you can opt to request identical match for code fragments to be considered duplicates,                or specify a certain limit below which the code constructs are not considered duplicates (for example, to avoid                reporting each <code class="code">if</code> construct in the source code).            </p>        </li><li class="list__item" id="64474f39">            <p id="751cd121">In the <a href="duplicates-tool-window.html">Duplicates tool window</a>, explore the analysis results.</p>            <figure><img alt="img" title="img" src="/help/img/idea/2019.2/py_analyzeDuplicates.png" id="07c0c57c" width="536" height="163"></figure>                                                <ul class="list _ul"><li class="list__item" id="877a8829"><p>                    View the list of duplicates in the left pane of the tool window.</p></li><li class="list__item" id="397c5612"><p>                    View the differences between the found duplicates in the right pane. Use the arrow buttons to                    place the selected duplicate in one of the sections of the differences viewer and                    compare fragments of the code.                </p></li><li class="list__item" id="33385966"><p>                    Navigate to the duplicates in the editor by using the <span class="control">Jump to Source</span> or                <span class="control">Show Source</span> context menu commands.                </p></li><li class="list__item" id="e4b2b5f1"><p>                      Eliminate duplicates from the source code by applying the                                            <a href="extract-method.html">Extract method refactoring</a>                                                                  to the detected repetitive blocks of code that are found and highlighted automatically.</p></li></ul>            </li></ol></section>  <div class="last-modified" data-skip-index="skip">Last modified: 6 November 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="retaining-hierarchy-tabs.html">Retaining Hierarchy Tabs</a><a class="navigation-links__next" href="analyzing-external-stacktraces.html">Analyzing External Stack Traces</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>