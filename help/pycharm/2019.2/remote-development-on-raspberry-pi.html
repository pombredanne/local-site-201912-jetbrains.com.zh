<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"></meta><meta name="robots" content="noindex"></meta><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>Tutorial: Remote Development on Raspberry Pi - Help | PyCharm</title><link rel="stylesheet" href="/resources.jetbrains.com/storage/help-app/v3/app.css"></head><body data-id="Remote_Development_on_Raspberry_Pi"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search PyCharm Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>PyCharm 2019.2 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="primary" value="primary_default_for_windows" selected>Default for Windows</option><option data-group="primary" value="primary_intellij_idea_classic_macos">IntelliJ IDEA Classic (macOS)</option><option data-group="primary" value="primary_default_for_gnome">Default for GNOME</option><option data-group="primary" value="primary_default_for_kde">Default for KDE</option><option data-group="primary" value="primary_sublime_text">Sublime Text</option><option data-group="primary" value="primary_eclipse">Eclipse</option><option data-group="primary" value="primary_emacs">Emacs</option><option data-group="primary" value="primary_default_for_xwin_windows">Default for XWin (Windows)</option><option data-group="secondary" value="secondary_default_for_macos">Default for macOS</option><option data-group="secondary" value="secondary_default_for_gnome">Default for GNOME</option><option data-group="secondary" value="secondary_default_for_kde">Default for KDE</option><option data-group="secondary" value="secondary_eclipse">Eclipse</option><option data-group="secondary" value="secondary_default_for_xwin_macos">Default for XWin (macOS)</option><option data-group="secondary" value="secondary_sublime_text_macos">Sublime Text (macOS)</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 data-toc="Remote_Development_on_Raspberry_Pi" id="Remote_Development_on_Raspberry_Pi.xml">Tutorial: Remote Development on Raspberry Pi</h1><div class="chapter"><h2 id="intro" data-toc="Remote_Development_on_Raspberry_Pi#intro">Introduction</h2>    <p id="ace567b8">We all know that ISPs have a habit of overselling their connections, and this sometimes leads our connections to        not be as good as we’d like them to be. Also, many of us have Raspberry Pi’s laying around waiting for cool        projects. So let’s put that Pi to use to check on our internet connection!</p>    <p id="fa623c13">One of the key metrics of an internet connection is its ping time to other hosts on the internet. So let’s write         a program that regularly pings another host and records the results. </p>    <p id="6508e8f0">For those of you wanting to execute code remotely on other remote computers, like an AWS instance or a        DigitalOcean droplet, the process is exactly the same.</p>    <p id="9d337179">This tutorial has been created on Windows, and the code was executed on the RPi, which is a Linux computer. On        the other supported operating systems, some of the paths and workflows might be slightly different.</p></div><div class="chapter"><h2 id="prereq" data-toc="Remote_Development_on_Raspberry_Pi#prereq">Before you start</h2>    <p id="76240761">For performing this tutorial, make sure that you meet the following prerequisites:</p>    <ul class="list _ul"><li class="list__item" id="b39f638d"><p>You have the Professional Edition of PyCharm.</p></li><li class="list__item" id="10679a92"><p>The code will run on any Linux machine. You can also use a local VM as well.</p></li></ul>    <p id="install-additional-software">You'll also need some additional software:</p>    <ul class="list _ul"><li class="list__item" id="fa0c83c9"><p><span class="emphasis">PostgreSQL</span>, because it will be used to create a database.</p></li><li class="list__item" id="0f695799"><p><span class="emphasis">Libpq-dev</span>, needed for <span class="emphasis">Psycopg2</span>.</p></li><li class="list__item" id="bb1455a4"><p><span class="emphasis">Python-dev</span>, needed to compile <span class="emphasis">Psycopg2</span>.</p></li></ul>    <p id="4b69d630">To install all of these at once, run the following command:</p>    <div class="code-block" data-lang="bash">
        sudo apt-get update &amp;&amp; sudo apt-get install -y postgresql libpq-dev python-dev
    </div></div><div class="chapter"><h2 id="raspberry-ping" data-toc="Remote_Development_on_Raspberry_Pi#raspberry-ping">Raspberry Ping</h2>        <p id="4637ae41">The application we will build consists of two parts:</p>            <ul class="list _ul"><li class="list__item" id="f8d65e7c"><p><span class="control">First</span>, we actually do the measurements. To measure the results, we can just call                    the ping command-line tool that every Linux machine (including the Raspberry Pi) ships with. We will                    then store the results in a PostgreSQL database.</p></li><li class="list__item" id="d83e0459"><p><span class="control">Second</span>, we'll visualize the results using a Flask app, which uses Matplotlib to                    draw a graph of recent results.</p></li></ul>    </div><div class="chapter"><h2 id="prepare" data-toc="Remote_Development_on_Raspberry_Pi#prepare">Preparing your Raspberry Pi</h2>    <p id="c2930ed4">As we will want to be able to view the web page with the results later, it’s important to give our Pi a fixed IP        within our network. To do so, edit <span class="filepath">/etc/network/interfaces</span>. See        <a href="https://thepihut.com/blogs/raspberry-pi-tutorials/16683276-how-to-setup-a-static-ip-address-on-your-raspberry-pi" data-external="true" target="_blank" rel="noopener noreferrer">this tutorial</a>        for additional details. </p>    <p id="aff4b659">After you’ve set the Pi to use a static IP, use <code class="code">raspi-config</code> on the command line. Go to        <span class="control">Advanced Options</span>, choose <span class="control">SSH</span>, and choose <span class="control">Yes</span>.        When you’ve done this, you’re ready to get started with PyCharm.</p></div><div class="chapter"><h2 id="creating-project" data-toc="Remote_Development_on_Raspberry_Pi#creating-project">Creating a project</h2>        <p id="fcb0d282">Create a pure Python project: to do that, choose <span data-skip-index="skip" class="menupath">File | New Project</span>. Name the project "raspberry.pi"            See <a href="creating-empty-project.html">Create a pure Python project</a>. </p>                <p id="1d392947">Then add an SSH remote interpreter as described in <a href="configuring-remote-interpreters-via-ssh.html">Configure a remote interpreter using SSH</a>. When            configuring an SSH server, specify the IP-address of your Pi (<span class="control">Host</span>), for example, 172.27.120.177.            Also, specify credentials for logging into the device.</p>        <p id="0d34aa2b">Next, in PyCharm, press <kbd data-primary_default_for_windows="Ctrl+Shift+A" data-primary_intellij_idea_classic_macos="Shift+⌘+A" data-primary_default_for_gnome="Ctrl+Shift+A" data-primary_default_for_kde="Ctrl+Shift+A" data-primary_sublime_text="Ctrl+Shift+P" data-primary_eclipse="Ctrl+Shift+A" data-primary_emacs="Escape, X" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⇧⌘A" data-secondary_default_for_gnome="⌃⇧A" data-secondary_default_for_kde="⌃⇧A" data-secondary_eclipse="⌃⇧A" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="⇧⌘P">Ctrl+Shift+A</kbd>, begin typing ‘Start SSH session’:</p>        <figure><img alt="py start ssh session" title="py start ssh session" src="/help/img/idea/2019.2/py_start_ssh_session.png" id="c5494297" width="408" height="101"></figure>        <p id="7b1c82c2">Then pick your Raspberry Pi from the list of hosts, and you should be connected.</p>        <p id="c43c57e3">Next, <a href="#install-additional-software">install additional software</a>.</p>    </div><div class="chapter"><h2 id="setup-permission" data-toc="Remote_Development_on_Raspberry_Pi#setup-permission">Setting up permissions and creating a database in PostgreSQL</h2>        <p id="46efddff">We now need to set up the permissions in PostgreSQL. The easiest way to do this is to go back to our SSH            terminal, and run the following command to get an SQL prompt as the Postgres user: </p>            <div class="code-block" data-lang="bash">
sudo -u postgres psql
    </div>            <p id="972cd30a">Now let's create a user (a ‘role’ in Postgres terminology) with the same name as the user that we run the                process with:</p>        <div class="code-block" data-lang="bash">
CREATE ROLE pi WITH LOGIN PASSWORD ‘hunter2’;
    </div>        <p id="dc5100fb">Important  note! Make sure that the role in PostgreSQL has the same name as your Linux username. You might            also want to substitute a better password. It is important to end your SQL statements with a semicolon (;)            in psql, because it will assume you’re writing a multi-line statement until you terminate with a semicolon.            We’re granting the pi user login rights, which just means that the user can log in. Roles without login            rights are used to create groups.</p>        <p id="database">Next, create a database:</p>        <div class="code-block" data-lang="bash">
CREATE DATABASE pi WITH OWNER pi;
    </div>        <p id="6468cbac">Next, exit <span class="emphasis">psql</span> with <code class="code">\q</code>.</p>    </div><div class="chapter"><h2 id="run" data-toc="Remote_Development_on_Raspberry_Pi#run">Capturing pings</h2>    <p id="fbfaa61d">To get information on the quality of the internet connection, let’s ping a server using the system’s        <span class="emphasis">ping</span> utility, and then read the result with a regex. So let’s take a look at the output of        <span class="emphasis">ping</span>:</p>    <div class="code-block" data-lang="bash">
PING jetbrains.com (54.217.236.18) 56(84) bytes of data.

64 bytes from ec2-54-217-236-18.eu-west-1.compute.amazonaws.com (54.217.236.18): icmp_seq=1 ttl=47 time=32.9 ms
64 bytes from ec2-54-217-236-18.eu-west-1.compute.amazonaws.com (54.217.236.18): icmp_seq=2 ttl=47 time=32.9 ms
64 bytes from ec2-54-217-236-18.eu-west-1.compute.amazonaws.com (54.217.236.18): icmp_seq=3 ttl=47 time=32.9 ms
64 bytes from ec2-54-217-236-18.eu-west-1.compute.amazonaws.com (54.217.236.18): icmp_seq=4 ttl=47 time=32.9 ms

--- jetbrains.com ping statistics ---
4 packets transmitted, 4 received, 0% packet loss, time 3003ms
rtt min/avg/max/mdev = 32.909/32.951/32.992/0.131 ms
    </div>    <p id="8c8d058e">All the lines with individual round trip times begin with <code class="code">64 bytes from</code>. So let’s create a file        <span class="filepath">ping.py</span> (<span data-skip-index="skip" class="menupath">File | New - Python File</span>), and start coding.</p>    <p id="1fff4f13">We can first get the output of ping, and then iterate over the lines, picking the ones that start with a number        followed by the words ‘bytes from’:</p>    <div class="code-block" data-lang="python">
host = 'jetbrains.com'
ping_output = subprocess32.check_output(["ping", host, "-c 5"])

for line in ping_output.split('\n'):
    if re.match("\d+ bytes from", line):
        print(line)
    </div>    <p id="9965d43a">At this point if you run the code <kbd data-primary_default_for_windows="Ctrl+Shift+F10" data-primary_intellij_idea_classic_macos="Ctrl+Shift+F10" data-primary_default_for_gnome="Ctrl+Shift+F10" data-primary_default_for_kde="Ctrl+Shift+F10" data-primary_sublime_text="Ctrl+Shift+F10" data-primary_eclipse="Ctrl+Shift+F10" data-primary_emacs="Ctrl+Shift+F10" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⌃⇧R" data-secondary_default_for_gnome="⌃⇧F10" data-secondary_default_for_kde="⌃⇧F10" data-secondary_eclipse="⌃⇧F10" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="N/A">Ctrl+Shift+F10</kbd>, you should see this code running remotely on the        Raspberry Pi:</p>    <figure><img alt="py raspberry pi run" title="py raspberry pi run" src="/help/img/idea/2019.2/py_raspberry_pi_run.png" id="a2b71621" width="807" height="230"></figure>    <p id="648d0fd4">To check if the deployment settings are set up correctly, point to the <span data-skip-index="skip" class="menupath">Tools | Deployment</span>        on the main menu. The check command <span class="control">Automatic Upload</span> should be checked.</p></div><div class="chapter"><h2 id="store" data-toc="Remote_Development_on_Raspberry_Pi#store">Storing the pings</h2>        <p id="3fda4781">We wanted to store our pings in <span class="emphasis">PostgreSQL</span>, so let’s create a table for them. First, we need to            create a PostgreSQL database:</p>        <figure><img alt="py database postgresql" title="py database postgresql" src="/help/img/idea/2019.2/py_database_postgresql.png" id="de887d22" width="392" height="403"></figure>        <p id="8c0cacb3">When PostgreSQL is selected, the datasource page opens:</p>        <figure><img alt="py create postrgesql database general settings" title="py create postrgesql database general settings" src="/help/img/idea/2019.2/py_create_postrgesql_database_general_settings.png" id="30357651" width="563" height="313"></figure>        <p id="03d2f33f">On this page, download the required drivers, enter the required credentials, and then click the            <span class="control">Test Connection</span> button to make sure you are connected.</p>        <p id="813082b1">As our database is only exposed to localhost, we will need to use an SSH tunnel:</p>        <figure><img alt="py create postrgesql database ssh tunnel" title="py create postrgesql database ssh tunnel" src="/help/img/idea/2019.2/py_create_postrgesql_database_ssh_tunnel.png" id="6a156d21" width="568" height="241"></figure>        <p id="2e1c441c">Next, after you’ve connected, create the table by executing the            <a href="https://github.com/ErnstHaagsman/raspberryping/blob/master/setup_db.sql" data-external="true" target="_blank" rel="noopener noreferrer">setup_db.sql</a> script.            To do this, copy-paste the script from GitHub into the SQL console that opened up right after connecting,            and then use the green play button to execute.</p>        <p id="174e4fb3">Now that we’ve got this working, let’s expand our script to record the pings into the database. To connect to            the database from Python we’ll need to install <span class="emphasis">psycopg2</span>. To do it, point to            <span data-skip-index="skip" class="menupath">File | Settings</span>(for Windows and Linux) or <span data-skip-index="skip" class="menupath">PyCharm/Preferences</span>            (for macOS users), then click the page <a href="project-interpreter.html">Project Interpreter</a>, and then use <img class="inline-icon-16" src="/help/img/idea/2019.2/icons.general.add.svg@2x.png" width="16" alt="icons general add svg">            to install the package. If you’d like to see the full script, you can            <a href="https://github.com/ErnstHaagsman/raspberryping/blob/master/ping.py" data-external="true" target="_blank" rel="noopener noreferrer">have a look on GitHub</a>.</p>    </div><div class="chapter"><h2 id="cron" data-toc="Remote_Development_on_Raspberry_Pi#cron">Cron</h2>        <p id="85c6644e">To make sure that we actually regularly record the pings, we need to schedule this script to be run. For this,            we will use <span class="emphasis">cron</span>. As we’re using peer authentication to the database, we need to make sure            that            the script is run as the <span class="emphasis">pi</span> user. So let’s open an SSH session (making sure we’re            logged in as <span class="emphasis">pi</span>), and then run <code class="code">crontab -e</code> to edit our user crontab.            Then at the bottom of the file add the following line:</p>        <div class="code-block" data-lang="bash">
*/5 * * * * /home/pi/raspberryping/ping.py jetbrains.com &gt;&gt; /var/log/raspberryping.log 2&gt;&amp;1
    </div>        <p id="06312d19"><span class="emphasis">Make sure you have a newline at the end of the file!</span></p>        <p id="94bf9595">The first <code class="code">*/5</code> means that the script will be run every 5 minutes. If you’d like a different            frequency, you can <a href="https://en.wikipedia.org/wiki/Cron" data-external="true" target="_blank" rel="noopener noreferrer">learn more about crontabs</a>. Now we also            need to create the log file and make sure that the script can write to it:</p>        <div class="code-block" data-lang="bash">
sudo touch /var/log/raspberryping.log
sudo chown pi:pi /var/log/raspberryping.log
    </div>        <p id="d2727726">At this point take your time, and when you come back later, some ping times should have been logged.            To verify, let’s check with PyCharm’s database tools. Open the            <a href="database-tool-window.html">Database tool window</a> (on the right of the screen) and double-click            the table. You should see that it contains values:</p>        <figure><img alt="py databse filled" title="py databse filled" src="/help/img/idea/2019.2/py_databse_filled.png" id="c8cbbdc5" width="806" height="257"></figure>    </div><div class="chapter"><h2 id="flask" data-toc="Remote_Development_on_Raspberry_Pi#flask">Creating a Flask application</h2>            <p id="c6d6dcdd">It’s no good to just record pings, if we can’t see some statistics about them. So let’s write a small                Flask application (to install Flask, use <code class="code">pip install</code> in the Terminal), and use                <a href="matplotlib-support.html">matplotlib</a> to draw a graph of recent ping times. </p>            <p id="6f3a0642">In our Flask application, we’ll create two routes:</p>            <ul class="list _ul"><li class="list__item" id="d79a8aff"><p>On <code class="code">/</code>, we’ll list the destinations that we’ve pinged in the last hour with basic stats                    (min, average, max time in the last hour).</p></li><li class="list__item" id="5bf34e10"><p>On <code class="code">/graphs/&lt;destination&gt;</code> we’ll draw a graph of the pings in the last 3 hours.</p></li></ul>            <p id="55140cd3">The <code class="code">/</code> route is simple: we just execute a query to get the data we’re interested in and pass                that to the template.            <a href="https://github.com/ErnstHaagsman/raspberryping/blob/master/analyze.py" data-external="true" target="_blank" rel="noopener noreferrer">See the full code on GitHub</a>.            </p>            <p id="0d8f45f3">To make sure that everything works right, let's put a breakpoint on the call to                <code class="code">render_template</code>:</p>            <figure><img alt="py render template breakpoint" title="py render template breakpoint" src="/help/img/idea/2019.2/py_render_template_breakpoint.png" id="1037173f" width="549" height="120"></figure>            <p id="efb3eb24">Then start the debugging session <img class="inline-icon-16" src="/help/img/idea/2019.2/icons.actions.startDebugger.svg@2x.png" width="16" alt="icons actions startDebugger svg"> and see the result in your browser. </p>            <p id="8cfcb895">The <code class="code">/graphs/&lt;destination&gt;</code> route is a lot more complex. First, we have to get the ping                averages for the past three hours in reasonably sized bins (let’s say, 10 minutes). Second, we have to                draw the graph.</p>                   </div><div class="chapter"><h2 id="querying-data" data-toc="Remote_Development_on_Raspberry_Pi#querying-data">Querying the data</h2>            <p id="77b771ac">So the data we’re looking for is:</p>            <ul class="list _ul"><li class="list__item" id="16f83dbb"><p>For each 10 minute period in the last 3 hours</p></li><li class="list__item" id="3ab5bf99"><p>Get the minimum, average, and maximum ping time to a specified destination</p></li></ul>                <p id="75b61551">The first part makes this a fairly complex query. Even though PostgreSQL has support for intervals,                    date ranges, and a way to generate a series of dates, there is no way to generate a series of ranges.                    One solution to this problem is a common table expression (CTE), this is a way to execute a subquery                    which you can later refer to as if it were a real table.</p>                <p id="ada24a08">To get a series of timestamps for the last three hours at 10 minute intervals is easy:</p>            <div class="code-block" data-lang="sql">
select begin_time from generate_series(now() - interval '3 hours', now(), interval '10 minutes') begin_time;
            </div>            <p id="5ad8415e">The <a href="https://www.postgresql.org/docs/9.5/static/functions-srf.html" data-external="true" target="_blank" rel="noopener noreferrer">generate_series</a> function                takes three arguments: <code class="code">begin</code>, <code class="code">end</code>, and <code class="code">step</code>. The function works                with numbers and with timestamps, so that makes it easy. If we wanted pings at exactly these times, we’d                be done now. However, we need times between the two timestamps. So we can use another bit of SQL magic:                <a href="https://www.postgresql.org/docs/9.6/static/functions-window.html" data-external="true" target="_blank" rel="noopener noreferrer">window functions</a> which                allow us to do things with rows before or after the row that we’re currently on. So let’s add                <code class="code">end_time</code> to our query:</p>            <div class="code-block" data-lang="sql">
select
    begin_time,
    LEAD(begin_time) OVER (ORDER BY begin_time ASC) as end_time
from generate_series(now() - interval '3 hours', now(), interval '10 minutes') begin_time;
            </div>            <p id="4990f53f"><code class="code">LEAD</code> takes the value of the next row in the results, as ordered in the way specified in the                <code class="code">OVER</code> clause. You can use <code class="code">LAG</code> to get the previous row in a similar way. So now                we can wrap this query with <code class="code">WITH intervals as ( … query goes here … )</code> to make it a CTE.                Then we can join our pings table and get the results we’re looking for:</p>            <div class="code-block" data-lang="sql">
WITH intervals AS (
    SELECT
        begin_time,
        LEAD(begin_time)
        OVER (
            ORDER BY begin_time ) AS end_time
    FROM
        generate_series(
            now() - INTERVAL '3 hours',
            now(),
            INTERVAL '10 minutes'
        ) begin_time
)
SELECT
    i.begin_time AT TIME ZONE 'Europe/Berlin' AS begin_time,
    i.end_time AT TIME ZONE 'Europe/Berlin' AS end_time,
    p.destination,
    count(p.pingtime),
    round(avg(p.pingtime),2) AS avg,
    max(p.pingtime),
    min(p.pingtime)
FROM intervals i LEFT JOIN pings p
ON p.recorded_at &gt;= i.begin_time AND
    p.recorded_at &lt; i.end_time
WHERE
    i.end_time IS NOT NULL
    AND destination = %s
GROUP BY i.begin_time, i.end_time, p.destination
ORDER BY i.begin_time ASC;
            </div>            <p id="9e68f068">Next, let's execute this query. To do that, right-click the editor background and choose                <span class="control">Execute</span> on the context menu:</p>            <figure><img alt="py execute sql from pycharm" title="py execute sql from pycharm" src="/help/img/idea/2019.2/py_execute_sql_from_pycharm.png" id="3a139034" width="1011" height="862"></figure>            <p id="225edc8e">(if you don't see <span class="control">Execute</span>, choose                <span class="control">Attach Console</span> to let PyCharm know on which database you’d like to execute your                query). </p>    <p id="24bd7691">By the way, you can make the query work 30 times faster. To achieve this significant speedup, add this index to        your query:</p>    <div class="code-block" data-lang="sql">
CREATE INDEX pings_recorded_at ON pings(recorded_at);
    </div>        </div><div class="chapter"><h2 id="graph" data-toc="Remote_Development_on_Raspberry_Pi#graph">Graphing the data</h2>            <p id="4eb76021">After getting the data, <a href="http://matplotlib.org/" data-external="true" target="_blank" rel="noopener noreferrer">matplotlib</a> is used to generate a line graph                with lines for the minimum, average, and maximum ping time per bin. Matplotlib makes it easy to plot                time-based data using the <a href="http://matplotlib.org/devdocs/api/_as_gen/matplotlib.axes.Axes.plot_date.html" data-external="true" target="_blank" rel="noopener noreferrer">plot_date function</a>.</p>            <p id="1a165645">When the plot is ready, it’s ‘saved’ as a <span class="filepath">.png</span> file to a StringIO object, which is then used                to create an HTTP response. By setting the <code class="code">content_type</code> header to <code class="code">image/png</code>,            everything is arranged.</p>            <p id="dd5e60d9">So the final result is:</p>            <figure><img alt="py raspberry pi ping time graph" title="py raspberry pi ping time graph" src="/help/img/idea/2019.2/py_raspberry_pi_ping_time_graph.png" id="d33dca39" width="738" height="695"></figure>            <p id="d8918216">If you want to see the full code, check out                <a href="https://github.com/ErnstHaagsman/raspberryping/blob/master/analyze.py" data-external="true" target="_blank" rel="noopener noreferrer">analyze.py on GitHub</a>.            </p>    </div>        <div class="chapter"><h2 id="summary" data-toc="Remote_Development_on_Raspberry_Pi#summary">Summary</h2>            <p id="f45a7a95">Congrats for passing this tutorial! Let's repeat what has been done with the help of PyCharm:</p>            <ul class="list _ul"><li class="list__item" id="8d9cc000"><a href="#creating-project">Created a project</a></li><li class="list__item" id="07bed488"><p>In the Terminal, <a href="#setup-permission">set permissions up and created a user</a>.</p></li><li class="list__item" id="65b3962c"><p><a href="#database">Created a database</a>.</p></li><li class="list__item" id="b142735a"><p><a href="#run">Captured pings</a>. </p></li><li class="list__item" id="ad79979b"><p><a href="#store">Stored pings in a special database</a>. </p></li><li class="list__item" id="e45831da"><a href="#flask">Created a Flask application</a> </li><li class="list__item" id="2b1c642e"><a href="#querying-data">Queried the data</a> </li><li class="list__item" id="b5c0067c"><a href="#graph">Plotted the data</a> </li></ul>    </div><div class="last-modified" data-skip-index="skip">Last modified: 6 November 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="deployment-in-pycharm.html">Tutorial: Deployment in PyCharm</a><a class="navigation-links__next" href="analyzing-applications.html">Analyzing applications</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>