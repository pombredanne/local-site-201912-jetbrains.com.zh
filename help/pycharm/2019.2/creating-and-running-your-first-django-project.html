<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta charset="UTF-8"></meta><meta name="robots" content="noindex"></meta><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><meta content="How to create and run a simple Django application (creating project; running Django server;&#xA;   configuring database; creating models, templates, views; launching application; testing application)" name="description" data-skip-index="skip"><title>Step 4. Creating and Running Your First Django Project - Help | PyCharm</title><link rel="stylesheet" href="/resources.jetbrains.com/storage/help-app/v3/app.css"></head><body data-id="Creating_and_Running_Your_First_framework_Project"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search PyCharm Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>PyCharm 2019.2 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="primary" value="primary_default_for_windows" selected>Default for Windows</option><option data-group="primary" value="primary_intellij_idea_classic_macos">IntelliJ IDEA Classic (macOS)</option><option data-group="primary" value="primary_default_for_gnome">Default for GNOME</option><option data-group="primary" value="primary_default_for_kde">Default for KDE</option><option data-group="primary" value="primary_sublime_text">Sublime Text</option><option data-group="primary" value="primary_eclipse">Eclipse</option><option data-group="primary" value="primary_emacs">Emacs</option><option data-group="primary" value="primary_default_for_xwin_windows">Default for XWin (Windows)</option><option data-group="secondary" value="secondary_default_for_macos">Default for macOS</option><option data-group="secondary" value="secondary_default_for_gnome">Default for GNOME</option><option data-group="secondary" value="secondary_default_for_kde">Default for KDE</option><option data-group="secondary" value="secondary_eclipse">Eclipse</option><option data-group="secondary" value="secondary_default_for_xwin_macos">Default for XWin (macOS)</option><option data-group="secondary" value="secondary_sublime_text_macos">Sublime Text (macOS)</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 data-toc="Creating_and_Running_Your_First_framework_Project" id="Creating_and_Running_Your_First_framework_Project.xml">Step 4. Creating and Running Your First Django Project</h1>          <a name="edition"></a>     <aside class="warning " data-title="" rel="Creating_and_Running_Your_First_framework_Project.xml" id="ee7dd259"><p>        This feature is only supported in the <b id="743b33b8" origin="intellij-platform">Professional</b> edition.         This edition is commercial, and it provides an outstanding set of features:          see the <a href="/pycharm/features/editions_comparison_matrix.html" data-external="true" target="_blank" rel="noopener noreferrer">comparison matrix</a> for more details.    </p></aside>   <div class="chapter"><h2 id="prereqs" data-toc="Creating_and_Running_Your_First_framework_Project#prereqs">Before you start</h2>        <p id="a32c149e">Make sure that the following prerequisites are met:</p>                <ul class="list _ul"><li class="list__item" id="da2ae82d"><p>You are working with PyCharm version 2016.1 or later. If you still do not have PyCharm, download                it from <a href="/pycharm/download/" data-external="true" target="_blank" rel="noopener noreferrer">this page</a>.                To install PyCharm, follow the instructions, depending on your platform.</p></li><li class="list__item" id="0d4a33d9"><p>You have at least one Python interpreter properly installed on your computer. You can download an                interpreter from <a href="http://python.org/download/" data-external="true" target="_blank" rel="noopener noreferrer">this page</a>.</p></li><li class="list__item" id="e305dd68"><p>You have Django package installed. To learn how to install packages using the PyCharm UI, read the                section <a href="installing-uninstalling-and-upgrading-packages.html">Install, uninstall, and upgrade packages</a>. You can also install Django                as described in the page                <a href="https://docs.djangoproject.com/en/1.8/topics/install/" data-external="true" target="_blank" rel="noopener noreferrer">How to install Django</a>. </p></li></ul>        <p id="fd350fa2">This tutorial has been created with the following assumptions:</p><ul class="list _ul"><li class="list__item" id="f8ed3dee"><p>Python 3.4.1.</p></li><li class="list__item" id="2db4a656"><p>Django 1.x (higher than Django 1.10).</p></li><li class="list__item" id="057ffad7"><p>The example used in this tutorial is similar to the one used in        <a href="https://docs.djangoproject.com/en/1.8/" data-external="true" target="_blank" rel="noopener noreferrer">Django documentation</a>.        Sample project can be downloaded from <a href="https://github.com/yzozulya/djtp_first_steps" data-external="true" target="_blank" rel="noopener noreferrer">here</a>.</p></li></ul>    </div>    <div class="chapter"><h2 id="create-project" data-toc="Creating_and_Running_Your_First_framework_Project#create-project">Creating a new project</h2>        <p id="9886e0dd">Actually, all new projects are created same way: by clicking the <span class="control">Create New Project</span> button            in the Quick Start area of the <a href="welcome-screen.html">Welcome screen</a>:</p>            <figure><img alt="Welcome screen" title="Welcome screen" src="/help/img/idea/2019.2/py_welcomeScreen.png" id="5660b444" width="700" height="970"></figure>        <p id="567ae89e">If you have an already opened project, create a new one by choosing <span data-skip-index="skip" class="menupath">File | New Project...</span>            on the main menu.</p>        <p>Then, select the desired project type (here it is Django). Specify the project name and location.          </p><p id="8e394c6e">Python best practice is to create a virtualenv for each project. To do that,                expand the <span class="control">Project Interpreter: New Virtualenv Environment</span> node and select a tool used to                create a new virtual environment. Let's choose <span class="control">Virtualenv</span> tool, and specify the location                and base interpreter used for the new virtual environment. Select the two check boxes below if necessary. </p><p>          Next, expand the <span class="control">More Settings</span> node and specify the Django-related settings.          In the <span class="control">Application name</span> field specify the application name (here it is            <span class="control">polls</span>).</p>        <figure><img alt="selecting a project type" title="selecting a project type" src="/help/img/idea/2019.2/py_choose_project_type.png" id="aea5a4f4" width="777" height="981"></figure>        <p id="c82e9a8d">Click <span class="control">Create</span> - the Django project is ready. </p>    </div>    <div class="chapter"><h2 id="whats-inside" data-toc="Creating_and_Running_Your_First_framework_Project#whats-inside">Exploring project structure</h2>        <p id="d6b57e6c">As mentioned above, basically, the stub project is ready. It contains framework-specific files and directories.            Same happens when you create a project of any supported type, be it Pyramid, or Google App Engine.</p>        <p id="9ea95c82">Let's see how the structure of the new project is visible in the <a href="project-tool-window.html">Project Tool Window</a>.</p>        <div class="chapter"><h3 id="project-view" data-toc="Creating_and_Running_Your_First_framework_Project#project-view">Project view of the Project tool window</h3>            <p id="86ec6273">This view is displayed by default. It shows the Django-specific project structure:                <span class="filepath">polls</span> and <span class="filepath">mysite</span> directories; also, you see the                <span class="filepath">manage.py</span> and <span class="filepath">settings.py</span> files.</p>            <p id="9cde22a8">Note that you cannot see the <span class="filepath">.idea</span> directory in this view:</p>            <figure><img alt="Project view" title="Project view" src="/help/img/idea/2019.2/py_project_view.png" id="958c402f" width="245" height="367"></figure>        </div>        <div class="chapter"><h3 id="project-files" data-toc="Creating_and_Running_Your_First_framework_Project#project-files">Project Files view of the Project tool window</h3>            <p id="b55971e0">If for some reasons you would like to see contents of the <span class="filepath">.idea</span> directory,                choose the view <span class="control">Project Files</span>: as you see, this view shows same directories and files,                plus <span class="filepath">.idea</span> directory, since is located under the project root:</p>            <figure><img alt="Project files" title="Project files" src="/help/img/idea/2019.2/py_project_files_view.png" id="07c6d6ef" width="245" height="491"></figure>            <p id="7d322cd2">Let's return to the Project view.</p>        </div>        <div class="chapter"><h3 id="what-see-project-view" data-toc="Creating_and_Running_Your_First_framework_Project#what-see-project-view">What do we see in the Project view?</h3>            <ul class="list _ul"><li class="list__item" id="beff6d48"><p><span class="filepath">mysite</span> directory is a container for your project. In the Project view it                    is denoted with bold font.</p></li><li class="list__item" id="42e9a635"><p><span class="filepath">manage.py</span>: This is a command-line utility that lets you interact with your                    Django project. Refer to the <a href="http://django.readthedocs.org/en/latest/ref/django-admin.html" data-external="true" target="_blank" rel="noopener noreferrer">Django documentation</a>                    for details.</p></li><li class="list__item" id="4a207a0b"><p>The nested directory <span class="filepath">mysite</span> is the actual Python package for your project.</p></li><li class="list__item" id="51adcbf1"><p><span class="filepath">mysite/__init__.py</span>: This empty file tells Python that this directory should                    be considered a Python package.</p></li><li class="list__item" id="9c6304f8"><p><span class="filepath">mysite/settings.py</span>: This file contains                    <a href="http://django.readthedocs.org/en/latest/topics/settings.html" data-external="true" target="_blank" rel="noopener noreferrer">configuration for your Django project</a>.</p></li><li class="list__item" id="37a5bd68"><p><span class="filepath">mysite/urls.py</span>: This file contains the                    <a href="http://django.readthedocs.org/en/latest/topics/http/urls.html" data-external="true" target="_blank" rel="noopener noreferrer">URL declarations for your Django project</a>.</p></li><li class="list__item" id="f4659bc6"><p><span class="filepath">mysite/wsgi.py</span>: This file defines an entry-point for WSGI-compatible web                    servers to serve your project. See                    <a href="http://django.readthedocs.org/en/latest/howto/deployment/wsgi/index.html" data-external="true" target="_blank" rel="noopener noreferrer">How to deploy with WSGI</a>                    for more details.</p></li><li class="list__item" id="73cb5b15">                    <p id="b949cfd5">The nested directory <span class="filepath">polls</span> contains all the files required for developing                        a Django application (at this moment, these files are empty):                    </p>                    <ul class="list _ul"><li class="list__item" id="7c8e79e6"><p>Again, <span class="filepath">polls/_init_.py</span> tells Python that this directory should be                            considered a Python package.</p></li><li class="list__item" id="9caf71cc"><p><span class="filepath">polls/models.py</span>: In this file, we'll                            <a href="#creating_models">create models</a> for our application.</p></li><li class="list__item" id="582d017a"><p><span class="filepath">polls/views.py</span>: In this file, we'll                            <a href="#creating_views">create views</a>.</p></li></ul>                </li><li class="list__item" id="c1127bbf"><p><span class="filepath">templates</span> directory is by now empty. It should contain the template files.</p></li><li class="list__item" id="adfe1093"><p>The nested directory <span class="filepath">migrations</span> contains by now only the package file                    <span class="filepath">_init_.py</span>, but will be used in the future to propagate the changes you                    make to your models (adding a field, deleting a model, and so on) into your database schema. Read the                    migrations description <a href="https://docs.djangoproject.com/en/1.8/topics/migrations/" data-external="true" target="_blank" rel="noopener noreferrer">here</a>.</p></li></ul>            <p id="3ea5a4ce">Note that you can create as many Django applications as needed. To add an application to a project, run the                <code class="code">startapp</code> task of the <span class="filepath">manage.py</span> utility                (<span data-skip-index="skip" class="menupath">Tools | Run manage.py task</span>, then type <code class="code">startapp</code> in the console).</p>        </div>    </div>    <div class="chapter"><h2 id="database-configure" data-toc="Creating_and_Running_Your_First_framework_Project#database-configure">Configuring the database</h2>    <p id="d30045ae">Now, when the project stub is ready, let's do some fine tuning. Open for editing <span class="filepath">settings.py</span>.        To do it, select the file in the Project tool window, and press <kbd data-primary_default_for_windows="F4" data-primary_intellij_idea_classic_macos="F4" data-primary_default_for_gnome="F4" data-primary_default_for_kde="F4" data-primary_sublime_text="F4" data-primary_eclipse="F12" data-primary_emacs="F4" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⌘↓" data-secondary_default_for_gnome="F4" data-secondary_default_for_kde="F4" data-secondary_eclipse="F12" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="N/A">F4</kbd>. The file opens in        its own tab in the editor.</p>    <p id="cb641e01">Specify which database you are going to use in your application. For this purpose, find the        <code class="code">DATABASES</code> variable: click <kbd data-primary_default_for_windows="Ctrl+F" data-primary_intellij_idea_classic_macos="⌘+F" data-primary_default_for_gnome="Ctrl+F" data-primary_default_for_kde="Ctrl+F" data-primary_sublime_text="Ctrl+F" data-primary_eclipse="N/A" data-primary_emacs="Ctrl+Alt+S" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⌘F" data-secondary_default_for_gnome="⌃F" data-secondary_default_for_kde="⌃F" data-secondary_eclipse="N/A" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="⌘F">Ctrl+F</kbd>, and in the search field start typing        the string you are looking for. Then, in the <code class="code">'ENGINE'</code> line, add the name of your        database management system after dot (you can use any one specified after comment, but for the beginning we'll        start with <span class="filepath">sqlite3</span>.)</p>    <p id="46c9c9b7">In the <code class="code">'NAME'</code> line, enter the name of the desired database, even though it doesn't yet exist.</p>    <figure><img alt="Define database" title="Define database" src="/help/img/idea/2019.2/py_db_config.png" id="90bd8a88" width="455" height="324"></figure></div>    <div class="chapter"><h2 id="launch-server" data-toc="Creating_and_Running_Your_First_framework_Project#launch-server">Launching Django server</h2>        <p id="7b15bfd1">Since we've prudently chosen <span class="filepath">sqlite3</span>, we don't need to define the other values            (user credentials, port and host). Let's now check whether our settings are correct. This can be done most            easily: just launch the <code class="code">runserver</code> task of the <span class="filepath">manage.py</span>            utility: press <kbd data-primary_default_for_windows="Ctrl+Alt+R" data-primary_intellij_idea_classic_macos="Alt+R" data-primary_default_for_gnome="Ctrl+Alt+R" data-primary_default_for_kde="Ctrl+Alt+R" data-primary_sublime_text="Ctrl+Alt+R" data-primary_eclipse="N/A" data-primary_emacs="Ctrl+Alt+R" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⌥R" data-secondary_default_for_gnome="⌃⌥R" data-secondary_default_for_kde="⌃⌥R" data-secondary_eclipse="N/A" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="⌥R">Ctrl+Alt+R</kbd>, and enter task name in the            <span class="filepath">manage.py</span> console:</p>        <figure><img alt="Running manage.py in the console" title="Running manage.py in the console" src="/help/img/idea/2019.2/py_runserver.png" id="2530468b" width="676" height="470"></figure>        <p id="e4206366">Follow the suggested link and see the following page:</p>        <figure><img alt="Preview the page" title="Preview the page" src="/help/img/idea/2019.2/py_runserver_result.png" id="42bc07e5" width="604" height="162"></figure>    </div>    <div class="chapter"><h2 id="creating_models" data-toc="Creating_and_Running_Your_First_framework_Project#creating_models">Creating models</h2>        <p id="b6c6a6ad">Next, open for editing the file <span class="filepath">models.py</span>, and note that import statement is            already there. Then type the following code:</p>        <div class="code-block" data-lang="python">
 from django.db import models

 # the following lines added:
 import datetime
 from django.utils import timezone

 class Question(models.Model):
    question_text = models.CharField(max_length=200)
    pub_date = models.DateTimeField('date published')

    def __str__(self):
        return self.question_text

    def was_published_recently(self):
        now = timezone.now()
        return now - datetime.timedelta(days=1) &lt;= self.pub_date &lt;= now

    was_published_recently.admin_order_field = 'pub_date'
    was_published_recently.boolean = True
    was_published_recently.short_description = 'Published recently?'

 class Choice(models.Model):
     question = models.ForeignKey(Question, on_delete=models.DO_NOTHING,)
     choice_text = models.CharField(max_length=200)
     votes = models.IntegerField(default=0)

     def __str__(self):
         return self.choice_text
 </div>        <p id="454f0e2e">Actually, you can just copy-paste, but typing is advisable - it helps you see the powerful PyCharm's code            completion in action:</p>        <figure><img alt="Using code competion" title="Using code competion" src="/help/img/idea/2019.2/py_completion.png" id="1b372bcf" width="244" height="105"></figure>    </div>    <div class="chapter"><h2 id="database-create" data-toc="Creating_and_Running_Your_First_framework_Project#database-create">Creating database</h2>    <p id="dd141462">We have to create tables for the new model. For this purpose, we'll use the magic    <kbd data-primary_default_for_windows="Ctrl+Alt+R" data-primary_intellij_idea_classic_macos="Alt+R" data-primary_default_for_gnome="Ctrl+Alt+R" data-primary_default_for_kde="Ctrl+Alt+R" data-primary_sublime_text="Ctrl+Alt+R" data-primary_eclipse="N/A" data-primary_emacs="Ctrl+Alt+R" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⌥R" data-secondary_default_for_gnome="⌃⌥R" data-secondary_default_for_kde="⌃⌥R" data-secondary_eclipse="N/A" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="⌥R">Ctrl+Alt+R</kbd> shortcut to invoke the <span class="filepath">manage.py</span> console.        First command to perform is <code class="code">makemigrations polls</code>:</p>        <figure><img alt="executing makemigrations" title="executing makemigrations" src="/help/img/idea/2019.2/py_makemigration.png" id="786a1df7" width="675" height="460"></figure>        <p id="c40c33fd">Thus you’ve told Django that two new models have been created, namely, <code class="code">Choice</code>            and <code class="code">Question</code>, and created a migration:</p>        <figure><img alt="migration" title="migration" src="/help/img/idea/2019.2/py_makemigration1.png" id="55933f18" width="551" height="498"></figure>        <p id="76c47b97">Next, after the prompt, type the following command:</p>        <code class="code">sqlmigrate polls 0001</code>        <figure><img alt="executing sqlmigrate pools 0001" title="executing sqlmigrate pools 0001" src="/help/img/idea/2019.2/py_sqlmigrate.png" id="5f2517f1" width="676" height="682"></figure>        <p id="8f3fa521">Finally, run <code class="code">migrate</code> command to actually create these tables in your database:</p>        <figure><img alt="creating tables in the database" title="creating tables in the database" src="/help/img/idea/2019.2/py_migrate.png" id="64f4d2e4" width="676" height="636"></figure>    </div>    <div class="chapter"><h2 id="adm-functions" data-toc="Creating_and_Running_Your_First_framework_Project#adm-functions">Performing administrative functions</h2>        <p id="48184739">First thing, create a superuser. To do that, type the <code class="code">createsuperuser</code> command in            the <span class="filepath">manage.py</span> console, specify your email address, and password:</p>        <figure><img alt="creating a superuser" title="creating a superuser" src="/help/img/idea/2019.2/py_superuser.png" id="8062e409" width="677" height="539"></figure>        <p id="5c369ee1">Since we've decided to enable site administration, PyCharm has already uncommented the corresponding lines            in the file <span class="filepath">urls.py</span>.</p>        <p id="5435f3a0">Open the <span class="filepath">admin.py</span> file in the <span class="filepath">polls</span> directory for            editing, and see the following code that already exists:</p>        <div class="code-block" data-lang="python">
from django.contrib import admin
        </div>        <p id="5041a82d">However, we need to enable editing functionality for the admin site.</p>        <div class="chapter"><h3 id="prepare-run-config" data-toc="Creating_and_Running_Your_First_framework_Project#prepare-run-config">Preparing run/debug configuration</h3>            <p id="3bae05bc">We are now ready to go to the admin page. Sure, it is quite possible to run the Django server, then go                to your browser, and type the entire URL in the address bar, but with PyCharm there is an easier way: use                the pre-configured Django server run configuration with some slight modifications.</p>            <a name="default-working-dir-warning"></a>    <aside class="warning " data-title="" rel="prepare-run-config" id="ab3837da"><p>      Do not set up a working directory for the default Run/Debug Configurations listed under the <span class="control">Templates</span> node.      This may lead to unresolved targets in newly created Run/Debug Configurations.    </p></aside>              <p id="ebe64644">To open this run/debug configuration for editing, on the main toolbar, click the run/debug configurations                selector, and then choose <span class="control">Edit Configurations</span> (or choose                <span data-skip-index="skip" class="menupath">Run | Edit Configurations</span> from the main menu):</p>            <figure><img alt="Editing Run/Debug configuration" title="Editing Run/Debug configuration" src="/help/img/idea/2019.2/py_edit_runconfig.png" id="ab0aaef1" width="279" height="178"></figure>            <p id="44e74530">In the <a href="run-debug-configuration-django-server.html">Run/Debug Configuration dialog</a>, give this                run/debug configuration a name (here it is <code class="code">mysite</code>), enable running the application                in the default browser (select the checkbox <span class="control">Run browser</span>) and specify the page of the site                to be opened by default (here this page is <span class="filepath">http://127.0.0.1:8000/admin/</span>):</p>            <figure><img alt="setting the default web page" title="setting the default web page" src="/help/img/idea/2019.2/py_runconfig.png" id="20108a72" width="650" height="1213"></figure>        </div>        <div class="chapter"><h3 id="launch-admin-site" data-toc="Creating_and_Running_Your_First_framework_Project#launch-admin-site">Launching the admin site</h3>            <p id="bbeff94d">Now, to launch the application, press <kbd data-primary_default_for_windows="Shift+F10" data-primary_intellij_idea_classic_macos="Shift+F10" data-primary_default_for_gnome="Shift+F10" data-primary_default_for_kde="Shift+F10" data-primary_sublime_text="Shift+F10" data-primary_eclipse="Shift+Alt+X" data-primary_emacs="Shift+F10" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⌃R" data-secondary_default_for_gnome="⇧F10" data-secondary_default_for_kde="⇧F10" data-secondary_eclipse="⌥⇧X" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="N/A">Shift+F10</kbd>, or click <img class="inline-icon-16" src="/help/img/idea/2019.2/icons.toolwindows.toolWindowRun.svg@2x.png" width="16" alt="run"> on the main toolbar to                open the standard Django site login page:</p>            <figure><img alt="login page" title="login page" src="/help/img/idea/2019.2/py_login_page.png" id="b6db003c" width="352" height="185"></figure>            <p id="eeae5463">After you log in, the administration page is displayed. It has a section <span class="control">Authentication and                Authorization (Groups and Users)</span>, but <span class="control">Polls</span> is not available. Why so?</p>            <p id="1d383d68">We must tell admin that Question objects have an admin interface; to do that, let’s open the file                <span class="filepath">polls/admin.py</span> for editing (select it in Project view and press                <kbd data-primary_default_for_windows="F4" data-primary_intellij_idea_classic_macos="F4" data-primary_default_for_gnome="F4" data-primary_default_for_kde="F4" data-primary_sublime_text="F4" data-primary_eclipse="F12" data-primary_emacs="F4" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⌘↓" data-secondary_default_for_gnome="F4" data-secondary_default_for_kde="F4" data-secondary_eclipse="F12" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="N/A">F4</kbd>), and type the following code:</p>            <div class="code-block" data-lang="python">
from django.contrib import admin
from .models import Question #this line added
admin.site.register(Question)#this line added
            </div>            <p id="68350b23">Again pay attention to the code completion:</p>            <figure><img alt="code completion" title="code completion" src="/help/img/idea/2019.2/py_completion1.png" id="83b18ab5" width="507" height="215"></figure>            <p id="c5eaaba3">Refresh the page and see that <span class="control">Polls</span> section with <span class="control">Questions</span> appeared:</p>            <figure><img alt="site administration page" title="site administration page" src="/help/img/idea/2019.2/py_site_admin_page.png" id="313a97bd" width="657" height="357"></figure>            <p id="28c335b2">Click <span class="control">Add</span> to create some questions.</p>        </div>        <div class="chapter"><h3 id="edit-admin-py" data-toc="Creating_and_Running_Your_First_framework_Project#edit-admin-py">Editing admin.py</h3>            <p id="6f974635">However, each question has a number of choices, but choices are still not available. Again, open for editing                the file <span class="filepath">polls/admin.py</span> and change it as follows:</p>            <div class="code-block" data-lang="python">
from django.contrib import admin
from .models import Choice, Question

class ChoiceInline(admin.TabularInline):
    model = Choice
    extra = 3

class QuestionAdmin(admin.ModelAdmin):
    fieldsets = [
            (None,               {'fields': ['question_text']}),
            ('Date information', {'fields': ['pub_date'], 'classes': ['collapse']}),
                ]
    inlines = [ChoiceInline]

admin.site.register(Question, QuestionAdmin)
            </div>            <p id="29136344">Now look at the <span class="control">Change question</span> page:</p>            <figure><img alt="Change question page" title="Change question page" src="/help/img/idea/2019.2/py_change_question.png" id="344f5ae7" width="853" height="596"></figure>        </div>    </div>    <div class="chapter"><h2 id="creating_views" data-toc="Creating_and_Running_Your_First_framework_Project#creating_views">Writing views</h2>        <p id="df08a7d5">Open the file <span class="filepath">polls/views.py</span> for editing and type the following Python code:</p>        <div class="code-block" data-lang="python">
from django.http import HttpResponse

def index(request):
    return HttpResponse("Hello, world. You're at the polls index.")
        </div>        <p id="214fca00">Next, add a new file to the <span class="filepath">polls</span> directory with the name            <span class="filepath">urls.py</span> and type the following code in it:</p>        <div class="code-block" data-lang="python">
from django.conf.urls import url
from . import views
urlpatterns = [
    url(r'^$', views.index, name='index'),
]
        </div>        <p id="e414ffb1">Next, open for editing the file <span class="filepath">mysite/urls.py</span> (which PyCharm has already            created for you) and add a URL for the index page. You should end up with the following code:</p>        <div class="code-block" data-lang="python">
from django.conf.urls import include, url
from django.contrib import admin
urlpatterns = [
    url(r'^polls/', include('polls.urls')), #this line added
    url(r'^admin/', admin.site.urls),
]
        </div>        <p id="c7b00fdf">Now, open the page <span class="filepath">127.0.0.1:8000/polls/</span> and enjoy:</p>        <figure><img alt="start page" title="start page" src="/help/img/idea/2019.2/py_result1.png" id="2bb7cbc2" width="514" height="190"></figure>        <p id="554c1260">Next, let’s add more views. Again, add the following code to the file <span class="filepath">polls/views.py</span>:</p>        <div class="code-block" data-lang="python">
def detail(request, question_id):
    return HttpResponse("You're looking at question %s." % question_id)

def results(request, question_id):
    response = "You're looking at the results of question %s."
    return HttpResponse(response % question_id)

def vote(request, question_id):
    return HttpResponse("You're voting on question %s." % question_id)
        </div>        <p id="455d4e2e">Wire these new views into the <code class="code">polls.urls</code> module by adding the following <code class="code">url()</code> calls            :</p>        <div class="code-block" data-lang="python">
from django.conf.urls import url
from . import views

urlpatterns = [
url(r'^$', views.index, name='index'),
# ex: /polls/5/
url(r'^(?P&lt;question_id&gt;[0-9]+)/$', views.detail, name='detail'),
# ex: /polls/5/results/
url(r'^(?P&lt;question_id&gt;[0-9]+)/results/$', views.results, name='results'),
# ex: /polls/5/vote/
url(r'^(?P&lt;question_id&gt;[0-9]+)/vote/$', views.vote, name='vote'),
]
        </div>        <p id="f555672d">If you now open the corresponding pages in your browser, you will see, for example:</p>        <figure><img alt="application pages" title="application pages" src="/help/img/idea/2019.2/py_result2.png" id="492aaae9" width="567" height="489"></figure>    </div>    <div class="chapter"><h2 id="create-templates" data-toc="Creating_and_Running_Your_First_framework_Project#create-templates">Creating Django templates</h2>        <p id="8c8443f3">As you see, the design of these pages is hardcoded in views. So, to make it more readable, you have to edit            the corresponding Python code. Let’s then separate the visual representation of the output from Python            - to do that, let’s create templates.</p>        <p id="494d1189">Open for editing the file <span class="filepath">polls/views.py</span> and replace its contents with the            following code: </p>        <div class="code-block" data-lang="python">
from django.http import HttpResponse, HttpResponseRedirect
from django.shortcuts import get_object_or_404, render
from django.urls import reverse

from .models import Question, Choice


def index(request):
    latest_question_list = Question.objects.order_by('-pub_date')[:5]
    context = {'latest_question_list': latest_question_list}
    return render(request, 'polls/index.html', context)


def detail(request, question_id):
    question = get_object_or_404(Question, pk=question_id)
    return render(request, 'polls/detail.html', {'question': question})


def results(request, question_id):
    question = get_object_or_404(Question, pk=question_id)
    return render(request, 'polls/results.html', {'question': question})


def vote(request, question_id):
    question = get_object_or_404(Question, pk=question_id)
    try:
        selected_choice = question.choice_set.get(pk=request.POST['choice'])
    except (KeyError, Choice.DoesNotExist):
        return render(request, 'polls/detail.html', {
            'question': question,
            'error_message': "You didn't select a choice.",
        })
    else:
        selected_choice.votes += 1
        selected_choice.save()
        return HttpResponseRedirect(reverse('polls:results', args=(question.id,)))
        </div>        <p id="0d1e4c5e">By the way, pay attention to the import assistant that helps you create import statements.</p>        <p id="e28ab232">The first thing you notice is an unresolved reference to the page <span class="filepath">index.html</span>:</p>        <figure><img alt="view.py code" title="view.py code" src="/help/img/idea/2019.2/py_template1.png" id="4b7be1b0" width="575" height="232"></figure>        <p id="4e15d734">PyCharm suggests a <a href="intention-actions.html">quick-fix</a>: if you click the light bulb, or press            <kbd data-primary_default_for_windows="Alt+Enter" data-primary_intellij_idea_classic_macos="Alt+Enter" data-primary_default_for_gnome="Alt+Enter" data-primary_default_for_kde="Alt+Enter" data-primary_sublime_text="Alt+Enter" data-primary_eclipse="Alt+Enter" data-primary_emacs="Alt+Enter" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⌥⏎" data-secondary_default_for_gnome="⌥⏎" data-secondary_default_for_kde="⌥⏎" data-secondary_eclipse="⌥⏎" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="⌥⏎">Alt+Enter</kbd>, the corresponding template file is created in the templates folder            (note that PyCharm also creates the directory <span class="filepath">polls</span> where this template should            reside):</p>        <figure><img alt="creating a template" title="creating a template" src="/help/img/idea/2019.2/py_template2.png" id="a818b6d7" width="663" height="317"></figure>        <p id="25afc206">By now, the file <span class="filepath">index.html</span> is empty. Add the following code to it:</p>        <div class="code-block" data-lang="python">
 {% load staticfiles %}
 &lt;link rel="stylesheet" type="text/css" href="{% static 'polls/style.css' %}" /&gt;
 {% if latest_question_list %}
            &lt;ul&gt;
     {% for question in latest_question_list %}
            &lt;li&gt;&lt;a href="{% url 'detail' question.id %}"&gt;{{ question.question_text }}&lt;/a&gt;&lt;/li&gt;
     {% endfor %}
        &lt;/ul&gt;
 {% else %}
            &lt;p&gt;No polls are available.&lt;/p&gt;
 {% endif %}
        </div>        <p id="61d53e3e">Note <a href="auto-completing-code.html">code completion</a> in the template files! For example, when you type the opening            <code class="code">{%</code>, PyCharm adds the matching closing one <code class="code">%}</code>            automatically, placing the caret at the location of the future input. In HTML            tags, code completion is also available.</p>        <p id="8f59ca73">Pay attention to the icons <img class="inline-icon-16" src="/help/img/idea/2019.2/icons.fileTypes.html.svg@2x.png" width="16" alt="html type"> and <img alt="python type" title="python type" src="/help/img/idea/2019.2/pythonScript.png" id="670f5bb3" width="20" height="24" class="inline-icon-20"> that appear in the            left gutter of the files <span class="filepath">views.py</span> and <span class="filepath">index.html</span>            respectively:</p>        <figure><img alt="viewing html and python code" title="viewing html and python code" src="/help/img/idea/2019.2/py_template3.png" id="60c0078c" width="511" height="366"></figure><p id="e1b802ac">These icons enable you to jump between a view method and its template straight away. Read more about this kind of    navigation in the articles <a href="navigating-between-templates-and-views.html">Navigating Between Templates and Views</a> and    <a href="part-6-framework-specific-navigation.html">Part 6. Django-Specific Navigation</a>.</p>    </div>    <div class="chapter"><h2 id="stylesheet" data-toc="Creating_and_Running_Your_First_framework_Project#stylesheet">Using a Style Sheet</h2>        <p id="098d1596">As you can see in the view file <span class="filepath">index.html</span>, there is a reference to a Style Sheet,            and it’s unresolved:</p>        <p id="155048cf">Resolve this reference in the following way:</p>        <ol class="list _decimal"><li class="list__item" id="1c511b88">                <p id="7665f071">Create directory. To do that, in the Project view, select the Python package <span class="filepath">polls</span>,                    and then press <kbd data-primary_default_for_windows="Alt+Insert" data-primary_intellij_idea_classic_macos="Ctrl+N" data-primary_default_for_gnome="Alt+Insert" data-primary_default_for_kde="Alt+Insert" data-primary_sublime_text="Alt+Insert" data-primary_eclipse="Alt+Insert" data-primary_emacs="Alt+Insert" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⌘N" data-secondary_default_for_gnome="N/A" data-secondary_default_for_kde="N/A" data-secondary_eclipse="N/A" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="⌘N">Alt+Insert</kbd>.                </p>                <p id="d8eae510">On the popup menu that appears, choose <span class="control">Directory</span>, and specify the name of the                directory structure <span class="filepath">static/polls</span>.</p></li><li class="list__item" id="dcd236c2"><p>Next, create a Style Sheet in this directory. To do that, choose the innermost directory                <span class="filepath">polls</span>, press <kbd data-primary_default_for_windows="Alt+Insert" data-primary_intellij_idea_classic_macos="Ctrl+N" data-primary_default_for_gnome="Alt+Insert" data-primary_default_for_kde="Alt+Insert" data-primary_sublime_text="Alt+Insert" data-primary_eclipse="Alt+Insert" data-primary_emacs="Alt+Insert" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⌘N" data-secondary_default_for_gnome="N/A" data-secondary_default_for_kde="N/A" data-secondary_eclipse="N/A" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="⌘N">Alt+Insert</kbd>, choose the option                <span class="control">Stylesheet</span>, and enter style in the dialog that opens.</p></li><li class="list__item" id="cc018318"><p>Provide some contents to the created Style Sheet, depending on your preferences. For example, we’d like to                see a bulleted list of questions colored green:            <div class="code-block" data-lang="markup">
li a {
color: green;
}
            </div>            </p></li></ol>    </div>    <div class="chapter"><h2 id="results" data-toc="Creating_and_Running_Your_First_framework_Project#results">Here we are!</h2>        <p id="80d57318">Now let's check the list of available polls. Our admin site is already running, and the easiest way to visit            the page that contains the list of polls (the index page), is to specify its URL: in the address bar of the            browser, instead of <span class="filepath">/admin/</span>, type <span class="filepath">/polls/</span>:</p>        <figure><img alt="polls" title="polls" src="/help/img/idea/2019.2/py_result3.png" id="8ae47363" width="303" height="169"></figure>    </div>    <div class="chapter"><h2 id="test" data-toc="Creating_and_Running_Your_First_framework_Project#test">Test it…</h2>        <p id="7dc97203">Now let’s see how PyCharm helps simplify testing your application.</p>        <p id="7f75912c">There is already the file <span class="filepath">tests.py</span> in the <span class="filepath">polls</span> directory.            By now, this file is empty. Naturally, it is advisable to place the new tests in this particular file.        For example, we'd like to make sure our poll is not empty:</p>        <div class="code-block" data-lang="python">
 import datetime
 from django.urls import reverse
 from django.test import TestCase
 from django.utils import timezone
 from .models import Question
 def create_question(question_text, days):
    time = timezone.now() + datetime.timedelta(days=days)
    return Question.objects.create(question_text=question_text, pub_date=time)

 class QuestionViewTests(TestCase):
    def test_index_view_with_no_questions(self):
        """
        If no questions exist, an appropriate message should be displayed.
        """
        response = self.client.get(reverse('index'))
        self.assertEqual(response.status_code, 200)
        self.assertContains(response, "No polls are available.")
        self.assertQuerysetEqual(response.context['latest_question_list'], [])
        </div>        <p id="8dc9b427">To run this test, right-click the background of the file <span class="filepath">tests.py</span> in the editor,            choose the option <span class="control">Run</span>, or just press <kbd data-primary_default_for_windows="Ctrl+Shift+F10" data-primary_intellij_idea_classic_macos="Ctrl+Shift+F10" data-primary_default_for_gnome="Ctrl+Shift+F10" data-primary_default_for_kde="Ctrl+Shift+F10" data-primary_sublime_text="Ctrl+Shift+F10" data-primary_eclipse="Ctrl+Shift+F10" data-primary_emacs="Ctrl+Shift+F10" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⌃⇧R" data-secondary_default_for_gnome="⌃⇧F10" data-secondary_default_for_kde="⌃⇧F10" data-secondary_eclipse="⌃⇧F10" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="N/A">Ctrl+Shift+F10</kbd>. PyCharm            suggests two options: run UnitTest (which is defined as the            <a href="settings-tools-python-integrated-tools.html">default test runner</a>), or a Django test. </p>                <p id="06ffdbdb">The test results show in the <a href="test-runner-tab.html">Test Runner</a> tab of the Run tool window:</p>        <figure><img alt="running tests" title="running tests" src="/help/img/idea/2019.2/py_test_run2.png" id="05e84599" width="676" height="428"></figure>    </div>    <div class="chapter"><h2 id="summary" data-toc="Creating_and_Running_Your_First_framework_Project#summary">Summary</h2>        <p id="e7e16f4d">This brief tutorial is over. You have successfully created and launched a simple Django application.            Let's repeat what has been done with the help of PyCharm:</p>        <ul class="list _ul"><li class="list__item" id="8ac5b2df"><p>A Django project and application have been created</p></li><li class="list__item" id="67e0f846"><p>The Django server launched</p></li><li class="list__item" id="ae0bf7ae"><p>A database configured</p></li><li class="list__item" id="db05a7c8"><p>Models, views and templates created</p></li><li class="list__item" id="ac5c8404"><p>The application launched</p></li><li class="list__item" id="bc2f4524"><p>Tests created and executed</p></li></ul>    </div><div class="last-modified" data-skip-index="skip">Last modified: 6 November 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="testing-your-first-python-application.html">Step 3. Testing Your First Python Application</a><a class="navigation-links__next" href="mastering-keyboard-shortcuts.html">Mastering PyCharm keyboard shortcuts</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>