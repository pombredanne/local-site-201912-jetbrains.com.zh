<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>使用文档字符串指定类型-帮助|帮助PyCharm</title><link rel="stylesheet" href="/resources.jetbrains.com/storage/help-app/v3/app.css"></head><body  data-id="Using_Docstrings_to_Specify_Types" data-article-props="
                {
                
            " seeals=":[=" titl=":=" language="" and="" framework-specific="" guideline=",=" link=":=" ur=":" type-hinting-in-product.htm="," tex=":" type="" hinting="" in="" pychar="}=" debugger-python.htm="," python="" debugge="}=" web="" resource=",=" http:="" ="" devnet.jetbrains.com="" community="" python?view="documents" developer="" communit="}="><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索PyCharm帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>PyCharm 2019.2帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option value="primary_default_for_windows" data-group="primary" selected>Windows默认</option><option value="primary_intellij_idea_classic_macos" data-group="primary">IntelliJ IDEA经典版（macOS）</option><option value="primary_default_for_gnome" data-group="primary">GNOME的默认设置</option><option value="primary_default_for_kde" data-group="primary">KDE的默认值</option><option value="primary_sublime_text" data-group="primary">崇高文字</option><option value="primary_eclipse" data-group="primary">日食</option><option value="primary_emacs" data-group="primary">埃马克斯</option><option value="primary_default_for_xwin_windows" data-group="primary">XWin的默认设置（Windows）</option><option value="secondary_default_for_macos" data-group="secondary">macOS的默认设置</option><option value="secondary_default_for_gnome" data-group="secondary">GNOME的默认设置</option><option value="secondary_default_for_kde" data-group="secondary">KDE的默认值</option><option value="secondary_eclipse" data-group="secondary">日食</option><option value="secondary_default_for_xwin_macos" data-group="secondary">XWin的默认设置（macOS）</option><option value="secondary_sublime_text_macos" data-group="secondary">崇高文字（macOS）</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 id="Using_Docstrings_to_Specify_Types.xml" data-toc="Using_Docstrings_to_Specify_Types">使用文档字符串指定类型</h1>                           <div class="chapter"><h2 id="intro" data-toc="Using_Docstrings_to_Specify_Types#intro">介绍</h2>          <p id="607a905b">您可以永久调试代码，现在在调试过程中，您还可以收集类型信息，并在文档字符串中指定这些类型。</p>          <p id="500fb77b">PyCharm提供了一种意图操作，使在运行时收集类型信息和定义类型规范成为可能。</p>          <p id="12fd2bbb">但是，很可能无需调试器即可手动指定参数的类型。</p>          <p id="fb4f7e4d">在<a href="#example">示例</a>一节中探讨了这两种情况。</p>      </div>      <div class="chapter"><h2 id="prereq" data-toc="Using_Docstrings_to_Specify_Types#prereq">先决条件</h2>          <p id="3d0ab55c">确保已选中编辑器设置的“ <a href="settings-smart-keys.html">智能键”</a>页面中的“ <span class="control">插入类型占位符</span> ”复选框。</p>          <p id="4d14e82c">还要注意，所有后续示例都使用reStructuredText，但是可以使用文档字符串的任何受支持格式，无论是纯文本，Epytext，Google还是NumPy。有关详细信息，请参见页面<a href="settings-tools-python-integrated-tools.html">Python Integrated Tools</a>的描述。</p>      </div>      <div class="chapter"><h2 id="param-type-specification" data-toc="Using_Docstrings_to_Specify_Types#param-type-specification">参数类型规格</h2>        <section class="procedure-steps"><h3 id="4e930c79">要指定参数类型，请遵循以下常规步骤</h3><ol class="list _decimal"><li class="list__item" id="43658dd6"><p>将插入号放在函数名称上，然后按<kbd data-primary_default_for_windows="Alt+Enter" data-primary_intellij_idea_classic_macos="Alt+Enter" data-primary_default_for_gnome="Alt+Enter" data-primary_default_for_kde="Alt+Enter" data-primary_sublime_text="Alt+Enter" data-primary_eclipse="Alt+Enter" data-primary_emacs="Alt+Enter" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⌥⏎" data-secondary_default_for_gnome="⌥⏎" data-secondary_default_for_kde="⌥⏎" data-secondary_eclipse="⌥⏎" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="⌥⏎">Alt+Enter</kbd> 。</p></li><li class="list__item" id="893b3a16"><p>在打开的意图操作列表中，选择<span class="control">插入文档字符串存根</span> 。PyCharm根据在调试器会话期间收集的所选文档字符串格式和类型说明创建文档存根。</p></li></ol></section>      </div>      <div class="chapter"><h2 id="example" data-toc="Using_Docstrings_to_Specify_Types#example">例</h2>        <p id="a0f442de">考虑以下代码：</p>        <div class="code-block" data-lang="python">导入数学类SimpleEquation：def demo（self，a，b，c）：d = math.sqrt（b ** 2-4 * a * c）root1 =（-b + d）/（2 * a）root2 = （-b-d）/（2 * a）打印（root1，root2）SimpleEquation（）。demo（3，2，1）</div>        <p id="5d89cd21">让我们假设在<a href="settings-tools-python-integrated-tools.html">Python Integrated Tools</a>页面上选择了<span class="emphasis">reStructuredText</span>作为docstring格式。</p>        <div class="chapter"><h3 id="a715f6de">手动地</h3>        <p id="fd8e496e">将插入符号放在函数名称（此处是<code class="code">demo</code> ）。建议的意图操作是<span class="control">插入文档字符串存根</span> （有关详细信息，请参阅<a href="creating-documentation-comments.html">创建文档注释</a>部分）。单击此意图可在以下位置生成文档注释存根： <code class="code">reStructuredText</code>格式：</p>          <figure><img alt="结算示例" title="结算示例" src="/help/img/idea/2019.2/docstring_example_1.png" id="25f5e5ff" width="324" height="369"></figure>          <p id="8b26533e">然后，手动指定所需的参数类型：</p>          <figure><img alt="结算示例" title="结算示例" src="/help/img/idea/2019.2/docstring_example_10.png" id="b0c7ac4d" width="320" height="372"></figure>          <p id="d25c8d17">顺便说一句，您可以使用该功能的<a href="viewing-reference-information.html#inline-quick-documentation">快速文档</a> 。如果将插入号放在函数名称处，然后按<kbd data-primary_default_for_windows="Ctrl+Q" data-primary_intellij_idea_classic_macos="Ctrl+J" data-primary_default_for_gnome="Ctrl+Q" data-primary_default_for_kde="Ctrl+Q" data-primary_sublime_text="N/A" data-primary_eclipse="Alt+Button2 Click" data-primary_emacs="Ctrl+Q" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="F1" data-secondary_default_for_gnome="⌃Q" data-secondary_default_for_kde="⌃Q" data-secondary_eclipse="⌥Button2 Click" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="N/A">Ctrl+Q</kbd> ， 你会看见：</p>          <figure><img alt="快速文档窗口中的文档" title="快速文档窗口中的文档" src="/help/img/idea/2019.2/docstring_example_10_quick_documentation.png" id="32b448ae" width="370" height="450"></figure>          <div class="chapter"><h4 id="fd715534">有关reStructuredText / Sphinx的重要说明</h4>              <p id="f2a1e537">请注意，对于reStructuredText，可以用两种格式指定类型：</p>          <ul class="list _ul"><li class="list__item" id="775daa63"><p><code class="code">:param param_type param_name: parameter description</code> （类型描述与参数描述在同一行）。</p></li><li class="list__item" id="ba56195e"><p><code class="code">:type param_name: param_type</code> （类型描述在单独的行上）</p></li></ul>          <p id="5936f94b">两种变体如下所示：</p>          <figure><img alt="使用reStructuredText指定类型" title="使用reStructuredText指定类型" src="/help/img/idea/2019.2/docstring_example_100.png" id="d05c3c56" width="332" height="370"></figure>          </div>        </div>          <div class="chapter"><h3 id="e75ef809">借助调试器</h3>        <p id="6ade72c7">现在，在“设置/首选项”对话框的“ <a href="debugger-python.html">Python调试器”</a>页面中，选中“ <span class="emphasis">收集运行时信息以进行代码洞察</span> ”复选框。</p>        <p id="7b3cdae6">调试函数调用，然后使用意图操作再次<span class="control">插入文档字符串存根</span> 。在调试会话期间获取的有关参数和返回值的信息将用于在文档字符串中预填充类型注释。</p>          <figure><img alt="插入文档字符串存根" title="插入文档字符串存根" src="/help/img/idea/2019.2/docstring_example_2.png" id="ae5109bf" width="291" height="194"></figure>          <p id="04fc8921">得到的结果是：</p>          <figure><img alt="获取调试结果的文档字符串示例" title="获取调试结果的文档字符串示例" src="/help/img/idea/2019.2/docstring_example_11.png" id="bf9cc4d0" width="297" height="316"></figure>        </div>      </div>    <div class="last-modified" data-skip-index="skip">上次修改时间：2019年11月6日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="generating-reference-documentation.html">生成参考文档文档</a> <a class="navigation-links__next" href="type-syntax-for-docstrings.html">字符串的传统类型语法</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>