<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>使用PyCharm中的高级Vagrant功能-帮助|帮助PyCharm</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body  data-id="Using_the_Advanced_Vagrant_Features_in_product" data-article-props="
                {
                
            " seeals=":[=" titl=":=" referenc=",=" link=",=" ur=":" vagrant.htm="," tex=":" vagran="}=" language="" and="" framework-specific="" guideline=",=" vagrant-support.htm="," external="" http:="" ="" docs.vagrantup.co="}=" https:="" www.virtualbox.org="" ="," ="}=" =" "><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索PyCharm帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>PyCharm 2019.2帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option value="primary_default_for_windows" data-group="primary" selected>Windows的默认设置</option><option value="primary_intellij_idea_classic_macos" data-group="primary">IntelliJ IDEA经典版（macOS）</option><option value="primary_default_for_gnome" data-group="primary">GNOME的默认设置</option><option value="primary_default_for_kde" data-group="primary">KDE的默认值</option><option value="primary_sublime_text" data-group="primary">崇高文字</option><option value="primary_eclipse" data-group="primary">日食</option><option value="primary_emacs" data-group="primary">埃马克斯</option><option value="primary_default_for_xwin_windows" data-group="primary">XWin的默认设置（Windows）</option><option value="secondary_default_for_macos" data-group="secondary">macOS的默认设置</option><option value="secondary_default_for_gnome" data-group="secondary">GNOME的默认设置</option><option value="secondary_default_for_kde" data-group="secondary">KDE的默认值</option><option value="secondary_eclipse" data-group="secondary">日食</option><option value="secondary_default_for_xwin_macos" data-group="secondary">XWin的默认设置（macOS）</option><option value="secondary_sublime_text_macos" data-group="secondary">崇高文字（macOS）</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 id="Using_the_Advanced_Vagrant_Features_in_product.xml" data-toc="Using_the_Advanced_Vagrant_Features_in_product">在PyCharm中使用高级流浪者功能</h1>           <p id="96aa49ba">本教程介绍了如何在PyCharm中使用Vagrant集成的高级功能。使用<a href="https://www.vagrantup.com/docs/" rel="noopener noreferrer" data-external="true" target="_blank">Vagrant</a>和<a href="https://www.virtualbox.org/" rel="noopener noreferrer" data-external="true" target="_blank">Oracle VirtualBox</a>的详细信息不在本教程的讨论范围之内。有关更多信息，请参阅相应的文档。</p>        <p id="ce5ceee5">请注意“ <a href="vagrant-support.html">流动性”</a>页面中提到的先决条件。还要确保已创建并初始化了Vagrant框。</p>            <div class="chapter"><h2 id="ssh-terminal" data-toc="Using_the_Advanced_Vagrant_Features_in_product#ssh-terminal">使用内置的SSH终端连接到Vagrant机器</h2>        <p id="d8eb8287">PyCharm具有<a href="running-ssh-terminal.html">内置的SSH终端</a> ，可用于连接到远程计算机。</p>        <div class="chapter"><h3 id="9f804d3e" data-toc="Using_the_Advanced_Vagrant_Features_in_product#9f804d3e">开始连接</h3>            <p id="ab2e67bb">要连接到Vagrant机器，请选择<span class="menupath" data-skip-index="skip">工具|</span>在主菜单上<span class="menupath" data-skip-index="skip">启动SSH会话...。</span>这将打开一个我们可以连接的主机列表。</p>            <p id="d623e7fd"><a href="vagrant-support.html">配置的Vagrant机器</a>会自动添加到此列表中。单击它可打开与该Vagrant计算机公开的SSH端点的连接。<span class="menupath" data-skip-index="skip">编辑凭据...</span>菜单项允许手动输入连接信息。但是，我们将限于使用虚拟盒。</p>            <figure><img alt="可用的无业游民主机" title="可用的无业游民主机" src="/help/img/idea/2019.2/py_vagrant_list_hosts.png" id="7a80f9c5" width="534" height="200"></figure>        </div>        <div class="chapter"><h3 id="20e42af4" data-toc="Using_the_Advanced_Vagrant_Features_in_product#20e42af4">使用SSH</h3>            <p id="00871fdb">因此，在选择Vagrant之后，PyCharm使用SSH服务器连接到Vagrant机器，并显示一个可以使用的终端：</p>            <figure><img alt="终端终端" title="终端终端" src="/help/img/idea/2019.2/py_vagrant_ssh_terminal.png" id="197b297c" width="750" height="654"></figure>            <p id="0c5317be">在SSH终端中，您可以执行以下操作：</p>            <ul class="list _ul"><li class="list__item" id="3ecad05e"><p>使用上下箭头键滚动浏览命令的历史记录</p></li><li class="list__item" id="685371a3"><p>执行剪贴板操作</p></li></ul>        </div>    </div>    <div class="chapter"><h2 id="shared-folders" data-toc="Using_the_Advanced_Vagrant_Features_in_product#shared-folders">使用共享文件夹</h2>        <p id="bbe0ed9b">Vagrant允许在主机和Vagrant计算机之间共享文件夹。例如，您可以使用这些文件夹将Web根目录内容从当前PyCharm项目自动映射到Vagrant计算机上的Apache虚拟主机目录。</p>        <div class="chapter"><h3 id="d0a2307f" data-toc="Using_the_Advanced_Vagrant_Features_in_product#d0a2307f">添加路径映射</h3>           <p id="977a9330">打开<span class="filepath">Vagrantfile</span>进行编辑（ <kbd data-primary_default_for_windows="F4" data-primary_intellij_idea_classic_macos="F4" data-primary_default_for_gnome="F4" data-primary_default_for_kde="F4" data-primary_sublime_text="F4" data-primary_eclipse="F12" data-primary_emacs="F4" data-primary_default_for_xwin_windows="N/A" data-secondary_default_for_macos="⌘↓" data-secondary_default_for_gnome="F4" data-secondary_default_for_kde="F4" data-secondary_eclipse="F12" data-secondary_default_for_xwin_macos="N/A" data-secondary_sublime_text_macos="N/A">F4</kbd> ，并添加用于路径映射的配置条目：</p>            <div class="code-block" data-lang="shell">Vagrant.configure（“ 2”）做| config | config.vm.synced_folder“ src /”，“ / srv / website”结束</div>        </div>        <div class="chapter"><h3 id="c30b4565" data-toc="Using_the_Advanced_Vagrant_Features_in_product#c30b4565">重装游民</h3>            <p id="39fb9552">通过选择<span class="menupath" data-skip-index="skip">工具|</span>重新加载<span class="filepath">Vagrantfile</span> <span class="menupath" data-skip-index="skip">。无业游民</span>在主菜单上<span class="menupath" data-skip-index="skip">重新加载</span> ：</p><figure><img alt="重新加载无业游民" title="重新加载无业游民" src="/help/img/idea/2019.2/vagrant_reload.png" id="e731eb8d" width="434" height="512"></figure>            <p id="2a20beca">命令执行的结果显示在“运行工具”窗口中：</p>            <figure><img alt="流浪者重装结果" title="流浪者重装结果" src="/help/img/idea/2019.2/vagrant_reload_result.png" id="282eac98" width="742" height="430"></figure>            <p id="be999171">一旦重新加载了Vagrant机器，就可以使用新的路径映射。例如，当使用内置的SSH终端连接到Vagrant机器时，我们看到<span class="filepath">/ vagrant</span>文件夹的内容，该内容映射到PyCharm本地项目文件夹。注意：从此文件夹删除文件将同时删除两端的文件！</p>        </div>    </div>    <div class="chapter"><h2 id="vagrant-instance-folder" data-toc="Using_the_Advanced_Vagrant_Features_in_product#vagrant-instance-folder">指定Vagrant实例文件夹</h2>        <p id="7457e4c3">默认情况下， <span class="filepath">Vagrantfile</span>和所有其他Vagrant细节（如Puppet清单）都放置在PyCharm项目的根目录中。由于并非总是如此，因此可以通过设置/首选项的<a href="vagrant.html">Vagrant</a>页面配置PyCharm应在其中查找<span class="filepath">Vagrantfile</span>的实例文件夹：</p><figure><img alt="指定Vagrant实例文件夹" title="指定Vagrant实例文件夹" src="/help/img/idea/2019.2/vagrant_instance_folder.png" id="47f737ca" width="709" height="360"></figure>    </div>    <div class="chapter"><h2 id="vagrant-plugin" data-toc="Using_the_Advanced_Vagrant_Features_in_product#vagrant-plugin">通过设置管理Vagrant插件</h2>        <p id="35ae2960">在设置/首选项的<a href="vagrant.html">Vagrant</a>页面中，您还可以管理Vagrant插件。在“ <span class="control">插件</span> ”标签中，使用工具栏按钮安装，卸载和更新插件。</p>        <figure><img alt="添加一个Vagrant插件" title="添加一个Vagrant插件" src="/help/img/idea/2019.2/vagrant_pl.png" id="9ce807d3" width="710" height="756"></figure>        <p id="5ac3ca3c">您还可以为<a href="https://www.vagrantup.com/docs/vmware/" rel="noopener noreferrer" data-external="true" target="_blank">VMWare Fusion Provider</a>安装许可证，例如，该许可证允许在VMWare上运行Vagrant计算机。</p>    </div>    <div class="chapter"><h2 id="providers" data-toc="Using_the_Advanced_Vagrant_Features_in_product#providers">提供者支持</h2>        <p id="e60cb021">Vagrant默认将<a href="https://www.virtualbox.org/" rel="noopener noreferrer" data-external="true" target="_blank">Oracle VirtualBox</a>作为虚拟化平台使用。但是，您可以使用<span class="emphasis">提供程序</span>来更改虚拟化平台，因此虚拟机可以由VirtualBox以外的系统运行，例如<a href="http://www.vmware.com/" rel="noopener noreferrer" data-external="true" target="_blank">VMWare</a>或<a href="https://aws.amazon.com/" rel="noopener noreferrer" data-external="true" target="_blank">Amazon EC2</a> 。在<a href="https://github.com/mitchellh/vagrant/wiki/Available-Vagrant-Plugins" rel="noopener noreferrer" data-external="true" target="_blank">Vagrant插件列表中</a>找到可用的提供程序。</p>        <p id="be80d7bb">对于每个命令，应将要使用的提供程序传递给Vagrant。为了简化此过程并使PyCharm自动将提供程序名称添加到每个Vagrant命令，请在设置/首选项的<a href="vagrant.html">Vagrant</a>页面中指定提供程序。设置中提供了计算机上安装的所有提供程序。选择后，将使用提供程序来执行PyCharm中的所有Vagrant命令：</p>        <figure><img alt="重新定义流浪者提供者" title="重新定义流浪者提供者" src="/help/img/idea/2019.2/vagrant_provider.png" id="a8236454" width="710" height="352"></figure>    </div>    <div class="chapter"><h2 id="provision" data-toc="Using_the_Advanced_Vagrant_Features_in_product#provision">（重新）配置无业游民的机器</h2>        <p id="b19e0f64"><span class="filepath">Vagrantfile</span>可以包含一系列配置程序，一旦虚拟机运行，它们便可以启动安装和配置例程。</p>        <p id="e355fa1a"><span class="menupath" data-skip-index="skip">工具|无业游民Provisioning</span>主菜单命令在已运行的Vagrant计算机上调用已配置的<span class="menupath" data-skip-index="skip">Provisioner</span> ，而无需首先销毁虚拟机。</p>        <p id="d27a2b9f">有关详细信息，请参阅<a href="https://www.vagrantup.com/docs/provisioning/index.html" rel="noopener noreferrer" data-external="true" target="_blank">预配</a>文档。</p>    </div>    <div class="chapter"><h2 id="env-var" data-toc="Using_the_Advanced_Vagrant_Features_in_product#env-var">使用环境变量</h2>        <p id="afd79608"><span class="filepath">Vagrantfile</span>中的环境变量可用于Puppet节点，Puppet环境，自定义事实，AWS密钥。</p>        <p id="330215e7">在“设置/首选项”对话框的“ <a href="vagrant.html">Vagrant”</a>页面中，指定要传递给<span class="filepath">Vagrantfile的</span>项目特定的环境变量：</p>        <figure><img alt="添加环境变量" title="添加环境变量" src="/help/img/idea/2019.2/vagrant_env_var.png" id="d0c391f4" width="490" height="886"></figure>        <p id="7c1fbaf1">设置后，将使用以下语法在<span class="filepath">Vagrantfile</span>中引用这些环境变量<code class="code">#{ENV['name_of_variable']}</code> ：</p>        <figure><img alt="Vagrantfile中新添加的环境变量" title="Vagrantfile中新添加的环境变量" src="/help/img/idea/2019.2/vagrant_env_var_in_vagrantfile.png" id="403e45f6" width="542" height="182"></figure>    </div><div class="last-modified" data-skip-index="skip">上次修改时间：2019年11月6日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="vagrant-support.html">Vagrant</a> <a class="navigation-links__next" href="configuring-product-to-work-on-the-vm.html">配置PyCharm以在VM上工作</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>