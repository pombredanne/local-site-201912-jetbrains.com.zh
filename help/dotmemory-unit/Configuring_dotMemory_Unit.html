<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/help/app/v2/analytics.js"></script><meta class="swiftype" name="product" data-type="string" content="/dotmemory-unit"><meta charset="UTF-8"><title>Configuring dotMemory Unit - Help | dotMemory Unit</title><link rel="stylesheet" href="/help/app/v2/app.css"></head><body data-id="Configuring_dotMemory_Unit" data-disqus-id="Configuring_dotMemory_Unit_dmu"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper" data-swiftype-index="false"><section class="panel _nav" data-swiftype-index="false"><header class="panel__header" data-swiftype-index="false"><div class="container" data-swiftype-index="false"><form class="search-box" data-swiftype-index="false"><label for="search-box__input" class="search-box__label" data-swiftype-index="false"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search dotMemory Unit Help"></label><div class="search-box__clear" title="Clear" data-swiftype-index="false"></div></form></div></header><nav class="panel__content" data-swiftype-index="false"><div class="container _nav" data-swiftype-index="false"><menu class="nav-tree" data-swiftype-index="false"></menu></div><div class="container _footer panel__footer" data-swiftype-index="false"><p data-swiftype-index="false"><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main" data-swiftype-index="false"><header class="panel__header" data-swiftype-index="false"><div class="container" data-swiftype-index="false"><h3>dotMemory Unit 3.0 Help</h3><div class="shortcuts-switcher" data-swiftype-index="false"><label for="switch-shortcuts" data-swiftype-index="false">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1" data-swiftype-index="false"><option data-group="secondary" value="rs">ReSharper 2.x/IntelliJ IDEA</option><option data-group="primary" value="vs" selected>Visual Studio</option></select></div><div class="panel-trigger" data-swiftype-index="false"></div></div></header><section class="panel__content" data-swiftype-index="false"><div class="container"><article class="article" data-shortcut-switcher="false" data-swiftype-index="true"><h1 data-toc="Configuring_dotMemory_Unit">Configuring dotMemory Unit</h1><p id="d898e2">        The default dotMemory Unit configuration allows using it “out of the box”. Nevertheless, in some cases you may        want to redefine particular options like workspace files location or total size limit for auto-saved workspaces.        This is done with the help of <code class="code" data-lang="Java">DotMemoryUnitAttribute</code> placed before an assembly, a test class,        or a test method.    </p><div class="chapter"><h2 id="d898e8" data-toc="Configuring_dotMemory_Unit#d898e8">Example</h2>    <div class="code-block" data-lang="C#"><code class="code-block__wrapper"><span class="na">[DotMemoryUnit(SavingStrategy = SavingStrategy.OnCheckFail, Directory = @&quot;C:\tmp\Method&quot;)]</span>
<span class="na">[Test]</span>
<span class="k">public</span> <span class="k">void</span> <span class="nf">TestMethod1</span><span class="p">()</span>
<span class="p">{</span>
    <span class="p">...</span>
<span class="p">}</span></code></div>    </div><div class="chapter"><h2 id="d898e14" data-toc="Configuring_dotMemory_Unit#d898e14">DotMemoryUnitAttribute</h2>    <div class="chapter"><h3 id="d898e16">DotMemoryUnitAttribute properties</h3>    <div class="table-wrapper"><table class=" wide                  _layout-fixed" width="100%" id="d898e18"><thead><tr id="d898e19" class="ijRowHead"><th width="25%" id="d898e20">Name</th><th width="15%" id="d898e22">Type</th><th width="60%" id="d898e24">Description</th></tr></thead><tbody><tr id="d898e26" class="ijRowOdd"><td id="d898e27">                <code class="code" data-lang="Java">CollectAllocations</code>            </td><td id="d898e32">                <code class="code" data-lang="Java">bool</code>            </td><td id="d898e37">                Defines whether the memory allocation data (memory traffic and creation stack trace data) must be                collected. By default, <code class="code" data-lang="Java">false</code>. Collecting allocation data significantly                increases the profiling overhead. Use it only if you need to measure the amount of memory traffic. <br>                Note that the <a href="AssertTraffic_Attribute.html">AssertTraffic</a> attribute enables collecting allocations                in the marked method automatically. You do not need to add the                <code class="code" data-lang="Java">[DotMemoryUnit(CollectAllocations = true)]</code> attribute in this case.            </td></tr><tr id="d898e50" class="ijRowEven"><td id="d898e51">                <code class="code" data-lang="Java">Directory</code>            </td><td id="d898e56">                <code class="code" data-lang="Java">string</code>            </td><td id="d898e61">                Path to the directory where workspace files must be saved.                This can be either a full path or a path relative to the assembly where the test method is declared.                Note that for simplicity, you can use a number of placeholders for special directories:                <ul class="list _ul"><li class="list__item"><code class="code" data-lang="Java">&lt;User&gt;</code> - current user folder, e.g.                        <i id="d898e68">C:\Users\[username]</i>                    </li><li class="list__item"><code class="code" data-lang="Java">&lt;LocalAppData&gt;</code> - local application data folder, e.g.                        <i id="d898e75">C:\Users\[username]\AppData\Local</i>                    </li><li class="list__item"><code class="code" data-lang="Java">&lt;CommonAppData&gt;</code> - program data folder, e.g.                        <i id="d898e82">C:\ProgramData</i>                    </li></ul>            </td></tr><tr id="d898e86" class="ijRowOdd"><td id="d898e87">                <code class="code" data-lang="Java">DiskSpaceLimit</code>            </td><td id="d898e92">                <code class="code" data-lang="Java">int</code>            </td><td id="d898e97">                Maximum disk size in bytes that can be used for storing workspaces.                The default value is 200 MB.                Before saving a workspace, dotMemory Unit checks the total size of all previously saved workspaces in the session.                If the limit is not yet exceeded, the workspace will be saved (even if this will exceed the limit).            </td></tr><tr id="d898e99" class="ijRowEven"><td id="d898e100">                <code class="code" data-lang="Java">FailIfRunWithoutSupport</code>            </td><td id="d898e105">                <code class="code" data-lang="Java">bool</code>            </td><td id="d898e110">                If <code class="code" data-lang="Java">false</code>, all <code class="code" data-lang="Java">dotMemory.Check</code> calls will be ignored in case a test is run without the                support for dotMemory Unit.<br>                If <code class="code" data-lang="Java">true</code>, the test containing <code class="code" data-lang="Java">dotMemory.Check</code> calls                will fail in case this test is run without the support for dotMemory Unit.<br>                The default value is <code class="code" data-lang="Java">true</code>.            </td></tr><tr id="d898e132" class="ijRowOdd"><td id="d898e133">                <code class="code" data-lang="Java">SavingStrategy</code>            </td><td id="d898e138">                <code class="code" data-lang="Java">SavingStrategy</code> <br>                <code class="code" data-lang="Java">enum</code> <br>                <code class="code" data-lang="Java">{OnAnyFail, OnCheckFail, Never}</code>            </td><td id="d898e153">                Defines conditions for auto-saving workspaces:                <ul class="list _ul"><li class="list__item">                        <code class="code" data-lang="Java">OnAnyFail</code> - Auto-save workspace on any test failure.                    </li><li class="list__item">                        <code class="code" data-lang="Java">OnCheckFail</code> - Auto-save workspace on <code class="code" data-lang="Java">dotMemory.Check</code>                        call failure.                    </li><li class="list__item">                        <code class="code" data-lang="Java">Never</code> - Do not auto-save workspaces.                    </li></ul>            </td></tr><tr id="d898e175" class="ijRowEven"><td id="d898e176">                <code class="code" data-lang="Java">WorkspaceNumberLimit</code>            </td><td id="d898e181">                <code class="code" data-lang="Java">int</code>            </td><td id="d898e186">                Maximum number of workspaces that can be saved upon test failures.                The default value is 5.            </td></tr></tbody></table></div></div>    </div><div class="last-modified" data-swiftype-index="false">Last modified: 16 January 2018 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-swiftype-index="false"><a class="navigation-links__prev" href="Alternative_Way_of_Working_with_Memory.html" data-swiftype-index="false">Alternative Way of Working with Memory</a><a class="navigation-links__next" href="Working_with_Object_Sets.html" data-swiftype-index="false">Working with Object Sets</a></div></article><div id="disqus_thread" data-swiftype-index="false"></div></div></section></main></div><script src="/help/app/v2/app.js"></script></body></html>