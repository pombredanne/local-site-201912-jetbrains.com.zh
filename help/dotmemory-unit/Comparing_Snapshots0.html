<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/help/app/v2/analytics.js"></script><meta class="swiftype" name="product" data-type="string" content="/dotmemory-unit"><meta charset="UTF-8"><title>Comparing Snapshots - Help | dotMemory Unit</title><link rel="stylesheet" href="/help/app/v2/app.css"></head><body data-id="Comparing_Snapshots0" data-disqus-id="Comparing_Snapshots0_dmu"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper" data-swiftype-index="false"><section class="panel _nav" data-swiftype-index="false"><header class="panel__header" data-swiftype-index="false"><div class="container" data-swiftype-index="false"><form class="search-box" data-swiftype-index="false"><label for="search-box__input" class="search-box__label" data-swiftype-index="false"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search dotMemory Unit Help"></label><div class="search-box__clear" title="Clear" data-swiftype-index="false"></div></form></div></header><nav class="panel__content" data-swiftype-index="false"><div class="container _nav" data-swiftype-index="false"><menu class="nav-tree" data-swiftype-index="false"></menu></div><div class="container _footer panel__footer" data-swiftype-index="false"><p data-swiftype-index="false"><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main" data-swiftype-index="false"><header class="panel__header" data-swiftype-index="false"><div class="container" data-swiftype-index="false"><h3>dotMemory Unit 3.0 Help</h3><div class="shortcuts-switcher" data-swiftype-index="false"><label for="switch-shortcuts" data-swiftype-index="false">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1" data-swiftype-index="false"><option data-group="secondary" value="rs">ReSharper 2.x/IntelliJ IDEA</option><option data-group="primary" value="vs" selected>Visual Studio</option></select></div><div class="panel-trigger" data-swiftype-index="false"></div></div></header><section class="panel__content" data-swiftype-index="false"><div class="container"><article class="article" data-shortcut-switcher="false" data-swiftype-index="true"><h1 data-toc="Comparing_Snapshots0">Comparing Snapshots</h1><p id="d869e2">        As well as in the dotMemory profiler, you can use checkpoints not only for traffic amount assertions but for        all kinds of snapshot comparisons. E.g., in the example below we assert that no objects from the        <code class="code" data-lang="Java">MyApp</code> namespace survived garbage collection on the interval between        <code class="code" data-lang="Java">memoryCheckPoint1</code> and the second <code class="code" data-lang="Java">dotMemory.Check</code> call.    </p><div class="code-block" data-lang="C#"><code class="code-block__wrapper"><span class="kt">var</span> <span class="n">memoryCheckPoint1</span> <span class="p">=</span> <span class="n">dotMemory</span><span class="p">.</span><span class="n">Check</span><span class="p">();</span>

<span class="n">foo</span><span class="p">.</span><span class="n">Bar</span><span class="p">();</span>

<span class="n">dotMemory</span><span class="p">.</span><span class="n">Check</span><span class="p">(</span><span class="n">memory</span> <span class="p">=&gt;</span>
<span class="p">{</span>
    <span class="n">Assert</span><span class="p">.</span><span class="n">That</span><span class="p">(</span><span class="n">memory</span><span class="p">.</span><span class="n">GetDifference</span><span class="p">(</span><span class="n">memoryCheckPoint1</span><span class="p">)</span>
        <span class="p">.</span><span class="n">GetSurvivedObjects</span><span class="p">(</span><span class="k">where</span> <span class="p">=&gt;</span> <span class="k">where</span><span class="p">.</span><span class="n">Namespace</span><span class="p">.</span><span class="n">Like</span><span class="p">(</span><span class="s">&quot;MyApp&quot;</span><span class="p">)).</span><span class="n">ObjectsCount</span><span class="p">,</span> <span class="n">Is</span><span class="p">.</span><span class="n">EqualTo</span><span class="p">(</span><span class="m">0</span><span class="p">));</span>
<span class="p">});</span></code></div><div class="last-modified" data-swiftype-index="false">Last modified: 16 January 2018 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-swiftype-index="false"><a class="navigation-links__prev" href="Turning_On_Off_Collecting_of_Allocation_Data.html" data-swiftype-index="false">Turning On Collecting of Allocation Data</a><a class="navigation-links__next" href="Reference.html" data-swiftype-index="false">Reference</a></div></article><div id="disqus_thread" data-swiftype-index="false"></div></div></section></main></div><script src="/help/app/v2/app.js"></script></body></html>