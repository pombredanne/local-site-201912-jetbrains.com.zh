<html lang="en-US" ><head><meta charset="UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="/resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><title>执行测试并分析结果-帮助|帮助锐化器</title><link rel="stylesheet" href="/resources.jetbrains.com/storage/help-app/v3/app.css"></head><body  data-id="Executing_Analyzing_Tests" data-article-props="
                {
                
            &quot;seeAlso&quot;:[
            
            ]
        
                }
            " data-disqus-id="Executing_Analyzing_Tests_10"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索ReSharper帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>ReSharper 2019.2帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option value="rs" data-group="secondary">ReSharper 2.x / IntelliJ IDEA</option><option value="vs" data-group="primary">视觉工作室</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 id="Executing_Analyzing_Tests.xml" data-toc="Executing_Analyzing_Tests">执行测试并分析结果</h1>                                    <aside class="prompt" rel="Executing_Analyzing_Tests.xml" id="tip_same_id" data-type="tip" data-title="">        <p id="c46acc41">ReSharper的单元测试运行器不允许运行两个或多个具有相同ID的测试。在实践中，这种情况很少发生，但是如果您确实有具有相同ID的测试，它们将在“单元测试”浏览器和“单元测试会话”窗口中显示为单个节点，并且仅运行其中一个。<br>请注意，测试框架以不同的方式识别测试。例如，MSTest使用测试方法FQN，而NUnit使用测试属性的属性作为测试ID。</p>    </aside>    <p id="intro">ReSharper提供了几种执行单元测试的方法。无论选择哪种方式，执行进度，测试结果和输出都将显示在“单元测试会话”窗口中，而覆盖结果将显示在“ <span class="control">单元测试覆盖率”</span>窗口中。</p>        <aside class="prompt" rel="intro" id="b776464c" data-type="tip" data-title="">        <p id="other_tools">可以使用其他JetBrains .NET产品扩展单元测试帮助：您可以使用<a href="http://www.jetbrains.com/profiler/" rel="noopener noreferrer" data-external="true" target="_blank">dotTrace</a>进行单元测试配置文件，并使用<a href="http://www.jetbrains.com/dotcover/" rel="noopener noreferrer" data-external="true" target="_blank">dotCover</a>分析单元测试的代码覆盖率。这些产品也包含在<a href="/dotnet/" rel="noopener noreferrer" data-external="true" target="_blank">ReSharper Ultimate中</a> 。</p>    </aside>    <div class="chapter"><h2 id="executing" data-toc="Executing_Analyzing_Tests#executing">运行和调试单元测试的不同方法</h2>        <p id="7a0e46af">有以下几种方法来运行或调试单元测试：</p>        <ul class="list _ul"><li class="list__item" id="db36364f"><p>使用其中一种方法<a href="Unit_Testing_in_Document.html#run_debug">在当前文档中</a>执行测试。</p></li><li class="list__item" id="51d4437d"><p>使用一种方法<a href="Unit_Testing_in_Solution.html#execute">在项目/解决方案中</a>执行测试。</p></li><li class="list__item" id="aea1ee85">                <p id="eddb5e52">如果存在现有的<a href="Using_Unit_Test_Sessions.html">单元测试会话</a> ，则可以在<a href="Using_Unit_Test_Sessions.html">会话</a>中运行或调试一些或所有测试：</p>                <ul class="list _ul"><li class="list__item" id="c169e58b"><p>在“ <a href="Reference__Windows__Unit_Test_Sessions.html">单元测试会话”窗口中</a>选择要执行的<a href="Reference__Windows__Unit_Test_Sessions.html">测试</a> ，然后单击<span class="control">“运行单元测试”。</span> <img alt="ThemedIcon RunTest屏幕呈灰色" title="ThemedIcon RunTest屏幕呈灰色" src="/help/img/dotnet/2019.2/ThemedIcon.RunTest.Screen.[Gray].png" id="9251a066" width="16" height="16" class="inline-icon-16"> / <span class="control">调试单元测试</span> <img alt="ThemedIcon调试屏幕灰色" title="ThemedIcon调试屏幕灰色" src="/help/img/dotnet/2019.2/ThemedIcon.Debug.Screen.[Gray].png" id="810a03b6" width="16" height="16" class="inline-icon-16">在工具栏上，或按<kbd data-rs="Ctrl+T,R" data-vs="Ctrl+U,R">Ctrl + T，R</kbd> / <kbd data-rs="Ctrl+T,D" data-vs="Ctrl+U,D">Ctrl + T，D</kbd> 。</p></li><li class="list__item" id="3e7327a2"><p>要运行会话中的<span class="control">所有测试</span> ，请单击<span class="control">“运行所有测试”。</span> <img alt="ThemedIcon RunAll屏幕呈灰色" title="ThemedIcon RunAll屏幕呈灰色" src="/help/img/dotnet/2019.2/ThemedIcon.RunAll.Screen.[Gray].png" id="d21c82ca" width="16" height="16" class="inline-icon-16">在工具栏上，或者选择<a name="UnitTestRunCurrentSession"></a> <span class="menupath" data-skip-index="skip">ReSharper |单元测试|</span>在主菜单中<span class="menupath" data-skip-index="skip">运行“当前会话</span> ”或按<kbd data-rs="Ctrl+T,Y" data-vs="Ctrl+U,Y">Ctrl + T，Y</kbd> 。</p></li><li class="list__item" id="ebdd53bd"><p>要在会话中连续运行选定的测试，直到其中一项测试失败，请在“ <span class="control">运行单元测试”中</span>展开选择器<img alt="ThemedIcon RunTest屏幕呈灰色" title="ThemedIcon RunTest屏幕呈灰色" src="/help/img/dotnet/2019.2/ThemedIcon.RunTest.Screen.[Gray].png" id="7a8f9ac3" width="16" height="16" class="inline-icon-16">按钮，然后选择<span class="control">运行单元测试，直到失败</span> 。</p></li></ul>            </li></ul>        <a name="chunk_execution_process"></a>            <p id="4386cb90">在单元测试会话中运行测试时，执行进度将显示在“单元测试会话”窗口和“ <span class="control">停止执行</span> ”工具栏下的状态栏中。 <img alt="ThemedIcon StopTest屏幕灰色" title="ThemedIcon StopTest屏幕灰色" src="/help/img/dotnet/2019.2/ThemedIcon.StopTest.Screen.[Gray].png" id="88c959c1" width="16" height="16" class="inline-icon-16">按钮变为活动状态。您可以单击此按钮来中止测试的执行。您可以同时运行多个单元测试会话。但是，调试测试时，一次只能执行一个测试会话。</p>            <p id="65513756">如有必要，您可以启用“ <span class="control">跟踪运行测试”</span> <img alt="ThemedIcon TrackRun屏幕呈灰色" title="ThemedIcon TrackRun屏幕呈灰色" src="/help/img/dotnet/2019.2/ThemedIcon.TrackRun.Screen.[Gray].png" id="65607ba2" width="16" height="16" class="inline-icon-16">工具栏上的选项。如果已打开，则测试树中的选择将自动切换到当前正在运行的测试，并且输出面板在执行期间始终显示当前测试的输出。</p>            <p id="e50b38f1">您还可以<span class="control">在运行测试时</span>启用<span class="control">自动滚动输出</span> <img alt="ThemedIcon ScrollTo底屏灰色" title="ThemedIcon ScrollTo底屏灰色" src="/help/img/dotnet/2019.2/ThemedIcon.ScrollToBottom.Screen.[Gray].png" id="083c32d5" width="16" height="16" class="inline-icon-16">在测试运行时跟踪其输出的选项。</p>                <a name="repeat"></a>                        <p id="c3c081d2">如有必要，您始终可以通过单击“ <span class="control">重复上一个运行”</span>来重新运行上次执行的测试<img alt="ThemedIcon重播屏幕灰色" title="ThemedIcon重播屏幕灰色" src="/help/img/dotnet/2019.2/ThemedIcon.Rerun.Screen.[Gray].png" id="ad79fcb0" width="16" height="16" class="inline-icon-16">在工具栏上，按<kbd data-rs="Ctrl+T,T" data-vs="Ctrl+U,U">Ctrl + T，T</kbd>或选择<a name="%actionId%"></a> <span class="menupath" data-skip-index="skip">ReSharper |单元测试|</span>在菜单中<span class="menupath" data-skip-index="skip">重复上一次运行</span> 。</p>                </div>        <div class="chapter"><h2 id="analyzing" data-toc="Executing_Analyzing_Tests#analyzing">分析执行结果和输出</h2>        <p id="1e0b5057">执行结束后，结果将在“单元测试会话”窗口中可视化。</p>        <figure><img alt="ReSharper：单元测试会议" title="ReSharper：单元测试会议" src="/help/img/dotnet/2019.2/dotCover_unit_test_sessions.png" id="46d23851" width="731" height="396"></figure>        <p id="8f08bd34">输出窗格（您可以使用“ <span class="control">显示输出”</span>将其放置在右侧或底部<img alt="主题图标预览切换屏幕灰色" title="主题图标预览切换屏幕灰色" src="/help/img/dotnet/2019.2/ThemedIcon.PreviewToggle.Screen.[Gray].png" id="5c68ac6a" width="16" height="16" class="inline-icon-16">工具栏上的按钮）显示所选测试的输出。如果测试失败，ReSharper还将添加有关失败的简短信息和/或显示异常的堆栈跟踪。您可以使用输出窗格中的可单击链接直接导航到故障所涉及的类型和方法。如果输出显示指向不属于解决方案的文件的链接，则可以单击此链接在与相应文件类型关联的外部应用程序中打开文件，或在Visual Studio中<kbd class="keystroke" data-bypass="true"><span class="keystroke__value">按Ctrl</span></kbd>键单击以打开它。</p>        <p id="e023e033">如果以后要检查特定的堆栈跟踪，请按<kbd class="keystroke" data-bypass="true"><span class="keystroke__value">Ctrl + Shift + Alt + E</span></kbd>或单击<span class="control">在新窗口中显示堆栈跟踪</span> <img alt="ThemedIcon StackTraceExplorerTool窗口屏幕灰色" title="ThemedIcon StackTraceExplorerTool窗口屏幕灰色" src="/help/img/dotnet/2019.2/ThemedIcon.StackTraceExplorerToolWindow.Screen.[Gray].png" id="faf8f878" width="16" height="16" class="inline-icon-16">在工具栏上单击，以在“ <a href="Reference__Windows__Stack_Trace_Explorer.html">堆栈跟踪资源管理器”窗口</a>的新选项卡中打开<a href="Reference__Windows__Stack_Trace_Explorer.html">堆栈跟踪</a> 。</p>        <p id="70fdaca2">默认情况下，ReSharper根据输出区域的当前宽度在输出中包装长行。如有必要，可以通过清除“ <span class="control">在单元测试会话</span>中将<span class="control">长行包裹”</span>复选框取消选择不包裹长行。 <a name="ut_settings_page"></a> <span class="menupath" data-skip-index="skip">工具|</span> ReSharper选项的“ <span class="menupath" data-skip-index="skip">单元测试”</span>页面。</p>        <p id="a27af4b2">            <a name="ut_status_bar"></a>在状态栏上，您可以查看会话中的测试总数以及处于不同状态的测试数：</p><figure><img alt="单元测试过滤器" title="单元测试过滤器" src="/help/img/dotnet/2019.2/ut_filters.png" id="b6aa37f8" width="320" height="20"></figure>默认情况下，显示所有状态下的测试，但是您可以单击相应的图标以按测试状态过滤测试。您也可以<kbd class="keystroke" data-bypass="true"><span class="keystroke__value">按住Ctrl</span></kbd>键并单击几个图标以在几种不同的状态下显示测试。将在“单元测试会话”窗口中显示每个测试的状态，并带有以下图标之一：<div class="table-wrapper"><table class=" no_header" width="100%" id="10351506"><tbody><tr id="ebbdccc3" class="ijRowOdd"><td id="1a7a9952">                    <img alt="ThemedIcon RunningTest屏幕呈灰色" title="ThemedIcon RunningTest屏幕呈灰色" src="/help/img/dotnet/2019.2/ThemedIcon.RunningTest.Screen.[Gray].png" id="797d4a1c" width="16" height="16" class="inline-icon-16">                </td><td id="072fbb1b"><p>当前正在执行单元测试</p></td></tr><tr id="b143f6e7" class="ijRowEven"><td id="528c0e7f">                    <img alt="ThemedIcon TestPending屏幕灰色" title="ThemedIcon TestPending屏幕灰色" src="/help/img/dotnet/2019.2/ThemedIcon.TestPending.Screen.[Gray].png" id="46698da5" width="16" height="16" class="inline-icon-16">                </td><td id="e0585775"><p>计划在当前运行中执行单元测试</p></td></tr><tr id="b5eb4702" class="ijRowOdd"><td id="6a10585d">                    <img alt="主题图标状态未知屏幕灰色" title="主题图标状态未知屏幕灰色" src="/help/img/dotnet/2019.2/ThemedIcon.StatusUnknown.Screen.[Gray].png" id="3d332629" width="16" height="16" class="inline-icon-16">                </td><td id="1ecaf89a"><p>未执行单元测试</p></td></tr><tr id="adfe6732" class="ijRowEven"><td id="2265cbd8">                    <img alt="ThemedIcon成功画面灰色" title="ThemedIcon成功画面灰色" src="/help/img/dotnet/2019.2/ThemedIcon.Success.Screen.[Gray].png" id="e29ec542" width="16" height="16" class="inline-icon-16">                </td><td id="a8eff7c4"><p>lats测试运行中通过了单元测试</p></td></tr><tr id="0cb7efa3" class="ijRowOdd"><td id="2b266768">                    <img alt="ThemedIcon错误屏幕灰色" title="ThemedIcon错误屏幕灰色" src="/help/img/dotnet/2019.2/ThemedIcon.Error.Screen.[Gray].png" id="a4a231c3" width="16" height="16" class="inline-icon-16">                </td><td id="5ea6e87c"><p>lats测试运行中单元测试失败</p></td></tr><tr id="b0bd6810" class="ijRowEven"><td id="0dd79f18">                    <img alt="ThemedIcon忽略屏幕灰色" title="ThemedIcon忽略屏幕灰色" src="/help/img/dotnet/2019.2/ThemedIcon.Ignore.Screen.[Gray].png" id="ec1e8d85" width="16" height="16" class="inline-icon-16">                </td><td id="c4f22500"><p>在上次测试运行中忽略了单元测试<br>它具有相应的属性（例如，对NUnit测试<code class="code">Ignore</code> ），或者包含<a href="Test_Categories.html#ignore">在ReSharper设置中忽略</a>的类别中。</p></td></tr><tr id="1da0e94b" class="ijRowOdd"><td id="487ddf83">                    <img alt="主题图标状态终止屏幕灰色" title="主题图标状态终止屏幕灰色" src="/help/img/dotnet/2019.2/ThemedIcon.StatusAborted.Screen.[Gray].png" id="c6a67418" width="16" height="16" class="inline-icon-16">                </td><td id="9af828fb"><p>单元测试在上次测试运行中中止</p></td></tr><tr id="9e1c212f" class="ijRowEven"><td id="48bf2661">                    <img alt="主题图标状态不确定屏幕灰色" title="主题图标状态不确定屏幕灰色" src="/help/img/dotnet/2019.2/ThemedIcon.StatusInconclusive.Screen.[Gray].png" id="4b80db19" width="16" height="16" class="inline-icon-16">                </td><td id="2506d4cc"><p>单元测试<a name="inconclusive_test_definition"></a>已启动，但ReSharper无法读取测试运行程序输出。这可能是测试运行程序中发生错误的迹象。</p></td></tr></tbody></table></div>        <p id="4d5644df">相同的图标用于显示分组项目（类，项目等）的状态</p>        <p id="ab78d17f">这些图标还用于每个会话的选项卡上，以显示会话的整体执行结果。</p>        <p id="ca93a7d0">测试会话树上方的相应图标显示每个状态下有多少个测试。的<img alt="主题图标单元会话屏幕灰色" title="主题图标单元会话屏幕灰色" src="/help/img/dotnet/2019.2/ThemedIcon.UnitSession.Screen.[Gray].png" id="5e429ee0" width="16" height="16" class="inline-icon-16">图标显示会话中的测试总数。<br>使用这些图标，您可以过滤树，以便仅显示处于相应状态的测试。</p>            </div>            <div class="chapter"><h2 id="customizing" data-toc="Executing_Analyzing_Tests#customizing">定制执行流程</h2>                <p id="0fd2ae14">默认情况下，ReSharper使用单元测试项目设置来定义执行测试时应使用的.NET Framework版本和处理器体系结构。</p>        <aside class="prompt" rel="0fd2ae14" id="note_different_sessions" data-type="note" data-title="">            <p id="f1982b02">如果不同的单元测试会话中的执行设置不同，则测试可能在一个会话中通过而在另一个会话中失败。因此，ReSharper不会在添加了相同测试的其他会话中更新执行结果。同样，在编辑器中为测试显示的<a href="Unit_Testing_in_Document.html#discovering-tests-in-the-current-document">执行状态图标</a>对应于上次执行该测试会话的结果。</p>        </aside>        <p id="7cae3899">当项目中的测试（有时间接或隐式）使用基于CLR2的程序集并且您的项目已经以CLR4为目标时，在测试执行期间可能会发生错误。通过明确指定应使用哪种CLR（.NET Framework），可以避免这种情况。为此，请使用<span class="menupath" data-skip-index="skip">ReSharper |</span> <span class="control">Default</span>上的“ <span class="control">默认.NET Framework版本”</span>选择器。 <span class="menupath" data-skip-index="skip">选项|工具|</span> ReSharper选项的“ <span class="menupath" data-skip-index="skip">单元测试”</span>页面。此首选项会影响在NUnit，XUnit和MSpec测试框架下运行的测试。它对在MsTest下运行的测试没有影响。</p>        <p id="e4c8ef71">您还可以使用该选项页面上的“ <span class="control">默认平台体系结构”</span>选择器来更改平台体系结构（32位或64位）。</p>        <p id="94664819">如有必要，可以使用工具栏上的“ <span class="control">选项”</span>选择器覆盖特定<a href="Using_Unit_Test_Sessions.html">单元测试会话的</a>这些设置。</p>    </div>    <div class="chapter"><h2 id="log" data-toc="Executing_Analyzing_Tests#log">学习执行日志</h2>        <p id="0653e8c9">            <a href="Reference__Windows__Unit_Test_Sessions.html">单元测试会话窗口</a>包含测试执行日志，通过该日志可以将与测试执行过程相关的问题与单元测试结果分开。<br>通常，如果某些测试在执行后处于“不确定”状态，则通常需要检查执行日志，这可能表明测试运行程序中发生错误。</p>                <p id="ec23eae2">如果测试运行程序或ReSharper报告了错误，则错误数量将显示在窗口状态栏的右侧，否则将显示<span class="control">OK</span> 。<br>要显示或隐藏执行日志，请单击<span class="control">日志</span> <img alt="ThemedIcon SessionLog屏幕呈灰色" title="ThemedIcon SessionLog屏幕呈灰色" src="/help/img/dotnet/2019.2/ThemedIcon.SessionLog.Screen.[Gray].png" id="34e8aaa7" width="16" height="16" class="inline-icon-16">按钮。</p>        <p id="cbce1729">默认情况下，仅记录严重性级别为“错误”的事件。如有必要，您可以更改最低严重性级别。为此，请右键单击日志区域并选择所需的严重性级别，或使用“ <span class="control">工具” |</span> “ <span class="control">显示”中的“显示日志条目...”</span>选择器。 ReSharper选项的“ <span class="control">单元测试”</span>页面。</p>        <p id="f448a676">您也可以通过在上下文菜单中选择相应的命令将整个日志复制到剪贴板。</p>    </div>    <div class="last-modified" data-skip-index="skip">上次修改时间：2019年11月18日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="Test_Categories.html">测试类别</a> <a class="navigation-links__next" href="Unit_Testing__Analyzing_Code_Coverage_with_dotCover.html">使用dotCover分析代码覆盖率</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="/resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>