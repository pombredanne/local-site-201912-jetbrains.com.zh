<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="//resources.jetbrains.com/storage/help-app/v3/analytics.js"></script><meta charset="UTF-8"><title>Group by Dominators - Help | dotMemory</title><link rel="stylesheet" href="//resources.jetbrains.com/storage/help-app/v3/app.css"></head><body data-id="Retained_by" data-disqus-id="Retained_by_dm"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search dotMemory Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>dotMemory 2019.2 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="secondary" value="rs">ReSharper 2.x/IntelliJ IDEA</option><option data-group="primary" value="vs" selected>Visual Studio</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Retained_by" id="Retained_by.xml">Group by Dominators</h1>    <p id="955687cc">        The <span class="control">Group by Dominators</span> view allows you to understand how memory is retained in your app.        For example, you know that the major part of memory in your app is consumed by strings.        Nevertheless, most likely, the subject of your optimizations are not these strings by themselves but data        structures        that store them. The <span class="control">Group by Dominators</span> view answers the "Who retains the memory" question        which is extremely important when analyzing ineffective memory usage. To answer this question properly, you        should be        acquainted with the concept of <i id="f05abe40">dominators</i>.    </p>    <div class="chapter"><h2 id="what-is-a-dominator" data-toc="Retained_by#what-is-a-dominator">What is a dominator?</h2>        <p id="e0c49e0f">            The object A <i id="a8f9b7fd">dominates</i> the object B if every path to B from application's roots goes through A. In            other words, the            object B is retained in memory exclusively by the object A: If A is garbage collected, B is also garbage            collected.            For example, an array is a dominator for its elements (in case there are no other references to array            elements).            <figure><img alt="Objects retention example" title="Objects retention example" src="/help/img/dotnet/2019.2/retained_by_1.png" id="f9b55aae" width="517" height="232"></figure>            If there are more than one path to an object from app's roots, it is considered as not dominated or            <span class="emphasis">not exclusively retained</span> object. For example, if the object C is retained by the objects            A and B and A is garbage collected, C will stay in memory (as it is still referenced by B).            That's why it is important to understand the difference between the <span class="emphasis">domination path</span> (any object            on the path is retained only by one other object) and the            <span class="emphasis">retention path</span> (an object on the path may be retained by any number of other objects).                    </p>        <p id="fc48d324">            The <span class="control">Group by Dominators</span> view consists of two parts:        </p>        <ul class="list _ul"><li class="list__item" id="7d64df6c"><p>A <a href="#tree">tree list</a> of dominators on the left.</p></li><li class="list__item" id="ba772e09"><p>                <a href="#sunburst-chart">Sunburst chart</a>                on the right: a graphical representation of the tree list.</p></li></ul>    </div>    <div class="chapter"><h2 id="tree" data-toc="Retained_by#tree">Dominators tree</h2>        <p id="aaae6f34">            The tree on the right shows the tree of <i id="009e17d3">dominators</i> for the selected object set.        </p>        <p id="f683f8c8">            The tree can work in two modes that can be selected with the corresponding buttons in            the tree header:            <ul class="list _ul"><li class="list__item" id="d5a1f3a5"><p>                    <span class="control">Tree</span>: All dominator nodes are shown. The dominators that take part                    in a domination path for the selected tree node are shown in <b id="d79358fd">bold</b>.                </p></li><li class="list__item" id="415f3172"><p>                    <span class="control">Path</span>: Only the dominators that take part in a domination path for the                    selected tree node are shown.                </p></li></ul>        </p>        <p id="f5c3e109">The list of dominators consists of the following columns:</p>        <div class="table-wrapper"><table width="100%" id="71995984"><thead><tr id="8d571b8e" class="ijRowHead"><th id="1377feb3"><p>Name</p></th><th id="24546217"><p>Description</p></th></tr></thead><tbody><tr id="da85fcaa" class="ijRowOdd"><td id="322cd4f5">                    <span class="control">Type</span>                </td><td id="7259dd04"><p>Type name.                    <br>                    The number left to the type name shows how many objects of that type are retained that way. For                    example,                    elements of some array of integers A are retained in the exact same way (A -&gt; element), but                    elements                    of                    an integer array B have another retention path (B -&gt; element).                </p></td></tr><tr id="9cb70b23" class="ijRowEven"><td id="ad951bf6">                    <span class="control">Retained Bytes</span>                </td><td id="31f91cca"><p>The overall size of exclusively retained objects in bytes.</p></td></tr><tr id="eae50209" class="ijRowOdd"><td id="68ff79a4">                    <span class="control">Retained objects</span>                </td><td id="db589b5e"><p>The number of objects that are dominated by the dominator.</p></td></tr></tbody></table></div>    </div>    <div class="chapter"><h2 id="sunburst-chart" data-toc="Retained_by#sunburst-chart">Sunburst chart</h2>        <p id="b36520c5">            Sunburst chart on the left is a graphical representation of the dominators tree.            The more memory a dominator retains, the larger the central angle.        </p>        <p id="40f20354">            The analysis of the dominators tree can be quite complicated as you have to expand its nodes and            interpret the numbers in the            <span class="control">Retained bytes</span> column. In contrast, just a glance at the            sunburst chart allows you to determine main dominators and largest structures in your app.            A click on a dominator you're interested in will show you its domination path in the tree.        </p>        <p id="a8f86b80">            Consider the <a href="#example">example below</a>            for better understanding of how the sunburst chart displays data from the dominators tree.        </p>        <div class="chapter"><h3 id="zooming-in-and-out">Zooming in and out</h3>            <p id="ce112b95">                If you want to take a more detailed look at a certain dominator subtree, you can change the scale of the chart.            </p>            <section class="procedure-steps"><h3 id="47c324e3">To zoom in on a dominator</h3><ul class="list "><li class="list__item" id="058a6df6">                    <p id="68c336b6">                        Do one of the following:                    </p>                    <ul class="list _ul"><li class="list__item" id="c5146ea0"><p>                            Double-click the corresponding arc in the chart or select                            <span class="control">Zoom in</span> from its context menu.                        </p></li><li class="list__item" id="1eb5c470"><p>                            Double-click the dominator in the tree or select the tree                            and press Enter.                        </p></li></ul>                    <p id="29388b92">The dominator will become a root of the chart.</p>                </li></ul></section>            <section class="procedure-steps"><h3 id="6ff6afbc">To zoom back out</h3><ul class="list "><li class="list__item" id="eb544334"><p>                    Click the center of the chart.                </p></li></ul></section>                    </div>    </div>    <div class="chapter"><h2 id="example" data-toc="Retained_by#example">Example</h2>        <aside class="note " data-title="" rel="example" id="4b8d3039">            <p id="07a4c77b">                For the convenience, when a group of dominators is too small to be displayed in the current scale, the                chart shows them as one <img alt="smaller objects" title="smaller objects" src="/help/img/dotnet/2019.2/icicles_8.png" id="f99ab61d" width="13" height="18" class="inline-icon-13"> <i id="e4dee25c">Smaller objects</i> arc.            </p>        </aside>        <figure><img alt="Group by Dominators example" title="Group by Dominators example" src="/help/img/dotnet/2019.2/retained_by_3.png" id="3f32a266" width="695" height="580"></figure>    </div>            <div class="chapter"><h2 id="filtering-objects" data-toc="Retained_by#filtering-objects">Filtering objects</h2>            <p id="4ebed2ce">                You can filter out objects that are of no interest for your analysis.            </p>            <section class="procedure-steps"><h3 id="26d34d47">To narrow the list</h3><ul class="list "><li class="list__item" id="1517696c">                    Start typing the desired type name in the                    <span class="control">Filter</span>                    field.                    <p id="f999cafb">dotMemory will exclude all instances that don't match the pattern.</p>                </li></ul></section>            <p id="filtering_rules">                You can make your search more efficient by using the following tips:                <ul class="list _ul"><li class="list__item" id="6b307384"><p>                        Use <span class="emphasis">CamelHumps</span>. E.g. <code class="code">fo</code> will return objects                        of both <code class="code">System.Drawing.Font</code> and                        <code class="code">MS.Utility.FrugalObjectList</code>                        types.                    </p></li><li class="list__item" id="99c7b9ed"><p>                        Use <span class="emphasis">special symbols</span>, like wildcards and others. The full list                        is shown in the table below.                    </p></li></ul>            </p>            <div class="table-wrapper"><table class=" wide" width="100%" id="7e1a66fc"><thead><tr id="c2950028" class="ijRowHead"><th id="84f53bd4"><p>                        Symbol                    </p></th><th id="2b9e21b2"><p>                        Description                    </p></th><th id="9b280ed7"><p>                        Example                    </p></th></tr></thead><tbody><tr id="ea66c38f" class="ijRowOdd"><td id="8e44e0c6" rowspan="3">                        <code class="code">*</code>                    </td><td id="10940ecd" rowspan="3"><p>                        Wildcard                    </p></td><td id="d527889c"><p>                        <code class="code">*</code> <br>                        All objects in the set                    </p></td></tr><tr id="81f41fb4" class="ijRowEven"><td id="64e6c0c1"><p>                        <code class="code">sys.*.data</code> <br>                        All types and namespaces that match                        the pattern. E.g. <code class="code">System.Data</code>,                        <code class="code">System.Windows.Controls.Datagrid</code>, and                        <code class="code">System.Windows.Data.Binding</code>.                    </p></td></tr><tr id="634974e8" class="ijRowOdd"><td id="5f2aba3f"><p>                        <code class="code">sys.*.data.</code> <br>                        Only namespaces that match the pattern. E.g.                        <code class="code">System.Windows.Data.Binding</code>                        but                        <span class="emphasis">not</span>                        <code class="code">System.Windows.Controls.Datagrid</code>.                    </p></td></tr><tr id="33f41cba" class="ijRowEven"><td id="7aca8ae9" colspan="3">                        <span class="emphasis">Arrays</span>                    </td></tr><tr id="bd36bbb9" class="ijRowOdd"><td id="d5d864a5"><p>                        []                    </p></td><td id="231e412e"><p>                        Leave only arrays                    </p></td><td id="77449764"><p>                        <code class="code">str[]</code> <br>                        Arrays, containing <code class="code">str</code> in their type or namespace. E.g.                        <code class="code">String[]</code>.                    </p></td></tr><tr id="5aa054ef" class="ijRowEven"><td id="28493763" rowspan="2"><p>                        <code class="code">[,</code> <br>                        <code class="code">[,,</code> <br>                        <code class="code">...</code> <br>                        or <br>                        <code class="code">[,]</code> <br>                        <code class="code">[,,]</code> <br>                        <code class="code">...</code>                    </p></td><td id="6c03bd2a" rowspan="2"><p>                        Leave only arrays of the specified or higher (if brackets are not closed) dimension                    </p></td><td id="3102b86f"><p>                        <code class="code">str[,,</code> <br>                        Arrays with the dimension 3 and higher containing <code class="code">str</code> in their type or namespace.                        E.g.                        <code class="code">String[,,]</code> and <code class="code">String[,,,]</code>.                    </p></td></tr><tr id="6936c459" class="ijRowOdd"><td id="b7bc1696"><p>                        <code class="code">str[,,]</code> <br>                        Three-dimensional arrays containing <code class="code">str</code> in their type or namespace.                        E.g.                        <code class="code">String[,,]</code>.                    </p></td></tr><tr id="18de9a75" class="ijRowEven"><td id="ee0bdce8">                        <code class="code">!a</code>                    </td><td id="8ba93e9a"><p>                        Exclude arrays from the result                    </p></td><td id="2a866739"><p>                        <code class="code">!a str</code> <br>                        Objects (excluding arrays) containing <code class="code">str</code> in their type or namespace.                        E.g. <code class="code">String</code> but                        <span class="emphasis">not</span>                        <code class="code">String[]</code>.                    </p></td></tr><tr id="d69d115b" class="ijRowOdd"><td id="7ef64e62" colspan="3">                        <span class="emphasis">Generic type arguments</span>                    </td></tr><tr id="2d13fc21" class="ijRowEven"><td id="a11c8040" rowspan="2">                        <code class="code">&lt;</code>                    </td><td id="fff830d0" rowspan="2"><p>                        Leave only types with generic type arguments                    </p></td><td id="d6458e89"><p>                        <code class="code">str&lt;</code> <br>                        Only objects containing <code class="code">str</code> in their type or namespace and having generic                        type arguments.                        E.g.                        <code class="code">FileStreamStorage&lt;Char&gt;</code>                        but                        <span class="emphasis">not</span>                        <code class="code">List&lt;String&gt;</code>.                    </p></td></tr><tr id="b461d724" class="ijRowOdd"><td id="e1d75248"><p>                        <code class="code">&lt;str</code> <br>                        Only objects containing <code class="code">str</code> in their generic type arguments.                        E.g. <code class="code">List&lt;String&gt;</code> but                        <span class="emphasis">not</span>                        <code class="code">FileStreamStorage&lt;Char&gt;</code>.                    </p></td></tr><tr id="a4366b54" class="ijRowEven"><td id="c8607e6f" rowspan="2"><p>                        <code class="code">&lt;,</code> <br>                        <code class="code">&lt;,,</code> <br>                        <code class="code">...</code> <br>                        or <br>                        <code class="code">&lt;,&gt;</code> <br>                        <code class="code">&lt;,,&gt;</code> <br>                        <code class="code">...</code> <br>                    </p></td><td id="c7d2a3ca" rowspan="2"><p>                        Leave only objects with the specified number of generic type arguments                    </p></td><td id="df95ee13"><p>                        <code class="code">fun&lt;,,&gt;</code> <br>                        Objects containing <code class="code">fun</code> in their type or namespace and                        having three generic type arguments.                        E.g. <code class="code">Func&lt;String, Object, Object&gt;</code>.                    </p></td></tr><tr id="8002a13f" class="ijRowOdd"><td id="af3bc9a5"><p>                        <code class="code">fun&lt;str,,task</code> <br>                        Objects containing <code class="code">fun</code> in their type or namespace and                        having three or generic type arguments that match the pattern.                        E.g. <code class="code">Func&lt;Stream, IAsyncResult, TaskResult, EventArgs&gt;</code>.                    </p></td></tr><tr id="e3feead5" class="ijRowEven"><td id="4cd984ac">                        <code class="code">!g</code>                    </td><td id="c5003526"><p>                        Exclude generic type arguments from the search scope                    </p></td><td id="08faa416"><p>                        <code class="code">!g str</code> <br>                        Objects (that do not have generic type arguments) containing <code class="code">str</code> in their                        type or namespace.                        E.g. <code class="code">String</code> but                        <span class="emphasis">not</span>                        <code class="code">List&lt;String&gt;</code>.                    </p></td></tr></tbody></table></div>        </div>        <div class="chapter"><h2 id="selecting-objects-for-further-an" data-toc="Retained_by#selecting-objects-for-further-an">Selecting objects for further analysis</h2>        <p id="ee754c7f">In the            <span class="control">Group by Dominators</span>            view, you can select the following subjects for further analysis:        </p>        <ul class="list _ul"><li class="list__item" id="0ff91ef4"><p>                <a href="#retained">Objects retained by a particular dominator</a>;            </p></li><li class="list__item" id="c62f7608"><p>                <a href="#dominator">Dominators</a>.            </p></li><li class="list__item" id="9c5febfb"><p>                                    <a href="#set">Objects exclusively retained (dominated) by the whole object set</a>.                            </p></li></ul>        <section class="procedure-steps"><h3 id="retained">To open objects retained by a particular dominator</h3><ul class="list "><li class="list__item" id="f172b768">                <p id="f83e7686">                    Do one of the following:                </p>                <ul class="list _ul"><li class="list__item" id="79f94f2a"><p>                        Hold <kbd data-bypass="true" class="keystroke"><span class="keystroke__value">Alt</span></kbd> and click the dominator in the tree or                        on the chart.                    </p></li><li class="list__item" id="178090e4"><p>                        Right-click the dominator and select                        <span class="control">Open objects retained via this domination path</span>                        in the context menu.                    </p></li></ul>                <p id="82369be8">                    After this, the                    <span class="control">Objects retained via [type_name]</span>                    subject will be added to the                    <a href="First_Look_at_the_dotMemory_s_User_Interface.html#ui">Analysis Path</a>                    and the list of desired objects will be displayed in the                    <a href="Type_List.html">Group by Types</a>                    view.                </p>            </li></ul></section>        <section class="procedure-steps"><h3 id="dominator">To open the dominator object set</h3><ul class="list "><li class="list__item" id="579c94eb">                <p id="68a7a340">                    Do one of the following:                </p>                <ul class="list _ul"><li class="list__item" id="865a3b04"><p>                        Hold <kbd data-bypass="true" class="keystroke"><span class="keystroke__value">Shift</span></kbd> and click the dominator in the tree or                        on the chart.                    </p></li><li class="list__item" id="19e98513"><p>                        Right-click the dominator and select                        <span class="control">Open this object set</span>                        in the context menu.                    </p></li></ul>                <p id="67523db1">                    After this, the                    <span class="control">Dominators of [type_name]</span>                    subject will be added to the                    <a href="First_Look_at_the_dotMemory_s_User_Interface.html#ui">Analysis Path</a>                    and the list of desired objects will be displayed in the                    <a href="Type_List.html">Group by Types</a>                    view.                </p>            </li></ul></section>                    <section class="procedure-steps"><h3 id="set">To select the objects that are exclusively retained by the analyzed objects set</h3><ul class="list "><li class="list__item" id="fb755a9b">                    <p id="5666ee5f">                        Click the                        <img alt="Open retained objects" title="Open retained objects" src="/help/img/dotnet/2019.2/open_retained_objects_button.png" id="9ca9e8ad" width="25" height="23" class="inline-icon-25">                        <span class="control">Open objects retained by this set</span>                        button.                    </p>                    <p id="3a328f8f">                        After this, the                        <span class="control">Exclusively retained objects</span>                        subject will be added to the                        <a href="First_Look_at_the_dotMemory_s_User_Interface.html#ui">Analysis Path</a>                        and the list of desired objects will be displayed in the                        <a href="Type_List.html">Group by Types</a>                        view.                    </p>                </li></ul></section>            </div>    <div class="last-modified" data-skip-index="skip">Last modified: 8 August 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="Type_List.html">Group by Types</a><a class="navigation-links__next" href="Similar_Retention.html">Group by Similar Retention</a></div><section class="seealso" data-skip-index="skip"><div class="seealso__header"><h2>See Also</h2></div><div class="seealso__content"><div class="seealso__col" data-skip-index="skip"><h3>Reference:</h3><ul class="list"><li class="list__item"><a href="Reference__Views_Legend.html">Icons</a></li><li class="list__item"><a href="Type_List.html">Group by Types</a></li><li class="list__item"><a href="Similar_Retention.html">Group by Similar Retention</a></li><li class="list__item"><a href="Shortest_Path.html">Group by Shortest Paths</a></li><li class="list__item"><a href="Creation_Stack_Trace.html">Group by Creation Stack Trace</a></li><li class="list__item"><a href="Generations.html">Group by Generations</a></li><li class="list__item"><a href="Instances.html">Group by Instances</a></li></ul></div></div></section></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="//resources.jetbrains.com/storage/help-app/v3/app.js"></script></body></html>