<html lang="en-US" ><head><meta name="robots" content="noindex"></meta><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></meta><meta charset="UTF-8"></meta><title>Hub 1.0帮助:: LDAP认证模块</title><link rel="stylesheet" href="/help/app/app.css"></head><body  data-id="LDAP-Authentication-Module"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><div class="wrapper"><section class="panel _nav"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索中心帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header"><div class="container"><h3>Hub 1.0帮助</h3><div class="shortcuts-switcher"><label for="switch-shortcuts">按键图：</label><select id="switch-shortcuts" class="select _shortcuts" height="1"></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="false"><div class="navigation-links _top"><a class="navigation-links__prev" href="OpenID-Authentication-Module.html">OpenID身份验证模块</a> <a class="navigation-links__next" href="Google-Authentication-Module.html">Google身份验证模块</a></div><h1>LDAP认证模块</h1><p>LDAP身份验证模块使用户可以使用存储在目录服务中的凭据登录集线器和所有连接的服务。</p><ul><li class="list__item"><a href="#d49475e11">背景资料</a></li><li class="list__item"><a href="#d49475e31">先决条件</a></li><li class="list__item"><a href="#d49475e49">启用LDAP认证</a></li><li class="list__item"><a href="#d49475e162">测试与目录服务的连接</a></li><li class="list__item"><a href="#LDAPSettings">设定值</a></li><li class="list__item"><a href="#d49475e297">LDAP属性</a></li><li class="list__item"><a href="#d49475e335">自动加入群组</a></li><li class="list__item"><a href="#d49475e346">样本配置</a></li></ul><a name="d49475e11"></a><h2>背景资料</h2>
        <p>LDAP集成不会从目录服务中导入所有用户帐户。集线器仅在未注册的用户首次登录集线器或连接的服务时创建用户帐户。</p>
        <p>启用LDAP身份验证后，集线器将为每次登录尝试检查目录服务。从目录服务中删除的用户无法登录集线器。</p>
        <p>集线器为LDAP，OpenLDAP和Active Directory提供了预配置的身份验证模块。您可以将模块配置为使用标准LDAP方案或基于SSL的LDAPS。</p>
        <aside class="note sideblock">
            <p>在通过SSL进行身份验证之前，您需要导入SSL证书和密钥库。有关更多信息，请参见<a name="Managing-SSL-Keys-and-Trusted-Certificates"></a> <a href=""><span>LDAP认证模块</span></a> 。</p>
        </aside>
    <a name="d49475e31"></a><h2>先决条件</h2>
        <p>在开始之前，请验证以下要求：</p>
        <ul class="list _bullet"><li class="list__item">您在集线器中具有“ <i>创建身份验证模块”</i>和“ <i>更新身份验证模块”</i>权限。</li><li class="list__item">如果要通过SSL进行身份验证，则已经导入了受信任的SSL证书和密钥库。</li></ul>
    <a name="d49475e49"></a><h2>启用LDAP认证</h2>
        <a name="Enable LDAP Authentication"></a>
        <p>要允许存储在目录服务中的用户登录到集线器，请启用LDAP身份验证模块。</p>
        <a name="dynaProc0"></a><section class="procedure-steps"><ol class="list _decimal"><li class="list__item">从<span class="control">更多设置</span>菜单中，选择<span class="control">验证模块</span> 。</li><li class="list__item">从“ <span class="control">添加模块”</span>下拉列表中，选择与要启用的目录服务相对应的选项。您可以选择<span class="control">LDAP</span> ， <span class="control">OpenLDAP</span>或<span class="control">Active Directory</span> 。
                <ul class="list _bullet"><li class="list__item">“ <span class="control">添加模块”</span>对话框打开。</li></ul>
            </li><li class="list__item">在“ <span class="control">添加模块”</span>对话框中，输入以下设置的值：<table class="" width="100%"><thead><tr class="ijRowHead"><th>领域</th><th>描述</th></tr></thead><tbody><tr class="ijRowOdd"><td>名称</td><td>输入身份验证模块的名称。</td></tr><tr class="ijRowEven"><td>服务器</td><td>输入目录服务的服务器地址。</td></tr><tr class="ijRowOdd"><td>港口</td><td>输入用于与目录服务通信的端口号。
                            <ul class="list _ul"><li class="list__item">标准LDAP的默认端口是389。</li><li class="list__item">LDAPS的默认端口是636。</li></ul></td></tr><tr class="ijRowEven"><td>SSL协议</td><td>选择此选项可通过SSL进行身份验证。</td></tr><tr class="ijRowOdd"><td>搜索库</td><td>输入定义用于存储用户帐户的顶级LDAP DN的域组件。例如，如果您的公司使用域<code class="code" data-lang="Java">mycompany.com</code> ，请输入顶级LDAP DN <code class="code" data-lang="Java">dc=mycompany,dc=com</code> 。<br>在此字段中输入的值将添加到LDAP URL中，并且不能包含不安全的字符。<br>如果您使用组织单位来管理用户，请为每个组织创建单独的身份验证模块。在搜索库中包括组织单位，以为每个模块创建唯一的LDAP URL。LDAP认证模块不支持LDAP树中的递归搜索。</td></tr></tbody></table>
            </li><li class="list__item">单击<span class="control">创建模块</span>按钮。
                <ul class="list _bullet"><li class="list__item">LDAP认证模块已启用。</li><li class="list__item">“ <span class="control">验证模块”</span>页面显示LDAP验证模块的设置。该模块已预先配置了标准设置，这些设置基于您在“ <span class="control">添加模块”</span>对话框中提供的信息。有关此页面上设置的更多信息，请参阅<a href="#LDAPSettings"><span>LDAP身份验证模块</span></a> 。</li></ul>
                <figure><a class="lightbox" href="/help/img/hub/1.0/ldapAddedModuleSettings.png"><img alt="ldapAddedModuleSettings.png" width="600" height="300" src="/help/img/hub/1.0/ldapAddedModuleSettings_thumbnail.png"></a></figure>
            </li></ol></section>
    <a name="d49475e162"></a><h2>测试与目录服务的连接</h2>
        <p>要验证LDAP身份验证模块已连接到您的目录服务，请测试连接。</p>
    <a name="dynaProc1"></a><section class="procedure-steps"><ol class="list _decimal"><li class="list__item">单击<span class="control">测试登录</span>按钮。</li><li class="list__item">在“ <span class="control">测试身份验证”</span>对话框中，输入存储在目录服务中的用户的凭据：<ul class="list _bullet"><li class="list__item">在<b>登录</b>字段中，输入<code class="code" data-lang="Java">domainusername</code> 。</li><li class="list__item">在<b>密码</b>字段中，输入<code class="code" data-lang="Java">password</code> 。</li></ul>
            </li><li class="list__item">单击<span class="control">测试登录</span>按钮。
                <ul class="list _bullet"><li class="list__item">集线器在目录服务中搜索指定的用户帐户。如果找到用户，则显示成功通知。如果出现错误，请检查用户凭据和服务器URL。</li></ul></li></ol></section>
    <a name="LDAPSettings"></a><h2>设定值</h2>
        <p>使用以下设置来配置集线器如何连接到目录服务。</p>
        <table class=" wide" width="100%"><thead><tr class="ijRowHead"><th>领域</th><th>描述</th><th>附加信息</th></tr></thead><tbody><tr class="ijRowOdd"><td>类型</td><td>显示在集线器中启用了第三方身份验证的应用程序或服务的名称。</td><td></td></tr><tr class="ijRowEven"><td>名称</td><td>存储认证模块的名称。使用此设置可以将该模块与“身份<span class="control">验证模块”</span>列表中的其他身份验证模块区分开。</td><td></td></tr><tr class="ijRowOdd"><td>认证方式</td><td>显示模块的当前状态。此状态指示模块当前是启用还是禁用。</td><td></td></tr><tr class="ijRowEven"><td>审计</td><td>链接到中心中的“ <span class="control">审核事件”</span>页面。在这里，您可以查看应用于此身份验证模块的更改列表。</td><td></td></tr><tr class="ijRowOdd"><td>服务器网址</td><td>将目录服务的LDAP URL存储在Hub中，该目录服务用于对登录请求进行身份验证。</td><td>LDAP URL使用格式<code class="code" data-lang="Java">ldap://host:port:DN</code> 。输入存储用户帐户的目录的完整专有名称（DN）。</td></tr><tr class="ijRowEven"><td>绑定DN</td><td>存储用于与目录服务绑定的查询。该查询查找要认证的用户的专有名称。用户名由表达式引用。该表达式将替换变量映射到将用户名存储在目录服务中的属性。您选择的属性确定在过滤字符串中使用哪个查询。</td><td>在登录页面上作为用户名输入的值在替换替换变量之前会被修剪。如果用户指定域，则将其丢弃。例如，将值<code class="code" data-lang="Java">WORKGROUP\smith</code>的用户名修剪为<code class="code" data-lang="Java">smith</code> 。要指定域，请输入域名作为静态值。例如， <code class="code" data-lang="Java">WORKGROUP\%u</code> 。</td></tr><tr class="ijRowOdd"><td>过滤</td><td>存储用于过滤特定用户的表达式。表达式中的替换变量将替换为在登录页面上作为用户名输入的值。</td><td>在此字段中输入的值将在目录服务中找到经过身份验证的用户。</td></tr><tr class="ijRowEven"><td>SSL密钥</td><td>选择受信任的SSL证书使用的密钥存储。</td><td></td></tr><tr class="ijRowOdd"><td>建立使用者</td><td>为使用存储在连接的目录服务中的帐户登录的未注册用户创建中心帐户。集线器使用电子邮件地址来确定用户是否具有现有帐户。</td><td>所有LDAP身份验证模块都必须允许用户创建。如果拒绝用户创建，则向未注册的用户显示错误。</td></tr></tbody></table>
    <a name="d49475e297"></a><h2>LDAP属性</h2>
        <p>使用以下设置将目录服务中存储的属性映射到集线器中的用户帐户。</p>
        <table class="" width="100%"><thead><tr class="ijRowHead"><th>领域</th><th>描述</th></tr></thead><tbody><tr class="ijRowOdd"><td>名称</td><td>存储包含用户名的LDAP属性的名称。</td></tr><tr class="ijRowEven"><td>登录</td><td>存储包含用户名的LDAP属性的名称。</td></tr><tr class="ijRowOdd"><td>电子邮件</td><td>存储包含电子邮件地址的LDAP属性的名称。</td></tr><tr class="ijRowEven"><td>贾伯</td><td>存储包含Jabber帐户用户名的LDAP属性的名称。</td></tr><tr class="ijRowOdd"><td>VCS用户名</td><td>存储LDAP属性的名称，该属性包含版本控制系统的用户名。</td></tr></tbody></table>
    <a name="d49475e335"></a><h2>自动加入群组</h2>
        <p>当用户使用存储在连接的目录服务中的帐户登录时，使用此设置可将用户添加到组中。您可以选择一个或多个组。自动加入组的新用户将继承分配给该组的所有权限。<br>我们建议您将用户添加到至少一个组中。否则，仅授予新用户当前分配给“ <span class="control">所有用户”</span>组的权限。</p>
    <a name="d49475e346"></a><h2>样本配置</h2>
        <table class=" wide" width="100%"><thead><tr class="ijRowHead"><th>服务类型</th><th>组态</th><th>附加信息</th></tr></thead><tbody><tr class="ijRowOdd"><td>LDAP</td><td>伺服器网址： <code class="code" data-lang="Java">ldap://ldap.company.com:389/dc=company,dc=com</code><br>绑定DN： <code class="code" data-lang="Java">uid=%u,ou=People</code><br>过滤器： <code class="code" data-lang="Java">uid=%u</code><br>选择SSL密钥：无密钥</td></tr><tr class="ijRowEven"><td>通过SSL的LDAP</td><td>伺服器网址： <code class="code" data-lang="Java">ldaps://ldap.company.com:636/dc=company,dc=com</code><br>绑定DN： <code class="code" data-lang="Java">uid=%u,ou=People</code><br>过滤器： <code class="code" data-lang="Java">uid=%u</code><br>选择SSL密钥：LDAP SSL</td></tr><tr class="ijRowOdd"><td>OpenLDAP</td><td>伺服器网址： <code class="code" data-lang="Java">ldap://ldap.company.com:389/dc=company,dc=com</code><br>绑定DN： <code class="code" data-lang="Java">uid=%u,dc=company,dc=com</code><br>过滤器： <code class="code" data-lang="Java">uid=%u</code><br>选择SSL密钥：无密钥</td></tr><tr class="ijRowEven"><td>通过SSL的OpenLDAP</td><td>伺服器网址： <code class="code" data-lang="Java">ldaps://ldap.company.com:636/dc=company,dc=com</code><br>绑定DN： <code class="code" data-lang="Java">uid=%u,dc=company,dc=com</code><br>过滤器： <code class="code" data-lang="Java">uid=%u</code><br>选择SSL密钥：LDAP SSL</td></tr><tr class="ijRowOdd"><td>活动目录</td><td>伺服器网址： <code class="code" data-lang="Java">ldap://ldap.company.com:389/dc=company,dc=com</code><br>绑定DN： <code class="code" data-lang="Java">%u@company.com</code><br>筛选器： <code class="code" data-lang="Java">sAMAccountName=%u</code><br>选择SSL密钥：无密钥</td><td>用活动目录的域名替换<code class="code" data-lang="Java">company.com</code> 。</td></tr><tr class="ijRowEven"><td>通过SSL的Active Directory</td><td>伺服器网址： <code class="code" data-lang="Java">ldaps://ldap.company.com:636/dc=company,dc=com</code><br>绑定DN： <code class="code" data-lang="Java">%u@company.com</code><br>筛选器： <code class="code" data-lang="Java">sAMAccountName=%u</code><br>选择SSL密钥：Active Directory SSL</td><td>用活动目录的域名替换<code class="code" data-lang="Java">company.com</code> 。</td></tr></tbody></table>
    <div class="last-modified">上次修改时间：2016年4月19日</div></article><div id="disqus_thread"></div></div></section></main></div><script src="/help/app/app.js"></script></body></html>