{"data":{"resource":{"html":"<p>React encourages a separation of concerns. UI components, aka presentation\ncomponents, aka dumb components, are created by the bushel and managed by\ncontainer components, aka smart components. The container maintains state,\nlogic, and passes things into the presentation component.</p>\n<p>Our Counter component is, as originally intended, a <em>class component</em> with\nstate. Let's make it a <em>presentation component</em> by moving the state up to\nthe container (App), as well as the incrementing logic.</p>\n<h2>Counter State</h2>\n<p>We'll start by removing state from the Counter component. Instead, the count\nis passed in as a prop. Also, the dumb child component will no longer decide\nthe starting value, so remove <code class=\"language-text\">start</code> from the interface:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">interface</span> <span class=\"token class-name\">ICounterProps</span> <span class=\"token punctuation\">{</span>\n    label<span class=\"token operator\">?</span><span class=\"token punctuation\">:</span> <span class=\"token builtin\">string</span>\n    count<span class=\"token punctuation\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span>\n<span class=\"gatsby-highlight-code-line\"><span class=\"token punctuation\">}</span></span></code></pre></div>\n<p>As soon as we do that, the universe starts breaking. TypeScript yells at us\nin every one of our tests, as our <code class=\"language-text\">&lt;Counter/&gt;</code> component is not passing in\na required prop.  Too bad, TypeScript, you'll have to wait. </p>\n<p>Next, let's change our <code class=\"language-text\">Counter</code> component to not have local state. We\nmentioned in\n<a href=\"../functional_components/\">Functional React Components in TypeScript</a>\nthat stateless presentation components are best done with stateless functional\ncomponents. Let's change <code class=\"language-text\">&lt;Counter/&gt;</code> to an SFC:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">const</span> Counter<span class=\"token punctuation\">:</span> <span class=\"token constant\">FC</span><span class=\"token operator\">&lt;</span>ICounterProps<span class=\"token operator\">></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token punctuation\">{</span>label <span class=\"token operator\">=</span> <span class=\"token string\">'Count'</span><span class=\"token punctuation\">,</span> count<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n        <span class=\"token operator\">&lt;</span>div\n            className<span class=\"token operator\">=</span><span class=\"token string\">\"counter\"</span>\n            <span class=\"token comment\">// onClick={handleClick}</span>\n        <span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>label<span class=\"token operator\">></span><span class=\"token punctuation\">{</span>label<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>label<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>span<span class=\"token operator\">></span><span class=\"token punctuation\">{</span>count<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>span<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n\n    <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><em>Note: The IDE has a refactoring that will convert a React class\ncomponent to a functional componet and vice-versa. Very useful.</em></p>\n<p>Change <code class=\"language-text\">Component</code> in the <code class=\"language-text\">import</code> to <code class=\"language-text\">FC</code>. Or, let the IDE do the cleanup\nfor you: <code class=\"language-text\">Alt-Enter</code> to generate the import and <code class=\"language-text\">Optimize Imports</code>\n(<code class=\"language-text\">Ctrl-Alt-O</code> Win/Linux/macOS).</p>\n<p>Note that we commented out, for now, the click handler. We can also delete\nthe <code class=\"language-text\">ICounterState</code> interface as it is no longer needed.</p>\n<p>Let's fix the first two tests, to see if we are in the ballpark:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token function\">it</span><span class=\"token punctuation\">(</span><span class=\"token string\">'should render a counter'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n<span class=\"gatsby-highlight-code-line\">    <span class=\"token keyword\">const</span> wrapper <span class=\"token operator\">=</span> <span class=\"token function\">shallow</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&lt;</span>Counter count<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">0</span><span class=\"token punctuation\">}</span><span class=\"token operator\">/</span><span class=\"token operator\">></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span>\n    <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>wrapper<span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.counter label'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">text</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBe</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Count'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">it</span><span class=\"token punctuation\">(</span><span class=\"token string\">'should render a counter with custom label'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> wrapper <span class=\"token operator\">=</span> <span class=\"token function\">shallow</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&lt;</span>Counter label<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">'Current'</span><span class=\"token punctuation\">}</span> count<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">0</span><span class=\"token punctuation\">}</span><span class=\"token operator\">/</span><span class=\"token operator\">></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>wrapper<span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.counter label'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">text</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBe</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Current'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>These two tests now pass.</p>\n<p>Since the <code class=\"language-text\">&lt;Counter/&gt;</code> component will longer control the starting value,\nyou can remove the <code class=\"language-text\">should default start at zero</code> and\n<code class=\"language-text\">should custom start at another value</code> tests from <code class=\"language-text\">Counter.test.tsx</code>.</p>\n<h2>Passing In Click Function</h2>\n<p>The child component is no longer responsible for the count value. It's passed\nin from the parent, which keeps track of the state. So how do we handle\nclicks?</p>\n<p>It sounds weird, but...in the same way. We're going to <em>pass in an arrow\nfunction from the parent</em>. Meaning, the parent contains all the logic for what\nhappens when there is a click. All the child needs to know is \"when the click\nevent comes in, call the function that was passed to me as a prop.\"</p>\n<p>Here goes. First, since this click handler function will come in as a prop,\nwe need to change <code class=\"language-text\">ICounterProps</code> to model it:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">interface</span> <span class=\"token class-name\">ICounterProps</span> <span class=\"token punctuation\">{</span>\n    label<span class=\"token operator\">?</span><span class=\"token punctuation\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n    count<span class=\"token punctuation\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span>\n    onCounterIncrease<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">:</span> React<span class=\"token punctuation\">.</span>MouseEvent<span class=\"token operator\">&lt;</span>HTMLElement<span class=\"token operator\">></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">void</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Now <em>that's</em> an interface, baby. It captures quite a bit of the contract.</p>\n<p>Next, use ES6 object destructuring to \"unpack\" that from the props into the\nlocal scope, then refer to that prop in the <code class=\"language-text\">onClick</code> handler:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">const</span> Counter<span class=\"token punctuation\">:</span> <span class=\"token constant\">FC</span><span class=\"token operator\">&lt;</span>ICounterProps<span class=\"token operator\">></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token punctuation\">{</span>label <span class=\"token operator\">=</span> <span class=\"token string\">'Count'</span><span class=\"token punctuation\">,</span> count<span class=\"token punctuation\">,</span> onCounterIncrease<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n        <span class=\"token operator\">&lt;</span>div\n            className<span class=\"token operator\">=</span><span class=\"token string\">\"counter\"</span>\n            onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>onCounterIncrease<span class=\"token punctuation\">}</span>\n        <span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>label<span class=\"token operator\">></span><span class=\"token punctuation\">{</span>label<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>label<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>span<span class=\"token operator\">></span><span class=\"token punctuation\">{</span>count<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>span<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n\n    <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Note that the IDE, as you did the unpacking, knew how to autocomplete\n<code class=\"language-text\">onCounterIncrease</code>.</p>\n<p>Our tests, though, are having compiler trouble again. We broke the component\ncontract, because <code class=\"language-text\">onCounterIncrease</code> is a mandatory prop. It's easy to\nshut up this test, because we aren't testing click handling:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">const</span> handler <span class=\"token operator\">=</span> jest<span class=\"token punctuation\">.</span><span class=\"token function\">fn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> wrapper <span class=\"token operator\">=</span> <span class=\"token function\">shallow</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&lt;</span>Counter count<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">1</span><span class=\"token punctuation\">}</span> onCounterIncrease<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>handler<span class=\"token punctuation\">}</span><span class=\"token operator\">/</span><span class=\"token operator\">></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>We used <a href=\"../../../technologies/jest\">Jest</a> mock functions to create a disposable arrow\nfunction which we passed in as a prop.</p>\n<p>Do this for both tests:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token function\">it</span><span class=\"token punctuation\">(</span><span class=\"token string\">'should render a counter'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> handler <span class=\"token operator\">=</span> jest<span class=\"token punctuation\">.</span><span class=\"token function\">fn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> wrapper <span class=\"token operator\">=</span> <span class=\"token function\">shallow</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&lt;</span>Counter count<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">0</span><span class=\"token punctuation\">}</span>\n                                     onCounterIncrease<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>handler<span class=\"token punctuation\">}</span><span class=\"token operator\">/</span><span class=\"token operator\">></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>wrapper<span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.counter label'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">text</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBe</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Count'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">it</span><span class=\"token punctuation\">(</span><span class=\"token string\">'should render a counter with custom label'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> handler <span class=\"token operator\">=</span> jest<span class=\"token punctuation\">.</span><span class=\"token function\">fn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> wrapper <span class=\"token operator\">=</span> <span class=\"token function\">shallow</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&lt;</span>Counter label<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">'Current'</span><span class=\"token punctuation\">}</span> count<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">0</span><span class=\"token punctuation\">}</span>\n                                     onCounterIncrease<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>handler<span class=\"token punctuation\">}</span><span class=\"token operator\">/</span><span class=\"token operator\">></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>wrapper<span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.counter label'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">text</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBe</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Current'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Event handling is a bit trickier. We need a \"spy\" that tells whether our\npassed-in handler gets called, and called the right way. Also, we don't\ntest whether the value updates, since the container is responsible for\nthat.</p>\n<p>Let's change the third test:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token function\">it</span><span class=\"token punctuation\">(</span><span class=\"token string\">'should call the handler on click'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> handler <span class=\"token operator\">=</span> jest<span class=\"token punctuation\">.</span><span class=\"token function\">fn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> wrapper <span class=\"token operator\">=</span> <span class=\"token function\">shallow</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&lt;</span>Counter count<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">1</span><span class=\"token punctuation\">}</span> onCounterIncrease<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>handler<span class=\"token punctuation\">}</span><span class=\"token operator\">/</span><span class=\"token operator\">></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    wrapper<span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.counter'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">simulate</span><span class=\"token punctuation\">(</span><span class=\"token string\">'click'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>shiftKey<span class=\"token punctuation\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>handler<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBeCalledWith</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>shiftKey<span class=\"token punctuation\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>We're simply ensuring that clicking the value calls the callback. </p>\n<p>We <em>could</em> delete the last test, as it isn't the responsibility of the\n<code class=\"language-text\">&lt;Counter/&gt;</code> to handle the click. All the logic is in container, not the\npresentation component.</p>\n<h2>Dumb Component Gets a Little Smarter</h2>\n<p>But is that strictly true? What if the presentation component took care of\ndissecting HTML event information, extracted the relevant data, and <em>then</em>\ncalled the callback? That's a better division of responsibilities. The\ncontainer would then be truly UI-less for this functionality.</p>\n<p>First, let's change the contract. Our callback will be called <em>not</em> with the\nraw event, but with a <em>boolean</em> for the shift information:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">interface</span> <span class=\"token class-name\">ICounterProps</span> <span class=\"token punctuation\">{</span>\n    label<span class=\"token operator\">?</span><span class=\"token punctuation\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n    count<span class=\"token punctuation\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span>\n    onCounterIncrease<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span>isShift<span class=\"token punctuation\">:</span> <span class=\"token builtin\">boolean</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">void</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Our SFC gains a local arrow function which does the extraction and calling::</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">const</span> Counter<span class=\"token punctuation\">:</span> <span class=\"token constant\">FC</span><span class=\"token operator\">&lt;</span>ICounterProps<span class=\"token operator\">></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token punctuation\">{</span>label <span class=\"token operator\">=</span> <span class=\"token string\">'Count'</span><span class=\"token punctuation\">,</span> count<span class=\"token punctuation\">,</span> onCounterIncrease<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">handleClick</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">:</span> React<span class=\"token punctuation\">.</span>MouseEvent<span class=\"token operator\">&lt;</span>HTMLElement<span class=\"token operator\">></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">onCounterIncrease</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">.</span>shiftKey<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n        <span class=\"token operator\">&lt;</span>div\n            className<span class=\"token operator\">=</span><span class=\"token string\">\"counter\"</span>\n            onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>handleClick<span class=\"token punctuation\">}</span>\n        <span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>label<span class=\"token operator\">></span><span class=\"token punctuation\">{</span>label<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>label<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>span<span class=\"token operator\">></span><span class=\"token punctuation\">{</span>count<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>span<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n\n    <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Our third test can now change, to see if our \"spy\" was called with a boolean\ninstead of an event object:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token function\">it</span><span class=\"token punctuation\">(</span><span class=\"token string\">'should call the handler on click'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> handler <span class=\"token operator\">=</span> jest<span class=\"token punctuation\">.</span><span class=\"token function\">fn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> wrapper <span class=\"token operator\">=</span> <span class=\"token function\">shallow</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&lt;</span>Counter count<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">0</span><span class=\"token punctuation\">}</span> onCounterIncrease<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>handler<span class=\"token punctuation\">}</span><span class=\"token operator\">/</span><span class=\"token operator\">></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    wrapper<span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.counter'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">simulate</span><span class=\"token punctuation\">(</span><span class=\"token string\">'click'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>shiftKey<span class=\"token punctuation\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>handler<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBeCalledWith</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>The fourth test, for shift, can be deleted. It's simply a variation of this\ntest. And with that, our tests in <code class=\"language-text\">Counter.test.tsx</code> are passing.</p>\n<h2>Updating the Container</h2>\n<p>We now have a <code class=\"language-text\">&lt;Counter/&gt;</code> presentation component that passes tests. But\nwe've shifted some responsibility to the parent. Let's do the updates. Start\nby opening <code class=\"language-text\">App.tsx</code> and <code class=\"language-text\">App.test.tsx</code> side-by-side.</p>\n<p>First, this <code class=\"language-text\">&lt;App/&gt;</code> component will now have some state. We need an\ninterface for the counter's state. We just so happen to have one left\nbehind in <code class=\"language-text\">Counter.tsx</code>. <em>Remove the interface</em> from that file and paste it\ninto <code class=\"language-text\">App.tsx</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">interface</span> <span class=\"token class-name\">ICounterState</span> <span class=\"token punctuation\">{</span>\n    count<span class=\"token punctuation\">:</span> <span class=\"token builtin\">number</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Change the class setup to use this, with a constructor that sets up the\ninitial state:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">App</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Component</span><span class=\"token operator\">&lt;</span>object<span class=\"token punctuation\">,</span> ICounterState<span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">constructor</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n            count<span class=\"token punctuation\">:</span> <span class=\"token number\">0</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span></code></pre></div>\n<p>Now it's time for the action. Let's make a method that updates the state.\nThis method will be the handler that's passed into <code class=\"language-text\">&lt;Counter/&gt;</code>. We first\ntry it as a normal method:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token function\">increment</span><span class=\"token punctuation\">(</span>isShift<span class=\"token punctuation\">:</span> <span class=\"token builtin\">boolean</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> inc<span class=\"token punctuation\">:</span> <span class=\"token builtin\">number</span> <span class=\"token operator\">=</span> isShift <span class=\"token operator\">?</span> <span class=\"token number\">10</span> <span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>count<span class=\"token punctuation\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>count <span class=\"token operator\">+</span> inc<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>But this is going to have the same problem discussed previously: <code class=\"language-text\">this</code> is\nbound to the event, not the component. As before, we solve this by converting\nthe method to an arrow function class property:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token function-variable function\">increment</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>isShift<span class=\"token punctuation\">:</span> <span class=\"token builtin\">boolean</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> inc<span class=\"token punctuation\">:</span> <span class=\"token builtin\">number</span> <span class=\"token operator\">=</span> isShift <span class=\"token operator\">?</span> <span class=\"token number\">10</span> <span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>count<span class=\"token punctuation\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>count <span class=\"token operator\">+</span> inc<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>With this in place, we can now update the <code class=\"language-text\">render</code> function:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n        <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>Heading<span class=\"token operator\">/</span><span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>Counter\n                label<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">'Current'</span><span class=\"token punctuation\">}</span>\n                count<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>count<span class=\"token punctuation\">}</span>\n                onCounterIncrease<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>increment<span class=\"token punctuation\">}</span>\n            <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>State is maintained in the parent which it gives to the child, along with an\nupdate handler function.</p>\n<h2>Test the State Updater</h2>\n<p>And with that, our tests pass again. However, we have dropped any testing to\nsee whether the state actually updated. The responsibility is spread a bit\nbetween the two components.</p>\n<p>Let's first add tests in <code class=\"language-text\">App.test.tsx</code> for the increment function:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token function\">it</span><span class=\"token punctuation\">(</span><span class=\"token string\">'updates state when increment is called without shift'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> wrapper <span class=\"token operator\">=</span> <span class=\"token function\">shallow</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&lt;</span>App<span class=\"token operator\">/</span><span class=\"token operator\">></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> instance <span class=\"token operator\">=</span> wrapper<span class=\"token punctuation\">.</span><span class=\"token function\">instance</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> App<span class=\"token punctuation\">;</span>\n    <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>instance<span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>count<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBe</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    instance<span class=\"token punctuation\">.</span><span class=\"token function\">increment</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>instance<span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>count<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBe</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">it</span><span class=\"token punctuation\">(</span><span class=\"token string\">'updates state when increment is called with shift'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> wrapper <span class=\"token operator\">=</span> <span class=\"token function\">shallow</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&lt;</span>App<span class=\"token operator\">/</span><span class=\"token operator\">></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> instance <span class=\"token operator\">=</span> wrapper<span class=\"token punctuation\">.</span><span class=\"token function\">instance</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> App<span class=\"token punctuation\">;</span>\n    <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>instance<span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>count<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBe</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    instance<span class=\"token punctuation\">.</span><span class=\"token function\">increment</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>instance<span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>count<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBe</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><code class=\"language-text\">shallow</code> needs importing so use the IDE's <code class=\"language-text\">Alt-Enter</code> to generate the\nimport from <code class=\"language-text\">enzyme</code>.</p>\n<p>We used Enzyme's <code class=\"language-text\">instance()</code> method to grab the component instead of the\nDOM-like node. We then called <code class=\"language-text\">increment</code> and checked to see if the parent's\nstate increased appropriately.</p>\n<p>Those tests pass, which is a good sign. We need though to test the\nparent-child connection. For this we'll go back to Enzyme's <code class=\"language-text\">mount</code> and\nadd these two tests:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token function\">it</span><span class=\"token punctuation\">(</span><span class=\"token string\">'updates the count by 1 via the counter component'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> wrapper <span class=\"token operator\">=</span> <span class=\"token function\">mount</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&lt;</span>App<span class=\"token operator\">/</span><span class=\"token operator\">></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    wrapper<span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.counter'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">simulate</span><span class=\"token punctuation\">(</span><span class=\"token string\">'click'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>shiftKey<span class=\"token punctuation\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>wrapper<span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.counter span'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">text</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBe</span><span class=\"token punctuation\">(</span><span class=\"token string\">'1'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">it</span><span class=\"token punctuation\">(</span><span class=\"token string\">'updates the count by 10 via the counter component'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> wrapper <span class=\"token operator\">=</span> <span class=\"token function\">mount</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&lt;</span>App<span class=\"token operator\">/</span><span class=\"token operator\">></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    wrapper<span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.counter'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">simulate</span><span class=\"token punctuation\">(</span><span class=\"token string\">'click'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>shiftKey<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>wrapper<span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.counter span'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">text</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBe</span><span class=\"token punctuation\">(</span><span class=\"token string\">'10'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Fantastic, these tests pass. We now have enough confidence to head back\nover to the browser. Fire up the <code class=\"language-text\">start</code> run config, reload the browser,\nclick and shift click, then shut down <code class=\"language-text\">start</code>.</p>\n<h2>Testing Is Cool</h2>\n<p>This was a heck of a tutorial step. Let's take a moment and think about how\ndevelopment would have gone the \"normal\" way. How many times would you have\nswitched to from IDE->browser->IDE? How many clicks would you have to do to\neach time, checking that your new stuff worked and didn't break your old\nstuff? When you ran into a problem, would the browser give you a convenient\nand accurate notice?</p>\n<p>It's hard to make yourself get into TDD for React and TypeScript. Once you\ndo, and once you get into the flow, it's a very positive development\nexperience.</p>\n<h2>See Also</h2>\n<ul>\n<li><a href=\"https://www.codementor.io/vijayst/unit-testing-react-components-jest-or-enzyme-du1087lh8\">https://www.codementor.io/vijayst/unit-testing-react-components-jest-or-enzyme-du1087lh8</a></li>\n</ul>","id":"457dad63-d695-5fab-83ba-376cdbf7aff5","fields":{"slug":"/tutorials/react_typescript_tdd/presentation_components/"},"frontmatter":{"type":"tutorialstep","date":"July 7th, 2017","title":"Presentation and Container Components","subtitle":"Follow the React pattern of container/presentation components by refactoring the code and tests.","author":"pauleveritt","technologies":["react","typescript","jest"],"topics":[],"leadin":null,"seealso":null,"longVideo":{"url":"https://www.youtube.com/watch?v=FuV0R_n2whg","poster":{"publicURL":"/pycharm/guide/static/poster_long-a2248ee9d985c8df24437989171aae10.png","childImageSharp":{"fluid":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABQElEQVQoz62Rx27DMBBE9TkmVShRxZYtqpiSu+NTbvmEBEaAXPL1ExZLUQIXBMjhYVh2hkusk2QZ8ilHXiwgco4sb1E/f2Jxekd+OKNQmu7OCLpXRKs3JNszZscPiM0LwihG4FEw5oMFvlEnjhMUcwYxn4F7LjiPUTbdVUStaVFUrVKJgIUghIBQqtTicBU4nc1RK0OR5ljkAkVZQZS1Uou4QRhGcF0XnucNqA5Ts/B932ikikTVGIqRjunvrwZGPDGH1LRNzDeGQN3JKOD3GVO1VHkotX7NENiHsr8GKk/v1/xbYK93Ax9xs0P7fzV+MkEQsGG6j9C1ZDK5eIlRJ04yMy2mUS/GSYp62VqkpWokynr5TaORplb7whGObFdoZPeDPrCRFruXF1p06w1Wmx12hyfsjyelR2z3B6y3e3wBnkRt9QmJXVMAAAAASUVORK5CYII=","aspectRatio":1.7777777777777777,"src":"/pycharm/guide/static/a2248ee9d985c8df24437989171aae10/c2a4f/poster_long.png","srcSet":"/pycharm/guide/static/a2248ee9d985c8df24437989171aae10/a3004/poster_long.png 250w,\n/pycharm/guide/static/a2248ee9d985c8df24437989171aae10/90fcb/poster_long.png 500w,\n/pycharm/guide/static/a2248ee9d985c8df24437989171aae10/c2a4f/poster_long.png 1000w,\n/pycharm/guide/static/a2248ee9d985c8df24437989171aae10/062d3/poster_long.png 1280w","sizes":"(max-width: 1000px) 100vw, 1000px"}}}}}},"tutorials":{"edges":[{"node":{"fields":{"slug":"/tutorials/react_typescript_tdd/"},"frontmatter":{"title":"React, TypeScript, and TDD","steps":["project_setup","project_cleanup","testing","nodejs_debugging","chrome_debugging","tsx_es6","functional_components","props","class_props","class_state","rich_events_and_testing","presentation_components"]}}}]},"tutorialsteps":{"edges":[{"node":{"fields":{"slug":"/tutorials/react_typescript_tdd/chrome_debugging/"},"frontmatter":{"title":"Debugging TSX With Chrome"}}},{"node":{"fields":{"slug":"/tutorials/react_typescript_tdd/class_state/"},"frontmatter":{"title":"Model Class State With TypeScript Interfaces"}}},{"node":{"fields":{"slug":"/tutorials/react_typescript_tdd/class_props/"},"frontmatter":{"title":"Class Components With Props"}}},{"node":{"fields":{"slug":"/tutorials/react_typescript_tdd/functional_components/"},"frontmatter":{"title":"Functional React Components in TypeScript"}}},{"node":{"fields":{"slug":"/tutorials/react_typescript_tdd/nodejs_debugging/"},"frontmatter":{"title":"Debugging During Testing With NodeJS"}}},{"node":{"fields":{"slug":"/tutorials/react_typescript_tdd/project_cleanup/"},"frontmatter":{"title":"Project Cleanup"}}},{"node":{"fields":{"slug":"/tutorials/react_typescript_tdd/project_setup/"},"frontmatter":{"title":"Project Setup"}}},{"node":{"fields":{"slug":"/tutorials/react_typescript_tdd/rich_events_and_testing/"},"frontmatter":{"title":"Rich Events and Testing"}}},{"node":{"fields":{"slug":"/tutorials/react_typescript_tdd/props/"},"frontmatter":{"title":"Sharing Props Using Type Information"}}},{"node":{"fields":{"slug":"/tutorials/react_typescript_tdd/testing/"},"frontmatter":{"title":"Testing"}}},{"node":{"fields":{"slug":"/tutorials/react_typescript_tdd/presentation_components/"},"frontmatter":{"title":"Presentation and Container Components"}}},{"node":{"fields":{"slug":"/tutorials/react_typescript_tdd/tsx_es6/"},"frontmatter":{"title":"TSX and ES6"}}}]},"authors":{"edges":[{"node":{"fields":{"slug":"/authors/pwe/"},"frontmatter":{"title":"Paul Everitt","label":"pauleveritt","headshot":{"publicURL":"/pycharm/guide/static/headshot-844cb975614ea03b2ca3b25e5e3ee531.jpg","childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGAABAAMBAAAAAAAAAAAAAAAAAAECAwT/xAAXAQEBAQEAAAAAAAAAAAAAAAADAgAB/9oADAMBAAIQAxAAAAGLZWJOZDHrzjd2FT//xAAcEAEAAgIDAQAAAAAAAAAAAAABAgMAERIhIjH/2gAIAQEAAQUCp1KVsQH7Ug2dZsx8jJ5BvP/EABcRAAMBAAAAAAAAAAAAAAAAAAEQIUH/2gAIAQMBAT8BAixf/8QAFxEBAQEBAAAAAAAAAAAAAAAAAQAQEf/aAAgBAgEBPwHEuF//xAAaEAACAgMAAAAAAAAAAAAAAAAAARARIjEy/9oACAEBAAY/AqMXDRzRotQz/8QAGxAAAwEBAAMAAAAAAAAAAAAAAAERITFBUWH/2gAIAQEAAT8hTG8U6sRsPwrVhFVMRDUwluiVHI+URp7P/9oADAMBAAIAAwAAABBUPzz/xAAWEQEBAQAAAAAAAAAAAAAAAAABABH/2gAIAQMBAT8QJbZC6tv/xAAXEQEBAQEAAAAAAAAAAAAAAAAAASFh/9oACAECAQE/EGoSxyf/xAAeEAEAAgICAwEAAAAAAAAAAAABABEhMVFhQXGRof/aAAgBAQABPxAggaHh81G1RFNov0gWVlbWxbXetRkggVXdBiJD9ZhDaYF9MyBQ6+Y+hkph6J//2Q==","aspectRatio":1,"src":"/pycharm/guide/static/844cb975614ea03b2ca3b25e5e3ee531/7ef6a/headshot.jpg","srcSet":"/pycharm/guide/static/844cb975614ea03b2ca3b25e5e3ee531/80b6c/headshot.jpg 250w,\n/pycharm/guide/static/844cb975614ea03b2ca3b25e5e3ee531/7ef6a/headshot.jpg 400w","sizes":"(max-width: 400px) 100vw, 400px"}}}}}},{"node":{"fields":{"slug":"/authors/wht/"},"frontmatter":{"title":"Bill Tucker","label":"wht","headshot":{"publicURL":"/pycharm/guide/static/headshot-5772649565abb3a7a67f9dbf9afba0c5.png","childImageSharp":{"fluid":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAAsSAAALEgHS3X78AAAFOUlEQVQ4y12U2U9jVRzH778wRl+MyzjAbJTCDFA6UAbosAxrodCW0tvbhVK60n1jClJgyjplpiyzu4xb4iSauERjog9Goy8mRs08zIMx+uSD/gfm42k1E+PDN+fm5nc+5/tbzpHGp0wYzRampq1YZmxMV2SzYVdkXM4ZFJsZuzyN7FCwKXZmZFtVVpuIt05jspiZNE0ybjQwahhBqkBmZAW7w4msOJmd8xCPzJOPyESUISb7tYzqtcxMjuB2zODyzKI4HSJeEfGy2DvzL1gYm5pAkp0unG5PVbF4hN2raXIRBx5zL3pNPepTJ+jpaKWjpZHWs7XYzRPMzXtxe9w4XA4Bt2OzVxxPY542IbnnvCLAj9cf5Pb+GrmglWmDns5WFaqaF7hQfxJd01mef+YpVC89h76lgYmhfrHHg8c7i2vWWYXKSiVTK5IvGGI+GCa3mCEXczF6qQ39hXNM6M7jH+oiPTlI3HCJ8TYVPQ216BrEAY1nGB8ZJBAKVKFuTyXLShlkpHA0RkhoaXmRQsaLTtNEl9iQnejnmmLkzZCTjxdDvJvysGzuw9R5DqOo6Yi+A5/fiy/oq7qdnXNXoVI0mSKWypBJRxnr06FpUqH068gb+ygrk3ySDfDVepKfyqs8ulXk89Ii7jE9A50aPCLdcDSMX0C9vrkqVEpksmSu5AmIn3UvPU+bAM4NXmRl6jK3XdN8mlvgu80lfn9wxF+fvQdff8gbmzmmBruxW01EYguEFoJPoFJuabkKXCoUGBnqo1V9BmefltnedibbWwj2XuAtzxQF4wA3Ay4eP9hhP2ZHsRjwzzkIL4RYEC5D4UAVKi0VVsmvFFheXcXnkTl/uoaJDhW9jSdpqjnOgLqGDyI23Do1js5WPsi7eTvrImkaYS0mYPEYkejCP1DhVFpZv8rLq2usbG6Sd8lYNGpChm7RWR1zPc042tR8v1Xg0f4qbwUt/Pxgg1/e2ecjr43ygo9wKkksFq2mHo6EkFaLGxTW11m7tktyyoi7RUV4tIdFMYthfRtDZ+oomsb4cjHGo1KBP997nd9e2+OHl+NsZZOEhMNYIlYFVlxKV7e2Wd/c4OruLsuVAnc1ExzuInG5G/9FLYbGelbHh/l2bYkfS0X+ePgav75a4pd7JfLpBJFEBRglKm5ZBSpt7u6wsbP9jzaLZGwTBC7r8OvbMbWokVub2Rkb5aEo+JHDzONbu/x8e4sbKVE/AUsk/wfc2SuxXbrGVgUstFZcx9nfibuzBUXcmGCnlptiPL5dyYoxMvHFWpJvdvMkRVfj6RSJVIL4f6DStRvX2b2+RwVccbstvgOKmYHGU9hFV9N9Xbwf9PL4aIeHuSD7XgsPMh7SiXnSuSwpkXYiFX8Clfb2y5TKN6iAd4TTHbFeSUXpUtVyUX2SHrFONtezbBkiM9XLumwgnxxjY17PYi5NMpt5Aq0Cy0eH3Dg84PpBWUD32Ds4IJsOMiyerovqOprqnqOx7lkM2rNERsQoxYYJu7UcuTRsh8bICJfxtFClOZWUD2/f4uDmkQAecHjnLqmkH237CcYuNNB7/ox4A4/TfvpFDN1qRr06uidUFK3NbCqtrFvPUfQNi0clQDKdFEMeR7p59w4HAnT/lTtsLMdo1hyn5sQxjNp69E21XKo/wcjlRgbjXbSa1Th7T1L2tJM1NrAwfJYVS6OAayhFxliKzyLduneP+4dFyosyfZdOc7z+aepeOIZNXDVFyGrSMpjsRiM3MaSvJTOupmhvwddfy/zAKTJGNUmDcC2f52C+g78B0GmUF3puLDAAAAAASUVORK5CYII=","aspectRatio":0.9515859766277128,"src":"/pycharm/guide/static/5772649565abb3a7a67f9dbf9afba0c5/e29da/headshot.png","srcSet":"/pycharm/guide/static/5772649565abb3a7a67f9dbf9afba0c5/a3004/headshot.png 250w,\n/pycharm/guide/static/5772649565abb3a7a67f9dbf9afba0c5/90fcb/headshot.png 500w,\n/pycharm/guide/static/5772649565abb3a7a67f9dbf9afba0c5/e29da/headshot.png 570w","sizes":"(max-width: 570px) 100vw, 570px"}}}}}}]},"technologies":{"edges":[{"node":{"fields":{"slug":"/technologies/angular/"},"frontmatter":{"label":"angular"}}},{"node":{"fields":{"slug":"/technologies/cra/"},"frontmatter":{"label":"cra"}}},{"node":{"fields":{"slug":"/technologies/emmet/"},"frontmatter":{"label":"emmet"}}},{"node":{"fields":{"slug":"/technologies/enzyme/"},"frontmatter":{"label":"enzyme"}}},{"node":{"fields":{"slug":"/technologies/jest/"},"frontmatter":{"label":"jest"}}},{"node":{"fields":{"slug":"/technologies/nodejs/"},"frontmatter":{"label":"nodejs"}}},{"node":{"fields":{"slug":"/technologies/pytest/"},"frontmatter":{"label":"pytest"}}},{"node":{"fields":{"slug":"/technologies/typescript/"},"frontmatter":{"label":"typescript"}}},{"node":{"fields":{"slug":"/technologies/react/"},"frontmatter":{"label":"react"}}}]},"topics":{"edges":[{"node":{"fields":{"slug":"/topics/debugging/"},"frontmatter":{"label":"debugging"}}},{"node":{"fields":{"slug":"/topics/editing/"},"frontmatter":{"label":"editing"}}},{"node":{"fields":{"slug":"/topics/database/"},"frontmatter":{"label":"database"}}},{"node":{"fields":{"slug":"/topics/ide/"},"frontmatter":{"label":"ide"}}},{"node":{"fields":{"slug":"/topics/navigation/"},"frontmatter":{"label":"navigation"}}},{"node":{"fields":{"slug":"/topics/navigationbar/"},"frontmatter":{"label":"navigationbar"}}},{"node":{"fields":{"slug":"/topics/python/"},"frontmatter":{"label":"python"}}},{"node":{"fields":{"slug":"/topics/javascript/"},"frontmatter":{"label":"javascript"}}},{"node":{"fields":{"slug":"/topics/running/"},"frontmatter":{"label":"running"}}},{"node":{"fields":{"slug":"/topics/speedsearch/"},"frontmatter":{"label":"speedsearch"}}},{"node":{"fields":{"slug":"/topics/vcs/"},"frontmatter":{"label":"vcs"}}},{"node":{"fields":{"slug":"/topics/web/"},"frontmatter":{"label":"web"}}},{"node":{"fields":{"slug":"/topics/testing/"},"frontmatter":{"label":"testing"}}}]}},"pageContext":{"isCreatedByStatefulCreatePages":false}}