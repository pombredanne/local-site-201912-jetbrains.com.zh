{"data":{"resource":{"html":"<p>In <a href=\"../class_props/\">Class Components With Props</a> we made a child component\nusing a class, with one property passed in. We used classes for child\ncomponents when they have state or need hooking into one of React's\nlifecycle methods.</p>\n<p>That's the topic of this step. We're want a reusable counter component\nthat internally keeps a count of clicks.</p>\n<p>This step, though, will be just the minimum: no actual clicking to update\nstate, for example. We will stick to introducing component state and\nmodeling it in TypeScript.</p>\n<h2>Code</h2>\n<p>The finished code for this tutorial step is\n<a href=\"https://github.com/JetBrains/pycharm_guide/tree/master/demos/tutorials/react_typescript_tdd/class_state\">in the repository</a>.</p>\n<h2>Always Start With a Test</h2>\n<p>It's becoming our pattern: </p>\n<ul>\n<li>\n<p>We write a <em>failing</em> test first</p>\n</li>\n<li>\n<p>Then <em>implement</em> the presentation component</p>\n</li>\n<li>\n<p>Then wire it into the <em>parent</em> </p>\n</li>\n</ul>\n<p>To begin, have <code class=\"language-text\">Counter.tsx</code> in the left-hand tab and <code class=\"language-text\">Counter.test.tsx</code>\nin the right-hand tab. Also, stop the <code class=\"language-text\">start</code> process if it is running\nand make sure the <code class=\"language-text\">Jest</code> run config is running.</p>\n<p>Here's a <code class=\"language-text\">Counter.test.tsx</code> test to show that the counter starts at zero,\nwhich <em>fails</em>, because we have a static <code class=\"language-text\">&lt;span&gt;1&lt;/span&gt;</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token function\">it</span><span class=\"token punctuation\">(</span><span class=\"token string\">'should default start at zero'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> wrapper <span class=\"token operator\">=</span> <span class=\"token function\">shallow</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&lt;</span>Counter label<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">'Current'</span><span class=\"token punctuation\">}</span><span class=\"token operator\">/</span><span class=\"token operator\">></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>wrapper<span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.counter span'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">text</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBe</span><span class=\"token punctuation\">(</span><span class=\"token string\">'0'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Over in <code class=\"language-text\">Counter.tsx</code>, let's first write the interface for our <em>state</em>.\nWhat does the local state look like? Pretty easy:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">interface</span> <span class=\"token class-name\">ICounterState</span> <span class=\"token punctuation\">{</span>\n    count<span class=\"token punctuation\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Now the class definition and constructor can setup state, which we'll use\nin the <code class=\"language-text\">render</code> method:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Counter</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Component</span><span class=\"token operator\">&lt;</span>ICounterProps<span class=\"token punctuation\">,</span> ICounterState<span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">static</span> defaultProps <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n        label<span class=\"token punctuation\">:</span> <span class=\"token string\">'Count'</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">constructor</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">:</span> ICounterProps<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n            count<span class=\"token punctuation\">:</span> <span class=\"token number\">0</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n            <span class=\"token operator\">&lt;</span>div className<span class=\"token operator\">=</span><span class=\"token string\">\"counter\"</span><span class=\"token operator\">></span>\n                <span class=\"token operator\">&lt;</span>label<span class=\"token operator\">></span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>label<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>label<span class=\"token operator\">></span>\n                <span class=\"token operator\">&lt;</span>span<span class=\"token operator\">></span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>count<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>span<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Several things changed in this:</p>\n<ul>\n<li>\n<p><code class=\"language-text\">Component&lt;&gt;</code> has a second generic, for the state</p>\n</li>\n<li>\n<p>We added a class <code class=\"language-text\">constructor</code></p>\n</li>\n<li>\n<p>This constructor is passed the props (which we'll use in a moment)</p>\n</li>\n<li>\n<p>The constructor <em>must</em> call the superclass's constructor</p>\n</li>\n<li>\n<p>We assign some local state</p>\n</li>\n</ul>\n<p>Note that, when tying in the JSX/TSX, we got autocompletion not only\non <code class=\"language-text\">.state</code>, but also <code class=\"language-text\">.count</code>. That's the value of making an interface.</p>\n<h2>Starting Value</h2>\n<p>Sometimes we want a counter that starts somewhere besides zero. Let's pass\nin an optional prop for the starting value. First, the test in\n<code class=\"language-text\">Counter.test.tsx</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token function\">it</span><span class=\"token punctuation\">(</span><span class=\"token string\">'should custom start at another value'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> wrapper <span class=\"token operator\">=</span> <span class=\"token function\">shallow</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&lt;</span>Counter label<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">'Current'</span><span class=\"token punctuation\">}</span> start<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">10</span><span class=\"token punctuation\">}</span><span class=\"token operator\">/</span><span class=\"token operator\">></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>wrapper<span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.counter span'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">text</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBe</span><span class=\"token punctuation\">(</span><span class=\"token string\">'10'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>As before, our test fails, but before that, our IDE warns us that we have\nviolated the <code class=\"language-text\">&lt;Counter/&gt;</code> contract. </p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/pycharm/guide/static/fac7f1a4738d1922b96c70577e5d5ba6/0309e/no_start.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 1080px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAA7EAAAOxAGVKw4bAAACAklEQVQoz1VS2XarMBDjb8pmwMYLpM1GCFmahYQs/f8fUWVub0/zoDP2YayRxATaOSRpjErlqFyNVAikqUeKJEkQx/F4l6VBnueY1A4VUTsFawoUhUCWESKFEBkCbS2KXKCUOaLIEySI4ojnEGEYjYQiy6CtQ6kKVJWBIypXjIRKS0idQ/GbkgqBsRXZBWyZoWlqLKYOTjsqqTGZlKNKqSQMCaWUqCtLUgtrJVSZI5cZv+dUmlFpToXGWxaUKzjhR3qajfZ8k1foz4Y2dUmbjmROoyKhprJS+1qiJLkxyhNayIwqBK2JfCQIw/AFggMNiXws/rHmQ2dI4K3qgiophi4c4wukLEdVCXNbNg2G+x399YL+cvmtl+GK2+OO++OG+/OBx9cDz68bns8bztcep/6E4/mItlsjWCwbLJYrfEznWG+2GIYe1/OZZAObBzZf2dzjcDphfzyi2+6w3X9i8x+7/S+aloRnNu0Pp/GyXK3xzjXSRQFDC5rZqZKrIWPmKUcopf6t1A/+nqt6gmB3+EQ/3Kig5/RPrNoO8/kchnklid/HhDUa/3aaJL+7GcfRSw3f3jCdzREs1x3Whwua7Rmzdg87mSOTFkJWSAm/rH4DXsC9/IuM8EpdVSNoux2V7ZnfDqtuiw9OeZ/OmOkPZosX+LwbulitPTYjWr5rWTtyfANVpWwmun89pAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"No Start Prop Allowed\"\n        title=\"\"\n        src=\"/pycharm/guide/static/fac7f1a4738d1922b96c70577e5d5ba6/e9c61/no_start.png\"\n        srcset=\"/pycharm/guide/static/fac7f1a4738d1922b96c70577e5d5ba6/4ca17/no_start.png 270w,\n/pycharm/guide/static/fac7f1a4738d1922b96c70577e5d5ba6/22492/no_start.png 540w,\n/pycharm/guide/static/fac7f1a4738d1922b96c70577e5d5ba6/e9c61/no_start.png 1080w,\n/pycharm/guide/static/fac7f1a4738d1922b96c70577e5d5ba6/0309e/no_start.png 1280w\"\n        sizes=\"(max-width: 1080px) 100vw, 1080px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>We'll fix the interface in <code class=\"language-text\">Counter.tsx</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">interface</span> <span class=\"token class-name\">ICounterProps</span> <span class=\"token punctuation\">{</span>\n    label<span class=\"token operator\">?</span><span class=\"token punctuation\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n<span class=\"gatsby-highlight-code-line\">    start<span class=\"token operator\">?</span><span class=\"token punctuation\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span></span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Then, add it to the <code class=\"language-text\">defaultProps</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">static</span> defaultProps <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    label<span class=\"token punctuation\">:</span> <span class=\"token string\">'Count'</span><span class=\"token punctuation\">,</span>\n<span class=\"gatsby-highlight-code-line\">    start<span class=\"token punctuation\">:</span> <span class=\"token number\">0</span></span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Finally, change the component <em>state</em> to get its initial value from the\ncomponent <em>props</em>:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">constructor</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">:</span> ICounterProps<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n<span class=\"gatsby-highlight-code-line\">        count<span class=\"token punctuation\">:</span> props<span class=\"token punctuation\">.</span>start</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>When we do this, though, TypeScript gets mad:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Error:(21, 13) TS2322: Type &#39;number | undefined&#39; is not assignable \nto type &#39;number&#39;. Type &#39;undefined&#39; is not assignable to type &#39;number&#39;.</code></pre></div>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/pycharm/guide/static/c1d75f7571b8e86b3ef55803a948b019/0309e/undefined_not_number.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 1080px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAB/klEQVQoz2WS65KaQBCFeZpNEBnmyoDowiqgiJcYo3n/Jzk5M1ZqN5UfXzU19PScPt2Jtg5aKVRWodQ5FlmGNF1gsXiRpilEIWFcidJpNM0KdWVReQ1rCgiRQxY5Mt7Lc4HE+hpWCTgt4ayOl5d5/mK5jEip4LyPBavaw3tFJKyV0BRibAGlJAreTWxZw8gc3jLR8KcxKFhARmSMxlrY0vNBg3rFwqXmGf9pwVwBrQuqy5ELKjRMFHkGr/iK1vEwqMyoLLSbpt9jO64KhQzKqmK7VFi+lBl2ZalSs0ttNBJfV1QhsPEG7aaLrQWVQZ1g8fCyEAU8C4aL1jkWk2yfLbvQMv01Mqq3JDnMJ/x8PMkDj99P3J9P3H7dcf5xxXw543g+YSYnfl9uV+yGngXpJQVYR5X01ZG6cowOyTjNGI8XDIcJI5kOI6Zxz+8j9tMxxmE/oedZPx6waTuUfgVfN/+xajZILqcZE1V22x7dbkATvKKXJb1xUkUV2iyjv1rrOKBChokWERGjjN77qkYyseDt/sD5eqPKI7qPHdq2jau0yMLqZBxKGgfzl9ewPgn7+u3tjSvFgh/DiH6+oR1PWG8nmGoDoTxyslRVXNa4El8Jw/pCGF7Y13rVIOnHKfoU/NkNe6zfW6w375+8d//QbXfY9iNzx5gfCHd7xuD1Hwsiae9UO07KAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Undefined Not A Number\"\n        title=\"\"\n        src=\"/pycharm/guide/static/c1d75f7571b8e86b3ef55803a948b019/e9c61/undefined_not_number.png\"\n        srcset=\"/pycharm/guide/static/c1d75f7571b8e86b3ef55803a948b019/4ca17/undefined_not_number.png 270w,\n/pycharm/guide/static/c1d75f7571b8e86b3ef55803a948b019/22492/undefined_not_number.png 540w,\n/pycharm/guide/static/c1d75f7571b8e86b3ef55803a948b019/e9c61/undefined_not_number.png 1080w,\n/pycharm/guide/static/c1d75f7571b8e86b3ef55803a948b019/0309e/undefined_not_number.png 1280w\"\n        sizes=\"(max-width: 1080px) 100vw, 1080px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>We said the <code class=\"language-text\">start</code> property was optional, by putting a <code class=\"language-text\">?</code> in the\ninterface field. As the compiler error explains, this means it can be\na <code class=\"language-text\">number</code> <em>or</em> a <code class=\"language-text\">null</code>. In the component <em>state</em>, though, we say\nit can only be a <code class=\"language-text\">number</code>.</p>\n<p><a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-7.html\">TypeScript 2.7</a>\nprovides an elegant fix for this with <em>definite assignment assertion</em>.\nSometimes you know better than the compiler. At the point of assignment,\nmake an \"I'm sure\" assignment -- a <em>definite</em> assignment -- by suffixing the\nvalue with an exclamation:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">constructor</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">:</span> ICounterProps<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n<span class=\"gatsby-highlight-code-line\">        count<span class=\"token punctuation\">:</span> props<span class=\"token punctuation\">.</span>start<span class=\"token operator\">!</span></span>        \n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Alas, as of this writing, ESLint has a parser error on this. Instead,\nlet's put a type guard around the assignment of the prop to the state:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">constructor</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">:</span> ICounterProps<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> count<span class=\"token punctuation\">:</span> <span class=\"token builtin\">number</span> <span class=\"token operator\">=</span> props<span class=\"token punctuation\">.</span>start <span class=\"token operator\">?</span> props<span class=\"token punctuation\">.</span>start <span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>count<span class=\"token punctuation\">:</span> count<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Not only is the compiler happy, but our test is happy. We have a\n<code class=\"language-text\">&lt;Counter/&gt;</code> component which shows a value from local component state and\nwhich can optionally be passed in a starting value.</p>\n<h2>Wire Into UI</h2>\n<p>We wrap up each step by wiring the standalone component changes into the\nparent component, first through testing, then by looking in the browser.\nFirst up, we open <code class=\"language-text\">App.test.tsx</code> and add a single line to test the\ninitial counter value:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token function\">it</span><span class=\"token punctuation\">(</span><span class=\"token string\">'renders the app and the heading'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> wrapper <span class=\"token operator\">=</span> <span class=\"token function\">mount</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&lt;</span>App<span class=\"token operator\">/</span><span class=\"token operator\">></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>wrapper<span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span><span class=\"token string\">'h1'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">text</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBe</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Hello React'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>wrapper<span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.counter label'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">text</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBe</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Current'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"gatsby-highlight-code-line\">    <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>wrapper<span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.counter span'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">text</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBe</span><span class=\"token punctuation\">(</span><span class=\"token string\">'0'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>What changes in <code class=\"language-text\">App.tsx</code>? In this case, nothing. We want to use the default\nvalue of zero.</p>\n<p>If you'd like, restart the <code class=\"language-text\">start</code> run configuration and view this in the\nbrowser, so make sure everything still looks good. When done, terminate the\n<code class=\"language-text\">start</code> script.</p>","id":"a7c7d060-803c-560b-a596-97d61bc22f4e","fields":{"slug":"/tutorials/react_typescript_tdd/class_state/"},"frontmatter":{"type":"tutorialstep","date":"July 7th, 2017","title":"Model Class State With TypeScript Interfaces","subtitle":"Make a very simple class component with local counter state, then make an interface for that state.","author":"pauleveritt","technologies":["react","typescript","jest"],"topics":[],"leadin":null,"seealso":null,"longVideo":{"url":"https://www.youtube.com/watch?v=CTPfG3FpDwk","poster":{"publicURL":"/pycharm/guide/static/poster_long-c1d75f7571b8e86b3ef55803a948b019.png","childImageSharp":{"fluid":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAB/klEQVQoz2WS65KaQBCFeZpNEBnmyoDowiqgiJcYo3n/Jzk5M1ZqN5UfXzU19PScPt2Jtg5aKVRWodQ5FlmGNF1gsXiRpilEIWFcidJpNM0KdWVReQ1rCgiRQxY5Mt7Lc4HE+hpWCTgt4ayOl5d5/mK5jEip4LyPBavaw3tFJKyV0BRibAGlJAreTWxZw8gc3jLR8KcxKFhARmSMxlrY0vNBg3rFwqXmGf9pwVwBrQuqy5ELKjRMFHkGr/iK1vEwqMyoLLSbpt9jO64KhQzKqmK7VFi+lBl2ZalSs0ttNBJfV1QhsPEG7aaLrQWVQZ1g8fCyEAU8C4aL1jkWk2yfLbvQMv01Mqq3JDnMJ/x8PMkDj99P3J9P3H7dcf5xxXw543g+YSYnfl9uV+yGngXpJQVYR5X01ZG6cowOyTjNGI8XDIcJI5kOI6Zxz+8j9tMxxmE/oedZPx6waTuUfgVfN/+xajZILqcZE1V22x7dbkATvKKXJb1xUkUV2iyjv1rrOKBChokWERGjjN77qkYyseDt/sD5eqPKI7qPHdq2jau0yMLqZBxKGgfzl9ewPgn7+u3tjSvFgh/DiH6+oR1PWG8nmGoDoTxyslRVXNa4El8Jw/pCGF7Y13rVIOnHKfoU/NkNe6zfW6w375+8d//QbXfY9iNzx5gfCHd7xuD1Hwsiae9UO07KAAAAAElFTkSuQmCC","aspectRatio":1.7777777777777777,"src":"/pycharm/guide/static/c1d75f7571b8e86b3ef55803a948b019/c2a4f/poster_long.png","srcSet":"/pycharm/guide/static/c1d75f7571b8e86b3ef55803a948b019/a3004/poster_long.png 250w,\n/pycharm/guide/static/c1d75f7571b8e86b3ef55803a948b019/90fcb/poster_long.png 500w,\n/pycharm/guide/static/c1d75f7571b8e86b3ef55803a948b019/c2a4f/poster_long.png 1000w,\n/pycharm/guide/static/c1d75f7571b8e86b3ef55803a948b019/062d3/poster_long.png 1280w","sizes":"(max-width: 1000px) 100vw, 1000px"}}}}}},"tutorials":{"edges":[{"node":{"fields":{"slug":"/tutorials/react_typescript_tdd/"},"frontmatter":{"title":"React, TypeScript, and TDD","steps":["project_setup","project_cleanup","testing","nodejs_debugging","chrome_debugging","tsx_es6","functional_components","props","class_props","class_state","rich_events_and_testing","presentation_components"]}}}]},"tutorialsteps":{"edges":[{"node":{"fields":{"slug":"/tutorials/react_typescript_tdd/chrome_debugging/"},"frontmatter":{"title":"Debugging TSX With Chrome"}}},{"node":{"fields":{"slug":"/tutorials/react_typescript_tdd/class_state/"},"frontmatter":{"title":"Model Class State With TypeScript Interfaces"}}},{"node":{"fields":{"slug":"/tutorials/react_typescript_tdd/class_props/"},"frontmatter":{"title":"Class Components With Props"}}},{"node":{"fields":{"slug":"/tutorials/react_typescript_tdd/functional_components/"},"frontmatter":{"title":"Functional React Components in TypeScript"}}},{"node":{"fields":{"slug":"/tutorials/react_typescript_tdd/nodejs_debugging/"},"frontmatter":{"title":"Debugging During Testing With NodeJS"}}},{"node":{"fields":{"slug":"/tutorials/react_typescript_tdd/project_cleanup/"},"frontmatter":{"title":"Project Cleanup"}}},{"node":{"fields":{"slug":"/tutorials/react_typescript_tdd/project_setup/"},"frontmatter":{"title":"Project Setup"}}},{"node":{"fields":{"slug":"/tutorials/react_typescript_tdd/rich_events_and_testing/"},"frontmatter":{"title":"Rich Events and Testing"}}},{"node":{"fields":{"slug":"/tutorials/react_typescript_tdd/props/"},"frontmatter":{"title":"Sharing Props Using Type Information"}}},{"node":{"fields":{"slug":"/tutorials/react_typescript_tdd/testing/"},"frontmatter":{"title":"Testing"}}},{"node":{"fields":{"slug":"/tutorials/react_typescript_tdd/presentation_components/"},"frontmatter":{"title":"Presentation and Container Components"}}},{"node":{"fields":{"slug":"/tutorials/react_typescript_tdd/tsx_es6/"},"frontmatter":{"title":"TSX and ES6"}}}]},"authors":{"edges":[{"node":{"fields":{"slug":"/authors/pwe/"},"frontmatter":{"title":"Paul Everitt","label":"pauleveritt","headshot":{"publicURL":"/pycharm/guide/static/headshot-844cb975614ea03b2ca3b25e5e3ee531.jpg","childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGAABAAMBAAAAAAAAAAAAAAAAAAECAwT/xAAXAQEBAQEAAAAAAAAAAAAAAAADAgAB/9oADAMBAAIQAxAAAAGLZWJOZDHrzjd2FT//xAAcEAEAAgIDAQAAAAAAAAAAAAABAgMAERIhIjH/2gAIAQEAAQUCp1KVsQH7Ug2dZsx8jJ5BvP/EABcRAAMBAAAAAAAAAAAAAAAAAAEQIUH/2gAIAQMBAT8BAixf/8QAFxEBAQEBAAAAAAAAAAAAAAAAAQAQEf/aAAgBAgEBPwHEuF//xAAaEAACAgMAAAAAAAAAAAAAAAAAARARIjEy/9oACAEBAAY/AqMXDRzRotQz/8QAGxAAAwEBAAMAAAAAAAAAAAAAAAERITFBUWH/2gAIAQEAAT8hTG8U6sRsPwrVhFVMRDUwluiVHI+URp7P/9oADAMBAAIAAwAAABBUPzz/xAAWEQEBAQAAAAAAAAAAAAAAAAABABH/2gAIAQMBAT8QJbZC6tv/xAAXEQEBAQEAAAAAAAAAAAAAAAAAASFh/9oACAECAQE/EGoSxyf/xAAeEAEAAgICAwEAAAAAAAAAAAABABEhMVFhQXGRof/aAAgBAQABPxAggaHh81G1RFNov0gWVlbWxbXetRkggVXdBiJD9ZhDaYF9MyBQ6+Y+hkph6J//2Q==","aspectRatio":1,"src":"/pycharm/guide/static/844cb975614ea03b2ca3b25e5e3ee531/7ef6a/headshot.jpg","srcSet":"/pycharm/guide/static/844cb975614ea03b2ca3b25e5e3ee531/80b6c/headshot.jpg 250w,\n/pycharm/guide/static/844cb975614ea03b2ca3b25e5e3ee531/7ef6a/headshot.jpg 400w","sizes":"(max-width: 400px) 100vw, 400px"}}}}}},{"node":{"fields":{"slug":"/authors/wht/"},"frontmatter":{"title":"Bill Tucker","label":"wht","headshot":{"publicURL":"/pycharm/guide/static/headshot-5772649565abb3a7a67f9dbf9afba0c5.png","childImageSharp":{"fluid":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAAsSAAALEgHS3X78AAAFOUlEQVQ4y12U2U9jVRzH778wRl+MyzjAbJTCDFA6UAbosAxrodCW0tvbhVK60n1jClJgyjplpiyzu4xb4iSauERjog9Goy8mRs08zIMx+uSD/gfm42k1E+PDN+fm5nc+5/tbzpHGp0wYzRampq1YZmxMV2SzYVdkXM4ZFJsZuzyN7FCwKXZmZFtVVpuIt05jspiZNE0ybjQwahhBqkBmZAW7w4msOJmd8xCPzJOPyESUISb7tYzqtcxMjuB2zODyzKI4HSJeEfGy2DvzL1gYm5pAkp0unG5PVbF4hN2raXIRBx5zL3pNPepTJ+jpaKWjpZHWs7XYzRPMzXtxe9w4XA4Bt2OzVxxPY542IbnnvCLAj9cf5Pb+GrmglWmDns5WFaqaF7hQfxJd01mef+YpVC89h76lgYmhfrHHg8c7i2vWWYXKSiVTK5IvGGI+GCa3mCEXczF6qQ39hXNM6M7jH+oiPTlI3HCJ8TYVPQ216BrEAY1nGB8ZJBAKVKFuTyXLShlkpHA0RkhoaXmRQsaLTtNEl9iQnejnmmLkzZCTjxdDvJvysGzuw9R5DqOo6Yi+A5/fiy/oq7qdnXNXoVI0mSKWypBJRxnr06FpUqH068gb+ygrk3ySDfDVepKfyqs8ulXk89Ii7jE9A50aPCLdcDSMX0C9vrkqVEpksmSu5AmIn3UvPU+bAM4NXmRl6jK3XdN8mlvgu80lfn9wxF+fvQdff8gbmzmmBruxW01EYguEFoJPoFJuabkKXCoUGBnqo1V9BmefltnedibbWwj2XuAtzxQF4wA3Ay4eP9hhP2ZHsRjwzzkIL4RYEC5D4UAVKi0VVsmvFFheXcXnkTl/uoaJDhW9jSdpqjnOgLqGDyI23Do1js5WPsi7eTvrImkaYS0mYPEYkejCP1DhVFpZv8rLq2usbG6Sd8lYNGpChm7RWR1zPc042tR8v1Xg0f4qbwUt/Pxgg1/e2ecjr43ygo9wKkksFq2mHo6EkFaLGxTW11m7tktyyoi7RUV4tIdFMYthfRtDZ+oomsb4cjHGo1KBP997nd9e2+OHl+NsZZOEhMNYIlYFVlxKV7e2Wd/c4OruLsuVAnc1ExzuInG5G/9FLYbGelbHh/l2bYkfS0X+ePgav75a4pd7JfLpBJFEBRglKm5ZBSpt7u6wsbP9jzaLZGwTBC7r8OvbMbWokVub2Rkb5aEo+JHDzONbu/x8e4sbKVE/AUsk/wfc2SuxXbrGVgUstFZcx9nfibuzBUXcmGCnlptiPL5dyYoxMvHFWpJvdvMkRVfj6RSJVIL4f6DStRvX2b2+RwVccbstvgOKmYHGU9hFV9N9Xbwf9PL4aIeHuSD7XgsPMh7SiXnSuSwpkXYiFX8Clfb2y5TKN6iAd4TTHbFeSUXpUtVyUX2SHrFONtezbBkiM9XLumwgnxxjY17PYi5NMpt5Aq0Cy0eH3Dg84PpBWUD32Ds4IJsOMiyerovqOprqnqOx7lkM2rNERsQoxYYJu7UcuTRsh8bICJfxtFClOZWUD2/f4uDmkQAecHjnLqmkH237CcYuNNB7/ox4A4/TfvpFDN1qRr06uidUFK3NbCqtrFvPUfQNi0clQDKdFEMeR7p59w4HAnT/lTtsLMdo1hyn5sQxjNp69E21XKo/wcjlRgbjXbSa1Th7T1L2tJM1NrAwfJYVS6OAayhFxliKzyLduneP+4dFyosyfZdOc7z+aepeOIZNXDVFyGrSMpjsRiM3MaSvJTOupmhvwddfy/zAKTJGNUmDcC2f52C+g78B0GmUF3puLDAAAAAASUVORK5CYII=","aspectRatio":0.9515859766277128,"src":"/pycharm/guide/static/5772649565abb3a7a67f9dbf9afba0c5/e29da/headshot.png","srcSet":"/pycharm/guide/static/5772649565abb3a7a67f9dbf9afba0c5/a3004/headshot.png 250w,\n/pycharm/guide/static/5772649565abb3a7a67f9dbf9afba0c5/90fcb/headshot.png 500w,\n/pycharm/guide/static/5772649565abb3a7a67f9dbf9afba0c5/e29da/headshot.png 570w","sizes":"(max-width: 570px) 100vw, 570px"}}}}}}]},"technologies":{"edges":[{"node":{"fields":{"slug":"/technologies/angular/"},"frontmatter":{"label":"angular"}}},{"node":{"fields":{"slug":"/technologies/cra/"},"frontmatter":{"label":"cra"}}},{"node":{"fields":{"slug":"/technologies/emmet/"},"frontmatter":{"label":"emmet"}}},{"node":{"fields":{"slug":"/technologies/enzyme/"},"frontmatter":{"label":"enzyme"}}},{"node":{"fields":{"slug":"/technologies/jest/"},"frontmatter":{"label":"jest"}}},{"node":{"fields":{"slug":"/technologies/nodejs/"},"frontmatter":{"label":"nodejs"}}},{"node":{"fields":{"slug":"/technologies/pytest/"},"frontmatter":{"label":"pytest"}}},{"node":{"fields":{"slug":"/technologies/typescript/"},"frontmatter":{"label":"typescript"}}},{"node":{"fields":{"slug":"/technologies/react/"},"frontmatter":{"label":"react"}}}]},"topics":{"edges":[{"node":{"fields":{"slug":"/topics/debugging/"},"frontmatter":{"label":"debugging"}}},{"node":{"fields":{"slug":"/topics/editing/"},"frontmatter":{"label":"editing"}}},{"node":{"fields":{"slug":"/topics/database/"},"frontmatter":{"label":"database"}}},{"node":{"fields":{"slug":"/topics/ide/"},"frontmatter":{"label":"ide"}}},{"node":{"fields":{"slug":"/topics/navigation/"},"frontmatter":{"label":"navigation"}}},{"node":{"fields":{"slug":"/topics/navigationbar/"},"frontmatter":{"label":"navigationbar"}}},{"node":{"fields":{"slug":"/topics/python/"},"frontmatter":{"label":"python"}}},{"node":{"fields":{"slug":"/topics/javascript/"},"frontmatter":{"label":"javascript"}}},{"node":{"fields":{"slug":"/topics/running/"},"frontmatter":{"label":"running"}}},{"node":{"fields":{"slug":"/topics/speedsearch/"},"frontmatter":{"label":"speedsearch"}}},{"node":{"fields":{"slug":"/topics/vcs/"},"frontmatter":{"label":"vcs"}}},{"node":{"fields":{"slug":"/topics/web/"},"frontmatter":{"label":"web"}}},{"node":{"fields":{"slug":"/topics/testing/"},"frontmatter":{"label":"testing"}}}]}},"pageContext":{"isCreatedByStatefulCreatePages":false}}